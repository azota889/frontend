!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var n=0;n<i.length;n++){var c=i[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}function n(e,n,c){return n&&i(e.prototype,n),c&&i(e,c),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{EXc1:function(i,c,t){"use strict";t.d(c,"a",function(){return Xe});var o=t("fXoL"),r=t("pMRa"),a=t("3Pt+"),s=t("gbi4"),l=t("ofXK"),b=t("STbY"),d=t("NFeN"),h=t("IU+r"),m=t("Qu3c"),g=t("bSwM"),f=t("quSY"),u=t("bTqV");function p(e,i){1&e&&(o.Vb(0,"span"),o.Sc(1,"Ch\u01b0a c\xf3 file \u0111\u01b0\u1ee3c ch\u1ecdn"),o.Ub())}function v(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",32),o.Vb(1,"div",33),o.cc("click",function(e){return e.stopPropagation()}),o.Vb(2,"div",34),o.Qb(3,"img",35),o.Ub(),o.Vb(4,"div",36),o.Sc(5),o.Ub(),o.Vb(6,"div",37),o.Vb(7,"button",38),o.cc("click",function(e){return o.Ec(n),o.gc(3).removeFile(e)}),o.Sc(8,"X\xf3a"),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&e){var c=o.gc(3);o.Db(5),o.Tc(c.file?c.file.name:"")}}function k(e,i){if(1&e&&(o.Vb(0,"span",39),o.Sc(1),o.Ub()),2&e){var n=o.gc(3);o.Db(1),o.Tc(n.form_obj?n.form_obj:"K\xe9o th\u1ea3 file Excel ho\u1eb7c Click \u0111\u1ec3 ch\u1ecdn file")}}function x(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",20),o.Vb(1,"div",21),o.cc("click",function(){return o.Ec(n),o.Ac(8).click()}),o.Vb(2,"div",22),o.Vb(3,"div",23),o.Vb(4,"a",24),o.Vb(5,"mat-icon"),o.Sc(6,"cloud_upload"),o.Ub(),o.Ub(),o.Vb(7,"input",25,26),o.cc("change",function(e){return o.Ec(n),o.gc(2).onFileSelected(e)}),o.Ub(),o.Qc(9,p,2,0,"span",27),o.Qc(10,v,9,1,"ng-template",null,28,o.Rc),o.Qc(12,k,2,1,"span",29),o.Ub(),o.Ub(),o.Ub(),o.Vb(13,"div",30),o.Vb(14,"a",31),o.Vb(15,"span"),o.Sc(16,"T\u1ea3i file bi\u1ec3u m\u1eabu "),o.Ub(),o.Vb(17,"mat-icon"),o.Sc(18,"save_alt"),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&e){var c=o.Ac(11),t=o.gc(2);o.Db(9),o.nc("ngIf",!t.file)("ngIfElse",c),o.Db(3),o.nc("ngIf",!t.file)}}function P(e,i){1&e&&(o.Vb(0,"div"),o.Sc(1," B\u1ea1n c\u1ea7n nh\u1eadp t\xean gi\xe1o vi\xean! "),o.Ub())}function S(e,i){if(1&e&&(o.Vb(0,"div",47),o.Qc(1,P,2,0,"div",19),o.Ub()),2&e){var n=o.gc(3);o.Db(1),o.nc("ngIf",n.getErrorType("fullName","required"))}}function O(e,i){1&e&&(o.Vb(0,"div"),o.Sc(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),o.Ub())}function V(e,i){1&e&&(o.Vb(0,"div"),o.Sc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),o.Ub())}function U(e,i){if(1&e&&(o.Vb(0,"div",47),o.Qc(1,O,2,0,"div",19),o.Qc(2,V,2,0,"div",19),o.Ub()),2&e){var n=o.gc(3);o.Db(1),o.nc("ngIf",n.getErrorType("phone","required")),o.Db(1),o.nc("ngIf",n.getErrorType("phone","minlength")||n.getErrorType("phone","maxlength"))}}function D(e,i){if(1&e&&(o.Vb(0,"div",20),o.Vb(1,"div",40),o.Vb(2,"label",41),o.Sc(3,"H\u1ecd v\xe0 t\xean"),o.Ub(),o.Vb(4,"div",42),o.Qb(5,"input",43),o.Ub(),o.Qc(6,S,2,1,"div",44),o.Ub(),o.Ub(),o.Vb(7,"div",20),o.Vb(8,"div",40),o.Vb(9,"label",45),o.Sc(10,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),o.Ub(),o.Vb(11,"div",42),o.Qb(12,"input",46),o.Ub(),o.Qc(13,U,3,2,"div",44),o.Ub(),o.Ub()),2&e){var n=o.gc(2);o.Db(6),o.nc("ngIf",n.form.controls.fullName.invalid&&n.form.controls.fullName.dirty),o.Db(7),o.nc("ngIf",n.form.controls.phone.invalid&&n.form.controls.phone.dirty)}}function y(e,i){1&e&&(o.Vb(0,"span"),o.Qb(1,"span",48),o.Sc(2,"\xa0"),o.Ub())}function T(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",1),o.Vb(1,"div",2),o.Vb(2,"form",3),o.Vb(3,"div",4),o.Vb(4,"p",5),o.Sc(5,"Th\xeam gi\xe1o vi\xean"),o.Ub(),o.Vb(6,"button",6),o.cc("click",function(){return o.Ec(n),o.gc().btnCloseDialog(!1)}),o.Qb(7,"i",7),o.Ub(),o.Ub(),o.Qc(8,x,19,3,"div",8),o.Qc(9,D,14,2,"ng-template",null,9,o.Rc),o.Vb(11,"div",10),o.Vb(12,"div",11),o.Vb(13,"a",12),o.cc("click",function(){return o.Ec(n),o.gc().showImportExcel()}),o.Vb(14,"span",13),o.Sc(15),o.Ub(),o.Ub(),o.Ub(),o.Vb(16,"div",14),o.Vb(17,"div",15),o.Vb(18,"div",16),o.Vb(19,"button",17),o.cc("click",function(){return o.Ec(n),o.gc().btnCloseDialog(!1)}),o.Sc(20," H\u1ee7y "),o.Ub(),o.Vb(21,"button",18),o.cc("click",function(){return o.Ec(n),o.gc().confirmAction()}),o.Qc(22,y,3,0,"span",19),o.Sc(23," L\u01b0u "),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&e){var c=o.Ac(10),t=o.gc();o.Db(2),o.nc("formGroup",t.form),o.Db(6),o.nc("ngIf",t.importExcel)("ngIfElse",c),o.Db(7),o.Tc(t.importExcel?"Quay l\u1ea1i":"Nh\u1eadp t\u1eeb File Excel"),o.Db(6),o.nc("disabled",t.status_obj.loading||t.form.invalid&&!t.importExcel||1==t.importExcel&&null==t.file),o.Db(1),o.nc("ngIf",t.status_obj.loading)}}var C,w=((C=function(){function i(n,c,t){e(this,i),this.fb=n,this.commonService=c,this.apiCommonService=t,this.closeDialog=new o.o,this.subscriptions=new f.a,this.form=new a.k({}),this.isLoading=!0,this.typeString="",this.importExcel=!1,this.type=0,this.birthDay="",this.hideTime=!0,this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.file=null}return n(i,[{key:"getError",value:function(e){return!(!this.form.controls[e]||!this.form.controls[e].errors)&&this.form.controls[e].errors}},{key:"getErrorType",value:function(e,i){return!!(this.form.controls[e]&&this.form.controls[e].errors&&this.form.controls[e].errors[i])&&this.form.controls[e].errors[i]}},{key:"onFileSelected",value:function(e){var i=e.target.files;this.file=i?i[0]:this.file,this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.commonService.snackError("Vui l\xf2ng ch\u1ecdn \u0111\xfang t\u1ec7p tin Excel",""))}},{key:"removeFile",value:function(e){e.stopPropagation(),this.file=null}},{key:"confirmAction",value:function(){var e=this,i=this.commonService.getFormObj(this.form);if(this.status_obj={loading:!0,error:!1,success:!1,error_obj:{message:""}},this.importExcel){var n=new FormData;this.file&&n.append("File",this.file,this.file.name),this.subscriptions.add(this.apiCommonService.addTeacherWithExcel(n).subscribe(function(i){1==i.success?(e.btnCloseDialog(!0),e.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},e.commonService.myTranslate(["lang_cms_utils_update_folder_success"]).subscribe(function(i){e.commonService.snackSuccess(i.lang_cms_utils_update_folder_success,i.lang_cms_common_ok)})):(e.btnCloseDialog(!1),e.commonService.myTranslate([i.message,"lang_cms_common_ok"]).subscribe(function(n){e.commonService.snackError(n[i.message],n.lang_cms_common_ok)}),e.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}})}))}else this.form.valid&&this.subscriptions.add(this.apiCommonService.addTeacherObj({numberphone:i.phone,fullname:i.fullName}).subscribe(function(i){1==i.success?(e.btnCloseDialog(!0),e.commonService.snackSuccess("Th\xeam gi\xe1o vi\xean th\xe0nh c\xf4ng","")):(e.btnCloseDialog(!1),e.commonService.snackError("Th\xeam gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng","")),e.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}}}))}},{key:"btnCloseDialog",value:function(e){e?this.closeDialog.emit(e):this.closeDialog.emit()}},{key:"showImportExcel",value:function(){this.importExcel=!this.importExcel}},{key:"ngOnInit",value:function(){this.form=this.fb.group({phone:["",[a.z.required,a.z.pattern("^[0-9]*$"),a.z.minLength(10),a.z.maxLength(10)]],fullName:new a.h("",[a.z.required]),File:new a.h("")})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),i}()).\u0275fac=function(e){return new(e||C)(o.Pb(a.g),o.Pb(s.a),o.Pb(r.a))},C.\u0275cmp=o.Jb({type:C,selectors:[["azt-add-teacher"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],[1,"heading-title"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],["class","form-group",4,"ngIf","ngIfElse"],["NormalForm",""],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","col-sm-6","align-self-center","my-2"],[1,"clickable","text-info","float-left",3,"click"],[2,"vertical-align","middle"],[1,"col-12","col-sm-6","align-self-center"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"form-group"],[1,"col-sm-12","text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],[1,"px-4","py-3","rounded"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"form-control","file-input",3,"change"],["fileSelect",""],[4,"ngIf","ngIfElse"],["exitsFile",""],["class","d-block mt-20 text-dark-green mt-3",4,"ngIf"],[1,"text-center","file","mt-2"],["target","_self","href","https://5002373-s3user.cloudstorage.com.vn/viwewiin/storage_public/azota_assets/medias/excel_add_teacher_exp_v3.xlsx","download","excel_add_students_exp_v2.xlsx",1,"dz-clickable"],[1,"d-flex","align-items-center","justify-content-center","m-3"],[1,"fileinfo","p-3",3,"click"],[1,"title"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/excel.png","alt","excel icon",1,"img-fluid"],[1,"file-name"],[1,"action"],[1,"btn-remove",3,"click"],[1,"d-block","mt-20","text-dark-green","mt-3"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","id","full-name","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","number-phone",1,"text-feild"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","id","number-phone","formControlName","phone",1,"form-control"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&o.Qc(0,T,24,6,"div",0),2&e&&o.nc("ngIf",i.data.isShow)},directives:[l.m,a.B,a.s,a.l,u.b,d.a,a.d,a.r,a.j],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px rgba(91,91,91,.35)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),C),I=t("gaSO"),_=["userPermission"],j=["searchForms"],A=["EditPermissionTeacherShare"];function M(e,i){1&e&&o.Qb(0,"div",24)}var Q=function(e){return{"z-index":e}};function z(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",29),o.Vb(1,"div",30,31),o.cc("click",function(){o.Ec(n);var e=i.$implicit;return o.gc(3).senData(e,"1")}),o.Qb(3,"azt-create-avatar",32),o.Ub(),o.Ub()}if(2&e){var c=i.$implicit,t=i.index,r=o.gc(3),a=o.Ac(19);o.nc("ngStyle",o.tc(5,Q,r.styleListAvatar(t))),o.Db(1),o.nc("matMenuTriggerFor",a),o.Db(2),o.oc("matTooltip",c.fullName),o.nc("nameCreateAvatar",c.fullName)("size",28)}}function E(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",29),o.Vb(1,"div",30,31),o.cc("click",function(){o.Ec(n);var e=i.$implicit;return o.gc(3).senData(e,"0")}),o.Qb(3,"azt-create-avatar",32),o.Ub(),o.Ub()}if(2&e){var c=i.$implicit,t=i.index,r=o.gc(3),a=o.Ac(19);o.nc("ngStyle",o.tc(5,Q,r.styleListAvatar(r.teachers.length+t))),o.Db(1),o.nc("matMenuTriggerFor",a),o.Db(2),o.oc("matTooltip",c.name),o.nc("nameCreateAvatar",c.name)("size",28)}}function G(e,i){if(1&e&&(o.Vb(0,"div"),o.Vb(1,"div",27),o.Qc(2,z,4,7,"div",28),o.Qc(3,E,4,7,"div",28),o.Ub(),o.Ub()),2&e){var n=o.gc(2);o.Db(2),o.nc("ngForOf",n.teachers),o.Db(1),o.nc("ngForOf",n.groups)}}function F(e,i){if(1&e){var n=o.Wb();o.Vb(0,"button",33,34),o.cc("click",function(){return o.Ec(n),o.gc(2).buttomShare()}),o.Vb(2,"mat-icon",35),o.Sc(3,"person_add"),o.Ub(),o.Sc(4,"Chia s\u1ebb "),o.Ub()}if(2&e){o.gc(2);var c=o.Ac(40);o.nc("matMenuTriggerFor",c)}}function $(e,i){if(1&e&&(o.Qb(0,"img",40),o.hc(1,"mycdn")),2&e){var n=o.gc().$implicit;o.oc("matTooltip",n.fullname),o.oc("src",o.ic(1,2,n.avatar),o.Ic)}}function N(e,i){if(1&e&&o.Qb(0,"azt-create-avatar",32),2&e){var n=o.gc().$implicit;o.oc("matTooltip",n.fullname),o.nc("nameCreateAvatar",n.fullname)("size",28)}}function W(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",29),o.Vb(1,"div",30,37),o.cc("click",function(){o.Ec(n);var e=i.$implicit;return o.gc(3).senDataeditPermissionTeacherShare(e)}),o.Qc(3,$,2,4,"img",38),o.Qc(4,N,1,3,"azt-create-avatar",39),o.Ub(),o.Ub()}if(2&e){var c=i.$implicit,t=i.index,r=o.gc(3),a=o.Ac(3);o.nc("ngStyle",o.tc(4,Q,r.styleListAvatar(t))),o.Db(1),o.nc("matMenuTriggerFor",a),o.Db(2),o.nc("ngIf",c.avatar),o.Db(1),o.nc("ngIf",!c.avatar)}}function L(e,i){if(1&e&&(o.Vb(0,"div"),o.Vb(1,"span",36),o.Sc(2,"Gi\xe1o vi\xean chia s\u1ebb: \xa0\xa0"),o.Ub(),o.Qc(3,W,5,6,"div",28),o.Ub()),2&e){var n=o.gc(2);o.Db(3),o.nc("ngForOf",n.whoSharePermission)}}function q(e,i){if(1&e&&(o.Vb(0,"div"),o.Vb(1,"div",25),o.Qc(2,G,4,2,"div",1),o.Qc(3,F,5,1,"button",26),o.Ub(),o.Qc(4,L,4,1,"div",1),o.Ub()),2&e){var n=o.gc();o.Db(2),o.nc("ngIf",0!=n.teachers.length||0!=n.groups.length),o.Db(1),o.nc("ngIf",n.checkPermision()),o.Db(1),o.nc("ngIf",0!=n.whoSharePermission.length)}}function B(e,i){if(1&e&&(o.Qb(0,"img",41),o.hc(1,"mycdn")),2&e){var n=o.gc();o.oc("src",o.ic(1,1,n.dataGroupAndTeacer.avatar),o.Ic)}}function X(e,i){if(1&e&&o.Qb(0,"azt-create-avatar",42),2&e){var n=o.gc();o.nc("nameCreateAvatar",n.dataGroupAndTeacer.fullname)("size",93)}}function H(e,i){if(1&e&&(o.Vb(0,"h5"),o.Sc(1),o.Ub()),2&e){var n=o.gc();o.Db(1),o.Tc(n.dataGroupAndTeacer.phone)}}function R(e,i){1&e&&(o.Vb(0,"div",43),o.Qb(1,"div",44),o.Ub())}function J(e,i){if(1&e&&(o.Vb(0,"div",46),o.Sc(1),o.Ub()),2&e){var n=i.$implicit;o.Db(1),o.Uc(" ","- "+n.description," ")}}function Y(e,i){if(1&e&&(o.Vb(0,"div"),o.Qc(1,J,2,1,"div",45),o.Ub()),2&e){var n=o.gc();o.Db(1),o.nc("ngForOf",n.dataCheckerBoxAssign)}}function Z(e,i){1&e&&(o.Vb(0,"mat-icon",47),o.Sc(1," group "),o.Ub())}function K(e,i){if(1&e&&o.Qb(0,"azt-create-avatar",42),2&e){var n=o.gc();o.nc("nameCreateAvatar",n.dataGroupAndTeacer.fullName)("size",93)}}function ee(e,i){if(1&e&&(o.Vb(0,"h3",7),o.Sc(1),o.Ub()),2&e){var n=o.gc();o.Db(1),o.Tc(n.dataGroupAndTeacer.fullName)}}function ie(e,i){if(1&e&&(o.Vb(0,"h3"),o.Sc(1),o.Ub()),2&e){var n=o.gc();o.Db(1),o.Tc(n.dataGroupAndTeacer.name)}}function ne(e,i){if(1&e&&(o.Vb(0,"h5"),o.Sc(1),o.Ub()),2&e){var n=o.gc();o.Db(1),o.Tc(n.dataGroupAndTeacer.phone)}}function ce(e,i){if(1&e&&(o.Vb(0,"div"),o.Vb(1,"div",48),o.Sc(2),o.Ub(),o.Ub()),2&e){var n=i.$implicit;o.Db(2),o.Uc(" - ",n.description," ")}}function te(e,i){if(1&e&&(o.Vb(0,"div"),o.Qc(1,ce,3,1,"div",14),o.Ub()),2&e){var n=o.gc();o.Db(1),o.nc("ngForOf",n.dataGroupAndTeacer.teamPermisisons)}}function oe(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",51),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc().changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.nc("ngModel",c.checked),o.Db(1),o.Tc(c.description)}}function re(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",52),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc().changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.Db(1),o.Tc(c.description)}}function ae(e,i){if(1&e&&(o.Tb(0),o.Qc(1,oe,2,2,"mat-checkbox",49),o.Qc(2,re,2,1,"mat-checkbox",50),o.Sb()),2&e){var n=o.gc().$implicit;o.Db(1),o.nc("ngIf",n.checked),o.Db(1),o.nc("ngIf",!n.checked)}}function se(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",51),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc().changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.nc("ngModel",c.checked),o.Db(1),o.Tc(c.description)}}function le(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",52),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc().changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.Db(1),o.Tc(c.description)}}function be(e,i){if(1&e&&(o.Tb(0),o.Qc(1,se,2,2,"mat-checkbox",49),o.Qc(2,le,2,1,"mat-checkbox",50),o.Sb()),2&e){var n=o.gc().$implicit;o.Db(1),o.nc("ngIf",n.checked&&7==n.id),o.Db(1),o.nc("ngIf",!n.checked&&7==n.id)}}function de(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",51),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc().changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.nc("ngModel",c.checked),o.Db(1),o.Tc(c.description)}}function he(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",52),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc().changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.Db(1),o.Tc(c.description)}}function me(e,i){if(1&e&&(o.Tb(0),o.Qc(1,de,2,2,"mat-checkbox",49),o.Qc(2,he,2,1,"mat-checkbox",50),o.Sb()),2&e){var n=o.gc().$implicit;o.Db(1),o.nc("ngIf",n.checked),o.Db(1),o.nc("ngIf",!n.checked)}}function ge(e,i){if(1&e&&(o.Vb(0,"div"),o.Vb(1,"div",46),o.Qc(2,ae,3,2,"ng-container",1),o.hc(3,"fullPermission"),o.Qc(4,be,3,2,"ng-container",1),o.hc(5,"fullPermission"),o.hc(6,"configAndMarkPermission"),o.Qc(7,me,3,2,"ng-container",1),o.hc(8,"fullPermission"),o.hc(9,"markPointPermission"),o.Ub(),o.Ub()),2&e){var n=o.gc();o.Db(2),o.nc("ngIf",o.jc(3,3,n.permissionObj,"exam")),o.Db(2),o.nc("ngIf",!o.jc(5,6,n.permissionObj,"exam")&&o.jc(6,9,n.permissionObj,"exam")),o.Db(3),o.nc("ngIf",!o.jc(8,12,n.permissionObj,"exam")&&o.jc(9,15,n.permissionObj,"classroom")&&"CLASSROOM"==n.typeObj)}}function fe(e,i){1&e&&(o.Vb(0,"div",53),o.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn quy\u1ec1n. "),o.Ub())}function ue(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",54),o.cc("click",function(){return o.Ec(n),o.gc().Update()}),o.Sc(1,"C\u1eacP NH\u1eacT"),o.Ub()}}function pe(e,i){1&e&&(o.Vb(0,"div",61),o.Qb(1,"div",24),o.Ub())}function ve(e,i){if(1&e&&(o.Vb(0,"span",67),o.Sc(1),o.Ub()),2&e){var n=o.gc().$implicit;o.Db(1),o.Uc(" ",n.name," ")}}function ke(e,i){if(1&e&&(o.Vb(0,"span"),o.Sc(1),o.Ub()),2&e){var n=o.gc().$implicit;o.Db(1),o.Uc(" ",n.name," ")}}function xe(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",64),o.cc("click",function(){o.Ec(n);var e=i.$implicit;return o.gc(3).ShowAuthorized(e,"0")}),o.Vb(1,"mat-icon",65),o.Sc(2,"group"),o.Ub(),o.Qc(3,ve,2,1,"span",66),o.Qc(4,ke,2,1,"span",1),o.Ub()}if(2&e){var c=i.$implicit;o.Db(3),o.nc("ngIf",c.teamPermisisons),o.Db(1),o.nc("ngIf",!c.teamPermisisons)}}function Pe(e,i){if(1&e&&(o.Vb(0,"span",67),o.Sc(1),o.Ub()),2&e){var n=o.gc().$implicit;o.Db(1),o.Uc(" ",n.fullName," ")}}function Se(e,i){if(1&e&&(o.Vb(0,"span"),o.Sc(1),o.Ub()),2&e){var n=o.gc().$implicit;o.Db(1),o.Uc(" ",n.fullName," ")}}function Oe(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",64),o.cc("click",function(){o.Ec(n);var e=i.$implicit;return o.gc(3).ShowAuthorized(e,"1")}),o.Qb(1,"azt-create-avatar",68),o.Qc(2,Pe,2,1,"span",66),o.Qc(3,Se,2,1,"span",1),o.Ub()}if(2&e){var c=i.$implicit;o.Db(1),o.nc("nameCreateAvatar",c.fullName)("size",28),o.Db(1),o.nc("ngIf",c.teamPermisisons),o.Db(1),o.nc("ngIf",!c.teamPermisisons)}}function Ve(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",69),o.Vb(1,"p"),o.Sc(2,"Danh s\xe1ch tr\u1ed1ng"),o.Ub(),o.Vb(3,"a",70),o.cc("click",function(){return o.Ec(n),o.gc(3).AddTeacher()}),o.Sc(4,"+Th\xeam gi\xe1o vi\xean"),o.Ub(),o.Ub()}}function Ue(e,i){if(1&e&&(o.Vb(0,"div"),o.Qc(1,xe,5,2,"div",62),o.hc(2,"appFilter"),o.Qc(3,Oe,4,4,"div",62),o.hc(4,"appFilter"),o.Qc(5,Ve,5,0,"div",63),o.hc(6,"appFilter"),o.hc(7,"appFilter"),o.Ub()),2&e){var n=o.gc(2);o.Db(1),o.nc("ngForOf",o.jc(2,3,n.allGroupPermissionObjs,n.shareTeacherValue)),o.Db(2),o.nc("ngForOf",o.jc(4,6,n.allTeacherPermissionObjs,n.shareTeacherValue)),o.Db(2),o.nc("ngIf",1==n.checkSearch(o.jc(6,9,n.allGroupPermissionObjs,n.shareTeacherValue),o.jc(7,12,n.allTeacherPermissionObjs,n.shareTeacherValue)))}}function De(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div"),o.Vb(1,"div",55),o.Vb(2,"input",56),o.cc("ngModelChange",function(e){return o.Ec(n),o.gc().shareTeacherValue=e}),o.Ub(),o.Vb(3,"mat-icon",57),o.Sc(4," search "),o.Ub(),o.Ub(),o.Qc(5,pe,2,0,"div",58),o.Qc(6,Ue,8,15,"div",1),o.Vb(7,"div",59),o.Vb(8,"a",60),o.cc("click",function(){return o.Ec(n),o.gc().goToGroup()}),o.Sc(9," QU\u1ea2N L\xdd DANH B\u1ea0"),o.Ub(),o.Ub(),o.Ub()}if(2&e){var c=o.gc();o.Db(2),o.nc("ngModel",c.shareTeacherValue),o.Db(3),o.nc("ngIf",!0===c.loadingSearch),o.Db(1),o.nc("ngIf",!1===c.loadingSearch)}}function ye(e,i){if(1&e&&(o.Vb(0,"span",77),o.Sc(1),o.Ub()),2&e){var n=o.gc(2);o.Db(1),o.Tc(n.dataAuthorized.name)}}function Te(e,i){if(1&e&&(o.Vb(0,"span",77),o.Sc(1),o.Ub()),2&e){var n=o.gc(2);o.Db(1),o.Tc(n.dataAuthorized.fullName)}}function Ce(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",51),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc(2).changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.nc("ngModel",c.checked),o.Db(1),o.Tc(c.description)}}function we(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",52),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc(2).changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.Db(1),o.Tc(c.description)}}function Ie(e,i){if(1&e&&(o.Tb(0),o.Qc(1,Ce,2,2,"mat-checkbox",49),o.Qc(2,we,2,1,"mat-checkbox",50),o.Sb()),2&e){var n=o.gc().$implicit;o.Db(1),o.nc("ngIf",n.checked),o.Db(1),o.nc("ngIf",!n.checked)}}function _e(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",51),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc(2).changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.nc("ngModel",c.checked),o.Db(1),o.Tc(c.description)}}function je(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",52),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc(2).changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.Db(1),o.Tc(c.description)}}function Ae(e,i){if(1&e&&(o.Tb(0),o.Qc(1,_e,2,2,"mat-checkbox",49),o.Qc(2,je,2,1,"mat-checkbox",50),o.Sb()),2&e){var n=o.gc().$implicit;o.Db(1),o.nc("ngIf",n.checked&&7==n.id),o.Db(1),o.nc("ngIf",!n.checked&&7==n.id)}}function Me(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",51),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc(2).changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.nc("ngModel",c.checked),o.Db(1),o.Tc(c.description)}}function Qe(e,i){if(1&e){var n=o.Wb();o.Vb(0,"mat-checkbox",52),o.cc("change",function(e){o.Ec(n);var i=o.gc(2).$implicit;return o.gc(2).changeValue(e,i.id)}),o.Sc(1),o.Ub()}if(2&e){var c=o.gc(2).$implicit;o.Db(1),o.Tc(c.description)}}function ze(e,i){if(1&e&&(o.Tb(0),o.Qc(1,Me,2,2,"mat-checkbox",49),o.Qc(2,Qe,2,1,"mat-checkbox",50),o.Sb()),2&e){var n=o.gc().$implicit;o.Db(1),o.nc("ngIf",n.checked),o.Db(1),o.nc("ngIf",!n.checked)}}function Ee(e,i){if(1&e&&(o.Vb(0,"div"),o.Vb(1,"div",46),o.Qc(2,Ie,3,2,"ng-container",1),o.hc(3,"fullPermission"),o.Qc(4,Ae,3,2,"ng-container",1),o.hc(5,"fullPermission"),o.hc(6,"configAndMarkPermission"),o.Qc(7,ze,3,2,"ng-container",1),o.hc(8,"fullPermission"),o.hc(9,"markPointPermission"),o.Ub(),o.Ub()),2&e){var n=o.gc(2);o.Db(2),o.nc("ngIf",o.jc(3,3,n.permissionObj,"exam")),o.Db(2),o.nc("ngIf",!o.jc(5,6,n.permissionObj,"exam")&&o.jc(6,9,n.permissionObj,"exam")),o.Db(3),o.nc("ngIf",!o.jc(8,12,n.permissionObj,"exam")&&o.jc(9,15,n.permissionObj,"classroom")&&"CLASSROOM"==n.typeObj)}}function Ge(e,i){1&e&&(o.Vb(0,"div",53),o.Sc(1," B\u1ea1n ph\u1ea3i ch\u1ecdn quy\u1ec1n. "),o.Ub())}function Fe(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",78),o.cc("click",function(){return o.Ec(n),o.gc(2).eventDelete(0)}),o.Sc(1,"X\xd3A"),o.Ub()}}function $e(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",71),o.Vb(1,"div",72),o.Vb(2,"span"),o.Sc(3," G\xe1n quy\u1ec1n cho "),o.Ub(),o.Qc(4,ye,2,1,"span",73),o.Qc(5,Te,2,1,"span",73),o.Ub(),o.Vb(6,"div",74),o.Qc(7,Ee,10,18,"div",14),o.Qc(8,Ge,2,0,"div",15),o.Ub(),o.Vb(9,"div",16),o.Qc(10,Fe,2,0,"div",75),o.Vb(11,"div",54),o.cc("click",function(){return o.Ec(n),o.gc().Save()}),o.Sc(12,"L\u01afU"),o.Ub(),o.Ub(),o.Vb(13,"mat-icon",76),o.cc("click",function(){return o.Ec(n),o.gc().close()}),o.Sc(14,"clear"),o.Ub(),o.Ub()}if(2&e){var c=o.gc();o.Db(4),o.nc("ngIf",c.dataAuthorized.name),o.Db(1),o.nc("ngIf",c.dataAuthorized.fullName),o.Db(2),o.nc("ngForOf",c.dataCheckerBoxAssign),o.Db(1),o.nc("ngIf",1==c.showValidate),o.Db(2),o.nc("ngIf",c.dataAuthorized.teamPermisisons)}}function Ne(e,i){if(1&e){var n=o.Wb();o.Vb(0,"azt-add-teacher",79),o.cc("closeDialog",function(e){return o.Ec(n),o.gc().closeAddTeacher(e)}),o.Ub()}if(2&e){var c=o.gc();o.nc("data",c.dataAddTeacherDialog)}}function We(e,i){if(1&e&&(o.Vb(0,"span",86),o.Sc(1),o.Ub()),2&e){var n=o.gc(2);o.Db(1),o.Uc(" ",n.dataGroupAndTeacer.fullName," ")}}function Le(e,i){if(1&e&&(o.Vb(0,"span",86),o.Sc(1),o.Ub()),2&e){var n=o.gc(2);o.Db(1),o.Uc(" ",n.dataGroupAndTeacer.name," ")}}function qe(e,i){if(1&e){var n=o.Wb();o.Vb(0,"div",80),o.Vb(1,"div",81),o.Vb(2,"div"),o.Sc(3,"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a "),o.Qc(4,We,2,1,"span",82),o.Qc(5,Le,2,1,"span",82),o.Sc(6," kh\xf4ng? "),o.Ub(),o.Vb(7,"div",83),o.Vb(8,"div",84),o.cc("click",function(){return o.Ec(n),o.gc().eventDelete(1)}),o.Sc(9,"H\u1ee6Y"),o.Ub(),o.Vb(10,"div",85),o.cc("click",function(){return o.Ec(n),o.gc().DeletePermission()}),o.Sc(11,"X\xc1C NH\u1eacN"),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&e){var c=o.gc();o.Db(4),o.nc("ngIf",c.dataGroupAndTeacer.fullName),o.Db(1),o.nc("ngIf",c.dataGroupAndTeacer.name)}}var Be,Xe=((Be=function(){function i(n,c,t){e(this,i),this.apiCommonService=n,this.fb=c,this.commonService=t,this.Classroom=[],this.id=0,this.typeObj="",this.type="",this.permissionObj={},this.ChangeEvent=new o.o,this.SendData=new o.o,this.shareTeacherValue="",this.showAuthorized=!1,this.loadingSearch=!1,this.loading=!1,this.showValidate=!1,this.showFormAddTeache=!1,this.showPopupDelete=!1,this.dataAddTeacherDialog={obj:"",isShow:!0},this.checkShare="",this.allGroupPermissionObjs=[],this.allTeacherPermissionObjs=[],this.groups=[],this.dataAuthorized={},this.teachers=[],this.permissionIds=[],this.allPermissionObjs=[],this.dataGroupAndTeacer=[],this.dataCheckerBoxAssign=[],this.whoSharePermission=[],this.checkFullPermission=!1,this.LoadingUserPermesion=!1}return n(i,[{key:"GetTeamPermissionObjs",value:function(){var e=this;this.apiCommonService.GetTeamPermissionObjs(this.type,this.id).subscribe(function(i){if(1==i.success){var n=i.data.allGroupPermissionObjs,c=i.data.allTeacherPermissionObjs;e.groups=i.data.groups,e.teachers=i.data.teachers,e.whoSharePermission=i.data.whoSharePermission,e.allGroupPermissionObjs=e.commonService.sortGroupName(n),e.allTeacherPermissionObjs=e.commonService.sortFirstNameStudents(c),e.loading=!1,e.loadingSearch=!1}else e.loading=!1,e.loadingSearch=!1})}},{key:"GetAllPermisions",value:function(){var e=this;this.apiCommonService.GetAllPermisions(this.type).subscribe(function(i){var n;if(1==i.success){if("CLASSROOM"===e.typeObj){if(e.permissionObj&&e.permissionObj.full_permission>0)e.allPermissionObjs=null!==(n=i.data.allPermissionObjs)&&void 0!==n?n:[];else if(e.commonService.hasShareMarkPointPermission("classroom",e.permissionObj)&&2==i.data.allPermissionObjs[1].id){for(var c=[],t=0;t<i.data.allPermissionObjs.length;t++)2==i.data.allPermissionObjs[t].id&&c.push(i.data.allPermissionObjs[t]);e.allPermissionObjs=c}}else e.allPermissionObjs=i.data.allPermissionObjs;if(e.SendData.emit(e.allPermissionObjs),Array.isArray(e.allPermissionObjs))for(var o=0;o<e.allPermissionObjs.length;o++)"full_permission"==e.allPermissionObjs[o].name&&(e.checkFullPermission=!0)}})}},{key:"ShareObjectForGroupPermission",value:function(e,i){var n=this;this.loading=!0,this.apiCommonService.ShareObjectForGroupPermission(e).subscribe(function(e){1==e.success?(n.GetTeamPermissionObjs(),n.GetAllPermisions(),n.showAuthorized=!1,n.permissionIds=[],n.logSnack(i,"success")):(n.loading=!1,n.logSnack(e,"error"))})}},{key:"DeleteTeacherPermission",value:function(e,i,n){var c=this;this.loading=!0,this.apiCommonService.DeleteTeacherPermission(e,i,n).subscribe(function(e){1==e.success?(c.GetTeamPermissionObjs(),c.GetAllPermisions(),c.showAuthorized=!1,c.permissionIds=[],c.commonService.snackSuccess("X\xf3a quy\u1ec1n th\xe0nh c\xf4ng.","")):(c.commonService.snackError("X\xf3a quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng.",""),c.loading=!1)})}},{key:"ShareObjectForTeacherPermission",value:function(e,i){var n=this;this.loading=!0,this.apiCommonService.ShareObjectForTeacherPermission(e).subscribe(function(e){1==e.success?(n.GetTeamPermissionObjs(),n.GetAllPermisions(),n.showAuthorized=!1,n.permissionIds=[],n.logSnack(i,"success")):(n.logSnack(e,"error"),n.loading=!1)})}},{key:"logSnack",value:function(e,i){var n=this;"error"==i?this.commonService.myTranslate([e.message]).subscribe(function(i){n.commonService.snackError(i[e.message],"")}):"success"==i&&this.commonService.snackSuccess(1==e?"C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng.":"Chia s\u1ebb quy\u1ec1n th\xe0nh c\xf4ng.","")}},{key:"DeleteGroupPermission",value:function(e,i,n){var c=this;this.loading=!0,this.apiCommonService.DeleteGroupPermission(e,i,n).subscribe(function(e){1==e.success?(c.GetTeamPermissionObjs(),c.GetAllPermisions(),c.showAuthorized=!1,c.permissionIds=[],c.commonService.snackSuccess("X\xf3a quy\u1ec1n th\xe0nh c\xf4ng.","")):(c.commonService.snackError("X\xf3a quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng.",""),c.loading=!1)})}},{key:"styleListAvatar",value:function(e){return this.teachers.length+this.groups.length-e}},{key:"checkPermision",value:function(){var e=!1;return"CLASSROOM"===this.typeObj?e=!!(this.permissionObj&&this.permissionObj.full_permission>0||this.commonService.hasShareMarkPointPermission("classroom",this.permissionObj)):(this.commonService.hasSharePermission(this.typeObj.toLowerCase(),this.permissionObj)||this.commonService.hasConfigAndMarkClassroomPermission("exam",this.permissionObj))&&(e=!0),e}},{key:"eventDelete",value:function(e){0==e?(this.showPopupDelete=!0,this.userPermission.closeMenu(),this.searchForms.closeMenu()):1==e&&(this.showPopupDelete=!1,this.userPermission.openMenu())}},{key:"checkSearch",value:function(e,i){return!(!e||!i||0!=e.length||0!=i.length)}},{key:"AddTeacher",value:function(){this.showFormAddTeache=!0,this.close()}},{key:"closeAddTeacher",value:function(e){1==e&&(this.permissionIds=[],this.loadingSearch=!0,this.showAuthorized=!1,this.GetTeamPermissionObjs(),this.GetAllPermisions()),this.searchForms.openMenu(),this.showFormAddTeache=!1}},{key:"ShowAuthorized",value:function(e,i){this.showAuthorized=!0,this.dataAuthorized=e,this.checkShare=i,e.teamPermisisons?this.senData(e,i):this.dataCheckerBoxAssign=this.allPermissionObjs}},{key:"senData",value:function(e,i){this.showValidate=!1,this.checkShare=i,this.GetAllPermisions(),this.permissionIds=[],this.dataCheckerBoxAssign=this.allPermissionObjs,this.dataGroupAndTeacer=e;for(var n=0;n<this.dataCheckerBoxAssign.length;n++)for(var c=0;c<e.teamPermisisons.length;c++)this.dataCheckerBoxAssign[n].id==e.teamPermisisons[c].id&&(Object.assign(this.dataCheckerBoxAssign[n],{checked:!0}),this.permissionIds.push(this.dataCheckerBoxAssign[n].id))}},{key:"senDataeditPermissionTeacherShare",value:function(e){var i=this;this.LoadingUserPermesion=!0,this.dataCheckerBoxAssign=[],this.permissionIds=[],this.dataCheckerBoxAssign=e.permissionObjs,this.dataGroupAndTeacer=e,setTimeout(function(){i.LoadingUserPermesion=!1},400)}},{key:"cancelUncheckedPermesion",value:function(){this.EditPermissionTeacherShare.closeMenu(),this.dataGroupAndTeacer=[],this.LoadingUserPermesion=!1}},{key:"changeValue",value:function(e,i){if(!0===e.checked)this.permissionIds.push(i);else if(!1===e.checked)for(var n=0;n<this.permissionIds.length;n++)this.permissionIds[n]==i&&this.permissionIds.splice(n,1);0!=this.permissionIds.length?this.showValidate=!1:0===this.permissionIds.length&&(this.showValidate=!0)}},{key:"goToGroup",value:function(){this.commonService.myNavigation("/admin/teacher-group/2/0")}},{key:"close",value:function(){this.searchForms.closeMenu()}},{key:"buttomShare",value:function(){this.permissionIds=[],this.loadingSearch=!0,this.shareTeacherValue="",this.showAuthorized=!1,this.showValidate=!1,this.GetTeamPermissionObjs(),this.GetAllPermisions()}},{key:"Update",value:function(){"1"==this.checkShare?this.checkData({teacherId:this.dataGroupAndTeacer.id,objectId:this.id,typeObj:this.typeObj,permissionIds:this.permissionIds},1):"0"==this.checkShare&&this.checkData({groupId:this.dataGroupAndTeacer.id,objectId:this.id,typeObj:this.typeObj,permissionIds:this.permissionIds},1)}},{key:"Save",value:function(){"1"==this.checkShare?this.checkData({teacherId:this.dataAuthorized.id,objectId:this.id,typeObj:this.typeObj,permissionIds:this.permissionIds},0):"0"==this.checkShare&&this.checkData({groupId:this.dataAuthorized.id,objectId:this.id,typeObj:this.typeObj,permissionIds:this.permissionIds},0)}},{key:"checkData",value:function(e,i){0!=this.permissionIds.length?"0"==this.checkShare?this.ShareObjectForGroupPermission(e,i):"1"==this.checkShare&&this.ShareObjectForTeacherPermission(e,i):this.showValidate=!0}},{key:"DeletePermission",value:function(){"1"==this.checkShare?this.DeleteTeacherPermission(this.dataGroupAndTeacer.id,this.id,this.type):"0"==this.checkShare&&this.DeleteGroupPermission(this.dataGroupAndTeacer.id,this.id,this.type),this.showPopupDelete=!1}},{key:"ngOnInit",value:function(){this.loading=!0,this.loadingSearch=!0,this.GetTeamPermissionObjs(),this.GetAllPermisions()}}]),i}()).\u0275fac=function(e){return new(e||Be)(o.Pb(r.a),o.Pb(a.g),o.Pb(s.a))},Be.\u0275cmp=o.Jb({type:Be,selectors:[["azt-share"]],viewQuery:function(e,i){var n;1&e&&(o.Zc(_,!0),o.Zc(j,!0),o.Zc(A,!0)),2&e&&(o.zc(n=o.dc())&&(i.userPermission=n.first),o.zc(n=o.dc())&&(i.searchForms=n.first),o.zc(n=o.dc())&&(i.EditPermissionTeacherShare=n.first))},inputs:{Classroom:"Classroom",id:"id",typeObj:"typeObj",type:"type",permissionObj:"permissionObj"},outputs:{ChangeEvent:"ChangeEvent",SendData:"SendData"},decls:46,vars:21,consts:[["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%;",4,"ngIf"],[4,"ngIf"],["editPermissionTeacherShare","matMenu"],[1,"clickable",2,"float","right","margin","0 5px 0 -30px"],[1,"content","pt-1","pb-1","text-center","mw-350",3,"click"],["style","border-radius: 50%;","width","93",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"m-0"],[1,"mb-1","text-left"],[1,"m-0",2,"font-weight","bold","font-size","14px"],["style","margin: 10px; display: flex;",4,"ngIf"],["addTeacher","matMenu"],["style","\n        color: #169bd5;\n        border-radius: 50%;\n        height: 93px;\n        width: 93px;\n        background: #dedede;\n        font-size: 70px;\n        padding: 10px 0;",4,"ngIf"],["class","m-0",4,"ngIf"],[4,"ngFor","ngForOf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"mr-2","clickable","buttom-cancel",2,"color","#E40000",3,"click"],["class","clickable buttom-save",3,"click",4,"ngIf"],["searchForm","matMenu"],[1,"conten-search","pl-3","pr-3","pt-1","pb-1",3,"click"],["class","block-share",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],["class","popup-delete",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],[1,"mb-2",2,"display","flex"],["class","pt-1 pb-1 buttom-share",3,"matMenuTriggerFor","click",4,"ngIf"],[1,"mr-2","pt-1","pb-1",2,"padding-left","5px","float","left"],["class","show-tickets clickable",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable",3,"ngStyle"],[3,"matMenuTriggerFor","click"],["userPermission","matMenuTrigger"],[3,"matTooltip","nameCreateAvatar","size"],[1,"pt-1","pb-1","buttom-share",3,"matMenuTriggerFor","click"],["searchForms","matMenuTrigger"],[2,"height","17px","width","18px","font-size","14px","vertical-align","middle"],[2,"font-weight","500"],["EditPermissionTeacherShare","matMenuTrigger"],["width","28",3,"matTooltip","src",4,"ngIf"],[3,"matTooltip","nameCreateAvatar","size",4,"ngIf"],["width","28",3,"matTooltip","src"],["width","93",2,"border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],[2,"margin","10px","display","flex"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","auto"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[2,"color","#169bd5","border-radius","50%","height","93px","width","93px","background","#dedede","font-size","70px","padding","10px 0"],[1,"mt-2","mb-1"],["color","primary",3,"ngModel","change",4,"ngIf"],["color","primary",3,"change",4,"ngIf"],["color","primary",3,"ngModel","change"],["color","primary",3,"change"],[1,"alert","alert-danger","mt-3"],[1,"clickable","buttom-save",3,"click"],[1,"mb-3"],["type","text","placeholder","T\xecm t\xean ho\u1eb7c s\u0111t",1,"input-search",3,"ngModel","ngModelChange"],[1,"search-ver","clickable"],["style","margin-left: -1rem;",4,"ngIf"],[1,"mt-3","pb-1"],[1,"manage-contacts",3,"click"],[2,"margin-left","-1rem"],["class","d-flex align-items-center mt-1 mb-1 view-singer-name clickable","style","font-size: 14px;",3,"click",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"d-flex","align-items-center","mt-1","mb-1","view-singer-name","clickable",2,"font-size","14px",3,"click"],[1,"singer-img","mr-2",2,"color","#169bd5"],["matTooltip","\u0110\xe3 \u0111\u01b0\u1ee3c chia s\u1ebb quy\u1ec1n","style","color: #a6a6a6;",4,"ngIf"],["matTooltip","\u0110\xe3 \u0111\u01b0\u1ee3c chia s\u1ebb quy\u1ec1n",2,"color","#a6a6a6"],[1,"mr-2",3,"nameCreateAvatar","size"],[1,"text-center"],[1,"manage-contacts",2,"font-size","12px",3,"click"],[1,"block-share"],[1,"mb-3",2,"padding-top","15px","padding-right","15px"],["style","font-weight: bold;",4,"ngIf"],[1,"mb-1"],["class","mr-1 clickable buttom-cancel","style","color: #E40000;",3,"click",4,"ngIf"],[1,"icon-close",3,"click"],[2,"font-weight","bold"],[1,"mr-1","clickable","buttom-cancel",2,"color","#E40000",3,"click"],[3,"data","closeDialog"],[1,"popup-delete"],[1,"body-popup-delete"],["style","font-weight: bold; color: rgb(255, 22, 22);",4,"ngIf"],[1,"d-flex","justify-content-end","mt-3"],[1,"clickable","buttom-cancel","mr-2",3,"click"],[1,"clickable","buttom-delete",3,"click"],[2,"font-weight","bold","color","rgb(255, 22, 22)"]],template:function(e,i){1&e&&(o.Qc(0,M,1,0,"div",0),o.Qc(1,q,5,3,"div",1),o.Vb(2,"mat-menu",null,2),o.Vb(4,"mat-icon",3),o.Sc(5,"clear"),o.Ub(),o.Vb(6,"div",4),o.cc("click",function(e){return e.stopPropagation()}),o.Vb(7,"div"),o.Qc(8,B,2,3,"img",5),o.Qc(9,X,1,2,"azt-create-avatar",6),o.Ub(),o.Vb(10,"h3",7),o.Sc(11),o.Ub(),o.Qc(12,H,2,1,"h5",1),o.Vb(13,"div",8),o.Vb(14,"h5",9),o.Sc(15,"C\xe1c quy\u1ec1n \u0111\u01b0\u1ee3c g\xe1n"),o.Ub(),o.Qc(16,R,2,0,"div",10),o.Qc(17,Y,2,1,"div",1),o.Ub(),o.Ub(),o.Ub(),o.Vb(18,"mat-menu",null,11),o.Vb(20,"mat-icon",3),o.Sc(21,"clear"),o.Ub(),o.Vb(22,"div",4),o.cc("click",function(e){return e.stopPropagation()}),o.Vb(23,"div"),o.Qc(24,Z,2,0,"mat-icon",12),o.Qc(25,K,1,2,"azt-create-avatar",6),o.Ub(),o.Qc(26,ee,2,1,"h3",13),o.Qc(27,ie,2,1,"h3",1),o.Qc(28,ne,2,1,"h5",1),o.Vb(29,"div",8),o.Vb(30,"h5",9),o.Sc(31,"C\xe1c quy\u1ec1n \u0111\xe3 g\xe1n"),o.Ub(),o.Qc(32,te,2,1,"div",1),o.Qc(33,ge,10,18,"div",14),o.Qc(34,fe,2,0,"div",15),o.Ub(),o.Vb(35,"div",16),o.Vb(36,"div",17),o.cc("click",function(){return i.eventDelete(0)}),o.Sc(37,"X\xd3A"),o.Ub(),o.Qc(38,ue,2,0,"div",18),o.Ub(),o.Ub(),o.Ub(),o.Vb(39,"mat-menu",null,19),o.Vb(41,"div",20),o.cc("click",function(e){return e.stopPropagation()}),o.Qc(42,De,10,3,"div",1),o.Qc(43,$e,15,5,"div",21),o.Ub(),o.Ub(),o.Qc(44,Ne,1,1,"azt-add-teacher",22),o.Qc(45,qe,12,2,"div",23)),2&e&&(o.nc("ngIf",!0===i.loading),o.Db(1),o.nc("ngIf",!1===i.loading),o.Db(7),o.nc("ngIf",i.dataGroupAndTeacer.avatar),o.Db(1),o.nc("ngIf",!i.dataGroupAndTeacer.avatar),o.Db(2),o.Tc(i.dataGroupAndTeacer.fullname),o.Db(1),o.nc("ngIf",i.dataGroupAndTeacer.phone),o.Db(4),o.nc("ngIf",1==i.LoadingUserPermesion),o.Db(1),o.nc("ngIf",0==i.LoadingUserPermesion),o.Db(7),o.nc("ngIf",i.dataGroupAndTeacer.name),o.Db(1),o.nc("ngIf",i.dataGroupAndTeacer.fullName),o.Db(1),o.nc("ngIf",i.dataGroupAndTeacer.fullName),o.Db(1),o.nc("ngIf",i.dataGroupAndTeacer.name),o.Db(1),o.nc("ngIf",i.dataGroupAndTeacer.phone),o.Db(4),o.nc("ngIf",i.allPermissionObjs&&0==i.allPermissionObjs.length),o.Db(1),o.nc("ngForOf",i.dataCheckerBoxAssign),o.Db(1),o.nc("ngIf",1==i.showValidate),o.Db(4),o.nc("ngIf",i.allPermissionObjs&&0!=i.allPermissionObjs.length),o.Db(4),o.nc("ngIf",0==i.showAuthorized),o.Db(1),o.nc("ngIf",1==i.showAuthorized),o.Db(1),o.nc("ngIf",1==i.showFormAddTeache),o.Db(1),o.nc("ngIf",1==i.showPopupDelete))},directives:[l.m,b.a,d.a,l.l,l.n,b.d,h.a,m.a,g.a,a.r,a.u,a.d,w],pipes:[I.o,I.m,I.c,I.n,I.j],styles:[".content[_ngcontent-%COMP%]{padding:15px}.conten-search[_ngcontent-%COMP%]{max-height:300px;overflow:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{margin-left:-6px;margin-top:-8px;display:inline-block;position:relative;transition:all .3s}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.show-tickets[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #0093ff;border-radius:50%}.singer-img[_ngcontent-%COMP%]{border-radius:50%}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px rgba(91,91,91,.35)}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid rgba(204,201,201,.8901960784313725);padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0eafc0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid #d4d3d3}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:-9px;right:-14px;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:#fff}.buttom-share[_ngcontent-%COMP%]:hover{background:#eee}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:#fff;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width:750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}"]}),Be)}}])}();