!function(){function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(t,n,i||t)}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=o(e);if(t){var c=o(this).constructor;n=Reflect.construct(i,arguments,c)}else n=i.apply(this,arguments);return r(this,n)}}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"++0c":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n("fXoL"),r=function(){var e=function(){function e(){c(this,e),this.collator=new Intl.Collator("vi-VN",{sensitivity:"variant",usage:"sort"})}return l(e,[{key:"sortFirstNameStudents",value:function(e){var t=this;if(e){var n="fullName";return e.sort(function(e,i){var r,o;return e.hasOwnProperty(n)&&i.hasOwnProperty(n)?t.collator.compare(t.getFirstName(null===(r=e[n])||void 0===r?void 0:r.toString().trim()),t.getFirstName(null===(o=i[n])||void 0===o?void 0:o.toString().trim())):0})}return e}},{key:"sortTimeDESC",value:function(e){for(var t=[],n=[],i="createdAt",r=0;r<e.length;r++)e[r].hasOwnProperty(i)&&(null!=e[r][i]&&""!=e[r][i]?t.push(e[r]):n.push(e[r]));for(r=0;r<t.length;r++)for(var o=void 0,c=r+1;c<t.length;c++){var a;if(t[r].hasOwnProperty(i)&&t[c].hasOwnProperty(i))a=Math.floor(new Date(t[r][i]).getTime()/1e3),Math.floor(new Date(t[c][i]).getTime()/1e3)>a&&(o=t[r],t[r]=t[c],t[c]=o)}return t.concat(n)}},{key:"sortTimeASC",value:function(e){for(var t=[],n=[],i="createdAt",r=0;r<e.length;r++)e[r].hasOwnProperty(i)&&(null!=e[r][i]&&""!=e[r][i]?t.push(e[r]):n.push(e[r]));for(r=0;r<t.length;r++)for(var o=void 0,c=r+1;c<t.length;c++){var a;if(t[r].hasOwnProperty(i)&&t[c].hasOwnProperty(i))a=Math.floor(new Date(t[r][i]).getTime()/1e3),Math.floor(new Date(t[c][i]).getTime()/1e3)<a&&(o=t[r],t[r]=t[c],t[c]=o)}return t.concat(n)}},{key:"sortMarkDESC",value:function(e,t){for(var n="confirmedAt",i=0;i<e.length;i++)for(var r=void 0,o=i+1;o<e.length;o++)e[i].hasOwnProperty(n)&&e[o].hasOwnProperty(n)&&e[i].hasOwnProperty("mark")&&e[o].hasOwnProperty("mark")&&(t?(null!=e[o][n]?e[o].mark:null==e[o][n]&&null!=e[o].mark?-1:-2)>(null!=e[i][n]?e[i].mark:null==e[i][n]&&null!=e[i].mark?-1:-2)&&(r=e[i],e[i]=e[o],e[o]=r):(null!=e[o].mark?e[o].mark:-1)>(null!=e[i].mark?e[i].mark:-1)&&(r=e[i],e[i]=e[o],e[o]=r));return e}},{key:"sortMarkASC",value:function(e,t){for(var n="confirmedAt",i=0;i<e.length;i++)for(var r=void 0,o=i+1;o<e.length;o++)e[i].hasOwnProperty(n)&&e[o].hasOwnProperty(n)&&e[i].hasOwnProperty("mark")&&e[o].hasOwnProperty("mark")&&(t?(null!=e[o][n]?e[o].mark:null==e[o][n]&&null!=e[o].mark?-1:-2)<(null!=e[i][n]?e[i].mark:null==e[i][n]&&null!=e[i].mark?-1:-2)&&(r=e[i],e[i]=e[o],e[o]=r):e[o].mark<e[i].mark&&(r=e[i],e[i]=e[o],e[o]=r));return e}},{key:"sortFirstNameStudentsInClass",value:function(e){var t=this,n=[];return e.forEach(function(e){e.hasOwnProperty("results")&&(e.results=t.sortFirstNameStudents(e.results)),n.push(e)}),n}},{key:"sortTimeStudentsInClass",value:function(e,t){var n=this,i=[],r="results";return e.forEach(function(e){e.hasOwnProperty(r)&&(e[r]=1==t?n.sortTimeDESC(e[r]):n.sortTimeASC(e[r])),i.push(e)}),i}},{key:"sortMarkStudentsInClass",value:function(e,t,n){var i=this,r=[],o="results";return e.forEach(function(e){e.hasOwnProperty(o)&&(e[o]=1==t?i.sortMarkDESC(e[o]):i.sortMarkASC(e[o])),r.push(e)}),r}},{key:"sortGroupName",value:function(e){var t=this;return e?e.sort(function(e,n){var i,r;return e.hasOwnProperty("name")&&n.hasOwnProperty("name")?t.collator.compare(t.getGroupName(null===(i=e.name)||void 0===i?void 0:i.toString().trim()),t.getGroupName(null===(r=n.name)||void 0===r?void 0:r.toString().trim())):0}):e}},{key:"sortArrayByMultipleObjectKeyAsc",value:function(e,t,n){var i=this;return e?(e.sort(function(e,r){var o,c,a,l;if(e.hasOwnProperty(t)&&r.hasOwnProperty(t)&&e.hasOwnProperty(n)&&r.hasOwnProperty(n)){var s=i.collator.compare(i.getFirstName(null===(o=e[t])||void 0===o?void 0:o.toString().trim()),i.getFirstName(null===(c=r[t])||void 0===c?void 0:c.toString().trim()));return 0==s?i.collator.compare(i.getFirstName(null===(a=e[n])||void 0===a?void 0:a.toString().trim()),i.getFirstName(null===(l=r[n])||void 0===l?void 0:l.toString().trim())):s}return 0}),e):e}},{key:"getFirstName",value:function(e){return null!=e?e.split(" ").slice(-1).join(" ").toUpperCase():""}},{key:"getGroupName",value:function(e){return null!=e?e.split(" ").slice(-1).join("").toLowerCase():""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},ATyy:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i,r,o=n("fXoL"),a=((i=function(){function e(){c(this,e),this.stringFirst="<z>:"}return l(e,[{key:"resultContentSuport",value:function(e){if(null==e)return null;if(0!==e.indexOf(this.stringFirst))return e;e=e.substring(this.stringFirst.length);var t=atob(e).split("").map(function(e){return e.charCodeAt(0)}),n=new Uint8Array(t);return pako.ungzip(n,{to:"string"})}},{key:"convertContentSuport",value:function(e){if(null==e||""==e||null==e)return"";var t=pako.gzip(e),n=String.fromCharCode.apply(null,t),i=btoa(n);return this.stringFirst+i}}]),e}()).\u0275fac=function(e){return new(e||i)},i.\u0275prov=o.Lb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),s=n("qJLG"),u=((r=function(){function e(t,n){c(this,e),this.gzipHelper=t,this.cdnService=n}return l(e,[{key:"convertHomeworkObj",value:function(e){e.content&&(e.content=this.decodeContentGzip(e.content),e.content=this.cdnService.replaceImgUrlWithCdnLinkInMixedContentString(e.content))}},{key:"convertStudentsHomeworkObj",value:function(e){var t=this;null==e||e.forEach(function(e){var n,i;if(e.answer){var r=t.decodeContentGzip(null!==(i=null===(n=e.answer)||void 0===n?void 0:n.result)&&void 0!==i?i:"");e.answer=Object.assign(Object.assign({},e.answer),{result:r})}})}},{key:"convertAnswersHistories",value:function(e){var t,n,i;if(null==e?void 0:e.answerHistoryObjs)for(var r=0;r<(null!==(n=null===(t=e.answerHistoryObjs)||void 0===t?void 0:t.length)&&void 0!==n?n:0);r++)this.convertSubmittedAnswersObj(null===(i=e.answerHistoryObjs)||void 0===i?void 0:i[r])}},{key:"convertSubmittedAnswersObj",value:function(e){var t;if(e&&e.result){var n=this.decodeContentGzip(null!==(t=e.result)&&void 0!==t?t:"");e.result=n}}},{key:"convertSubmittedAnswersHistoryObj",value:function(e){var t;if(e&&e.result){var n=this.decodeContentGzip(null!==(t=e.result)&&void 0!==t?t:"");e.result=n}}},{key:"decodeContentGzip",value:function(e){return this.gzipHelper.resultContentSuport(e)}},{key:"convertContentGzip",value:function(e){return this.gzipHelper.convertContentSuport(e)}}]),e}()).\u0275fac=function(e){return new(e||r)(o.Zb(a),o.Zb(s.a))},r.\u0275prov=o.Lb({token:r,factory:r.\u0275fac,providedIn:"root"}),r)},CB8n:function(e,n,r){"use strict";r.d(n,"a",function(){return d});var o=r("gm2p"),a=r("fXoL"),s=r("NFeN"),u=r("Qu3c"),f=r("STbY"),d=function(){var e=function(e){t(r,e);var n=i(r);function r(){var e;return c(this,r),(e=n.apply(this,arguments)).linkUrl="",e.id="",e.fileName="",e}return l(r,[{key:"bindUrlToQrCode",value:function(){var e=document.getElementById("qrcode_making"+this.id);e&&(e.textContent=""),this.qrcode=this.commonService.createObjectQrcode(this.linkUrl,128,128,"url",!1,"qrcode_making"+this.id)}},{key:"downloadQrCode",value:function(){var e=this.qrcode._oDrawing.dataURL,t=document.createElement("a");document.body.appendChild(t),t.setAttribute("href",e),t.setAttribute("download",""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg"),t.click()}}]),r}(o.a);return e.\u0275fac=function(t){return p(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",id:"id",fileName:"fileName"},features:[a.Ab],decls:10,vars:2,consts:[["matTooltip","Qu\xe9t ho\u1eb7c t\u1ea3i m\xe3 QR code",1,"clickable",2,"font-size","19px","height","19px","width","19px",3,"matMenuTriggerFor","click"],["showQrCode","matMenu"],[1,"content",3,"click"],[1,"upload-qr-box-item-content-qr",3,"id"],[1,"pt-2","clickable",2,"color","#007bff","align-items","center","display","flex","justify-content","center",3,"click"]],template:function(e,t){if(1&e&&(a.Vb(0,"mat-icon",0),a.cc("click",function(){return t.bindUrlToQrCode()}),a.Tc(1,"qr_code"),a.Ub(),a.Vb(2,"mat-menu",null,1),a.Vb(4,"div",2),a.cc("click",function(e){return e.stopPropagation()}),a.Qb(5,"div",3),a.Vb(6,"div",4),a.cc("click",function(){return t.downloadQrCode()}),a.Vb(7,"mat-icon"),a.Tc(8,"save_alt"),a.Ub(),a.Tc(9," T\u1ea3i v\u1ec1 m\xe1y"),a.Ub(),a.Ub(),a.Ub()),2&e){var n=a.Ac(3);a.nc("matMenuTriggerFor",n),a.Db(5),a.pc("id","qrcode_making",t.id,"")}},directives:[s.a,u.a,f.d,f.a],styles:[".upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:#fff;padding:5px;border-radius:5px}.content[_ngcontent-%COMP%]{margin:0 20px}"]}),e}(),p=a.Xb(d)},lbRm:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var i=n("AytR"),r=n("fXoL"),o=n("jtrZ"),a=function(){var e=function(){function e(t){c(this,e),this.configService=t}return l(e,[{key:"getCurrentVersion",value:function(){return i.a.versionTime}},{key:"getGlobalNotice",value:function(){return this.configService.getConfig("globalNotice")}},{key:"getEnvValue",value:function(e){return this.configService.getConfig(e)}},{key:"getLinkEmbedDocument",value:function(e){var t=this.configService.getConfig("docView");return t&&"MICROSOFT"!=t?"https://docs.google.com/viewer?url=".concat(e,"&embedded=true"):"https://view.officeapps.live.com/op/embed.aspx?src="+e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Zb(o.a))},e.\u0275prov=r.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},wAhq:function(n,r,a){"use strict";a.d(r,"a",function(){return T});var s=a("fXoL"),u=a("gm2p"),f=a("BTbT"),d=a("oUVn"),p=a("jhN1"),v=a("qJLG"),g=a("lbRm"),b=a("ofXK"),h=a("NFeN"),m=a("IkSl");function w(e,t){1&e&&(s.Vb(0,"div",2),s.Vb(1,"div",3),s.Vb(2,"span",4),s.Tc(3,"Loading..."),s.Ub(),s.Ub(),s.Ub())}function y(e,t){if(1&e&&(s.Vb(0,"div",20),s.Tc(1),s.Ub()),2&e){var n=s.gc(2);s.Db(1),s.Uc(n.fileOption.name)}}function k(e,t){1&e&&(s.Vb(0,"div",20),s.Tc(1,"D\u1eef li\u1ec7u \u1ea3nh c\u1eaft \u0111\u1ec1"),s.Ub())}function _(e,t){if(1&e&&(s.Vb(0,"div",21),s.Tc(1),s.Ub()),2&e){var n=s.gc(2);s.Db(1),s.Wc("Dung l\u01b0\u1ee3ng: ",n.fileMb," MB | Lo\u1ea1i : ",n.fileOption.mimes,"")}}function O(e,t){1&e&&(s.Vb(0,"div",21),s.Tc(1,"Dung l\u01b0\u1ee3ng: 0.3 MB | Lo\u1ea1i : Images"),s.Ub())}function x(e,t){if(1&e&&(s.Vb(0,"a",22),s.Vb(1,"mat-icon",16),s.Tc(2,"save_alt"),s.Ub(),s.Ub()),2&e){var n=s.gc(2);s.Eb("href",n.rootLink,s.Ic)("download",n.fileOption.name)}}function C(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div"),s.Vb(1,"div",28),s.Vb(2,"audio",29),s.Vb(3,"source",30),s.cc("load",function(){return s.Ec(n),s.gc(3).onLoad()}),s.Ub(),s.Tc(4," Your browser does not support the audio element. "),s.Ub(),s.Ub(),s.Ub()}if(2&e){var i=s.gc(3);s.Db(3),s.nc("src",i.cdnLink,s.Ic),s.Eb("type",null==i.fileOption?null:i.fileOption.mimes)}}function P(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div"),s.Vb(1,"div",31),s.Vb(2,"video",32),s.Vb(3,"source",30),s.cc("load",function(){return s.Ec(n),s.gc(3).onLoad()}),s.Ub(),s.Vb(4,"p",33),s.Tc(5,"B\u1ea1n \u0111ang s\u1eed d\u1ee5ng tr\xecnh duy\u1ec7t kh\xf4ng h\u1ed7 tr\u1ee3 xem video tr\u1ef1c tuy\u1ebfn."),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&e){var i=s.gc(3);s.Db(2),s.oc("poster",i.videoThumbUrl,s.Ic),s.Db(1),s.nc("src",i.cdnLink,s.Ic),s.Eb("type",null==i.fileOption?null:i.fileOption.mimes)}}function U(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div"),s.Vb(1,"iframe",34),s.cc("load",function(){return s.Ec(n),s.gc(3).onLoad()}),s.Ub(),s.Ub()}if(2&e){var i=s.gc(3);s.Db(1),s.nc("src",i.cdnLink,s.Gc)}}function M(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div"),s.Vb(1,"div",31),s.Vb(2,"img",35),s.cc("load",function(){return s.Ec(n),s.gc(3).onLoad()}),s.Ub(),s.Ub(),s.Ub()}if(2&e){var i=s.gc(3);s.Db(2),s.Eb("src",i.cdnLink,s.Ic)}}function S(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div"),s.Vb(1,"div",36),s.Vb(2,"iframe",37),s.cc("load",function(){return s.Ec(n),s.gc(3).onLoad()}),s.Ub(),s.Ub(),s.Ub()}if(2&e){var i=s.gc(3);s.Db(2),s.nc("src",i.cdnLink,s.Gc)}}function V(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div"),s.Vb(1,"div",38),s.Vb(2,"pdf-viewer",39),s.cc("load",function(){return s.Ec(n),s.gc(3).onLoad()}),s.Ub(),s.Ub(),s.Ub()}if(2&e){var i=s.gc(3);s.Db(2),s.nc("src",i.cdnLink)("show-all",!0)}}function L(e,t){if(1&e&&(s.Tb(0),s.Vb(1,"div",23),s.Vb(2,"div",24),s.Rc(3,C,5,2,"div",25),s.Rc(4,P,6,3,"div",25),s.Rc(5,U,2,1,"div",25),s.Rc(6,M,3,1,"div",25),s.Rc(7,S,3,1,"div",25),s.Rc(8,V,3,2,"div",25),s.Qb(9,"div",26),s.Ub(),s.Qb(10,"div",27),s.Ub(),s.Sb()),2&e){var n=s.gc(2);s.Db(3),s.nc("ngIf","audio"===n.typeFile),s.Db(1),s.nc("ngIf","video"===n.typeFile),s.Db(1),s.nc("ngIf","vimeo"===n.typeFile),s.Db(1),s.nc("ngIf","image"===n.typeFile),s.Db(1),s.nc("ngIf","officeapps"===n.typeFile),s.Db(1),s.nc("ngIf","pdf"===n.typeFile)}}function I(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",23),s.Vb(1,"div",24),s.Vb(2,"div",40),s.Vb(3,"img",41),s.cc("load",function(){return s.Ec(n),s.gc(2).onLoad()}),s.Ub(),s.Ub(),s.Ub(),s.Ub()}if(2&e){var i=s.gc(2);s.Db(3),s.Eb("src",i.linkUrl,s.Ic)}}function D(e,t){if(1&e){var n=s.Wb();s.Vb(0,"div",5),s.Vb(1,"div",6),s.Vb(2,"div",7),s.Vb(3,"div",8),s.Qb(4,"div",9),s.Ub(),s.Rc(5,y,2,1,"div",10),s.Rc(6,k,2,0,"div",10),s.Rc(7,_,2,2,"div",11),s.Rc(8,O,2,0,"div",11),s.Ub(),s.Vb(9,"div",12),s.Vb(10,"span",13),s.Rc(11,x,3,2,"a",14),s.Ub(),s.Vb(12,"span",15),s.cc("click",function(){return s.Ec(n),s.gc().btnClosePreview()}),s.Vb(13,"mat-icon",16),s.Tc(14,"close"),s.Ub(),s.Ub(),s.Ub(),s.Ub(),s.Vb(15,"div",17),s.Rc(16,L,11,6,"ng-container",18),s.Rc(17,I,4,1,"ng-template",null,19,s.Sc),s.Ub(),s.Ub()}if(2&e){var i=s.Ac(18),r=s.gc();s.Db(5),s.nc("ngIf",null!=r.fileOption),s.Db(1),s.nc("ngIf",null==r.fileOption),s.Db(1),s.nc("ngIf",null!=r.fileOption),s.Db(1),s.nc("ngIf",null==r.fileOption),s.Db(3),s.nc("ngIf",null!=r.fileOption),s.Db(5),s.nc("ngIf",0==r.typePreview)("ngIfElse",i)}}var T=function(){var n=function(n){t(a,n);var r=i(a);function a(e,t,n,i,o){var l;return c(this,a),(l=r.call(this,e)).commonService=e,l.dom=t,l.sanitizer=n,l.cdnService=i,l.envService=o,l.typePreview=0,l.closePreview=new s.o,l.typeFile="",l.cdnLink="",l.rootLink="",l.fileMb=0,l.videoThumbUrl="",l.isVimeoLink=!1,l}return l(a,[{key:"onLoad",value:function(){this.stopStatusObj()}},{key:"initData",value:function(){var e,t,n,i,r,o=this;if(0==this.typePreview){var c=(null===(e=this.fileOption)||void 0===e?void 0:e.size)?Number(this.fileOption.size):0,a=(null===(t=this.fileOption)||void 0===t?void 0:t.mimes)?this.fileOption.mimes:"";if(this.cdnLink=this.cdnService.getMyCdn(null!==(i=null===(n=this.fileOption)||void 0===n?void 0:n.url)&&void 0!==i?i:""),this.rootLink=this.cdnLink,this.fileMb=this.getFileMB(c),this.typeFile=Object(f.c)(a),"string"==typeof this.cdnLink&&(this.isVimeoLink=this.cdnLink.includes("https://player.vimeo.com/")||this.cdnLink.includes("https://mega.nz")),this.isVimeoLink&&(this.typeFile="vimeo"),"string"==typeof this.cdnLink&&""!=this.cdnLink)switch(this.typeFile){case"pdf":this.cdnLink=this.cdnLink;break;case"officeapps":this.cdnLink=this.dom.bypassSecurityTrustResourceUrl(this.envService.getLinkEmbedDocument(this.cdnLink));break;case"video":default:this.cdnLink=this.dom.bypassSecurityTrustResourceUrl(this.cdnLink)}}else this.linkUrl=this.cdnService.getMyCdn(null!==(r=this.linkUrl)&&void 0!==r?r:"");setTimeout(function(){o.stopStatusObj()},200)}},{key:"removeClassCss",value:function(){document.body.classList.remove("overflow-hidden")}},{key:"btnClosePreview",value:function(){this.removeClassCss(),this.closePreview.emit()}},{key:"getFileMB",value:function(e){return e&&e>0?(e/=1048576).toFixed(2):0}},{key:"reloadFrame",value:function(e){var t=document.getElementById(e);t&&t.parentNode&&t.parentNode.replaceChild(t.cloneNode(),t)}},{key:"ngOnInit",value:function(){var t=this;document.body.classList.add("overflow-hidden"),setTimeout(function(){t.initData()},0),this.videoThumbUrl="https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/video-thumb.png",this.initStatusObj(),e(o(a.prototype),"ngOnInit",this).call(this)}},{key:"ngOnDestroy",value:function(){this.removeClassCss(),e(o(a.prototype),"ngDestroy",this).call(this)}}]),a}(u.a);return n.\u0275fac=function(e){return new(e||n)(s.Pb(d.a),s.Pb(p.b),s.Pb(p.b),s.Pb(v.a),s.Pb(g.a))},n.\u0275cmp=s.Jb({type:n,selectors:[["azt-preview-media"]],inputs:{fileOption:"fileOption",typePreview:"typePreview",linkUrl:"linkUrl"},outputs:{closePreview:"closePreview"},features:[s.Ab],decls:2,vars:2,consts:[["class","loading-block",4,"ngIf"],["class","file-preview",4,"ngIf"],[1,"loading-block"],["role","status",1,"spinner-border","text-secondary",2,"width","5rem","height","5rem"],[1,"sr-only"],[1,"file-preview"],[1,"file-preview__header","flx","flx-sp-btw"],[1,"file-preview__header-left"],["title","",1,"avatar","avatar--xs"],[1,"avatar-img",2,"background-image","url('https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/documents.png')","background-size","cover"],["class","file-preview__header__title",4,"ngIf"],["class","file-preview__header__send-time",4,"ngIf"],[1,"file-preview__header-right"],[1,"file-preview__controls-container"],["class","clickable download","target","_blank",4,"ngIf"],[1,"file-preview__buttons-container",3,"click"],[2,"color","rgb(53, 53, 53)","cursor","pointer"],[1,"file-preview__main","flx",2,"overflow-x","auto","flex","1 1 auto"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"file-preview__header__title"],[1,"file-preview__header__send-time"],["target","_blank",1,"clickable","download"],[1,"file-preview__main-iframe","mx-auto"],[1,"file-preview__notify"],[4,"ngIf"],[1,"tool-hide"],[1,"file-preview__main-comments"],[1,"container-fluid","mt-3"],["controls",""],[3,"src","load"],[1,"pl-2","pr-2","mt-3"],["id","my-video","playsinline","playsinline","controls","","preload","auto","data-setup","{}",1,"video-js",2,"max-height","calc(100vh - 80px)","width","100%","padding-bottom","1rem",3,"poster"],[1,"vjs-no-js"],["frameborder","0","allowfullscreen","",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],["alt","Responsive image",1,"img-fluid","image-preview",2,"max-height","calc(100vh - 80px)","padding-bottom","1rem",3,"load"],[1,"pl-2","pr-2","mp-0"],["frameborder","0",2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem",3,"src","load"],[1,"container-fluid","mp-0"],[2,"width","100vw","height","95vh","max-height","calc(100vh - 60px)","padding-bottom","1rem","display","block",3,"src","show-all","load"],[1,"pl-2","pr-2","mt-3","block-img"],["alt","Responsive image",1,"img-fluid","image-preview",3,"load"]],template:function(e,t){1&e&&(s.Rc(0,w,4,0,"div",0),s.Rc(1,D,19,7,"div",1)),2&e&&(s.nc("ngIf",t.statusObj.loading),s.Db(1),s.nc("ngIf",(null!=t.fileOption||""!=t.linkUrl)&&!t.statusObj.loading))},directives:[b.m,h.a,m.a],styles:[".file-preview[_ngcontent-%COMP%]{background:#ecf0f5;position:fixed;width:100%;height:100vh;z-index:9999;display:flex;flex-direction:column;left:0;top:0}.block-img[_ngcontent-%COMP%]{background:#a3a3a3;width:100vw;height:90vh;text-align:center;overflow-y:auto}.loading-block[_ngcontent-%COMP%]{z-index:1000;justify-content:center;align-items:center;left:0;top:0;height:100%;min-height:100vh;background-color:#ecf0f5}.file-preview__main[_ngcontent-%COMP%], .loading-block[_ngcontent-%COMP%]{width:100%;display:flex;position:fixed}.file-preview__main[_ngcontent-%COMP%]{margin-top:65px;min-height:100%;min-width:277px;background:#ecf0f5}.file-preview__header[_ngcontent-%COMP%]{padding-top:10px;height:65px;background:#fff;box-shadow:0 2px 4px 0 rgba(0,0,0,.2);position:fixed;align-items:center;z-index:1;top:0;width:100%}.flx-sp-btw[_ngcontent-%COMP%]{justify-content:space-between}.flx[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}.file-preview__header-left[_ngcontent-%COMP%]{margin-left:20px;margin-right:10px;margin-bottom:12px;flex:1 1 50px;min-width:0}.file-preview__header-left[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{float:left;margin-right:10px}.avatar--xs[_ngcontent-%COMP%]{width:40px;height:40px;font-size:17px}.avatar[_ngcontent-%COMP%]{position:relative;color:#fff;contain:layout size style}.avatar--xs[_ngcontent-%COMP%] > .avatar-img[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#e5efff}.avatar-img[_ngcontent-%COMP%]{border-radius:100%}.file-preview__header__title[_ngcontent-%COMP%]{font-size:15px;color:#222;font-weight:500}.file-preview__header__send-time[_ngcontent-%COMP%], .file-preview__header__title[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.file-preview__header__send-time[_ngcontent-%COMP%]{padding-top:2px;font-size:13px;color:#a0a0a0}.file-preview__header-right[_ngcontent-%COMP%]{color:#fff;margin-right:15px;white-space:nowrap;display:flex}.file-preview__controls-container[_ngcontent-%COMP%]{margin-right:40px}.file-preview__buttons-container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;position:relative}.mp-0[_ngcontent-%COMP%]{margin:0!important;padding:0!important}"]}),n}()}}])}();