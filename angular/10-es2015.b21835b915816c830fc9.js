(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{keXk:function(t,e,n){"use strict";n.r(e),n.d(e,"HomeworkFrontModule",function(){return Xe});var o=n("ofXK"),i=n("3Pt+"),s=n("0IaG"),r=n("tyNb"),c=n("fB2i"),a=n("IkSl"),l=n("rIor"),d=n("Zhhu"),b=n("sOeQ"),h=n("vvyD"),u=n("Avyq"),m=n("6Fp8"),g=n("gm2p"),f=n("fXoL");let p=(()=>{class t extends g.a{}return t.\u0275fac=function(e){return _(e||t)},t.\u0275cmp=f.Jb({type:t,selectors:[["app-test-dashboard"]],features:[f.Ab],decls:2,vars:0,consts:[["id","homework-frontend-layout"]],template:function(t,e){1&t&&(f.Vb(0,"div",0),f.Qb(1,"router-outlet"),f.Ub())},directives:[r.m],styles:[""]}),t})();const _=f.Xb(p);var w=n("mrSG"),v=n("tk/3"),k=n("itXk"),O=n("PYj7"),j=n("BTbT"),x=n("oUVn"),y=n("5ete"),M=n("Bjt4"),C=n("0pw4"),P=n("VMFx"),D=n("ATyy"),U=n("f4AX"),V=n("luLc"),S=n("k3bj"),I=n("1ffk"),F=n("iWHX");const T=function(t){return[t]};function R(t,e){1&t&&(f.Vb(0,"p"),f.Vb(1,"a",7),f.hc(2,"localize"),f.Tc(3),f.hc(4,"mytranslate"),f.Ub(),f.Ub()),2&t&&(f.Db(1),f.nc("routerLink",f.tc(6,T,f.ic(2,2,"/admin/testbank/dashboard"))),f.Db(2),f.Uc(f.ic(4,4,"lang_homework_homework_frontend_utils_back_to_teacher")))}function L(t,e){if(1&t&&(f.Vb(0,"span"),f.Tc(1),f.Ub()),2&t){const t=f.gc(3);f.Db(1),f.Xc(" ",t.userObj.id,".",t.userObj.fullName,".Zalo:",t.userObj.zaloId," ")}}function A(t,e){if(1&t&&(f.Vb(0,"span"),f.Tc(1),f.hc(2,"anonymousFullName"),f.hc(3,"anonymousPhone"),f.Ub()),2&t){const t=f.gc(3);f.Db(1),f.Xc(" ",t.userObj.id,".",f.ic(2,3,t.userObj),".",null!=t.userObj&&t.userObj.phone?null==t.userObj?null:t.userObj.phone:f.ic(3,5,"")," ")}}function H(t,e){if(1&t&&(f.Vb(0,"p"),f.Tc(1),f.hc(2,"mytranslate"),f.Rc(3,L,2,3,"span",2),f.Rc(4,A,4,7,"span",2),f.Ub()),2&t){const t=f.gc(2);f.Db(1),f.Vc(" ",f.ic(2,3,"lang_homework_homework_frontend_utils_account"),": "),f.Db(2),f.nc("ngIf",t.userObj.zaloId),f.Db(1),f.nc("ngIf",!t.userObj.zaloId)}}const z=function(t){return{return_url:t}},E=function(t){return{return_url:t,from:"register"}};function N(t,e){if(1&t&&(f.Vb(0,"p"),f.Tc(1),f.hc(2,"mytranslate"),f.Vb(3,"a",8),f.hc(4,"localize"),f.Tc(5),f.hc(6,"mytranslate"),f.Ub(),f.Tc(7),f.hc(8,"mytranslate"),f.Vb(9,"a",8),f.hc(10,"localize"),f.Tc(11),f.hc(12,"mytranslate"),f.Ub(),f.Ub()),2&t){const t=f.gc(2);f.Db(1),f.Vc("",f.ic(2,8,"lang_homework_homework_frontend_utils_tutorial")," "),f.Db(2),f.nc("routerLink",f.tc(20,T,f.ic(4,10,"/auth/register/1")))("queryParams",f.tc(22,z,t.returnUrl)),f.Db(2),f.Uc(f.ic(6,12,"lang_buttom_register")),f.Db(2),f.Vc(" ",f.ic(8,14,"lang_homework_homework_frontend_utils_or_account")," "),f.Db(2),f.nc("routerLink",f.tc(24,T,f.ic(10,16,"/auth/login")))("queryParams",f.tc(26,E,t.returnUrl)),f.Db(2),f.Uc(f.ic(12,18,"lang_buttom_login"))}}function W(t,e){1&t&&(f.Vb(0,"p"),f.Tc(1),f.hc(2,"mytranslate"),f.Vb(3,"a",7),f.hc(4,"localize"),f.Tc(5),f.hc(6,"mytranslate"),f.Ub(),f.Ub()),2&t&&(f.Db(1),f.Vc("",f.ic(2,3,"lang_homework_homework_frontend_utils_tutorial_register"),": "),f.Db(2),f.nc("routerLink",f.tc(9,T,f.ic(4,5,"/auth/switch-teacher-student"))),f.Db(2),f.Uc(f.ic(6,7,"lang_homework_homework_frontend_utils_register_teacher")))}function q(t,e){if(1&t&&(f.Vb(0,"div",1),f.Rc(1,R,5,8,"p",2),f.Rc(2,H,5,5,"p",2),f.Rc(3,N,13,28,"p",2),f.Rc(4,W,7,11,"p",2),f.Vb(5,"p"),f.Vb(6,"a",3),f.Qb(7,"img",4),f.Ub(),f.Vb(8,"a",5),f.Qb(9,"img",6),f.Ub(),f.Ub(),f.Ub()),2&t){const t=f.gc();f.Db(1),f.nc("ngIf",t.checkTeacher()),f.Db(1),f.nc("ngIf",!t.checkAnonymous()),f.Db(1),f.nc("ngIf",t.checkAnonymous()),f.Db(1),f.nc("ngIf",!t.checkTeacher())}}let Q=(()=>{class t extends g.a{constructor(t,e,n){super(e),this.baseApiService=t,this.commonService=e,this.globalService=n,this.userObj={},this.returnUrl=""}checkAnonymous(){return this.baseApiService.isAnonymousRole()}checkTeacher(){return this.baseApiService.isTeacherRole()}ngOnInit(){this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getCurrentUrl(),this.userObj=this.baseApiService.getUserObj(),this.globalService.loginMessage.subscribe(t=>{this.userObj=this.baseApiService.getUserObj()}),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(y.a),f.Pb(x.a),f.Pb(I.a))},t.\u0275cmp=f.Jb({type:t,selectors:[["homework-frontend-footer"]],features:[f.Ab],decls:1,vars:1,consts:[["class","text-center mt-3",4,"ngIf"],[1,"text-center","mt-3"],[4,"ngIf"],["href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener"],["alt","Get it on Google Play","src","https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png","width","150px",1,"play-store-badge"],["href","https://apps.apple.com/ua/app/azota/id1556025594","target","_blank","rel","noopener"],["alt","Download on the App Store","src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/2928664.svg","width","130px",1,"app-store-badge"],[3,"routerLink"],[3,"routerLink","queryParams"]],template:function(t,e){1&t&&f.Rc(0,q,10,4,"div",0),2&t&&f.nc("ngIf",0!=e.userObj.id)},directives:[o.m,r.k],pipes:[u.d,F.q,F.a,F.b],encapsulation:2}),t})();var J=n("nzN9"),$=n("6DXj"),B=n("CB8n"),G=n("YTzd"),X=n("clS4"),K=n("bTqV");const Y=["ContentDialog"];function Z(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",1),f.Vb(1,"div",2,3),f.Vb(3,"div",4),f.Vb(4,"p",5),f.Tc(5),f.hc(6,"mytranslate"),f.Ub(),f.Vb(7,"a",6),f.cc("click",function(){return f.Ec(t),f.gc().goToRegister()}),f.Tc(8),f.hc(9,"mytranslate"),f.Ub(),f.Vb(10,"p",7),f.Tc(11),f.hc(12,"mytranslate"),f.Ub(),f.Vb(13,"a",6),f.cc("click",function(){return f.Ec(t),f.gc().goToLogin()}),f.Tc(14),f.hc(15,"mytranslate"),f.Ub(),f.Ub(),f.Vb(16,"div",8),f.Vb(17,"div",9),f.Vb(18,"button",10),f.cc("click",function(){return f.Ec(t),f.gc().btnCloseDialog()}),f.Tc(19),f.hc(20,"mytranslate"),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Ub()}2&t&&(f.Db(5),f.Vc("",f.ic(6,5,"lang_homework_homework_frontend_utils_register_or_login"),"!"),f.Db(3),f.Uc(f.ic(9,7,"lang_buttom_register")),f.Db(3),f.Vc("",f.ic(12,9,"lang_homework_homework_frontend_submit_homework_have_account"),"?"),f.Db(3),f.Uc(f.ic(15,11,"lang_buttom_login")),f.Db(5),f.Vc(" ",f.ic(20,13,"lang_buttom_close")," "))}let tt=(()=>{class t extends g.a{constructor(t,e,n){super(t),this.commonService=t,this.router=e,this.redirectService=n,this.closeDialog=new f.o}onGlobalClick(t){var e;(null===(e=this.contentDialog)||void 0===e?void 0:e.nativeElement.contains(t.target))||this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!0)}goToRegister(){var t,e;let n=`${this.router.url}%3FstudentId%3D${null===(e=null===(t=this.data)||void 0===t?void 0:t.studentObj)||void 0===e?void 0:e.id}`;this.redirectService.redirectRegisterForStudentWithReturnUrl(n)}goToLogin(){var t,e,n,o;let i=""+this.router.url;if(-1!==i.indexOf("?")){let n=i.slice(0,i.indexOf("?"));n=`${n}%3FstudentId%3D${null===(e=null===(t=this.data)||void 0===t?void 0:t.studentObj)||void 0===e?void 0:e.id}`,this.redirectService.redirectToLoginBackLinkWithFromRegister(n)}else i=`${i}%3FstudentId%3D${null===(o=null===(n=this.data)||void 0===n?void 0:n.studentObj)||void 0===o?void 0:o.id}`,this.redirectService.redirectToLoginBackLinkWithFromRegister(i)}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(x.a),f.Pb(r.i),f.Pb(X.a))},t.\u0275cmp=f.Jb({type:t,selectors:[["app-require-login"]],viewQuery:function(t,e){if(1&t&&f.bd(Y,!0),2&t){let t;f.zc(t=f.dc())&&(e.contentDialog=t.first)}},hostBindings:function(t,e){1&t&&f.cc("mousedown",function(t){return e.onGlobalClick(t)},!1,f.Cc)},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[f.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],["ContentDialog",""],[1,"text-center"],[1,"mb-2","h5"],[1,"mb-0","text-info","clickable",2,"font-size","15px","font-weight","450",3,"click"],[1,"mb-1","h5","mt-2"],[1,"d-flex","float-right","mt-1"],[1,"azt-block-button"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&f.Rc(0,Z,21,15,"div",0),2&t&&f.nc("ngIf",null==e.data?null:e.data.isShow)},directives:[o.m,K.b],pipes:[F.q],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;background:#000;width:2px;display:block;height:35px;margin:0 10px -18px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();function et(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",3),f.Vb(1,"div",4),f.Vb(2,"p",5),f.Tc(3),f.hc(4,"mytranslate"),f.Ub(),f.Vb(5,"a",6),f.cc("click",function(){return f.Ec(t),f.gc(2).redirectToRegister()}),f.Tc(6),f.hc(7,"mytranslate"),f.Ub(),f.Vb(8,"p",7),f.Tc(9),f.hc(10,"mytranslate"),f.Ub(),f.Vb(11,"a",6),f.cc("click",function(){return f.Ec(t),f.gc(2).redirectToLogin()}),f.Tc(12),f.hc(13,"mytranslate"),f.Ub(),f.Ub(),f.Ub()}2&t&&(f.Db(3),f.Vc("",f.ic(4,4,"lang_homework_homework_frontend_submit_homework_register_account_submit"),"!"),f.Db(3),f.Uc(f.ic(7,6,"lang_buttom_register")),f.Db(3),f.Vc("",f.ic(10,8,"lang_homework_homework_frontend_submit_homework_have_account"),"?"),f.Db(3),f.Uc(f.ic(13,10,"lang_buttom_login")))}function nt(t,e){1&t&&(f.Vb(0,"span"),f.Qb(1,"span",13),f.Tc(2,"\xa0"),f.Ub())}function ot(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",3),f.Vb(1,"div",4),f.Vb(2,"p",8),f.Tc(3),f.hc(4,"mytranslate"),f.Ub(),f.Vb(5,"p",9),f.Tc(6),f.hc(7,"mytranslate"),f.Ub(),f.Ub(),f.Vb(8,"div",10),f.Vb(9,"button",11),f.cc("click",function(){return f.Ec(t),f.gc(2).confirmQuit()}),f.Rc(10,nt,3,0,"span",12),f.Tc(11),f.hc(12,"mytranslate"),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=f.gc(2);f.Db(3),f.Vc("",f.ic(4,4,"lang_homework_homework_frontend_submit_homework_register_account_submit"),"!"),f.Db(3),f.Uc(f.ic(7,6,"lang_buttom_register")),f.Db(4),f.nc("ngIf",!0===t.isLoading),f.Db(1),f.Vc(" ",f.ic(12,8,"lang_buttom_confirm")," ")}}function it(t,e){if(1&t&&(f.Vb(0,"div",1),f.Rc(1,et,14,12,"div",2),f.Rc(2,ot,13,10,"div",2),f.Ub()),2&t){const t=f.gc();f.Db(1),f.nc("ngIf",0==t.viewType),f.Db(1),f.nc("ngIf",1==t.viewType)}}let st=(()=>{class t extends g.a{constructor(t,e,n){super(t),this.commonService=t,this.router=e,this.redirectService=n,this.closeDialog=new f.o,this.isLoading=!1,this.viewType=0}confirmQuit(){this.closeDialog.emit(!0)}checkType(t){"redirect_register"==t?this.viewType=0:"submit_name"==t&&(this.viewType=1)}redirectToRegister(){this.redirectService.redirectRegisterForStudent()}redirectToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(""+this.router.url)}ngOnInit(){this.data&&this.checkType(this.data.type),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(x.a),f.Pb(r.i),f.Pb(X.a))},t.\u0275cmp=f.Jb({type:t,selectors:[["app-message-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[f.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],["class","school-info p-4",4,"ngIf"],[1,"school-info","p-4"],[1,"text-center"],[1,"mb-2","h5"],[1,"mb-0","h4","text-info","clickable",3,"click"],[1,"mb-2","h5","mt-4"],[1,"mb-1","h5"],[1,"mb-0","h4","text-info"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&f.Rc(0,it,3,2,"div",0),2&t&&f.nc("ngIf",null==e.data?null:e.data.isShow)},directives:[o.m,K.b],pipes:[F.q],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;background:#000;width:2px;display:block;height:35px;margin:0 10px -18px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();var rt=n("wAhq"),ct=n("NFeN"),at=n("loSA");function lt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"a",14),f.cc("click",function(){f.Ec(t);const e=f.gc().$implicit;return f.gc(2).viewDetailHistory(null==e?null:e.id)}),f.Tc(1,"Xem chi ti\u1ebft"),f.Ub()}}function dt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",17),f.Vb(1,"a",18),f.cc("click",function(){f.Ec(t);const n=e.$implicit;return f.gc(4).onShowFile(n,-1)}),f.Vb(2,"mat-icon",19),f.Tc(3,"attach_file"),f.Ub(),f.Vb(4,"span",20),f.Tc(5),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Db(4),f.nc("title",t.name),f.Db(1),f.Uc(t.name)}}function bt(t,e){if(1&t&&(f.Vb(0,"div",15),f.Rc(1,dt,6,2,"div",16),f.Ub()),2&t){const t=f.gc().$implicit;f.Db(1),f.nc("ngForOf",t.fileParse)}}function ht(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",17),f.Vb(1,"a",18),f.cc("click",function(){f.Ec(t);const n=e.$implicit;return f.gc(5).onShowFile(n,-1)}),f.Vb(2,"mat-icon",19),f.Tc(3,"attach_file"),f.Ub(),f.Vb(4,"span",20),f.Tc(5),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Db(4),f.nc("title",t.name),f.Db(1),f.Uc(t.name)}}function ut(t,e){if(1&t&&(f.Vb(0,"div",15),f.Rc(1,ht,6,2,"div",16),f.Ub()),2&t){const t=f.gc(2).$implicit;f.Db(1),f.nc("ngForOf",t.fileParse)}}function mt(t,e){if(1&t&&(f.Vb(0,"p",8),f.Qb(1,"azt-check-mark",29),f.Ub()),2&t){const t=f.gc(3).$implicit;f.Db(1),f.nc("mark",t.point)}}function gt(t,e){if(1&t&&(f.Vb(0,"div",23),f.Vb(1,"div",24),f.Rc(2,mt,2,1,"p",25),f.Ub(),f.Vb(3,"div",26),f.Vb(4,"span",27),f.Tc(5),f.hc(6,"mytranslate"),f.Ub(),f.Qb(7,"div",28),f.Ub(),f.Ub()),2&t){const t=f.gc(2).$implicit;f.Db(2),f.nc("ngIf",!t.hideMark),f.Db(3),f.Uc(f.ic(6,3,"lang_homework_homework_frontend_utils_comment")),f.Db(2),f.nc("innerHTML",t.note,f.Fc)}}function ft(t,e){if(1&t&&(f.Vb(0,"div",21),f.Rc(1,ut,2,1,"div",12),f.Rc(2,gt,8,5,"div",22),f.Ub()),2&t){const t=f.gc().$implicit;f.Db(1),f.nc("ngIf",t.fileParse&&t.fileParse.length>0),f.Db(1),f.nc("ngIf",null!=t&&null!=t.confirmedAt)}}function pt(t,e){if(1&t&&(f.Vb(0,"div",6),f.Vb(1,"div",7),f.Vb(2,"span",8),f.Tc(3),f.hc(4,"date"),f.Ub(),f.Rc(5,lt,2,0,"a",9),f.Ub(),f.Vb(6,"div",7),f.Vb(7,"span",10),f.Tc(8),f.hc(9,"mytranslate"),f.Vb(10,"span",11),f.Tc(11),f.Ub(),f.Ub(),f.Ub(),f.Rc(12,bt,2,1,"div",12),f.Rc(13,ft,3,2,"div",13),f.Ub()),2&t){const t=e.$implicit;f.Db(3),f.Vc("N\u1ed9p l\xfac: ",f.jc(4,6,t.createdAt,"dd/MM/yyyy hh:mm"),""),f.Db(2),f.nc("ngIf",t.result),f.Db(3),f.Vc("",f.ic(9,9,"lang_homework_homework_frontend_utils_request_submit"),": "),f.Db(3),f.Uc(t.resendNote),f.Db(1),f.nc("ngIf",!t.result&&t.files),f.Db(1),f.nc("ngIf",t.result)}}function _t(t,e){if(1&t&&(f.Vb(0,"div",1),f.Vb(1,"div",2),f.Vb(2,"div",3),f.Vb(3,"span",4),f.Tc(4),f.hc(5,"mytranslate"),f.Ub(),f.Ub(),f.Ub(),f.Rc(6,pt,14,11,"div",5),f.Ub()),2&t){const t=f.gc();f.Db(4),f.Uc(f.ic(5,2,"lang_homework_homework_frontend_utils_history_submit")),f.Db(2),f.nc("ngForOf",t.dataAnswerHistory)}}let wt=(()=>{class t extends g.a{constructor(t){super(t),this.commonService=t,this.previewFileEmit=new f.o,this.isShowPreviewFile=!1,this.answerFile=null}viewDetailHistory(t){var e,n;this.commonService.myNavigation("/homework/view-homework/"+(null===(e=this.dataHomeworkObj)||void 0===e?void 0:e.id)+"/"+(null===(n=this.dataHomeworkObj)||void 0===n?void 0:n.hashId)+"/"+t)}onFileClose(){this.isShowPreviewFile=!1}onShowFile(t,e){this.isShowPreviewFile=!0;let n=Object.assign(Object.assign({},t),{index:e});this.previewFileEmit.emit(n)}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(x.a))},t.\u0275cmp=f.Jb({type:t,selectors:[["app-answer-history"]],inputs:{dataAnswerHistory:"dataAnswerHistory",dataHomeworkObj:"dataHomeworkObj"},outputs:{previewFileEmit:"previewFileEmit"},features:[f.Ab],decls:1,vars:1,consts:[["class","card-box mt-3",4,"ngIf"],[1,"card-box","mt-3"],[1,"row","top-row"],[1,"col-12","text-center"],[1,"h5","text-white"],["class","ml-0 mr-0 mt-4 attach-container p-2",4,"ngFor","ngForOf"],[1,"ml-0","mr-0","mt-4","attach-container","p-2"],[1,"flex-title","mt-2","pl-3","pr-3"],[1,"mb-0"],[3,"click",4,"ngIf"],[1,"mb-0",2,"font-weight","400"],[1,"text-danger","text-bold"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","mt-2",4,"ngIf"],[3,"click"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6",3,"title"],[1,"mt-2"],["class","row justify-content-between mt-2","style","margin: 16px!important;",4,"ngIf"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-sm-3","col-md-3","col-lg-3","_col-left_result","text-center"],["class","mb-0",4,"ngIf"],[1,"col-sm-8","col-md-8","col-lg-8","_col-right_result"],[1,"h5","title"],[1,"content-homework","pt-3",3,"innerHTML"],[3,"mark"]],template:function(t,e){1&t&&f.Rc(0,_t,7,4,"div",0),2&t&&f.nc("ngIf",e.dataAnswerHistory&&e.dataAnswerHistory.length>0)},directives:[o.m,o.l,ct.a,at.a],pipes:[F.q,o.e],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0;border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;margin-left:5px}.files[_ngcontent-%COMP%], .flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}"]}),t})();var vt=n("Qu3c");function kt(t,e){1&t&&f.Qb(0,"azt-loading-effect")}function Ot(t,e){if(1&t&&(f.Vb(0,"div"),f.Vb(1,"div",9),f.Vb(2,"div",10),f.Vb(3,"div",11),f.Tc(4),f.hc(5,"mytranslate"),f.Ub(),f.Ub(),f.Ub(),f.Ub()),2&t){const t=f.gc(2);f.Db(4),f.Uc(f.ic(5,1,t.statusObj.errorMessage))}}function jt(t,e){if(1&t&&(f.Vb(0,"p",17),f.Tc(1),f.hc(2,"mytranslate"),f.Vb(3,"span",18),f.Tc(4),f.Ub(),f.Ub()),2&t){const t=f.gc(4);f.Db(1),f.Vc(" ",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_name_homework"),": "),f.Db(3),f.Uc(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name)}}function xt(t,e){if(1&t&&(f.Vb(0,"div",15),f.Rc(1,jt,5,4,"p",16),f.Vb(2,"p",17),f.Tc(3),f.hc(4,"mytranslate"),f.Vb(5,"span",18),f.Tc(6),f.Ub(),f.Qb(7,"azt-download-qr-code",19),f.Ub(),f.Ub()),2&t){const t=f.gc(3);f.Db(1),f.nc("ngIf",(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name)&&""!=(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name)),f.Db(2),f.Vc(" ",f.ic(4,5,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),f.Db(3),f.Uc(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.hashId),f.Db(1),f.nc("fileName","azota_submit_homework_qrcode_"+t.homeworkHashId)("linkUrl",t.urlLocation)}}function yt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"app-send-request",20),f.cc("confirmSend",function(e){return f.Ec(t),f.gc(3).confirmSendRequest(e)})("closeDialog",function(){return f.Ec(t),f.gc(3).closeRequestDialog()}),f.Ub()}if(2&t){const t=f.gc(3);f.nc("data",t.sendRequestData)}}function Mt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"app-require-login",21),f.cc("closeDialog",function(){return f.Ec(t),f.gc(3).closeRequireLogin()}),f.Ub()}if(2&t){const t=f.gc(3);f.nc("data",t.requireLogin)}}function Ct(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div"),f.Rc(1,xt,8,7,"div",12),f.Vb(2,"app-select-student",13),f.cc("selectChild",function(e){return f.Ec(t),f.gc(2).closeChooseStudent(e)})("approvedByName",function(e){return f.Ec(t),f.gc(2).approvedToClass(e)}),f.Ub(),f.Rc(3,yt,1,1,"app-send-request",14),f.Rc(4,Mt,1,1,"app-require-login",8),f.Ub()}if(2&t){const t=f.gc(2);f.Db(1),f.nc("ngIf",(null==t.obj?null:t.obj.homeworkObj)&&(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.hashId)&&""!=(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.hashId)),f.Db(1),f.nc("homeworkFlow",!0)("data",t.chooseChildData)("showAddStudent",null==t.chooseChildData.classObj?null:t.chooseChildData.classObj.showAddStudent),f.Db(1),f.nc("ngIf",null==t.sendRequestData?null:t.sendRequestData.isShow),f.Db(1),f.nc("ngIf",null==t.requireLogin?null:t.requireLogin.isShow)}}function Pt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"app-message-dialog",21),f.cc("closeDialog",function(e){return f.Ec(t),f.gc(2).closeMessageDialog(e)}),f.Ub()}if(2&t){const t=f.gc(2);f.nc("data",t.messageDialogData)}}function Dt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div"),f.Vb(1,"azt-preview-media",23),f.cc("closePreview",function(){return f.Ec(t),f.gc(3).onFileClose()}),f.Ub(),f.Ub()}if(2&t){const t=f.gc(3);f.Db(1),f.nc("fileOption",t.previewFile)}}function Ut(t,e){1&t&&(f.Vb(0,"div",26),f.Vb(1,"span"),f.Tc(2),f.hc(3,"mytranslate"),f.Ub(),f.Ub()),2&t&&(f.Db(2),f.Uc(f.ic(3,1,"lang_core_over_time_deadline")))}function Vt(t,e){if(1&t&&(f.Vb(0,"p",17),f.Tc(1),f.hc(2,"mytranslate"),f.Vb(3,"span",18),f.Tc(4),f.Ub(),f.Ub()),2&t){const t=f.gc(6);f.Db(1),f.Vc(" ",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_name_homework"),": "),f.Db(3),f.Uc(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name)}}function St(t,e){if(1&t&&(f.Vb(0,"span",32),f.Tc(1),f.hc(2,"mytranslate"),f.hc(3,"date"),f.Ub()),2&t){const t=f.gc(6);f.Db(1),f.Wc("",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",f.jc(3,4,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline,"dd/MM/yyyy HH:mm:ss"),"")}}function It(t,e){1&t&&(f.Vb(0,"span",32),f.Tc(1),f.hc(2,"mytranslate"),f.hc(3,"mytranslate"),f.Ub()),2&t&&(f.Db(1),f.Wc("",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",f.ic(3,4,"lang_homework_homework_frontend_submit_homework_not_time"),""))}function Ft(t,e){if(1&t&&(f.Vb(0,"span",32),f.Tc(1),f.hc(2,"mytranslate"),f.hc(3,"date"),f.Ub()),2&t){const t=f.gc(6);f.Db(1),f.Wc("",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",f.jc(3,4,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline,"dd/MM/yyyy HH:mm:ss"),"")}}function Tt(t,e){1&t&&(f.Vb(0,"span",32),f.Tc(1),f.hc(2,"mytranslate"),f.hc(3,"mytranslate"),f.Ub()),2&t&&(f.Db(1),f.Wc("",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",f.ic(3,4,"lang_homework_homework_frontend_submit_homework_not_time"),""))}function Rt(t,e){if(1&t&&(f.Vb(0,"div",45),f.Vb(1,"div",46),f.Tc(2),f.hc(3,"mytranslate"),f.Ub(),f.Ub()),2&t){const t=f.gc(6);f.Db(2),f.Wc("",f.ic(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",t.currentChild.fullName,"")}}function Lt(t,e){if(1&t&&(f.Vb(0,"div",47),f.Vb(1,"div",46),f.Tc(2),f.hc(3,"mytranslate"),f.Ub(),f.Ub()),2&t){const t=f.gc(6);f.Db(2),f.Wc("",f.ic(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",t.currentChild.fullName,"")}}function At(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",51),f.Vb(1,"div",52),f.Vb(2,"a",53),f.cc("click",function(){f.Ec(t);const n=e.$implicit;return f.gc(7).onShowFile(n,-1)}),f.Vb(3,"mat-icon",54),f.Tc(4,"text_snippet"),f.Ub(),f.Vb(5,"span",55),f.Tc(6),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Db(5),f.nc("title",t.name),f.Db(1),f.Uc(t.name)}}function Ht(t,e){if(1&t&&(f.Vb(0,"div",48),f.Vb(1,"div",49),f.Rc(2,At,7,2,"div",50),f.Ub(),f.Ub()),2&t){const t=f.gc(6);f.Db(2),f.nc("ngForOf",t.files)}}function zt(t,e){if(1&t&&(f.Vb(0,"p",58),f.Tc(1),f.hc(2,"mytranslate"),f.Vb(3,"span",59),f.Tc(4),f.Ub(),f.Ub()),2&t){const t=f.gc(7);f.Db(1),f.Vc("",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_teacher_request_submit"),": "),f.Db(3),f.Uc(t.resendNote)}}function Et(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",65),f.Vb(1,"div",66),f.Vb(2,"div",67),f.cc("click",function(){return f.Ec(t),f.Ac(12).click()}),f.Vb(3,"div",52),f.Vb(4,"a",68),f.Vb(5,"mat-icon"),f.Tc(6,"add_a_photo"),f.Ub(),f.Ub(),f.Qb(7,"br"),f.Vb(8,"span"),f.Tc(9),f.hc(10,"mytranslate"),f.Ub(),f.Vb(11,"input",69,70),f.cc("change",function(e){return f.Ec(t),f.gc(8).captureFile(e)}),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Vb(13,"div",66),f.Vb(14,"div",71),f.cc("click",function(){return f.Ec(t),f.Ac(24).click()}),f.Vb(15,"div",52),f.Vb(16,"a",68),f.Vb(17,"mat-icon"),f.Tc(18,"attach_file"),f.Ub(),f.Ub(),f.Qb(19,"br"),f.Vb(20,"span"),f.Tc(21),f.hc(22,"mytranslate"),f.Ub(),f.Vb(23,"input",72,73),f.cc("change",function(e){return f.Ec(t),f.gc(8).selectFile(e)}),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Ub()}2&t&&(f.Db(9),f.Uc(f.ic(10,2,"lang_homework_homework_frontend_submit_homework_capture")),f.Db(12),f.Uc(f.ic(22,4,"lang_homework_homework_frontend_submit_homework_choose_file")))}function Nt(t,e){1&t&&(f.Vb(0,"div",49),f.Vb(1,"div",74),f.Vb(2,"div",75),f.Vb(3,"span"),f.Tc(4),f.hc(5,"mytranslate"),f.Ub(),f.Ub(),f.Ub(),f.Ub()),2&t&&(f.Db(4),f.Vc("",f.ic(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function Wt(t,e){1&t&&(f.Vb(0,"div",76),f.Vb(1,"p",17),f.Tc(2),f.hc(3,"mytranslate"),f.Ub(),f.Ub()),2&t&&(f.Db(2),f.Vc("",f.ic(3,1,"lang_homework_homework_frontend_submit_homework_loading_wait_it"),"!"))}const qt=function(t){return{"width.%":t}};function Qt(t,e){if(1&t&&(f.Vb(0,"div",79),f.Vb(1,"p",80),f.Tc(2),f.Ub(),f.Vb(3,"div",81),f.Qb(4,"div",82),f.Ub(),f.Ub()),2&t){const t=e.$implicit;f.Db(2),f.Uc(t.fileName),f.Db(2),f.nc("ngStyle",f.tc(2,qt,t.uploadProgress))}}function Jt(t,e){if(1&t&&(f.Vb(0,"div",77),f.Rc(1,Qt,5,4,"div",78),f.Ub()),2&t){const t=f.gc(8);f.Db(1),f.nc("ngForOf",t.convertObjToArray(t.fileUploadQueue))}}function $t(t,e){1&t&&(f.Vb(0,"div",76),f.Vb(1,"p",83),f.Tc(2),f.hc(3,"mytranslate"),f.Ub(),f.Ub()),2&t&&(f.Db(2),f.Vc("",f.ic(3,1,"lang_homework_homework_frontend_submit_homework_submit_success"),"!"))}function Bt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"span",100),f.cc("click",function(){f.Ec(t);const e=f.gc().$implicit;return f.gc(9).removeImg(e.url)}),f.Vb(1,"mat-icon"),f.Tc(2,"cancel"),f.Ub(),f.Tc(3," \xa0\xa0\xa0\xa0\xa0\xa0 "),f.Ub()}}function Gt(t,e){1&t&&(f.Vb(0,"span",101),f.Vb(1,"mat-icon",102),f.Tc(2,"check_box"),f.Ub(),f.Ub())}function Xt(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",85),f.Vb(1,"a",86),f.Vb(2,"div",87),f.Vb(3,"div",88),f.Vb(4,"img",89),f.cc("click",function(){f.Ec(t);const n=e.$implicit;return f.gc(9).onShowFile(n,-1)}),f.hc(5,"mycdn"),f.Ub(),f.Ub(),f.Vb(6,"div",90),f.Vb(7,"div",91),f.Vb(8,"mat-icon",92),f.cc("click",function(){f.Ec(t);const n=e.index,o=f.gc(9);return o.switchAttributeArray(o.answerFileList,n,n-1)}),f.hc(9,"mytranslate"),f.Tc(10," keyboard_arrow_left"),f.Ub(),f.Vb(11,"mat-icon",93),f.cc("click",function(){f.Ec(t);const n=e.index,o=f.gc(9);return o.switchAttributeArray(o.answerFileList,n,n-1)}),f.hc(12,"mytranslate"),f.Tc(13,"arrow_upward "),f.Ub(),f.Ub(),f.Vb(14,"div",94),f.Tc(15),f.hc(16,"mytranslate"),f.Vb(17,"input",95,96),f.cc("keyup.enter",function(){f.Ec(t);const n=e.index,o=f.Ac(18);return f.gc(9).switchAttributeArrayInput(n,o.value)})("change",function(){f.Ec(t);const n=e.index,o=f.Ac(18);return f.gc(9).switchAttributeArrayInput(n,o.value)}),f.Ub(),f.Ub(),f.Vb(19,"div",97),f.Vb(20,"mat-icon",92),f.cc("click",function(){f.Ec(t);const n=e.index,o=f.gc(9);return o.switchAttributeArray(o.answerFileList,n,n+1)}),f.hc(21,"mytranslate"),f.Tc(22," keyboard_arrow_right"),f.Ub(),f.Vb(23,"mat-icon",93),f.cc("click",function(){f.Ec(t);const n=e.index,o=f.gc(9);return o.switchAttributeArray(o.answerFileList,n,n+1)}),f.hc(24,"mytranslate"),f.Tc(25,"arrow_downward "),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Rc(26,Bt,4,0,"span",98),f.Rc(27,Gt,3,0,"span",99),f.Ub()}if(2&t){const t=e.$implicit,n=e.index,o=f.gc(9);f.Db(4),f.nc("src",f.ic(5,11,t.thumb),f.Ic),f.Db(4),f.oc("matTooltip",f.ic(9,13,"lang_homework_homework_frontend_submit_homework_go_to_front")),f.Db(3),f.oc("matTooltip",f.ic(12,15,"lang_homework_homework_frontend_submit_homework_go_to_top")),f.Db(4),f.Vc("",f.ic(16,17,"lang_homework_homework_frontend_submit_homework_page")," "),f.Db(2),f.oc("id","input_page_"+n),f.oc("max",null==o.answerFileList?null:o.answerFileList.length),f.oc("value",n+1),f.Db(3),f.oc("matTooltip",f.ic(21,19,"lang_homework_homework_frontend_submit_homework_go_to_backside")),f.Db(3),f.oc("matTooltip",f.ic(24,21,"lang_homework_homework_frontend_submit_homework_go_to_down")),f.Db(3),f.nc("ngIf",!(null!=o.obj&&o.obj.isMarked)),f.Db(1),f.nc("ngIf",o.isShowGreenCheckbox(t.url))}}function Kt(t,e){if(1&t&&(f.Vb(0,"div",77),f.Rc(1,Xt,28,23,"div",84),f.Ub()),2&t){const t=f.gc(8);f.Db(1),f.nc("ngForOf",t.answerFileList)}}function Yt(t,e){if(1&t&&(f.Vb(0,"div"),f.Qb(1,"input",60),f.Rc(2,Et,25,6,"div",61),f.Rc(3,Nt,6,3,"div",62),f.Rc(4,Wt,4,3,"div",63),f.Rc(5,Jt,2,1,"div",64),f.Rc(6,$t,4,3,"div",63),f.Rc(7,Kt,2,1,"div",64),f.Ub()),2&t){const t=f.gc(7);f.Db(2),f.nc("ngIf",!(null!=t.obj&&t.obj.isMarked)),f.Db(1),f.nc("ngIf",null==t.obj?null:t.obj.isMarked),f.Db(1),f.nc("ngIf",t.statusObjData.loading),f.Db(1),f.nc("ngIf",t.convertObjToArray(t.fileUploadQueue).length>0),f.Db(1),f.nc("ngIf",(null==t.answerFileList?null:t.answerFileList.length)&&(null==t.rawAnswerFileList?null:t.rawAnswerFileList.length)&&t.isSubmit),f.Db(1),f.nc("ngIf",null==t.answerFileList?null:t.answerFileList.length)}}function Zt(t,e){if(1&t&&(f.Vb(0,"form",56),f.Rc(1,zt,5,4,"p",57),f.Rc(2,Yt,8,6,"div",7),f.Ub()),2&t){const t=f.gc(6);f.nc("formGroup",t.form),f.Db(1),f.nc("ngIf",t.hasResentComment),f.Db(1),f.nc("ngIf",t.files.length>0||0==t.files.length)}}function te(t,e){1&t&&(f.Vb(0,"div",49),f.Vb(1,"div",74),f.Vb(2,"div",75),f.Vb(3,"span"),f.Tc(4),f.hc(5,"mytranslate"),f.Ub(),f.Ub(),f.Ub(),f.Ub()),2&t&&(f.Db(4),f.Vc("",f.ic(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function ee(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",85),f.Vb(1,"a",86),f.Vb(2,"div",87),f.Vb(3,"div",88),f.Vb(4,"img",104),f.cc("click",function(){f.Ec(t);const n=e.$implicit;return f.gc(9).onShowFile(n,-1)}),f.hc(5,"mycdn"),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Db(4),f.nc("src",f.ic(5,1,t.url),f.Ic)}}function ne(t,e){if(1&t&&(f.Vb(0,"div",77),f.Rc(1,ee,6,3,"div",84),f.Ub()),2&t){const t=f.gc(8);f.Db(1),f.nc("ngForOf",t.answerFileList)}}function oe(t,e){1&t&&(f.Vb(0,"div",105),f.Vb(1,"span"),f.Tc(2),f.hc(3,"mytranslate"),f.Ub(),f.Ub()),2&t&&(f.Db(2),f.Uc(f.ic(3,1,"lang_homework_homework_frontend_submit_homework_end_time_submit")))}function ie(t,e){if(1&t&&(f.Rc(0,te,6,3,"div",62),f.Rc(1,ne,2,1,"div",64),f.Rc(2,oe,4,3,"div",103)),2&t){const t=f.gc(7);f.nc("ngIf",null==t.obj?null:t.obj.isMarked),f.Db(1),f.nc("ngIf",(null==t.obj?null:t.obj.isOverTime)&&(null==t.answerFileList?null:t.answerFileList.length)),f.Db(1),f.nc("ngIf",(null==t.obj?null:t.obj.isOverTime)&&!(null!=t.obj&&t.obj.isMarked))}}function se(t,e){1&t&&f.Rc(0,ie,3,3,"ng-template")}function re(t,e){1&t&&(f.Vb(0,"span"),f.Qb(1,"span",108),f.Tc(2,"\xa0"),f.Ub())}function ce(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",106),f.Vb(1,"button",107),f.cc("click",function(){return f.Ec(t),f.gc(6).submitHomework()}),f.Rc(2,re,3,0,"span",7),f.Tc(3),f.hc(4,"mytranslate"),f.Ub(),f.Ub()}if(2&t){const t=f.gc(6);f.Db(1),f.nc("disabled",t.statusObjData.loading||!(null!=t.answerFileList&&t.answerFileList.length)||(null==t.obj?null:t.obj.isMarked)),f.Db(1),f.nc("ngIf",!0===t.statusObjData.loading),f.Db(1),f.Vc("",null!=t.obj&&t.obj.isMarked?"lang_homework_homework_frontend_submit_homework_submited":f.ic(4,3,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function ae(t,e){1&t&&(f.Vb(0,"span"),f.Qb(1,"span",108),f.Tc(2,"\xa0"),f.Ub())}function le(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",106),f.Vb(1,"button",109),f.cc("click",function(){return f.Ec(t),f.gc(6).submitHomework()}),f.Rc(2,ae,3,0,"span",7),f.Tc(3),f.hc(4,"mytranslate"),f.Ub(),f.Ub()}if(2&t){const t=f.gc(6);f.Db(1),f.nc("disabled",t.statusObjData.loading||!(null!=t.answerFileList&&t.answerFileList.length)||(null==t.obj?null:t.obj.isOverTime)),f.Db(1),f.nc("ngIf",!0===t.statusObjData.loading),f.Db(1),f.Vc("",null!=t.obj&&t.obj.isMarked?"lang_homework_homework_frontend_submit_homework_submited":f.ic(4,3,"lang_homework_homework_frontend_submit_homework_end_dealine_submit")," ")}}const de=function(t){return{"pt-2":t}};function be(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div"),f.Vb(1,"div",15),f.Rc(2,Vt,5,4,"p",16),f.Vb(3,"p",17),f.Tc(4),f.hc(5,"mytranslate"),f.Vb(6,"span",18),f.Tc(7),f.Ub(),f.Qb(8,"azt-download-qr-code",19),f.Ub(),f.Ub(),f.Vb(9,"div",28),f.Vb(10,"div",29),f.Vb(11,"div",30),f.Vb(12,"div",31),f.Vb(13,"span",32),f.Tc(14),f.hc(15,"mytranslate"),f.hc(16,"date"),f.Ub(),f.Rc(17,St,4,7,"span",33),f.Rc(18,It,4,6,"span",33),f.Ub(),f.Vb(19,"div",34),f.Vb(20,"span",32),f.Tc(21),f.hc(22,"mytranslate"),f.hc(23,"date"),f.Ub(),f.Rc(24,Ft,4,7,"span",33),f.Rc(25,Tt,4,6,"span",33),f.Ub(),f.Ub(),f.Vb(26,"div",30),f.Rc(27,Rt,4,4,"div",35),f.Rc(28,Lt,4,4,"div",36),f.Ub(),f.Ub(),f.Vb(29,"div",37),f.Qb(30,"div",38),f.Ub(),f.Rc(31,Ht,3,1,"div",39),f.Vb(32,"div",40),f.Rc(33,Zt,3,3,"form",41),f.Rc(34,se,1,0,void 0,7),f.Vb(35,"div",42),f.Rc(36,ce,5,5,"div",43),f.Rc(37,le,5,5,"div",43),f.Ub(),f.Ub(),f.Ub(),f.Vb(38,"app-answer-history",44),f.cc("previewFileEmit",function(e){return f.Ec(t),f.gc(5).onShowFileTwo(e)}),f.Ub(),f.Ub()}if(2&t){const t=f.gc(5);f.Db(2),f.nc("ngIf",(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name)&&""!=(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name)),f.Db(2),f.Vc(" ",f.ic(5,24,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),f.Db(3),f.Uc(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.hashId),f.Db(1),f.nc("fileName","azota_submit_homework_qrcode_"+t.homeworkHashId)("linkUrl",t.urlLocation),f.Db(6),f.Wc("",f.ic(15,26,"lang_homework_homework_frontend_submit_homework_date_homework"),": ",f.jc(16,28,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.createdAt,"dd/MM/yyyy HH:mm:ss"),""),f.Db(3),f.nc("ngIf",null!=(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline)),f.Db(1),f.nc("ngIf",null==(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline)),f.Db(3),f.Wc("",f.ic(22,31,"lang_homework_homework_frontend_submit_homework_date_homework"),": ",f.jc(23,33,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.createdAt,"dd/MM/yyyy HH:mm:ss"),""),f.Db(3),f.nc("ngIf",null!=(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline)),f.Db(1),f.nc("ngIf",null==(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline)),f.Db(2),f.nc("ngIf",t.currentChild),f.Db(1),f.nc("ngIf",t.currentChild),f.Db(2),f.nc("innerHTML",null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.content,f.Fc),f.Db(1),f.nc("ngIf",t.files.length>0),f.Db(1),f.nc("ngClass",f.tc(36,de,null==t.obj?null:t.obj.isOverTime)),f.Db(1),f.nc("ngIf",!(null!=t.obj&&t.obj.isOverTime)),f.Db(1),f.nc("ngIf",null==t.obj?null:t.obj.isOverTime),f.Db(2),f.nc("ngIf",!(null!=t.obj&&t.obj.isOverTime)),f.Db(1),f.nc("ngIf",null==t.obj?null:t.obj.isOverTime),f.Db(1),f.nc("dataAnswerHistory",t.answerHistory)("dataHomeworkObj",null==t.obj?null:t.obj.homeworkObj)}}function he(t,e){if(1&t&&(f.Vb(0,"p",17),f.Tc(1),f.hc(2,"mytranslate"),f.Vb(3,"span",18),f.Tc(4),f.Ub(),f.Ub()),2&t){const t=f.gc(6);f.Db(1),f.Vc(" ",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_name_homework"),": "),f.Db(3),f.Uc(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name)}}function ue(t,e){if(1&t&&(f.Vb(0,"span",32),f.Tc(1),f.hc(2,"mytranslate"),f.hc(3,"date"),f.Ub()),2&t){const t=f.gc(6);f.Db(1),f.Wc("",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",f.jc(3,4,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline,"dd/MM/yyyy HH:mm:ss"),"")}}function me(t,e){1&t&&(f.Vb(0,"span",32),f.Tc(1),f.hc(2,"mytranslate"),f.hc(3,"mytranslate"),f.Ub()),2&t&&(f.Db(1),f.Wc("",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",f.ic(3,4,"lang_homework_homework_frontend_submit_homework_not_time"),""))}function ge(t,e){if(1&t&&(f.Vb(0,"div",45),f.Vb(1,"div",46),f.Tc(2),f.hc(3,"mytranslate"),f.Ub(),f.Ub()),2&t){const t=f.gc(6);f.Db(2),f.Wc("",f.ic(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",t.currentChild.fullName,"")}}function fe(t,e){if(1&t&&(f.Vb(0,"div",47),f.Vb(1,"div",46),f.Tc(2),f.hc(3,"mytranslate"),f.Ub(),f.Ub()),2&t){const t=f.gc(6);f.Db(2),f.Wc("",f.ic(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",t.currentChild.fullName,"")}}function pe(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",51),f.Vb(1,"div",52),f.Vb(2,"a",53),f.cc("click",function(){f.Ec(t);const n=e.$implicit;return f.gc(6).onShowFile(n,-1)}),f.Vb(3,"mat-icon",54),f.Tc(4,"text_snippet"),f.Ub(),f.Vb(5,"span",55),f.Tc(6),f.Ub(),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Db(5),f.nc("title",t.name),f.Db(1),f.Uc(t.name)}}function _e(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",79),f.Vb(1,"a",53),f.cc("click",function(){f.Ec(t);const n=e.$implicit;return f.gc(7).onShowFile(n,-1)}),f.Vb(2,"mat-icon",113),f.Tc(3,"attach_file "),f.Ub(),f.Vb(4,"span",55),f.Tc(5),f.Ub(),f.Ub(),f.Ub()}if(2&t){const t=e.$implicit;f.Db(4),f.nc("title",t.name),f.Db(1),f.Uc(t.name)}}function we(t,e){if(1&t&&(f.Vb(0,"div",77),f.Rc(1,_e,6,2,"div",78),f.Ub()),2&t){const t=f.gc(6);f.Db(1),f.nc("ngForOf",t.answerFileList)}}function ve(t,e){1&t&&f.Qb(0,"p",121)}function ke(t,e){if(1&t&&(f.Vb(0,"p",121),f.Qb(1,"azt-check-mark",122),f.Ub()),2&t){const t=f.gc(7);f.Db(1),f.nc("mark",t.answerObj.point)}}function Oe(t,e){if(1&t&&f.Qb(0,"div",127),2&t){const t=f.gc(8);f.nc("innerHTML",t.answerObj.note,f.Fc)}}function je(t,e){if(1&t&&f.Qb(0,"div",128),2&t){const t=f.gc(8);f.nc("innerHTML",t.answerObj.note,f.Fc)}}function xe(t,e){if(1&t&&f.Qb(0,"div",129),2&t){const t=f.gc(8);f.nc("innerHTML",t.answerObj.note,f.Fc)}}function ye(t,e){if(1&t&&f.Qb(0,"div",130),2&t){const t=f.gc(8);f.nc("innerHTML",t.answerObj.note,f.Fc)}}function Me(t,e){if(1&t&&(f.Vb(0,"div"),f.Rc(1,Oe,1,1,"div",123),f.Rc(2,je,1,1,"div",124),f.Rc(3,xe,1,1,"div",125),f.Rc(4,ye,1,1,"div",126),f.Ub()),2&t){const t=f.gc(7);f.Db(1),f.nc("ngIf","font_chu_in"==t.answerObj.txtCommentFont),f.Db(1),f.nc("ngIf","font_chu_in_\u0111am"==t.answerObj.txtCommentFont),f.Db(1),f.nc("ngIf","font_chu_dep_z"==t.answerObj.txtCommentFont),f.Db(1),f.nc("ngIf","font_chu_in_nghieng"==t.answerObj.txtCommentFont)}}function Ce(t,e){if(1&t&&f.Qb(0,"div",129),2&t){const t=f.gc(7);f.nc("innerHTML",t.answerObj.note,f.Fc)}}function Pe(t,e){if(1&t){const t=f.Wb();f.Vb(0,"span",111),f.Tc(1),f.hc(2,"mytranslate"),f.Ub(),f.Tc(3," ("),f.Vb(4,"a",114),f.cc("click",function(){return f.Ec(t),f.gc(6).viewDetail()}),f.Tc(5),f.hc(6,"mytranslate"),f.Ub(),f.Tc(7,") "),f.Vb(8,"div",115),f.Vb(9,"div",116),f.Rc(10,ve,1,0,"p",117),f.Rc(11,ke,2,1,"p",117),f.Ub(),f.Vb(12,"div",118),f.Vb(13,"span",119),f.Tc(14),f.hc(15,"mytranslate"),f.Ub(),f.Rc(16,Me,5,4,"div",4),f.Rc(17,Ce,1,1,"ng-template",null,120,f.Sc),f.Ub(),f.Ub()}if(2&t){const t=f.Ac(18),e=f.gc(6);f.Db(1),f.Uc(f.ic(2,7,"lang_homework_homework_frontend_submit_homework_result")),f.Db(4),f.Uc(f.ic(6,9,"lang_homework_homework_frontend_submit_homework_view_detail_result")),f.Db(5),f.nc("ngIf",!e.isHideMark&&!e.answerObj.point),f.Db(1),f.nc("ngIf",!e.isHideMark&&e.answerObj.point),f.Db(3),f.Uc(f.ic(15,11,"lang_homework_homework_frontend_submit_homework_comment")),f.Db(2),f.nc("ngIf",null!=e.answerObj.txtCommentFont||null!=e.answerObj.txtCommentFont)("ngIfElse",t)}}function De(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",15),f.Rc(1,he,5,4,"p",16),f.Vb(2,"p",17),f.Tc(3),f.hc(4,"mytranslate"),f.Vb(5,"span",18),f.Tc(6),f.Ub(),f.Qb(7,"azt-download-qr-code",19),f.Ub(),f.Ub(),f.Vb(8,"div",28),f.Vb(9,"div",29),f.Vb(10,"div",30),f.Vb(11,"span",32),f.Tc(12),f.hc(13,"mytranslate"),f.hc(14,"date"),f.Ub(),f.Rc(15,ue,4,7,"span",33),f.Rc(16,me,4,6,"span",33),f.Ub(),f.Vb(17,"div",30),f.Rc(18,ge,4,4,"div",35),f.Rc(19,fe,4,4,"div",36),f.Ub(),f.Ub(),f.Vb(20,"div",37),f.Qb(21,"div",38),f.Ub(),f.Vb(22,"div",48),f.Vb(23,"div",49),f.Rc(24,pe,7,2,"div",50),f.Ub(),f.Ub(),f.Vb(25,"div",110),f.Vb(26,"p"),f.Vb(27,"span",111),f.Tc(28),f.hc(29,"mytranslate"),f.Ub(),f.Tc(30),f.hc(31,"mytranslate"),f.hc(32,"date"),f.Ub(),f.Rc(33,we,2,1,"div",64),f.Rc(34,Pe,19,13,"ng-template",112),f.Ub(),f.Ub(),f.Vb(35,"app-answer-history",44),f.cc("previewFileEmit",function(e){return f.Ec(t),f.gc(5).onShowFileTwo(e)}),f.Ub()}if(2&t){const t=f.gc(5);f.Db(1),f.nc("ngIf",(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name)&&""!=(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.name)),f.Db(2),f.Vc(" ",f.ic(4,20,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),f.Db(3),f.Uc(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.hashId),f.Db(1),f.nc("fileName","azota_submit_homework_qrcode_"+t.homeworkHashId)("linkUrl",t.urlLocation),f.Db(5),f.Wc("",f.ic(13,22,"lang_homework_homework_frontend_submit_homework_date_homework")," ",f.jc(14,24,null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.createdAt,"dd/MM/yyyy HH:mm:ss"),""),f.Db(3),f.nc("ngIf",null!=(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline)),f.Db(1),f.nc("ngIf",null==(null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.deadline)),f.Db(2),f.nc("ngIf",t.currentChild),f.Db(1),f.nc("ngIf",t.currentChild),f.Db(2),f.nc("innerHTML",null==t.obj||null==t.obj.homeworkObj?null:t.obj.homeworkObj.content,f.Fc),f.Db(3),f.nc("ngForOf",t.files),f.Db(4),f.Uc(f.ic(29,27,"lang_homework_homework_frontend_submit_homework_assignment")),f.Db(2),f.Wc(" (",f.ic(31,29,"lang_homework_homework_frontend_submit_homework_time_submit"),": ",f.jc(32,31,null==t.answerObj?null:t.answerObj.createdAt,"dd/MM/yyyy HH:mm:ss, HH:mm "),")"),f.Db(3),f.nc("ngIf",null==t.answerFileList?null:t.answerFileList.length),f.Db(1),f.nc("ngIf",null!=t.answerObj&&(null==t.obj?null:t.obj.isMarked)),f.Db(1),f.nc("dataAnswerHistory",t.answerHistory)("dataHomeworkObj",null==t.obj?null:t.obj.homeworkObj)}}function Ue(t,e){if(1&t&&(f.Rc(0,be,39,38,"div",4),f.Rc(1,De,36,34,"ng-template",null,27,f.Sc)),2&t){const t=f.Ac(2),e=f.gc(4);f.nc("ngIf",null==e.answerObj||null!=e.answerObj&&null==e.answerObj.confirmedAt)("ngIfElse",t)}}function Ve(t,e){if(1&t&&(f.Rc(0,Ut,4,3,"div",24),f.Rc(1,Ue,3,2,"ng-template",null,25,f.Sc)),2&t){const t=f.Ac(2),e=f.gc(3);f.nc("ngIf",(null==e.obj?null:e.obj.isOverTime)&&!(null!=e.obj&&null!=e.obj.answerObj&&e.obj.answerObj.createdAt))("ngIfElse",t)}}function Se(t,e){if(1&t&&(f.Vb(0,"div"),f.Rc(1,Dt,2,1,"div",4),f.Rc(2,Ve,3,2,"ng-template",null,22,f.Sc),f.Ub()),2&t){const t=f.Ac(3),e=f.gc(2);f.Db(1),f.nc("ngIf",e.isShowPreviewFile)("ngIfElse",t)}}function Ie(t,e){if(1&t&&(f.Rc(0,Ot,6,3,"div",7),f.Rc(1,Ct,5,6,"div",7),f.Rc(2,Pt,1,1,"app-message-dialog",8),f.Rc(3,Se,4,2,"div",7)),2&t){const t=f.gc();f.nc("ngIf",""!=t.statusObj.errorMessage),f.Db(1),f.nc("ngIf",t.selectChild),f.Db(1),f.nc("ngIf",t.messageDialogData.isShow),f.Db(1),f.nc("ngIf",t.normalFlow)}}function Fe(t,e){if(1&t){const t=f.Wb();f.Vb(0,"div",131),f.Tc(1),f.hc(2,"mytranslate"),f.Vb(3,"a",132),f.cc("click",function(){f.Ec(t);const e=f.gc();return e.isShowErrorsBox=!e.isShowErrorsBox}),f.Tc(4),f.Ub(),f.Tc(5," ) "),f.Ub()}if(2&t){const t=f.gc();f.Db(1),f.Vc(" ",f.ic(2,2,"lang_homework_homework_frontend_submit_homework_error_exchange_data"),". ( "),f.Db(3),f.Uc(t.isShowErrorsBox?"lang_homework_homework_frontend_submit_homework_hide_detail":"lang_homework_homework_frontend_submit_homework_view_detail")}}function Te(t,e){if(1&t&&(f.Vb(0,"div"),f.Vb(1,"div"),f.Tc(2),f.Ub(),f.Ub()),2&t){const t=e.$implicit;f.Db(2),f.Uc(t)}}function Re(t,e){if(1&t&&(f.Vb(0,"div",131),f.Rc(1,Te,3,1,"div",133),f.Ub()),2&t){const t=f.gc();f.Db(1),f.nc("ngForOf",t.logs)}}let Le=(()=>{class t extends g.a{constructor(t,e,n,o,s,r,c,a,l,d,b,h,u){super(n),this.fb=t,this.activeRoute=e,this.commonService=n,this.baseApiService=o,this.myPdfService=s,this.localStorageObjetct=r,this.frontHomeworkService=c,this.frontAnswerService=a,this.frontStudentService=l,this.apiUploadService=d,this.zipdataService=b,this.userService=h,this.homeworkExamService=u,this.form=new i.k({}),this.homeworkHashId="",this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.currentChild={},this.files=[],this.hasResentComment=!1,this.isSubmit=!1,this.urlLocation="",this.isShowPreviewFile=!1,this.logs=[],this.isShowErrorsBox=!1,this.isHideMark=!1,this.fileUploadQueue=[],this.uploadCount=0,this.selectChild=!1,this.isPendingApproved=!1,this.messageDialogData={type:"",isShow:!1},this.normalFlow=!1,this.chooseChildData={isPendingApproved:!1,isShow:!1},this.backtoLink="/student/dashboard/1",this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.requireLogin={studentObj:void 0,classId:-1,isShow:!1},this.countUpload=1,this.selectFile=t=>Object(w.a)(this,void 0,void 0,function*(){let e=t.target.files;try{for(let t in e)if("length"!=t&&"item"!=t)if(Object(j.i)(e[t].type))if(Object(j.b)(e[t].size)<=200)if(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},Object(j.h)(e[t].type)){let n=yield this.myPdfService.getImageWithPdf(e[t]);this.answerFile=e?e[t]:this.answerFile,this.uploadFiles(n,this.uploadCount),this.uploadCount+=1}else this.answerFile=e?e[t]:this.answerFile,this.answerFile&&(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.commonService.snackError("Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB","");else this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF","");t.target.value="",this.isSubmit=!1}catch(n){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+n)}}),this.uploadFileVideo=(t,e)=>Object(w.a)(this,void 0,void 0,function*(){var n,o,i,s,r={qrcode:void 0,homeworkId:null===(o=null===(n=this.obj)||void 0===n?void 0:n.homeworkObj)||void 0===o?void 0:o.id,teacherId:null===(s=null===(i=this.obj)||void 0===i?void 0:i.homeworkObj)||void 0===s?void 0:s.tenantId};this.subscriptions.add(this.apiUploadService.uploadToVimeoProgress("front_homework",t,r).subscribe(n=>{var o;n.isOnProgress?this.fileUploadQueue.hasOwnProperty(e)?(this.fileUploadQueue[e].uploadProgress=Math.round(null!==(o=n.percentage)&&void 0!==o?o:0),this.fileUploadQueue[e].fileName=t.name):this.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}:1==n.success?(delete this.fileUploadQueue[e],Array.isArray(this.answerFileList)||(this.answerFileList=[]),this.addFileWithProsess(Object.assign(Object.assign({},n.data),{lastModified:t.lastModified})),this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""}):n.hasOwnProperty("code")&&401==n.code?this.countUpload<=3&&setTimeout(()=>{this.countUpload++,this.uploadFileVideo(t,e)},15e3):(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin! Vui l\xf2ng th\u1eed l\u1ea1i sau! T\xean: "+t.name,""),this.commonService.gaEvent("FrontHomework_UploadError"))}))}),this.uploadFiles=(t,e)=>Object(w.a)(this,void 0,void 0,function*(){for(let n=0;n<t.length;n++){const o=t[n];yield Object(j.a)(o).then(t=>{this.apiUploadService.uploadToCdnProgressForFrontendHomework(t).subscribe(n=>{n.type!=v.d.UploadProgress&&(1==n.success?(delete this.fileUploadQueue[e],Array.isArray(this.answerFileList)||(this.answerFileList=[]),this.addFileWithProsess(Object.assign(Object.assign({},n.data),{lastModified:t.lastModified}))):(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin (T\xean:"+o.name+"! Vui l\xf2ng th\u1eed l\u1ea1i sau!","")))})}),n===t.length-1&&(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""})}}),this.uploadFile=(t,e)=>Object(w.a)(this,void 0,void 0,function*(){this.isSubmit=!1,(Object(j.e)(t.type)||Object(j.l)(t.type)||Object(j.d)(t.type)||Object(j.h)(t.type)||Object(j.g)(t.type))&&Object(j.a)(t).then(n=>{this.apiUploadService.uploadToCdnProgressForFrontendHomework(n).subscribe(o=>{var i,s;if(o.type!=v.d.UploadProgress)1==o.success?(delete this.fileUploadQueue[e],Array.isArray(this.answerFileList)||(this.answerFileList=[]),this.addFileWithProsess(Object.assign(Object.assign({},o.data),{lastModified:n.lastModified})),this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""}):(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.commonService.gaEvent("FrontHomework_UploadError"),this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh (T\xean: "+t.name+")! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: [SPLIT_LANG]"+o.message));else{let n=Math.round(null!==(i=o.loaded)&&void 0!==i?i:0/(null!==(s=o.total)&&void 0!==s?s:1)*100);this.fileUploadQueue.hasOwnProperty(e)?(this.fileUploadQueue[e].uploadProgress=n,this.fileUploadQueue[e].fileName=t.name):this.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}}})})}),this.captureFile=t=>Object(w.a)(this,void 0,void 0,function*(){let e=t.target.files;try{for(let t in e)if("length"!=t&&"item"!=t)if(Object(j.i)(e[t].type))if(Object(j.b)(e[t].size)<=200)if(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},Object(j.h)(e[t].type)){let n=yield this.myPdfService.getImageWithPdf(e[t]);this.answerFile=e?e[t]:this.answerFile,this.uploadFiles(n,this.uploadCount),this.uploadCount+=1}else this.answerFile=e?e[t]:this.answerFile,this.answerFile&&(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.commonService.snackError("Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB","");else this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF","");t.target.value="",this.isSubmit=!1}catch(n){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+n)}}),this.answerFile=null}isShowGreenCheckbox(t){if(this.rawAnswerFileList&&this.rawAnswerFileList.length>0)for(let e=0;e<this.rawAnswerFileList.length;e++)if(this.rawAnswerFileList[e].url===t)return!0;return!1}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(t,e){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},t),{index:e})}onShowFileTwo(t){this.isShowPreviewFile=!0,this.previewFile=t}showAllSubmit(){this.commonService.myNavigation("/student/dashboard/1")}viewDetail(){var t;this.commonService.myNavigation("/homework/view-homework/"+(null===(t=this.answerObj)||void 0===t?void 0:t.id)+"/"+this.homeworkHashId)}viewDetailHistory(t){var e,n;this.commonService.myNavigation("/homework/view-homework/"+(null===(n=null===(e=this.obj)||void 0===e?void 0:e.homeworkObj)||void 0===n?void 0:n.id)+"/"+this.homeworkHashId+"/"+t)}openChooseStudent(t){1==t?(this.chooseChildData.isPendingApproved=!1,this.chooseChildData.isShow=!0):(this.chooseChildData.isPendingApproved=!0,this.chooseChildData.isShow=!0)}closeChooseStudent(t){var e,n,o,i,s;0==(null===(e=t.studentObj)||void 0===e?void 0:e.isVerified)||1==(null===(n=t.classroomObj)||void 0===n?void 0:n.freeChooseName)?this.frontStudentService.apiFrontStudentAddStudentToClassForHomeworkGet(this.homeworkHashId,null===(i=null===(o=this.obj)||void 0===o?void 0:o.classroomObj)||void 0===i?void 0:i.id,t.studentObj?t.studentObj.id:0).subscribe(t=>{var e;1===t.success?(this.getData(),this.selectChild=!1,this.isPendingApproved=!1):this.showErrorSnack(null!==(e=t.message)&&void 0!==e?e:"")}):this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?this.userService.getUserObj().id==(null===(s=t.studentObj)||void 0===s?void 0:s.parentId)?(this.urlStudentId=0,this.getData(),this.selectChild=!1,this.isPendingApproved=!1,this.normalFlow=!0):this.sendRequestData={studentObj:t.studentObj,classId:t.classId,isShow:!0}:this.requireLogin={studentObj:t.studentObj,isShow:!0}}closeRequireLogin(){this.requireLogin={studentObj:void 0,isShow:!1}}confirmSendRequest(t){t?(this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.commonService.snackSuccess("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi cho Gi\xe1o vi\xean!","")):(this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.commonService.snackError("Ch\u01b0a th\u1ec3 g\u1eedi y\xeau c\u1ea7u! Vui l\xf2ng th\u1eed l\u1ea1i",""))}closeRequestDialog(){this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1}}approvedToClass(t){var e,n;let o={fullName:t.nameEmit,homeworkHashId:this.homeworkHashId,classroomId:null===(n=null===(e=this.obj)||void 0===e?void 0:e.classroomObj)||void 0===n?void 0:n.id};this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForHomeworkPost(o).subscribe(t=>{var e;1==t.success?this.getData():this.showErrorSnack(null!==(e=t.message)&&void 0!==e?e:"")}))}cloneArray(t){let e=[];return null==t||t.forEach(t=>{e.push(t)}),e}fillData(){var t,e,n,o,i,s,r,c,a,l,d,b;if(this.files=this.commonService.parseJson(null!==(n=null===(e=null===(t=this.obj)||void 0===t?void 0:t.homeworkObj)||void 0===e?void 0:e.files)&&void 0!==n?n:""),null==this.files&&(this.files=new Array),(null===(o=this.obj)||void 0===o?void 0:o.answerObj)&&this.obj.answerObj.files&&(this.answerFileList=this.commonService.parseJson(this.obj.answerObj.files),this.addFileWithProsess(),this.rawAnswerFileList=this.cloneArray(this.commonService.parseJson(this.obj.answerObj.files))),null===(i=this.obj)||void 0===i?void 0:i.answerHistoryObjs){for(let t=0;t<this.obj.answerHistoryObjs.length;t++)this.resendNote=this.obj.answerHistoryObjs[0].resendNote,this.hasResentComment=!0,this.obj.answerHistoryObjs[t].result&&(this.obj.answerHistoryObjs[t].note=this.commonService.parseJson(null!==(s=this.obj.answerHistoryObjs[t].result)&&void 0!==s?s:"").comment);this.answerHistory=this.obj.answerHistoryObjs;for(let t=0;t<this.answerHistory.length;t++)this.answerHistory[t].result&&(this.answerHistory[t].hideMark=this.commonService.parseJson(null!==(r=this.answerHistory[t].resultNote)&&void 0!==r?r:"").IsHideMark),this.answerHistory[t].files&&(this.answerHistory[t].fileParse=this.commonService.parseJson(null!==(c=this.answerHistory[t].files)&&void 0!==c?c:""))}(null===(a=this.obj)||void 0===a?void 0:a.answerObj)&&(this.answerObj=this.obj.answerObj,this.hasResentComment=!1),this.answerObj&&this.answerObj.result&&(this.answerObj.note=null!=this.commonService.parseJson(this.answerObj.result)?this.commonService.parseJson(this.answerObj.result).comment:"",this.answerObj.txtCommentFont=this.commonService.parseJson(this.commonService.parseJson(this.answerObj.result).staticTextConfig).txtCommentFont,this.isHideMark=null!=this.commonService.parseJson(this.answerObj.result)&&this.commonService.parseJson(this.answerObj.result).hideMark),null!=(null===(l=this.answerObj)||void 0===l?void 0:l.resultNote)&&null==(null===(d=this.answerObj)||void 0===d?void 0:d.note)&&(this.answerObj.note=null!=this.commonService.parseJson(this.answerObj.resultNote)?this.commonService.parseJson(this.answerObj.resultNote).Note:""),this.currentChild=(null===(b=this.obj)||void 0===b?void 0:b.studentObj)?this.obj.studentObj:this.baseApiService.getUserObj()}closeMessageDialog(t){t&&(this.messageDialogData={type:"",isShow:!1})}getData(){this.initStatusObj(),this.frontHomeworkService.apiFrontHomeworkGetObjGet(this.homeworkHashId).subscribe(t=>{var e,n,o,i,s,r,c,a,l,d,b,h,u,m,g,f,p,_,w,v,k,O,j,x,y,M,C,P,D,U,V,S,I,F,T,R,L;if(1==t.success){if(this.zipdataService.convertAnswersHistories(t.data),this.zipdataService.convertSubmittedAnswersObj(null===(e=t.data)||void 0===e?void 0:e.answerObj),this.obj=t.data,this.dataProcess=t.data,this.zipdataService.convertHomeworkObj(null!==(o=null===(n=this.obj)||void 0===n?void 0:n.homeworkObj)&&void 0!==o?o:{}),this.commonService.translateMetaData({title:(null===(s=null===(i=this.obj)||void 0===i?void 0:i.homeworkObj)||void 0===s?void 0:s.name)+"- L\u1edbp:"+(null===(c=null===(r=this.obj)||void 0===r?void 0:r.classroomObj)||void 0===c?void 0:c.name),description:null===(l=null===(a=this.obj)||void 0===a?void 0:a.homeworkObj)||void 0===l?void 0:l.content}),1==(null===(b=null===(d=this.obj)||void 0===d?void 0:d.homeworkObj)||void 0===b?void 0:b.mustVerified))if(!this.baseApiService.isLogin()||this.baseApiService.isLogin()&&this.baseApiService.isAnonymousRole())this.messageDialogData={type:"redirect_register",isShow:!0},this.openChooseStudent(1),this.chooseChildData.studentObjs=this.obj.studentObjs,this.chooseChildData.classObj=this.obj.classroomObj,this.selectChild=!0,this.normalFlow=!1;else if((null===(h=this.obj)||void 0===h?void 0:h.studentObj)&&1==this.obj.studentObj.isVerified)if(this.urlStudentId){let t=null===(m=null===(u=this.obj)||void 0===u?void 0:u.studentObjs)||void 0===m?void 0:m.filter(t=>t.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==t?void 0:t[0],studentObjs:null===(g=this.obj)||void 0===g?void 0:g.studentObjs,classroomObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.fillData(),this.selectChild=!1,this.normalFlow=!0;else if((null===(f=this.obj)||void 0===f?void 0:f.studentObj)&&0==this.obj.studentObj.isVerified)if(this.urlStudentId){let t=null===(_=null===(p=this.obj)||void 0===p?void 0:p.studentObjs)||void 0===_?void 0:_.filter(t=>t.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==t?void 0:t[0],studentObjs:null===(w=this.obj)||void 0===w?void 0:w.studentObjs,classroomObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(2),this.chooseChildData.studentObj=null===(v=this.dataProcess)||void 0===v?void 0:v.studentObj;else if(this.urlStudentId){let t=null===(O=null===(k=this.obj)||void 0===k?void 0:k.studentObjs)||void 0===O?void 0:O.filter(t=>t.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==t?void 0:t[0],studentObjs:null===(j=this.obj)||void 0===j?void 0:j.studentObjs,classroomObj:null===(x=this.obj)||void 0===x?void 0:x.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(1),this.chooseChildData.studentObjs=null===(y=this.dataProcess)||void 0===y?void 0:y.studentObjs,this.chooseChildData.classObj=null===(M=this.dataProcess)||void 0===M?void 0:M.classroomObj;else if(null==(null===(C=this.obj)||void 0===C?void 0:C.studentObj))if(this.urlStudentId){let t=null===(D=null===(P=this.obj)||void 0===P?void 0:P.studentObjs)||void 0===D?void 0:D.filter(t=>t.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==t?void 0:t[0],studentObjs:null===(U=this.obj)||void 0===U?void 0:U.studentObjs,classroomObj:null===(V=this.obj)||void 0===V?void 0:V.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(1),this.chooseChildData.studentObjs=null===(S=this.dataProcess)||void 0===S?void 0:S.studentObjs,this.chooseChildData.classObj=null===(I=this.dataProcess)||void 0===I?void 0:I.classroomObj;else if(this.urlStudentId){let t=null===(T=null===(F=this.obj)||void 0===F?void 0:F.studentObjs)||void 0===T?void 0:T.filter(t=>t.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==t?void 0:t[0],studentObjs:null===(R=this.obj)||void 0===R?void 0:R.studentObjs,classroomObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.isPendingApproved=!1,this.selectChild=!1,this.fillData(),this.normalFlow=!0;this.successStatusObj()}else this.errorStatusObj(null!==(L=t.message)&&void 0!==L?L:"",!0)}),this.commonService.gaEvent("FrontHomework_GetObj")}convertObjToArray(t){let e=[];for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(t[n]);return e}addFileWithProsess(t){var e,n,o,i;t&&(null===(e=this.answerFileList)||void 0===e||e.push(t));let s=null!==(o=null===(n=this.answerFileList)||void 0===n?void 0:n.length)&&void 0!==o?o:0;for(let r=0;r<s;r++)this.answerFileList&&!(null===(i=this.answerFileList)||void 0===i?void 0:i[r].lastModified)&&(this.answerFileList[r].lastModified=(new Date).getTime()),this.answerFileList&&!this.answerFileList[r].thumb&&(this.answerFileList[r].thumb=this.homeworkExamService.getThumbWithObj(this.answerFileList[r]));this.answerFileList&&this.answerFileList.length>0&&this.answerFileList.sort((t,e)=>t.lastModified&&e.lastModified?t.lastModified-e.lastModified:0)}removeImg(t){var e;let n=null===(e=this.answerFileList)||void 0===e?void 0:e.filter(e=>e.url!==t);this.answerFileList=n}submitHomework(){var t,e,n,o,i,s;let r={homeworkHashId:null===(e=null===(t=this.obj)||void 0===t?void 0:t.homeworkObj)||void 0===e?void 0:e.hashId,studentId:this.currentChild.id,files:JSON.stringify(this.answerFileList)};if("[]"!=r.files){this.isSubmit=!1,this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""};let t=JSON.stringify({type:"homework",id:null===(o=null===(n=this.obj)||void 0===n?void 0:n.homeworkObj)||void 0===o?void 0:o.id,user:null===(s=null===(i=this.obj)||void 0===i?void 0:i.homeworkObj)||void 0===s?void 0:s.tenantId});this.frontAnswerService.apiFrontAnswerSaveObjPost(r,t).subscribe(t=>{var e;1==t.success?(this.localStorageObjetct.clearAllCache(),this.isSubmit=!0,this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.rawAnswerFileList=this.cloneArray(this.answerFileList),this.showSuccessSnack("B\u1ea1n \u0111\xe3 n\u1ed9p b\xe0i th\xe0nh c\xf4ng"),this.hasResentComment=!1):(this.showErrorSnack(null!==(e=t.message)&&void 0!==e?e:""),this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.isSubmit=!1)},t=>{this.logs.push("Err:"+t)})}else this.showErrorSnack("B\xe0i l\xe0m ch\u01b0a \u0111\u1ea7y \u0111\u1ee7. Vui l\xf2ng th\u1eed l\u1ea1i");this.commonService.gaEvent("FrontHomework_SaveObj")}switchAttributeArray(t,e,n){var o,i,s;if(this.answerFileList&&(null===(o=this.answerFileList)||void 0===o?void 0:o.length)){if((null===(i=this.answerFileList)||void 0===i?void 0:i.length)<=e)return;if(this.answerFileList.length<=n)return;if(e<0)return;if(n<0)return;let t=this.castObj(this.answerFileList[e]);this.answerFileList[e]=null!==(s=this.castObj(this.answerFileList[n]))&&void 0!==s?s:{},this.answerFileList[n]=null!=t?t:{}}}switchAttributeArrayInput(t,e){var n,o;let i=Number(e)-1;i<=0?i=0:this.answerFileList&&i>=(null===(n=this.answerFileList)||void 0===n?void 0:n.length)&&(i=this.answerFileList.length),null===(o=this.answerFileList)||void 0===o||o.splice(i,0,this.answerFileList.splice(t,1)[0])}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),Object(k.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([t,e])=>{var n,o,i;""!=this.commonService.getMyQueryParam("backto")&&(this.backtoLink=null!==(n=this.commonService.getMyQueryParam("backto"))&&void 0!==n?n:"/student/dashboard/1");var s=null!==(o=this.commonService.getMyQueryParam("studentId"))&&void 0!==o?o:"0";this.urlStudentId=parseInt(s,10),this.homeworkHashId=null!==(i=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==i?i:"",this.getData()}),this.form=this.fb.group({file_data:new i.h("",i.z.required),file_capture:new i.h("",i.z.required),file:new i.h("",i.z.required)}),this.urlLocation=window.location.href,super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(i.g),f.Pb(r.a),f.Pb(x.a),f.Pb(y.a),f.Pb(M.a),f.Pb(C.a),f.Pb(O.B),f.Pb(O.w),f.Pb(O.F),f.Pb(P.a),f.Pb(D.a),f.Pb(U.a),f.Pb(V.a))},t.\u0275cmp=f.Jb({type:t,selectors:[["app-submit-homework"]],features:[f.Ab],decls:10,vars:6,consts:[[3,"headerTitle","back_link"],[1,"mt-3"],[1,"d-block"],[1,"container-fluid","mb-2","maxW1200",2,"min-height","calc(100vh - 300px)"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"row","justify-content-center","py-5"],[1,"col-12","text-center"],[1,"alert","alert-danger"],["class","text-center mt-2 mb-2",4,"ngIf"],[3,"homeworkFlow","data","showAddStudent","selectChild","approvedByName"],[3,"data","confirmSend","closeDialog",4,"ngIf"],[1,"text-center","mt-2","mb-2"],["class","h5",4,"ngIf"],[1,"h5"],[2,"color","#00a7d0"],[1,"pt-1","pl-2",3,"fileName","linkUrl"],[3,"data","confirmSend","closeDialog"],[3,"data","closeDialog"],["Main",""],[3,"fileOption","closePreview"],["class","alert alert-danger mt-3",4,"ngIf","ngIfElse"],["Normal",""],[1,"alert","alert-danger","mt-3"],["Result",""],[1,"card-box"],[1,"row","top-row"],[1,"col-12","col-sm-6","text-white"],[1,"d-none","d-sm-block"],[1,"d-block","mb-2"],["class","d-block mb-2",4,"ngIf"],[1,"d-sm-none","mb-2"],["class","d-none d-sm-block text-right",4,"ngIf"],["class","d-sm-none",4,"ngIf"],[1,"description"],[1,"content-homework","pt-3",3,"innerHTML"],["class","files",4,"ngIf"],[1,"summitForm","pt-5","pb-5",3,"ngClass"],["class","form-horizontal text-center",3,"formGroup",4,"ngIf"],[1,"mt-20","text-center"],["class","col-sm-12",4,"ngIf"],[3,"dataAnswerHistory","dataHomeworkObj","previewFileEmit"],[1,"d-none","d-sm-block","text-right"],[1,"font-500"],[1,"d-sm-none"],[1,"files"],[1,"row","ml-0","mr-0"],["class","col-6 col-sm-4 col-md-3 col-lg-2 pl-0",4,"ngFor","ngForOf"],[1,"col-6","col-sm-4","col-md-3","col-lg-2","pl-0"],[1,"file"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px"],[1,"truncate",2,"line-height","1.6",3,"title"],[1,"form-horizontal","text-center",3,"formGroup"],["class","h5 mb-3",4,"ngIf"],[1,"h5","mb-3"],[1,"text-danger"],["type","hidden","id","inp_hidden","formControlName","file_data",1,"form-control","file-input"],["class","row pl-3 pr-3",4,"ngIf"],["class","row ml-0 mr-0",4,"ngIf"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"row","pl-3","pr-3"],[1,"col-6","col-sm-6","col-md-6","col-lg-6","text-center","v-dragndrop","dropzone","dz-started"],["id","dropzone-3404",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_capture","multiple","","accept","image/*;capture=camera",1,"form-control","file-input",3,"change"],["fileCapture",""],["id","dropzone-3405",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],["type","file","id","file_select","multiple","",1,"form-control","file-input",3,"change"],["fileSelect",""],[1,"col-12"],[1,"alert","alert-danger","text-center"],[1,"text-center","m-4"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"h5","text-success"],["class","col-12 col-sm-12 col-md-4 col-xl-3 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-xl-3","col-lg-3"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px"],[1,"box_image_answer"],[1,"box_image_answer_content"],[2,"image-orientation","from-image",3,"src","click"],[1,"box_image_answer_control"],[1,"icon-prev"],["matTooltipPosition","below",1,"box_image_answer_pc",3,"matTooltip","click"],["matTooltipPosition","below",1,"box_image_answer_mobile",3,"matTooltip","click"],[1,"page-number"],["type","number","min","1",1,"input-page","text-center",3,"id","max","value","keyup.enter","change"],["myInput",""],[1,"icon-next"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge notify-suss",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge","notify-suss"],[2,"color","rgb(26,188,0)"],["class","alert alert-danger text-center mt-2 ml-5 mr-5",4,"ngIf"],[3,"src","click"],[1,"alert","alert-danger","text-center","mt-2","ml-5","mr-5"],[1,"col-sm-12"],["mat-raised-button","","color","primary",2,"margin-top","20px",3,"disabled","click"],["role","status",1,"spinner-border","spinner-border-sm"],["mat-raised-button","","color","danger",2,"margin-top","20px",3,"disabled","click"],[1,"summitForm","pt-3","pb-3","pl-2","pr-2"],[1,"h5","ml-3","text-dark"],[3,"ngIf"],[2,"font-size","20px","vertical-align","sub"],[2,"color","rgba(0, 167, 208, 1)","cursor","pointer",3,"click"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-md-3","_col-left","text-center"],["class","mb-0",4,"ngIf"],[1,"col-md-8","_col-right"],[1,"h5","title"],["fontText",""],[1,"mb-0"],[3,"mark"],["class","content-homework pt-3 text-writing",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-bold",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-beautiful",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-italy",3,"innerHTML",4,"ngIf"],[1,"content-homework","pt-3","text-writing",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-bold",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-beautiful",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-italy",3,"innerHTML"],["role","alert",1,"alert","alert-danger","mt-3"],["href","javscript:void(0)",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(f.Qb(0,"header-frontend",0),f.Vb(1,"div",1),f.Vb(2,"div",2),f.Vb(3,"div",3),f.Rc(4,kt,1,0,"azt-loading-effect",4),f.Rc(5,Ie,4,4,"ng-template",null,5,f.Sc),f.Ub(),f.Rc(7,Fe,6,4,"div",6),f.Rc(8,Re,2,1,"div",6),f.Ub(),f.Ub(),f.Qb(9,"homework-frontend-footer")),2&t){const t=f.Ac(6);f.nc("headerTitle",e.currentChild||null!=e.obj&&null!=e.obj.classroomObj&&e.obj.classroomObj.name?null==e.obj||null==e.obj.classroomObj?null:e.obj.classroomObj.name:"")("back_link",e.backtoLink),f.Db(4),f.nc("ngIf",e.statusObj.loading)("ngIfElse",t),f.Db(3),f.nc("ngIf",e.logs.length>0),f.Db(1),f.nc("ngIf",e.isShowErrorsBox)}},directives:[S.a,o.m,Q,J.a,$.a,B.a,G.a,tt,st,rt.a,o.k,wt,o.l,ct.a,i.B,i.s,i.l,i.d,i.r,i.j,o.n,vt.a,K.b,at.a],pipes:[F.q,o.e,F.o],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0;border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:font_chu_dep;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}@font-face{font-family:font_chu_in;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/Roboto-Thin.ttf)}@font-face{font-family:font_chu_in_nghieng;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-It.otf)}@font-face{font-family:font_chu_in_dam;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-BoldIt.otf)}.text-writing[_ngcontent-%COMP%]{font-family:font_chu_in!important;font-weight:700}.text-writing-beautiful[_ngcontent-%COMP%]{font-family:font_chu_dep!important}.text-writing-italy[_ngcontent-%COMP%]{font-family:font_chu_in_nghieng!important}.text-writing-bold[_ngcontent-%COMP%]{font-family:font_chu_in_dam!important}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.select_class[_ngcontent-%COMP%]{background:inherit;background-color:#3c8dbc;box-sizing:border-box;border-radius:5px;box-shadow:none;color:#fff}.isSelected[_ngcontent-%COMP%]{border:2px solid #004f7b}.isDisabled[_ngcontent-%COMP%]{opacity:.6}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px}.input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .box_image_answer_control[_ngcontent-%COMP%]{width:100%;border:1px solid #03a7d0}.box_image_answer_control[_ngcontent-%COMP%]{background:#fff;border-top:none;display:flex;justify-content:space-evenly;align-items:center;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:5px 30px;border-left:1px solid #03a7d0;border-right:1px solid #03a7d0;background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width:768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]}),t})();var Ae=n("qJLG"),He=n("lbRm"),ze=n("STbY"),Ee=n("UXJo");function Ne(t,e){if(1&t&&(f.Vb(0,"h4",12),f.Tc(1),f.Ub()),2&t){const t=f.gc();f.Db(1),f.Wc(" ",null==t.result||null==t.result.studentObj?null:t.result.studentObj.fullName,", ",null==t.result||null==t.result.classroomObj?null:t.result.classroomObj.name," ")}}function We(t,e){1&t&&f.Qb(0,"azt-loading-effect")}function qe(t,e){if(1&t&&(f.Vb(0,"div",16),f.Vb(1,"div",17),f.Tc(2),f.hc(3,"mytranslate"),f.Ub(),f.Ub()),2&t){const t=f.gc(2);f.Db(2),f.Uc(f.ic(3,1,t.errorMessage))}}function Qe(t,e){if(1&t&&(f.Vb(0,"div",18),f.Qb(1,"iframe",19),f.hc(2,"safe"),f.Ub()),2&t){const t=f.gc(2);f.Db(1),f.nc("src",f.ic(2,1,t.iframeSrc),f.Gc)}}function Je(t,e){if(1&t&&(f.Vb(0,"div"),f.Vb(1,"div",13),f.Rc(2,qe,4,3,"div",14),f.Ub(),f.Ub(),f.Rc(3,Qe,3,3,"div",15)),2&t){const t=f.gc();f.Db(2),f.nc("ngIf",""!=t.errorMessage),f.Db(1),f.nc("ngIf",""==t.errorMessage)}}let $e=(()=>{class t extends g.a{constructor(t,e,n,o,i,s,r){super(o),this.activeRoute=t,this.frontAnswerService=e,this.frontAnswerHistoryService=n,this.commonService=o,this.cdnService=i,this.zipdataService=s,this.envService=r,this.homeworkHashId="",this.isMarked=!1,this.jsonData={},this.iframeSrc="",this.backLink="",this.files=[],this.handleIframe=t=>{var e,n,o,i,s,r,c,a,l,d,b,h,u,m,g;if("MNoteLoadComplete"==t.data){const t=document.getElementById("mNote"),f=t?t.contentWindow:null;if(null!==f){let t=(null===(e=this.result)||void 0===e?void 0:e.hasOwnProperty("answerObj"))&&null!==(n=this.castObj(this.result.answerObj))&&void 0!==n?n:{};if(null===(o=this.result)||void 0===o?void 0:o.hasOwnProperty("answerObj")){let e=JSON.parse(null!==(i=null==t?void 0:t.result)&&void 0!==i?i:"");if(null!=e){for(let t=0;t<e.pages.length;t++)e.pages[t].backgroundImage&&(e.pages[t].backgroundImage=this.cdnService.getMyCdn(e.pages[t].backgroundImage)),e.pages[t].draw&&(e.pages[t].draw=this.cdnService.getMyCdn(e.pages[t].draw));e=JSON.stringify(e),t.result=e}let n=JSON.parse(null!==(s=t.files)&&void 0!==s?s:"");if(null!=n){for(let t=0;t<n.length;t++)n[t].url&&(n[t].url=this.cdnService.getMyCdn(n[t].url)),n[t].thumb&&(n[t].thumb=this.cdnService.getMyCdn(n[t].thumb));n=JSON.stringify(n),t.files=n}}let p=(null===(r=this.result)||void 0===r?void 0:r.hasOwnProperty("studentObj"))?this.result.studentObj:{},_=(null===(c=this.result)||void 0===c?void 0:c.hasOwnProperty("classroomObj"))?this.result.classroomObj:{},w=(null===(a=this.result)||void 0===a?void 0:a.hasOwnProperty("homeworkObj"))?this.result.homeworkObj:{},v=this.commonService.parseJson(null!==(l=t.result)&&void 0!==l?l:""),k=!(!v||!v.hasOwnProperty("hideMark"))&&v.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let e=0;e<(null!==(b=null===(d=this.jsonData.pages)||void 0===d?void 0:d.length)&&void 0!==b?b:0);e++)(null===(h=this.jsonData.pages)||void 0===h?void 0:h[e].hasOwnProperty("backgroundImage"))&&(this.jsonData.pages[e].backgroundImage=this.cdnService.getMyCdn(null!==(u=this.jsonData.pages[e].backgroundImage)&&void 0!==u?u:"")),(null===(m=this.jsonData.pages)||void 0===m?void 0:m[e].hasOwnProperty("draw"))&&(this.jsonData.pages[e].draw=this.cdnService.getMyCdn(null!==(g=this.jsonData.pages[e].draw)&&void 0!==g?g:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=t,this.jsonData.student_obj=p,this.jsonData.classroom_obj=_,this.jsonData.homework_obj=w,this.jsonData.hideMark=k,f.postMessage(this.jsonData,"*");else{let e=[];this.files.forEach(t=>{e.push({backgroundImage:t.url})}),f.postMessage({cmd:"initMNote",pages:e,answer_obj:t,student_obj:p,classroom_obj:_,homework_obj:w,mode:"view",hideMark:k},"*")}}}}}goBack(){this.commonService.myNavigation(""!=this.backLink&&null!=this.backLink?this.backLink:"/bai-tap/"+this.homeworkHashId)}fillData(t){var e,n,o,i,s,r,c,a,l,d;if(t){if(this.zipdataService.convertSubmittedAnswersHistoryObj(null===(e=t.data)||void 0===e?void 0:e.answerObj),this.result=t.data,this.files=(null===(n=t.data)||void 0===n?void 0:n.answerObj)?this.commonService.parseJson(null!==(o=t.data.answerObj.files)&&void 0!==o?o:""):[],null!==this.files)for(let t=0;t<this.files.length;t++)this.files&&(this.files[t].url=this.cdnService.getMyCdn(null!==(i=this.files[t].url)&&void 0!==i?i:""),this.files[t].thumb=this.cdnService.getMyCdn(null!==(s=this.files[t].thumb)&&void 0!==s?s:""));(null===(c=null===(r=t.data)||void 0===r?void 0:r.answerObj)||void 0===c?void 0:c.confirmedAt)&&(this.isMarked=!0,this.jsonData=this.commonService.parseJson(this.cdnService.getMyCdn(null!==(d=null===(l=null===(a=null==t?void 0:t.data)||void 0===a?void 0:a.answerObj)||void 0===l?void 0:l.result)&&void 0!==d?d:"")),null===this.jsonData&&(this.isMarked=!1))}}getData(t,e){this.initStatusObj(),this.errorMessage="",e?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,e).subscribe(t=>{var e;1==t.success?(this.fillData(t),this.successStatusObj()):(this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0),this.errorMessage=null==t?void 0:t.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,t).subscribe(t=>{var e;1==t.success?(this.fillData(t),this.successStatusObj()):(this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0),this.errorMessage=t.message)})}copyLinkToClipboard(){const t=this.getMyParam(this.activeRoute,"id");return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/en/admin/homework/mark-exercise/${t}/${this.homeworkHashId}`}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){var t,e,n,o,i;this.iframeSrc=null!==(t=this.envService.getEnvValue("classliveUrl"))&&void 0!==t?t:"";let s=null!==(e=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==e?e:"";const r=parseInt(s,10);if(this.homeworkHashId=null!==(n=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==n?n:"",this.backLink=null!==(o=this.commonService.getMyQueryParam("backto"))&&void 0!==o?o:"",this.commonService.getMyParam(this.activeRoute,"history_id")){let t=null!==(i=this.commonService.getMyParam(this.activeRoute,"history_id"))&&void 0!==i?i:"";const e=parseInt(t,10);this.getData(r,e)}else this.getData(r);this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){window.removeEventListener("message",this.handleIframe),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(f.Pb(r.a),f.Pb(O.w),f.Pb(O.v),f.Pb(x.a),f.Pb(Ae.a),f.Pb(D.a),f.Pb(He.a))},t.\u0275cmp=f.Jb({type:t,selectors:[["app-view-exercise"]],features:[f.Ab],decls:19,vars:8,consts:[["id","markContainer",1,"maxW1000","pt-3"],[1,"row","titleRow"],[1,"col","center-row"],["mat-button","","title","Quay l\u1ea1i",3,"click"],[1,"col","center-row",2,"justify-content","center"],["class","studentInfo","style","padding-right: 10px;",4,"ngIf"],[1,"col","center-row",2,"justify-content","flex-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"cdkCopyToClipboard","click"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"studentInfo",2,"padding-right","10px"],[1,"row","justify-content-center","py-5"],["class","col-12 text-center",4,"ngIf"],["class","card-box listPhotos","style","overflow : hidden",4,"ngIf"],[1,"col-12","text-center"],[1,"alert","alert-danger"],[1,"card-box","listPhotos",2,"overflow","hidden"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(t,e){if(1&t&&(f.Vb(0,"div",0),f.Vb(1,"div",1),f.Vb(2,"div",2),f.Vb(3,"mat-icon",3),f.cc("click",function(){return e.goBack()}),f.Tc(4,"keyboard_arrow_left"),f.Ub(),f.Ub(),f.Vb(5,"div",4),f.Rc(6,Ne,2,2,"h4",5),f.Ub(),f.Vb(7,"div",6),f.Vb(8,"button",7),f.Vb(9,"mat-icon"),f.Tc(10,"more_vert"),f.Ub(),f.Ub(),f.Vb(11,"mat-menu",null,8),f.Vb(13,"button",9),f.cc("click",function(){return e.showCopySuccess()}),f.Tc(14),f.hc(15,"mytranslate"),f.Ub(),f.Ub(),f.Ub(),f.Ub(),f.Rc(16,We,1,0,"azt-loading-effect",10),f.Rc(17,Je,4,2,"ng-template",null,11,f.Sc),f.Ub()),2&t){const t=f.Ac(12),n=f.Ac(18);f.Db(6),f.nc("ngIf",null==e.result?null:e.result.answerObj),f.Db(2),f.nc("matMenuTriggerFor",t),f.Db(5),f.nc("cdkCopyToClipboard",e.copyLinkToClipboard()),f.Db(1),f.Uc(f.ic(15,6,"lang_homework_homework_frontend_utils_copy_send_teacher")),f.Db(2),f.nc("ngIf",e.statusObj.loading)("ngIfElse",n)}},directives:[ct.a,o.m,K.b,ze.d,ze.a,ze.b,Ee.a,J.a],pipes:[F.q,F.u],styles:["#markContainer[_ngcontent-%COMP%]{position:relative}.center-row[_ngcontent-%COMP%]{display:flex;align-items:center}.titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;margin:0;color:#fff}.titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width:1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),t})();const Be=[{path:"",component:p,canActivate:[m.a],children:[{path:"",canActivateChild:[m.a],children:[{path:":hash_id",component:Le},{path:"view-homework/:id/:hash_id",component:$e},{path:"view-homework/:id/:hash_id/:history_id",component:$e}]}]}];let Ge=(()=>{class t{}return t.\u0275mod=f.Nb({type:t}),t.\u0275inj=f.Mb({factory:function(e){return new(e||t)},imports:[[r.l.forChild(Be)],r.l,u.c]}),t})(),Xe=(()=>{class t{}return t.\u0275mod=f.Nb({type:t}),t.\u0275inj=f.Mb({factory:function(e){return new(e||t)},imports:[[r.l,o.c,h.a,c.b,i.m,i.x,s.f,b.a,a.b,Ge,l.b,d.a]]}),t})()}}]);