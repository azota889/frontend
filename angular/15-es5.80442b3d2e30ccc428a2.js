!function(){function t(t){return function(t){if(Array.isArray(t))return i(t)}(t)||o(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t){return function(t){if(Array.isArray(t))return t}(t)||o(t)||n(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Iab2:function(t,e,n){var i,o;void 0===(o="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(n)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,a,s){var c=o.URL||o.webkitURL,r=document.createElement("a");r.download=a=a||t.name||"download",r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?i(r):n(r.href)?e(t,a,s):i(r,r.target="_blank")):(r.href=c.createObjectURL(t),setTimeout(function(){c.revokeObjectURL(r.href)},4e4),setTimeout(function(){i(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,o,a){if(o=o||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,a),o);else if(n(t))e(t,o,a);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout(function(){i(s)})}}:function(t,n,i,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var c="application/octet-stream"===t.type,r=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||c&&r||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=t:location=t,s=null},u.readAsDataURL(t)}else{var b=o.URL||o.webkitURL,d=b.createObjectURL(t);s?s.location=d:location.href=d,s=null,setTimeout(function(){b.revokeObjectURL(d)},4e4)}});o.saveAs=s.saveAs=s,t.exports=s})?i.apply(e,[]):i)||(t.exports=o)},SKNz:function(n,i,o){"use strict";o.r(i),o.d(i,"TestFrontModule",function(){return Cc});var s,r,l=o("ofXK"),u=o("3Pt+"),b=o("0IaG"),d=o("tyNb"),m=o("fB2i"),h=o("IkSl"),g=o("rIor"),f=o("Zhhu"),p=o("vvyD"),v=o("mYPf"),x=o("Avyq"),w=o("kmNb"),_=o("fXoL"),y=o("gbi4"),k=((s=function(){function t(e,n,i){a(this,t),this.activeRoute=e,this.commonService=n,this.router=i}return c(t,[{key:"ngOnInit",value:function(){var t=this.commonService.getMyParam(this.activeRoute,"hash_id");this.commonService.myNavigation("/de-thi/"+t)}}]),t}()).\u0275fac=function(t){return new(t||s)(_.Pb(d.a),_.Pb(y.a),_.Pb(d.i))},s.\u0275cmp=_.Jb({type:s,selectors:[["page-redirect-support"]],decls:0,vars:0,template:function(t,e){},encapsulation:2}),s),S=o("Q0Xt"),I=((r=function(){function t(e){a(this,t),this.commonService=e}return c(t,[{key:"ngOnInit",value:function(){this.commonService.gaEvent("FrontExam_ViewFullResult")}}]),t}()).\u0275fac=function(t){return new(t||r)(_.Pb(y.a))},r.\u0275cmp=_.Jb({type:r,selectors:[["app-student-list"]],decls:1,vars:1,consts:[[3,"isBackEnd"]],template:function(t,e){1&t&&_.Qb(0,"azt-test-review",0),2&t&&_.nc("isBackEnd",!1)},directives:[S.a],encapsulation:2}),r),D=o("quSY"),P=o("itXk"),O=o("R4VX"),C=o("k3bj"),U=o("nzN9"),V=o("Wp6s"),M=o("NFeN");function T(t,e){1&t&&_.Qb(0,"azt-loading-effect")}function j(t,e){1&t&&(_.Vb(0,"div"),_.Vb(1,"div",6),_.Vb(2,"span"),_.Rc(3,"C\xf3 l\u1ed7i khi t\u1ea3i k\u1ebft qu\u1ea3. Vui l\xf2ng t\u1ea3i l\u1ea1i trang ho\u1eb7c th\u1eed l\u1ea1i sau!"),_.Ub(),_.Ub(),_.Ub())}function E(t,e){if(1&t&&(_.Vb(0,"span"),_.Rc(1,"S\u1ed1 l\u01b0\u1ee3ng \u0111\xfang: "),_.Vb(2,"span"),_.Rc(3),_.Ub(),_.Ub()),2&t){var n=_.gc(3);_.Db(3),_.Uc("",n.examResultObj.rightAnswer," / ",n.examResultObj.totalQuestion,"")}}function R(t,e){if(1&t&&(_.Vb(0,"span"),_.Rc(1),_.Ub()),2&t){var n=_.gc(3);_.Db(1),_.Tc("S\u1ed1 c\xe2u h\u1ecfi: ",n.examResultObj.totalQuestion,"")}}function F(t,e){if(1&t&&(_.Vb(0,"h2",27),_.Rc(1),_.Ub()),2&t){var n=_.gc(5);_.Db(1),_.Sc(n.examResultObj.mark)}}function A(t,e){if(1&t&&(_.Vb(0,"div",24),_.Vb(1,"h2",25),_.Rc(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Ub(),_.Vb(3,"div",22),_.Pc(4,F,2,1,"h2",26),_.Ub(),_.Ub()),2&t){var n=_.gc(4);_.Db(4),_.nc("ngIf",null!=n.examResultObj.mark)}}function L(t,e){1&t&&(_.Vb(0,"h2",25),_.Rc(1," \u0110i\u1ec3m tr\u1eafc nghi\u1ec7m c\u1ee7a b\u1ea1n: "),_.Ub())}function z(t,e){1&t&&(_.Vb(0,"h2",25),_.Rc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Ub())}function q(t,e){if(1&t&&(_.Vb(0,"h2",27),_.Rc(1),_.Ub()),2&t){var n=_.gc(5);_.Db(1),_.Sc(n.examResultObj.mark)}}function Q(t,e){if(1&t&&(_.Vb(0,"div",24),_.Pc(1,L,2,0,"h2",28),_.Pc(2,z,2,0,"h2",28),_.Vb(3,"div",22),_.Pc(4,q,2,1,"h2",26),_.Ub(),_.Ub()),2&t){var n=_.gc(4);_.Db(1),_.nc("ngIf",null==n.examResultObj.essayMark),_.Db(1),_.nc("ngIf",null!=n.examResultObj.essayMark),_.Db(2),_.nc("ngIf",null!=n.examResultObj.mark)}}function N(t,e){1&t&&(_.Vb(0,"h2",25),_.Rc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Ub())}function B(t,e){if(1&t&&(_.Vb(0,"h2",27),_.Rc(1),_.Ub()),2&t){var n=_.gc(5);_.Db(1),_.Tc(" ",n.examResultObj.mark,"")}}function $(t,e){1&t&&(_.Vb(0,"h2",29),_.Rc(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),_.Ub())}function W(t,e){if(1&t&&(_.Vb(0,"div",24),_.Pc(1,N,2,0,"h2",28),_.Vb(2,"div",22),_.Pc(3,B,2,1,"h2",26),_.Pc(4,$,2,0,"h2",23),_.Ub(),_.Ub()),2&t){var n=_.gc(4);_.Db(1),_.nc("ngIf",null!=n.examResultObj.essayMark),_.Db(2),_.nc("ngIf",null!=n.examResultObj.mark&&null!=n.examResultObj.essayMark),_.Db(1),_.nc("ngIf",null==n.examResultObj.essayMark)}}function H(t,e){1&t&&(_.Vb(0,"h2",29),_.Rc(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),_.Ub())}function G(t,e){if(1&t&&(_.Vb(0,"div",20),_.Pc(1,A,5,1,"div",21),_.Pc(2,Q,5,3,"div",21),_.Pc(3,W,5,3,"div",21),_.Vb(4,"div",22),_.Pc(5,H,2,0,"h2",23),_.Ub(),_.Ub()),2&t){var n=_.gc(3);_.Db(1),_.nc("ngIf",1==n.examObj.examType||0==n.examObj.examType),_.Db(1),_.nc("ngIf",11==n.examObj.examType||10==n.examObj.examType),_.Db(1),_.nc("ngIf",20==n.examObj.examType||21==n.examObj.examType),_.Db(2),_.nc("ngIf",null==n.examResultObj.mark)}}function J(t,e){1&t&&(_.Vb(0,"h2",25),_.Rc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Ub())}function K(t,e){if(1&t&&(_.Vb(0,"div",20),_.Vb(1,"div",24),_.Pc(2,J,2,0,"h2",28),_.Ub(),_.Vb(3,"div",22),_.Vb(4,"h2",29),_.Rc(5,"Ch\u01b0a \u0111\u01b0\u1ee3c xem \u0111i\u1ec3m"),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(3);_.Db(2),_.nc("ngIf",null==n.examResultObj.essayMark)}}function X(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",30),_.Vb(1,"button",31),_.cc("click",function(){return _.Dc(n),_.gc(3).redirectToAnswerTest()}),_.Rc(2,"xem \u0111\xe1p \xe1n chi ti\u1ebft"),_.Ub(),_.Ub()}}function Y(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",30),_.Vb(1,"button",31),_.cc("click",function(){return _.Dc(n),_.gc(3).redirectToAnswerTest()}),_.Rc(2,"xem b\xe0i l\xe0m chi ti\u1ebft"),_.Ub(),_.Ub()}}function Z(t,e){if(1&t&&(_.Vb(0,"div",7),_.Vb(1,"b"),_.Vb(2,"h2"),_.Rc(3,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i"),_.Ub(),_.Ub(),_.Ub(),_.Vb(4,"div",8),_.Vb(5,"div",9),_.Vb(6,"mat-card",10),_.Vb(7,"div",11),_.Vb(8,"div",12),_.Vb(9,"div",13),_.Vb(10,"div",14),_.Vb(11,"span",15),_.Vb(12,"mat-icon"),_.Rc(13,"access_time"),_.Ub(),_.Ub(),_.Vb(14,"span",16),_.Rc(15," Th\u1eddi gian l\xe0m b\xe0i: "),_.Vb(16,"span"),_.Rc(17),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(18,"div",13),_.Vb(19,"div",14),_.Vb(20,"span",15),_.Vb(21,"mat-icon"),_.Rc(22,"help_outline"),_.Ub(),_.Ub(),_.Vb(23,"span",16),_.Pc(24,E,4,2,"span",17),_.Pc(25,R,2,1,"span",17),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(26,"div",7),_.Pc(27,G,6,4,"div",18),_.Pc(28,K,6,1,"div",18),_.Ub(),_.Pc(29,X,3,0,"div",19),_.Pc(30,Y,3,0,"div",19),_.Ub(),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(2);_.Db(17),_.Wc("",n.days," ",n.hours," ",n.minutes," ",n.seconds,""),_.Db(7),_.nc("ngIf",null!=n.examResultObj.rightAnswer),_.Db(1),_.nc("ngIf",null==n.examResultObj.rightAnswer),_.Db(2),_.nc("ngIf",2!=n.examObj.whenShowResult),_.Db(1),_.nc("ngIf",2==n.examObj.whenShowResult),_.Db(1),_.nc("ngIf",2!=n.examObj.whenShowAnswer),_.Db(1),_.nc("ngIf",2==n.examObj.whenShowAnswer)}}function tt(t,e){if(1&t&&(_.Vb(0,"div",3),_.Vb(1,"div",4),_.Pc(2,j,4,0,"div",1),_.Pc(3,Z,31,10,"ng-template",null,5,_.Qc),_.Ub(),_.Ub()),2&t){var n=_.zc(4),i=_.gc();_.Db(2),_.nc("ngIf",""!=i.status_obj.error_obj.message)("ngIfElse",n)}}var et,nt=((et=function(){function t(e,n,i,o){a(this,t),this.activeRoute=e,this.apiExamService=n,this.commonService=i,this.router=o,this.subscriptions=new D.a,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.hashId="",this.resultId=0,this.tenantId=0,this.cur_cateId=0,this.examObj={},this.examResultObj={},this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.back_link="",this.backtoLink=""}return c(t,[{key:"getExamResult",value:function(){var t=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}};var e=this.commonService.getSimpleSessionStorage("test_result_"+this.hashId+"_"+this.resultId);if(e){var n=this.commonService.parseJson(e);this.examObj=n.data.examObj,this.examResultObj=n.data.examResultObj;var i=new Date(this.examResultObj.startedTest),o=new Date(this.examResultObj.createdAt).getTime()-i.getTime(),a=Math.floor(o/864e5),s=Math.floor(o/36e5)-24*a,c=Math.floor(o/6e4)-(24*a*60+60*s),r=Math.floor(o/1e3)-(24*a*60*60+60*s*60+60*c);0!=a&&(this.days=a+" ng\xe0y "),0!=s&&(this.hours=s+" gi\u1edd "),0!=c&&(this.minutes=c+" ph\xfat "),0!=r&&(this.seconds=r+" gi\xe2y"),this.commonService.translateMetaData({title:"N\u1ed9p b\xe0i: "+this.examObj.name,description:this.examObj.name}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}}}else this.subscriptions.add(this.apiExamService.getExamResultObjs(this.hashId,this.resultId).subscribe(function(e){if(1==e.success){t.hasErrorMessage=e.data.hasOwnProperty("errorMessage")?e.data.errorMessage:"",t.examObj=e.data.examObj,t.examResultObj=e.data.examResultObj;var n=new Date(e.data.examResultObj.startedTest),i=new Date(e.data.examResultObj.createdAt).getTime()-n.getTime(),o=Math.floor(i/864e5),a=Math.floor(i/36e5)-24*o,s=Math.floor(i/6e4)-(24*o*60+60*a),c=Math.floor(i/1e3)-(24*o*60*60+60*a*60+60*s);0!=o&&(t.days=o+" ng\xe0y "),0!=a&&(t.hours=a+" gi\u1edd "),0!=s&&(t.minutes=s+" ph\xfat "),0!=c&&(t.seconds=c+" gi\xe2y"),t.commonService.translateMetaData({title:"N\u1ed9p b\xe0i: "+t.examObj.name,description:t.examObj.name}),t.status_obj={loading:!1,error:!1,error_obj:{message:""}}}else t.status_obj={loading:!1,error:!0,error_obj:{message:e.message}},t.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)})}))}},{key:"redirectToAnswerTest",value:function(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.cur_cateId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.backtoLink))}},{key:"ngOnInit",value:function(){var t=this;Object(P.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(n){e(n);var i,o=null===(i=t.commonService.getMyParam(t.activeRoute,"hash_id"))||void 0===i?void 0:i.toString();t.tenantId=Number(t.commonService.getMyParam(t.activeRoute,"tenant_id")),t.cur_cateId=Number(t.commonService.getMyParam(t.activeRoute,"cate_id")),t.resultId=Number(t.commonService.getMyParam(t.activeRoute,"result_id")),t.hashId=o||"",t.getExamResult()}),this.back_link="/student/dashboard/0",this.backtoLink=this.commonService.getMyQueryParam("backto"),this.commonService.getMyQueryParam("backto")&&(this.back_link=this.backtoLink),this.commonService.gaEvent("FrontExam_ViewShortResult")}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||et)(_.Pb(d.a),_.Pb(O.a),_.Pb(y.a),_.Pb(d.i))},et.\u0275cmp=_.Jb({type:et,selectors:[["app-student-list"]],decls:4,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"mw-640","app","mt-3"],[1,"view-full-screen"],["Normal",""],[1,"alert","alert-danger"],[1,"title-header"],[1,"row","m-0"],[1,"col-md-12",2,"margin","0 auto","padding-top","10px","padding-bottom","5px"],[1,"text-center"],[1,"card-info"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","point-view",4,"ngIf"],[1,"col-md-12"],["style","display: inline-block;",4,"ngIf"],[1,"point-view-score"],["class","text-danger mr-3",4,"ngIf"],[2,"display","inline-block"],[1,"score-text"],["class","score",4,"ngIf"],[1,"score"],["class","score-text",4,"ngIf"],[1,"text-danger","mr-3"],[1,"point-view"],[1,"btn","btn-warning",2,"color","white","font-size","14px",3,"click"]],template:function(t,e){if(1&t&&(_.Qb(0,"header-frontend",0),_.Pc(1,T,1,0,"azt-loading-effect",1),_.Pc(2,tt,5,2,"ng-template",null,2,_.Qc)),2&t){var n=_.zc(3);_.nc("headerTitle","N\u1ed9p b\xe0i")("back_link",e.back_link),_.Db(1),_.nc("ngIf",e.status_obj.loading)("ngIfElse",n)}},directives:[C.a,l.m,U.a,V.a,M.a],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.view-full-screen[_ngcontent-%COMP%]{margin-top:20px}.title-header[_ngcontent-%COMP%]{text-align:center;padding-top:30px}.title-content[_ngcontent-%COMP%]{justify-content:center;padding:30px 0 0}.point-view[_ngcontent-%COMP%]{text-align:center;padding-bottom:30px}.point-view[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700;padding-bottom:20px}.score-text[_ngcontent-%COMP%]{font-weight:600}.point-view-score[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700}.box-slide-show[_ngcontent-%COMP%]{width:100%;background:inherit;background-color:#fff;border:1px solid #e7e7e7;border-radius:5px}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}@media screen and (max-width:576px){.box[_ngcontent-%COMP%]{justify-content:flex-start}}"]}),et),it=o("Iab2"),ot="_*tab*_",at=function(){function t(){var e=this;a(this,t),this.isTrue=!0,this.lengthNow=-1,this.thisCode=lt.encodeUrlLocation(window.location.href),this.storageKey=(ot=ot+this.thisCode+"_")+"list",this.tabsInfo=this.getTabsInfomation(this.storageKey),this.tabsDetail=this.getDetailTabsInfomation(),this.tabsActive=new ct,this.thisInterval=setInterval(function(){e.tabsActive.loopInfomation()},500),this.tabsInfo.push(this.tabsActive.info),this.tabsDetail.push(this.tabsActive),this.tabsInterval=setInterval(function(){e.loopInfomation()},1e3),window.addEventListener("beforeunload",function(){e.lengthNow=-1,localStorage.removeItem(e.tabsActive.id)}),this.scanAndDelete()}return c(t,[{key:"scanAndDelete",value:function(){var t=this,e=Object.keys(localStorage),n=lt.makeNow();e.forEach(function(e){if(e!==t.storageKey&&e.indexOf("list")>=0&&0==e.indexOf('"_*tab*_"')){var i=t.getTabsInfomation(e);i.forEach(function(t,e){n-t.created>=3600&&(localStorage.removeItem(t.id),i.splice(e,1))}),0===i.length&&localStorage.removeItem(e)}})}},{key:"destroy",value:function(){this.tabsInfo.forEach(function(t){localStorage.removeItem(t.id)}),localStorage.removeItem(this.storageKey),clearInterval(this.tabsInterval),clearInterval(this.thisInterval)}},{key:"loopInfomation",value:function(){this.mergeObjs(),this.checkObjs(),this.saveInfo(),this.isTrue=!(this.tabsInfo.length>=2),this.isTrue||this.lengthNow!==this.tabsInfo.length&&lt.viewControlNoti(!0)}},{key:"hiddenNowNoti",value:function(){this.lengthNow=this.tabsInfo.length,lt.hiddenControlNoti(!1)}},{key:"checkObjs",value:function(){var t=this,e=lt.makeNow();this.tabsDetail=this.getDetailTabsInfomation(),this.tabsDetail.forEach(function(n){e-n.target>8&&(t.lengthNow=-1,localStorage.removeItem(n.id))})}},{key:"mergeObjs",value:function(){var t=this,e=localStorage.getItem(this.storageKey);e&&JSON.parse(e).forEach(function(e){var n=new st(JSON.parse(e)),i=!1;t.tabsInfo.forEach(function(t){t.id===n.id&&(i=!0)}),!1===i&&t.tabsInfo.push(n)})}},{key:"saveInfo",value:function(){var t=[];this.tabsInfo.sort(function(t,e){return t.created-e.created}).forEach(function(e){t.push(e.parseString())}),localStorage.setItem(this.storageKey,JSON.stringify(t))}},{key:"getTabsInfomation",value:function(t){var e=localStorage.getItem(t),n=[];return e&&JSON.parse(e).forEach(function(t){n.push(new st(JSON.parse(t)))}),n}},{key:"getDetailTabsInfomation",value:function(){var t=this,e=[];return this.tabsInfo.forEach(function(n,i){var o=localStorage.getItem(n.id);o?e.push(new ct(JSON.parse(JSON.parse(o)),n)):(t.tabsInfo.splice(i,1),t.lengthNow=-1)}),e}}]),t}(),st=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a(this,t),null===e&&((e={}).i=lt.makeid(),e.c=lt.makeNow()),this.id=e.i,this.created=e.c}return c(t,[{key:"parseString",value:function(){return JSON.stringify({i:this.id,c:this.created})}}]),t}(),ct=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,t),null===e&&((e={}).i=ot+lt.makeid(),e.t=lt.makeNow()),null===n&&(n=new st({i:e.i,c:lt.makeNow()})),this.info=n,this.id=e.i,this.target=e.t}return c(t,[{key:"parseString",value:function(){return JSON.stringify({i:this.id,t:this.target})}},{key:"loopInfomation",value:function(){this.target=lt.makeNow(),localStorage.setItem(this.id,JSON.stringify(this.parseString()))}}]),t}(),rt=function(){function t(){a(this,t),this.check_id="",this.device_id=lt.makeid(20),this.device_list=this.getListInfo();var e={i:this.device_id,l:lt.encodeUrlLocation(window.location.href),c:lt.makeNow()};e=this.mergeValue(e),this.device_id=e.i,window.DEVICE_SESS_ID=this.device_id,this.scanAndDelete(),this.saveLocal()}return c(t,[{key:"scanAndDelete",value:function(){var t=this,e=lt.makeNow();this.device_list.forEach(function(n,i){n.i!==t.device_id&&e-n.c>=3600&&t.device_list.splice(i,1)})}},{key:"setCheckId",value:function(t){t&&(this.check_id=t,this.check_id!==this.device_id&&lt.viewControlNoti(!0))}},{key:"mergeValue",value:function(t){var e=!1,n=t;return this.device_list.forEach(function(i){i.l===t.l&&(n=i,e=!0)}),e||this.device_list.push(t),n}},{key:"saveLocal",value:function(){localStorage.setItem("device_session",JSON.stringify(this.device_list))}},{key:"getListInfo",value:function(){var t=[],e=localStorage.getItem("device_session");return e&&JSON.parse(e).forEach(function(e){t.push({i:e.i,l:e.l,c:e.c})}),t}}]),t}(),lt=function(){function t(){a(this,t)}return c(t,null,[{key:"makeid",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length,o=0;o<t;o++)e+=n.charAt(Math.floor(Math.random()*i));return e}},{key:"makeNow",value:function(){return Math.round((new Date).getTime()/1e3)}},{key:"encodeUrlLocation",value:function(t){var e=new URL(t);return btoa(e.pathname)}},{key:"viewControlNoti",value:function(t){var e=document.getElementById("azt__duplicate__active");e&&"none"===e.style.display&&(e.style.display=1==t?"flex":"none")}},{key:"hiddenControlNoti",value:function(t){var e=document.getElementById("azt__duplicate__active");e&&(e.style.display="none")}}]),t}(),ut=o("AytR"),bt=o("mrSG"),dt=o("tk/3"),mt=o("BTbT"),ht=o("pMRa"),gt=o("sYmb"),ft=o("Bjt4"),pt=o("bTqV"),vt=o("Qu3c"),xt=o("UXJo"),wt=o("gaSO"),_t=["customCard"],yt=["fileSelect"];function kt(t,e){1&t&&(_.Vb(0,"p",16),_.Rc(1,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),_.Ub())}function St(t,e){1&t&&(_.Vb(0,"p",16),_.Rc(1,"\u0110ang \u0111\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),_.Ub())}function It(t,e){if(1&t&&(_.Vb(0,"div",13),_.Vb(1,"span"),_.Qb(2,"span",14),_.Ub(),_.Qb(3,"br"),_.Pc(4,kt,2,0,"p",15),_.Pc(5,St,2,0,"p",15),_.Ub()),2&t){var n=_.gc(2);_.Db(4),_.nc("ngIf",!n.status_obj.Tmploading),_.Db(1),_.nc("ngIf",n.status_obj.Tmploading)}}var Dt=function(t){return{"width.%":t}};function Pt(t,e){if(1&t&&(_.Vb(0,"div",19),_.Vb(1,"p",20),_.Rc(2),_.Ub(),_.Vb(3,"div",21),_.Qb(4,"div",22),_.Ub(),_.Ub()),2&t){var n=e.$implicit;_.Db(2),_.Sc(n.fileName),_.Db(2),_.nc("ngStyle",_.sc(2,Dt,n.uploadProgress))}}function Ot(t,e){if(1&t&&(_.Vb(0,"div",17),_.Pc(1,Pt,5,4,"div",18),_.Ub()),2&t){var n=_.gc(2);_.Db(1),_.nc("ngForOf",n.convertObjToArray(n.fileUploadQueue))}}function Ct(t,e){if(1&t&&(_.Vb(0,"div"),_.Qb(1,"img",33),_.hc(2,"safe"),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.nc("src",_.ic(2,1,n.url),_.Hc)}}function Ut(t,e){if(1&t&&(_.Qb(0,"img",33),_.hc(1,"safe")),2&t){var n=_.gc().$implicit;_.nc("src",_.ic(1,1,n.thumb),_.Hc)}}function Vt(t,e){if(1&t){var n=_.Wb();_.Vb(0,"span",34),_.cc("click",function(){_.Dc(n);var t=_.gc().$implicit;return _.gc(3).removeImg(t.url)}),_.Vb(1,"mat-icon"),_.Rc(2,"cancel"),_.Ub(),_.Ub()}}function Mt(t,e){1&t&&(_.Vb(0,"span",35),_.Vb(1,"mat-icon",36),_.Rc(2,"check_box_outline"),_.Ub(),_.Ub())}function Tt(t,e){if(1&t&&(_.Vb(0,"div",25),_.Pc(1,Ct,3,3,"div",26),_.Pc(2,Ut,2,3,"ng-template",null,27,_.Qc),_.Vb(4,"a",28),_.Vb(5,"mat-icon",29),_.Rc(6,"attach_file"),_.Ub(),_.Vb(7,"span",30),_.Rc(8),_.Ub(),_.Ub(),_.Pc(9,Vt,3,0,"span",31),_.Pc(10,Mt,3,0,"span",32),_.Ub()),2&t){var n=e.$implicit,i=_.zc(3),o=_.gc(3);_.Db(1),_.nc("ngIf",0==o.isVideo(n.mimes))("ngIfElse",i),_.Db(6),_.nc("matTooltip",n.name),_.Db(1),_.Sc(n.name),_.Db(1),_.nc("ngIf",1!=o.isSuccess),_.Db(1),_.nc("ngIf",o.isSuccess)}}function jt(t,e){if(1&t&&(_.Vb(0,"div",23),_.Pc(1,Tt,11,6,"div",24),_.Ub()),2&t){var n=_.gc(2);_.Db(1),_.nc("ngForOf",n.uploadFiles)}}function Et(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",37),_.cc("click",function(){return _.Dc(n),_.gc(2).openSelectFile()}),_.Vb(1,"a",38),_.Vb(2,"mat-icon"),_.Rc(3,"upload_file"),_.Ub(),_.Ub(),_.Qb(4,"br"),_.Vb(5,"span"),_.Rc(6,"Upload file b\xe0i l\xe0m c\u1ee7a b\u1ea1n"),_.Ub(),_.Qb(7,"br"),_.Vb(8,"span"),_.Rc(9,"(H\u1ed7 tr\u1ee3 \u1ea2nh, Video, Audio ho\u1eb7c File PDF)"),_.Ub(),_.Vb(10,"form",39),_.Vb(11,"input",40,41),_.cc("change",function(t){return _.Dc(n),_.gc(2).selectFile(t)}),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(2);_.Db(10),_.nc("formGroup",i.form)}}function Rt(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",42),_.Qb(1,"hr"),_.Vb(2,"div",43),_.Vb(3,"div",44),_.Rc(4,"Ho\u1eb7c n\u1ed9p b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i"),_.Ub(),_.Ub(),_.Vb(5,"p",45),_.Rc(6," **(Vui l\xf2ng kh\xf4ng t\u1eaft b\u1ea3ng n\xe0y khi n\u1ed9p b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i)** "),_.Ub(),_.Vb(7,"div",46),_.Vb(8,"div",47),_.Vb(9,"p",48),_.Vb(10,"strong"),_.Rc(11,"C\xe1ch 1:"),_.Ub(),_.Rc(12," S\u1eed d\u1ee5ng \u0111i\u1ec7n tho\u1ea1i qu\xe9t m\xe3 QRcode d\u01b0\u1edbi \u0111\xe2y \u0111\u1ec3 t\u1ea3i b\xe0i thi t\u1ef1 lu\u1eadn l\xean "),_.Ub(),_.Qb(13,"div",49),_.Ub(),_.Ub(),_.Vb(14,"div",50),_.Vb(15,"p",48),_.Vb(16,"strong"),_.Rc(17,"C\xe1ch 2:"),_.Ub(),_.Rc(18," V\xe0o tr\xecnh duy\u1ec7t b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i. Truy c\u1eadp \u0111\u01b0\u1eddng d\u1eabn sau \u0111\u1ec3 t\u1ea3i b\xe0i thi t\u1ef1 lu\u1eadn l\xean"),_.Ub(),_.Vb(19,"p",51),_.Vb(20,"span",52),_.Rc(21),_.Ub(),_.Vb(22,"mat-icon",53),_.cc("click",function(){return _.Dc(n),_.gc(2).clickCopyLink()}),_.Rc(23,"file_copy"),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(2);_.Db(21),_.Sc(i.urlUploadImage),_.Db(1),_.nc("cdkCopyToClipboard",i.copylinkToClipboard(i.urlUploadImage))}}function Ft(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",14),_.Rc(2,"\xa0"),_.Ub())}function At(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",1),_.Vb(1,"div",null,2),_.Vb(3,"div",3),_.cc("click",function(){return _.Dc(n),_.gc().saveFileConf()}),_.Ub(),_.Vb(4,"mat-card",4),_.Vb(5,"mat-card-content"),_.Pc(6,It,6,2,"div",5),_.Pc(7,Ot,2,1,"div",6),_.Pc(8,jt,2,1,"div",7),_.Pc(9,Et,13,1,"div",8),_.Pc(10,Rt,24,2,"div",9),_.Vb(11,"div",10),_.Vb(12,"button",11),_.cc("click",function(){return _.Dc(n),_.gc().saveFileConf()}),_.Pc(13,Ft,3,0,"span",12),_.Rc(14," X\xc1C NH\u1eacN "),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc();_.Db(6),_.nc("ngIf",i.status_obj.loading),_.Db(1),_.nc("ngIf",i.convertObjToArray(i.fileUploadQueue).length>0),_.Db(1),_.nc("ngIf",i.uploadFiles.length>0),_.Db(1),_.nc("ngIf",!i.status_obj.loading),_.Db(1),_.nc("ngIf",!i.data.isMobile),_.Db(2),_.nc("disabled",i.status_obj.loading||i.convertObjToArray(i.fileUploadQueue).length>0),_.Db(1),_.nc("ngIf",i.status_obj.loading)}}var Lt,zt=((Lt=function(){function t(e,n,i,o,s,c){var r=this;a(this,t),this.fb=e,this.commonService=n,this.apiExamService=i,this.apiCommonService=o,this.translate=s,this.myPdfService=c,this.isOnSelectFile=new _.o,this.closeDialog=new _.o,this.addFileMobile=new _.o,this.subscriptions=new D.a,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.form=new u.k({}),this.uploadFiles=[],this.files=[],this.timeCount=0,this.isSubmit=!1,this.isSuccess=!1,this.onSelectFile=!1,this.isCallFullScreenOnce=!1,this.fileUploadQueue={},this.uploadCount=0,this.logs=[],this.urlUploadImage="",this.userAgent="",this.cur_language=this.translate.currentLang,this.intervalGetInfoUpload=null,this.isUploadedPdf=!1,this.isOnSync=!1,this.customCard=_.l,this.uploadFile=function(t,e){r.isSubmit=!1,(Object(mt.e)(t.type)||Object(mt.l)(t.type)||Object(mt.d)(t.type)||Object(mt.h)(t.type)||Object(mt.g)(t.type))&&Object(mt.a)(t).then(function(n){r.apiCommonService.uploadToCdnProgressForFrontendExam(n).subscribe(function(n){if(0==n.success){var i={name:t.name,size:t.size,type:t.type};r.sendTrackLog("upload_file_to_cdn",JSON.stringify(i),"can_not_upload_image"),r.status_obj={loading:!1,error:!1,error_obj:{message:""}},r.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: "+n.message,""),r.commonService.gaEvent("FrontExam_UploadError")}else if(n.type&&n.type==dt.c.UploadProgress){var o=Math.round(n.loaded/n.total*100);r.fileUploadQueue.hasOwnProperty(e)?(r.fileUploadQueue[e].uploadProgress=o,r.fileUploadQueue[e].fileName=t.name):r.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}}else n.successUpload&&1==n.successUpload&&(delete r.fileUploadQueue[e],Array.isArray(r.uploadFiles)||(r.uploadFiles=[]),r.uploadFiles.push(Object.assign({},n.data)),r.status_obj={loading:!1,error:!1,error_obj:{message:""}},r.updateFileUploadMobile(!1),i={name:t.name,size:t.size,type:t.type},r.sendTrackLog("upload_file_to_cdn",JSON.stringify(i),""))},function(e){r.sendTrackLog("upload_file_to_cdn",JSON.stringify({name:t.name,size:t.size,type:t.type}),"can_not_upload_image"),r.logs.push("Err:"+e),r.commonService.snackWarning("L\u1ed7i: "+e.subString(0,50),""),r.commonService.gaEvent("FrontExam_UploadError")})})},this.fileSelect=_.l,this.selectFile=function(t){return Object(bt.a)(r,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files,e.prev=1,e.t0=regeneratorRuntime.keys(n);case 3:if((e.t1=e.t0()).done){e.next=26;break}if("length"==(i=e.t1.value)||"item"==i){e.next=24;break}if(!Object(mt.k)(n[i].type)){e.next=23;break}if(!(Object(mt.b)(n[i].size)<=200)){e.next=20;break}if(this.answerFile=n?n[i]:this.answerFile,!Object(mt.h)(n[i].type)){e.next=17;break}return o={name:n[i].name,size:n[i].size,type:n[i].type},this.sendTrackLog("select_file",JSON.stringify(o)),this.isUploadedPdf=!0,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},e.next=13,this.myPdfService.getImageWithPdf(n[i]);case 13:a=e.sent,this.answerFile=n?n[i]:this.answerFile,this.uploadFilesFunc(a,this.uploadCount),this.uploadCount+=1,e.next=18;break;case 17:this.answerFile&&(o={name:n[i].name,size:n[i].size,type:n[i].type},this.sendTrackLog("select_file",JSON.stringify(o)),this.isSuccess=!1,this.status_obj={loading:!0,error:!1,error_obj:{message:""}},Object(mt.l)(n[i].type)?this.uploadFileVideo(this.answerFile,this.uploadCount):this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);case 18:e.next=21;break;case 20:this.commonService.snackError("File g\u1eb7p l\u1ed7i: "+n[i].name+". Size: "+Object(mt.b)(n[i].size)+" MB. Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB","");case 21:e.next=24;break;case 23:o={name:n[i].name,size:n[i].size,type:n[i].type},this.sendTrackLog("select_file",JSON.stringify(o),"is_not_image"),this.commonService.snackError("File g\u1eb7p l\u1ed7i: "+n[i].name+". Ki\u1ec3u: "+n[i].type+". Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF","");case 24:e.next=3;break;case 26:t.target.value="",this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1),e.next=32;break;case 29:e.prev=29,e.t2=e.catch(1),alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+e.t2),this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1);case 32:case"end":return e.stop()}},e,this,[[1,29]])}))},this.uploadFileVideo=function(t,e){return Object(bt.a)(r,void 0,void 0,regeneratorRuntime.mark(function n(){var i=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.subscriptions.add(this.apiCommonService.uploadToVimeoProgress("front_exam",t).subscribe(function(n){n.hasOwnProperty("isOnProgress")?i.fileUploadQueue.hasOwnProperty(e)?(i.fileUploadQueue[e].uploadProgress=Math.round(n.percentage),i.fileUploadQueue[e].fileName=t.name):i.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}:0==n.success?(i.status_obj={loading:!1,error:!1,error_obj:{message:""}},i.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin! Vui l\xf2ng th\u1eed l\u1ea1i sau!","")):(delete i.fileUploadQueue[e],Array.isArray(i.uploadFiles)||(i.uploadFiles=[]),i.addFileWithProsess(Object.assign(Object.assign({},n.data),{lastModified:t.lastModified})),i.updateFileUploadMobile(!1))}));case 1:case"end":return n.stop()}},n,this)}))},this.uploadFilesFunc=function(t,e){return Object(bt.a)(r,void 0,void 0,regeneratorRuntime.mark(function n(){var i,o,a=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:i=regeneratorRuntime.mark(function n(i){var o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=t[i],n.next=3,Object(mt.a)(o).then(function(n){a.apiCommonService.uploadToCdnProgressForFrontendExam(n).subscribe(function(n){0==n.success?(a.status_obj={loading:!1,error:!1,error_obj:{message:""}},a.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin! Vui l\xf2ng th\u1eed l\u1ea1i sau!","")):n.type&&n.type==dt.c.UploadProgress||n.successUpload&&1==n.successUpload&&(delete a.fileUploadQueue[e],Array.isArray(a.uploadFiles)||(a.uploadFiles=[]),a.uploadFiles.push(Object.assign({},n.data)),i===t.length-1&&a.updateFileUploadMobile(!1).then(function(){a.status_obj={loading:!1,error:!1,error_obj:{message:""}},a.isUploadedPdf=!1}))})});case 3:case"end":return n.stop()}},n)}),o=0;case 2:if(!(o<t.length)){n.next=7;break}return n.delegateYield(i(o),"t0",4);case 4:o++,n.next=2;break;case 7:case"end":return n.stop()}},n)}))},this.answerFile=null}return c(t,[{key:"copylinkToClipboard",value:function(t){return t}},{key:"clickCopyLink",value:function(){this.commonService.snackSuccess("Copy link th\xe0nh c\xf4ng","")}},{key:"isOnSelectFileEmit",value:function(t){this.isOnSelectFile.emit(t)}},{key:"goBackFullScreen",value:function(){var t=document.documentElement,e=t.requestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullscreen||t.msRequestFullscreen;e&&!this.isCallFullScreenOnce&&this.data.hasMonitorScreen&&(e.call(t),this.isCallFullScreenOnce=!0)}},{key:"saveFile",value:function(){this.closeDialog.emit({isConfirm:!0,uploadFiles:this.uploadFiles})}},{key:"saveFileConf",value:function(){!0===this.status_obj.loading||this.convertObjToArray(this.fileUploadQueue).length>0?this.commonService.snackWarning("\u0110ang \u0111\u1ed3ng b\u1ed9 b\xe0i l\xe0m t\u1ef1 lu\u1eadn l\xean h\u1ec7 th\u1ed1ng! Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!",""):this.saveFile()}},{key:"replaceRequestGetInfoUpload",value:function(t){var e=this,n=t;this.intervalGetInfoUpload=setInterval(function(){!1===e.isUploadedPdf&&e.apiCommonService.getTmpObj(e.hashCode).subscribe(function(t){if(1==t.success){var i=null!=e.commonService.parseJson(t.data.tmpObj.files)?e.commonService.parseJson(t.data.tmpObj.files):new Array,o=!1;i.length!=e.uploadFiles.length?o=!0:i.length>0&&i.forEach(function(t){-1===e.uploadFiles.findIndex(function(e){return e.path==t.path})&&(o=!0)}),!0===o&&(0==e.isOnSync||n)&&e.addFileMobile.emit({files:i,keepOpen:!0}),n&&(e.uploadFiles=i,e.updateFileUploadMobile(!0),n=!1),e.status_obj={loading:!1,Tmploading:!1,error:!1,error_obj:{message:""}}}else e.commonService.snackError("\u0110\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng. Vui l\xf2ng \u1ea5n F5 ho\u1eb7c t\u1ea3i l\u1ea1i trang!",""),e.status_obj={loading:!1,Tmploading:!1,error:!1,error_obj:{message:""}}})},3e3),this.commonService.gaEvent("FrontExam_GetTmpUploadObj")}},{key:"updateFileUploadMobile",value:function(t){var e=this;return new Promise(function(n){e.status_obj={loading:!0,Tmploading:t,error:!1,error_obj:{message:""}},e.isOnSync=!0,e.apiCommonService.UpdateImageToTmp({hashCode:e.hashCode,files:JSON.stringify(e.uploadFiles)}).subscribe(function(t){1==t.success?(e.status_obj={loading:!1,Tmploading:!1,error:!1,error_obj:{message:""}},e.isOnSync=!1,n(!0)):e.status_obj={loading:!1,Tmploading:!1,error:!1,error_obj:{message:""}}})})}},{key:"openSelectFile",value:function(){this.status_obj.Tmploading||(this.isOnSelectFileEmit(!0),this.isCallFullScreenOnce=!1,this.onSelectFile=!0,this.fileSelect.nativeElement.click())}},{key:"onFocus",value:function(t){this.onSelectFile&&(null!=this.answerFile&&0!=this.uploadFiles.length||(this.goBackFullScreen(),this.isCallFullScreenOnce=!1,this.onSelectFile=!1,this.isOnSelectFileEmit(!1)))}},{key:"addFileWithProsess",value:function(t){t&&this.uploadFiles.push(t);for(var e=0;e<this.uploadFiles.length;e++)this.uploadFiles[e].lastModified||(this.uploadFiles[e].lastModified=(new Date).getTime()),this.uploadFiles[e].thumb||(this.uploadFiles[e].thumb=this.commonService.getThumbWithObj(this.uploadFiles[e]));this.uploadFiles.sort(function(t,e){return t.lastModified-e.lastModified})}},{key:"bindUrlToQrCode",value:function(t){var e="".concat(location.protocol+"//"+location.host,"/n/").concat(t);this.urlUploadImage=e,this.commonService.createObjectQrcode(e,128,128,"url",!1,"qrcode_making")}},{key:"onGlobalClick",value:function(t){this.customCard.nativeElement.contains(t.target)||this.closeDialog.emit(!1)}},{key:"isVideo",value:function(t){return/^(?:video)/i.test(t)}},{key:"convertObjToArray",value:function(t){var e=[];for(var n in t)e.push(t[n]);return e}},{key:"getError",value:function(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}},{key:"getErrorType",value:function(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}},{key:"removeImg",value:function(t){var e=this.uploadFiles.filter(function(e){return e.url!==t});this.uploadFiles=e,this.updateFileUploadMobile(!0)}},{key:"sendTrackLog",value:function(t,e,n){this.apiCommonService.getUserObj(),window}},{key:"ngOnChanges",value:function(){this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files)}},{key:"ngOnInit",value:function(){var t=this;setTimeout(function(){t.data.isMobile||t.bindUrlToQrCode(t.hashCode),t.status_obj={loading:!0,Tmploading:!0,error:!1,error_obj:{message:""}},t.replaceRequestGetInfoUpload(!0)},100),this.form=this.fb.group({file_data:new u.h("",u.z.required),file:new u.h("",u.z.required)}),this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files),this.data.isMobile&&(this.userAgent=navigator.userAgent)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.intervalGetInfoUpload&&clearInterval(this.intervalGetInfoUpload)}}]),t}()).\u0275fac=function(t){return new(t||Lt)(_.Pb(u.g),_.Pb(y.a),_.Pb(O.a),_.Pb(ht.a),_.Pb(gt.c),_.Pb(ft.a))},Lt.\u0275cmp=_.Jb({type:Lt,selectors:[["app-upload-image"]],viewQuery:function(t,e){var n;1&t&&(_.Yc(_t,!0),_.Yc(yt,!0)),2&t&&(_.yc(n=_.dc())&&(e.customCard=n.first),_.yc(n=_.dc())&&(e.fileSelect=n.first))},hostBindings:function(t,e){1&t&&_.cc("focus",function(t){return e.onFocus(t)},!1,_.Cc)("mousedown",function(t){return e.onGlobalClick(t)},!1,_.Bc)},inputs:{data:"data",hashCode:"hashCode"},outputs:{isOnSelectFile:"isOnSelectFile",closeDialog:"closeDialog",addFileMobile:"addFileMobile"},features:[_.Bb],decls:1,vars:1,consts:[["class","uploadDialog",4,"ngIf"],[1,"uploadDialog"],["customCard",""],[1,"bg-overbackground",3,"click"],[1,"customCard"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container","style","padding-left: 15px;padding-right: 15px;",4,"ngIf"],["class","upload-box ml-auto mr-auto text-center clickable p-3 no-select",3,"click",4,"ngIf"],["class","upload-qr-box",4,"ngIf"],[1,"btn-conFirm","mt-2","text-center"],["mat-raised-button","",1,"save_btn",3,"disabled","click"],[4,"ngIf"],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],["class","h5",4,"ngIf"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container",2,"padding-left","15px","padding-right","15px"],["class","col-6 col-sm-6 col-md-4","style","border: 1px solid #e0e0e0;",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4",2,"border","1px solid #e0e0e0"],[4,"ngIf","ngIfElse"],["video",""],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[2,"width","80%",3,"src"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"],[1,"upload-box","ml-auto","mr-auto","text-center","clickable","p-3","no-select",3,"click"],["id","select-upload-file",1,"align-self-center","select","clickable"],[3,"formGroup"],["type","file","id","file_select","multiple","","formControlName","file",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"upload-qr-box"],[2,"display","flex","justify-content","center","align-items","center"],[2,"background","#eeeeee","margin-top","-33px","padding","0 10px","color","#44beb5","text-transform","uppercase","font-size","16px"],[1,"mb-0","pb-0",2,"font-size","14px","text-align","center","color","#ff0022d2"],[1,"upload-qr-box-item"],[1,"upload-qr-box-item-content"],[2,"font-size","14px"],["id","qrcode_making",1,"upload-qr-box-item-content-qr"],[1,"upload-qr-box-url"],[1,"upload-qr-box-url-link"],[2,"vertical-align","middle"],["matTooltip","COPY LINK",1,"clickable",2,"vertical-align","middle","float","right","height","20px","font-size","20px",3,"cdkCopyToClipboard","click"]],template:function(t,e){1&t&&_.Pc(0,At,15,7,"div",0),2&t&&_.nc("ngIf",e.data.isShow)},directives:[l.m,V.a,V.b,pt.b,l.l,l.n,M.a,vt.a,u.B,u.s,u.l,u.d,u.r,u.j,xt.a],pipes:[wt.s],styles:[".uploadDialog[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:89;right:10px;top:10px}.customCard[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f2f2f2 0,#e4e4e4 100%,#fff 0);box-sizing:border-box;border:1px solid #e6e6e6;border-radius:5px;box-shadow:5px 5px 5px rgba(0,0,0,.35);height:97vh;overflow:auto}.file-input[_ngcontent-%COMP%]{visibility:hidden}.upload-box[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-radius:5px;background-color:#fff;max-width:70%;margin-bottom:1rem}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#fff;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8;height:200px;overflow-y:auto}.save_btn[_ngcontent-%COMP%]{background:inherit;background-color:#169bd5;border:none;border-radius:5px;box-shadow:none;color:#fff}@media (max-width:1200px){.uploadDialog[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:80%;margin-left:auto;border-radius:5px;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}}.upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:#fff;padding:5px;border-radius:5px}@media (max-width:1200px){.bg-overbackground[_ngcontent-%COMP%]{display:none}}.bg-overbackground[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.6392156862745098)}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}"]}),Lt),qt=o("s65G"),Qt=o("0pw4"),Nt=o("RtGS"),Bt=o("ghyd");function $t(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",1),_.cc("click",function(t){return _.Dc(n),_.gc().onGlobalClick(t)}),_.Vb(1,"div",2),_.Vb(2,"div",3),_.Rc(3,"H\u1ec7 th\u1ed1ng ph\xe1t hi\u1ec7n truy c\u1eadp trang t\u1ea1i 2 n\u01a1i kh\xe1c nhau"),_.Ub(),_.Vb(4,"div",4),_.Rc(5,"H\u1ec7 th\u1ed1ng ph\xe1t hi\u1ec7n t\xe0i kho\u1ea3n \u0111ang ho\u1ea1t \u0111\u1ed9ng tr\xean 2 tab ho\u1eb7c 2 thi\u1ebft b\u1ecb kh\xe1c nhau. H\xe0nh \u0111\u1ed9ng \u0111\xe3 \u0111\u01b0\u1ee3c ghi nh\u1eadn. B\u1ea1n ch\u1ec9 n\xean ho\u1ea1t \u0111\u1ed9ng tr\xean m\u1ed9t thi\u1ebft b\u1ecb v\xe0 1 tab \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o b\xe0i l\xe0m."),_.Ub(),_.Vb(6,"div",5),_.Vb(7,"button",6),_.cc("click",function(){return _.Dc(n),_.gc().closeActive()}),_.Rc(8,"T\u1eaft th\xf4ng b\xe1o"),_.Ub(),_.Ub(),_.Ub(),_.Ub()}}var Wt,Ht=((Wt=function(){function t(){a(this,t),this.active=new at}return c(t,[{key:"onGlobalClick",value:function(t){this.closeActive()}},{key:"ngOnInit",value:function(){}},{key:"callMe",value:function(t){console.log("Called : "+t)}},{key:"closeActive",value:function(){this.active.hiddenNowNoti()}},{key:"destroyActive",value:function(){this.active.destroy()}},{key:"ngOnDestroy",value:function(){this.active.destroy()}}]),t}()).\u0275fac=function(t){return new(t||Wt)},Wt.\u0275cmp=_.Jb({type:Wt,selectors:[["azt-duplicate-active"]],inputs:{data:"data"},decls:1,vars:1,consts:[["id","azt__duplicate__active","class","duplicate","style","display: none;",3,"click",4,"ngIf"],["id","azt__duplicate__active",1,"duplicate",2,"display","none",3,"click"],[1,"duplicate__active"],[1,"duplicate__active_header"],[1,"duplicate__active_body","py-4"],[1,"duplicate__active_footer","text-right"],[1,"btn","btn-outline-secondary",3,"click"]],template:function(t,e){1&t&&_.Pc(0,$t,9,0,"div",0),2&t&&_.nc("ngIf",0!=e.data)},directives:[l.m],styles:[".duplicate[_ngcontent-%COMP%]{z-index:10000000;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.8);display:flex;justify-content:center}.duplicate__active[_ngcontent-%COMP%]{position:relative;margin-top:60px;width:500px;height:250px;background-color:#fff;border-radius:5px}.duplicate__active_header[_ngcontent-%COMP%]{border-radius:4px 4px 0 0;text-align:center;padding:10px;font-size:18px;background:#007bfe;color:#fff}.duplicate__active_body[_ngcontent-%COMP%]{border-radius:0 0 5px 5px;padding:10px;font-size:18px;text-align:justify}.duplicate__active_footer[_ngcontent-%COMP%]{width:100%;padding:10px;position:absolute;bottom:0;background-color:#fafafa;border-top:1px solid #e0e0e0}"]}),Wt),Gt=o("bSwM"),Jt=o("QibW"),Kt=o("kmnG"),Xt=o("d3UM"),Yt=o("FKr1"),Zt=["myDialogSubmitInfo"];function te(t,e){if(1&t&&(_.Vb(0,"div"),_.Vb(1,"div",13),_.Vb(2,"div",14),_.Vb(3,"span",15),_.Rc(4),_.Ub(),_.Ub(),_.Qb(5,"input",16),_.Ub(),_.Ub()),2&t){var n=_.gc(),i=n.$implicit,o=n.index;_.Db(4),_.Sc(i.title),_.Db(1),_.pc("formControlName","infoType_0_field_",o,"")}}function ee(t,e){if(1&t&&(_.Vb(0,"div",22),_.Vb(1,"mat-checkbox",23),_.Vb(2,"span",24),_.Rc(3),_.Ub(),_.Ub(),_.Ub()),2&t){var n=e.$implicit,i=e.index,o=_.gc(2).index,a=_.gc(2);_.pc("formArrayName","infoType_1_field_",o,""),_.Db(1),_.nc("checked",a.form.value["infoType_1_field_"+o][i])("formControlName",i),_.Db(1),_.oc("matTooltip",n),_.Db(1),_.Sc(n)}}function ne(t,e){if(1&t&&(_.Vb(0,"div"),_.Vb(1,"div",17),_.Vb(2,"div",18),_.Vb(3,"span",19),_.Rc(4),_.Ub(),_.Ub(),_.Ub(),_.Vb(5,"div",20),_.Pc(6,ee,4,5,"div",21),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(4),_.Sc(n.title),_.Db(2),_.nc("ngForOf",n.contents)}}function ie(t,e){if(1&t&&(_.Vb(0,"mat-radio-button",27),_.Vb(1,"span",24),_.Rc(2),_.Ub(),_.Ub()),2&t){var n=e.$implicit;_.nc("value",n),_.Db(1),_.oc("matTooltip",n),_.Db(1),_.Sc(n)}}function oe(t,e){if(1&t&&(_.Vb(0,"div"),_.Vb(1,"div",17),_.Vb(2,"div",18),_.Vb(3,"span",19),_.Rc(4),_.Ub(),_.Ub(),_.Vb(5,"mat-radio-group",25),_.Pc(6,ie,3,3,"mat-radio-button",26),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(),i=n.$implicit,o=n.index;_.Db(4),_.Sc(i.title),_.Db(1),_.pc("formControlName","infoType_2_field_",o,""),_.Db(1),_.nc("ngForOf",i.contents)}}function ae(t,e){if(1&t&&(_.Vb(0,"mat-option",31),_.Rc(1),_.Ub()),2&t){var n=e.$implicit;_.oc("value",n),_.Db(1),_.Sc(n)}}function se(t,e){if(1&t&&(_.Vb(0,"div"),_.Vb(1,"div",17),_.Vb(2,"div",18),_.Vb(3,"span",19),_.Rc(4),_.Ub(),_.Ub(),_.Vb(5,"mat-form-field",28),_.Vb(6,"mat-label"),_.Rc(7,"Ch\u1ecdn m\u1ed9t th\xf4ng tin"),_.Ub(),_.Vb(8,"mat-select",29),_.Pc(9,ae,2,2,"mat-option",30),_.Ub(),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(),i=n.$implicit,o=n.index;_.Db(4),_.Sc(i.title),_.Db(4),_.pc("formControlName","infoType_3_field_",o,""),_.Db(1),_.nc("ngForOf",i.contents)}}function ce(t,e){if(1&t&&(_.Tb(0),_.Pc(1,te,6,2,"div",12),_.Pc(2,ne,7,2,"div",12),_.Pc(3,oe,7,3,"div",12),_.Pc(4,se,10,3,"div",12),_.Sb()),2&t){var n=e.$implicit;_.Db(1),_.nc("ngIf",0==n.type),_.Db(1),_.nc("ngIf",1==n.type),_.Db(1),_.nc("ngIf",2==n.type),_.Db(1),_.nc("ngIf",3==n.type)}}function re(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",32),_.Rc(2,"\xa0"),_.Ub())}function le(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",1),_.cc("click",function(t){return _.Dc(n),_.gc().onGlobalClick(t)}),_.Vb(1,"form",2),_.Vb(2,"div",3,4),_.Vb(4,"div",5),_.Vb(5,"div",6),_.Vb(6,"p",7),_.Rc(7,"Vui l\xf2ng nh\u1eadp th\xeam th\xf4ng tin \u0111\u1ec3 b\u1eaft \u0111\u1ea7u b\xe0i thi"),_.Ub(),_.Vb(8,"p",8),_.Rc(9,"Nh\u1eefng th\xf4ng tin n\xe0y s\u1ebd gi\xfap gi\xe1o vi\xean \u0111\u1ecbnh danh v\xe0 ch\u1ea5m \u0111i\u1ec3m cho b\u1ea1n"),_.Ub(),_.Ub(),_.Pc(10,ce,5,4,"ng-container",9),_.Vb(11,"div",10),_.Vb(12,"button",11),_.cc("click",function(){return _.Dc(n),_.gc().handleConfirm()}),_.Pc(13,re,3,0,"span",12),_.Rc(14," X\xe1c nh\u1eadn "),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc();_.Db(1),_.nc("formGroup",i.form),_.Db(9),_.nc("ngForOf",i.data.infoFields),_.Db(2),_.nc("disabled",!i.form.valid||i.isLoading),_.Db(1),_.nc("ngIf",i.isLoading)}}var ue,be=((ue=function(){function t(e,n){a(this,t),this.fb=e,this.commonService=n,this.closeDialog=new _.o,this.subscriptions=new D.a,this.isLoading=!1,this.form=new u.k({}),this.infoSubmit=[],this.myDialog=_.l}return c(t,[{key:"onGlobalClick",value:function(t){this.myDialog.nativeElement.contains(t.target)||this.form.valid&&this.handleConfirm()}},{key:"handleConfirm",value:function(){this.isLoading=!0,this.mapData(),this.commonService.getSizeOfStorage()>4.5&&this.commonService.removeExceptSimpleStorage(this.data.examId,this.data.hashId),this.commonService.saveSimpleStorage("userInfoV3_"+this.data.hashId,JSON.stringify(this.infoSubmit));var t={success:!0,info:JSON.stringify(this.infoSubmit)};this.closeDialog.emit(t),this.isLoading=!1}},{key:"mapData",value:function(){this.infoSubmit=[];for(var t=0;t<this.data.infoFields.length;t++){var e={};switch(e.index=t,e.type=this.data.infoFields[t].type,e.title=this.data.infoFields[t].title,e.contents=[],this.data.infoFields[t].type){case 1:for(var n=0;n<this.form.value["infoType_".concat(this.data.infoFields[t].type,"_field_").concat(t)].length;n++)this.form.value["infoType_".concat(this.data.infoFields[t].type,"_field_").concat(t)][n]&&e.contents.push(this.data.infoFields[t].contents[n]);break;default:e.contents.push(this.form.value["infoType_".concat(this.data.infoFields[t].type,"_field_").concat(t)])}this.infoSubmit.push(e)}}},{key:"ngOnInit",value:function(){for(var t={},e=0;e<this.data.infoFields.length;e++)switch(this.data.infoFields[e].type){case 1:var n=[];this.data.infoFields[e].contents.forEach(function(t){n.push(new u.h(!1))}),t["infoType_1_field_"+e]=new u.e(n,de(1));break;case 2:t["infoType_2_field_"+e]=["",u.z.required];break;case 3:t["infoType_3_field_"+e]=["",u.z.required];break;default:t["infoType_0_field_"+e]=["",u.z.required]}this.form=this.fb.group(t)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||ue)(_.Pb(u.g),_.Pb(y.a))},ue.\u0275cmp=_.Jb({type:ue,selectors:[["app-submit-info"]],viewQuery:function(t,e){var n;1&t&&_.Yc(Zt,!0),2&t&&_.yc(n=_.dc())&&(e.myDialog=n.first)},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],["id","test-info-form",3,"formGroup"],[1,"school-info","p-4","scrollable-form"],["myDialogSubmitInfo",""],[1,"form-horizontal","text-center"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"h6","para_respon","text-info","font-weight-normal"],[4,"ngFor","ngForOf"],[1,"float-right","mt-3","pb-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"input-group","my-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text",1,"form-control",3,"formControlName"],[1,"input-group","mt-3"],[1,"input-group-prepend","w-100","text-center"],[1,"input-group-text","w-100","d-inline-block",2,"border-bottom-left-radius","0","border-top-right-radius","0.25rem","white-space","normal"],[1,"row","pt-2","pl-0","pr-0","ml-0","mr-0","border-row"],["class","col-12 col-sm-12 col-md-4 text-left mb-1",3,"formArrayName",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","text-left","mb-1",3,"formArrayName"],["color","primary",3,"checked","formControlName"],[1,"truncate",3,"matTooltip"],[1,"row","w-100","pt-3","pl-0","pr-0","ml-0","mr-0","border-row",3,"formControlName"],["color","primary","class","col-12 col-sm-12 col-md-4 text-left mb-1",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"col-12","col-sm-12","col-md-4","text-left","mb-1",3,"value"],["appearance","fill"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&_.Pc(0,le,15,4,"div",0),2&t&&_.nc("ngIf",e.data.isShow)},directives:[l.m,u.B,u.s,u.l,l.l,pt.b,u.d,u.r,u.j,u.f,Gt.a,vt.a,Jt.b,Jt.a,Kt.d,Kt.g,Xt.a,Yt.n],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:800px;max-width:800px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:150px;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.content-form[_ngcontent-%COMP%]{border:1px solid #bebaba;border-radius:5px}.scrollable-form[_ngcontent-%COMP%]{max-height:calc(100vh - 10%);overflow-y:auto}.form-field-custom[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.04);border:1px solid rgba(206,212,218,.6980392156862745);border-radius:.25rem;padding:5px 8px}.border-row[_ngcontent-%COMP%]{border:1px solid #ced4da;border-top:none;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}.truncate[_ngcontent-%COMP%]{max-width:350px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}.truncate[_ngcontent-%COMP%]{max-width:180px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),ue);function de(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return e.controls.map(function(t){return t.value}).reduce(function(t,e){return e?t+e:t},0)>=t?null:{required:!0}}}var me=["myDialogMonitor"];function he(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",9),_.Rc(2,"\xa0"),_.Ub())}function ge(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",1),_.cc("click",function(t){return _.Dc(n),_.gc().closeOutsideDialog(t)}),_.Vb(1,"div",2,3),_.Vb(3,"div",4),_.Vb(4,"p",5),_.Rc(5,'\u0110\xe2y l\xe0 b\xe0i thi \u0111\u01b0\u1ee3c "Gi\xe1m S\xe1t". Vui l\xf2ng b\u1ea5m "X\xe1c nh\u1eadn" \u0111\u1ec3 ti\u1ebfp t\u1ee5c b\xe0i thi!'),_.Ub(),_.Ub(),_.Vb(6,"div",6),_.Vb(7,"button",7),_.cc("click",function(){return _.Dc(n),_.gc().confirmQuit()}),_.Pc(8,he,3,0,"span",8),_.Rc(9," X\xe1c Nh\u1eadn "),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc();_.Db(8),_.nc("ngIf",!0===i.isLoading)}}var fe,pe=((fe=function(){function t(e){a(this,t),this.commonService=e,this.closeDialog=new _.o,this.subscriptions=new D.a,this.form=new u.k({}),this.isLoading=!1,this.timeCount={hour:0,minute:0,second:0},this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.myDialog=_.l}return c(t,[{key:"closeOutsideDialog",value:function(t){this.myDialog.nativeElement.contains(t.target)||this.closeDialog.emit(!0)}},{key:"confirmQuit",value:function(){this.closeDialog.emit(!0)}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||fe)(_.Pb(y.a))},fe.\u0275cmp=_.Jb({type:fe,selectors:[["app-monitor-screen"]],viewQuery:function(t,e){var n;1&t&&_.Yc(me,!0),2&t&&_.yc(n=_.dc())&&(e.myDialog=n.first)},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogMonitor",""],[1,"text-center"],[1,"mb-0","h5"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&_.Pc(0,ge,10,1,"div",0),2&t&&_.nc("ngIf",e.data.isShow)},directives:[l.m,pt.b],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),fe),ve=["myDialogCheckEssay"];function xe(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",10),_.Rc(2,"\xa0"),_.Ub())}function we(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",1),_.cc("click",function(t){return _.Dc(n),_.gc().closeDialog(t)}),_.Vb(1,"div",2,3),_.Vb(3,"div",4),_.Vb(4,"p",5),_.Rc(5,"\u0110\xe2y l\xe0 b\xe0i thi h\u1ed7n h\u1ee3p c\xf3 T\u1ef1 lu\u1eadn. \u0110\u1ec3 tr\u1ea3 l\u1eddi c\xe2u h\u1ecfi t\u1ef1 lu\u1eadn: "),_.Ub(),_.Vb(6,"p",6),_.Rc(7,'B\u1ea1n c\xf3 th\u1ec3 l\xe0m tr\u1ef1c ti\u1ebfp tr\xean h\u1ec7 th\u1ed1ng ho\u1eb7c l\xe0m ra gi\u1ea5y, ch\u1ee5p \u1ea3nh r\u1ed3i g\u1eedi qua "File \u0110\xednh K\xe8m"'),_.Ub(),_.Ub(),_.Vb(8,"div",7),_.Vb(9,"button",8),_.cc("click",function(){return _.Dc(n),_.gc().confirmQuit()}),_.Pc(10,xe,3,0,"span",9),_.Rc(11," T\xf4i \u0111\xe3 hi\u1ec3u "),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc();_.Db(10),_.nc("ngIf",!0===i.isLoading)}}var _e,ye=((_e=function(){function t(e){a(this,t),this.commonService=e,this.closeEssayDialog=new _.o,this.subscriptions=new D.a,this.form=new u.k({}),this.isLoading=!1,this.timeCount={hour:0,minute:0,second:0},this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.myDialog=_.l}return c(t,[{key:"closeDialog",value:function(t){this.myDialog.nativeElement.contains(t.target)||this.closeEssayDialog.emit(!0)}},{key:"confirmQuit",value:function(){this.closeEssayDialog.emit(!0)}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||_e)(_.Pb(y.a))},_e.\u0275cmp=_.Jb({type:_e,selectors:[["app-check-essay"]],viewQuery:function(t,e){var n;1&t&&_.Yc(ve,!0),2&t&&_.yc(n=_.dc())&&(e.myDialog=n.first)},inputs:{data:"data"},outputs:{closeEssayDialog:"closeEssayDialog"},decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogCheckEssay",""],[1,"text-center"],[1,"mb-2","h5"],[1,"mb-0","h5","text-info"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&_.Pc(0,we,12,1,"div",0),2&t&&_.nc("ngIf",e.data.isShow)},directives:[l.m,pt.b],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),_e),ke=o("wAhq"),Se=o("wZkO"),Ie=o("Vwpm");function De(t,e){if(1&t){var n=_.Wb();_.Vb(0,"span",20),_.cc("click",function(){_.Dc(n);var t=_.gc().$implicit;return _.gc(2).removeImg(t.url)}),_.Vb(1,"mat-icon"),_.Rc(2,"cancel"),_.Ub(),_.Rc(3,"\xa0\xa0\xa0\xa0\xa0\xa0 "),_.Ub()}}function Pe(t,e){1&t&&(_.Vb(0,"span",21),_.Vb(1,"mat-icon",22),_.Rc(2,"check_box"),_.Ub(),_.Ub())}function Oe(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",4),_.Vb(1,"a",5),_.Vb(2,"div",6),_.Vb(3,"div",7),_.Vb(4,"img",8),_.cc("click",function(t){_.Dc(n);var i=e.$implicit;return _.gc(2).onShowFile(t,i,-1)}),_.hc(5,"mycdn"),_.Ub(),_.Ub(),_.Vb(6,"div",9),_.Vb(7,"div",10),_.Vb(8,"mat-icon",11),_.cc("click",function(){_.Dc(n);var t=e.index,i=_.gc(2);return i.switchAttributeArray(i.answerFiles,t,t-1)}),_.Rc(9,"keyboard_arrow_left"),_.Ub(),_.Vb(10,"mat-icon",12),_.cc("click",function(){_.Dc(n);var t=e.index,i=_.gc(2);return i.switchAttributeArray(i.answerFiles,t,t-1)}),_.Rc(11,"arrow_upward"),_.Ub(),_.Ub(),_.Vb(12,"div",13),_.Rc(13,"Trang "),_.Vb(14,"input",14),_.cc("keyup.enter",function(t){_.Dc(n);var i=e.index;return _.gc(2).switchAttributeArrayInput(i,t)})("change",function(t){_.Dc(n);var i=e.index;return _.gc(2).switchAttributeArrayInput(i,t)}),_.Ub(),_.Ub(),_.Vb(15,"div",15),_.Vb(16,"mat-icon",16),_.cc("click",function(){_.Dc(n);var t=e.index,i=_.gc(2);return i.switchAttributeArray(i.answerFiles,t,t+1)}),_.Rc(17,"keyboard_arrow_right"),_.Ub(),_.Vb(18,"mat-icon",17),_.cc("click",function(){_.Dc(n);var t=e.index,i=_.gc(2);return i.switchAttributeArray(i.answerFiles,t,t+1)}),_.Rc(19,"arrow_downward"),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Pc(20,De,4,0,"span",18),_.Pc(21,Pe,3,0,"span",19),_.Ub()}if(2&t){var i=e.$implicit,o=e.index,a=_.gc(2);_.Db(4),_.nc("src",_.ic(5,6,a.checkLinkThumb(i)),_.Hc),_.Db(10),_.oc("id","input_page_"+o),_.oc("max",a.answerFiles.length+1),_.oc("value",o+1),_.Db(6),_.nc("ngIf",!i.uploadSuccess),_.Db(1),_.nc("ngIf",i.uploadSuccess)}}function Ce(t,e){if(1&t&&(_.Vb(0,"div",2),_.Pc(1,Oe,22,8,"div",3),_.Ub()),2&t){var n=_.gc();_.Db(1),_.nc("ngForOf",n.answerFiles)}}var Ue,Ve=function(t){return{"custom-width-list":t}},Me=((Ue=function(){function t(e,n,i,o,s,c){var r=this;a(this,t),this.fb=e,this.activeRoute=n,this.router=i,this.myPdfService=o,this.commonService=s,this.localize=c,this.answerFiles=[],this.isTesting=!1,this.onMobile=!1,this.showList=!1,this.emitDataBack=new _.o,this.changesPosImg=new _.o,this.previewFile=new _.o,this.removeFile=new _.o,this.subscriptions=new D.a,this.form=new u.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.fileUploadQueue={},this.uploadCount=0,this.answerFile=[],this.countUpload=1,this.selectFile=function(t){return Object(bt.a)(r,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files,e.prev=1,e.t0=regeneratorRuntime.keys(n);case 3:if((e.t1=e.t0()).done){e.next=26;break}if(i=e.t1.value,e.t2="length"!=i&&"item"!=i,!e.t2){e.next=24;break}if(!Object(mt.i)(n[i].type)){e.next=23;break}if(!(Object(mt.b)(n[i].size)<=200)){e.next=20;break}if(this.status_obj={loading:!0,error:!1,error_obj:{message:""}},!Object(mt.h)(n[i].type)){e.next=17;break}return e.next=13,this.myPdfService.getImageWithPdf(n[i]);case 13:this.answerFile=n?n[i]:this.answerFile,this.uploadCount+=1,e.next=18;break;case 17:this.answerFile=n?n[i]:this.answerFile,this.answerFile&&(this.status_obj={loading:!0,error:!1,error_obj:{message:""}},Object(mt.l)(n[i].type)&&(this.countUpload=0),this.uploadCount+=1);case 18:e.next=21;break;case 20:this.commonService.snackError("Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB","");case 21:e.next=24;break;case 23:this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF","");case 24:e.next=3;break;case 26:t.target.value="",e.next=32;break;case 29:e.prev=29,e.t3=e.catch(1),alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+e.t3);case 32:case"end":return e.stop()}},e,this,[[1,29]])}))}}return c(t,[{key:"addFileWithProsess",value:function(t){t&&this.answerFiles.push(t);for(var e=0;e<this.answerFiles.length;e++)this.answerFiles[e].lastModified||(this.answerFiles[e].lastModified=(new Date).getTime()),this.answerFiles[e].thumb||(this.answerFiles[e].thumb=this.commonService.getThumbWithObj(this.answerFiles[e]));this.answerFiles.sort(function(t,e){return t.lastModified-e.lastModified})}},{key:"removeImg",value:function(t){var e=this.answerFiles.filter(function(e){return e.url!==t});this.answerFiles=e,this.removeFile.emit(t)}},{key:"onShowFile",value:function(t,e,n){this.previewFile.emit({ev:t,file:e,index:n})}},{key:"switchAttributeArray",value:function(t,e,n){if(!(this.answerFiles.length<=e||this.answerFiles.length<=n||e<0||n<0)){var i=Object.assign({},this.answerFiles[e]);this.answerFiles[e]=Object.assign({},this.answerFiles[n]),this.answerFiles[n]=Object.assign({},i),this.changesPosImg.emit({answerFiles:this.answerFiles})}}},{key:"switchAttributeArrayInput",value:function(t,e){var n=e.target.value-1;n<=0?n=0:n>=this.answerFiles.length&&(n=this.answerFiles.length),this.answerFiles.splice(n,0,this.answerFiles.splice(t,1)[0]),this.changesPosImg.emit({answerFiles:this.answerFiles})}},{key:"convertObjToArray",value:function(t){var e=[];for(var n in t)e.push(t[n]);return e}},{key:"cloneArray",value:function(t){var e=[];return t.forEach(function(t){e.push(t)}),e}},{key:"checkLinkThumb",value:function(t){switch(this.getFileTypeString(t)){case"officeapps":return"https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/file.png";default:return t.thumb}}},{key:"getFileTypeString",value:function(t){return Object(mt.e)(t)?"image":Object(mt.h)(t)?"pdf":Object(mt.l)(t)?"video":Object(mt.d)(t)?"audio":"image"}},{key:"ngOnChanges",value:function(){this.answerFiles&&this.addFileWithProsess()}},{key:"ngOnInit",value:function(){this.form=this.fb.group({file_data:new u.h("",u.z.required),file_capture:new u.h("",u.z.required),file:new u.h("",u.z.required)}),this.addFileWithProsess()}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ue)(_.Pb(u.g),_.Pb(d.a),_.Pb(d.i),_.Pb(ft.a),_.Pb(y.a),_.Pb(x.e))},Ue.\u0275cmp=_.Jb({type:Ue,selectors:[["app-upload-ui"]],inputs:{answerFiles:"answerFiles",isTesting:"isTesting",onMobile:"onMobile",showList:"showList"},outputs:{emitDataBack:"emitDataBack",changesPosImg:"changesPosImg",previewFile:"previewFile",removeFile:"removeFile"},features:[_.Bb],decls:3,vars:5,consts:[[1,"form-horizontal","text-center",3,"formGroup","ngClass"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-12 col-sm-12 col-md-4 col-xl-3 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-xl-3","col-lg-3"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px"],[1,"box_image_answer"],[1,"box_image_answer_content"],[2,"image-orientation","from-image",3,"src","click"],[1,"box_image_answer_control"],[1,"icon-prev"],["matTooltip","Di chuy\u1ec3n ra ph\xeda tr\u01b0\u1edbc","matTooltipPosition","below",1,"box_image_answer_pc",3,"click"],["matTooltip","Di chuy\u1ec3n l\xean ph\xeda tr\xean","matTooltipPosition","below",1,"box_image_answer_mobile",3,"click"],[1,"page-number"],["type","number","min","1",1,"input-page","text-center",3,"id","max","value","keyup.enter","change"],[1,"icon-next"],["matTooltip","Di chuy\u1ec3n ra ph\xeda sau","matTooltipPosition","below",1,"box_image_answer_pc",3,"click"],["matTooltip","Di chuy\u1ec3n xu\u1ed1ng ph\xeda d\u01b0\u1edbi","matTooltipPosition","below",1,"box_image_answer_mobile",3,"click"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge notify-suss",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge","notify-suss"],[2,"color","rgb(26,188,0)"]],template:function(t,e){1&t&&(_.Vb(0,"form",0),_.Vb(1,"div"),_.Pc(2,Ce,2,1,"div",1),_.Ub(),_.Ub()),2&t&&(_.nc("formGroup",e.form)("ngClass",_.sc(3,Ve,e.isTesting&&!e.onMobile&&e.showList)),_.Db(2),_.nc("ngIf",e.answerFiles.length>0))},directives:[u.B,u.s,u.l,l.k,l.m,l.l,M.a,vt.a],pipes:[wt.o],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0;border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.files[_ngcontent-%COMP%]{cursor:pointer}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px;line-height:1}.input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.custom-width-list[_ngcontent-%COMP%]{max-width:83%}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s;width:100%}.box_image_answer_content[_ngcontent-%COMP%]{min-height:288px;border:1px solid #03a7d0}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.box_image_answer_control[_ngcontent-%COMP%]{background:#fff;width:100%;border:1px solid #03a7d0;border-top:none;display:flex;justify-content:space-evenly;align-items:center;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:5px 30px;border-left:1px solid #03a7d0;border-right:1px solid #03a7d0;background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width:768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]}),Ue),Te=["myDialogExitExam"];function je(t,e){if(1&t&&(_.Vb(0,"div",10),_.Vb(1,"p",11),_.Rc(2,"Th\u1eddi gian l\xe0m b\xe0i c\u1ee7a b\u1ea1n c\xf2n"),_.Ub(),_.Vb(3,"p",12),_.Vb(4,"span",13),_.Rc(5),_.Ub(),_.Rc(6," : "),_.Vb(7,"span",13),_.Rc(8),_.Ub(),_.Rc(9," : "),_.Vb(10,"span",13),_.Rc(11),_.Ub(),_.Ub(),_.Vb(12,"p",14),_.Rc(13," B\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c ghi nh\u1eadn. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n tho\xe1t b\xe0i thi? "),_.Ub(),_.Ub()),2&t){var n=_.gc(2);_.Db(5),_.Tc(" ",n.timeCount.hour>9?n.timeCount.hour:"0"+n.timeCount.hour," "),_.Db(3),_.Tc(" ",n.timeCount.minute>9?n.timeCount.minute:"0"+n.timeCount.minute," "),_.Db(3),_.Tc(" ",n.timeCount.second>9?n.timeCount.second:"0"+n.timeCount.second," ")}}function Ee(t,e){1&t&&(_.Vb(0,"div",10),_.Vb(1,"p",12),_.Rc(2," H\u1ebft gi\u1edd! Nh\u1ea5n v\xe0o 'Ho\xe0n th\xe0nh' \u0111\u1ec3 g\u1eedi b\xe0i thi c\u1ee7a b\u1ea1n. "),_.Ub(),_.Ub())}function Re(t,e){1&t&&(_.Vb(0,"div",10),_.Vb(1,"p",12),_.Rc(2," B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),_.Ub(),_.Ub())}function Fe(t,e){1&t&&(_.Vb(0,"div",10),_.Vb(1,"p",12),_.Rc(2," B\xe0i thi n\xe0y ch\u1ec9 \u0111\u01b0\u1ee3c thi m\u1ed9t l\u1ea7n! "),_.Ub(),_.Ub())}function Ae(t,e){1&t&&(_.Vb(0,"p",15),_.Rc(1," B\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c ghi nh\u1eadn. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n tho\xe1t b\xe0i thi? "),_.Ub())}function Le(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",16),_.Vb(1,"button",17),_.cc("click",function(){return _.Dc(n),_.gc(2).btnCloseDialog()}),_.Rc(2," H\u1ee7y "),_.Ub(),_.Ub()}}function ze(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",18),_.Rc(2,"\xa0"),_.Ub())}function qe(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",1),_.cc("click",function(t){return _.Dc(n),_.gc().onGlobalClick(t)}),_.Vb(1,"div",2,3),_.Pc(3,je,14,3,"div",4),_.Pc(4,Ee,3,0,"div",4),_.Pc(5,Re,3,0,"div",4),_.Pc(6,Fe,3,0,"div",4),_.Pc(7,Ae,2,0,"ng-template",null,5,_.Qc),_.Vb(9,"div",6),_.Pc(10,Le,3,0,"div",7),_.Vb(11,"button",8),_.cc("click",function(){return _.Dc(n),_.gc().confirmQuit()}),_.Pc(12,ze,3,0,"span",9),_.Rc(13," X\xe1c Nh\u1eadn "),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc();_.Db(3),_.nc("ngIf",i.data.time>0&&!i.data.unLimitTime),_.Db(1),_.nc("ngIf",i.data.time<=0&&!i.data.unLimitTime),_.Db(1),_.nc("ngIf",i.data.time&&i.data.unLimitTime),_.Db(1),_.nc("ngIf",null==i.data.time),_.Db(4),_.nc("ngIf",i.data.time>0||i.data.unLimitTime),_.Db(2),_.nc("ngIf",!0===i.isLoading)}}var Qe,Ne=((Qe=function(){function t(e){a(this,t),this.commonService=e,this.closeDialog=new _.o,this.redirectToHomepage=new _.o,this.subscriptions=new D.a,this.form=new u.k({}),this.isLoading=!1,this.timeCount={hour:0,minute:0,second:0},this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.myDialog=_.l}return c(t,[{key:"onGlobalClick",value:function(t){this.myDialog.nativeElement.contains(t.target)||this.closeDialog.emit()}},{key:"confirmQuit",value:function(){this.redirectToHomepage.emit(!0)}},{key:"setTimeExam",value:function(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60);this.timeCount={hour:e,minute:n,second:t%60}}},{key:"btnCloseDialog",value:function(){this.closeDialog.emit()}},{key:"ngOnInit",value:function(){this.setTimeExam(this.data.time)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Qe)(_.Pb(y.a))},Qe.\u0275cmp=_.Jb({type:Qe,selectors:[["app-exit-exam"]],viewQuery:function(t,e){var n;1&t&&_.Yc(Te,!0),2&t&&_.yc(n=_.dc())&&(e.myDialog=n.first)},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogExitExam",""],["class","text-center",4,"ngIf"],["unLimit",""],[1,"d-flex","float-right","mt-3"],["class","azt-block-button",4,"ngIf"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[1,"ng-binding"],[1,"h5","text-info",2,"padding-bottom","10px"],[1,"h5","text-danger",2,"padding-bottom","10px"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&_.Pc(0,qe,14,6,"div",0),2&t&&_.nc("ngIf",e.data.isShow)},directives:[l.m,pt.b],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),Qe),Be=["myDialogConfirmExam"];function $e(t,e){1&t&&(_.Vb(0,"span"),_.Rc(1,"\xa0"),_.Qb(2,"span",11),_.Ub())}function We(t,e){if(1&t&&(_.Vb(0,"span",12),_.Rc(1),_.hc(2,"mytranslate"),_.Ub()),2&t){var n=_.gc(3);_.Db(1),_.Tc("L\u1ed7i: ",_.ic(2,1,n.data.messageError),"")}}function He(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",11),_.Rc(2,"\xa0"),_.Ub())}function Ge(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",13),_.Vb(1,"div",14),_.Vb(2,"button",15),_.cc("click",function(){return _.Dc(n),_.gc(3).btnCloseDialog()}),_.Rc(3," \u0110\xf3ng "),_.Ub(),_.Ub(),_.Vb(4,"button",16),_.cc("click",function(){return _.Dc(n),_.gc(3).confirmFinish()}),_.Pc(5,He,3,0,"span",9),_.Rc(6," G\u1eedi l\u1ea1i "),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3);_.Db(4),_.nc("disabled",i.countTimeEnable),_.Db(1),_.nc("ngIf",i.isLoading)}}function Je(t,e){if(1&t&&(_.Vb(0,"div",7),_.Vb(1,"p",8),_.Rc(2," B\xe0i l\xe0m c\u1ee7a b\u1ea1n \u0111ang \u0111\u01b0\u1ee3c t\u1ef1 \u0111\u1ed9ng n\u1ed9p l\xean h\u1ec7 th\u1ed1ng. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t! "),_.Ub(),_.Pc(3,$e,3,0,"span",9),_.Pc(4,We,3,3,"span",10),_.Qb(5,"br"),_.Pc(6,Ge,7,2,"div",6),_.Ub()),2&t){var n=_.gc(2);_.Db(3),_.nc("ngIf",!n.data.saveFalse),_.Db(1),_.nc("ngIf",n.data.saveFalse&&n.data.messageError),_.Db(2),_.nc("ngIf",n.data.autoSubmit&&n.data.saveFalse)}}function Ke(t,e){1&t&&(_.Vb(0,"p",22),_.Rc(1," B\u1ea1n ch\u01b0a n\u1ed9p File t\u1ef1 lu\u1eadn n\xe0o. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),_.Ub())}function Xe(t,e){1&t&&(_.Vb(0,"p",23),_.Rc(1," B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),_.Ub())}function Ye(t,e){if(1&t&&(_.Vb(0,"div",7),_.Vb(1,"p",18),_.Rc(2,"Th\u1eddi gian l\xe0m b\xe0i c\u1ee7a b\u1ea1n c\xf2n"),_.Ub(),_.Vb(3,"p",8),_.Vb(4,"span",19),_.Rc(5),_.Ub(),_.Rc(6," : "),_.Vb(7,"span",19),_.Rc(8),_.Ub(),_.Rc(9," : "),_.Vb(10,"span",19),_.Rc(11),_.Ub(),_.Ub(),_.Pc(12,Ke,2,0,"p",20),_.Pc(13,Xe,2,0,"ng-template",null,21,_.Qc),_.Ub()),2&t){var n=_.zc(14),i=_.gc(3);_.Db(5),_.Tc(" ",i.timeCount.hour>9?i.timeCount.hour:"0"+i.timeCount.hour," "),_.Db(3),_.Tc(" ",i.timeCount.minute>9?i.timeCount.minute:"0"+i.timeCount.minute," "),_.Db(3),_.Tc(" ",i.timeCount.second>9?i.timeCount.second:"0"+i.timeCount.second," "),_.Db(1),_.nc("ngIf",i.data.notHasFiles)("ngIfElse",n)}}function Ze(t,e){1&t&&(_.Vb(0,"div",7),_.Vb(1,"p",8),_.Rc(2," H\u1ebft gi\u1edd! Nh\u1ea5n v\xe0o 'Ho\xe0n th\xe0nh' \u0111\u1ec3 g\u1eedi b\xe0i thi c\u1ee7a b\u1ea1n. "),_.Ub(),_.Ub())}function tn(t,e){1&t&&(_.Vb(0,"div",7),_.Vb(1,"p",8),_.Rc(2," B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),_.Ub(),_.Ub())}function en(t,e){1&t&&(_.Vb(0,"div",7),_.Vb(1,"p",8),_.Rc(2," B\xe0i thi n\xe0y ch\u1ec9 \u0111\u01b0\u1ee3c thi m\u1ed9t l\u1ea7n! "),_.Ub(),_.Ub())}function nn(t,e){if(1&t&&(_.Pc(0,Ye,15,5,"div",17),_.Pc(1,Ze,3,0,"div",17),_.Pc(2,tn,3,0,"div",17),_.Pc(3,en,3,0,"div",17)),2&t){var n=_.gc(2);_.nc("ngIf",n.data.time>0&&!n.data.unLimitTime),_.Db(1),_.nc("ngIf",n.data.time<=0&&!n.data.unLimitTime),_.Db(1),_.nc("ngIf",n.data.time&&n.data.unLimitTime),_.Db(1),_.nc("ngIf",null==n.data.time)}}function on(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",14),_.Vb(1,"button",15),_.cc("click",function(){return _.Dc(n),_.gc(3).btnCloseDialog()}),_.Rc(2," H\u1ee7y "),_.Ub(),_.Ub()}}function an(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",11),_.Rc(2,"\xa0"),_.Ub())}function sn(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",13),_.Pc(1,on,3,0,"div",24),_.Vb(2,"button",16),_.cc("click",function(){return _.Dc(n),_.gc(2).confirmFinish()}),_.Pc(3,an,3,0,"span",9),_.Rc(4," Ho\xe0n Th\xe0nh "),_.Ub(),_.Ub()}if(2&t){var i=_.gc(2);_.Db(1),_.nc("ngIf",i.data.time>0||i.data.unLimitTime),_.Db(1),_.nc("disabled",i.countTimeEnable),_.Db(1),_.nc("ngIf",i.isLoading||i.data.notHasFiles&&i.countTimeEnable)}}function cn(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",1),_.cc("click",function(t){return _.Dc(n),_.gc().onGlobalClick(t)}),_.Vb(1,"div",2,3),_.Pc(3,Je,7,3,"div",4),_.Pc(4,nn,4,4,"ng-template",null,5,_.Qc),_.Pc(6,sn,5,3,"div",6),_.Ub(),_.Ub()}if(2&t){var i=_.zc(5),o=_.gc();_.Db(3),_.nc("ngIf",o.data.autoSubmit)("ngIfElse",i),_.Db(3),_.nc("ngIf",!o.data.autoSubmit)}}var rn,ln=((rn=function(){function t(e){a(this,t),this.commonService=e,this.closeDialog=new _.o,this.redirectToHomepage=new _.o,this.saveFileData=new _.o,this.subscriptions=new D.a,this.form=new u.k({}),this.isLoading=!1,this.timeCount={hour:0,minute:0,second:0},this.status_obj={loading:!1,error:!1,success:!1,error_obj:{message:""}},this.countTimeEnable=!0,this.myDialog=_.l}return c(t,[{key:"onGlobalClick",value:function(t){this.myDialog.nativeElement.contains(t.target)||this.data.autoSubmit||this.closeDialog.emit()}},{key:"confirmFinish",value:function(){this.redirectToHomepage.emit({isConfirm:!0,isAutoSubmit:this.data.autoSubmit,isSaveFalse:this.data.saveFalse})}},{key:"setTimeExam",value:function(t){var e=Math.floor(t/3600),n=Math.floor(t%3600/60);this.timeCount={hour:e,minute:n,second:t%60}}},{key:"saveDataFileExam",value:function(){this.saveFileData.emit()}},{key:"btnCloseDialog",value:function(){this.closeDialog.emit()}},{key:"ngOnInit",value:function(){var t=this;this.data.unLimitTime||(this.setTimeExam(this.data.time),0!=this.data.time||this.data.autoSubmit||setTimeout(function(){t.confirmFinish()},5e3)),this.data.notHasFiles?setTimeout(function(){t.countTimeEnable=!1},3e3):this.countTimeEnable=!1,this.data.saveFalse&&setTimeout(function(){t.countTimeEnable=!1},2e3)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||rn)(_.Pb(y.a))},rn.\u0275cmp=_.Jb({type:rn,selectors:[["app-comfirm-exam"]],viewQuery:function(t,e){var n;1&t&&_.Yc(Be,!0),2&t&&_.yc(n=_.dc())&&(e.myDialog=n.first)},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage",saveFileData:"saveFileData"},decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogConfirmExam",""],["class","text-center",4,"ngIf","ngIfElse"],["Normal",""],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[4,"ngIf"],["class","h5 text-danger",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5","text-danger"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],["class","text-center",4,"ngIf"],[1,"h5","para_respon","font-weight-normal"],[1,"ng-binding"],["class","h5 text-danger","style"," padding-bottom: 10px;",4,"ngIf","ngIfElse"],["normalConfirm",""],[1,"h5","text-danger",2,"padding-bottom","10px"],[1,"h5","text-info",2,"padding-bottom","10px"],["class","azt-block-button",4,"ngIf"]],template:function(t,e){1&t&&_.Pc(0,cn,7,3,"div",0),2&t&&_.nc("ngIf",e.data.isShow)},directives:[l.m,pt.b],pipes:[wt.q],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),rn),un=["myDialogSubmitName"];function bn(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",6),_.Vb(1,"p",7),_.Rc(2,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1ec3 l\xe0m b\xe0i thi!"),_.Ub(),_.Vb(3,"a",8),_.cc("click",function(){return _.Dc(n),_.gc(2).goToRegister()}),_.Rc(4,"\u0110\u0103ng k\xfd"),_.Ub(),_.Vb(5,"p",9),_.Rc(6,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n?"),_.Ub(),_.Vb(7,"a",8),_.cc("click",function(){return _.Dc(n),_.gc(2).goToLogin()}),_.Rc(8,"\u0110\u0103ng nh\u1eadp"),_.Ub(),_.Ub()}}function dn(t,e){1&t&&(_.Vb(0,"div"),_.Rc(1," Y\xeau c\u1ea7u nh\u1eadp H\u1ecd t\xean! "),_.Ub())}function mn(t,e){if(1&t&&(_.Vb(0,"div",24),_.Pc(1,dn,2,0,"div",23),_.Ub()),2&t){var n=_.gc(4);_.Db(1),_.nc("ngIf",n.getErrorType("fullName","required"))}}function hn(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",25),_.Rc(2,"\xa0"),_.Ub())}function gn(t,e){if(1&t){var n=_.Wb();_.Vb(0,"form",11),_.Vb(1,"div",6),_.Vb(2,"p",12),_.Rc(3,"Vui l\xf2ng nh\u1eadp t\xean \u0111\u1ec3 ti\u1ebfp t\u1ee5c b\xe0i thi "),_.Ub(),_.Ub(),_.Vb(4,"div",13),_.Vb(5,"div",14),_.Vb(6,"div",15),_.Qb(7,"input",16),_.Ub(),_.Pc(8,mn,2,1,"div",17),_.Ub(),_.Ub(),_.Vb(9,"div",6),_.Vb(10,"p",18),_.Rc(11,"Ho\u1eb7c click v\xe0o "),_.Vb(12,"a",19),_.cc("click",function(){return _.Dc(n),_.gc(3).registerAccount()}),_.Rc(13,'"\u0110\u0103ng k\xfd"'),_.Ub(),_.Rc(14," \u0111\u1ec3 l\u01b0u l\u1ea1i l\u1ecbch s\u1eed l\xe0m \u0111\u1ec1 c\u1ee7a b\u1ea1n."),_.Ub(),_.Ub(),_.Vb(15,"div",20),_.Qb(16,"div",21),_.Vb(17,"button",22),_.cc("click",function(){return _.Dc(n),_.gc(3).submitName()}),_.Pc(18,hn,3,0,"span",23),_.Rc(19," X\xe1c nh\u1eadn "),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3);_.nc("formGroup",i.form),_.Db(8),_.nc("ngIf",i.form.controls.fullName.invalid&&i.form.controls.fullName.dirty),_.Db(9),_.nc("disabled",i.status_obj.loading||i.form.invalid),_.Db(1),_.nc("ngIf",i.status_obj.loading)}}function fn(t,e){1&t&&(_.Vb(0,"div"),_.Rc(1," Y\xeau c\u1ea7u nh\u1eadp M\u1eadt kh\u1ea9u! "),_.Ub())}function pn(t,e){if(1&t&&(_.Vb(0,"div",24),_.Pc(1,fn,2,0,"div",23),_.Ub()),2&t){var n=_.gc(4);_.Db(1),_.nc("ngIf",n.getErrorType("password","required"))}}function vn(t,e){if(1&t&&(_.Vb(0,"div",30),_.Vb(1,"p",31),_.Rc(2),_.hc(3,"mytranslate"),_.Ub(),_.Ub()),2&t){var n=_.gc(4);_.Db(2),_.Tc(" ",_.ic(3,1,n.data.errorMessage)," ")}}function xn(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",25),_.Rc(2,"\xa0"),_.Ub())}function wn(t,e){if(1&t){var n=_.Wb();_.Vb(0,"form",11),_.Vb(1,"div",6),_.Vb(2,"p",26),_.Rc(3,"Y\xeau c\u1ea7u 'M\u1eadt kh\u1ea9u' \u0111\u1ec3 ti\u1ebfp t\u1ee5c b\xe0i thi"),_.Ub(),_.Vb(4,"p",27),_.Rc(5,"N\u1ebfu b\u1ea1n ch\u01b0a c\xf3 M\u1eadt kh\u1ea9u c\u1ee7a b\xe0i thi. Vui l\xf2ng li\xean h\u1ec7 gi\xe1o vi\xean c\u1ee7a b\u1ea1n! "),_.Ub(),_.Ub(),_.Vb(6,"div",13),_.Vb(7,"div",14),_.Vb(8,"div",15),_.Qb(9,"input",28),_.Ub(),_.Pc(10,pn,2,1,"div",17),_.Ub(),_.Ub(),_.Pc(11,vn,4,3,"div",29),_.Vb(12,"div",20),_.Qb(13,"div",21),_.Vb(14,"button",22),_.cc("click",function(){return _.Dc(n),_.gc(3).submitName()}),_.Pc(15,xn,3,0,"span",23),_.Rc(16," X\xe1c nh\u1eadn "),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3);_.nc("formGroup",i.form),_.Db(10),_.nc("ngIf",i.form.controls.password.invalid&&i.form.controls.password.dirty),_.Db(1),_.nc("ngIf",""!=i.data.errorMessage),_.Db(3),_.nc("disabled",i.status_obj.loading||i.form.invalid),_.Db(1),_.nc("ngIf",i.status_obj.loading)}}function _n(t,e){if(1&t&&(_.Pc(0,gn,20,4,"form",10),_.Pc(1,wn,17,5,"form",10)),2&t){var n=_.gc(2);_.nc("ngIf",!n.data.needPassword),_.Db(1),_.nc("ngIf",n.data.needPassword)}}function yn(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",1),_.cc("click",function(t){return _.Dc(n),_.gc().onGlobalClick(t)}),_.Vb(1,"div",2,3),_.Pc(3,bn,9,0,"div",4),_.Pc(4,_n,2,2,"ng-template",null,5,_.Qc),_.Ub(),_.Ub()}if(2&t){var i=_.zc(5),o=_.gc();_.Db(3),_.nc("ngIf",o.data.notAnonymous)("ngIfElse",i)}}var kn,Sn=((kn=function(){function t(e,n,i,o,s){a(this,t),this.activeRoute=e,this.fb=n,this.commonService=i,this.apiExamService=o,this.router=s,this.closeDialog=new _.o,this.subscriptions=new D.a,this.form=new u.k({}),this.password="",this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.myDialog=_.l}return c(t,[{key:"onGlobalClick",value:function(t){this.myDialog.nativeElement.contains(t.target)||this.form.valid&&this.submitName()}},{key:"submitName",value:function(){var t=this,e=this.commonService.getFormObj(this.form);if(this.data.needPassword)this.commonService.getSizeOfStorage()>4.5&&this.commonService.removeExceptSimpleStorage(this.data.examId,this.data.hashId),this.commonService.saveSimpleStorage("password_"+this.data.hashId,e.password.trim()),this.closeDialog.emit(!0);else{var n={id:0,name:e.fullName};this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiExamService.changeName(n).subscribe(function(e){1==e.success?(t.closeDialog.emit(!0),t.status_obj={loading:!1,error:!1,error_obj:{message:""}}):t.status_obj={loading:!1,error:!0,error_obj:e}}))}}},{key:"getError",value:function(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}},{key:"getErrorType",value:function(t,e){return!!(this.form.controls[t]&&this.form.controls[t].errors&&this.form.controls[t].errors[e])&&this.form.controls[t].errors[e]}},{key:"goToRegister",value:function(){this.commonService.redirectRegisterForStudent()}},{key:"goToLogin",value:function(){var t=""+this.router.url;if(-1!==t.indexOf("?")){var e=t.slice(0,t.indexOf("?"));this.commonService.redirectToLoginBackLinkWithFromRegister(e)}else this.commonService.redirectToLoginBackLinkWithFromRegister(t)}},{key:"registerAccount",value:function(){this.commonService.redirectRegisterForStudent()}},{key:"ngOnInit",value:function(){this.form=this.fb.group(this.data.needPassword?{password:new u.h("",[u.z.required])}:{fullName:new u.h("",[u.z.required])})}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||kn)(_.Pb(d.a),_.Pb(u.g),_.Pb(y.a),_.Pb(O.a),_.Pb(d.i))},kn.\u0275cmp=_.Jb({type:kn,selectors:[["app-submit-name"]],viewQuery:function(t,e){var n;1&t&&_.Yc(un,!0),2&t&&_.yc(n=_.dc())&&(e.myDialog=n.first)},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogSubmitName",""],["class","text-center",4,"ngIf","ngIfElse"],["allowAnonymous",""],[1,"text-center"],[1,"mb-2","h5"],[1,"mb-0","h4","text-info","clickable",3,"click"],[1,"mb-2","h5","mt-4"],["class","form-horizontal text-center",3,"formGroup",4,"ngIf"],[1,"form-horizontal","text-center",3,"formGroup"],[1,"h5","para_respon"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"h6","mb-0","mt-1","font-weight-normal"],[1,"clickable","text-primary",3,"click"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5","para_respon","font-weight-normal"],[1,"h6","para_respon","font-weight-normal","text-danger"],["type","text","placeholder","M\u1eadt kh\u1ea9u b\xe0i thi","formControlName","password",1,"form-control"],["class","text-center mb-1",4,"ngIf"],[1,"text-center","mb-1"],[1,"h5","text-danger"]],template:function(t,e){1&t&&_.Pc(0,yn,6,2,"div",0),2&t&&_.nc("ngIf",e.data.isShow)},directives:[l.m,u.B,u.s,u.l,u.d,u.r,u.j,pt.b],pipes:[wt.q],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;background:#000;width:2px;display:block;height:35px;margin:0 10px -18px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),kn),In=o("MDNF"),Dn=o("6DXj"),Pn=o("YTzd");function On(t,e){1&t&&(_.Vb(0,"span",9),_.Rc(1,"\xa0H\u1ebft l\u01b0\u1ee3t"),_.Ub())}function Cn(t,e){if(1&t){var n=_.Wb();_.Vb(0,"mat-icon",15),_.cc("click",function(){_.Dc(n);var t=_.gc().$implicit,e=_.gc(4);return e.playAudio(e.questionObj.id,t.index)}),_.Rc(1,"play_arrow"),_.Ub()}}function Un(t,e){if(1&t){var n=_.Wb();_.Vb(0,"mat-icon",16),_.cc("click",function(){_.Dc(n);var t=_.gc().$implicit,e=_.gc(4);return e.stopAudio(e.questionObj.id,t.index)}),_.Rc(1,"delete"),_.Ub()}}function Vn(t,e){if(1&t&&(_.Vb(0,"span",10),_.Pc(1,Cn,2,0,"mat-icon",11),_.Pc(2,Un,2,0,"mat-icon",12),_.Vb(3,"audio",13),_.Qb(4,"source",14),_.hc(5,"safe"),_.hc(6,"mycdn"),_.Ub(),_.Ub()),2&t){var n=e.$implicit,i=_.gc(4);_.nc("hidden",!n.status),_.Db(1),_.nc("ngIf",!i.checkAudioPlay(i.questionObj.id,n.index)),_.Db(1),_.nc("ngIf",i.checkAudioPlay(i.questionObj.id,n.index)),_.Db(1),_.oc("id",i.isShowList?"audio_list_"+i.questionObj.id+"_"+n.index:"audio_unit_"+i.questionObj.id+"_"+n.index),_.Db(1),_.nc("src",_.ic(5,5,_.ic(6,7,i.questionObj.attachments[0].url)),_.Hc)}}function Mn(t,e){if(1&t&&(_.Vb(0,"div",5),_.Vb(1,"span",6),_.Rc(2,"S\u1ed1 l\u01b0\u1ee3t nghe: "),_.Ub(),_.Pc(3,On,2,0,"span",7),_.Pc(4,Vn,7,9,"ng-template",8),_.Ub()),2&t){var n=_.gc(3);_.Db(3),_.nc("ngIf",n.questionObj.limitAudio==n.totalLimit),_.Db(1),_.nc("ngForOf",n.questionObj.audioLimitObjs)}}function Tn(t,e){if(1&t&&(_.Vb(0,"div",3),_.Pc(1,Mn,5,2,"div",4),_.Ub()),2&t){var n=_.gc(2);_.Db(1),_.nc("ngIf",n.questionObj.limitAudio<=n.totalLimit)}}function jn(t,e){if(1&t&&(_.Vb(0,"div"),_.Pc(1,Tn,2,1,"div",2),_.Ub()),2&t){var n=_.gc();_.Db(1),_.nc("ngIf",n.questionObj.attachments&&n.questionObj.attachments.length>0)}}function En(t,e){if(1&t&&(_.Vb(0,"div",18),_.Vb(1,"audio",19),_.Qb(2,"source",14),_.hc(3,"safe"),_.hc(4,"mycdn"),_.Ub(),_.Ub()),2&t){var n=_.gc(2);_.Db(1),_.oc("id","audio_"+n.questionObj.id),_.Db(1),_.nc("src",_.ic(3,2,_.ic(4,4,n.questionObj.attachments[0].url)),_.Hc)}}function Rn(t,e){if(1&t&&_.Pc(0,En,5,6,"div",17),2&t){var n=_.gc();_.nc("ngIf",n.questionObj.attachments&&n.questionObj.attachments.length>0)}}var Fn,An=((Fn=function(){function t(e){a(this,t),this.commonService=e,this.questionObj={},this.totalLimit=0,this.isShowList=!0,this.sendAudioEmitter=new _.o,this.subscriptions=new D.a,this.form=new u.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}}}return c(t,[{key:"createFakeArray",value:function(t){return new Array(this.totalLimit-t)}},{key:"detectAllAudioPlaying",value:function(){for(var t=!1,e=document.getElementsByTagName("audio"),n=0;n<e.length;n++)if(e[n].duration>0&&!e[n].paused){t=!0;break}return t}},{key:"playAudio",value:function(t,e){var n=this.isShowList?document.getElementById("audio_list_"+t+"_"+e):document.getElementById("audio_unit_"+t+"_"+e);n&&(this.detectAllAudioPlaying()?this.commonService.snackWarning("File nghe \u0111ang \u0111\u01b0\u1ee3c ph\xe1t!",""):(this.sendAudioEmitter.emit({obj:this.questionObj,play:1,index:e}),n.play()))}},{key:"stopAudio",value:function(t,e){var n=this.isShowList?document.getElementById("audio_list_"+t+"_"+e):document.getElementById("audio_unit_"+t+"_"+e);n&&n.duration>0&&!n.paused&&(n.pause(),n.currentTime=0,n.setAttribute("src",""),this.sendAudioEmitter.emit({obj:this.questionObj,play:0,index:e}))}},{key:"checkAudioPlay",value:function(t,e){var n=this.isShowList?document.getElementById("audio_list_"+t+"_"+e):document.getElementById("audio_unit_"+t+"_"+e);return!!n&&(n.duration>0&&!n.paused||((n.ended||n.currentTime>0&&n.paused)&&(n.currentTime=0,n.setAttribute("src",""),this.sendAudioEmitter.emit({obj:this.questionObj,play:0,index:e})),!1))}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Fn)(_.Pb(y.a))},Fn.\u0275cmp=_.Jb({type:Fn,selectors:[["azt-test-audio-ui"]],inputs:{questionObj:"questionObj",totalLimit:"totalLimit",isShowList:"isShowList"},outputs:{sendAudioEmitter:"sendAudioEmitter"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalAudio",""],["class","text-left ml-auto mr-auto",4,"ngIf"],[1,"text-left","ml-auto","mr-auto"],["class","limit_audio",4,"ngIf"],[1,"limit_audio"],[1,"mb-0",2,"font-size","14px","font-weight","400"],["class","mb-0","style","font-size: 14px; font-weight: 450;color: #da0522 ",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"mb-0",2,"font-size","14px","font-weight","450","color","#da0522"],[1,"audio-control",3,"hidden"],["style","vertical-align: middle; line-height: 1; color: #000","matTooltip","B\u1eaft \u0111\u1ea7u",3,"click",4,"ngIf"],["style","vertical-align: middle; line-height: 1; color: #da0522","matTooltip","K\u1ebft th\xfac",3,"click",4,"ngIf"],["preload","true",3,"id"],[3,"src"],["matTooltip","B\u1eaft \u0111\u1ea7u",2,"vertical-align","middle","line-height","1","color","#000",3,"click"],["matTooltip","K\u1ebft th\xfac",2,"vertical-align","middle","line-height","1","color","#da0522",3,"click"],["class","text-center ml-auto mr-auto",4,"ngIf"],[1,"text-center","ml-auto","mr-auto"],["controls","","preload","true",2,"margin-left","10px","margin-right","10px","max-width","70%",3,"id"]],template:function(t,e){if(1&t&&(_.Pc(0,jn,2,1,"div",0),_.Pc(1,Rn,1,1,"ng-template",null,1,_.Qc)),2&t){var n=_.zc(2);_.nc("ngIf",e.totalLimit>0)("ngIfElse",n)}},directives:[l.m,l.l,M.a,vt.a],pipes:[wt.s,wt.o],styles:[".limit_audio[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.audio-control[_ngcontent-%COMP%]{border-radius:50%;background-color:#f0f3f4;color:#000;padding:5px;height:35px;width:35px;margin-left:5px;cursor:pointer;text-align:center}"]}),Fn);function Ln(t,e){if(1&t){var n=_.Wb();_.Vb(0,"azt-test-audio-ui",15),_.cc("sendAudioEmitter",function(t){return _.Dc(n),_.gc(6).sendAudioEvent(t)}),_.Ub()}if(2&t){var i=_.gc(4).$implicit,o=_.gc(2);_.nc("questionObj",i)("isShowList",!1)("totalLimit",o.exam_obj.limitAudio>0?o.exam_obj.limitAudio:0)}}function zn(t,e){if(1&t&&(_.Vb(0,"div",18),_.Qb(1,"iframe",19),_.hc(2,"safe"),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("src",_.ic(2,1,n.url),_.Fc)}}function qn(t,e){if(1&t&&_.Qb(0,"azt-loaded-img",20),2&t){var n=_.gc(2).$implicit;_.nc("imgSrc",n.url)}}function Qn(t,e){if(1&t&&(_.Vb(0,"div"),_.Pc(1,zn,3,3,"div",16),_.Pc(2,qn,1,1,"azt-loaded-img",17),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.nc("ngIf","mp4"==n.extension),_.Db(1),_.nc("ngIf","png"==n.extension||"jpg"==n.extension)}}function Nn(t,e){if(1&t&&(_.Vb(0,"div",13),_.Pc(1,Ln,1,3,"azt-test-audio-ui",14),_.Pc(2,Qn,3,2,"div",0),_.Ub()),2&t){var n=e.$implicit,i=_.gc(3).$implicit;_.oc("id","media_content_"+i.id),_.Db(1),_.nc("ngIf",i.attachments&&i.attachments.length>0),_.Db(1),_.nc("ngIf",n.url&&""!=n.url)}}function Bn(t,e){if(1&t&&(_.Vb(0,"div",11),_.Pc(1,Nn,3,3,"div",12),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("ngForOf",n.questionContent)}}function $n(t,e){if(1&t){var n=_.Wb();_.Vb(0,"azt-test-audio-ui",15),_.cc("sendAudioEmitter",function(t){return _.Dc(n),_.gc(5).sendAudioEvent(t)}),_.Ub()}if(2&t){var i=_.gc(3).$implicit,o=_.gc(2);_.nc("questionObj",i)("isShowList",!1)("totalLimit",o.exam_obj.limitAudio>0?o.exam_obj.limitAudio:0)}}function Wn(t,e){if(1&t&&(_.Vb(0,"div",28),_.Vb(1,"span",29),_.Rc(2),_.Ub(),_.Rc(3,"\xa0 "),_.Qb(4,"div",30),_.Ub()),2&t){var n=e.$implicit;_.Db(2),_.Tc("",n.alpha?n.alpha:n.key,"."),_.Db(2),_.nc("innerHtml",n.content,_.Ec)}}function Hn(t,e){if(1&t&&(_.Vb(0,"div",21),_.Vb(1,"div",22),_.Vb(2,"p",23),_.Rc(3),_.Ub(),_.Pc(4,$n,1,3,"azt-test-audio-ui",14),_.Vb(5,"div",24),_.Qb(6,"div",25),_.Ub(),_.Vb(7,"div",26),_.Pc(8,Wn,5,2,"div",27),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(3),_.Tc("C\xe2u\xa0",n.index<9?"0"+(n.index+1):n.index+1,":"),_.Db(1),_.nc("ngIf",n.attachments&&n.attachments.length>0),_.Db(2),_.nc("innerHtml",n.questionContent[0].content,_.Ec),_.Db(2),_.nc("ngForOf",n.answerConfig)}}function Gn(t,e){if(1&t&&(_.Vb(0,"div",32),_.Qb(1,"azt-loaded-img",20),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("imgSrc",n.groupUrl)}}function Jn(t,e){if(1&t&&(_.Tb(0),_.Pc(1,Gn,2,1,"div",31),_.Sb()),2&t){var n=_.gc().$implicit,i=_.gc(3).index,o=_.gc(2);_.Db(1),_.nc("ngIf",!o.checkHiddenGroup(n.firstInGroupIndexes,i))}}function Kn(t,e){if(1&t&&(_.Vb(0,"div",18),_.Qb(1,"iframe",19),_.hc(2,"safe"),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("src",_.ic(2,1,n.url),_.Fc)}}function Xn(t,e){if(1&t&&_.Qb(0,"azt-loaded-img",20),2&t){var n=_.gc(3).$implicit;_.nc("imgSrc",n.url)}}function Yn(t,e){if(1&t&&_.Pc(0,Xn,1,1,"azt-loaded-img",17),2&t){var n=_.gc(2).$implicit;_.nc("ngIf","png"==n.extension||"jpg"==n.extension)}}var Zn=function(t,e,n,i){return{"width.%":t,"height.%":e,"left.%":n,"top.%":i}};function ti(t,e){if(1&t&&_.Qb(0,"div",38),2&t){var n=_.gc().$implicit,i=_.gc(3).$implicit,o=_.gc(3).$implicit;_.Gb("v2-label label-",n.alpha?n.alpha:n.key,""),_.nc("ngStyle",_.vc(4,Zn,n.alpha?o.answerLabelsMockup["label-"+n.alpha].width/i.metaData.question.width*100:o.answerLabelsMockup["label-"+n.key].width/i.metaData.question.width*100,n.alpha?o.answerLabelsMockup["label-"+n.alpha].height/i.metaData.question.height*100:o.answerLabelsMockup["label-"+n.key].height/i.metaData.question.height*100,n.alpha?o.answerLabelsMockup["label-"+n.alpha].left/i.metaData.question.width*100:o.answerLabelsMockup["label-"+n.key].left/i.metaData.question.width*100,n.alpha?o.answerLabelsMockup["label-"+n.alpha].top/i.metaData.question.height*100:o.answerLabelsMockup["label-"+n.key].top/i.metaData.question.height*100))}}function ei(t,e){if(1&t&&(_.Tb(0),_.Pc(1,ti,1,9,"div",37),_.Sb()),2&t){var n=e.$implicit;_.Db(1),_.nc("ngIf",n.checked)}}var ni=function(t){return{"maxWidth.px":t}};function ii(t,e){if(1&t&&(_.Tb(0),_.Vb(1,"div",35),_.Pc(2,ei,2,1,"ng-container",1),_.Qb(3,"img",36),_.Ub(),_.Sb()),2&t){var n=_.gc(2).$implicit,i=_.gc(3),o=i.$implicit,a=i.index;_.Db(1),_.pc("id","v2_wrapper_question_",o.id,""),_.nc("ngStyle",_.sc(5,ni,n.metaData.question.width)),_.Db(1),_.nc("ngForOf",o.answerConfig),_.Db(1),_.pc("id","questionPlaceholder_",a,""),_.oc("src",o.mixDataImg,_.Hc)}}function oi(t,e){if(1&t&&(_.Vb(0,"div"),_.Pc(1,Kn,3,3,"div",16),_.Pc(2,Yn,1,1,"ng-template",null,33,_.Qc),_.Pc(4,ii,4,7,"ng-container",34),_.Ub()),2&t){var n=_.zc(3),i=_.gc().$implicit,o=_.gc(3).$implicit;_.Db(1),_.nc("ngIf","mp4"==i.extension),_.Db(3),_.nc("ngIf",o.name.startsWith("[PDFv2]"))("ngIfElse",n)}}function ai(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",13),_.Pc(1,Jn,2,1,"ng-container",0),_.Vb(2,"azt-test-audio-ui",15),_.cc("sendAudioEmitter",function(t){return _.Dc(n),_.gc(5).sendAudioEvent(t)}),_.Ub(),_.Pc(3,oi,5,3,"div",0),_.Ub()}if(2&t){var i=e.$implicit,o=_.gc(3).$implicit,a=_.gc(2);_.oc("id","media_content_"+o.id),_.Db(1),_.nc("ngIf",i.groupUrl),_.Db(1),_.nc("questionObj",o)("isShowList",!1)("totalLimit",a.exam_obj.limitAudio>0?a.exam_obj.limitAudio:0),_.Db(1),_.nc("ngIf",i.url&&""!=i.url)}}function si(t,e){if(1&t&&(_.Vb(0,"div",21),_.Pc(1,ai,4,6,"div",12),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("ngForOf",n.questionContent)}}function ci(t,e){1&t&&(_.Vb(0,"p",48),_.Rc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub())}function ri(t,e){if(1&t&&(_.Vb(0,"span",55),_.Rc(1),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.Tc(" ",n.content," ")}}function li(t,e){if(1&t&&(_.Vb(0,"span",56),_.Rc(1),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.Tc(" ",n.content," ")}}function ui(t,e){if(1&t){var n=_.Wb();_.Vb(0,"li",52),_.cc("click",function(){_.Dc(n);var t=e.$implicit,i=e.index,o=_.gc(6),a=o.$implicit,s=o.index;return _.gc(2).setAnswer(a.id,t,2,!0,i,t.alpha,t.key,s)}),_.Pc(1,ri,2,1,"span",53),_.Pc(2,li,2,1,"span",54),_.Ub()}if(2&t){var i=e.$implicit;_.Db(1),_.nc("ngIf",0==i.checked),_.Db(1),_.nc("ngIf",1==i.checked)}}function bi(t,e){if(1&t&&(_.Vb(0,"div",49),_.Vb(1,"ul",50),_.Pc(2,ui,3,2,"li",51),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(2),_.nc("ngForOf",n.answer)}}function di(t,e){1&t&&(_.Vb(0,"mat-icon",57),_.Rc(1," arrow_forward "),_.Ub())}function mi(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",42),_.Pc(1,ci,2,0,"p",43),_.Pc(2,bi,3,1,"div",44),_.Vb(3,"a",45),_.cc("click",function(){_.Dc(n);var t=_.gc(4),e=t.last,i=t.index,o=_.gc(2);return e?o.openSubmitExam():o.nextQuestion(i)}),_.Vb(4,"span",46),_.Rc(5),_.Ub(),_.Pc(6,di,2,0,"mat-icon",47),_.Ub(),_.Ub()}if(2&t){var i=e.$implicit,o=_.gc(4),a=o.last,s=o.index,c=_.gc(2);_.Db(1),_.nc("ngIf",!c.isMobile),_.Db(1),_.nc("ngIf",1==i.type),_.Db(3),_.Vc("",a?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",s+1,"/",c.countQuestion,")"),_.Db(1),_.nc("ngIf",!a)}}function hi(t,e){if(1&t&&(_.Vb(0,"div"),_.Pc(1,mi,7,6,"div",41),_.Ub()),2&t){var n=_.gc(3).$implicit;_.Db(1),_.nc("ngForOf",n.answerConfig)}}function gi(t,e){1&t&&(_.Vb(0,"p",66),_.Rc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),_.Ub())}var fi=function(t,e){return{"justify-content-between":t,"justify-content-center":e}},pi=function(t){return{"w-100":t}},vi=function(t){return{disabled:t}};function xi(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",58),_.Vb(1,"div",59),_.Pc(2,gi,2,0,"p",60),_.Vb(3,"div",61),_.Vb(4,"div",62),_.Vb(5,"textarea",63),_.cc("focus",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,1)})("keyup",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,1)})("change",function(t){_.Dc(n);var e=_.gc(3).$implicit;return _.gc(2).setAnswer(e.id,t,3,!0,0)}),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(6,"div",64),_.Vb(7,"a",65),_.cc("click",function(){_.Dc(n);var t=_.gc(3).index;return _.gc(2).nextQuestion(t)}),_.Vb(8,"span",46),_.Rc(9),_.Ub(),_.Vb(10,"mat-icon",57),_.Rc(11," arrow_forward "),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3),o=i.$implicit,a=i.last,s=i.index,c=_.gc(2);_.nc("ngClass",_.tc(10,fi,!c.isMobile,c.isMobile)),_.Db(2),_.nc("ngIf",!c.isMobile),_.Db(1),_.nc("ngClass",_.sc(13,pi,c.isMobile)),_.Db(2),_.oc("id","answer-1-unit-"+o.id),_.nc("value",o.essayText),_.Eb("isImage",!0)("question_id",o.id),_.Db(2),_.nc("ngClass",_.sc(15,vi,a)),_.Db(2),_.Uc("C\xe2u ti\u1ebfp (",s+1,"/",c.countQuestion,")")}}function wi(t,e){1&t&&(_.Vb(0,"p",66),_.Rc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub())}function _i(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",58),_.Vb(1,"div",59),_.Pc(2,wi,2,0,"p",60),_.Vb(3,"div",61),_.Vb(4,"div",62),_.Vb(5,"textarea",63),_.cc("focus",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,1)})("keyup",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,1)})("change",function(t){_.Dc(n);var e=_.gc(3).$implicit;return _.gc(2).setAnswer(e.id,t,3,!0,0)}),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(6,"div",64),_.Vb(7,"a",65),_.cc("click",function(){_.Dc(n);var t=_.gc(3).index;return _.gc(2).nextQuestion(t)}),_.Vb(8,"span",46),_.Rc(9),_.Ub(),_.Vb(10,"mat-icon",57),_.Rc(11," arrow_forward "),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3),o=i.$implicit,a=i.last,s=i.index,c=_.gc(2);_.nc("ngClass",_.tc(10,fi,!c.isMobile,c.isMobile)),_.Db(2),_.nc("ngIf",!c.isMobile),_.Db(1),_.nc("ngClass",_.sc(13,pi,c.isMobile)),_.Db(2),_.oc("id","answer-1-unit-"+o.id),_.nc("value",o.essayText),_.Eb("isImage",!0)("question_id",o.id),_.Db(2),_.nc("ngClass",_.sc(15,vi,a)),_.Db(2),_.Uc("C\xe2u ti\u1ebfp (",s+1,"/",c.countQuestion,")")}}function yi(t,e){if(1&t&&(_.Vb(0,"div",39),_.Pc(1,hi,2,1,"div",0),_.Pc(2,xi,12,17,"div",40),_.Pc(3,_i,12,17,"div",40),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("ngIf",1==n.answerType),_.Db(1),_.nc("ngIf",3==n.answerType),_.Db(1),_.nc("ngIf",4==n.answerType)}}function ki(t,e){1&t&&(_.Vb(0,"p",48),_.Rc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub())}function Si(t,e){if(1&t&&(_.Vb(0,"span",55),_.Rc(1),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.Tc(" ",n.alpha?n.alpha:n.key," ")}}function Ii(t,e){if(1&t&&(_.Vb(0,"span",56),_.Rc(1),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.Tc(" ",n.alpha?n.alpha:n.key," ")}}function Di(t,e){if(1&t){var n=_.Wb();_.Vb(0,"li",52),_.cc("click",function(){_.Dc(n);var t=e.$implicit,i=e.index,o=_.gc(4),a=o.$implicit,s=o.index;return _.gc(2).setAnswer(a.id,t,2,!1,i,t.alpha,t.key,s)}),_.Pc(1,Si,2,1,"span",53),_.Pc(2,Ii,2,1,"span",54),_.Ub()}if(2&t){var i=e.$implicit;_.Db(1),_.nc("ngIf",0==i.checked),_.Db(1),_.nc("ngIf",1==i.checked)}}function Pi(t,e){1&t&&(_.Vb(0,"mat-icon",57),_.Rc(1," arrow_forward "),_.Ub())}function Oi(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div"),_.Vb(1,"div",42),_.Pc(2,ki,2,0,"p",43),_.Vb(3,"div",49),_.Vb(4,"ul",67),_.Pc(5,Di,3,2,"li",68),_.Ub(),_.Ub(),_.Vb(6,"a",45),_.cc("click",function(){_.Dc(n);var t=_.gc(3),e=t.last,i=t.index,o=_.gc(2);return e?o.openSubmitExam():o.nextQuestion(i)}),_.Vb(7,"span",46),_.Rc(8),_.Ub(),_.Pc(9,Pi,2,0,"mat-icon",47),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3),o=i.$implicit,a=i.last,s=i.index,c=_.gc(2);_.Db(2),_.nc("ngIf",!c.isMobile),_.Db(3),_.nc("ngForOf",o.answerConfig),_.Db(3),_.Vc("",a?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",s+1,"/",c.countQuestion,")"),_.Db(1),_.nc("ngIf",!a)}}function Ci(t,e){1&t&&(_.Vb(0,"p",66),_.Rc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),_.Ub())}function Ui(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",58),_.Vb(1,"div",59),_.Pc(2,Ci,2,0,"p",60),_.Vb(3,"div",61),_.Vb(4,"div",62),_.Vb(5,"textarea",63),_.cc("focus",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,2)})("keyup",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,2)})("change",function(t){_.Dc(n);var e=_.gc(3).$implicit;return _.gc(2).setAnswer(e.id,t,3,!1,0)}),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(6,"div",64),_.Vb(7,"a",65),_.cc("click",function(){_.Dc(n);var t=_.gc(3).index;return _.gc(2).nextQuestion(t)}),_.Vb(8,"span",46),_.Rc(9),_.Ub(),_.Vb(10,"mat-icon",57),_.Rc(11," arrow_forward "),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3),o=i.$implicit,a=i.last,s=i.index,c=_.gc(2);_.nc("ngClass",_.tc(10,fi,!c.isMobile,c.isMobile)),_.Db(2),_.nc("ngIf",!c.isMobile),_.Db(1),_.nc("ngClass",_.sc(13,pi,c.isMobile)),_.Db(2),_.oc("id","answer-0-unit-"+o.id),_.nc("value",o.essayText),_.Eb("isImage",!1)("question_id",o.id),_.Db(2),_.nc("ngClass",_.sc(15,vi,a)),_.Db(2),_.Uc("C\xe2u ti\u1ebfp (",s+1,"/",c.countQuestion,")")}}function Vi(t,e){1&t&&(_.Vb(0,"p",66),_.Rc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub())}function Mi(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",58),_.Vb(1,"div",59),_.Pc(2,Vi,2,0,"p",60),_.Vb(3,"div",61),_.Vb(4,"div",62),_.Vb(5,"textarea",63),_.cc("focus",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,2)})("keyup",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,2)})("change",function(t){_.Dc(n);var e=_.gc(3).$implicit;return _.gc(2).setAnswer(e.id,t,3,!1,0)}),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(6,"div",64),_.Vb(7,"a",65),_.cc("click",function(){_.Dc(n);var t=_.gc(3).index;return _.gc(2).nextQuestion(t)}),_.Vb(8,"span",46),_.Rc(9),_.Ub(),_.Vb(10,"mat-icon",57),_.Rc(11," arrow_forward "),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3),o=i.$implicit,a=i.last,s=i.index,c=_.gc(2);_.nc("ngClass",_.tc(10,fi,!c.isMobile,c.isMobile)),_.Db(2),_.nc("ngIf",!c.isMobile),_.Db(1),_.nc("ngClass",_.sc(13,pi,c.isMobile)),_.Db(2),_.oc("id","answer-0-unit-"+o.id),_.nc("value",o.essayText),_.Eb("isImage",!1)("question_id",o.id),_.Db(2),_.nc("ngClass",_.sc(15,vi,a)),_.Db(2),_.Uc("C\xe2u ti\u1ebfp (",s+1,"/",c.countQuestion,")")}}function Ti(t,e){if(1&t&&(_.Vb(0,"div",39),_.Pc(1,Oi,10,6,"div",0),_.Pc(2,Ui,12,17,"div",40),_.Pc(3,Mi,12,17,"div",40),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("ngIf",1==n.answerType),_.Db(1),_.nc("ngIf",3==n.answerType),_.Db(1),_.nc("ngIf",4==n.answerType)}}var ji=function(t){return{"pb-2":t}};function Ei(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",3),_.Vb(1,"div",4),_.Pc(2,Bn,2,1,"div",5),_.Pc(3,Hn,9,4,"div",6),_.Pc(4,si,2,1,"div",6),_.Ub(),_.Pc(5,yi,4,3,"div",7),_.Pc(6,Ti,4,3,"div",7),_.Vb(7,"a",8),_.cc("click",function(){_.Dc(n);var t=_.gc().index;return _.gc(2).prevQuestion(t)}),_.Vb(8,"mat-icon",9),_.Rc(9,"arrow_back_ios_new"),_.Ub(),_.Ub(),_.Vb(10,"a",10),_.cc("click",function(){_.Dc(n);var t=_.gc().index;return _.gc(2).nextQuestion(t)}),_.Vb(11,"mat-icon",9),_.Rc(12,"arrow_forward_ios"),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(),o=i.index,a=i.$implicit,s=_.gc(2);_.oc("id","question_"+o),_.nc("hidden",o>0),_.Db(1),_.nc("ngClass",_.sc(10,ji,a.attachments&&a.attachments.length>0)),_.Db(1),_.nc("ngIf",1==a.isImage&&!a.name.startsWith("[PDFv2]")),_.Db(1),_.nc("ngIf",0==a.isImage),_.Db(1),_.nc("ngIf",1==a.isImage&&a.name.startsWith("[PDFv2]")),_.Db(1),_.nc("ngIf",1==a.isImage&&!a.name.startsWith("[PDFv2]")),_.Db(1),_.nc("ngIf",0==a.isImage||a.name.startsWith("[PDFv2]")),_.Db(1),_.nc("hidden",0==o),_.Db(3),_.nc("hidden",o==s.questionList.length-1)}}function Ri(t,e){if(1&t&&(_.Vb(0,"div"),_.Pc(1,Ei,13,12,"div",2),_.Ub()),2&t){var n=e.$implicit;_.Db(1),_.nc("ngIf",null!=n.questionContent&&n.questionContent.length>0)}}function Fi(t,e){if(1&t&&(_.Vb(0,"div"),_.Pc(1,Ri,2,1,"div",1),_.lc(2),_.Ub()),2&t){var n=_.gc();_.Db(1),_.nc("ngForOf",n.questionList)}}function Ai(t,e){if(1&t&&_.Qb(0,"azt-loaded-img",73),2&t){var n=_.gc(2);_.nc("imgSrc",n.exam_obj.examHeader)}}function Li(t,e){if(1&t&&(_.Vb(0,"div",32),_.Qb(1,"azt-loaded-img",20),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("imgSrc",n.groupUrl)}}function zi(t,e){if(1&t&&(_.Tb(0),_.Pc(1,Li,2,1,"div",31),_.Sb()),2&t){var n=_.gc().$implicit,i=_.gc(3).index,o=_.gc(2);_.Db(1),_.nc("ngIf",!o.checkHiddenGroup(n.firstInGroupIndexes,i))}}function qi(t,e){if(1&t){var n=_.Wb();_.Vb(0,"azt-test-audio-ui",15),_.cc("sendAudioEmitter",function(t){return _.Dc(n),_.gc(6).sendAudioEvent(t)}),_.Ub()}if(2&t){var i=_.gc(4).$implicit,o=_.gc(2);_.nc("questionObj",i)("isShowList",!0)("totalLimit",o.exam_obj.limitAudio>0?o.exam_obj.limitAudio:0)}}function Qi(t,e){if(1&t&&(_.Vb(0,"div",18),_.Qb(1,"iframe",19),_.hc(2,"safe"),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("src",_.ic(2,1,n.url),_.Fc)}}function Ni(t,e){if(1&t&&_.Qb(0,"azt-loaded-img",20),2&t){var n=_.gc(3).$implicit;_.nc("imgSrc",n.url)}}function Bi(t,e){if(1&t&&_.Pc(0,Ni,1,1,"azt-loaded-img",17),2&t){var n=_.gc(2).$implicit;_.nc("ngIf","png"==n.extension||"jpg"==n.extension)}}var $i=function(t){return{"font-size.px":t}};function Wi(t,e){if(1&t&&(_.Vb(0,"div",38),_.Vb(1,"mat-icon",76),_.Rc(2,"adjust"),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit,i=_.gc(3).$implicit,o=_.gc(3).$implicit,a=_.gc(2);_.Gb("v2-label label-",n.alpha?n.alpha:n.key,""),_.nc("ngStyle",_.vc(5,Zn,n.alpha?o.answerLabelsMockup["label-"+n.alpha].width/i.metaData.question.width*100:o.answerLabelsMockup["label-"+n.key].width/i.metaData.question.width*100,n.alpha?o.answerLabelsMockup["label-"+n.alpha].height/i.metaData.question.height*100:o.answerLabelsMockup["label-"+n.key].height/i.metaData.question.height*100,n.alpha?o.answerLabelsMockup["label-"+n.alpha].left/i.metaData.question.width*100:o.answerLabelsMockup["label-"+n.key].left/i.metaData.question.width*100,n.alpha?o.answerLabelsMockup["label-"+n.alpha].top/i.metaData.question.height*100:o.answerLabelsMockup["label-"+n.key].top/i.metaData.question.height*100)),_.Db(1),_.nc("ngStyle",_.sc(10,$i,a.isMobile?10:24))}}function Hi(t,e){if(1&t&&(_.Tb(0),_.Pc(1,Wi,3,12,"div",37),_.Sb()),2&t){var n=e.$implicit;_.Db(1),_.nc("ngIf",n.checked)}}function Gi(t,e){if(1&t&&(_.Tb(0),_.Vb(1,"div",35),_.Pc(2,Hi,2,1,"ng-container",1),_.Qb(3,"img",36),_.Ub(),_.Sb()),2&t){var n=_.gc(2).$implicit,i=_.gc(3),o=i.$implicit,a=i.index;_.Db(1),_.pc("id","v2_wrapper_question_",o.id,""),_.nc("ngStyle",_.sc(5,ni,n.metaData.question.width)),_.Db(1),_.nc("ngForOf",o.answerConfig),_.Db(1),_.pc("id","questionPlaceholder_",a,""),_.oc("src",o.mixDataImg,_.Hc)}}function Ji(t,e){if(1&t&&(_.Vb(0,"div"),_.Pc(1,Qi,3,3,"div",16),_.Pc(2,Bi,1,1,"ng-template",null,33,_.Qc),_.Pc(4,Gi,4,7,"ng-container",34),_.Ub()),2&t){var n=_.zc(3),i=_.gc().$implicit,o=_.gc(3).$implicit;_.Db(1),_.nc("ngIf","mp4"==i.extension),_.Db(3),_.nc("ngIf",o.name.startsWith("[PDFv2]"))("ngIfElse",n)}}function Ki(t,e){if(1&t&&(_.Vb(0,"div",13),_.Pc(1,zi,2,1,"ng-container",0),_.Pc(2,qi,1,3,"azt-test-audio-ui",14),_.Pc(3,Ji,5,3,"div",0),_.Ub()),2&t){var n=e.$implicit,i=_.gc(3).$implicit;_.oc("id","media_content_all_"+i.id),_.Db(1),_.nc("ngIf",n.groupUrl),_.Db(1),_.nc("ngIf",i.attachments&&i.attachments.length>0),_.Db(1),_.nc("ngIf",n.url&&""!=n.url)}}function Xi(t,e){if(1&t&&(_.Vb(0,"div",11),_.Pc(1,Ki,4,4,"div",12),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("ngForOf",n.questionContent)}}function Yi(t,e){if(1&t){var n=_.Wb();_.Vb(0,"azt-test-audio-ui",15),_.cc("sendAudioEmitter",function(t){return _.Dc(n),_.gc(5).sendAudioEvent(t)}),_.Ub()}if(2&t){var i=_.gc(3).$implicit,o=_.gc(2);_.nc("questionObj",i)("isShowList",!0)("totalLimit",o.exam_obj.limitAudio>0?o.exam_obj.limitAudio:0)}}function Zi(t,e){if(1&t&&(_.Vb(0,"div",78),_.Vb(1,"span",29),_.Rc(2),_.Ub(),_.Rc(3,"\xa0 "),_.Qb(4,"div",30),_.Ub()),2&t){var n=e.$implicit;_.Db(2),_.Tc("",n.alpha?n.alpha:n.key,"."),_.Db(2),_.nc("innerHtml",n.content,_.Ec)}}function to(t,e){if(1&t&&(_.Vb(0,"div",21),_.Vb(1,"div",22),_.Vb(2,"p",23),_.Rc(3),_.Ub(),_.Pc(4,Yi,1,3,"azt-test-audio-ui",14),_.Vb(5,"div",24),_.Qb(6,"div",25),_.Ub(),_.Vb(7,"div",26),_.Pc(8,Zi,5,2,"div",77),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(3),_.Tc("C\xe2u\xa0",n.index<9?"0"+(n.index+1):n.index+1,":"),_.Db(1),_.nc("ngIf",n.attachments&&n.attachments.length>0),_.Db(2),_.nc("innerHtml",n.questionContent[0].content,_.Ec),_.Db(2),_.nc("ngForOf",n.answerConfig)}}function eo(t,e){1&t&&(_.Vb(0,"p",48),_.Rc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub())}function no(t,e){if(1&t&&(_.Vb(0,"span",55),_.Rc(1),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.Tc(" ",n.content," ")}}function io(t,e){if(1&t&&(_.Vb(0,"span",56),_.Rc(1),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.Tc(" ",n.content," ")}}function oo(t,e){if(1&t){var n=_.Wb();_.Vb(0,"li",52),_.cc("click",function(){_.Dc(n);var t=e.$implicit,i=e.index,o=_.gc(6),a=o.$implicit,s=o.index;return _.gc(2).setAnswer(a.id,t,2,!0,i,t.alpha,t.key,s)}),_.Pc(1,no,2,1,"span",53),_.Pc(2,io,2,1,"span",54),_.Ub()}if(2&t){var i=e.$implicit;_.Db(1),_.nc("ngIf",0==i.checked),_.Db(1),_.nc("ngIf",1==i.checked)}}var ao=function(t){return{"list-answer-mobile":t}};function so(t,e){if(1&t&&(_.Vb(0,"div",80),_.Vb(1,"ul",50),_.Pc(2,oo,3,2,"li",51),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit,i=_.gc(6);_.nc("ngClass",_.sc(2,ao,i.isMobile)),_.Db(2),_.nc("ngForOf",n.answer)}}function co(t,e){if(1&t&&(_.Vb(0,"div",42),_.Pc(1,eo,2,0,"p",43),_.Pc(2,so,3,4,"div",79),_.Ub()),2&t){var n=e.$implicit,i=_.gc(6);_.Db(1),_.nc("ngIf",!i.isMobile),_.Db(1),_.nc("ngIf",1==n.type)}}function ro(t,e){if(1&t&&(_.Vb(0,"div"),_.Pc(1,co,3,2,"div",41),_.Ub()),2&t){var n=_.gc(3).$implicit;_.Db(1),_.nc("ngForOf",n.answerConfig)}}function lo(t,e){1&t&&(_.Vb(0,"p",66),_.Rc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),_.Ub())}function uo(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",58),_.Vb(1,"div",81),_.Pc(2,lo,2,0,"p",60),_.Vb(3,"div",61),_.Vb(4,"div",62),_.Vb(5,"textarea",63),_.cc("focus",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,3)})("keyup",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,3)})("change",function(t){_.Dc(n);var e=_.gc(3).$implicit;return _.gc(2).setAnswer(e.id,t,3,!0,0)}),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3).$implicit,o=_.gc(2);_.nc("ngClass",_.tc(8,fi,!o.isMobile,o.isMobile)),_.Db(1),_.nc("ngClass",_.sc(11,ao,o.isMobile)),_.Db(1),_.nc("ngIf",!o.isMobile),_.Db(1),_.nc("ngClass",_.sc(13,pi,o.isMobile)),_.Db(2),_.oc("id","answer-1-all-"+i.id),_.nc("value",i.essayText),_.Eb("isImage",!0)("question_id",i.id)}}function bo(t,e){1&t&&(_.Vb(0,"p",66),_.Rc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub())}function mo(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",58),_.Vb(1,"div",81),_.Pc(2,bo,2,0,"p",60),_.Vb(3,"div",61),_.Vb(4,"div",62),_.Vb(5,"textarea",63),_.cc("focus",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,3)})("keyup",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,3)})("change",function(t){_.Dc(n);var e=_.gc(3).$implicit;return _.gc(2).setAnswer(e.id,t,3,!0,0)}),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3).$implicit,o=_.gc(2);_.nc("ngClass",_.tc(8,fi,!o.isMobile,o.isMobile)),_.Db(1),_.nc("ngClass",_.sc(11,ao,o.isMobile)),_.Db(1),_.nc("ngIf",!o.isMobile),_.Db(1),_.nc("ngClass",_.sc(13,pi,o.isMobile)),_.Db(2),_.oc("id","answer-1-all-"+i.id),_.nc("value",i.essayText),_.Eb("isImage",!0)("question_id",i.id)}}function ho(t,e){if(1&t&&(_.Vb(0,"div",39),_.Pc(1,ro,2,1,"div",0),_.Pc(2,uo,6,15,"div",40),_.Pc(3,mo,6,15,"div",40),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("ngIf",1==n.answerType),_.Db(1),_.nc("ngIf",3==n.answerType),_.Db(1),_.nc("ngIf",4==n.answerType)}}function go(t,e){1&t&&(_.Vb(0,"p",48),_.Rc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub())}function fo(t,e){if(1&t&&(_.Vb(0,"span",55),_.Rc(1),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.Tc(" ",n.alpha?n.alpha:n.key," ")}}function po(t,e){if(1&t&&(_.Vb(0,"span",56),_.Rc(1),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.Tc(" ",n.alpha?n.alpha:n.key," ")}}function vo(t,e){if(1&t){var n=_.Wb();_.Vb(0,"li",52),_.cc("click",function(){_.Dc(n);var t=e.$implicit,i=e.index,o=_.gc(4),a=o.$implicit,s=o.index;return _.gc(2).setAnswer(a.id,t,2,!1,i,t.alpha,t.key,s)}),_.Pc(1,fo,2,1,"span",53),_.Pc(2,po,2,1,"span",54),_.Ub()}if(2&t){var i=e.$implicit;_.Db(1),_.nc("ngIf",0==i.checked),_.Db(1),_.nc("ngIf",1==i.checked)}}function xo(t,e){if(1&t&&(_.Vb(0,"div"),_.Vb(1,"div",42),_.Pc(2,go,2,0,"p",43),_.Vb(3,"div",80),_.Vb(4,"ul",50),_.Pc(5,vo,3,2,"li",51),_.Ub(),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(3).$implicit,i=_.gc(2);_.Db(2),_.nc("ngIf",!i.isMobile),_.Db(1),_.nc("ngClass",_.sc(3,ao,i.isMobile)),_.Db(2),_.nc("ngForOf",n.answerConfig)}}function wo(t,e){1&t&&(_.Vb(0,"p",66),_.Rc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),_.Ub())}function _o(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",58),_.Vb(1,"div",81),_.Pc(2,wo,2,0,"p",60),_.Vb(3,"div",61),_.Vb(4,"div",62),_.Vb(5,"textarea",63),_.cc("focus",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,4)})("keyup",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,4)})("change",function(t){_.Dc(n);var e=_.gc(3).$implicit;return _.gc(2).setAnswer(e.id,t,3,!1,0)}),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3).$implicit,o=_.gc(2);_.nc("ngClass",_.tc(8,fi,!o.isMobile,o.isMobile)),_.Db(1),_.nc("ngClass",_.sc(11,ao,o.isMobile)),_.Db(1),_.nc("ngIf",!o.isMobile),_.Db(1),_.nc("ngClass",_.sc(13,pi,o.isMobile)),_.Db(2),_.oc("id","answer-0-all-"+i.id),_.nc("value",i.essayText),_.Eb("isImage",!1)("question_id",i.id)}}function yo(t,e){1&t&&(_.Vb(0,"p",66),_.Rc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub())}function ko(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",58),_.Vb(1,"div",81),_.Pc(2,yo,2,0,"p",60),_.Vb(3,"div",61),_.Vb(4,"div",62),_.Vb(5,"textarea",63),_.cc("focus",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,4)})("keyup",function(){_.Dc(n);var t=_.gc(3).$implicit;return _.gc(2).autoResizeEssayAnswer(t.id,4)})("change",function(t){_.Dc(n);var e=_.gc(3).$implicit;return _.gc(2).setAnswer(e.id,t,3,!1,0)}),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3).$implicit,o=_.gc(2);_.nc("ngClass",_.tc(8,fi,!o.isMobile,o.isMobile)),_.Db(1),_.nc("ngClass",_.sc(11,ao,o.isMobile)),_.Db(1),_.nc("ngIf",!o.isMobile),_.Db(1),_.nc("ngClass",_.sc(13,pi,o.isMobile)),_.Db(2),_.oc("id","answer-0-all-"+i.id),_.nc("value",i.essayText),_.Eb("isImage",!1)("question_id",i.id)}}function So(t,e){if(1&t&&(_.Vb(0,"div",39),_.Pc(1,xo,6,5,"div",0),_.Pc(2,_o,6,15,"div",40),_.Pc(3,ko,6,15,"div",40),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("ngIf",1==n.answerType),_.Db(1),_.nc("ngIf",3==n.answerType),_.Db(1),_.nc("ngIf",4==n.answerType)}}function Io(t,e){if(1&t&&(_.Vb(0,"div",75),_.Vb(1,"div",4),_.Pc(2,Xi,2,1,"div",5),_.Pc(3,to,9,4,"div",6),_.Ub(),_.Pc(4,ho,4,3,"div",7),_.Pc(5,So,4,3,"div",7),_.Ub()),2&t){var n=_.gc(),i=n.$implicit;_.oc("id","question_all_"+n.index),_.Db(1),_.nc("ngClass",_.sc(6,ji,i.attachments&&i.attachments.length>0)),_.Db(1),_.nc("ngIf",1==i.isImage),_.Db(1),_.nc("ngIf",0==i.isImage),_.Db(1),_.nc("ngIf",1==i.isImage&&!i.name.startsWith("[PDFv2]")),_.Db(1),_.nc("ngIf",0==i.isImage||i.name.startsWith("[PDFv2]"))}}function Do(t,e){if(1&t&&(_.Vb(0,"div"),_.Pc(1,Io,6,8,"div",74),_.Ub()),2&t){var n=e.$implicit;_.Db(1),_.nc("ngIf",null!=n.questionContent&&n.questionContent.length>0)}}function Po(t,e){if(1&t&&(_.Vb(0,"span",55),_.Rc(1),_.Ub()),2&t){var n=_.gc().index;_.Db(1),_.Uc(" ",9>n?"0":"","",n+1," ")}}function Oo(t,e){if(1&t&&(_.Vb(0,"span",91),_.Rc(1),_.Ub()),2&t){var n=_.gc().index;_.Db(1),_.Uc(" ",9>n?"0":"","",n+1," ")}}function Co(t,e){if(1&t){var n=_.Wb();_.Vb(0,"li",89),_.cc("click",function(){_.Dc(n);var t=e.index;return _.gc(3).goToQuestionAll(t)}),_.Pc(1,Po,2,2,"span",53),_.Pc(2,Oo,2,2,"span",90),_.Ub()}if(2&t){var i=e.$implicit;_.Db(1),_.nc("ngIf",0==i.status),_.Db(1),_.nc("ngIf",1==i.status)}}var Uo=function(t){return{"right.px":t}};function Vo(t,e){if(1&t&&(_.Vb(0,"div",82),_.Vb(1,"div",83),_.Vb(2,"div",84),_.Vb(3,"p",85),_.Rc(4,"Danh s\xe1ch c\xe2u h\u1ecfi"),_.Ub(),_.Vb(5,"div",86),_.Vb(6,"ul",87),_.Pc(7,Co,3,2,"li",88),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(2);_.nc("ngStyle",_.sc(2,Uo,n.calcRight())),_.Db(7),_.nc("ngForOf",n.questionList)}}function Mo(t,e){if(1&t&&(_.Vb(0,"div"),_.Vb(1,"div",69),_.Vb(2,"div",70),_.Pc(3,Ai,1,1,"azt-loaded-img",71),_.Pc(4,Do,2,1,"div",1),_.Ub(),_.Pc(5,Vo,8,4,"div",72),_.Ub(),_.Ub()),2&t){var n=_.gc();_.Db(3),_.nc("ngIf",n.exam_obj.examHeader),_.Db(1),_.nc("ngForOf",n.questionList),_.Db(1),_.nc("ngIf",!n.isMobile)}}var To,jo=["*"],Eo=((To=function(){function t(e,n,i,o,s){a(this,t),this.fb=e,this.activeRoute=n,this.router=i,this.commonService=o,this.localize=s,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.firstInGroupIndexes=[],this.questionList=[],this.homeLink="",this.files=[],this.showUnit=!1,this.isMobile=!1,this.showList=!1,this.unLimitTime=!1,this.isShowSheet=!1,this.countQuestion=0,this.setAnswerEmitter=new _.o,this.setResultTracking=new _.o,this.removeImgEmitter=new _.o,this.openSubmitExamEmitter=new _.o,this.nextQuestionEmitter=new _.o,this.prevQuestionEmitter=new _.o,this.autoResizeEssayAnswerEmitter=new _.o,this.goToQuestionEmitter=new _.o,this.goToQuestionAllEmitter=new _.o,this.sendAudioEmitToParent=new _.o,this.subscriptions=new D.a,this.form=new u.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}}}return c(t,[{key:"sendAudioEvent",value:function(t){t&&this.sendAudioEmitToParent.emit(t)}},{key:"goToQuestion",value:function(t){this.goToQuestionEmitter.emit(t)}},{key:"goToQuestionAll",value:function(t){this.goToQuestionAllEmitter.emit(t)}},{key:"autoResizeEssayAnswer",value:function(t,e){this.autoResizeEssayAnswerEmitter.emit({id:t,type:e})}},{key:"removeImg",value:function(t){this.removeImgEmitter.emit(t)}},{key:"checkHiddenGroup",value:function(t,e){return t?!t.includes(e):!this.firstInGroupIndexes.includes(e)}},{key:"calcRight",value:function(){var t,e=0,n=window.outerWidth,i=null===(t=document.getElementById("container-content"))||void 0===t?void 0:t.offsetWidth;return i&&(e=(n-i)/2),e}},{key:"resizeImg",value:function(t,e,n){var i=document.getElementById("media_content_"+t),o=null==i?void 0:i.offsetWidth;return i?o/e<=1?Math.round(n*(o/e)):Math.round(n):0}},{key:"nextQuestion",value:function(t){this.nextQuestionEmitter.emit(t)}},{key:"prevQuestion",value:function(t){this.prevQuestionEmitter.emit(t)}},{key:"openSubmitExam",value:function(){this.openSubmitExamEmitter.emit(!0)}},{key:"setAnswer",value:function(t,e,n,i,o,a,s,c){var r,l={id:t,event:e,type:n,isImage:i,index:o},u=e.content;(a||s)&&void 0!==c?this.setResultTracking.emit([c,a,s,t]):a||s||!u||void 0===c||this.setResultTracking.emit([c,a=u,s=u,t]),this.showList?3==n&&(i?(r=document.getElementById("answer-1-unit-"+t))&&(r.value=e.target.value.trim()):(r=document.getElementById("answer-0-unit-"+t))&&(r.value=e.target.value.trim())):3==n&&(i?(r=document.getElementById("answer-1-all-"+t))&&(r.value=e.target.value.trim()):(r=document.getElementById("answer-0-all-"+t))&&(r.value=e.target.value.trim())),this.setAnswerEmitter.emit(l)}},{key:"ngOnInit",value:function(){var t=this;window.setInputValueTextarea=function(e){var n=Number(e.getAttribute("question_id")),i=Boolean(e.getAttribute("isImage"));t.setAnswer(n,Object.assign(Object.assign({},e),{target:e}),3,i,0)}}},{key:"ngAfterViewChecked",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),window.setInputValueTextarea=null}}]),t}()).\u0275fac=function(t){return new(t||To)(_.Pb(u.g),_.Pb(d.a),_.Pb(d.i),_.Pb(y.a),_.Pb(x.e))},To.\u0275cmp=_.Jb({type:To,selectors:[["azt-test-question-ui"]],inputs:{hasErrorMessage:"hasErrorMessage",hasEssayQuestion:"hasEssayQuestion",exam_obj:"exam_obj",firstInGroupIndexes:"firstInGroupIndexes",timeCount:"timeCount",questionList:"questionList",homeLink:"homeLink",files:"files",showUnit:"showUnit",isMobile:"isMobile",showList:"showList",unLimitTime:"unLimitTime",isShowSheet:"isShowSheet",countQuestion:"countQuestion"},outputs:{setAnswerEmitter:"setAnswerEmitter",setResultTracking:"setResultTracking",removeImgEmitter:"removeImgEmitter",openSubmitExamEmitter:"openSubmitExamEmitter",nextQuestionEmitter:"nextQuestionEmitter",prevQuestionEmitter:"prevQuestionEmitter",autoResizeEssayAnswerEmitter:"autoResizeEssayAnswerEmitter",goToQuestionEmitter:"goToQuestionEmitter",goToQuestionAllEmitter:"goToQuestionAllEmitter",sendAudioEmitToParent:"sendAudioEmitToParent"},ngContentSelectors:jo,decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],["class","question-content mt-1 pl-0 pr-0",3,"id","hidden",4,"ngIf"],[1,"question-content","mt-1","pl-0","pr-0",3,"id","hidden"],[1,"box-slide-show",3,"ngClass"],["class","game-bar text-center pt-2",4,"ngIf"],["class","game-bar pt-2",4,"ngIf"],["class","answer-box ml-auto mr-auto",4,"ngIf"],[1,"prev_question_btn","clickable",3,"hidden","click"],[1,"arrow_btn"],[1,"next_question_btn","clickable",3,"hidden","click"],[1,"game-bar","text-center","pt-2"],["class","question-media",3,"id",4,"ngFor","ngForOf"],[1,"question-media",3,"id"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],["class","embed-responsive embed-responsive-21by9",4,"ngIf"],[3,"imgSrc",4,"ngIf"],[1,"embed-responsive","embed-responsive-21by9"],[1,"embed-responsive-item",3,"src"],[3,"imgSrc"],[1,"game-bar","pt-2"],[2,"padding","5px 15px"],[2,"font-weight","450","font-size","24px"],[1,"contentDocx"],[1,"content-img",2,"font-size","21px","align-self","center","vertical-align","middle","line-height","2.2",3,"innerHtml"],[1,"row","mt-1","justify-content-around"],["class","col-sm-6 col-md-6 d-flex",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","d-flex"],[2,"vertical-align","middle","font-size","22px","font-weight","500","align-self","center"],[2,"font-size","21px","align-self","center","vertical-align","middle","line-height","1.4",3,"innerHtml"],["class","image_group mb-3",4,"ngIf"],[1,"image_group","mb-3"],["originalRender",""],[4,"ngIf","ngIfElse"],[2,"position","relative","margin","0 auto",3,"ngStyle","id"],["alt","question media",1,"img-fluid","img_respon",3,"id","src"],["style","position: absolute; border-bottom: 2px solid #f39c12;",3,"class","ngStyle",4,"ngIf"],[2,"position","absolute","border-bottom","2px solid #f39c12",3,"ngStyle"],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content",3,"ngClass",4,"ngIf"],["class","answer-content",4,"ngFor","ngForOf"],[1,"answer-content"],["class","h5 mb-0 mr-2 text-white","style","align-self: center;",4,"ngIf"],["class","list-answer mt-auto mb-auto",4,"ngIf"],[1,"btn","btn-ans-result","ml-auto",3,"click"],[2,"vertical-align","middle","color","#fff"],["style","vertical-align: middle; color: #fff; font-weight: bold;",4,"ngIf"],[1,"h5","mb-0","mr-2","text-white",2,"align-self","center"],[1,"list-answer","mt-auto","mb-auto"],[1,"listda","mt-0","mb-0","pl-0"],["class","listli",3,"click",4,"ngFor","ngForOf"],[1,"listli",3,"click"],["class","no-answered","style","background: #fff; color: #111;",4,"ngIf"],["class","no-answered","style","background-color: rgba(243, 156, 18, 1);color: rgb(255, 255, 255);",4,"ngIf"],[1,"no-answered",2,"background","#fff","color","#111"],[1,"no-answered",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"vertical-align","middle","color","#fff","font-weight","bold"],[1,"answer-content",3,"ngClass"],[1,"list-answer","d-flex",2,"width","100%"],["class","h5 mb-1 mr-2 text-white","style","align-self: center;",4,"ngIf"],[1,"row",2,"width","75%",3,"ngClass"],[1,"col-sm-12","mb-1"],["oninput","setInputValueTextarea(this)",1,"form-control","ml-2","mt-1","mr-2",3,"id","value","focus","keyup","change"],[1,"text-right"],[1,"btn","btn-ans-result","ml-auto",3,"ngClass","click"],[1,"h5","mb-1","mr-2","text-white",2,"align-self","center"],[1,"listda","mt-0","pl-0","mb-0"],["class","listli ",3,"click",4,"ngFor","ngForOf"],["id","question_ui",1,"row","justify-content-between","ml-0","mr-0","pl-0","pr-0","pb-3"],[1,"col-xl-10","pl-0","pr-0"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","col-xl-2 col-game-bar show-list",3,"ngStyle",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],["class","question-content mt-1 pl-0 pr-0",3,"id",4,"ngIf"],[1,"question-content","mt-1","pl-0","pr-0",3,"id"],["hidden","",2,"position","absolute","right","100%","width","100%","height","100%","color","#f39c12","display","flex","align-items","center","justify-content","center",3,"ngStyle"],["class","col-sm-12 col-md-6 d-flex",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","d-flex"],["class","list-answer mt-auto mb-auto",3,"ngClass",4,"ngIf"],[1,"list-answer","mt-auto","mb-auto",3,"ngClass"],[1,"list-answer","d-flex",2,"width","100%",3,"ngClass"],[1,"col-xl-2","col-game-bar","show-list",3,"ngStyle"],[1,"box-show-sheet","w-auto","mt-0"],[1,"show-sheet","text-center"],[1,"h5","mb-0","mt-3","disable-select"],[1,"sheet_content","sheet-Screen","mt-1"],[1,"listda",2,"padding-left","5px","margin-top","15px"],["class","listli","style","margin-bottom: 5px;",3,"click",4,"ngFor","ngForOf"],[1,"listli",2,"margin-bottom","5px",3,"click"],["class","no-answered","style","\n\t\t\t\t\t\t\t\t\t\tbackground-color: rgba(60, 141, 188, 1);\n\t\t\t\t\t\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t\t\t\t\t\t",4,"ngIf"],[1,"no-answered",2,"background-color","rgba(60, 141, 188, 1)","color","rgb(255, 255, 255)"]],template:function(t,e){1&t&&(_.mc(),_.Pc(0,Fi,3,1,"div",0),_.Pc(1,Mo,6,3,"div",0)),2&t&&(_.nc("ngIf",e.showUnit),_.Db(1),_.nc("ngIf",e.showList))},directives:[l.m,l.l,l.k,M.a,An,Ie.a,l.n],pipes:[wt.s],styles:[".box-slide-show[_ngcontent-%COMP%]{background:inherit;background-color:#fff;border-radius:3px 3px 0 0;padding-bottom:20px;padding-right:15px;padding-left:15px;border:1px solid #e7e7e7;border-bottom:none}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.col-game-bar[_ngcontent-%COMP%]{position:fixed;top:calc(2rem + 30px);right:calc(100vw - 90vw);max-width:180px}.sheet-Screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-Screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-show-sheet[_ngcontent-%COMP%]{margin-top:14px!important;width:75%;margin:auto;background:inherit;background-color:#fff;border:1px solid #e7e7e7;border-radius:5px}.disable-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.question-content[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{right:10px}.next_question_btn[_ngcontent-%COMP%], .prev_question_btn[_ngcontent-%COMP%]{position:absolute;top:35%;padding:.35rem .45rem;background-color:rgba(163,165,166,.4392156862745098);border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{left:10px}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important}.arrow_btn[_ngcontent-%COMP%], .button-note[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.button-note[_ngcontent-%COMP%]{position:relative;display:flex}.list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s ease 0s 1 both}.list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.note-box[_ngcontent-%COMP%]{display:none;background-color:#f7f3cf;margin-bottom:5px;min-height:30px}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{background:#00a7d0;border-radius:0 0 3px 3px;color:#fff;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}@media (max-width:768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]}),To),Ro=["elementDuplicateActive"],Fo=["modalSaveImageUpload"];function Ao(t,e){1&t&&_.Qb(0,"azt-loading-effect")}function Lo(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-submit-info",8),_.cc("closeDialog",function(t){return _.Dc(n),_.gc().closeShowInfo(t)}),_.Ub()}if(2&t){var i=_.gc();_.nc("data",i.showFormInfo)}}function zo(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-monitor-screen",8),_.cc("closeDialog",function(t){return _.Dc(n),_.gc().closeAutoMonitor(t)}),_.Ub()}if(2&t){var i=_.gc();_.nc("data",i.dataMonitorAuto)}}function qo(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-check-essay",9),_.cc("closeEssayDialog",function(t){return _.Dc(n),_.gc().closeEssayDialog(t)}),_.Ub()}if(2&t){var i=_.gc();_.nc("data",i.dataEssayPopup)}}function Qo(t,e){if(1&t){var n=_.Wb();_.Vb(0,"azt-preview-media",15),_.cc("closePreview",function(){return _.Dc(n),_.gc(2).onFileClose()}),_.Ub()}if(2&t){var i=_.gc(2);_.nc("fileOption",i.previewFile)}}function No(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-upload-image",16),_.cc("closeDialog",function(t){return _.Dc(n),_.gc(2).conFirmUpload(t)})("addFileMobile",function(t){return _.Dc(n),_.gc(2).addFileMobileUpload(t)})("isOnSelectFile",function(t){return _.Dc(n),_.gc(2).onSelectFileEmit(t)}),_.Ub()}if(2&t){var i=_.gc(2);_.nc("hashCode",i.hashIdUpdate)("data",i.uploadImageData)}}function Bo(t,e){if(1&t&&(_.Vb(0,"p",26),_.Vb(1,"mat-icon",29),_.Rc(2,"schedule"),_.Ub(),_.Rc(3),_.hc(4,"date"),_.hc(5,"date"),_.Ub()),2&t){var n=_.gc(4);_.Db(3),_.Uc(" Th\u1eddi gian \u0111\u01b0\u1ee3c ph\xe9p v\xe0o thi: ",_.jc(4,2,n.exam_obj.startTime,"dd/MM/yy HH:mm")," - ",_.jc(5,5,n.exam_obj.endTime,"dd/MM/yy HH:mm"),"")}}function $o(t,e){if(1&t&&(_.Vb(0,"div",39),_.Rc(1," H\xe3y ki\u1ec3m tra l\u1ea1i b\xe0i l\xe0m c\u1ee7a b\u1ea1n. H\u1ec7 th\u1ed1ng s\u1ebd t\u1ef1 \u0111\u1ed9ng n\u1ed9p b\xe0i sau: "),_.Vb(2,"span",40),_.Rc(3),_.Ub(),_.Rc(4," : "),_.Vb(5,"span",40),_.Rc(6),_.Ub(),_.Rc(7," : "),_.Vb(8,"span",40),_.Rc(9),_.Ub(),_.Rc(10," ho\u1eb7c b\u1ea1n c\xf3 th\u1ec3 n\u1ed9p b\xe0i ngay b\u1eb1ng c\xe1ch \u1ea5n n\xfat b\xean d\u01b0\u1edbi. "),_.Ub()),2&t){var n=_.gc(4);_.Db(3),_.Tc(" ",n.timeCount.hour>9?n.timeCount.hour:"0"+n.timeCount.hour," "),_.Db(3),_.Tc(" ",n.timeCount.minute>9?n.timeCount.minute:"0"+n.timeCount.minute," "),_.Db(3),_.Tc(" ",n.timeCount.second>9?n.timeCount.second:"0"+n.timeCount.second," ")}}function Wo(t,e){1&t&&(_.Vb(0,"div",41),_.Vb(1,"mat-icon",29),_.Rc(2,"timer_off"),_.Ub(),_.Rc(3,' B\u1ea1n \u0111\xe3 h\u1ebft gi\u1edd l\xe0m b\xe0i thi! H\xe3y \u1ea5n n\xfat "N\u1ed9p b\xe0i" b\xean d\u01b0\u1edbi \u0111\u1ec3 g\u1eedi b\xe0i l\xean h\u1ec7 th\u1ed1ng. N\u1ebfu n\u1ed9p mu\u1ed9n, b\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ea5m \u0111i\u1ec3m, vui l\xf2ng li\xean h\u1ec7 gi\xe1o vi\xean \u0111\u1ec3 ph\xfac kh\u1ea3o! '),_.Ub())}function Ho(t,e){1&t&&(_.Vb(0,"div",41),_.Vb(1,"mat-icon",29),_.Rc(2,"timer_off"),_.Ub(),_.Rc(3,' B\u1ea1n \u0111\xe3 qu\xe1 gi\u1edd n\u1ed9p b\xe0i thi! H\xe3y \u1ea5n n\xfat "N\u1ed9p b\xe0i mu\u1ed9n" b\xean d\u01b0\u1edbi \u0111\u1ec3 g\u1eedi b\xe0i l\xean h\u1ec7 th\u1ed1ng. B\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ea5m \u0111i\u1ec3m, vui l\xf2ng li\xean h\u1ec7 gi\xe1o vi\xean \u0111\u1ec3 ph\xfac kh\u1ea3o! '),_.Ub())}function Go(t,e){if(1&t&&(_.Vb(0,"div",54),_.Qb(1,"azt-loaded-img",55),_.Ub()),2&t){var n=_.gc(),i=n.$implicit,o=n.index,a=_.gc(5);_.nc("hidden",a.checkHiddenGroup(i.questionContent[0].firstInGroupIndexes,o)),_.Db(1),_.nc("imgSrc",i.questionContent[0].groupUrl)}}function Jo(t,e){if(1&t&&(_.Qb(0,"azt-loaded-img",55),_.hc(1,"mycdn")),2&t){var n=_.gc(2).$implicit;_.nc("imgSrc",_.ic(1,1,n.questionContent[0].url))}}function Ko(t,e){if(1&t&&(_.Vb(0,"div",56),_.Pc(1,Jo,2,3,"azt-loaded-img",57),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.nc("ngIf","png"==n.questionContent[0].extension||"jpg"==n.questionContent[0].extension)}}function Xo(t,e){if(1&t&&(_.Vb(0,"div",56),_.Qb(1,"img",58),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.oc("src",n.mixDataImg,_.Hc)}}function Yo(t,e){if(1&t&&(_.Vb(0,"div",65),_.Vb(1,"span",66),_.Rc(2),_.Ub(),_.Rc(3,"\xa0 "),_.Qb(4,"div",62),_.Ub()),2&t){var n=e.$implicit;_.Db(2),_.Tc("",n.alpha?n.alpha:n.key,"."),_.Db(2),_.nc("innerHtml",n.content,_.Ec)}}function Zo(t,e){if(1&t&&(_.Vb(0,"div",59),_.Vb(1,"p",60),_.Rc(2),_.Ub(),_.Vb(3,"div",61),_.Qb(4,"div",62),_.Ub(),_.Vb(5,"div",63),_.Pc(6,Yo,5,2,"div",64),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(2),_.Tc("C\xe2u\xa0",n.index<9?"0"+(n.index+1):n.index+1,":"),_.Db(2),_.nc("innerHtml",n.questionContent[0].content,_.Ec),_.Db(2),_.nc("ngForOf",n.answerConfig)}}function ta(t,e){if(1&t&&(_.Vb(0,"span",71),_.Rc(1),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.Tc(" ",n.choseAnswer," ")}}function ea(t,e){1&t&&(_.Vb(0,"span"),_.Vb(1,"b",72),_.Rc(2,"Ch\u01b0a tr\u1ea3 l\u1eddi"),_.Ub(),_.Ub())}function na(t,e){if(1&t&&(_.Vb(0,"div",67),_.Vb(1,"p",68),_.Rc(2,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub(),_.Pc(3,ta,2,1,"span",69),_.Pc(4,ea,3,0,"span",70),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(3),_.nc("ngIf",n.choseAnswer&&""!=n.choseAnswer),_.Db(1),_.nc("ngIf",!n.choseAnswer||""==n.choseAnswer)}}function ia(t,e){if(1&t){var n=_.Wb();_.Vb(0,"textarea",76),_.cc("focus",function(){_.Dc(n);var t=_.gc(2).$implicit;return _.gc(5).autoResizeEssayAnswer({id:t.id,type:4})}),_.Rc(1),_.Ub()}if(2&t){var i=_.gc(2).$implicit;_.oc("id","answer-0-all-"+i.id),_.Eb("question_id",i.id),_.Db(1),_.Sc(i.choseAnswer)}}function oa(t,e){if(1&t){var n=_.Wb();_.Vb(0,"textarea",76),_.cc("focus",function(){_.Dc(n);var t=_.gc(2).$implicit;return _.gc(5).autoResizeEssayAnswer({id:t.id,type:4})}),_.Rc(1,"Th\xed sinh ch\u01b0a nh\u1eadp th\xf4ng tin"),_.Ub()}if(2&t){var i=_.gc(2).$implicit;_.oc("id","answer-0-all-"+i.id),_.Eb("question_id",i.id)}}var aa=function(t){return{"w-100":t}};function sa(t,e){if(1&t&&(_.Vb(0,"div",67),_.Vb(1,"p",68),_.Rc(2,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),_.Ub(),_.Vb(3,"div",73),_.Vb(4,"div",74),_.Pc(5,ia,2,3,"textarea",75),_.Pc(6,oa,2,2,"textarea",75),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit,i=_.gc(5);_.Db(3),_.nc("ngClass",_.sc(3,aa,i.isMobile)),_.Db(2),_.nc("ngIf",n.choseAnswer&&""!=n.choseAnswer),_.Db(1),_.nc("ngIf",!n.choseAnswer||""==n.choseAnswer)}}function ca(t,e){if(1&t&&(_.Vb(0,"div",46),_.Vb(1,"div",47),_.Vb(2,"div",48),_.Pc(3,Go,2,2,"div",49),_.Pc(4,Ko,2,1,"div",50),_.Pc(5,Xo,2,1,"div",50),_.Pc(6,Zo,7,3,"div",51),_.Ub(),_.Vb(7,"div",52),_.Pc(8,na,5,2,"div",53),_.Pc(9,sa,7,5,"div",53),_.Ub(),_.Ub(),_.Ub()),2&t){var n=e.$implicit;_.Db(3),_.nc("ngIf",n.questionContent[0].groupUrl),_.Db(1),_.nc("ngIf",1==n.isImage&&!n.name.startsWith("[PDFv2]")),_.Db(1),_.nc("ngIf",1==n.isImage&&n.name.startsWith("[PDFv2]")),_.Db(1),_.nc("ngIf",0==n.isImage),_.Db(2),_.nc("ngIf",1==n.answerType),_.Db(1),_.nc("ngIf",3==n.answerType||4==n.answerType)}}function ra(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",81),_.Vb(1,"a",36),_.cc("click",function(){return _.Dc(n),_.gc(6).openUploadImage()}),_.Rc(2),_.Ub(),_.Vb(3,"p",82),_.Rc(4,"(H\u1ed7 tr\u1ee3 \u1ea2nh, Video, Audio ho\u1eb7c File PDF)"),_.Ub(),_.Ub()}if(2&t){var i=_.gc(6);_.Db(2),_.Sc(i.files.length>0?"N\u1ed9p th\xeam":"N\u1ed9p t\u1ef1 lu\u1eadn")}}function la(t,e){1&t&&(_.Vb(0,"div",83),_.Rc(1,' B\u1ea1n ch\u01b0a n\u1ed9p File n\xe0o l\xean h\u1ec7 th\u1ed1ng, h\xe3y \u1ea5n n\xfat "N\u1ed9p t\u1ef1 lu\u1eadn" \u0111\u1ec3 g\u1eedi File l\xean h\u1ec7 th\u1ed1ng. '),_.Ub())}function ua(t,e){if(1&t){var n=_.Wb();_.Vb(0,"mat-tab",77),_.Pc(1,ra,5,1,"div",78),_.Pc(2,la,2,0,"div",79),_.Vb(3,"app-upload-ui",80),_.cc("changesPosImg",function(t){return _.Dc(n),_.gc(5).changesPosImg(t)})("previewFile",function(t){return _.Dc(n),_.gc(5).onShowFile(t)})("removeFile",function(t){return _.Dc(n),_.gc(5).removeImg(t)}),_.Ub(),_.Ub()}if(2&t){var i=_.gc(5);_.oc("label","T\u1ef1 lu\u1eadn ("+(i.files&&i.files.length>0?i.files.length:0)+")"),_.Db(1),_.nc("ngIf",i.totalTime>-200),_.Db(1),_.nc("ngIf",0==i.files.length&&i.totalTime>-200),_.Db(1),_.nc("answerFiles",i.files)}}function ba(t,e){if(1&t&&(_.Vb(0,"mat-card",42),_.Vb(1,"mat-tab-group"),_.Vb(2,"mat-tab",43),_.Pc(3,ca,10,6,"div",44),_.Ub(),_.Pc(4,ua,4,4,"mat-tab",45),_.Ub(),_.Ub()),2&t){var n=_.gc(4);_.Db(3),_.nc("ngForOf",n.questionList),_.Db(1),_.nc("ngIf",n.hasEssayQuestion)}}function da(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",22),_.Vb(1,"mat-card",23),_.Vb(2,"mat-card-content"),_.Vb(3,"div",24),_.Vb(4,"p",25),_.Rc(5),_.Ub(),_.Vb(6,"p",26),_.Rc(7),_.Ub(),_.Vb(8,"div",27),_.Vb(9,"p",28),_.Vb(10,"mat-icon",29),_.Rc(11,"timer"),_.Ub(),_.Rc(12),_.Ub(),_.Vb(13,"p",26),_.Vb(14,"mat-icon",29),_.Rc(15,"help_outline"),_.Ub(),_.Rc(16),_.Ub(),_.Ub(),_.Pc(17,Bo,6,8,"p",30),_.Vb(18,"p",31),_.Rc(19),_.hc(20,"date"),_.Ub(),_.Ub(),_.Pc(21,$o,11,3,"div",32),_.Ub(),_.Ub(),_.Pc(22,Wo,4,0,"div",33),_.Pc(23,Ho,4,0,"div",33),_.Vb(24,"div",34),_.Vb(25,"a",35),_.cc("click",function(){return _.Dc(n),_.gc(3).endTimeBackBtn()}),_.Rc(26,"Tho\xe1t"),_.Ub(),_.Vb(27,"a",36),_.cc("click",function(){return _.Dc(n),_.gc(3).endTimeSubmitBtn()}),_.Rc(28),_.Ub(),_.Ub(),_.Vb(29,"div",37),_.Pc(30,ba,5,2,"mat-card",38),_.Ub(),_.Vb(31,"div",37),_.Vb(32,"a",35),_.cc("click",function(){return _.Dc(n),_.gc(3).endTimeBackBtn()}),_.Rc(33,"Tho\xe1t"),_.Ub(),_.Vb(34,"a",36),_.cc("click",function(){return _.Dc(n),_.gc(3).endTimeSubmitBtn()}),_.Rc(35),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3);_.Db(5),_.Sc(i.exam_obj.name),_.Db(2),_.Tc("M\xe3 \u0111\u1ec1: ",i.exam_obj.hashId,""),_.Db(5),_.Tc(" Th\u1eddi gian: ",i.exam_obj.minutes," ph\xfat"),_.Db(4),_.Tc(" S\u1ed1 c\xe2u: ",i.countQuestion,""),_.Db(1),_.nc("ngIf",i.exam_obj.startTime&&i.exam_obj.endTime),_.Db(2),_.Uc("Th\xed sinh: ",i.userObj.fullName," - V\xe0o thi l\xfac: ",_.jc(20,13,i.testingResultObj.startedTest,"dd/MM/yy HH:mm"),""),_.Db(2),_.nc("ngIf",i.totalTime>=-90&&i.totalTime<=0),_.Db(1),_.nc("ngIf",i.totalTime>=-300),_.Db(1),_.nc("ngIf",i.totalTime<-300),_.Db(5),_.Sc(i.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i"),_.Db(2),_.nc("ngIf",i.questionList.length>0),_.Db(5),_.Sc(i.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i")}}function ma(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-exit-exam",88),_.cc("closeDialog",function(){return _.Dc(n),_.gc(5).closeQuitDialog()})("redirectToHomepage",function(t){return _.Dc(n),_.gc(5).redirectToHomepage(t)}),_.Ub()}if(2&t){var i=_.gc(5);_.nc("data",i.quitTestData)}}function ha(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-comfirm-exam",89),_.cc("closeDialog",function(){return _.Dc(n),_.gc(5).closeSubmitDialog()})("redirectToHomepage",function(t){return _.Dc(n),_.gc(5).confirmSubmit(t)})("saveFileData",function(){return _.Dc(n),_.gc(5).saveFileDataExam()}),_.Ub()}if(2&t){var i=_.gc(5);_.nc("data",i.submitData)}}function ga(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-submit-name",8),_.cc("closeDialog",function(t){return _.Dc(n),_.gc(5).closeSubmitName(t)}),_.Ub()}if(2&t){var i=_.gc(5);_.nc("data",i.submitNameData)}}var fa=function(t){return{"time-almost-end":t}};function pa(t,e){if(1&t&&(_.Vb(0,"div",101),_.Vb(1,"span",40),_.Rc(2),_.Ub(),_.Rc(3," : "),_.Vb(4,"span",40),_.Rc(5),_.Ub(),_.Rc(6," : "),_.Vb(7,"span",40),_.Rc(8),_.Ub(),_.Ub()),2&t){var n=_.gc(7);_.nc("ngClass",_.sc(4,fa,n.timeCount.almostEnd)),_.Db(2),_.Tc(" ",n.timeCount.hour>9?n.timeCount.hour:"0"+n.timeCount.hour," "),_.Db(3),_.Tc(" ",n.timeCount.minute>9?n.timeCount.minute:"0"+n.timeCount.minute," "),_.Db(3),_.Tc(" ",n.timeCount.second>9?n.timeCount.second:"0"+n.timeCount.second," ")}}function va(t,e){1&t&&(_.Vb(0,"div",102),_.Vb(1,"span",40),_.Rc(2," Kh\xf4ng gi\u1edbi h\u1ea1n "),_.Ub(),_.Ub())}function xa(t,e){if(1&t&&(_.Vb(0,"div",96),_.Vb(1,"div",97),_.Vb(2,"mat-icon",98),_.Rc(3,"access_time"),_.Ub(),_.Ub(),_.Pc(4,pa,9,6,"div",99),_.Pc(5,va,3,0,"div",100),_.Ub()),2&t){var n=_.gc(6);_.Db(4),_.nc("ngIf",!n.unLimitTime),_.Db(1),_.nc("ngIf",n.unLimitTime)}}function wa(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",103),_.cc("click",function(){return _.Dc(n),_.gc(6).routerBackSelectStudent()}),_.Vb(1,"div",97),_.Vb(2,"mat-icon",104),_.Rc(3,"arrow_back"),_.Ub(),_.Ub(),_.Vb(4,"div",105),_.Vb(5,"span",106),_.Rc(6,"Quay l\u1ea1i"),_.Ub(),_.Ub(),_.Ub()}}function _a(t,e){if(1&t&&(_.Vb(0,"p",109),_.Rc(1),_.Ub()),2&t){var n=_.gc(7);_.Db(1),_.Tc("Th\xed sinh: ",n.userObj.fullName,"")}}function ya(t,e){if(1&t&&(_.Vb(0,"div",107),_.Pc(1,_a,2,1,"p",108),_.Ub()),2&t){var n=_.gc(6);_.Db(1),_.nc("ngIf",!n.isEmpty(n.userObj)&&n.userObj)}}function ka(t,e){if(1&t){var n=_.Wb();_.Vb(0,"a",118),_.cc("click",function(){return _.Dc(n),_.gc(7).goBackFullScreen()}),_.Rc(1,"To\xe0n m\xe0n h\xecnh"),_.Ub()}}function Sa(t,e){if(1&t){var n=_.Wb();_.Vb(0,"a",118),_.cc("click",function(){return _.Dc(n),_.gc(7).openUploadImage()}),_.Rc(1,"\u0110\xednh k\xe8m b\xe0i T\u1ef1 lu\u1eadn"),_.Ub()}}function Ia(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",110),_.Vb(1,"div",111),_.Pc(2,ka,2,0,"a",112),_.Vb(3,"div",113),_.Vb(4,"p",114),_.cc("click",function(){return _.Dc(n),_.gc(6).changeShowType(1)}),_.Vb(5,"mat-icon",115),_.Rc(6,"format_list_bulleted"),_.Ub(),_.Ub(),_.Vb(7,"p",116),_.cc("click",function(){return _.Dc(n),_.gc(6).changeShowType(2)}),_.Vb(8,"mat-icon",115),_.Rc(9,"view_compact"),_.Ub(),_.Ub(),_.Ub(),_.Vb(10,"div"),_.Vb(11,"a",117),_.cc("click",function(){return _.Dc(n),_.gc(6).openQuitDialog()}),_.Rc(12,"Tho\xe1t"),_.Ub(),_.Pc(13,Sa,2,0,"a",112),_.Vb(14,"a",36),_.cc("click",function(){return _.Dc(n),_.gc(6).openSubmitExam(!0,!1)}),_.Rc(15,"N\u1ed9p b\xe0i"),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(6);_.Db(2),_.nc("ngIf",i.hasMonitorScreen),_.Db(11),_.nc("ngIf",i.hasEssayQuestion)}}var Da=function(t){return{"d-none":t}};function Pa(t,e){if(1&t&&(_.Vb(0,"div",90),_.Vb(1,"div",91),_.Pc(2,xa,6,2,"div",92),_.Pc(3,wa,7,0,"div",93),_.Ub(),_.Pc(4,ya,2,1,"div",94),_.Pc(5,Ia,16,2,"div",95),_.Ub()),2&t){var n=_.gc(5);_.nc("ngClass",_.sc(5,Da,n.isMobile&&!n.chooseChildData.isShow)),_.Db(2),_.nc("ngIf",!n.chooseChildData.isShow),_.Db(1),_.nc("ngIf",n.chooseChildData.isShow),_.Db(1),_.nc("ngIf",!n.chooseChildData.isShow),_.Db(1),_.nc("ngIf",!n.chooseChildData.isShow)}}function Oa(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-select-classes",119),_.cc("selectClassroom",function(t){return _.Dc(n),_.gc(6).closeChooseStudent(t)}),_.Ub()}if(2&t){var i=_.gc(6);_.nc("dataClass",i.chooseChildData.classObjs)("isSearchTeacher",!1)("isMobile",i.isMobile)}}function Ca(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-send-request",122),_.cc("confirmSend",function(t){return _.Dc(n),_.gc(7).confirmSendRequest(t)})("closeDialog",function(t){return _.Dc(n),_.gc(7).closeRequestDialog(t)}),_.Ub()}if(2&t){var i=_.gc(7);_.nc("data",i.sendRequestData)}}function Ua(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-select-student",120),_.cc("selectChild",function(t){return _.Dc(n),_.gc(6).closeChooseStudent(t)})("approvedByName",function(t){return _.Dc(n),_.gc(6).approvedByName(t)})("backToClass",function(t){return _.Dc(n),_.gc(6).backToClassList(t)}),_.Ub(),_.Pc(1,Ca,1,1,"app-send-request",121)}if(2&t){var i=_.gc(6);_.nc("data",i.chooseChildData)("showAddStudent",i.chooseChildData.classObj.showAddStudent)("isSearchTeacher",!1)("back_link",!0)("isMobile",i.isMobile),_.Db(1),_.nc("ngIf",i.sendRequestData.isShow)}}function Va(t,e){if(1&t&&(_.Pc(0,Oa,1,3,"ng-template",87),_.Pc(1,Ua,2,6,"ng-template",87)),2&t){var n=_.gc(5);_.nc("ngIf",n.selectClass),_.Db(1),_.nc("ngIf",n.selectStudent)}}function Ma(t,e){if(1&t&&(_.Vb(0,"span"),_.Rc(1),_.hc(2,"date"),_.Ub()),2&t){var n=_.gc(7);_.Db(1),_.Tc(" Vui l\xf2ng quay l\u1ea1i v\xe0o l\xfac: ",_.jc(2,1,n.exam_obj.startTime,"dd/MM/yyyy, HH:mm:ss")," ")}}function Ta(t,e){if(1&t){var n=_.Wb();_.Vb(0,"span",129),_.cc("click",function(){return _.Dc(n),_.gc(7).goToBuyExam()}),_.Vb(1,"span",130),_.Rc(2,"\u0110i mua"),_.Ub(),_.Vb(3,"mat-icon",131),_.Rc(4,"shopping_cart"),_.Ub(),_.Ub()}}var ja=function(t){return[t]};function Ea(t,e){if(1&t&&(_.Vb(0,"div",124),_.Vb(1,"div",125),_.Rc(2),_.hc(3,"mytranslate"),_.Pc(4,Ma,3,4,"span",70),_.Pc(5,Ta,5,0,"span",126),_.Ub(),_.Vb(6,"div",127),_.Vb(7,"a",128),_.hc(8,"localize"),_.Rc(9," Quay l\u1ea1i trang ch\u1ee7 "),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(6);_.Db(2),_.Tc(" ",_.ic(3,4,n.hasErrorMessage)," "),_.Db(2),_.nc("ngIf","lang_core_time_smaller_than_start_time"==n.hasErrorMessage),_.Db(1),_.nc("ngIf","lang_core_doest_not_owner_exam"==n.hasErrorMessage),_.Db(2),_.nc("routerLink",_.sc(8,ja,_.ic(8,6,n.homeLink)))}}function Ra(t,e){if(1&t&&(_.Vb(0,"span",147),_.Rc(1),_.Ub()),2&t){var n=_.gc().index;_.Db(1),_.Uc(" ",9>n?"0":"","",n+1," ")}}function Fa(t,e){if(1&t&&(_.Vb(0,"span",148),_.Rc(1),_.Ub()),2&t){var n=_.gc().index;_.Db(1),_.Uc(" ",9>n?"0":"","",n+1," ")}}function Aa(t,e){if(1&t){var n=_.Wb();_.Vb(0,"li",144),_.cc("click",function(){_.Dc(n);var t=e.index;return _.gc(9).goToQuestion(t)}),_.Pc(1,Ra,2,2,"span",145),_.Pc(2,Fa,2,2,"span",146),_.Ub()}if(2&t){var i=e.$implicit;_.Db(1),_.nc("ngIf",0==i.status),_.Db(1),_.nc("ngIf",1==i.status)}}function La(t,e){if(1&t&&(_.Vb(0,"div",138),_.Vb(1,"div",139),_.Vb(2,"div",140),_.Vb(3,"p",141),_.Rc(4,"Danh s\xe1ch c\xe2u h\u1ecfi"),_.Ub(),_.Vb(5,"ul",142),_.Pc(6,Aa,3,2,"li",143),_.Ub(),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(8);_.nc("hidden",n.isMobile),_.Db(6),_.nc("ngForOf",n.questionList)}}function za(t,e){if(1&t){var n=_.Wb();_.Vb(0,"azt-test-question-ui",136),_.cc("setAnswerEmitter",function(t){return _.Dc(n),_.gc(7).setAnswer(t)})("setResultTracking",function(t){return _.Dc(n),_.gc(7).setResultTracking(t)})("removeImgEmitter",function(t){return _.Dc(n),_.gc(7).removeImg(t)})("openSubmitExamEmitter",function(t){return _.Dc(n),_.gc(7).openSubmitExam(t)})("nextQuestionEmitter",function(t){return _.Dc(n),_.gc(7).nextQuestion(t)})("prevQuestionEmitter",function(t){return _.Dc(n),_.gc(7).prevQuestion(t)})("autoResizeEssayAnswerEmitter",function(t){return _.Dc(n),_.gc(7).autoResizeEssayAnswer(t)})("goToQuestionEmitter",function(t){return _.Dc(n),_.gc(7).goToQuestion(t)})("goToQuestionAllEmitter",function(t){return _.Dc(n),_.gc(7).goToQuestionAll(t)})("sendAudioEmitToParent",function(t){return _.Dc(n),_.gc(7).sendAudioForQuestion(t)}),_.Pc(1,La,7,2,"div",137),_.Ub()}if(2&t){var i=_.gc(7);_.nc("hasErrorMessage",i.hasErrorMessage)("hasEssayQuestion",i.hasEssayQuestion)("exam_obj",i.exam_obj)("firstInGroupIndexes",i.firstInGroupIndexes)("timeCount",i.timeCount)("questionList",i.questionList)("homeLink",i.homeLink)("files",i.files)("showUnit",i.showUnit)("isMobile",i.isMobile)("showList",i.showList)("unLimitTime",i.unLimitTime)("isShowSheet",i.isShowSheet)("countQuestion",i.countQuestion),_.Db(1),_.nc("ngIf",!i.submitNameData.isShow)}}function qa(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",173),_.Vb(1,"a",174),_.cc("click",function(){return _.Dc(n),_.gc(8).openUploadImage()}),_.Vb(2,"span",175),_.Rc(3,"\u0110\xednh k\xe8m t\u1ef1 lu\u1eadn"),_.Ub(),_.Ub(),_.Ub()}}function Qa(t,e){if(1&t&&(_.Vb(0,"span",147),_.Rc(1),_.Ub()),2&t){var n=_.gc().index;_.Db(1),_.Uc(" ",9>n?"0":"","",n+1," ")}}function Na(t,e){if(1&t&&(_.Vb(0,"span",148),_.Rc(1),_.Ub()),2&t){var n=_.gc().index;_.Db(1),_.Uc(" ",9>n?"0":"","",n+1," ")}}function Ba(t,e){if(1&t){var n=_.Wb();_.Vb(0,"li",176),_.cc("click",function(){_.Dc(n);var t=e.index,i=_.gc(8);return i.showList?i.goToQuestionAll(t):i.goToQuestion(t)}),_.Pc(1,Qa,2,2,"span",145),_.Pc(2,Na,2,2,"span",177),_.Ub()}if(2&t){var i=e.$implicit;_.Db(1),_.nc("ngIf",0==i.status),_.Db(1),_.nc("ngIf",1==i.status)}}function $a(t,e){if(1&t&&(_.Vb(0,"span",166),_.Rc(1),_.Ub()),2&t){var n=_.gc(8);_.Db(1),_.Sc(n.userObj.fullName)}}var Wa=function(t){return{"time-almost-end-mobile":t}};function Ha(t,e){if(1&t&&(_.Vb(0,"div",178),_.Vb(1,"mat-icon",179),_.Rc(2,"av_timer"),_.Ub(),_.Vb(3,"span",180),_.Rc(4),_.Ub(),_.Rc(5," : "),_.Vb(6,"span",180),_.Rc(7),_.Ub(),_.Rc(8," : "),_.Vb(9,"span",180),_.Rc(10),_.Ub(),_.Ub()),2&t){var n=_.gc(8);_.nc("ngClass",_.sc(4,Wa,n.timeCount.almostEnd)),_.Db(4),_.Tc(" ",n.timeCount.hour>9?n.timeCount.hour:"0"+n.timeCount.hour," "),_.Db(3),_.Tc(" ",n.timeCount.minute>9?n.timeCount.minute:"0"+n.timeCount.minute," "),_.Db(3),_.Tc(" ",n.timeCount.second>9?n.timeCount.second:"0"+n.timeCount.second," ")}}function Ga(t,e){1&t&&(_.Vb(0,"div",181),_.Vb(1,"mat-icon",182),_.Rc(2,"av_timer"),_.Ub(),_.Vb(3,"span",183),_.Rc(4," Kh\xf4ng gi\u1edbi h\u1ea1n "),_.Ub(),_.Ub())}var Ja=function(t){return{"col-6":t}};function Ka(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div"),_.Vb(1,"div",149),_.Vb(2,"div",150),_.Vb(3,"div",151),_.Vb(4,"a",152),_.cc("click",function(){return _.Dc(n),_.gc(7).openQuitDialog()}),_.Vb(5,"mat-icon"),_.Rc(6,"power_settings_new"),_.Ub(),_.Ub(),_.Ub(),_.Pc(7,qa,4,0,"div",153),_.Vb(8,"div",154),_.Vb(9,"a",152),_.cc("click",function(){return _.Dc(n),_.gc(7).openSubmitExam(!0,!1)}),_.Vb(10,"span",155),_.Rc(11,"N\u1ed9p b\xe0i"),_.Ub(),_.Vb(12,"mat-icon"),_.Rc(13,"chevron_right"),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(14,"div",156),_.Vb(15,"div",157),_.Vb(16,"div",158),_.Vb(17,"div",159),_.Vb(18,"div",160),_.Vb(19,"ul",161),_.Pc(20,Ba,3,2,"li",162),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(21,"div",163),_.cc("click",function(){return _.Dc(n),_.gc(7).showSheet(!1)}),_.Vb(22,"div",164),_.Vb(23,"p",165),_.cc("click",function(){return _.Dc(n),_.gc(7).showSheet(!0,1)}),_.Vb(24,"mat-icon",166),_.Rc(25,"format_list_bulleted"),_.Ub(),_.Ub(),_.Vb(26,"p",167),_.cc("click",function(){return _.Dc(n),_.gc(7).showSheet(!0,2)}),_.Vb(27,"mat-icon",166),_.Rc(28,"view_compact"),_.Ub(),_.Ub(),_.Ub(),_.Vb(29,"div",168),_.Vb(30,"p",169),_.Pc(31,$a,2,1,"span",170),_.Ub(),_.Ub(),_.Pc(32,Ha,11,6,"div",171),_.Pc(33,Ga,5,0,"div",172),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc(7);_.Db(7),_.nc("ngIf",i.hasEssayQuestion),_.Db(1),_.nc("ngClass",_.sc(7,Ja,!i.hasEssayQuestion)),_.Db(7),_.nc("hidden",!i.isShowSheet),_.Db(5),_.nc("ngForOf",i.questionList),_.Db(11),_.nc("ngIf",!i.isEmpty(i.userObj)&&i.userObj),_.Db(1),_.nc("ngIf",!i.unLimitTime),_.Db(1),_.nc("ngIf",i.unLimitTime)}}var Xa=function(t,e){return{"monitor-screen":t,"monitor-screen-mobile":e}};function Ya(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",124),_.Vb(1,"app-upload-ui",132),_.cc("changesPosImg",function(t){return _.Dc(n),_.gc(6).changesPosImg(t)})("previewFile",function(t){return _.Dc(n),_.gc(6).onShowFile(t)})("removeFile",function(t){return _.Dc(n),_.gc(6).removeImg(t)}),_.Ub(),_.Qb(2,"div",133,134),_.Pc(4,za,2,15,"azt-test-question-ui",135),_.Pc(5,Ka,34,9,"div",70),_.Ub()}if(2&t){var i=_.gc(6);_.Db(1),_.nc("answerFiles",i.files)("isTesting",!0)("onMobile",i.isMobile)("showList",i.showList),_.Db(1),_.nc("ngClass",_.tc(7,Xa,!i.isMobile,i.isMobile)),_.Db(2),_.nc("ngIf",!i.submitNameData.isShow),_.Db(1),_.nc("ngIf",i.isMobile)}}function Za(t,e){if(1&t&&(_.Pc(0,Ea,10,10,"div",123),_.Pc(1,Ya,6,10,"div",123)),2&t){var n=_.gc(5);_.nc("ngIf",""!=n.hasErrorMessage),_.Db(1),_.nc("ngIf",""==n.hasErrorMessage)}}function ts(t,e){if(1&t&&(_.Tb(0),_.Pc(1,ma,1,1,"app-exit-exam",84),_.Pc(2,ha,1,1,"app-comfirm-exam",85),_.Pc(3,ga,1,1,"app-submit-name",5),_.Pc(4,Pa,6,7,"div",86),_.Pc(5,Va,2,2,"ng-template",87),_.Pc(6,Za,2,2,"ng-template",87),_.Sb()),2&t){var n=_.gc(4);_.Db(1),_.nc("ngIf",n.quitTestData.isShow),_.Db(1),_.nc("ngIf",n.submitData.isShow),_.Db(1),_.nc("ngIf",n.submitNameData.isShow),_.Db(1),_.nc("ngIf",""==n.hasErrorMessage),_.Db(1),_.nc("ngIf",n.chooseChildData.isShow),_.Db(1),_.nc("ngIf",!n.chooseChildData.isShow)}}function es(t,e){if(1&t&&_.Pc(0,ts,7,6,"ng-container",70),2&t){var n=_.gc(3);_.nc("ngIf",!n.errorLoadMixedAssets&&n.validForTakeTest)}}var ns=function(t,e,n){return{"time-client-pc":t,"time-client-mobile":e,"time-client-notValid":n}};function is(t,e){if(1&t&&(_.Pc(0,da,36,16,"div",17),_.Pc(1,es,1,1,"ng-template",null,18,_.Qc),_.Vb(3,"div",19),_.Vb(4,"p",20),_.Vb(5,"span",21),_.Rc(6),_.hc(7,"date"),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.zc(2),i=_.gc(2);_.nc("ngIf",!i.validForTakeTest)("ngIfElse",n),_.Db(3),_.nc("ngClass",_.uc(7,ns,!i.isMobile&&i.validForTakeTest,i.isMobile&&i.validForTakeTest,!i.validForTakeTest)),_.Db(3),_.Sc(_.jc(7,4,i.timeClient,"dd/MM/yy HH:mm"))}}function os(t,e){if(1&t&&_.Qb(0,"azt-loading-effect",184),2&t){var n=_.gc(2);_.nc("customText","\u0110ang t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi: "+n.loadMixedExamProgress+"%")}}function as(t,e){1&t&&(_.Vb(0,"div",185),_.Vb(1,"mat-icon",29),_.Rc(2,"error"),_.Ub(),_.Rc(3," C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi, h\xe3y th\u1eed l\u1ea1i b\u1eb1ng c\xe1ch t\u1ea3i l\u1ea1i trang web! "),_.Ub())}function ss(t,e){if(1&t&&(_.Pc(0,Qo,1,1,"azt-preview-media",10),_.Pc(1,No,1,2,"app-upload-image",11),_.Pc(2,is,8,11,"ng-template",null,12,_.Qc),_.Pc(4,os,1,1,"azt-loading-effect",13),_.Pc(5,as,4,0,"div",14)),2&t){var n=_.zc(3),i=_.gc();_.nc("ngIf",i.isShowPreviewFile),_.Db(1),_.nc("ngIf",i.uploadImageData.isShow),_.Db(3),_.nc("ngIf",i.isMixedService_2&&!i.doneLoadMixedExamAssets&&!i.errorLoadMixedAssets)("ngIfElse",n),_.Db(1),_.nc("ngIf",i.errorLoadMixedAssets)}}var cs,rs=function(t){return{"pb-5 pl-0 pr-0":t}},ls=((cs=function(){function n(t,e,i,o,s,c,r,b,d,m,h,g){a(this,n),this.fb=t,this.activeRoute=e,this.router=i,this.commonService=o,this.localize=s,this.apiExamService=c,this.apiCommonService=r,this.mixService=b,this.localStorageObjetct=d,this.mixService2=m,this.fireStoreService=h,this.cdr=g,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.exam_obj={},this.firstInGroupIndexes=[],this.testingResultObj={},this.userObj={},this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.startedTest=Object(l.x)(new Date,"yyyy-MM-ddTHH:mm:ss Z","en_vn"),this.countQuestion=0,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={},this.hasMonitorScreen=!1,this.onTypingAnswer=!1,this.chooseChildData={studentObjs:"",classObj:"",isPendingApproved:!1,isShow:!1},this.dataProcess={},this.password="",this.backtoLink="",this.isIphone6=!0,this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.innerMonitor="",this.validForTakeTest=!0,this.sendingData=!1,this.acceptSendTrack=!0,this.isMixedService_2=!1,this.doneLoadMixedExamAssets=!1,this.errorLoadMixedAssets=!1,this.subscription=new D.a,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.dataCheckTookExam={},this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.isShowPreviewFile=!1,this.previewFile={},this.oldScroll=0,this.checkTimeOutExam=!1,this.resultScrollLog=[],this.trackScroll_timeOutNumber=20,this.trackScroll_lastSecondValue=0,this.timeClient=Date.now(),this.browserName="",this.selectStudent=!1,this.selectClass=!1,this.sendRequestData={studentObj:"",classId:"",isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:"",isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.dataQuitExam={cur_time:0,isShow:!1},this.dataSubmitExam={answerList:[],cur_time:0,isShow:!1},this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.curQuestion=0,this.showList=!0,this.showUnit=!1,this.isShowSheet=!1,this.subscriptions=new D.a,this.form=new u.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.homeLink="",this.tenantId=1,this.cur_cateId=0,this.hashId="",this.userAgent="",this.back_link="",this.intervalSync=null,this.intervalExamTimeout=null,this.intervalGetTimeServer=null,this.intervalAutoSubmit=null,this.intervalTimeClient=null,this.deviceInfo=new rt}return c(n,[{key:"onScroll",value:function(t){var e=this.commonService.getCurrentSecond();this.trackScroll_lastSecondValue<=e&&(this.resultScrollLog.push(["scroll",Math.round(window.pageYOffset),e]),this.trackScroll_lastSecondValue=e+20,this.commonService.getSizeOfStorage()>4.5&&this.commonService.removeExceptSimpleStorage(this.exam_obj.id,this.hashId),this.commonService.saveSimpleStorage("saveScrollTrack_"+this.hashId+"_"+this.testingResultObj.id,JSON.stringify(this.resultScrollLog)))}},{key:"appendTrackScrollLogs",value:function(t,e){try{var n=e.length;if(n>60)for(var i=Math.ceil(n/60),o=0;o<n;o+=i)t.push(e[o]);else for(var a=0;a<n;a++)t.push(e[a])}catch(s){}return t}},{key:"closeDialogTookExam",value:function(t){console.log(t)}},{key:"timeOut",value:function(t){"done"==t&&location.reload()}},{key:"getData",value:function(){var t=this,e=this.commonService.getSimpleStorage("password_"+this.hashId),n=this.commonService.getSimpleStorage("userInfoV3_"+this.hashId);this.password=e||"",this.subscriptions.add(this.apiExamService.getFrontExamObj(this.hashId,this.password,n||""!=this.tempStorageInfo?1:0,this.deviceInfo.device_id).subscribe(function(e){e.data.hasOwnProperty("errorMessage")&&"lang_core_exam_password_invalid"==e.data.errorMessage?""==t.password?(t.openSubmitName(!1,t.hashId,!0),t.hasErrorMessage="lang_core_exam_password_needed",t.status_obj={loading:!1,error:!1,errorMessage:{message:""}}):(t.commonService.removeSimpleStorage("password_"+t.hashId),t.openSubmitName(!1,t.hashId,!0,"lang_core_exam_password_invalid"),t.status_obj={loading:!1,error:!1,errorMessage:{message:""}}):t.processData(e)})),this.commonService.gaEvent("FrontExam_GetObj")}},{key:"processData",value:function(t){var e=this;if(1==t.success){this.exam_obj=t.data.examObj,this.testingResultObj=t.data.testingExamResultObj;var n=this.commonService.parseJson(this.testingResultObj.trackInfos);if(this.deviceInfo.setCheckId(n?n.deviceId:""),this.firstInGroupIndexes=2==this.exam_obj.mixQuestion||this.testingResultObj.mixquestionId>0?this.mixService2.refindFirstInGroupIndexes(this.firstInGroupIndexes,t.data.questionObjs):this.commonService.parseJson(this.exam_obj.firstInGroupIndexes),this.userObj=t.data.studentObj,this.commonService.translateMetaData({title:"L\xe0m b\xe0i: "+(t.data.examObj.name?t.data.examObj.name:""),description:t.data.examObj.name?t.data.examObj.name:""}),this.dataProcess=t.data,this.apiCommonService.isLogin()&&this.apiCommonService.isAnonymousRole())if(0==this.dataProcess.examObj.whoAllow){var i=this.apiCommonService.getUserObj();this.commonService.isAnonymousName(i)?(this.status_obj={loading:!1,error:!1,errorMessage:{message:""}},this.openSubmitName(!1)):(1==t.data.examObj.enterInfo&&null==this.commonService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(a=this.commonService.parseJson(t.data.examObj.infoFieldsV2))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.status_obj={loading:!0,error:!1,errorMessage:{message:""}},this.getData()):this.fillData(t),this.status_obj={loading:!1,error:!1,errorMessage:{message:""}})}else this.status_obj={loading:!1,error:!1,errorMessage:{message:""}},this.openSubmitName(!0);else if(2==this.dataProcess.examObj.whoAllow)if(this.dataProcess.hasOwnProperty("studentObj")&&!this.isEmpty(this.dataProcess.studentObj)){var o=this.dataProcess.studentObj;1==o.isVerified?(1==t.data.examObj.enterInfo&&null==this.commonService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(a=this.commonService.parseJson(t.data.examObj.infoFieldsV2))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.status_obj={loading:!0,error:!1,errorMessage:{message:""}},this.getData()):this.fillData(t),this.status_obj={loading:!1,error:!1,errorMessage:{message:""}}):(this.status_obj={loading:!1,error:!1,errorMessage:{message:""}},this.openChooseStudent(o,3))}else this.dataProcess.hasOwnProperty("classroomObj")&&this.isEmpty(this.dataProcess.classroomObj)?(this.status_obj={loading:!1,error:!1,errorMessage:{message:""}},this.openChooseStudent(this.dataProcess,1)):(this.status_obj={loading:!1,error:!1,errorMessage:{message:""}},this.openChooseStudent(this.dataProcess,2));else{var a;1==t.data.examObj.enterInfo&&null==this.commonService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(a=this.commonService.parseJson(t.data.examObj.infoFieldsV2))&&a.length>0&&""!=a?(this.openShowInfo(a),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.status_obj={loading:!0,error:!1,errorMessage:{message:""}},this.getData()):this.fillData(t),this.status_obj={loading:!1,error:!1,errorMessage:{message:""}}}}else this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(function(n){e.commonService.snackError(n[t.message],n.lang_cms_common_ok)})}},{key:"changeAnswerConfig",value:function(t,e){var n=[];if(1!=e.isImage)t.forEach(function(t){t=Object.assign(Object.assign({},t),{questionId:e.id,checked:!1}),n.push(t)});else if(Array.isArray(t)&&1==e.isImage&&e.name.startsWith("[PDFv2]"))t.forEach(function(t){t=Object.assign(Object.assign({},t),{questionId:e.id,checked:!1}),n.push(t)});else if(t.answer){for(var i in t.answer)t.answer[i]={questionId:e.id,content:t.answer[i],checked:!1};n.push(t)}else n.push(t);return n}},{key:"changeMetadata",value:function(t){var e=[];for(var n in t)"object"==typeof t[n]&&e.push(t[n]);return e}},{key:"changeQuestionContent",value:function(t){for(var e=this,n=[],i=this.commonService.parseJson(this.commonService.getSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id)),o=0;o<t.length;o++){if(t[o].answerConfig&&(t[o].answerConfig=this.changeAnswerConfig(this.commonService.parseJson(t[o].answerConfig),t[o])),t[o].questionContent&&(t[o].questionContent=this.commonService.parseJson(t[o].questionContent)),t[o].attachments&&(t[o].attachments=this.commonService.parseJson(t[o].attachments)),t[o].metadata&&(t[o].metadata=this.changeMetadata(this.commonService.parseJson(t[o].metadata))),3==t[o].answerType&&(t[o].essayText=""),4==t[o].answerType&&(t[o].essayText=""),this.exam_obj.limitAudio>0)if(i){var a=i.filter(function(e){return e.questionId==t[o].id});a&&a.length>0&&(t[o].limitAudio=a[0].limitTimes+a[0].limitPlay,t[o].limitPlay=0)}else t[o].attachments&&t[o].attachments.length>0&&(t[o].limitAudio=0,t[o].limitPlay=0);t[o]=Object.assign(Object.assign({},t[o]),{index:o,status:!1}),n.push(t[o])}return null!=t&&t.length>0&&t[0].name.startsWith("[PDFv2]")&&(this.exam_obj.labelsUrl.startsWith("[")?function(){e.isMixedService_2=!0;var n=e.commonService.parseJson(e.exam_obj.labelsUrl);e.totalMixedExamAssets=n.length;for(var i=n.map(function(t){return!0}),o={},a=[],s=0,c=0;c<n.length;c++)o["index_"+c]=e.commonService.getMyCdn(n[c]);var r=function(c){var r=new Image;r.crossOrigin="anonymous";var l=o[c],u=0;r.onload=function(){e.countLoadedMixedAssets++,s++,a[parseInt(c.split("_")[1])]=r,s==n.length&&(e.mixService2.drawMixQuestion(a,t,e.exam_obj),setTimeout(function(){e.doneLoadMixedExamAssets=!0},1e3))},r.onerror=function(){u<2?setTimeout(function(){var t="";switch(u){case 0:t=e.commonService.isViettelCDN(t)?e.commonService.getRawCdnLink(l)+"?t="+Date.now():e.commonService.getRawCdnLink(l);break;default:t=e.commonService.getRawCdnLink(l)+"?t="+Date.now()}r.src=t,u++},3e3):(i[parseInt(c.split("_")[1])]=!1,e.errorLoadMixedAssets=!0,e.mixService2.trackPdfV2Error(l))},r.src=l};for(var l in o)r(l)}():this.mixService.drawMixQuestion(this.exam_obj.labelsUrl,t,this.exam_obj)),this.removeNullContent(this.exam_obj.limitAudio>0?this.addAudioObjsToQuestion(n):n)}},{key:"addAudioObjsToQuestion",value:function(t){var e=this,n=[];return t.forEach(function(t){if(t.attachments&&t.attachments.length>0&&(t.audioLimitObjs=[],e.exam_obj.limitAudio-t.limitAudio>0))for(var i=0;i<e.exam_obj.limitAudio-t.limitAudio;i++)t.audioLimitObjs.push({index:i,status:!0});n.push(t)}),n}},{key:"sendAudioForQuestion",value:function(t){for(var e=0;e<this.questionList.length;e++)this.questionList[e].id==t.obj.id&&(1==t.play?this.questionList[e].limitPlay+=1:(this.questionList[e].limitPlay-=1,this.questionList[e].limitAudio+=1,this.questionList[e].audioLimitObjs.forEach(function(e){e.index==t.index&&(e.status=!1)})));this.saveAudioLimitStorage()}},{key:"saveAudioLimitStorage",value:function(){var t=[];this.questionList.forEach(function(e){e.attachments&&e.attachments.length>0&&t.push({questionId:e.id,limitTimes:e.limitAudio,limitPlay:e.limitPlay})}),t.length>0&&(this.commonService.getSizeOfStorage()>4.5&&this.commonService.removeExceptSimpleStorage(this.exam_obj.id,this.hashId),this.commonService.saveSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(t)))}},{key:"compareContent",value:function(t,e){return t.key==e.content}},{key:"compareContentPDF",value:function(t,e){return t.content==e.content}},{key:"fillData",value:function(t){this.checkResultTracking(),this.checkScrollTracking(),this.userObj=2==this.exam_obj.whoAllow?t.data.studentObj:this.apiCommonService.getUserObj(),this.syncData=t.data.examResultSyncObj,this.totalTime=t.data.countDownSecond,this.startTestTime=t.data.startServerSecond;var e=this.commonService.parseJson(this.commonService.getSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id));if(this.hashIdUpdate=t.data.hashCodeUpload,this.sendHashIdUpdate(this.hashIdUpdate),t.data.hasOwnProperty("errorMessage"))this.hasErrorMessage=t.data.errorMessage,"lang_core_exam_password_invalid"==this.hasErrorMessage?this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"):"lang_core_exam_password_invalid"==this.hasErrorMessage&&""==this.password&&(this.hasErrorMessage="lang_core_exam_password_needed",this.openSubmitName(!1,this.hashId,!0)),this.status_obj={loading:!1,error:!1,errorMessage:{message:""}};else{if(this.hasErrorMessage="",t.data.examObj.minutes>0?this.unLimitTime=!1:(this.unLimitTime=!0,this.totalTime=1),this.validForTakeTest=!(t.data.countDownSecond<=0&&!this.unLimitTime),this.questionList=this.changeQuestionContent(t.data.questionObjs),this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0),this.commonService.replaceCanvasBackground(this.questionList),this.countQuestion=this.questionList.length,this.hasEssayQuestion=this.checkEssay(),this.syncData&&this.syncData.hasOwnProperty("datas")&&""!=this.syncData.datas){var n=this.commonService.parseJson(this.syncData.datas);null==e?(this.answerList=null!=n.answers?n.answers:[],this.noteList=null!=n.notes?n.notes:[],this.files=null!=n.files?this.commonService.parseJson(n.files):[],this.questionList=this.reBindDataQuestion(this.answerList)):n.saveTime<e.saveTime?(this.answerList=e.answers,this.noteList=e.notes,this.files=this.commonService.parseJson(e.files),this.questionList=this.reBindDataQuestion(this.answerList)):(this.answerList=n.answers,this.noteList=n.notes,this.files=this.commonService.parseJson(n.files),this.questionList=this.reBindDataQuestion(this.answerList))}else e&&(this.answerList=e.answers,this.noteList=e.notes,this.files=this.commonService.parseJson(e.files),this.questionList=this.reBindDataQuestion(this.answerList));this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(this.commonService.plusGlobalInterval("exam"),"exam")),this.saveToStorage(this.answerList,this.noteList,this.files),this.setTimeClient()}}},{key:"takeAnswerForQuestion",value:function(t,e){return e.forEach(function(e){t.forEach(function(t){if(t.questionId==e.id)if(4==e.answerType||3==e.answerType)e.choseAnswer=t.answerContent[0].content;else if(1==e.answerType||2==e.answerType){var n=t.answerContent[0].index;e.choseAnswer=1==e.isImage?e.name.startsWith("[PDFv2]")?e.answerConfig[n].alpha?e.answerConfig[n].alpha:e.answerConfig[n].key:e.answerConfig[0].answer[n].content:e.answerConfig[n].alpha?e.answerConfig[n].alpha:e.answerConfig[n].key}})}),[]}},{key:"checkHiddenGroup",value:function(t,e){return t?!t.includes(e):!this.firstInGroupIndexes.includes(e)}},{key:"reBindDataQuestion",value:function(t){var e=this,n=[];return this.questionList.forEach(function(i){t.forEach(function(t){if(t.questionId==i.id){if(0==i.isImage)if(3==i.answerType)(o=t.answerContent&&t.answerContent.length>0?t.answerContent[0].content:"")&&(i.essayText=o);else if(4==i.answerType)(o=t.answerContent&&t.answerContent.length>0?t.answerContent[0].content:"")&&(i.essayText=o);else for(var n=0;n<i.answerConfig.length;n++){if(e.compareContent(i.answerConfig[n],t.answerContent&&t.answerContent.length>0?t.answerContent[0]:{content:""})){i.answerConfig[n].checked=!0;break}i.answerConfig[n].checked=!1}else if(1==i.isImage&&i.name.startsWith("[PDFv2]"))if(3==i.answerType)(o=t.answerContent&&t.answerContent.length>0?t.answerContent[0].content:"")&&(i.essayText=o);else if(4==i.answerType)(o=t.answerContent&&t.answerContent.length>0?t.answerContent[0].content:"")&&(i.essayText=o);else for(n=0;n<i.answerConfig.length;n++){if(e.compareContent(i.answerConfig[n],t.answerContent&&t.answerContent.length>0?t.answerContent[0]:{content:""})){i.answerConfig[n].checked=!0;break}i.answerConfig[n].checked=!1}else if(3==i.answerType)(o=t.answerContent[0].content)&&(i.essayText=o);else if(4==i.answerType){var o;(o=t.answerContent[0].content)&&(i.essayText=o)}else for(n=0;n<i.answerConfig[0].answer.length;n++){if(e.compareContentPDF(i.answerConfig[0].answer[n],t.answerContent?t.answerContent[0]:{content:""})){i.answerConfig[0].answer[n].checked=!0;break}i.answerConfig[0].answer[n].checked=!1}i.status=!0}}),n.push(i)}),n}},{key:"reBindNote",value:function(){this.noteList.forEach(function(t){var e=t.noteContent[0].content;jQuery("#note_box_"+t.questionId).val(e),jQuery("#note_box_all_"+t.questionId).val(e)})}},{key:"approvedByName",value:function(t){var e=this;this.subscriptions.add(this.apiCommonService.setStudentForExam({fullName:t.nameEmit,examHashId:this.dataProcess.examObj.hashId,classroomId:t.classId?t.classId:""}).subscribe(function(t){1==t.success?(e.getData(),e.chooseChildData={isShow:!1}):e.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(function(n){e.commonService.snackError(n[t.message],n.lang_cms_common_ok)})}))}},{key:"openChooseStudent",value:function(t,e){1==e?(this.selectStudent=!1,this.selectClass=!0,this.chooseChildData={studentObjs:"",classObjs:t.classroomObjs,isPendingApproved:!1,isShow:!0},1==t.classroomObjs.length&&this.closeChooseStudent({classObj:t.classroomObjs[0],type:1,onlyOneClass:!0})):2==e?(this.selectClass=!1,this.selectStudent=!0,this.chooseChildData={studentObjs:t.studentObjs,classObj:t.classroomObj,onlyOneClass:t.onlyOneClass,isPendingApproved:!1,isShow:!0}):(this.selectClass=!1,this.selectStudent=!0,this.chooseChildData={studentObj:t,isPendingApproved:!0,isShow:!0})}},{key:"closeChooseStudent",value:function(t){var e=this;if(1==t.type){var n=this.dataProcess.studentObjs,i=[];n&&n.length>0&&(i=n.filter(function(e){return e.classroomId==t.classObj.id})),this.openChooseStudent({studentObjs:i,classroomObj:t.classObj,onlyOneClass:t.onlyOneClass},2)}else{var o=this.commonService.getUserObj();0==t.studentObj.isVerified||1==t.classObj.freeChooseName?this.apiCommonService.addStudentFromExam(this.dataProcess.examObj.hashId,t.classId,t.studentObj.id?t.studentObj.id:0).subscribe(function(t){1==t.success?(e.getData(),e.isAfterChooseStudent=!0,e.chooseChildData={isShow:!1}):(e.isAfterChooseStudent=!1,e.commonService.snackError("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u",""))}):o.id==t.studentObj.parentId?(this.getData(),this.chooseChildData={isShow:!1}):this.sendRequestData={studentObj:t.studentObj,classId:t.classId,isShow:!0}}}},{key:"confirmSendRequest",value:function(t){t?(this.sendRequestData={studentObj:"",classId:"",isShow:!1},this.commonService.snackSuccess("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi cho Gi\xe1o vi\xean!","")):(this.sendRequestData={studentObj:"",classId:"",isShow:!1},this.commonService.snackError("Ch\u01b0a th\u1ec3 g\u1eedi y\xeau c\u1ea7u! Vui l\xf2ng th\u1eed l\u1ea1i",""))}},{key:"closeRequestDialog",value:function(t){this.sendRequestData={studentObj:"",classId:"",isShow:!1}}},{key:"backToClassList",value:function(t){this.openChooseStudent(this.dataProcess,1)}},{key:"setTimeExam",value:function(){var t=this;if(this.exam_obj.minutes>0){var e=this.commonService.plusGlobalInterval("exam");this.intervalExamTimeout=setInterval(function(){try{if(e==t.commonService.getGlobalInterval("exam")){var n=Math.floor(t.totalTime/3600),i=Math.floor(t.totalTime%3600/60),o=t.totalTime%60;t.totalTime<=0?(0==t.sendingData&&(t.sendingData=!0,t.timeCount={hour:0,minute:0,second:0,almostEnd:!0},t.validForTakeTest=!1,t.takeAnswerForQuestion(t.answerList,t.questionList),t.setTimeAutoSubmit(e,"exam")),clearInterval(t.intervalExamTimeout)):t.timeCount=0==n&&0==i?{hour:n,minute:i,second:o,almostEnd:!0}:{hour:n,minute:i,second:o,almostEnd:!1},t.totalTime-=1}else clearInterval(t.intervalExamTimeout)}catch(a){console.log(a)}},1e3),this.commonService.pushIntervalObjs(this.intervalExamTimeout)}}},{key:"getTimeServer",value:function(){var t=this,e=this.commonService.plusGlobalInterval("examServerTime");this.intervalGetTimeServer=setInterval(function(){try{e==t.commonService.getGlobalInterval("examServerTime")?t.subscriptions.add(t.apiExamService.getTimeServer().subscribe(function(n){1==n.success&&(t.totalTime=t.startTestTime+60*t.exam_obj.minutes-n.data.curServerTime,Math.floor(t.totalTime/3600),Math.floor(t.totalTime%3600/60),t.totalTime<=0&&(0==t.sendingData&&(t.sendingData=!0,t.timeCount={hour:0,minute:0,second:0},t.validForTakeTest=!1,t.takeAnswerForQuestion(t.answerList,t.questionList),t.setTimeAutoSubmit(e,"examServerTime")),clearInterval(t.intervalGetTimeServer)))})):clearInterval(t.intervalGetTimeServer)}catch(n){console.log(n)}},1e3*this.randomIntFromInterval(200,300)),this.commonService.pushIntervalObjs(this.intervalGetTimeServer)}},{key:"randomIntFromInterval",value:function(t,e){return Math.floor(Math.random()*(e-t+1)+t)}},{key:"setTimeAutoSubmit",value:function(t,e){var n=this,i=this.totalTime+90,o=this.commonService.plusGlobalInterval("autoSubmitTimeCount");this.intervalAutoSubmit=setInterval(function(){try{if(o!=n.commonService.getGlobalInterval("autoSubmitTimeCount")||n.validForTakeTest)clearInterval(n.intervalAutoSubmit);else{var a=Math.floor(i/3600),s=Math.floor(i%3600/60),c=i%60;i<=0?(n.timeCount={hour:0,minute:0,second:0},o!=n.commonService.getGlobalInterval("autoSubmitTimeCount")&&t!=n.commonService.getGlobalInterval(e)||n.checkSubmit||n.submitTest(!0),clearInterval(n.intervalAutoSubmit)):n.timeCount={hour:a,minute:s,second:c},i-=1}}catch(r){console.log(r)}},1e3),this.commonService.pushIntervalObjs(this.intervalAutoSubmit)}},{key:"setTimeClient",value:function(){var t=this,e=this.commonService.plusGlobalInterval("getTimeClient");this.intervalTimeClient=setInterval(function(){try{e==t.commonService.getGlobalInterval("getTimeClient")?t.timeClient=Date.now():clearInterval(t.intervalTimeClient)}catch(n){console.log(n)}},1e3*this.randomIntFromInterval(60,70)),this.commonService.pushIntervalObjs(this.intervalTimeClient)}},{key:"setIntervalSyncData",value:function(){var t=this,e=this.commonService.plusGlobalInterval("exam_sync"),n=this.commonService.getSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id);this.intervalSync=setInterval(function(){if(e==t.commonService.getGlobalInterval("exam_sync")){var i=t.commonService.getSimpleStorage("saveDataV4_"+t.exam_obj.id+"_"+t.testingResultObj.id);n!=i&&(n=i,t.saveSyncData())}else clearInterval(t.intervalSync)},3e5),this.commonService.pushIntervalObjs(this.intervalSync)}},{key:"setNote",value:function(t,e,n,i){var o=this.noteList.filter(function(e){return e.questionId==t}),a={questionId:t,noteContent:[{index:n,content:e.target.value}]};if(o&&o.length>0)for(var s=0;s<this.noteList.length;s++)this.noteList[s].noteContent.push(a[0]);else this.noteList.push(a);1==i?jQuery("#note_box_"+t).val(e.target.value):jQuery("#note_box_all_"+t).val(e.target.value),this.saveToStorage(this.answerList,this.noteList,this.files)}},{key:"setAnswer",value:function(t){var e=this.answerList.filter(function(e){return e.questionId==t.id}),n=!0;if(null!=t.index&&1==t.type){var i={questionId:t.id,answerContent:[{index:t.index,content:t.isImage?t.event.content:t.event.key}]};if(e&&e.length>0)for(var o=0;o<this.answerList.length;o++)this.answerList[o].questionId==i.questionId&&this.answerList[o].answerContent.push(i.answerContent[0]);else this.answerList.push(i);this.changeStatusAnswer(i,t.index,!0,t.isImage,t)}else if(null!=t.index&&2==t.type){var a={questionId:t.id,answerContent:[{index:t.index,content:t.isImage?t.event.content:t.event.key}]};if(e&&e.length>0)for(o=0;o<this.answerList.length;o++)this.answerList[o].questionId==a.questionId&&(this.answerList[o].answerContent=a.answerContent);else this.answerList.push(a);this.changeStatusAnswer(a,t.index,!1,t.isImage,t)}else if(null!=t.index&&3==t.type)if(this.onTypingAnswer=!0,null!=t.event.target.value){var s={questionId:t.id,answerContent:[{index:t.index,content:t.event.target.value.trim()}]};if(e&&e.length>0){for(o=0;o<this.answerList.length;o++)if(this.answerList[o].questionId==s.questionId){for(var c=0;c<this.answerList[o].answerContent.length;c++)this.answerList[o].answerContent[c].index==s.answerContent[0].index&&(this.answerList[o].answerContent[c].content=s.answerContent[0].content);var r=this.answerList[o].answerContent.filter(function(t){return t.index==s.answerContent[0].index});r&&0==r.length&&this.answerList[o].answerContent.push(s.answerContent[0])}this.onTypingAnswer=!1}else this.answerList.push(s),this.onTypingAnswer=!1;if(""==t.event.target.value.trim()){n=!1;var l=this.answerList.filter(function(e){return e.questionId==t.id});if(l&&1==l.length){var u=this.answerList.indexOf(l[0]);this.answerList.splice(u,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else n=!1;n&&this.changeStatusQuestion(t.id)}},{key:"setResultTracking",value:function(e){this.resultTracks.push([].concat(t(e),[this.commonService.getCurrentSecond()])),this.commonService.getSizeOfStorage()>4.5&&this.commonService.removeExceptSimpleStorage(this.exam_obj.id,this.hashId),this.commonService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id,JSON.stringify(this.resultTracks))}},{key:"changeStatusQuestion",value:function(t){for(var e=0;e<this.questionList.length;e++)this.questionList[e].id==t&&(this.questionList[e].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}},{key:"changeStatusAnswer",value:function(t,e,n,i,o){var a=this;if(n)this.questionList.forEach(function(n){if(n.id==t.questionId)if(i)if(n.answerConfig[0].answer[e].checked){n.answerConfig[0].answer[e].checked=!1;for(var s=0;s<a.answerList.length;s++)a.answerList[s].questionId==t.questionId&&(a.answerList[s].answerContent=a.answerList[s].answerContent.filter(function(t){return t.index!=e}));a.isMobile&&a.commonService.snackChoiceAnswer("C\xe2u "+(n.index+1)+" - Ch\u1ecdn "+t.answerContent[0].content,"")}else n.answerConfig[0].answer[e].checked=!0,a.isMobile&&a.commonService.snackChoiceAnswer("C\xe2u "+(n.index+1)+" - Ch\u1ecdn "+t.answerContent[0].content,"");else if(n.answerConfig[e].checked){for(n.answerConfig[e].checked=!1,s=0;s<a.answerList.length;s++)a.answerList[s].questionId==t.questionId&&(a.answerList[s].answerContent=a.answerList[s].answerContent.filter(function(t){return t.index!=e}));a.isMobile&&a.commonService.snackChoiceAnswer("C\xe2u "+(n.index+1)+" - Ch\u1ecdn "+(o.event.alpha?o.event.alpha:o.event.key),"")}else n.answerConfig[e].checked=!0,a.isMobile&&a.commonService.snackChoiceAnswer("C\xe2u "+(n.index+1)+" - Ch\u1ecdn "+(o.event.alpha?o.event.alpha:o.event.key),"")});else try{this.questionList.forEach(function(n){if(n.id==t.questionId)if(i){if(n.answerConfig[0].answer&&n.answerConfig[0].answer.length>0){for(var s=0;s<n.answerConfig[0].answer.length;s++)n.answerConfig[0].answer[s].checked=!1;n.answerConfig[0].answer[e].checked=!0,a.isMobile&&a.commonService.snackChoiceAnswer("C\xe2u "+(n.index+1)+" - Ch\u1ecdn "+(o.event.alpha?o.event.alpha:o.event.key),"")}}else if(n.answerConfig&&n.answerConfig.length>0){for(s=0;s<n.answerConfig.length;s++)n.answerConfig[s].checked=!1;n.answerConfig[e].checked=!0,a.isMobile&&a.commonService.snackChoiceAnswer("C\xe2u "+(n.index+1)+" - Ch\u1ecdn "+(o.event.alpha?o.event.alpha:o.event.key),"")}})}catch(s){console.log(s)}}},{key:"saveToStorage",value:function(t,e,n){try{var i={autoSubmit:"",serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceInfo.device_id,deviceType:this.commonService.deviceType()},o=this.commonService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),a={answers:t,notes:e,files:JSON.stringify(n),infors:o,trackInfos:JSON.stringify(i),saveTime:(new Date).getTime()};this.commonService.getSizeOfStorage()>4.5&&this.commonService.removeExceptSimpleStorage(this.exam_obj.id,this.hashId),this.commonService.saveSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(a))}catch(s){}}},{key:"checkFullScreen",value:function(){switch(this.browserName){case"chrome":return document.fullscreenElement;case"edge":case"opera":return this.customDocument.webkitFullscreenElement;case"firefox":return document.fullscreenElement;case"safari":case"trident":default:return this.customDocument.webkitFullscreenElement}}},{key:"handleFullscreenEvent",value:function(t){var e=this;if(!this.isMobile&&!this.onShowUpload&&this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.startedTimeSecond>0&&!this.onTypingAnswer)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var n={examId:this.exam_obj.id,name:"exit_full_screen",examResultId:this.testingResultObj.id};this.acceptSendTrack=!1,this.subscriptions.add(this.apiExamService.sendMonitorAction(n).subscribe(function(t){1==t.success?(e.commonService.snackWarning("B\u1ea1n \u0111ang b\u1ecb gi\xe1m s\xe1t. H\xe3y tr\u1edf l\u1ea1i ch\u1ebf \u0111\u1ed9 to\xe0n m\xe0n h\xecnh!",""),e.acceptSendTrack=!0):setTimeout(function(){e.acceptSendTrack||(e.acceptSendTrack=!0)},1e3)}))}}},{key:"detectBrowserName",value:function(){var t=window.navigator.userAgent.toLowerCase();switch(!0){case t.indexOf("edge")>-1:return"edge";case t.indexOf("opr")>-1&&!!window.opr:return"opera";case t.indexOf("chrome")>-1&&!!window.chrome:return"chrome";case t.indexOf("trident")>-1:return"ie";case t.indexOf("firefox")>-1:return"firefox";case t.indexOf("safari")>-1:return"safari";default:return"other"}}},{key:"clickFromIframe",value:function(){this.clickedFromIframe||(this.clickedFromIframe=!0)}},{key:"goBackFullScreen",value:function(){var t=document.documentElement,e=t.requestFullscreen||t.webkitRequestFullScreen||t.mozRequestFullscreen||t.msRequestFullscreen;e&&e.call(t)}},{key:"exitFullscreen",value:function(){var t=document;if(window.innerHeight==screen.height){var e=t.exitFullscreen||t.webkitExitFullscreen||t.msExitFullscreen;e&&e.call(t)}}},{key:"removeNullContent",value:function(t){var e=[];return t.forEach(function(t){t.questionContent&&t.questionContent.length>0&&e.push(t)}),e}},{key:"createFakeArray",value:function(t){return new Array(t)}},{key:"removeImg",value:function(t){var e=this,n=this.files.filter(function(e){return e.url!==t});this.files=n,this.updateFileUploadMobile().then(function(){e.commonService.snackSuccess("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng \u0111\xednh k\xe8m file t\u1ef1 lu\u1eadn","OK")})}},{key:"updateFileUploadMobile",value:function(){var t=this;return new Promise(function(e){t.apiCommonService.UpdateImageToTmp({hashCode:t.hashIdUpdate,files:JSON.stringify(t.files)}).subscribe(function(t){1==t.success&&e(!0)})})}},{key:"calcRight",value:function(){var t,e=0,n=window.outerWidth,i=null===(t=document.getElementById("container-content"))||void 0===t?void 0:t.offsetWidth;return i&&(e=(n-i)/2),e}},{key:"checkWitdh",value:function(){this.isMobile=window.innerWidth<1200}},{key:"onResize",value:function(t){this.isMobile=t.target.innerWidth<1200,this.calcRight()}},{key:"resizeImg",value:function(t,e,n){var i=document.getElementById("media_content_"+t),o=null==i?void 0:i.offsetWidth;return i?o/e<=1?Math.round(n*(o/e)):Math.round(n):0}},{key:"resizeImgAll",value:function(t,e,n){var i=document.getElementById("media_content_all_"+t),o=null==i?void 0:i.offsetWidth;return i?o/e<=1?Math.round(n*(o/e)):Math.round(n):0}},{key:"mathRoundNumber",value:function(t){return Math.round(t)}},{key:"returnFalse",value:function(){return!1}},{key:"compareString",value:function(t,e){return JSON.stringify(t)==JSON.stringify(e)}},{key:"autoResize",value:function(t,e){if(1==e){var n=document.getElementById("note_box_"+t);setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px",n.style.maxHeight="350px"},0)}else n=document.getElementById("note_box_all_"+t),setTimeout(function(){n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px",n.style.maxHeight="350px"},0)}},{key:"autoResizeEssayAnswer",value:function(t){if(1==t.type){var e=document.getElementById("answer-1-unit-"+t.id);setTimeout(function(){e.style.cssText="height:auto;",e.style.cssText="height:"+(e.scrollHeight+30)+"px"},0)}else 2==t.type?(e=document.getElementById("answer-0-unit-"+t.id),setTimeout(function(){e.style.cssText="height:auto;",e.style.cssText="height:"+(e.scrollHeight+30)+"px"},0)):3==t.type?(e=document.getElementById("answer-1-all-"+t.id),setTimeout(function(){e.style.cssText="height:auto;",e.style.cssText="height:"+(e.scrollHeight+30)+"px"},0)):(e=document.getElementById("answer-0-all-"+t.id),setTimeout(function(){e.style.cssText="height:"+(e.scrollHeight-50)+"px",e.style.cssText="height:"+(e.scrollHeight+30)+"px"},0))}},{key:"checkEssay",value:function(){var t=this.questionList.filter(function(t){return 3==t.answerType});return!!(t&&t.length>0)&&(this.checkEssayPopup&&this.openEssayDialog(),!0)}},{key:"isEmpty",value:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}},{key:"routerBackSelectStudent",value:function(){this.commonService.myNavigation("/de-thi/"+this.hashId)}},{key:"redirectToHomepage",value:function(t){this.quitTestData={id:0,time:0,isShow:!1},t&&this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backtoLink))}},{key:"goToBuyExam",value:function(){this.commonService.myNavigation("/de-thi/"+this.exam_obj.hashId)}},{key:"openSubmitName",value:function(t,e,n,i){this.submitNameData=!t&&e&&n?{needPassword:n,isShow:!0,examId:this.exam_obj.id,hashId:e,errorMessage:i||""}:{notAnonymous:t,isShow:!0}}},{key:"closeSubmitName",value:function(t){t&&(this.getData(),this.submitNameData={isShow:!1})}},{key:"openShowInfo",value:function(t){this.showFormInfo={infoFields:t,examId:this.exam_obj.id,hashId:this.exam_obj.hashId,isShow:!0}}},{key:"closeShowInfo",value:function(t){t.success&&(this.status_obj={loading:!0,error:!1,errorMessage:{message:""}},this.tempStorageInfo=t.info,this.hasErrorMessage="",this.getData(),this.showFormInfo={infoFields:"",isShow:!1})}},{key:"openAutoMonitor",value:function(){this.dataMonitorAuto={isShow:!0}}},{key:"closeAutoMonitor",value:function(t){if(t){this.dataMonitorAuto={isShow:!1};var e=document.documentElement,n=e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullscreen||e.msRequestFullscreen;if(n&&n.call(e),this.startedTimeSecond=Math.floor(Date.now()/1e3),this.exam_obj.autoMonitor&&3==this.exam_obj.autoMonitor){if(this.isAfterChooseStudent){var i=this.apiCommonService.getUserObj(),o=this.userObj,a={};a[o.id]=i.id.toString()+"_"+this.commonService.createMd5(o.id.toString()+i.id.toString()).substring(6,9),this.fireStoreService.examSessions_writeUserMap(this.exam_obj.hashId,a).subscribe(function(t){console.log("writeFirestore - success"+JSON.stringify(t))})}this.openVideoMonitor()}}}},{key:"openEssayDialog",value:function(){this.dataEssayPopup={isShow:!0}}},{key:"closeEssayDialog",value:function(t){t&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1)}},{key:"openQuitDialog",value:function(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}},{key:"closeQuitDialog",value:function(){this.quitTestData={id:0,time:0,isShow:!1}}},{key:"openSubmitExam",value:function(t,e,n){this.quitTestData.isShow||(this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:e,saveFalse:n}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:e,saveFalse:n})}},{key:"closeSubmitDialog",value:function(){this.submitData={id:0,time:0,isShow:!1}}},{key:"confirmSubmit",value:function(t){t.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),t.isConfirm&&!this.checkSubmit&&this.submitTest(t.isAutoSubmit)}},{key:"endTimeBackBtn",value:function(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backtoLink))}},{key:"endTimeSubmitBtn",value:function(){this.submitTest(!0)}},{key:"openUploadImage",value:function(){var t=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.checkMobile(),isShow:!0}:{id:this.exam_obj.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.checkMobile(),isShow:!0},t&&(t.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1)}},{key:"conFirmUpload",value:function(t){var e=document.getElementById("monitorScreenTakeTest");t.isConfirm?(this.files=t.uploadFiles,window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.saveToStorage(this.answerList,this.noteList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.onShowUpload=!1),e&&(e.style.display="block")}},{key:"sendTrackLog",value:function(t,e,n){this.apiCommonService.getUserObj(),window}},{key:"onSelectFileEmit",value:function(t){this.onShowUpload=t}},{key:"onFileClose",value:function(){this.isShowPreviewFile=!1,this.previewFile={}}},{key:"onShowFile",value:function(t){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},t.file),{index:t.index})}},{key:"changesPosImg",value:function(t){var e=this;t&&(this.files=t.answerFiles,this.updateFileUploadMobile().then(function(){e.commonService.snackSuccess("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng \u0111\xednh k\xe8m file t\u1ef1 lu\u1eadn","OK")}))}},{key:"sendHashIdUpdate",value:function(t){var e=this;t&&(this.apiCommonService.getTmpObj(t).subscribe(function(t){if(1==t.success&&e.commonService.isJson(t.data.tmpObj.files)){var n=JSON.parse(t.data.tmpObj.files);n.isNotNoti=!0,e.addFileMobileUpload({files:n})}}),this.commonService.gaEvent("FrontExam_GetTmpExamObj"))}},{key:"addFileMobileUpload",value:function(t){this.files=t.files,this.uploadImageData={id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.checkMobile(),isShow:!!t.keepOpen}}},{key:"saveSyncData",value:function(){var t=this,e=this.commonService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),n={autoSubmit:"",serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceInfo.device_id,deviceType:this.commonService.deviceType()},i={answers:this.answerList,notes:this.noteList,files:JSON.stringify(this.files),infors:e,trackInfos:JSON.stringify(n),saveTime:(new Date).getTime()};this.subscriptions.add(this.apiExamService.saveSyncDataTest(this.exam_obj.hashId,i).subscribe(function(e){1!=e.success&&t.commonService.snackError("K\u1ebft n\u1ed1i c\u1ee7a b\u1ea1n \u0111ang b\u1ecb gi\xe1n \u0111o\u1ea1n. H\xe3y ki\u1ec3m tra l\u1ea1i \u0111\u01b0\u1eddng truy\u1ec1n!","")})),this.commonService.gaEvent("FrontExamResultSync_SaveObj")}},{key:"submitTest",value:function(t){var e=this;this.status_obj={loading:!0,error:!1};var n=this.commonService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),i=this.commonService.myClone(this.resultTracks);i=this.appendTrackScrollLogs(i,this.resultScrollLog);var o={type:"exam",id:this.exam_obj.id,user:this.exam_obj.tenantId},a={autoSubmit:t,serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceInfo.device_id,deviceType:this.commonService.deviceType()};this.checkSubmit=!0,this.subscriptions.add(this.apiExamService.submitFrontExamResult(o,this.hashId,this.startedTest,this.answerList,null==this.noteList?[]:this.noteList,JSON.stringify(this.files),n,JSON.stringify(a),this.commonService.convertContentGzip(JSON.stringify(i))).subscribe(function(n){if(1==n.success){e.commonService.removeSimpleStorage("saveResultTrack_"+e.exam_obj.hashId+"_"+e.testingResultObj.id),e.commonService.removeSimpleStorage("saveScrollTrack_"+e.exam_obj.hashId+"_"+e.testingResultObj.id),e.commonService.removeSimpleStorage("saveDataV4_"+e.exam_obj.id+"_"+e.testingResultObj.id),e.commonService.removeSimpleStorage("limitAudioV5_"+e.exam_obj.id+"_"+e.testingResultObj.id),e.commonService.removeSimpleStorage("userInfoV3_"+e.exam_obj.hashId),e.commonService.removeSimpleStorage("passWord_"+e.exam_obj.hashId),e.commonService.saveSimpleSessionStorageWithExpired("test_result_"+e.exam_obj.hashId+"_"+n.data.id,n.data);try{e.localStorageObjetct.clearAllCache(),e.exitFullscreen(),aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession()}catch(i){}e.clearAllInterval(),e.status_obj={loading:!1,error:!1,errorMessage:{message:""}},e.commonService.myNavigationWithQueryString("/test/submit-test/"+e.tenantId+"/"+e.cur_cateId+"/"+e.hashId+"/"+n.data.id,"?backto="+encodeURIComponent(e.backtoLink))}else e.status_obj={loading:!1,error:!1,errorMessage:{message:""}},e.commonService.myTranslate([n.message,"lang_cms_common_ok"]).subscribe(function(t){e.commonService.snackError(t[n.message],t.lang_cms_common_ok)}),t&&(e.uploadImageData.isShow=!1,e.checkTimeOutExam=!0,e.openSubmitExam(!0,t,!0)),e.submitData.messageError=n.message,setTimeout(function(){e.checkSubmit=!1},5e3)})),this.commonService.gaEvent("FrontExam_SaveObj")}},{key:"clearAllInterval",value:function(){for(var t=this.commonService.getIntervalObjs(),e=0;e<t.length;e++)clearInterval(t[e]);this.commonService.emptyIntervalObjs()}},{key:"changeShowType",value:function(t){1==t?(this.showUnit=!1,this.showList=!0):(this.showUnit=!0,this.showList=!1)}},{key:"showSheet",value:function(t,e){t?this.changeShowType(1==e?1:2):this.isShowSheet=!this.isShowSheet}},{key:"askBeforeCloseWindow",value:function(t){return this.duplicateActive&&this.duplicateActive.destroyActive(),t.returnValue="B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n tho\xe1t b\xe0i l\xe0m?"}},{key:"toggleNoteBox",value:function(t){jQuery("#note_box_"+t).hasClass("d-block")?jQuery("#note_box_"+t).removeClass("d-block"):jQuery("#note_box_"+t).addClass("d-block")}},{key:"toggleNoteBoxAll",value:function(t){jQuery("#note_box_all_"+t).hasClass("d-block")?jQuery("#note_box_all_"+t).removeClass("d-block"):jQuery("#note_box_all_"+t).addClass("d-block")}},{key:"prevQuestion",value:function(t){var e=jQuery("#question_"+String(t)),n=jQuery("#question_"+String(t-1));void 0!==n.attr("hidden")&&!1!==n.attr("hidden")&&(e.attr("hidden",!0),n.removeAttr("hidden"),this.curQuestion=0==t?0:t-1)}},{key:"nextQuestion",value:function(t){var e=jQuery("#question_"+String(t)),n=jQuery("#question_"+String(t+1));void 0!==n.attr("hidden")&&!1!==n.attr("hidden")&&(e.attr("hidden",!0),n.removeAttr("hidden"),this.curQuestion=t==this.questionList.length-1?t:t+1)}},{key:"goToQuestion",value:function(t){var e=jQuery("#question_"+String(this.curQuestion)),n=jQuery("#question_"+String(t));void 0!==n.attr("hidden")&&!1!==n.attr("hidden")&&(e.attr("hidden",!0),n.removeAttr("hidden"),this.curQuestion=t)}},{key:"goToQuestionAll",value:function(t){var e=document.getElementById("question_all_"+t),n=document.getElementById("question_ui");this.files&&this.files.length>0?window.scrollTo({top:Number(null==e?void 0:e.offsetTop)+Number(null==n?void 0:n.offsetTop)-5}):window.scrollTo({top:Number(null==e?void 0:e.offsetTop)-5})}},{key:"checkResultTracking",value:function(){var t=this.commonService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id);t&&(this.resultTracks=this.commonService.parseJson(t))}},{key:"checkScrollTracking",value:function(){var t=this.commonService.getSimpleStorage("saveScrollTrack_"+this.hashId+"_"+this.testingResultObj.id);t&&(this.resultScrollLog=this.commonService.parseJson(t))}},{key:"openVideoMonitor",value:function(){var t=this,e=this.apiCommonService.getUserObj(),n=this.userObj;this.fireStoreService.getInitApp(),aztExam&&(aztExam.ver=this.commonService.getMNoteVer(),aztExam.loadMonitor(function(){if(aztExam.MonitorStudent){var i={user:{token:e.rememberToken,userid:e.id,username:e.fullName,studentid:n?n.id:0,studentname:n?n.fullName:null},config:{domainApi:ut.a.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:t.hashId,element:"monitorScreenTakeTest",examconfig:t.exam_obj,examid:t.exam_obj.id,firebaseApp:t.fireStoreService,resultid:t.testingResultObj.id,isStarted:!0,clickFromIframeFunc:t.clickFromIframe,clickFromIframeFuncCaller:t};aztExam.MonitorStudent.getInstance().startSession(i)}}))}},{key:"saveFileDataExam",value:function(){var t=this.commonService.getCurrentSecond(),e=this.commonService.toDateTime(t),n={userId:this.commonService.getUserObj().id,examId:this.exam_obj.id,examResultId:this.testingResultObj.id,answerObjs:JSON.stringify(this.answerList),fileObjs:JSON.stringify(this.files),createdAt:e,note:"no info"},i=this.commonService.cryptoJsEncrypt("",JSON.stringify(n)),o=this.commonService.createMd5(i),a="".concat(n.userId,"_").concat(n.examResultId,"_").concat(n.examId,"_aztExam.png"),s=new Blob([o],{type:"text/plain;charset=utf-8"});Object(it.saveAs)(s,a)}},{key:"ngOnInit",value:function(){var t=this;jQuery("#azota-app-html").addClass("azotaHtml"),this.form=this.fb.group({searchContent:new u.h("",u.z.required)}),this.checkWitdh(),this.browserName=this.detectBrowserName(),this.viewPort=this.getViewport(),this.checkIphone6(this.viewPort),Object(P.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(n){e(n);var i,o=Number(t.commonService.getMyParam(t.activeRoute,"cate_id")),a=null===(i=t.commonService.getMyParam(t.activeRoute,"hash_id"))||void 0===i?void 0:i.toString(),s=Number(t.commonService.getMyParam(t.activeRoute,"tenant_id"));t.backtoLink=t.commonService.getMyQueryParam("backto"),t.cur_cateId=o,t.hashId=a||"",t.tenantId=s,t.homeLink="/student/dashboard/0",t.status_obj={loading:!0,error:!1,errorMessage:{message:""}},t.dataCheckTookExam={isShow:!1,hashId:t.hashId},t.getData(),t.isMobile&&(t.userAgent=navigator.userAgent),t.back_link=""})}},{key:"ngAfterViewChecked",value:function(){this.reBindNote(),this.cdr.detectChanges()}},{key:"ngOnDestroy",value:function(){this.mixService.cancelSubscription(),jQuery("#azota-app-html").removeClass("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient);for(var t=this.commonService.getIntervalObjs(),e=0;e<t.length;e++)clearInterval(t[e]);this.commonService.emptyIntervalObjs(),aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),this.subscriptions.unsubscribe()}},{key:"getViewport",value:function(){if(window.visualViewport&&/Android/.test(navigator.userAgent))return{left:visualViewport.pageLeft,top:visualViewport.pageTop,width:visualViewport.width,height:visualViewport.height};var t={left:window.pageXOffset,top:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};return/iPod|iPhone|iPad/.test(navigator.platform)&&this.isInput(document.activeElement)?{left:t.left,top:t.top,width:t.width,height:t.height*(t.height>t.width?.66:.45)}:t}},{key:"isInput",value:function(t){var e=t&&t.tagName&&t.tagName.toLowerCase();return"input"==e&&"button"!=t.type&&"radio"!=t.type&&"checkbox"!=t.type||"textarea"==e}},{key:"checkIphone6",value:function(t){this.isIphone6=549==t.height&&375==t.width}},{key:"loadMixedExamProgress",get:function(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}}]),n}()).\u0275fac=function(t){return new(t||cs)(_.Pb(u.g),_.Pb(d.a),_.Pb(d.i),_.Pb(y.a),_.Pb(x.e),_.Pb(O.a),_.Pb(ht.a),_.Pb(qt.a),_.Pb(Qt.a),_.Pb(Nt.a),_.Pb(Bt.a),_.Pb(_.h))},cs.\u0275cmp=_.Jb({type:cs,selectors:[["app-student-list"]],viewQuery:function(t,e){var n;1&t&&(_.Yc(Ro,!0),_.Yc(Fo,!0,zt)),2&t&&(_.yc(n=_.dc())&&(e.duplicateActive=n.first),_.yc(n=_.dc())&&(e.modalSaveImageUpload=n.first))},hostBindings:function(t,e){1&t&&_.cc("scroll",function(t){return e.onScroll(t)},!1,_.Cc)("beforeunload",function(t){return e.askBeforeCloseWindow(t)},!1,_.Cc)},decls:10,vars:9,consts:[[3,"data"],["elementDuplicateActive",""],[3,"resize","contextmenu"],["id","container-content",1,"container-fluid","MW-1400","pb-5",2,"position","relative",3,"ngClass","resize"],[4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],[3,"data","closeEssayDialog",4,"ngIf"],["doneLoading",""],[3,"data","closeDialog"],[3,"data","closeEssayDialog"],[3,"fileOption","closePreview",4,"ngIf"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"customText",4,"ngIf","ngIfElse"],["class","p-5 m-5 text-center alert alert-danger",4,"ngIf"],[3,"fileOption","closePreview"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],["style","padding-bottom: 50px;",4,"ngIf","ngIfElse"],["NormalContent",""],[1,"time-client",3,"ngClass"],[1,"mb-0","text-center"],["matTooltip","\u0110\xe2y l\xe0 th\u1eddi gian hi\u1ec7n t\u1ea1i tr\xean thi\u1ebft b\u1ecb c\u1ee7a b\u1ea1n!",2,"vertical-align","middle","font-weight","450","color","grey"],[2,"padding-bottom","50px"],[1,"text-center","margin_question_bar","ml-3","mr-3","mb-3","pb-4"],[1,"text-center"],[1,"h4",2,"color","#111"],[1,"h5"],[1,"d-flex","justify-content-center"],[1,"h5","mr-3"],[2,"vertical-align","bottom"],["class","h5",4,"ngIf"],[2,"color","#111","font-size","14px","font-weight","450","margin-top","10px"],["class","p-3 m-2 text-center alert alert-warning",4,"ngIf"],["class","p-3 m-3 alert alert-danger",4,"ngIf"],[1,"text-center","mt-2"],[1,"btn","btn-light","mr-4",2,"color","#111","font-size","14px",3,"click"],[1,"btn","btn-warning",2,"color","white","font-size","14px",3,"click"],[1,"text-center","mt-3"],["class","mt-1 ml-3 mr-3",4,"ngIf"],[1,"p-3","m-2","text-center","alert","alert-warning"],[1,"ng-binding"],[1,"p-3","m-3","alert","alert-danger"],[1,"mt-1","ml-3","mr-3"],["label","Tr\u1eafc nghi\u1ec7m"],["class","mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mb-3","mt-2"],[1,"question-content"],[1,"box-slide-show","pt-2"],["class","image_group mb-3",3,"hidden",4,"ngIf"],["class","game-bar text-center pt-2",4,"ngIf"],["class","game-bar pt-2",4,"ngIf"],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content",4,"ngIf"],[1,"image_group","mb-3",3,"hidden"],[3,"imgSrc"],[1,"game-bar","text-center","pt-2"],[3,"imgSrc",4,"ngIf"],["alt","question media",1,"img-fluid","img_respon",3,"src"],[1,"game-bar","pt-2"],[2,"font-weight","450","font-size","24px","text-align","left"],[1,"contentDocx","text-justify"],[2,"font-size","21px","align-self","center","vertical-align","middle","line-height","1.4",3,"innerHtml"],[1,"row","mt-1","justify-content-around"],["class","col-sm-6 col-md-6 d-flex",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","d-flex"],[2,"vertical-align","middle","font-size","22px","font-weight","500","align-self","center"],[1,"answer-content"],[1,"h5","mb-0","mr-2","text-white",2,"align-self","center"],["class","answer-review","style","background-color: rgba(243, 156, 18, 1);color: rgb(255, 255, 255);",4,"ngIf"],[4,"ngIf"],[1,"answer-review",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"color","#cd1324","font-weight","450"],[1,"row",2,"width","80%",3,"ngClass"],[1,"col-sm-12","mb-1"],["class","form-control mt-1","readonly","",3,"id","focus",4,"ngIf"],["readonly","",1,"form-control","mt-1",3,"id","focus"],[3,"label"],["class","text-center mt-1 mb-1",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","previewFile","removeFile"],[1,"text-center","mt-1","mb-1"],[1,"h6","mb-1","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],[3,"data","closeDialog","redirectToHomepage","saveFileData",4,"ngIf"],["class","row pl-0 pr-0 top_toolBar pt-2",3,"ngClass",4,"ngIf"],[3,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],[3,"data","closeDialog","redirectToHomepage","saveFileData"],[1,"row","pl-0","pr-0","top_toolBar","pt-2",3,"ngClass"],[1,"col-12","col-md-3","col-lg-3","mb-1"],["class","row",4,"ngIf"],["class","row clickable",3,"click",4,"ngIf"],["class","col-12 col-md-4 col-lg-4 mb-1 text-center align-self-center",4,"ngIf"],["class","col-12 col-md-5 col-lg-5 mb-1",4,"ngIf"],[1,"row"],[2,"padding","6px 0px 5px 15px"],[2,"font-size","25px","color","rgba(0, 167, 208, 1)"],["style","padding: 10px;",3,"ngClass",4,"ngIf"],["style","padding: 10px;",4,"ngIf"],[2,"padding","10px",3,"ngClass"],[2,"padding","10px"],[1,"row","clickable",3,"click"],[2,"color","rgba(0, 167, 208, 1)"],[2,"align-self","center","margin-bottom","2px"],[2,"color","#347da5"],[1,"col-12","col-md-4","col-lg-4","mb-1","text-center","align-self-center"],["style","vertical-align: middle; margin:auto;",4,"ngIf"],[2,"vertical-align","middle","margin","auto"],[1,"col-12","col-md-5","col-lg-5","mb-1"],[1,"d-flex","justify-content-end","toolBar"],["class","btn btn-info mr-2","style","font-size: 14px;",3,"click",4,"ngIf"],[1,"mr-3","d-flex"],["matTooltip","Xem t\u1ea5t c\u1ea3 c\xe2u h\u1ecfi",1,"mb-auto","mt-auto","clickable",3,"click"],[2,"vertical-align","middle"],["matTooltip","Xem t\u1eebng c\xe2u \u0111\u01a1n",1,"ml-1","mb-auto","mt-auto","clickable",3,"click"],[1,"btn","btn-light","mr-2",2,"font-size","14px",3,"click"],[1,"btn","btn-info","mr-2",2,"font-size","14px",3,"click"],[3,"dataClass","isSearchTeacher","isMobile","selectClassroom"],[3,"data","showAddStudent","isSearchTeacher","back_link","isMobile","selectChild","approvedByName","backToClass"],[3,"data","confirmSend","closeDialog",4,"ngIf"],[3,"data","confirmSend","closeDialog"],["class","margin_question_bar pb-4",4,"ngIf"],[1,"margin_question_bar","pb-4"],[1,"alert","alert-danger"],[3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],[3,"routerLink"],[3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","previewFile","removeFile"],["id","monitorScreenTakeTest",1,"align-self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"hasErrorMessage","hasEssayQuestion","exam_obj","firstInGroupIndexes","timeCount","questionList","homeLink","files","showUnit","isMobile","showList","unLimitTime","isShowSheet","countQuestion","setAnswerEmitter","setResultTracking","removeImgEmitter","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","autoResizeEssayAnswerEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmitToParent",4,"ngIf"],[3,"hasErrorMessage","hasEssayQuestion","exam_obj","firstInGroupIndexes","timeCount","questionList","homeLink","files","showUnit","isMobile","showList","unLimitTime","isShowSheet","countQuestion","setAnswerEmitter","setResultTracking","removeImgEmitter","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","autoResizeEssayAnswerEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmitToParent"],["class","box-show-sheet",3,"hidden",4,"ngIf"],[1,"box-show-sheet",3,"hidden"],[1,"show-sheet"],[1,"sheet_content","text-center","mt-3"],[1,"h5","mb-0","disable-select"],[1,"listda",2,"padding-left","5px","margin-top","15px"],["class","listli","style","margin-bottom: 5px;",3,"click",4,"ngFor","ngForOf"],[1,"listli",2,"margin-bottom","5px",3,"click"],["class","no-answered","style","background: #fff; color: #111;",4,"ngIf"],["class","no-answered","style","\n                                  background-color: rgba(60, 141, 188, 1);\n                                  color: rgb(255, 255, 255);\n                                ",4,"ngIf"],[1,"no-answered",2,"background","#fff","color","#111"],[1,"no-answered",2,"background-color","rgba(60, 141, 188, 1)","color","rgb(255, 255, 255)"],[1,"top_action"],[1,"row","justify-content-between","ml-0","mr-0"],[1,"col-2","align-self-center"],[1,"clickable",2,"color","#fff",3,"click"],["class","col-6 text-center align-self-center pl-0 pr-0",4,"ngIf"],[1,"col-4","pl-0","pr-1","text-right","align-self-center",3,"ngClass"],[2,"vertical-align","top","line-height","1.8"],[1,"bottom_action"],[1,"collapse",3,"hidden"],[1,"card","card-body","mb-2",2,"padding","5px 0px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-1"],[1,"listda","mt-1","pl-1"],["class","listli mb-1",3,"click",4,"ngFor","ngForOf"],[1,"row","justify-content-between","clickable",3,"click"],[1,"col-3","d-flex","pr-1","menu-control"],["matTooltip","Xem t\u1ea5t c\u1ea3 c\xe2u h\u1ecfi",1,"mb-auto","mt-auto","mr-1","clickable",3,"click"],[2,"vertical-align","middle","color","#fff"],["matTooltip","Xem t\u1eebng c\xe2u \u0111\u01a1n",1,"ml-2","mb-auto","mt-auto","clickable",3,"click"],[1,"col-5","pl-0","pr-0","text-center","align-self-center"],[1,"mb-0","clickable"],["style","vertical-align: middle; color: #fff;",4,"ngIf"],["class","col-4 text-right pl-0 align-self-center",3,"ngClass",4,"ngIf"],["class","col-6 text-center pl-0 pr-1 align-self-center",4,"ngIf"],[1,"col-6","text-center","align-self-center","pl-0","pr-0"],[1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],[1,"listli","mb-1",3,"click"],["class","no-answered","style","\n                                    background-color: rgba(60, 141, 188, 1);\n                                    color: rgb(255, 255, 255);\n                                  ",4,"ngIf"],[1,"col-4","text-right","pl-0","align-self-center",3,"ngClass"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","16px","font-size","20px","font-weight","500","margin-right","5px"],[1,"ng-binding","responsive-title"],[1,"col-6","text-center","pl-0","pr-1","align-self-center"],[1,"text-white","clickable",2,"vertical-align","middle","font-size","20px","font-weight","500","margin-right","2px"],[1,"ng-binding",2,"font-size","12px"],[3,"customText"],[1,"p-5","m-5","text-center","alert","alert-danger"]],template:function(t,e){if(1&t&&(_.Qb(0,"azt-duplicate-active",0,1),_.Vb(2,"div",2),_.cc("resize",function(t){return e.handleFullscreenEvent(t)},!1,_.Cc)("contextmenu",function(){return e.returnFalse()}),_.Vb(3,"div",3),_.cc("resize",function(t){return e.onResize(t)},!1,_.Cc),_.Pc(4,Ao,1,0,"azt-loading-effect",4),_.Pc(5,Lo,1,1,"app-submit-info",5),_.Pc(6,zo,1,1,"app-monitor-screen",5),_.Pc(7,qo,1,1,"app-check-essay",6),_.Pc(8,ss,6,5,"ng-template",null,7,_.Qc),_.Ub(),_.Ub()),2&t){var n=_.zc(9);_.nc("data",e.exam_obj.autoMonitor),_.Db(3),_.nc("ngClass",_.sc(7,rs,e.isMobile)),_.Db(1),_.nc("ngIf",e.status_obj.loading)("ngIfElse",n),_.Db(1),_.nc("ngIf",e.showFormInfo.isShow&&e.validForTakeTest),_.Db(1),_.nc("ngIf",e.dataMonitorAuto.isShow&&e.validForTakeTest),_.Db(1),_.nc("ngIf",e.dataEssayPopup.isShow&&e.validForTakeTest)}},directives:[Ht,l.k,l.m,U.a,be,pe,ye,ke.a,zt,vt.a,V.a,V.b,M.a,Se.b,Se.a,l.l,Ie.a,Me,Ne,ln,Sn,In.a,Dn.a,Pn.a,d.k,Eo],pipes:[l.e,wt.o,wt.q,x.d],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.box-slide-show[_ngcontent-%COMP%]{background:inherit;background-color:#fff;border-radius:3px 3px 0 0;padding-bottom:20px;padding-right:15px;padding-left:15px;border:1px solid #e7e7e7;border-bottom:none}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:10px;right:0;width:100%;background-color:#fff;z-index:3}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.col-game-bar[_ngcontent-%COMP%]{position:fixed;top:calc(2rem + 30px);right:calc(100vw - 90vw);max-width:180px}.sheet-Screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-Screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-show-sheet[_ngcontent-%COMP%]{margin-top:14px!important;width:75%;margin:auto;background:inherit;background-color:#fff;border:1px solid #e7e7e7;border-radius:5px}.disable-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.question-content[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{right:10px}.next_question_btn[_ngcontent-%COMP%], .prev_question_btn[_ngcontent-%COMP%]{position:absolute;top:35%;padding:.35rem .45rem;background-color:rgba(163,165,166,.4392156862745098);border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{left:10px}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important}.arrow_btn[_ngcontent-%COMP%], .button-note[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.button-note[_ngcontent-%COMP%]{position:relative;display:flex}.list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s ease 0s 1 both}.list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.note-box[_ngcontent-%COMP%]{display:none;background-color:#f7f3cf;margin-bottom:5px;min-height:30px}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{background:#00a7d0;border-radius:0 0 3px 3px;color:#fff;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:5px;right:5px}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:timeCount 1s}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid #347da5;display:flex;color:#fff;-webkit-user-select:none;user-select:none}.answer-review[_ngcontent-%COMP%], .time-client[_ngcontent-%COMP%]{align-items:center;justify-content:center;font-size:15px}.time-client[_ngcontent-%COMP%]{border-radius:5px;background-color:hsla(0,0%,100%,.3411764705882353);padding:2px 3px;max-width:200px;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:10px;left:75px}.time-client-mobile[_ngcontent-%COMP%]{bottom:54px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}@keyframes timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width:1200px){.menu-control[_ngcontent-%COMP%]{padding-left:40px}#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width:768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]}),cs),us=o("uZ1F");function bs(t,e){if(1&t&&_.Qb(0,"header-frontend",4),2&t){var n=_.gc();_.nc("headerTitle","Danh s\xe1ch \u0111\u1ec1 thi")("back_link",n.back_link)}}function ds(t,e){1&t&&_.Qb(0,"azt-loading-effect")}var ms=function(t,e){return{active:t,"text-primary":e}},hs=function(t){return{clickable:t}},gs=function(t){return{"truncate-bread":t}};function fs(t,e){if(1&t){var n=_.Wb();_.Vb(0,"li",17),_.Vb(1,"a",18),_.cc("click",function(){_.Dc(n);var t=e.$implicit;return _.gc(2).goBackParent(t.id)}),_.Vb(2,"span",19),_.Rc(3),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=e.$implicit,o=_.gc(2);_.nc("ngClass",_.tc(5,ms,i.id!=o.cur_cateId,i.id!=o.cur_cateId)),_.Db(1),_.nc("ngClass",_.sc(8,hs,i.id!=o.cur_cateId)),_.Db(1),_.oc("matTooltip",i.name),_.nc("ngClass",_.sc(10,gs,i.id!=o.cur_cateId)),_.Db(1),_.Sc(i.name)}}function ps(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",20),_.cc("click",function(){_.Dc(n);var t=e.$implicit;return _.gc(2).cateDetail(t)}),_.Vb(1,"mat-card",21),_.Vb(2,"div",22),_.Vb(3,"div",23),_.Qb(4,"img",24),_.Vb(5,"div",25),_.Vb(6,"p",26),_.Rc(7),_.hc(8,"slice"),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=e.$implicit;_.Db(7),_.Tc(" ",i.name.length>100?_.kc(8,1,i.name,0,99)+"..":i.name,"")}}function vs(t,e){if(1&t&&(_.Vb(0,"div",35),_.Vb(1,"span",38),_.Rc(2," \u0110\u1ed9 kh\xf3: "),_.Vb(3,"span"),_.Rc(4),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(4),_.Sc(n.hardLevel)}}function xs(t,e){if(1&t&&(_.Vb(0,"div",35),_.Vb(1,"span",39),_.Rc(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Vb(3,"span"),_.Rc(4),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(4),_.Sc(n.mark)}}function ws(t,e){if(1&t){var n=_.Wb();_.Vb(0,"a",31),_.cc("click",function(){_.Dc(n);var t=_.gc().$implicit;return _.gc(2).redirectToExamDetail(t.hashId)}),_.Vb(1,"mat-card",21),_.Vb(2,"div",32),_.Vb(3,"div",22),_.Vb(4,"div",33),_.Qb(5,"img",34),_.Vb(6,"div",35),_.Vb(7,"p",36),_.Rc(8),_.hc(9,"slice"),_.Ub(),_.Ub(),_.Pc(10,vs,5,1,"div",37),_.Vb(11,"div",35),_.Vb(12,"span",38),_.Vb(13,"span"),_.Rc(14),_.Ub(),_.Rc(15," l\u01b0\u1ee3t l\xe0m \u0111\u1ec1 "),_.Ub(),_.Ub(),_.Pc(16,xs,5,1,"div",37),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc().$implicit,o=_.gc(2);_.oc("target",o.target),_.Db(7),_.oc("matTooltip",i.name),_.Db(1),_.Tc(" ",i.name.length>100?_.kc(9,6,i.name,0,99)+"..":i.name," "),_.Db(2),_.nc("ngIf",i.hardLevel),_.Db(4),_.Sc(i.attended),_.Db(2),_.nc("ngIf",null!=i.mark)}}function _s(t,e){if(1&t&&(_.Vb(0,"div",35),_.Vb(1,"span",38),_.Rc(2," \u0110\u1ed9 kh\xf3: "),_.Vb(3,"span"),_.Rc(4),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(4),_.Sc(n.hardLevel)}}function ys(t,e){if(1&t&&(_.Vb(0,"div",35),_.Vb(1,"span",39),_.Rc(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Vb(3,"span"),_.Rc(4),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(4),_.Sc(n.mark)}}function ks(t,e){if(1&t&&(_.Vb(0,"a",40),_.Vb(1,"mat-card",21),_.Vb(2,"div",32),_.Vb(3,"div",22),_.Vb(4,"div",33),_.Qb(5,"img",34),_.Vb(6,"div",35),_.Vb(7,"p",36),_.Rc(8),_.hc(9,"slice"),_.Ub(),_.Ub(),_.Pc(10,_s,5,1,"div",37),_.Vb(11,"div",35),_.Vb(12,"span",38),_.Vb(13,"span"),_.Rc(14),_.Ub(),_.Rc(15," l\u01b0\u1ee3t l\xe0m \u0111\u1ec1 "),_.Ub(),_.Ub(),_.Pc(16,ys,5,1,"div",37),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit,i=_.gc(2);_.oc("target",i.target),_.nc("href","/de-thi/"+n.hashId,_.Hc),_.Db(7),_.oc("matTooltip",n.name),_.Db(1),_.Tc(" ",n.name.length>100?_.kc(9,7,n.name,0,99)+"..":n.name," "),_.Db(2),_.nc("ngIf",n.hardLevel),_.Db(4),_.Sc(n.attended),_.Db(2),_.nc("ngIf",null!=n.mark)}}function Ss(t,e){if(1&t&&(_.Vb(0,"div",41),_.Rc(1," Gi\xe1 \u0111\u1ec1 thi: "),_.Vb(2,"span",42),_.Rc(3),_.Ub(),_.Rc(4," Azo "),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(3),_.Tc("",null!=n.price?n.price:0," ")}}function Is(t,e){if(1&t&&(_.Vb(0,"div",27),_.Pc(1,ws,17,10,"a",28),_.Pc(2,ks,17,11,"a",29),_.Pc(3,Ss,5,1,"div",30),_.Ub()),2&t){var n=e.$implicit,i=_.gc(2);_.Db(1),_.nc("ngIf","_blank"!=i.target),_.Db(1),_.nc("ngIf","_blank"==i.target),_.Db(1),_.nc("ngIf",null!=n.price&&0!=n.price)}}function Ds(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",5),_.Vb(1,"div",6),_.Vb(2,"ol",7),_.Vb(3,"li",8),_.Vb(4,"a",9),_.cc("click",function(){return _.Dc(n),_.gc().backToAllCate()}),_.Rc(5,"All"),_.Ub(),_.Ub(),_.Pc(6,fs,4,12,"li",10),_.Ub(),_.Ub(),_.Ub(),_.Vb(7,"div"),_.Vb(8,"div",11),_.Vb(9,"div",12),_.Pc(10,ps,9,5,"div",13),_.Pc(11,Is,4,3,"div",14),_.Ub(),_.Vb(12,"div",15),_.Vb(13,"azt-paging",16),_.cc("SendPage",function(t){return _.Dc(n),_.gc().goToPage(t)}),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc();_.Db(6),_.nc("ngForOf",i.listBreadcrumb),_.Db(4),_.nc("ngForOf",i.cateObjs),_.Db(1),_.nc("ngForOf",i.examObjs),_.Db(2),_.nc("lengthPage",i.total_page)("paging",i.cur_page)}}var Ps,Os=((Ps=function(){function t(e,n,i,o,s,c){a(this,t),this.fb=e,this.activeRoute=n,this.router=i,this.commonService=o,this.localize=s,this.apiExamService=c,this.subscriptions=new D.a,this.form=new u.k({}),this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.isLoading=!1,this.isNullData=!1,this.cur_page=1,this.start_page=1,this.end_page=1,this.show_pages=[],this.total_page=1,this.item_per_page=18,this.limit_page=5,this.cur_cateId=0,this.tenantId=1,this.totalExam=0,this.totalObjs=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.back_link="",this.isInIframe=!1,this.contentHeight=0,this.backToLink=""}return c(t,[{key:"getListParentCate",value:function(){var t=this;this.subscriptions.add(this.apiExamService.getFrontExamTestParentBreadcrumbs(this.tenantId,this.cur_cateId).subscribe(function(e){1==e.success?t.listBreadcrumb=e.data.objs:t.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)})}))}},{key:"getData",value:function(){var t=this;this.back_link=0!=this.cur_cateId?"/test/category/"+this.tenantId+"/0/"+this.cur_page:"/student/dashboard/0";var e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.cur_page=e=e>0?e:1,this.status_obj={loading:!0,error:!1},this.subscriptions.add(this.apiExamService.getFrontExamTestPageObjs(this.tenantId,this.cur_page,this.cur_cateId>0?this.cur_cateId:null).subscribe(function(e){if(1==e.success){t.cateObjs=e.data.categoryObjs,t.examObjs=e.data.examObjs,t.totalObjs=e.data.total,t.totalExam=e.data.totalExam,t.total_page=t.totalObjs%t.item_per_page>0?(t.totalObjs-t.totalObjs%t.item_per_page)/t.item_per_page+1:t.totalObjs>0?t.totalObjs/t.item_per_page:1,t.start_page=t.cur_page-t.limit_page>=1?t.cur_page-t.limit_page:1,t.end_page=t.start_page+2*t.limit_page>t.total_page?t.total_page:t.start_page+2*t.limit_page;for(var n=[],i=t.start_page;i<=t.end_page;i++)n.push(i);t.show_pages=n,t.getListParentCate(),t.status_obj={loading:!1,error:!1},setTimeout(function(){t.checkHeight()},0)}else t.status_obj={loading:!1,error:!0},t.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)})}))}},{key:"goToPage",value:function(t){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.cur_cateId+"/"+t)}},{key:"backToAllCate",value:function(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}},{key:"cateDetail",value:function(t){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+t.id+"/1")}},{key:"goBackParent",value:function(t){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+t+"/1")}},{key:"redirectToExamDetail",value:function(t){this.commonService.myNavigationWithQueryString("/de-thi/"+t,"?backto="+encodeURIComponent(this.backToLink))}},{key:"checkHeight",value:function(){var t=document.body,e=document.documentElement,n=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);this.contentHeight=n,this.commonService.sendMessageToParentIframe({height:this.contentHeight})}},{key:"resizeHeight",value:function(t){var e=document.body,n=document.documentElement,i=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.contentHeight=i,this.commonService.sendMessageToParentIframe({height:this.contentHeight})}},{key:"changeLogin",value:function(){this.commonService.sendMessageToParentIframe({changeLogin:!0})}},{key:"ngOnInit",value:function(){var t=this;this.isInIframe=this.commonService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.form=this.fb.group({searchContent:new u.h("",u.z.required)}),Object(P.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(n){e(n),t.cur_cateId=Number(t.commonService.getMyParam(t.activeRoute,"cate_id")),t.tenantId=Number(t.commonService.getMyParam(t.activeRoute,"tenant_id"));var i=t.commonService.getMyParam(t.activeRoute,"page");t.backToLink="/test/category/".concat(t.tenantId,"/").concat(t.cur_cateId,"/").concat(i),t.getData(),t.commonService.loginMessage.subscribe(function(e){t.changeLogin()}),t.commonService.translateMetaData({title:"Danh s\xe1ch \u0111\u1ec1 thi",description:"Danh s\xe1ch \u0111\u1ec1 thi"})}),this.commonService.gaEvent("FrontExam_ViewExamCategory")}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ps)(_.Pb(u.g),_.Pb(d.a),_.Pb(d.i),_.Pb(y.a),_.Pb(x.e),_.Pb(O.a))},Ps.\u0275cmp=_.Jb({type:Ps,selectors:[["app-student-index"]],hostBindings:function(t,e){1&t&&_.cc("resize",function(t){return e.resizeHeight(t)},!1,_.Cc)},decls:5,vars:3,consts:[[3,"headerTitle","back_link",4,"ngIf"],[1,"top-bar","mt-3"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"row","pl-0","pr-0","justify-content-between"],[1,"col-sm-12","text-left"],[1,"breadcrumb","custom-breadcrumb",2,"margin-top","2px"],[1,"breadcrumb-item","text-primary"],[1,"clickable",2,"color","#989494",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"content-zone","mt-3","pt-2","pb-2"],[1,"row"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",3,"click",4,"ngFor","ngForOf"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",4,"ngFor","ngForOf"],[1,"pt-2"],[3,"lengthPage","paging","SendPage"],[1,"breadcrumb-item",3,"ngClass"],[1,"hidden__text",3,"ngClass","click"],[3,"ngClass","matTooltip"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable",3,"click"],[1,"card-custom","box-flex"],[1,"box-title","text-center"],[1,"test","p-3"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/folder_img.png","alt","",1,"img-fluid","folder-img"],[1,"test-desc","text-center"],[1,"test-title","mb-0",2,"word-break","break-word"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable"],[3,"target","click",4,"ngIf"],[3,"href","target",4,"ngIf"],["style","float: right; margin-top: -20px; position: relative; margin-right: 10px; font-weight: bold;",4,"ngIf"],[3,"target","click"],[1,"box"],[1,"test","p-2","pl-3","pr-3"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/u205.svg","alt","",1,"test-img"],[1,"test-desc"],[1,"test-title","mb-0","exam_name",2,"word-break","break-word",3,"matTooltip"],["class","test-desc",4,"ngIf"],[1,"test-text"],[1,"test-text","text-info"],[3,"href","target"],[2,"float","right","margin-top","-20px","position","relative","margin-right","10px","font-weight","bold"],[2,"color","#ee4d2d"]],template:function(t,e){if(1&t&&(_.Pc(0,bs,1,2,"header-frontend",0),_.Vb(1,"div",1),_.Pc(2,ds,1,0,"azt-loading-effect",2),_.Pc(3,Ds,14,5,"ng-template",null,3,_.Qc),_.Ub()),2&t){var n=_.zc(4);_.nc("ngIf",!e.isInIframe),_.Db(2),_.nc("ngIf",e.status_obj.loading)("ngIfElse",n)}},directives:[l.m,C.a,U.a,l.l,us.a,l.k,vt.a,V.a],pipes:[l.u],styles:[".top-bar[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;overflow-x:hidden;padding:15px}.folder-img[_ngcontent-%COMP%]{width:96px;height:96px}.custom-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.card-custom[_ngcontent-%COMP%]{margin:0 auto;height:230px}.box-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.box-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.test-img[_ngcontent-%COMP%]{width:30px;margin-bottom:10px}.test-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.test-desc[_ngcontent-%COMP%]{margin-top:2px;text-align:justify}.test-text[_ngcontent-%COMP%]{font-size:14px}.mat-card[_ngcontent-%COMP%]{padding:0}.truncate-bread[_ngcontent-%COMP%]{display:inline-block;max-width:120px}.hidden__text[_ngcontent-%COMP%], .truncate-bread[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.hidden__text[_ngcontent-%COMP%]{max-width:100px;text-align:left}"]}),Ps);function Cs(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",5),_.Vb(1,"p",6),_.Rc(2," B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1ec3 mua \u0111\u1ec1 thi. "),_.Ub(),_.Vb(3,"a",7),_.cc("click",function(){return _.Dc(n),_.gc(2).goToRegister()}),_.Rc(4," \u0110\u0103ng k\xfd "),_.Ub(),_.Ub()}}function Us(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",14),_.Vb(1,"p",15),_.Rc(2),_.hc(3,"mytranslate"),_.Ub(),_.Vb(4,"a",7),_.cc("click",function(){return _.Dc(n),_.gc(3).goToAddMoreAzo()}),_.Rc(5," N\u1ea1p th\xeam Azo "),_.Ub(),_.Ub()}if(2&t){var i=_.gc(3);_.Db(2),_.Tc(" ",_.ic(3,1,i.hasErrorMessage)," ")}}function Vs(t,e){if(1&t&&(_.Vb(0,"div",8),_.Vb(1,"p",9),_.Rc(2," B\u1ea1n mu\u1ed1n mua B\xe0i thi: "),_.Ub(),_.Vb(3,"p",10),_.Rc(4),_.Ub(),_.Ub(),_.Vb(5,"div",11),_.Vb(6,"p",12),_.Rc(7),_.Ub(),_.Ub(),_.Pc(8,Us,6,3,"div",13)),2&t){var n=_.gc(2);_.Db(4),_.Tc(" ",n.data.examObj.name," "),_.Db(3),_.Tc("Gi\xe1: ",n.data.examObj.price," Azo"),_.Db(1),_.nc("ngIf",""!=n.hasErrorMessage)}}function Ms(t,e){1&t&&(_.Vb(0,"span"),_.Qb(1,"span",20),_.Rc(2,"\xa0"),_.Ub())}function Ts(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",16),_.Vb(1,"button",17),_.cc("click",function(){return _.Dc(n),_.gc(2).confirmBuy()}),_.Pc(2,Ms,3,0,"span",18),_.Rc(3," X\xe1c nh\u1eadn "),_.Ub(),_.Vb(4,"button",19),_.cc("click",function(){return _.Dc(n),_.gc(2).cancelPayment()}),_.Rc(5," H\u1ee7y "),_.Ub(),_.Ub()}if(2&t){var i=_.gc(2);_.Db(1),_.nc("disabled",i.isLoading||""!=i.hasErrorMessage),_.Db(1),_.nc("ngIf",i.isLoading)}}function js(t,e){if(1&t&&(_.Vb(0,"div",1),_.Vb(1,"div",2),_.Pc(2,Cs,5,0,"ng-template",3),_.Pc(3,Vs,9,3,"ng-template",3),_.Pc(4,Ts,6,2,"div",4),_.Ub(),_.Ub()),2&t){var n=_.gc();_.Db(2),_.nc("ngIf",n.data.needLogin),_.Db(1),_.nc("ngIf",!n.data.needLogin),_.Db(1),_.nc("ngIf",!n.data.needLogin)}}var Es,Rs=((Es=function(){function t(e,n){a(this,t),this.commonService=e,this.apiExamService=n,this.closeDialog=new _.o,this.subscriptions=new D.a,this.form=new u.k({}),this.isLoading=!1,this.timeCount={hour:0,minute:0,second:0},this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.hasErrorMessage=""}return c(t,[{key:"confirmBuy",value:function(){var t=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiExamService.buyExamByAzo(this.data.examObj.hashId).subscribe(function(e){1==e.success?e.data.hasOwnProperty("errorMessage")?t.hasErrorMessage=e.data.errorMessage:(t.hasErrorMessage="",t.status_obj={loading:!1,error:!1,error_obj:{message:""}},t.closeDialog.emit(!0)):(t.status_obj={loading:!1,error:!1,error_obj:{message:""}},t.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)}))}))}},{key:"cancelPayment",value:function(){this.closeDialog.emit(!1)}},{key:"goToRegister",value:function(){this.commonService.redirectRegisterForStudent()}},{key:"goToAddMoreAzo",value:function(){this.commonService.gaEvent("payment_exam_detail_click_to_payment_pack"),this.commonService.redirectToBuyMoreAzo()}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Es)(_.Pb(y.a),_.Pb(O.a))},Es.\u0275cmp=_.Jb({type:Es,selectors:[["app-buy-exam"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[3,"ngIf"],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","mb-2"],[1,"clickable","h5","text-info",3,"click"],[1,"text-center","mb-1"],[1,"h5","mb-1",2,"font-size","14px"],[1,"h5","mb-1","text-info"],[1,"amount-zone","text-center"],[1,"mb-0","h4"],["class","text-center mt-2",4,"ngIf"],[1,"text-center","mt-2"],[1,"h6","mb-1",2,"font-size","14px"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["mat-raised-button","",2,"margin-left","15px",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&_.Pc(0,js,5,3,"div",0),2&t&&_.nc("ngIf",e.data.isShow)},directives:[l.m,pt.b],pipes:[wt.q],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:400px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.amount-zone[_ngcontent-%COMP%]{border:1px dashed #ff0024;padding:15px;border-radius:3px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),Es),Fs=o("CB8n"),As=o("loSA");function Ls(t,e){if(1&t&&(_.Vb(0,"span"),_.Rc(1,"S\u1ed1 l\u01b0\u1ee3ng \u0111\xfang: "),_.Vb(2,"span"),_.Rc(3),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(3),_.Uc("",n.rightAnswer,"/",n.totalQuestion,"")}}function zs(t,e){if(1&t&&(_.Vb(0,"span"),_.Rc(1),_.Ub()),2&t){var n=_.gc().$implicit;_.Db(1),_.Tc("S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi: ",n.totalQuestion,"")}}function qs(t,e){if(1&t&&(_.Vb(0,"span",28),_.Qb(1,"azt-check-mark",29),_.Ub()),2&t){var n=_.gc(3).$implicit;_.Db(1),_.nc("mark",n.mark)}}function Qs(t,e){if(1&t&&(_.Vb(0,"div",25),_.Vb(1,"span",26),_.Rc(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Ub(),_.Pc(3,qs,2,1,"span",27),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(3),_.nc("ngIf",null!=n.mark)}}function Ns(t,e){1&t&&(_.Vb(0,"span",26),_.Rc(1," \u0110i\u1ec3m tr\u1eafc nghi\u1ec7m c\u1ee7a b\u1ea1n: "),_.Ub())}function Bs(t,e){1&t&&(_.Vb(0,"span",26),_.Rc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Ub())}function $s(t,e){if(1&t&&(_.Vb(0,"span",28),_.Rc(1),_.Ub()),2&t){var n=_.gc(3).$implicit;_.Db(1),_.Sc(n.mark)}}function Ws(t,e){if(1&t&&(_.Vb(0,"div",25),_.Pc(1,Ns,2,0,"span",30),_.Pc(2,Bs,2,0,"span",30),_.Pc(3,$s,2,1,"span",27),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("ngIf",null==n.essayMark),_.Db(1),_.nc("ngIf",null!=n.essayMark),_.Db(1),_.nc("ngIf",null!=n.mark)}}function Hs(t,e){1&t&&(_.Vb(0,"span",26),_.Rc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Ub())}function Gs(t,e){if(1&t&&(_.Vb(0,"span",28),_.Rc(1),_.Ub()),2&t){var n=_.gc(3).$implicit;_.Db(1),_.Sc(n.mark)}}function Js(t,e){1&t&&(_.Vb(0,"span",31),_.Rc(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),_.Ub())}function Ks(t,e){if(1&t&&(_.Vb(0,"div",25),_.Pc(1,Hs,2,0,"span",30),_.Pc(2,Gs,2,1,"span",27),_.Pc(3,Js,2,0,"span",23),_.Ub()),2&t){var n=_.gc(2).$implicit;_.Db(1),_.nc("ngIf",null!=n.essayMark),_.Db(1),_.nc("ngIf",null!=n.mark&&null!=n.essayMark),_.Db(1),_.nc("ngIf",null==n.essayMark)}}function Xs(t,e){1&t&&(_.Vb(0,"span",31),_.Rc(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),_.Ub())}var Ys=function(t){return[t]},Zs=function(t){return{backto:t}};function tc(t,e){if(1&t&&(_.Vb(0,"div",5),_.Pc(1,Qs,4,1,"div",22),_.Pc(2,Ws,4,3,"div",22),_.Pc(3,Ks,4,3,"div",22),_.Pc(4,Xs,2,0,"span",23),_.Vb(5,"a",24),_.hc(6,"mylocalize"),_.Rc(7,"Xem chi ti\u1ebft b\xe0i l\xe0m"),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit,i=_.gc();_.Db(1),_.nc("ngIf",1==i.examObj.examType||0==i.examObj.examType),_.Db(1),_.nc("ngIf",11==i.examObj.examType||10==i.examObj.examType),_.Db(1),_.nc("ngIf",21==i.examObj.examType||20==i.examObj.examType),_.Db(1),_.nc("ngIf",null==n.mark),_.Db(1),_.nc("routerLink",_.sc(8,Ys,_.ic(6,6,"/test/answer-test/"+i.tenant_id+"/"+(null!=i.cur_cateId?i.cur_cateId:0)+"/"+i.hashId+"/"+n.id)))("queryParams",_.sc(10,Zs,i.back_link))}}function ec(t,e){if(1&t&&(_.Vb(0,"div",5),_.Vb(1,"div",25),_.Vb(2,"span",26),_.Rc(3," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),_.Ub(),_.Ub(),_.Vb(4,"span",31),_.Rc(5,"Ch\u01b0a \u0111\u01b0\u1ee3c xem \u0111i\u1ec3m"),_.Ub(),_.Vb(6,"a",24),_.hc(7,"mylocalize"),_.Rc(8,"Xem chi ti\u1ebft b\xe0i l\xe0m"),_.Ub(),_.Ub()),2&t){var n=_.gc().$implicit,i=_.gc();_.Db(6),_.nc("routerLink",_.sc(4,Ys,_.ic(7,2,"/test/answer-test/"+i.tenant_id+"/"+(null!=i.cur_cateId?i.cur_cateId:0)+"/"+i.hashId+"/"+n.id)))("queryParams",_.sc(6,Zs,i.back_link))}}function nc(t,e){if(1&t&&(_.Vb(0,"div",8),_.Vb(1,"mat-card",9),_.Vb(2,"div",10),_.Vb(3,"div",11),_.Vb(4,"div",12),_.Vb(5,"div",13),_.Vb(6,"span",14),_.Vb(7,"mat-icon"),_.Rc(8,"access_time"),_.Ub(),_.Ub(),_.Vb(9,"span",15),_.Rc(10," Th\u1eddi gian l\xe0m b\xe0i: "),_.Vb(11,"span"),_.Rc(12),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(13,"div",12),_.Vb(14,"div",13),_.Vb(15,"span",14),_.Vb(16,"mat-icon"),_.Rc(17,"help_outline"),_.Ub(),_.Ub(),_.Vb(18,"span",15),_.Pc(19,Ls,4,2,"span",16),_.Pc(20,zs,2,1,"span",16),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(21,"div",17),_.Pc(22,tc,8,12,"div",18),_.Pc(23,ec,9,8,"div",18),_.Ub(),_.Vb(24,"div",19),_.Vb(25,"div",20),_.Vb(26,"span",21),_.Rc(27),_.hc(28,"date"),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub()),2&t){var n=e.$implicit,i=_.gc();_.Db(12),_.Sc(i.calculateTime(n.startedTest,n.createdAt)),_.Db(7),_.nc("ngIf",null!=n.rightAnswer),_.Db(1),_.nc("ngIf",null==n.rightAnswer),_.Db(2),_.nc("ngIf",2!=i.examObj.whenShowResult),_.Db(1),_.nc("ngIf",2==i.examObj.whenShowResult),_.Db(4),_.Sc(_.jc(28,6,n.createdAt,"dd/MM/yyyy HH:mm"))}}function ic(t,e){1&t&&(_.Vb(0,"div",32),_.Vb(1,"div",33),_.Vb(2,"span",34),_.Rc(3,"Loading..."),_.Ub(),_.Ub(),_.Ub())}function oc(t,e){if(1&t){var n=_.Wb();_.Vb(0,"div",0),_.Vb(1,"div",1),_.Vb(2,"button",35),_.cc("click",function(){return _.Dc(n),_.gc().pagingData()}),_.Vb(3,"mat-icon"),_.Rc(4,"keyboard_arrow_down"),_.Ub(),_.Ub(),_.Ub(),_.Ub()}if(2&t){var i=_.gc();_.Db(2),_.nc("disabled",i.disableBtn)}}var ac,sc=((ac=function(){function t(e,n,i,o,s){a(this,t),this.activeRoute=e,this.router=n,this.commonService=i,this.localize=o,this.apiExamService=s,this.examObj={},this.tenant_id=0,this.cur_cateId=0,this.historyObjs=[],this.page="",this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.subscriptions=new D.a,this.checkClick=!1,this.disableBtn=!1}return c(t,[{key:"getExamHistoryByHashId",value:function(){var t=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiExamService.getExamHistoryObjsByHashId(this.hashId,this.page).subscribe(function(e){if(1==e.success){for(var n=e.data.objs.length,i=0;i<n;i++)t.historyObjs.push(e.data.objs[i]);t.checkClick=!0,t.page=e.data.nextPage,e.data.nextPage||(t.disableBtn=!0)}else t.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)}),t.page>1&&t.page--;t.status_obj={loading:!1,error:!1,error_obj:{message:""}}})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}},{key:"pagingData",value:function(){this.getExamHistoryByHashId()}},{key:"calculateTime",value:function(t,e){return this.commonService.calculationTestedTime(t,e)}},{key:"ngOnChanges",value:function(){}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||ac)(_.Pb(d.a),_.Pb(d.i),_.Pb(y.a),_.Pb(x.e),_.Pb(O.a))},ac.\u0275cmp=_.Jb({type:ac,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",back_link:"back_link",examObj:"examObj",tenant_id:"tenant_id",cur_cateId:"cur_cateId"},features:[_.Bb],decls:9,vars:3,consts:[[1,"row","my-3","m-2"],[1,"col-md-12","text-center"],[1,"history"],[1,"row","m-0"],["class","col-md-12","style","margin: 0 auto; padding-top: 10px; padding-bottom: 5px;",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","d-flex justify-content-center mt-3",4,"ngIf"],["class","row my-3 m-2",4,"ngIf"],[1,"col-md-12",2,"margin","0 auto","padding-top","10px","padding-bottom","5px"],[1,"text-center"],[1,"card-info"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[4,"ngIf"],[1,"row","my-2","mt-4"],["class","col-md-12",4,"ngIf"],[1,"row"],[1,"col-md-12","text-right"],[1,"text-time"],["style","display: inline-block;",4,"ngIf"],["class","text-danger mr-3",4,"ngIf"],[1,"btn-redirect",2,"color","#007bff",3,"routerLink","queryParams"],[2,"display","inline-block"],[1,"score-text"],["class","score",4,"ngIf"],[1,"score"],[3,"mark"],["class","score-text",4,"ngIf"],[1,"text-danger","mr-3"],[1,"d-flex","justify-content-center","mt-3"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],["matTooltip","Xem th\xeam","mat-button","",1,"btn-all-add",3,"disabled","click"]],template:function(t,e){1&t&&(_.Vb(0,"div",0),_.Vb(1,"div",1),_.Vb(2,"h3",2),_.Rc(3,"L\u1ecbch s\u1eed l\xe0m b\xe0i c\u1ee7a b\u1ea1n"),_.Ub(),_.Ub(),_.Ub(),_.Vb(4,"div",3),_.Pc(5,nc,29,9,"div",4),_.Vb(6,"div",5),_.Pc(7,ic,4,0,"div",6),_.Ub(),_.Ub(),_.Pc(8,oc,5,1,"div",7)),2&t&&(_.Db(5),_.nc("ngForOf",e.historyObjs),_.Db(2),_.nc("ngIf",e.status_obj.loading),_.Db(1),_.nc("ngIf",!e.status_obj.loading))},directives:[l.l,l.m,V.a,M.a,d.k,As.a,pt.b,vt.a],pipes:[l.e,wt.p],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.box[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-all-add[_ngcontent-%COMP%]{text-transform:inherit}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}.score-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-right:15px}.score[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:red;margin-right:25px}.text-time[_ngcontent-%COMP%]{color:#a0a0a0}.btn-redirect[_ngcontent-%COMP%]{color:#000}@media screen and (max-width:480px){.card-info[_ngcontent-%COMP%]{width:100%}.btn-redirect[_ngcontent-%COMP%]{margin-top:10px;display:block}.score[_ngcontent-%COMP%]{margin-right:0}}"]}),ac);function cc(t,e){1&t&&_.Qb(0,"azt-loading-effect")}function rc(t,e){if(1&t){var n=_.Wb();_.Vb(0,"app-buy-exam",7),_.cc("closeDialog",function(t){return _.Dc(n),_.gc(2).closeBuyExamDialog(t)}),_.Ub()}if(2&t){var i=_.gc(2);_.nc("data",i.dataBuyExamDialog)}}function lc(t,e){if(1&t&&(_.Vb(0,"div",8),_.Rc(1),_.hc(2,"mytranslate"),_.Ub()),2&t){var n=_.gc(2);_.Db(1),_.Tc(" ",_.ic(2,1,n.hasErrorMessage)," ")}}var uc=function(t,e){return{"monitor-height":t,"mobile-monitor":e}};function bc(t,e){if(1&t&&(_.Vb(0,"div",19),_.Qb(1,"div",30,31),_.Ub()),2&t){var n=_.gc(3);_.Db(1),_.nc("ngClass",_.tc(1,uc,!n.isMobile,n.isMobile))}}function dc(t,e){if(1&t){var n=_.Wb();_.Vb(0,"button",32),_.cc("click",function(){return _.Dc(n),_.gc(3).redirectToTakeTest()}),_.Rc(1,"B\u1eaft \u0111\u1ea7u l\xe0m b\xe0i"),_.Ub()}}function mc(t,e){if(1&t){var n=_.Wb();_.Vb(0,"button",32),_.cc("click",function(){return _.Dc(n),_.gc(3).openBuyExam()}),_.Rc(1),_.hc(2,"number"),_.Ub()}if(2&t){var i=_.gc(3);_.Db(1),_.Tc("Mua \u0111\u1ec1 - ",_.ic(2,1,i.examObj.price)," Azo")}}function hc(t,e){1&t&&(_.Vb(0,"div",33),_.Vb(1,"strong"),_.Rc(2,"(*)"),_.Ub(),_.Rc(3," H\u1ec7 th\u1ed1ng ch\u1ec9 g\u1eedi h\xecnh \u1ea3nh v\xe0 \xe2m thanh \u0111\u1ebfn gi\xe1o vi\xean "),_.Vb(4,"b"),_.Rc(5,"trong qu\xe1 tr\xecnh l\xe0m b\xe0i thi"),_.Ub(),_.Rc(6,". Ngay sau khi k\u1ebft th\xfac b\xe0i l\xe0m, h\u1ec7 th\u1ed1ng ng\u1eebng g\u1eedi d\u1eef li\u1ec7u. D\u1eef li\u1ec7u thu th\u1eadp ch\u1ec9 s\u1eed d\u1ee5ng ph\u1ee5c v\u1ee5 cho c\xf4ng t\xe1c "),_.Vb(7,"b"),_.Rc(8,"t\u1ed5 ch\u1ee9c k\u1ef3 thi"),_.Ub(),_.Ub())}function gc(t,e){if(1&t&&(_.Vb(0,"div"),_.Vb(1,"div",9),_.Vb(2,"div",10),_.Vb(3,"h2",11),_.Rc(4),_.Ub(),_.Ub(),_.Ub(),_.Vb(5,"div",9),_.Vb(6,"div",10),_.Vb(7,"h2",12),_.Rc(8,"M\xe3 \u0111\u1ec1 thi: "),_.Vb(9,"span",13),_.Rc(10),_.Ub(),_.Qb(11,"azt-download-qr-code",14),_.Ub(),_.Ub(),_.Ub(),_.Vb(12,"div",9),_.Vb(13,"div",15),_.Vb(14,"mat-card",16),_.Pc(15,bc,3,4,"div",17),_.Vb(16,"div",18),_.Vb(17,"div",19),_.Vb(18,"div",20),_.Vb(19,"div",21),_.Vb(20,"span",22),_.Vb(21,"mat-icon"),_.Rc(22,"access_time"),_.Ub(),_.Ub(),_.Vb(23,"span",23),_.Rc(24," Th\u1eddi gian l\xe0m b\xe0i: "),_.Vb(25,"span"),_.Rc(26),_.Ub(),_.Ub(),_.Ub(),_.Vb(27,"div",21),_.Vb(28,"span",22),_.Vb(29,"mat-icon"),_.Rc(30,"people"),_.Ub(),_.Ub(),_.Vb(31,"span",23),_.Rc(32," S\u1ed1 l\u01b0\u1ee3t l\xe0m \u0111\u1ec1: "),_.Vb(33,"span"),_.Rc(34),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(35,"div",24),_.Vb(36,"div",21),_.Vb(37,"span",22),_.Vb(38,"mat-icon"),_.Rc(39,"help_outline"),_.Ub(),_.Ub(),_.Vb(40,"span",23),_.Rc(41," S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi: "),_.Vb(42,"span"),_.Rc(43),_.Ub(),_.Ub(),_.Ub(),_.Vb(44,"div",21),_.Vb(45,"span",22),_.Vb(46,"mat-icon"),_.Rc(47,"monetization_on"),_.Ub(),_.Ub(),_.Vb(48,"span",23),_.Rc(49," Gi\xe1 \u0111\u1ec1 thi: "),_.Vb(50,"span"),_.Rc(51),_.Ub(),_.Rc(52," Azo "),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Ub(),_.Vb(53,"div",25),_.Vb(54,"div",26),_.Pc(55,dc,2,0,"button",27),_.Pc(56,mc,3,3,"button",27),_.Ub(),_.Ub(),_.Pc(57,hc,9,0,"div",28),_.Ub(),_.Ub(),_.Ub(),_.Qb(58,"app-exam-history",29),_.Ub()),2&t){var n=_.gc(2);_.Db(4),_.Sc(n.examObj.name),_.Db(6),_.Sc(n.examObj.hashId),_.Db(1),_.nc("fileName","azota_exam_qrcode_"+n.examObj.hashId)("linkUrl",n.urlLocation),_.Db(4),_.nc("ngIf",n.examObj.autoMonitor&&0!=n.examObj.autoMonitor),_.Db(11),_.Sc(n.examObj.minutes>0?n.examObj.minutes+" ph\xfat":"Kh\xf4ng gi\u1edbi h\u1ea1n"),_.Db(8),_.Sc(null==n.totalAttended?0:n.totalAttended),_.Db(9),_.Sc(2==n.examObj.mixQuestion?n.examObj.limitMixQuestion:n.examObj.countQuestion),_.Db(8),_.Sc(null!=n.examObj.price?n.examObj.price:0),_.Db(4),_.nc("ngIf",!n.isNeedBuyExam),_.Db(1),_.nc("ngIf",n.isNeedBuyExam),_.Db(1),_.nc("ngIf",n.examObj.autoMonitor&&3==n.examObj.autoMonitor),_.Db(1),_.nc("examObj",n.examObj)("tenant_id",n.tenant_id)("cur_cateId",n.cur_cateId)("hashId",n.hashId)("back_link",n.back_link)}}function fc(t,e){if(1&t){var n=_.Wb();_.Pc(0,rc,1,1,"app-buy-exam",3),_.Vb(1,"div",4),_.cc("resize",function(){return _.Dc(n),_.gc().checkMobile()},!1,_.Cc),_.Pc(2,lc,3,3,"div",5),_.Pc(3,gc,59,17,"div",6),_.Ub()}if(2&t){var i=_.gc();_.nc("ngIf",i.dataBuyExamDialog.isShow),_.Db(2),_.nc("ngIf",""!=i.hasErrorMessage),_.Db(1),_.nc("ngIf",""==i.hasErrorMessage)}}var pc,vc,xc=((vc=function(){function t(e,n,i,o,s,c,r){a(this,t),this.activeRoute=e,this.router=n,this.commonService=i,this.localize=o,this.apiExamService=s,this.apiCommonService=c,this.fireStoreService=r,this.subscriptions=new D.a,this.status_obj={loading:!1,error:!1,error_obj:{message:""}},this.hashId="",this.examObj="",this.totalAttended=0,this.tenant_id=0,this.cur_cateId=0,this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.back_link="/student/dashboard/0",this.password="",this.isNeedBuyExam=!1,this.dataBuyExamDialog={examObj:"",isShow:!1},this.innerMonitor="",this.isMobile=!1,this.urlLocation=""}return c(t,[{key:"fillData",value:function(t){t.data.hasOwnProperty("errorMessage")?("lang_core_doest_not_owner_exam"==t.data.errorMessage?(this.hasErrorMessage="",this.isNeedBuyExam=!0):(this.hasErrorMessage=t.data.errorMessage,this.isNeedBuyExam=!1),this.status_obj={loading:!1,error:!1,error_obj:{message:""}}):(this.hasErrorMessage="",this.isNeedBuyExam=!1)}},{key:"getExamByHashId",value:function(){var t=this;this.status_obj={loading:!0,error:!1,error_obj:{message:""}},this.subscriptions.add(this.apiExamService.getExamWithHistoryObjs(this.hashId).subscribe(function(e){1==e.success?(t.fillData(e),t.examObj=e.data.examObj,t.totalAttended=e.data.totalAttended,null!=t.examObj&&(t.cur_cateId=t.examObj.categoryId,t.tenant_id=t.examObj.tenantId,t.commonService.translateMetaData({title:"B\u1eaft \u0111\u1ea7u thi: "+t.examObj.name,description:t.examObj.name})),t.examObj.autoMonitor&&3==t.examObj.autoMonitor&&t.openVideoMonitor(),t.status_obj={loading:!1,error:!1,error_obj:{message:""}}):t.commonService.myTranslate([e.message,"lang_cms_common_ok"]).subscribe(function(n){t.commonService.snackError(n[e.message],n.lang_cms_common_ok)})})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}},{key:"openBuyExam",value:function(){this.apiCommonService.isLogin()&&!this.apiCommonService.isAnonymousRole()?(this.commonService.gaEvent("payment_click_open_dialog_buy_exam"),this.dataBuyExamDialog={examObj:this.examObj,isShow:!0}):this.dataBuyExamDialog={examObj:"",needLogin:!0,isShow:!0}}},{key:"closeBuyExamDialog",value:function(t){t?(this.commonService.gaEvent("payment_click_confirm_buy_exam"),this.dataBuyExamDialog={examObj:"",isShow:!1},this.commonService.snackSuccess("Mua \u0111\u1ec1 thi th\xe0nh c\xf4ng!",""),this.redirectToTakeTest()):(this.commonService.gaEvent("payment_click_cancel_buy_exam"),this.dataBuyExamDialog={examObj:"",isShow:!1})}},{key:"openVideoMonitor",value:function(){var t=this,e=this.apiCommonService.getUserObj();this.fireStoreService.getInitApp(),aztExam&&(aztExam.ver=this.commonService.getMNoteVer(),aztExam.loadMonitor(function(){if(aztExam.MonitorStudent){var n={user:{token:e.rememberToken,userid:e.id,username:e.fullName},config:{domainApi:ut.a.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:t.hashId,element:"monitorScreen",examconfig:t.examObj,firebaseApp:t.fireStoreService,isStarted:!1},i=aztExam.MonitorStudent.getInstance();i.prepairSession(n),t.innerMonitor=i.preview}}))}},{key:"redirectToTakeTest",value:function(){this.commonService.myNavigationWithQueryString(null!=this.cur_cateId?"/test/take-test/"+this.tenant_id+"/"+this.cur_cateId+"/"+this.hashId:"/test/take-test/"+this.tenant_id+"/0/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.back_link):"?backto="+encodeURIComponent(this.back_link))}},{key:"checkMobile",value:function(){this.isMobile=this.commonService.checkMobile()}},{key:"ngOnInit",value:function(){var t=this;this.apiCommonService.isCorrectVersion()||this.commonService.redirectToAuthVersion(this.back_link),Object(P.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(n){var i;e(n),t.password=t.commonService.getMyQueryParam("password");var o=null===(i=t.commonService.getMyParam(t.activeRoute,"hash_id"))||void 0===i?void 0:i.toString();t.hashId=o||"",t.cur_cateId=Number(t.commonService.getMyParam(t.activeRoute,"cate_id")),t.checkMobile(),t.getExamByHashId(),t.commonService.getMyQueryParam("backto")&&(t.back_link=t.commonService.getMyQueryParam("backto"))}),this.urlLocation=window.location.href}},{key:"ngAfterViewChecked",value:function(){}},{key:"ngOnDestroy",value:function(){aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||vc)(_.Pb(d.a),_.Pb(d.i),_.Pb(y.a),_.Pb(x.e),_.Pb(O.a),_.Pb(ht.a),_.Pb(Bt.a))},vc.\u0275cmp=_.Jb({type:vc,selectors:[["app-student-view"]],decls:4,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"mw-640","app","mt-4",3,"resize"],["class","alert alert-danger mt-2",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog"],[1,"alert","alert-danger","mt-2"],[1,"row","m-0"],[1,"col-md-12","text-center"],[1,"text-title",2,"word-break","break-word"],[1,"text-title",2,"word-break","break-word","font-size","16px"],[2,"color","#00a7d0"],[1,"pl-2",3,"fileName","linkUrl"],[1,"col-md-12",2,"margin","0 auto"],[1,"text-center"],["class","row my-2",4,"ngIf"],[1,"card-info","text-center"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[1,"col-12","col-sm-6","pl-md-5"],[1,"row","my-2","mt-4"],[1,"col-md-12"],["mat-raised-button","","class","btn-custom",3,"click",4,"ngIf"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","tenant_id","cur_cateId","hashId","back_link"],["id","monitorScreen",1,"align-self-center","text-center",2,"margin","auto",3,"ngClass"],["monitorScreen",""],["mat-raised-button","",1,"btn-custom",3,"click"],[1,"note-exam","mt-1"]],template:function(t,e){if(1&t&&(_.Qb(0,"header-frontend",0),_.Pc(1,cc,1,0,"azt-loading-effect",1),_.Pc(2,fc,4,3,"ng-template",null,2,_.Qc)),2&t){var n=_.zc(3);_.nc("headerTitle","B\u1eaft \u0111\u1ea7u thi")("back_link",e.back_link),_.Db(1),_.nc("ngIf",e.status_obj.loading)("ngIfElse",n)}},directives:[C.a,l.m,U.a,Rs,Fs.a,V.a,M.a,sc,l.k,pt.b],pipes:[wt.q,l.f],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.box[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}.score-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-right:15px}.score[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:red;margin-right:25px}.text-time[_ngcontent-%COMP%]{color:#a0a0a0}.btn-redirect[_ngcontent-%COMP%]{color:#000}.monitor-height[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;padding:0;position:relative;max-width:100%}.mobile-monitor[_ngcontent-%COMP%]{height:40px;position:relative;margin-left:20px}@media screen and (max-width:480px){.card-info[_ngcontent-%COMP%]{width:100%}.btn-redirect[_ngcontent-%COMP%]{margin-top:10px;display:block}.score[_ngcontent-%COMP%]{margin-right:0}}.note-exam[_ngcontent-%COMP%]{text-align:justify;font-size:15px;padding:20px 10px}.note-exam[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:red}"]}),vc),wc=((pc=function(){function t(e,n){a(this,t),this.router=e,this.commonService=n}return c(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||pc)(_.Pb(d.i),_.Pb(y.a))},pc.\u0275cmp=_.Jb({type:pc,selectors:[["app-test-dashboard"]],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(t,e){1&t&&(_.Vb(0,"div",0),_.Qb(1,"router-outlet"),_.Ub())},directives:[d.m],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:0 1px 7px rgba(169,151,151,.24)}"]}),pc),_c=o("hkFF");function yc(t,e){1&t&&_.Qb(0,"azt-loading-effect")}function kc(t,e){if(1&t&&(_.Vb(0,"div",3),_.Qb(1,"azt-test-result-tracking",4),_.Ub()),2&t){var n=_.gc();_.Db(1),_.nc("data",n.data)("dataScroll",n.dataScroll)}}var Sc,Ic,Dc,Pc=[{path:"",component:wc,canActivate:[w.a],children:[{path:"",canActivateChild:[w.a],children:[{path:":hash_id",component:xc},{path:"category/:tenant_id/:cate_id/:page",component:Os},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:nt},{path:"student-view/:tenant_id/:cate_id/:hash_id",component:k},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:ls},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:I},{path:"test-result-tracking/:result_id/:hash_id",component:(Sc=function(){function t(e,n,i){a(this,t),this.activeRoute=e,this.apiExamService=n,this.commonService=i,this.data=[],this.dataScroll=[],this.groupObjs=[],this.scrollObjs=[],this.isLoading=!1,this.back_link="",this.curCateId=0,this.offset=0,this.examHasdId=0}return c(t,[{key:"findReTapQuesions",value:function(){for(var t=[],e=0;e<this.data.length;e++)"scroll"!=this.data[e][0]&&t.push({index:this.data[e][0],alpha:this.data[e][1],key:this.data[e][2],questionId:this.data[e][3],second:this.data[e][4]});for(var n=0;n<this.dataScroll.length;n++)this.dataScroll[n][0]&&this.scrollObjs.push({second:this.dataScroll[n][2],scrollPos:this.dataScroll[n][1]});var i=this.commonService.getDictionaryByGroupField(t,"index");for(var o in i)this.groupObjs.push(i[o])}},{key:"handleError",value:function(t){var e=this;this.commonService.myTranslate([t.message,"lang_cms_common_ok"]).subscribe(function(n){e.commonService.snackError(n[t.message],n.lang_cms_common_ok)})}},{key:"getData",value:function(t){var e=this;this.isLoading=!0,this.apiExamService.GetFrontExamWithExamAnswer(this.examHasdId,t).subscribe(function(t){if(1==t.success){if(null!=t.data.resultTrack)var n=e.commonService.parseJson(e.commonService.decodeContentGzip(t.data.resultTrack.trackData));e.data=n||e.data;for(var i=0;i<e.data.length;i++)"scroll"==e.data[i][0]&&e.dataScroll.push(e.data[i]);t.data.examObj&&(e.back_link="/admin/testbank/tested-list/"+(t.data.examObj.categoryId?t.data.examObj.categoryId:0)+"/"+t.data.examObj.id+"/0"),e.findReTapQuesions()}else e.handleError(t);e.isLoading=!1})}},{key:"ngOnInit",value:function(){this.commonService.translateMetaData({title:"Chi ti\u1ebft qu\xe1 tr\xecnh l\xe0m tr\u1eafc nghi\u1ec7m",description:"Azota - Chi ti\u1ebft qu\xe1 tr\xecnh l\xe0m tr\u1eafc nghi\u1ec7m",image:"lang_cms_test_image"}),this.offset=(new Date).getTimezoneOffset();var t=this.activeRoute.snapshot.paramMap.get("result_id");this.examHasdId=this.activeRoute.snapshot.paramMap.get("hash_id"),this.getData(t)}}]),t}(),Sc.\u0275fac=function(t){return new(t||Sc)(_.Pb(d.a),_.Pb(O.a),_.Pb(y.a))},Sc.\u0275cmp=_.Jb({type:Sc,selectors:[["app-test-front-result-tracking"]],decls:4,vars:3,consts:[[3,"headerTitle"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"container-fluid","mt-3","mb-5"],[3,"data","dataScroll"]],template:function(t,e){if(1&t&&(_.Qb(0,"header-frontend",0),_.Pc(1,yc,1,0,"azt-loading-effect",1),_.Pc(2,kc,2,2,"ng-template",null,2,_.Qc)),2&t){var n=_.zc(3);_.nc("headerTitle","Qu\xe1 tr\xecnh l\xe0m b\xe0i c\u1ee7a th\xed sinh"),_.Db(1),_.nc("ngIf",e.isLoading)("ngIfElse",n)}},directives:[C.a,l.m,U.a,_c.a],styles:[""]}),Sc)}]}]}],Oc=((Dc=function t(){a(this,t)}).\u0275mod=_.Nb({type:Dc}),Dc.\u0275inj=_.Mb({factory:function(t){return new(t||Dc)},imports:[[d.l.forChild(Pc)],d.l,x.c]}),Dc),Cc=((Ic=function t(){a(this,t)}).\u0275mod=_.Nb({type:Ic}),Ic.\u0275inj=_.Mb({factory:function(t){return new(t||Ic)},imports:[[d.l,l.c,p.a,m.b,Oc,u.m,u.x,b.f,v.a,h.b,g.b,f.a]]}),Ic)}}])}();