(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[767],{1643:(ht,C,O)=>{"use strict";O.d(C,{p:()=>L});var t=O(55330),r=O(5e3),p=O(63382),c=O(35018),u=O(69808),g=O(1033);const x=function(e){return{"rotated-img":e}},m=function(e,A,B,I){return{"width.px":e,"height.px":A,"aspect-ratio":B,transform:I}};function b(e,A){if(1&e&&(r._UZ(0,"img",8),r.ALo(1,"mycdn")),2&e){const B=r.oxw(2).$implicit,I=r.oxw(2);r.s9C("src",r.lcZ(1,4,B.backgroundImage),r.LSH),r.Q6J("ngClass",r.VKq(6,x,I.isRightRotation(B.rotation||0)))("ngStyle",r.l5B(8,m,(B.width||0)<(B.height||0)?"auto":I.isRightRotation(B.rotation||0)?B.height:B.width,(B.width||0)>(B.height||0)?"auto":I.isRightRotation(B.rotation||0)?B.width:B.height,(B.width||0)/(B.height||1),"rotate("+B.rotation+"deg)")),r.uIk("data-ratio",(B.width||0)/(B.height||1))}}function o(e,A){1&e&&(r.TgZ(0,"div",9),r._uU(1),r.ALo(2,"mytranslate"),r.qZA()),2&e&&(r.xp6(1),r.Oqu(r.lcZ(2,1,"lang_auto_dinh_dang_file_khong_ho_tro_xuat_ra_pdf_he_thong_chi_xuat_duoc_file_pdf_doi_voi_file_tai_len_dang_anh_va_pdf")))}function d(e,A){if(1&e&&(r._UZ(0,"img",10),r.ALo(1,"mycdn")),2&e){const B=r.oxw(2).$implicit;r.s9C("src",r.lcZ(1,1,B.draw),r.LSH)}}function s(e,A){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const B=r.oxw(6);r.xp6(1),r.hij(" ",null==B.result.staticTextConfigParse?null:B.result.staticTextConfigParse.textCorrect," ")}}function l(e,A){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const B=r.oxw(6);r.xp6(1),r.hij(" ",null==B.result.staticTextConfigParse?null:B.result.staticTextConfigParse.textWrong," ")}}function a(e,A){if(1&e&&r._UZ(0,"img",13),2&e){const B=r.oxw(6);r.s9C("src","assets/images/classlive/"+(null==B.result.staticTextConfigParse?null:B.result.staticTextConfigParse.urlImgCorrect),r.LSH)}}function h(e,A){if(1&e&&r._UZ(0,"img",13),2&e){const B=r.oxw(6);r.s9C("src","assets/images/classlive/"+(null==B.result.staticTextConfigParse?null:B.result.staticTextConfigParse.urlImgWrong),r.LSH)}}const y=function(e,A,B,I,J){return{"font-family":e,color:A,"font-size":B,position:"absolute","z-index":2,"top.px":I,"left.px":J}};function i(e,A){if(1&e&&(r.ynx(0),r.TgZ(1,"span",11),r.YNc(2,s,2,1,"ng-container",0),r.YNc(3,l,2,1,"ng-container",0),r.YNc(4,a,1,1,"img",12),r.YNc(5,h,1,1,"img",12),r.qZA(),r.BQk()),2&e){const B=A.$implicit,I=r.oxw(5);r.xp6(1),r.Q6J("ngStyle",r.qbA(5,y,null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.fontText,null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.fontColor,(null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.fontSize)+"px",B.y,B.x)),r.xp6(1),r.Q6J("ngIf",(null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.useCorrectText)&&"correct"==B.value),r.xp6(1),r.Q6J("ngIf",(null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.useCorrectText)&&"wrong"==B.value),r.xp6(1),r.Q6J("ngIf",!(null!=I.result.staticTextConfigParse&&I.result.staticTextConfigParse.useCorrectText)&&"correct"==B.value),r.xp6(1),r.Q6J("ngIf",!(null!=I.result.staticTextConfigParse&&I.result.staticTextConfigParse.useWrongText)&&"wrong"==B.value)}}function f(e,A){if(1&e&&r.YNc(0,i,6,11,"ng-container",2),2&e){const B=r.oxw(2).$implicit;r.Q6J("ngForOf",B.staticText)}}const S=function(e,A,B,I,J,W){return{"font-family":e,color:A,"font-size":B,display:"block","line-height":1.5,position:"absolute",letterSpacing:"3px",fontWeight:"bold","z-index":3,"text-align":I,"top.px":J,"left.px":W}};function k(e,A){if(1&e&&(r.ynx(0),r._UZ(1,"span",14),r.ALo(2,"formatNoteBreak"),r.BQk()),2&e){const B=A.$implicit;r.xp6(1),r.Q6J("ngStyle",r.HTZ(4,S,B.textStyle.font,B.textStyle.color,B.textStyle.size+"px",B.textStyle.align,B.y,B.x))("innerHtml",r.lcZ(2,2,B.value),r.oJD)}}function T(e,A){if(1&e&&r.YNc(0,k,3,11,"ng-container",2),2&e){const B=r.oxw(2).$implicit;r.Q6J("ngForOf",B.objText)}}function P(e,A){if(1&e&&(r.YNc(0,b,2,13,"img",5),r.ALo(1,"isImageExtension"),r.YNc(2,o,3,3,"ng-template",null,6,r.W1O),r.YNc(4,d,2,3,"img",7),r.YNc(5,f,1,1,"ng-template",4),r.YNc(6,T,1,1,"ng-template",4)),2&e){const B=r.MAs(3),I=r.oxw().$implicit;r.Q6J("ngIf",r.lcZ(1,5,(null==I?null:I.backgroundImage)||""))("ngIfElse",B),r.xp6(4),r.Q6J("ngIf",I.draw),r.xp6(1),r.Q6J("ngIf",I.staticText&&I.staticText.length>0),r.xp6(1),r.Q6J("ngIf",I.objText&&I.objText.length>0)}}const N=function(e,A){return{position:"relative","width.px":e,"height.px":A,display:"flex","justify-content":"center","align-items":"center",margin:"0 auto"}};function K(e,A){if(1&e&&(r.ynx(0),r.TgZ(1,"div",3),r.YNc(2,P,7,7,"ng-template",4),r.qZA(),r.BQk()),2&e){const B=A.$implicit;r.xp6(1),r.Q6J("ngStyle",r.WLB(2,N,B.width,B.height)),r.xp6(1),r.Q6J("ngIf",null==B?null:B.backgroundImage)}}function w(e,A){if(1&e&&(r.ynx(0),r.TgZ(1,"h3",1)(2,"span"),r._uU(3),r.qZA()(),r.YNc(4,K,3,5,"ng-container",2),r.BQk()),2&e){const B=r.oxw();r.xp6(3),r.Oqu(B.title),r.xp6(1),r.Q6J("ngForOf",B.result.pages)}}let L=(()=>{class e extends t.Q{constructor(B,I){super(I),this.iframeService=B,this.commonService=I,this.title="\u1ea2nh b\xe0i l\xe0m t\u1ef1 lu\u1eadn",this.result={}}isRightRotation(B){return 1==Math.abs(B/90%2)}ngOnInit(){this.result.staticTextConfig&&(this.result.staticTextConfigParse=this.commonService.myParseJson(this.result.staticTextConfig)),super.ngOnInit()}ngOnChanges(){this.result.staticTextConfig&&(this.result.staticTextConfigParse=this.commonService.myParseJson(this.result.staticTextConfig))}}return e.\u0275fac=function(B){return new(B||e)(r.Y36(p.X),r.Y36(c.v))},e.\u0275cmp=r.Xpm({type:e,selectors:[["azt-export-essay-template"]],inputs:{title:"title",result:"result"},features:[r.qOj,r.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["id","essayPdfTitle",1,"text-center","mt-2"],[4,"ngFor","ngForOf"],[1,"mb-2","essayPdfImage",3,"ngStyle"],[3,"ngIf"],["class","user-img img_respon","alt","",3,"ngClass","ngStyle","src",4,"ngIf","ngIfElse"],["noSupportExtension",""],["style","position: absolute; z-index: 1; top: 0; left: 0","class","user-img img_respon","alt","",3,"src",4,"ngIf"],["alt","",1,"user-img","img_respon",3,"ngClass","ngStyle","src"],[1,"p-2","text-center",2,"border","2px solid red"],["alt","",1,"user-img","img_respon",2,"position","absolute","z-index","1","top","0","left","0",3,"src"],[2,"min-height","50px","min-width","50px","font-weight","bold","display","flex","line-height","1.5","font-weight","bold","align-items","center","justify-content","center","text-shadow","rgb(130 126 126) 1px 1px 1px",3,"ngStyle"],["width","30","height","30","class","","alt","",3,"src",4,"ngIf"],["width","30","height","30","alt","",1,"",3,"src"],[3,"ngStyle","innerHtml"]],template:function(B,I){1&B&&r.YNc(0,w,5,2,"ng-container",0),2&B&&r.Q6J("ngIf",I.result)},dependencies:[u.mk,u.sg,u.O5,u.PC,g.bT,g.GT,g.AL,g.kJ],encapsulation:2}),e})()},83467:(ht,C,O)=>{"use strict";O.d(C,{O:()=>z});var t=O(5e3),r=O(55330),p=O(35018),c=O(72491),u=O(74202),g=O(69808),x=O(69287),m=O(25245),b=O(44841),o=O(64123),d=O(37104),s=O(1033);function l(F,q){if(1&F){const R=t.EpF();t.TgZ(0,"div")(1,"div",4)(2,"p",5),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p",6),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"a",7),t.NdJ("click",function(){t.CHM(R);const nt=t.oxw();return t.KtG(nt.showCopySuccess())}),t.TgZ(11,"mat-icon",8),t._uU(12,"share"),t.qZA(),t.TgZ(13,"span",8),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()}if(2&F){const R=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,6,"lang_auto_chua_co_du_lieu_nop_bai")),t.xp6(3),t.lnq("",t.lcZ(7,8,"lang_auto_neu_chua_gui_link_nop_bai_cho_hoc_sinh_vui_long_bam"),' "',t.lcZ(8,10,"lang_auto_copy_link_bai_tap"),'" ',t.lcZ(9,12,"lang_auto_ben_duoi_va_gui_cho_hoc_sinh_de_nop_bai"),""),t.xp6(4),t.Q6J("cdkCopyToClipboard",R.copyLinkHomeWorkToClipboard()),t.xp6(4),t.hij("\xa0",t.lcZ(15,14,"lang_auto_copy_link_bai_tap"),"")}}function a(F,q){1&F&&(t.TgZ(0,"p",29),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&F&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_cham")," "))}function h(F,q){1&F&&(t.TgZ(0,"p",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&F&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_nop")," "))}function y(F,q){1&F&&(t.TgZ(0,"p",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&F&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_da_yeu_cau_nop_lai")," "))}function i(F,q){if(1&F&&(t.TgZ(0,"p",31),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._UZ(4,"azt-check-mark",32),t.qZA()()),2&F){const R=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_diem"),": "),t.xp6(3),t.Q6J("mark",R.point)}}function f(F,q){if(1&F&&(t.TgZ(0,"p",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&F){const R=t.oxw(2).$implicit,X=t.oxw(2);t.xp6(1),t.AsE(" ",X.calculationTime(R.createdAt)," ",t.lcZ(2,2,"lang_auto_truoc")," ")}}function S(F,q){if(1&F&&(t.TgZ(0,"div",23)(1,"p",33),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"p",33),t._uU(5),t.qZA()()),2&F){const R=t.oxw(2).$implicit;let X;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_so_tep_tin_da_nop"),": "),t.xp6(3),t.hij(" ",null!==(X=null==R.answerFileObjs?null:R.answerFileObjs.length)&&void 0!==X?X:0," ")}}const k=function(F){return[F]},T=function(F){return{backto:F}},P=function(F){return{disableClick:F}};function N(F,q){if(1&F&&(t.TgZ(0,"div")(1,"a",15),t.ALo(2,"mylocalize"),t.TgZ(3,"div",16)(4,"div",17)(5,"span",18),t._UZ(6,"azt-create-avatar",19),t.qZA(),t.TgZ(7,"div",20)(8,"div",21)(9,"span",8)(10,"span",22),t._uU(11),t.qZA()()(),t.TgZ(12,"div",23),t.YNc(13,a,3,3,"p",24),t.YNc(14,h,3,3,"p",25),t.YNc(15,y,3,3,"p",25),t.YNc(16,i,5,4,"p",26),t.YNc(17,f,3,4,"p",27),t.qZA(),t.YNc(18,S,6,4,"div",28),t.qZA()()()()()),2&F){const R=t.oxw().$implicit,X=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(15,k,t.lcZ(2,13,"/admin/homework/mark-exercise/"+R.answer.id+"/"+X.obj.hashId)))("queryParams",t.VKq(17,T,X.backToLink)),t.xp6(2),t.Q6J("ngClass",t.VKq(19,P,R.isNotSubmit||R.mustReSubmit)),t.xp6(3),t.Q6J("linkAvatar",R.avatar)("nameCreateAvatar",R.fullName)("size",30),t.xp6(5),t.Oqu(R.fullName),t.xp6(2),t.Q6J("ngIf",R.isSubmitted),t.xp6(1),t.Q6J("ngIf",R.isNotSubmit),t.xp6(1),t.Q6J("ngIf",R.mustReSubmit),t.xp6(1),t.Q6J("ngIf",R.isMarked),t.xp6(1),t.Q6J("ngIf",null!=R.createdAt),t.xp6(1),t.Q6J("ngIf",R.isMarked||R.isSubmitted)}}function K(F,q){1&F&&(t.TgZ(0,"p",29),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&F&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_cham")," "))}function w(F,q){1&F&&(t.TgZ(0,"p",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&F&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_nop")," "))}function L(F,q){1&F&&(t.TgZ(0,"p",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&F&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_da_yeu_cau_nop_lai")," "))}function e(F,q){if(1&F&&(t.TgZ(0,"p",31),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.qZA()()),2&F){const R=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_diem"),": "),t.xp6(3),t.Oqu(R.point)}}function A(F,q){if(1&F&&(t.TgZ(0,"p",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&F){const R=t.oxw(2).$implicit,X=t.oxw(2);t.xp6(1),t.AsE(" ",X.calculationTime(R.createdAt)," ",t.lcZ(2,2,"lang_auto_truoc")," ")}}function B(F,q){1&F&&(t.TgZ(0,"div",23)(1,"p",33),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"p",33),t._uU(5," 0 "),t.qZA()()),2&F&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_so_tep_tin_da_nop"),": "))}function I(F,q){if(1&F){const R=t.EpF();t.TgZ(0,"div",16)(1,"div",17)(2,"span",18),t._UZ(3,"azt-create-avatar",19),t.qZA(),t.TgZ(4,"div",34),t.NdJ("click",function(){t.CHM(R);const nt=t.oxw().$implicit,tt=t.oxw(2);return t.KtG(tt.goToResultReview(nt))}),t.TgZ(5,"div",21)(6,"span",8)(7,"span",22),t._uU(8),t.qZA()()(),t.TgZ(9,"div",23),t.YNc(10,K,3,3,"p",24),t.YNc(11,w,3,3,"p",25),t.YNc(12,L,3,3,"p",25),t.YNc(13,e,5,4,"p",26),t.YNc(14,A,3,4,"p",27),t.qZA(),t.YNc(15,B,6,3,"div",28),t.qZA()()()}if(2&F){const R=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(11,P,R.isNotSubmit||R.mustReSubmit)),t.xp6(3),t.Q6J("linkAvatar",R.avatar)("nameCreateAvatar",R.fullName)("size",30),t.xp6(5),t.Oqu(R.fullName),t.xp6(2),t.Q6J("ngIf",R.isSubmitted),t.xp6(1),t.Q6J("ngIf",R.isNotSubmit),t.xp6(1),t.Q6J("ngIf",R.mustReSubmit),t.xp6(1),t.Q6J("ngIf",R.isMarked),t.xp6(1),t.Q6J("ngIf",null!=R.createdAt),t.xp6(1),t.Q6J("ngIf",R.isMarked||R.isSubmitted)}}const J=function(F){return{"col-lg-4":F}};function W(F,q){if(1&F&&(t.TgZ(0,"div",12),t.YNc(1,N,19,21,"div",13),t.YNc(2,I,16,13,"ng-template",null,14,t.W1O),t.qZA()),2&F){const R=q.$implicit,X=t.MAs(3),nt=t.oxw(2);t.Q6J("ngClass",t.VKq(3,J,nt.isOpenSideNav)),t.xp6(1),t.Q6J("ngIf",R.answer)("ngIfElse",X)}}function V(F,q){if(1&F&&(t.TgZ(0,"div",9)(1,"div",10),t.YNc(2,W,4,5,"div",11),t.qZA()()),2&F){const R=t.oxw();t.xp6(2),t.Q6J("ngForOf",R.studentLists)}}const U=function(){return{suppressScrollX:!0}};let z=(()=>{class F extends r.Q{constructor(R,X){super(R),this.commonService=R,this.timeService=X,this.isSortByTime=!1,this.backToLink="",this.searchKey="",this.studentLists=[],this.isNotTestedYet=!1,this.isOpenSideNav=!0,this.obj={},this.goToResult=new t.vpe}goToResultReview(R){R.isNotSubmit||R.mustReSubmit||this.goToResult.emit(R)}copyLinkHomeWorkToClipboard(){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${this.obj.hashId}`}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}calculationTime(R,X){return this.timeService.calculationTime(R,X)}}return F.\u0275fac=function(R){return new(R||F)(t.Y36(p.v),t.Y36(c.O))},F.\u0275cmp=t.Xpm({type:F,selectors:[["app-student-homework-result"]],inputs:{isSortByTime:"isSortByTime",backToLink:"backToLink",searchKey:"searchKey",studentLists:"studentLists",isNotTestedYet:"isNotTestedYet",isOpenSideNav:"isOpenSideNav",obj:"obj"},outputs:{goToResult:"goToResult"},features:[t.qOj],decls:4,vars:5,consts:[[1,"box-content","py-2","scrollable-content"],[3,"config","scrollIndicators"],[4,"ngIf"],["class","pt-0 pb-2 px-3 ",4,"ngIf"],[1,"text-center","mt-5"],[1,"h5",2,"color","#333333","font-size","18px!important"],[1,"mt-2","ml-auto","mr-auto","w-60",2,"color","#333333"],[1,"clickable","mt-2","link__color","link__hover",2,"user-select","none",3,"cdkCopyToClipboard","click"],[2,"vertical-align","middle"],[1,"pt-0","pb-2","px-3"],[1,"row","ml-0","mr-0","pl-0","pr-0","mt-2"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2",3,"ngClass"],[4,"ngIf","ngIfElse"],["answerIdNull",""],[3,"routerLink","queryParams"],[1,"box-item",3,"ngClass"],[1,"student-item"],[1,"stdimg","align-self-center"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"stdinfo"],[1,"stdinfo-fullname"],[2,"vertical-align","middle","color","#333333","font-weight","400","font-size","15px","word-break","break-word"],[1,"d-flex","justify-content-between"],["style","color: #F39C12; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","color: #9F0000; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px; color: #9C9C9C",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[2,"color","#F39C12","font-size","13px","margin-bottom","2px"],[2,"color","#9F0000","font-size","13px","margin-bottom","2px"],[2,"font-size","13px","margin-bottom","2px"],[3,"mark"],[2,"font-size","13px","margin-bottom","2px","color","#9C9C9C"],[1,"stdinfo",3,"click"]],template:function(R,X){1&R&&(t.TgZ(0,"div",0)(1,"perfect-scrollbar",1),t.YNc(2,l,16,16,"div",2),t.YNc(3,V,3,1,"div",3),t.qZA()()),2&R&&(t.xp6(1),t.Q6J("config",t.DdM(4,U))("scrollIndicators",!0),t.xp6(1),t.Q6J("ngIf",X.isNotTestedYet),t.xp6(1),t.Q6J("ngIf",!X.isNotTestedYet))},dependencies:[u.yS,g.mk,g.sg,g.O5,x.i3,m.Hw,b.Vv,o.t,d.B,s.mp,s.bT],styles:[".box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e9e9e9;border-radius:5px;box-shadow:none}a[_ngcontent-%COMP%]{color:#000}.disableClick[_ngcontent-%COMP%]{cursor:default!important}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 166px);overflow:hidden}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;cursor:pointer;position:relative}.badge-testing[_ngcontent-%COMP%]{position:absolute;top:0;right:6px;border-radius:4px;padding:0 3px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%]{display:flex}.link-stu[_ngcontent-%COMP%]{display:flex;align-items:center}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.create-avatar[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin-top:2px;border-radius:50%;width:30px;text-transform:uppercase;height:30px;background:#ddd;text-align:center;padding-top:5px}.link__color[_ngcontent-%COMP%]{color:#2262ae!important}.link__hover[_ngcontent-%COMP%]:hover{color:#0a8f9e!important}@media screen and (max-width: 750px){.scrollable-content[_ngcontent-%COMP%]{min-height:calc(100vh - 170px);height:auto;overflow-y:inherit}.tested_list_container[_ngcontent-%COMP%]{height:auto}}"]}),F})()},10731:(ht,C,O)=>{"use strict";O.d(C,{x:()=>t});class t{constructor(){this.answerConfigParse=[],this.questionContentParse=[],this.answerLabelsMockup={}}}},296:(ht,C,O)=>{"use strict";O.d(C,{S:()=>m});var t=O(70655),r=O(10731),p=O(5e3),c=O(35018),u=O(15043),g=O(90893),x=O(20814);let m=(()=>{class b{constructor(d,s,l,a){this.commonService=d,this.cdnService=s,this.customQuestionAnswerConfig=l,this.exportPdfUtilsService=a}processEssayResultToBase64(d){var s,l,a,h,y;return(0,t.mG)(this,void 0,void 0,function*(){for(const i of null!==(s=d.pages)&&void 0!==s?s:[]){if(i.draw){this.cdnService.isViettelCDN(null!==(a=null===(l=d.pages)||void 0===l?void 0:l[0].backgroundImage)&&void 0!==a?a:"")&&(yield this.exportPdfUtilsService.asyncTimeout(500));const f=yield this.exportPdfUtilsService.convertAndRetryToBase64(i.draw);i.draw=f}if(this.cdnService.isViettelCDN(null!==(y=null===(h=d.pages)||void 0===h?void 0:h[0].backgroundImage)&&void 0!==y?y:"")&&(yield this.exportPdfUtilsService.asyncTimeout(500)),i.backgroundImage){const f=yield this.exportPdfUtilsService.convertAndRetryToBase64(i.backgroundImage);i.backgroundImage=f}}if(d.commentEmoji&&d.commentEmoji.length){let i="https://azota889.github.io/storage_public/mnote/",f=d.commentEmoji.length;for(let S=0;S<f;S++){let k=i+d.commentEmoji[S];const T=yield this.exportPdfUtilsService.convertAndRetryToBase64(k);d.commentEmoji[S]=T}}return d})}processGroupImagesToBase64(d,s){var l,a,h;return(0,t.mG)(this,void 0,void 0,function*(){if(d&&(null===(l=null==d?void 0:d[0].name)||void 0===l?void 0:l.startsWith("[PDFv2]")))for(const y of d)if(d[0].questionContentParse&&this.cdnService.isViettelCDN(null!==(a=d[0].questionContentParse[0].groupUrl)&&void 0!==a?a:"")&&(yield this.exportPdfUtilsService.asyncTimeout(500)),y.questionContentParse&&y.questionContentParse[0].groupUrl&&s.includes(null!==(h=y.indexLabel)&&void 0!==h?h:-1)){const i=yield this.exportPdfUtilsService.convertAndRetryToBase64(y.questionContentParse[0].groupUrl);y.questionContentParse[0].groupUrl=i}})}processQuestionImagesToBase64(d){var s,l,a,h;return(0,t.mG)(this,void 0,void 0,function*(){if(1==d[0].isImage)for(const y of d){this.cdnService.isViettelCDN(null!==(l=null===(s=d[0].questionContentParse)||void 0===s?void 0:s[0].url)&&void 0!==l?l:"")&&(yield this.exportPdfUtilsService.asyncTimeout(500));const i=yield this.exportPdfUtilsService.convertAndRetryToBase64(null!==(h=null===(a=y.questionContentParse)||void 0===a?void 0:a[0].url)&&void 0!==h?h:"");y.questionContentParse&&(y.questionContentParse[0].url=i)}})}processQuestionDocxContentToBase64(d){var s,l,a,h;return(0,t.mG)(this,void 0,void 0,function*(){if(0==d[0].isImage)for(const i of d){var y=this.exportPdfUtilsService.findImageSrcInContent(null!==(l=null===(s=i.questionContentParse)||void 0===s?void 0:s[0].content)&&void 0!==l?l:"");if(this.cdnService.isViettelCDN(y)&&(yield this.exportPdfUtilsService.asyncTimeout(500)),y&&!y.includes(";base64")){const f=yield this.exportPdfUtilsService.convertAndRetryToBase64(y);(null===(h=null===(a=i.questionContentParse)||void 0===a?void 0:a[0].content)||void 0===h?void 0:h.includes("img"))&&f&&(i.questionContentParse[0].content=i.questionContentParse[0].content.replace(y,f))}}})}convertAnswersArr(d,s){0!=d.length&&d.forEach(l=>{l.QuestionId&&l.AnswerContent&&l.AnswerContent[0]&&l.AnswerContent[0].Content&&(s[`id_${l.QuestionId}`]=l.AnswerContent[0].Content)})}parseQuestionsFor_PDFv2(d,s){var l,a;let h=this.commonService.castJsonToClassObjs(r.x,JSON.stringify(null===(l=s.data)||void 0===l?void 0:l.questionObjs));d=this.customQuestionAnswerConfig.changeQuestionContent(null!=h?h:[],!0);for(let y=0;y<d.length;y++)d[y].indexLabel=y,d[y].correctAnswer=this.commonService.filterArray(null===(a=s.data)||void 0===a?void 0:a.correctQuestionIds,d[y].id);return d}findScaleDirection(d,s){return d/s>=.7070707070707071?"w":"h"}}return b.\u0275fac=function(d){return new(d||b)(p.LFG(c.v),p.LFG(u.U),p.LFG(g.U),p.LFG(x.V))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},16031:(ht,C,O)=>{"use strict";O.d(C,{I:()=>a});var t=O(70655),r=O(4159),c=O(53583),u=O(17489),x=O(5e3),m=O(296),b=O(20814),o=O(88161);let a=(()=>{class h{constructor(i,f,S){this.exportPdfConvertDataService=i,this.exportPdfUtilsService=f,this.answerTypeService=S,this.totalDraw=1,this.countDraw=0,this.currentPos={top:10,left:10,right:10,bottom:10},this.pdfDoc=new c.jsPDF}get loadPercent(){return Math.floor(this.countDraw/this.totalDraw*100)}resetPosition(i){i&&(this.currentPos={left:parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-left").split("p")[0],10),top:parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-top").split("p")[0],10),right:parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-right").split("p")[0],10),bottom:parseInt(window.getComputedStyle(i,null).getPropertyValue("padding-bottom").split("p")[0],10)})}drawHomeworkNoteBoxOfTeacher(i){return(0,t.mG)(this,void 0,void 0,function*(){let f=document.querySelector(".box-point.display .text-mark");if(i){i.font="25px font_chu_dep",i.fillStyle="#000",f&&i.fillText("\u0110i\u1ec3m",90,this.currentPos.top+20),i.fillText("L\u1eddi ph\xea c\u1ee7a gi\xe1o vi\xean",420,this.currentPos.top+20),this.currentPos.top+=30;let S=document.querySelector(".box-msg .note p");if(S){i.lineWidth=2,i.fillStyle="#000",i.fillRect(this.currentPos.left,this.currentPos.top,i.canvas.width-this.currentPos.left-this.currentPos.right,1);const k=this.currentPos.top;let T=window.getComputedStyle(S,null).getPropertyValue("font"),P=window.getComputedStyle(S,null).getPropertyValue("color"),N=parseInt(T.split(" ")[0].split("p")[0],10);i.font=T;let w=this.exportPdfUtilsService.essayText2LinesArr(S.innerHTML,i,i.canvas.width-60-30-(f?200:0),16,T);this.currentPos.top+=35;const L=Math.round(1.5*N),e=this.currentPos.left+(f?200:0)+15;let A=0,B=200;for(let R=0;R<w.length;R++)for(let X=0;X<w[R].length;X++){const nt=w[R][X];i.font=T,i.fillStyle=P,i.fillText(nt,e,this.currentPos.top),this.currentPos.top+=L,A+=L}let I=document.querySelectorAll(".box-emoji> img"),J=this.currentPos.left+(f?100:0)+15,W=this.currentPos.top,V=78,U=78,z=15;I.forEach(R=>{var X;let nt=new Image;nt.src=null!==(X=R.getAttribute("src"))&&void 0!==X?X:"",nt.onload=()=>{J=J+V+z,i.drawImage(nt,J,W,V,U)}});let q=30+U;if(A>B-q&&(B=A+q),i.lineWidth=2,i.fillStyle="#000",i.fillRect(this.currentPos.left,k,1,B),f&&i.fillRect(this.currentPos.left+200,k,1,B),i.fillRect(i.canvas.width-this.currentPos.right,k,1,B),i.fillRect(this.currentPos.left,k+B,i.canvas.width-this.currentPos.right-this.currentPos.left,1),f){let R=f.getBoundingClientRect().width,X=f.getBoundingClientRect().height,nt=window.getComputedStyle(f,null).getPropertyValue("font"),tt=window.getComputedStyle(f,null).getPropertyValue("color");i.font=nt,i.fillStyle=tt,i.fillText(f.textContent?f.textContent:"",this.currentPos.left+100-R/2,k+B/2+X/4)}this.currentPos.top=k+B+20}else{if(i.lineWidth=2,i.rect(this.currentPos.left,this.currentPos.top,i.canvas.width-this.currentPos.left-this.currentPos.right,200),i.stroke(),f&&i.fillRect(this.currentPos.left+200,this.currentPos.top,1,200),f){let k=f.getBoundingClientRect().width,T=f.getBoundingClientRect().height,P=window.getComputedStyle(f,null).getPropertyValue("font"),N=window.getComputedStyle(f,null).getPropertyValue("color");i.font=P,i.fillStyle=N,i.fillText(f.textContent?f.textContent:"",this.currentPos.left+100-k/2,this.currentPos.top+150-T/2)}this.currentPos.top+=220}}})}drawExamTitle(i){if(i){let A=document.querySelector("#mainTitle span"),B=A?window.getComputedStyle(A,null).getPropertyValue("font"):"",I=null==A?void 0:A.getBoundingClientRect().width,J=null==A?void 0:A.getBoundingClientRect().height;var f=null==A?void 0:A.querySelector("img"),S=null==f?void 0:f.getBoundingClientRect().width,k=null==f?void 0:f.getBoundingClientRect().height,T=0;if(A&&A.textContent&&I&&J&&!(f&&S&&k)){var P=(i.canvas.width-I)/2,N=this.currentPos.top+15;i.font=B,i.fillStyle="#000",i.fillText(A.textContent,P,N),T=J+20}else A&&A.textContent&&I&&J&&f&&S&&k&&(P=(i.canvas.width-I)/2,N=this.currentPos.top+20,i.font=B,i.fillStyle="#000",i.fillText(A.textContent,P,N),T=J+40,i.drawImage(f,0,0,S,k,P+(I-S)+5,this.currentPos.top-10,S,k));T>0&&(this.currentPos.top+=T,this.countDraw++)}}drawExamSubTitle(i,f){if(i){let S=document.querySelector(f),k=S?window.getComputedStyle(S,null).getPropertyValue("font"):"",T=parseInt(k.split(" ")[0].split("p")[0],10),P=null==S?void 0:S.getBoundingClientRect().width,N=null==S?void 0:S.getBoundingClientRect().height;if(S&&S.textContent&&P&&N){let K=this.exportPdfUtilsService.drawTextWrap(S.textContent,i,P,16);for(let w=0;w<K.length;w++){const L=K[w];i.font=k,i.fillStyle="#000",i.fillText(L,this.currentPos.left,this.currentPos.top),this.currentPos.top+=1.3*T}this.currentPos.top+="#examName"==f?15:30}}}drawColLeftRightInHeaderOfExam(i){var f;let S=document.getElementById("colLeftInfo"),k=document.getElementById("colRightInfo"),T=S?S.querySelectorAll("h3"):void 0,P=k?k.querySelectorAll("h3"):void 0,N={top:0,left:0,right:0,bottom:0};if(i){if(i.font="16px Arial",T)for(let K=0;K<T.length;K++){0==K&&(N=u.cloneDeep(this.currentPos));const w=T[K];w.textContent&&(i.fillText(null!==(f=w.textContent)&&void 0!==f?f:"",this.currentPos.left,this.currentPos.top),this.currentPos.top+=w.getBoundingClientRect().height+5)}if(P)for(let K=0;K<P.length;K++){const w=P[K];w.textContent&&(i.fillText(w.textContent,i.canvas.width-this.currentPos.right-w.getBoundingClientRect().width,N.top),N.top+=w.getBoundingClientRect().height+5)}}}drawHorizonLineOfExam(i){this.currentPos.top=this.currentPos.top+10,i&&(i.fillStyle="#999",i.fillRect(this.currentPos.left,this.currentPos.top,i.canvas.width-this.currentPos.left-this.currentPos.right,2),this.currentPos.top+=10,this.countDraw++)}drawHeaderImageOfExam(i){let f=document.querySelector("#examHeader img");if(f&&i){let S=f.naturalWidth,k=f.naturalHeight,T=i.canvas.width-this.currentPos.left-this.currentPos.right,P=T*k/S;i.drawImage(f,0,0,S,k,this.currentPos.left,this.currentPos.top,T,P),this.currentPos.top+=P+20,this.countDraw++}}drawQuestionObjsInPdf(i,f,S){var k;if(i){let T=f.filter(P=>1==P.isImage);for(let P=0;P<T.length;P++){let N=T[P],K=null===(k=document.getElementById("question_item_box_"+N.id))||void 0===k?void 0:k.getBoundingClientRect().height;K&&K<i.canvas.height-this.currentPos.bottom-this.currentPos.top||(this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,i.canvas.toDataURL("image/jpeg",.8)),this.pdfDoc.addPage(),this.exportPdfUtilsService.eraseCanvas(i),this.resetPosition(S)),this.drawSinglePdfQuestion(i,S,N)}}}drawEssayOrDocxQuestionInCanvas(i,f){return(0,t.mG)(this,void 0,void 0,function*(){if(i){let S=document.querySelectorAll(".__canvas_render_item");if(S.length>0){let k=[];for(let T=0;T<S.length;T++)k.push(T);for(const T of k){const P=yield r(S[T]),N=i.canvas.width-this.currentPos.left-this.currentPos.right,K=N*P.height/P.width;if(K<=i.canvas.height-this.currentPos.bottom-this.currentPos.top)this.drawSingleDocxQuestionInCanvas(i,P,N,K);else if(this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,i.canvas.toDataURL("image/jpeg",.8)),this.pdfDoc.addPage(),this.exportPdfUtilsService.eraseCanvas(i),this.resetPosition(f),"h"==this.exportPdfConvertDataService.findScaleDirection(P.width,P.height)){const w=i.canvas.height-10-10,L=w*P.width/P.height;this.drawSingleDocxQuestionInCanvas(i,P,N,K,(i.canvas.width-L)/2,10,L,w)}else this.drawSingleDocxQuestionInCanvas(i,P,N,K)}this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,i.canvas.toDataURL("image/jpeg",.8))}else this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,i.canvas.toDataURL("image/jpeg",.8))}})}convertEssayBoxes2Canvas(i,f,S,k){return(0,t.mG)(this,void 0,void 0,function*(){let T=[];for(let P=0;P<i.length;P++)T.push(P);for(const P of T){const N=yield r(i[P]);if(0==P&&f){const L=(f.canvas.width-50-50)*N.height/N.width;k&&L>f.canvas.height-50-this.currentPos.top&&(this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,f.canvas.toDataURL("image/jpeg",1)),this.exportPdfUtilsService.eraseCanvas(f),this.resetPosition(S),this.pdfDoc.addPage()),this.addEssayImage(f,i,N,P)}else this.exportPdfUtilsService.eraseCanvas(f),this.resetPosition(S),this.addEssayImage(f,i,N,P)}})}drawEssayIframeContent(i,f,S){return(0,t.mG)(this,void 0,void 0,function*(){let k=document.querySelectorAll(".essayPdfImage");if(k.length>0&&i){S||(this.exportPdfUtilsService.eraseCanvas(i),this.resetPosition(f),this.pdfDoc.addPage());let T=document.querySelector("#essayPdfTitle span");i&&T&&T.textContent&&(i.font="18px Georgia",i.fillStyle="#333",i.fillText(T.textContent,(i.canvas.width-T.getBoundingClientRect().width)/2,this.currentPos.top+20),this.currentPos.top+=T.getBoundingClientRect().height+20),yield this.convertEssayBoxes2Canvas(k,i,f,S)}})}addEssayImage(i,f,S,k){if(i){if("w"==this.exportPdfConvertDataService.findScaleDirection(S.width,S.height))i.drawImage(S,0,0,S.width,S.height,50,this.currentPos.top+50,i.canvas.width-100,(i.canvas.width-100)*S.height/S.width);else{let T=i.canvas.height-this.currentPos.top-this.currentPos.bottom,P=T*S.width/S.height;i.drawImage(S,0,0,S.width,S.height,(i.canvas.width-P)/2,this.currentPos.top,P,T)}console.log(`[_Essay_image_] V\u1ebd \u1ea3nh t\u1ef1 lu\u1eadn s\u1ed1 ${k+1}`),this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,i.canvas.toDataURL("image/jpeg",1)),this.countDraw++,k!=f.length-1&&this.pdfDoc.addPage()}}drawSinglePdfQuestion(i,f,S){let k=document.getElementById("question_item_box_"+S.id);if(1==S.isImage&&k&&i){let e=k.querySelector(".image_group img");if(e){let B=e.naturalWidth,I=e.naturalHeight,J=i.canvas.width-this.currentPos.left-this.currentPos.right,W=J*I/B;this.currentPos.top+W<i.canvas.height-this.currentPos.bottom&&(i.drawImage(e,0,0,B,I,this.currentPos.left,this.currentPos.top,J,W),this.currentPos.top+=W+15)}let A=k.querySelector(".questionId_"+S.id);if(A){let B=A.naturalWidth,I=A.naturalHeight,J=i.canvas.width-this.currentPos.left-this.currentPos.right,W=J*I/B;i.drawImage(A,0,0,B,I,this.currentPos.left,this.currentPos.top,J,W),this.currentPos.top+=W+15}}k&&this.drawOfflineQuestionContent(i,k);let T,P=null==k?void 0:k.querySelectorAll(".answer-box");T=P?P[P.length-1]:T;let N="red",K=300;if(T&&(N=window.getComputedStyle(T,null).getPropertyValue("border-color"),K=T.getBoundingClientRect().width),i&&this.answerTypeService.isOneChoiceAnswer(S.answerType)){let e=i.canvas.width-this.currentPos.right-K;i.beginPath(),i.lineWidth=1,i.strokeStyle=N,i.rect(e,this.currentPos.top,K,46),i.stroke(),this.currentPos.top+=56}i&&!this.answerTypeService.isOneChoiceAnswer(S.answerType)&&(this.currentPos.top+=40,this.currentPos.left=30,this.drawRightAnswerForPdfQuestion(i,k,K,this.currentPos.left));let w=null==T?void 0:T.querySelectorAll(".label-item");if(i&&w&&w.length>0){let e=i.canvas.width-this.currentPos.right-30;for(let A=w.length-1;A>=0;A--){const B=w[A],I=B.querySelector("span"),J=B.querySelector(".rightIcon"),W=B.querySelector(".wrongIcon");I&&I.textContent&&(i.font="18px Arial",i.fillStyle="#000",i.fillText(I.textContent,e,this.currentPos.top-28)),J&&i.fillText("\u2705",e-20,this.currentPos.top-28),W&&i.fillText("\u274c",e-20,this.currentPos.top-28),I&&(e-=65+I.getBoundingClientRect().width)}}else{let e=null==k?void 0:k.querySelector(".answer-box");if(i){const A=Math.round(22.4),B=30,I=i.canvas.width-2*B;let J=e?jQuery("<textarea />").html(e.innerHTML).text():"Th\xed sinh kh\xf4ng nh\u1eadp th\xf4ng tin";J=J.replace(/<\/?[^>]+(>|$)/g,"");let W=this.exportPdfUtilsService.essayText2LinesArr(J,i,I,16);this.currentPos.top+=10;for(let V=0;V<W.length;V++){W[V].length*A>i.canvas.height-this.currentPos.bottom-this.currentPos.top&&(this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,i.canvas.toDataURL("image/jpeg")),this.pdfDoc.addPage(),this.exportPdfUtilsService.eraseCanvas(i),this.resetPosition(f));for(let z=0;z<W[V].length;z++){const F=W[V][z];i.fillStyle="#333",i.fillText(F,B,this.currentPos.top),this.currentPos.top+=A}this.currentPos.top+=20}}}this.answerTypeService.isOneChoiceAnswer(S.answerType)&&this.drawRightAnswerForPdfQuestion(i,k,K);let L=null==k?void 0:k.querySelector("._essayMarkInfo");i&&L&&L.textContent&&(i.fillStyle="#000",i.fillText(L.textContent,30,this.currentPos.top),this.currentPos.top+=50),this.countDraw++}drawRightAnswerForPdfQuestion(i,f,S,k){if(f){let T=f.querySelector(".keyText");if(i&&T&&T.textContent){let P=window.getComputedStyle(T,null).getPropertyValue("color");i.font="18px Arial",i.fillStyle=P,i.fillText(T.textContent,k||i.canvas.width-this.currentPos.right-S-T.getBoundingClientRect().width-30,this.currentPos.top-28)}}}drawSingleDocxQuestionInCanvas(i,f,S,k,T,P,N,K){i.drawImage(f,0,0,f.width,f.height,T||this.currentPos.left,P||this.currentPos.top,N||S,K||k),this.currentPos.top+=k+10,this.countDraw++}drawOfflineQuestionContent(i,f){var S;let k=f.querySelector(".question-offline-title");if(k){let P=k.getBoundingClientRect().width,N=k.getBoundingClientRect().height,K=window.getComputedStyle(k,null).getPropertyValue("font");i&&k&&k.textContent&&P&&N&&(i.font=K,i.fillStyle="#000",i.fillText(k.textContent,(i.canvas.width-P)/2,this.currentPos.top+15),this.currentPos.top+=N+30,this.countDraw++)}var T=f.querySelector(".question-offline-answer");if(T){let P=null!==(S=null==k?void 0:k.getBoundingClientRect().width)&&void 0!==S?S:0,N=T.getBoundingClientRect().width,K=T.getBoundingClientRect().height,w=window.getComputedStyle(T,null).getPropertyValue("font");if(i&&T&&T.textContent&&N&&K){i.font=w,i.fillStyle="#000";let L=0;T.textContent.split(".").forEach(e=>{i.fillText(e+=".",(i.canvas.width-P)/2+L,this.currentPos.top+5),L+=90}),this.currentPos.top+=K+10,this.countDraw++}}}examToPdf(i,f,S){return(0,t.mG)(this,void 0,void 0,function*(){this.countDraw=0,this.totalDraw=3+document.querySelectorAll("#examHeader").length+document.querySelectorAll("azt-question-item").length+document.querySelectorAll(".essayPdfImage").length,this.pdfDoc=new c.jsPDF;let k=document.createElement("canvas"),T=document.getElementById("multipleChoiceWrap");if(T){let K=T.getBoundingClientRect().width;k.width=K,k.height=297*K/210}let P=k.getContext("2d");return this.exportPdfUtilsService.eraseCanvas(P),T&&this.resetPosition(T),this.drawExamTitle(P),this.drawExamSubTitle(P,"#examName"),this.drawExamSubTitle(P,"#className"),this.drawColLeftRightInHeaderOfExam(P),this.drawHorizonLineOfExam(P),this.drawHeaderImageOfExam(P),T&&(this.drawQuestionObjsInPdf(P,i,T),yield this.drawEssayOrDocxQuestionInCanvas(P,T),yield this.drawEssayIframeContent(P,T)),this.countDraw=this.totalDraw,yield this.exportPdfUtilsService.asyncTimeout(1e3),"class"==f?this.pdfDoc.output("blob"):(this.pdfDoc.save(S||"test_result.pdf"),!0)})}homeworkToPdf(){return(0,t.mG)(this,void 0,void 0,function*(){this.pdfDoc=new c.jsPDF;let i=document.createElement("canvas"),f=document.getElementById("multipleChoiceWrap");if(f){let T=f.getBoundingClientRect().width;i.width=T,i.height=297*T/210}let S=i.getContext("2d");return this.exportPdfUtilsService.eraseCanvas(S),f&&this.resetPosition(f),this.drawExamTitle(S),this.drawColLeftRightInHeaderOfExam(S),yield this.drawHomeworkNoteBoxOfTeacher(S),f&&(yield this.drawEssayIframeContent(S,f,!0)),this.pdfDoc.output("blob")})}}return h.\u0275fac=function(i){return new(i||h)(x.LFG(m.S),x.LFG(b.V),x.LFG(o.T))},h.\u0275prov=x.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},20814:(ht,C,O)=>{"use strict";O.d(C,{V:()=>x});var t=O(70655),r=O(5e3),p=O(35018),c=O(15043),u=O(88161),g=(()=>{return(m=g||(g={}))[m.Cdn=0]="Cdn",m[m.CdnTimestamp=1]="CdnTimestamp",m[m.Rawlink=2]="Rawlink",m[m.RawlinkTimestamp=3]="RawlinkTimestamp",g;var m})();let x=(()=>{class m{constructor(o,d,s){this.commonService=o,this.cdnService=d,this.answerTypeService=s}isSupportedBrowswer(){var a,l,h;let d=(l=navigator.userAgent,h=l.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(h[1])?"IE "+((a=/\brv[ :]+(\d+)/g.exec(l)||[])[1]||""):"Chrome"===h[1]&&null!=(a=l.match(/\b(OPR|Edge)\/(\d+)/))?a.slice(1).join(" ").replace("OPR","Opera"):(h=h[2]?[h[1],h[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=l.match(/version\/(\d+)/i))&&h.splice(1,1,a[1]),h.join(" "))).toString();return!(!["chrome"].includes(d.split(" ")[0].toLowerCase())||parseInt(d.split(" ")[1],10)<80)}getExtensionFile(o){if(!o)return"";var d=o.split(".");return d.length<=1?"":d[d.length-1].toLocaleLowerCase().split("_")[0]}translateMetaTitle(o){var d,s,l,a;let h="Export PDF: ";this.commonService.translateMetaData({title:h+(null===(s=null===(d=o.data)||void 0===d?void 0:d.examObj)||void 0===s?void 0:s.name),description:h+(null===(a=null===(l=o.data)||void 0===l?void 0:l.examObj)||void 0===a?void 0:a.name),image:"lang_cms_test_image"})}findImageSrcInContent(o){var d="";if(o.includes("img")){var s=o.indexOf("img"),l=o.indexOf("src=",s),a=o.indexOf('"',Number(l)+5);d=o.substring(Number(l)+5,Number(a))}return d}asyncTimeout(o){return(0,t.mG)(this,void 0,void 0,function*(){return`Waited ${yield new Promise(s=>{setTimeout(()=>s(o),o)})} miliseconds`})}parseEssayMarkResult(o,d,s){var l;let a=o.filter(i=>this.answerTypeService.isEssayAnswer(i.answerType));if(0!=a.length){if(d&&d.essayResult){var h=this.commonService.willDeleteParseJson(d.essayResult);if(h){var y=Object.entries(h);for(let i=0;i<a.length;i++)a[i].essayMarkParsed=y[i][1]}}for(let i=0;i<a.length;i++){let f=a[i].id,S=s.filter(T=>T.questionId==f)[0],k=this.commonService.willDeleteParseJson(null!==(l=S.config)&&void 0!==l?l:"");a[i].scorePerQuestion=k?Number(k.ScorePerQuestion):0}}}convertToBase64(o,d){return(0,t.mG)(this,void 0,void 0,function*(){let s=o;switch(d){case g.Cdn:s=this.cdnService.getMyCdn(o);break;case g.CdnTimestamp:s=this.cdnService.getMyCdn(o)+"?t="+Date.now();break;case g.RawlinkTimestamp:s=o+"?t="+Date.now()}const a=yield(yield fetch(s)).blob(),h=yield new Promise(y=>{const i=new FileReader;i.readAsDataURL(a),i.onloadend=()=>{y(i.result)}});return h&&"string"==typeof h?h:(console.log("kh\xf4ng th\u1ec3 convert url n\xe0y th\xe0nh chu\u1ed7i base64: "+o),o)})}convertAndRetryToBase64(o){return(0,t.mG)(this,void 0,void 0,function*(){let d=this.getExtensionFile(o);if(["pdf","jpg","jpeg","png","gif"].includes(d)){let s;const l=[g.Cdn,g.CdnTimestamp,g.Rawlink,g.RawlinkTimestamp];if(this.cdnService.isViettelCDN(o)){console.log(">>>> YAAAAAA, \u0111\xe2y l\xe0 link Viettel, qu\xe1 tr\xecnh convert c\xf3 th\u1ec3 l\xe2u h\u01a1n b\xecnh th\u01b0\u1eddng, v\xec ph\u1ea3i convert tu\u1ea7n t\u1ef1 sau m\u1ed7i 0.5 gi\xe2y");try{s=yield this.convertToBase64(o,l[0])}catch(a){try{yield this.asyncTimeout(500),s=yield this.convertToBase64(o,l[1])}catch(h){console.log("Kh\xf4ng th\u1ec3 convert url VIETTEL n\xe0y th\xe0nh base64 sau 2 l\u1ea7n th\u1eed: "+o),s=o}}}else try{s=yield this.convertToBase64(o,l[0])}catch(a){try{s=yield this.convertToBase64(o,l[1])}catch(h){try{s=yield this.convertToBase64(o,l[2])}catch(y){try{s=yield this.convertToBase64(o,l[3])}catch(i){console.log("Kh\xf4ng th\u1ec3 convert url n\xe0y th\xe0nh base64 sau v\xe0i l\u1ea7n retry: "+o),s=o}}}}return s}return console.log("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3: "+o),o})}eraseCanvas(o){o&&(o.beginPath(),o.rect(0,0,o.canvas.width,o.canvas.height),o.fillStyle="white",o.fill())}addContentToPdf(o,d){o.addImage(d,"JPEG",0,0,o.internal.pageSize.getWidth(),o.internal.pageSize.getHeight())}drawTextWrap(o,d,s,l,a){let h=o.split(" "),y=[],i=h[0];if(d){d.font=a||`${l}px Arial`;for(let f=1;f<h.length;f++){let S=h[f];d.measureText(i+" "+S).width<s?i+=" "+S:(y.push(i),i=S)}y.push(i)}return y}essayText2LinesArr(o,d,s,l,a){var h;let y=new RegExp("(<br>|<br/>)+","igm"),f=(null!==(h=this.commonService.replaceAllByRegExp(o,y,"<br>"))&&void 0!==h?h:"").split("<br>"),S=[];for(let k=0;k<f.length;k++)S.push(this.drawTextWrap(f[k],d,s,l,a));return S}}return m.\u0275fac=function(o){return new(o||m)(r.LFG(p.v),r.LFG(c.U),r.LFG(u.T))},m.\u0275prov=r.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},91153:(ht,C,O)=>{"use strict";O.d(C,{Y:()=>p});var t=O(5e3),r=O(34782);let p=(()=>{class c{constructor(g){this.browserStorageService=g,this.global_data_filter={}}getCustomFilter(g,x){let m="";switch(g){case"exam":m="saveFilterExam_"+x;break;case"homework":m="saveFilterHomework_"+x}return this.global_data_filter[m]}setCustomFilter(g,x,m){let b="";switch(x){case"exam":b="saveFilterExam_"+m,this.global_data_filter[b]="",g.isMarked&&(this.global_data_filter[b]+="isMarked "),g.isNotMarked&&(this.global_data_filter[b]+="isNotMarked "),g.isOnTest&&(this.global_data_filter[b]+="isOnTest "),g.isNotTested&&(this.global_data_filter[b]+="isNotTested ");break;case"homework":b="saveFilterHomework_"+m,this.global_data_filter[b]="",g.isMarked&&(this.global_data_filter[b]+="isMarked "),g.isSubmitted&&(this.global_data_filter[b]+="isSubmitted "),g.isNotSubmit&&(this.global_data_filter[b]+="isNotSubmit "),g.mustReSubmit&&(this.global_data_filter[b]+="mustReSubmit ")}}removeCustomFilter(g,x){let m="";switch(g){case"exam":m="saveFilterExam_"+x,this.global_data_filter[m]="";break;case"homework":m="saveFilterHomework_"+x,this.global_data_filter[m]=""}}getStatusSideNav(g){var x;return null!==(x=this.browserStorageService.getSimpleStorage("statusSideNav_"+g))&&void 0!==x?x:""}removeStatusSideNav(g){this.browserStorageService.removeSimpleStorage("statusSideNav_"+g)}saveStatusSideNav(g,x){this.browserStorageService.saveSimpleStorage("statusSideNav_"+g,x?"open":"close")}}return c.\u0275fac=function(g){return new(g||c)(t.LFG(r.z))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},38720:(ht,C,O)=>{"use strict";O.d(C,{s:()=>s});var t=O(93075),r=O(48966),p=O(55330),c=O(41303),u=O(5e3),g=O(51930),x=O(35018),m=O(69808),b=O(47423),o=O(1033);function d(l,a){1&l&&(u.TgZ(0,"div",17)(1,"small",18),u._uU(2),u.ALo(3,"mytranslate"),u.qZA()()),2&l&&(u.xp6(2),u.hij(" * ",u.lcZ(3,1,"lang_student_class_list_utils_create_class_request_enter_class")," "))}let s=(()=>{class l extends p.Q{constructor(h,y,i,f,S){super(i),this.fb=h,this.classGroupService=y,this.commonService=i,this.dialogRef=f,this.data=S,this.form=new t.cw({})}btnCloseDialog(){this.dialogRef.close()}saveClass(){if(this.form.invalid||this.statusObj.loading)this.showErrorSnack("lang_auto_vui_long_dien_day_du_thong_tin");else{this.initStatusObj();let h=(new Date).getFullYear(),i={className:this.commonService.getFormObj(this.form).className,year:`${h} - ${h+1}`};this.classGroupService.apiClassGroupCreateClassWithGroupPost(i).subscribe(f=>{1==f.success?(this.successStatusObj(),this.showSuccessSnack("lang_auto_tao_thanh_cong_lop_hoc"),this.data.noReload||window.location.reload(),this.dialogRef.close()):(this.stopStatusObj(),this.showErrorSnack("lang_auto_tao_lop_hoc_khong_thanh_cong_vui_long_kiem_tra_lai_du_lieu"))})}}ngOnInit(){this.form=this.fb.group({className:new t.NI("",[t.kI.required,c._.noWhiteSpace])}),super.ngOnInit()}}return l.\u0275fac=function(h){return new(h||l)(u.Y36(t.qu),u.Y36(g.VZ),u.Y36(x.v),u.Y36(r.so,8),u.Y36(r.WI))},l.\u0275cmp=u.Xpm({type:l,selectors:[["create-classroom"]],features:[u.qOj],decls:25,vars:15,consts:[[1,"app"],[1,"app-head"],[1,"app-title"],[1,"app-body"],[3,"formGroup"],[1,"container-fluid"],[1,"row","setting-item"],[1,"col-5","setting-label"],[1,"p-0","m-0"],[1,"col-7","pl-0","pr-0"],["type","text","formControlName","className",1,"form-control","setting-input"],["class","col-12 pl-0 mt-1 text-left",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",1,"btn-close","btn-width",3,"click"],[1,"azt-block-button","ml-3"],["mat-raised-button","",1,"btn-azt-primary","btn-width",3,"disabled","click"],[1,"col-12","pl-0","mt-1","text-left"],[1,"text-left","text-danger"]],template:function(h,y){1&h&&(u.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),u._uU(3),u.ALo(4,"mytranslate"),u.qZA()(),u.TgZ(5,"div",3)(6,"form",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"p",8),u._uU(11),u.ALo(12,"mytranslate"),u.qZA()(),u.TgZ(13,"div",9),u._UZ(14,"input",10),u.qZA(),u.YNc(15,d,4,3,"div",11),u.qZA()()()(),u.TgZ(16,"div",12)(17,"div",13)(18,"button",14),u.NdJ("click",function(){return y.btnCloseDialog()}),u._uU(19),u.ALo(20,"mytranslate"),u.qZA()(),u.TgZ(21,"div",15)(22,"button",16),u.NdJ("click",function(){return y.saveClass()}),u._uU(23),u.ALo(24,"mytranslate"),u.qZA()()()()),2&h&&(u.xp6(3),u.hij(" ",u.lcZ(4,7,"lang_auto_tao_lop")," "),u.xp6(3),u.Q6J("formGroup",y.form),u.xp6(5),u.hij(" ",u.lcZ(12,9,"lang_auto_ten_lop")," "),u.xp6(4),u.Q6J("ngIf",y.form.controls.className.dirty&&y.form.controls.className.errors),u.xp6(4),u.Oqu(u.lcZ(20,11,"lang_auto_dong")),u.xp6(3),u.Q6J("disabled",y.form.invalid),u.xp6(1),u.Oqu(u.lcZ(24,13,"lang_auto_luu")))},dependencies:[m.O5,b.lW,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,o.bT],styles:[".app[_ngcontent-%COMP%]{max-width:500px;width:500px}.app-title[_ngcontent-%COMP%]{font-weight:500}.setting-input[_ngcontent-%COMP%]{height:100%;border-left:0px;border-top-left-radius:0;border-bottom-left-radius:0}.setting-label[_ngcontent-%COMP%]{padding:16px;align-self:center;line-height:1.5;color:#495057;background-color:#e9ecef;border:1px solid #ced4da;border-bottom-left-radius:5px;border-top-left-radius:5px;text-align:right}  .mat-checkbox-layout .mat-checkbox-label{font-weight:500}.custom-mix-question-height[_ngcontent-%COMP%]{height:160px}.custom-invalid-mix-form[_ngcontent-%COMP%]{border-color:#dc3545}.custom-mix-group-question[_ngcontent-%COMP%]{background-color:#e9ecef;padding-left:0!important;padding-right:0!important;margin-left:0!important;margin-right:0!important;padding-bottom:0!important;border:1px solid #ced4da;border-radius:.25rem}.test-config__formMixQuestion[_ngcontent-%COMP%]{border:none;border-left:1px solid #ced4da}.no-border[_ngcontent-%COMP%]{border:none}.btn-offline[_ngcontent-%COMP%]{background:#ec9b00;color:#fff;transition:all .5s}.btn-offline[_ngcontent-%COMP%]:hover{background:#c8860b}.custom-select[_ngcontent-%COMP%]{height:100%;border-top-left-radius:0;border-bottom-left-radius:0;border-left:none}.custom-select-md[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.25rem}.btn-width[_ngcontent-%COMP%]{width:140px}.paddingCustom[_ngcontent-%COMP%]{padding:143px .75rem}.class_list[_ngcontent-%COMP%]{height:220px;white-space:nowrap;padding-left:2px;overflow:hidden}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#2361ae}.setting-block-mix[_ngcontent-%COMP%]{height:125px;overflow:hidden}.btn-width[_ngcontent-%COMP%]{width:80px}@media screen and (max-width: 768px){.app[_ngcontent-%COMP%]{width:auto}}"]}),l})()},25650:ht=>{ht.exports=function C(O,t,r){function p(g,x){if(!t[g]){if(!O[g]){if(c)return c(g,!0);var b=new Error("Cannot find module '"+g+"'");throw b.code="MODULE_NOT_FOUND",b}var o=t[g]={exports:{}};O[g][0].call(o.exports,function(d){return p(O[g][1][d]||d)},o,o.exports,C,O,t,r)}return t[g].exports}for(var c=void 0,u=0;u<r.length;u++)p(r[u]);return p}({1:[function(C,O,t){"use strict";var r=C("./utils"),p=C("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(u){for(var g,x,m,o,d,s,l=[],a=0,h=u.length,y=h,i="string"!==r.getTypeOf(u);a<u.length;)y=h-a,m=i?(g=u[a++],x=a<h?u[a++]:0,a<h?u[a++]:0):(g=u.charCodeAt(a++),x=a<h?u.charCodeAt(a++):0,a<h?u.charCodeAt(a++):0),o=(3&g)<<4|x>>4,d=1<y?(15&x)<<2|m>>6:64,s=2<y?63&m:64,l.push(c.charAt(g>>2)+c.charAt(o)+c.charAt(d)+c.charAt(s));return l.join("")},t.decode=function(u){var g,x,m,b,o,d,s=0,l=0,a="data:";if(u.substr(0,a.length)===a)throw new Error("Invalid base64 input, it looks like a data url.");var h,y=3*(u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(u.charAt(u.length-1)===c.charAt(64)&&y--,u.charAt(u.length-2)===c.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=p.uint8array?new Uint8Array(0|y):new Array(0|y);s<u.length;)g=c.indexOf(u.charAt(s++))<<2|(b=c.indexOf(u.charAt(s++)))>>4,x=(15&b)<<4|(o=c.indexOf(u.charAt(s++)))>>2,m=(3&o)<<6|(d=c.indexOf(u.charAt(s++))),h[l++]=g,64!==o&&(h[l++]=x),64!==d&&(h[l++]=m);return h}},{"./support":30,"./utils":32}],2:[function(C,O,t){"use strict";var r=C("./external"),p=C("./stream/DataWorker"),c=C("./stream/Crc32Probe"),u=C("./stream/DataLengthProbe");function g(x,m,b,o,d){this.compressedSize=x,this.uncompressedSize=m,this.crc32=b,this.compression=o,this.compressedContent=d}g.prototype={getContentWorker:function(){var x=new p(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),m=this;return x.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new p(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},g.createWorkerFrom=function(x,m,b){return x.pipe(new c).pipe(new u("uncompressedSize")).pipe(m.compressWorker(b)).pipe(new u("compressedSize")).withStreamInfo("compression",m)},O.exports=g},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(C,O,t){"use strict";var r=C("./stream/GenericWorker");t.STORE={magic:"\0\0",compressWorker:function(p){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},t.DEFLATE=C("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(C,O,t){"use strict";var r=C("./utils"),p=function(){for(var c,u=[],g=0;g<256;g++){c=g;for(var x=0;x<8;x++)c=1&c?3988292384^c>>>1:c>>>1;u[g]=c}return u}();O.exports=function(c,u){return void 0!==c&&c.length?"string"!==r.getTypeOf(c)?function(g,x,m,b){var o=p,d=0+m;g^=-1;for(var s=0;s<d;s++)g=g>>>8^o[255&(g^x[s])];return-1^g}(0|u,c,c.length):function(g,x,m,b){var o=p,d=0+m;g^=-1;for(var s=0;s<d;s++)g=g>>>8^o[255&(g^x.charCodeAt(s))];return-1^g}(0|u,c,c.length):0}},{"./utils":32}],5:[function(C,O,t){"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},{}],6:[function(C,O,t){"use strict";var r;r="undefined"!=typeof Promise?Promise:C("lie"),O.exports={Promise:r}},{lie:37}],7:[function(C,O,t){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,p=C("pako"),c=C("./utils"),u=C("./stream/GenericWorker"),g=r?"uint8array":"array";function x(m,b){u.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=b,this.meta={}}t.magic="\b\0",c.inherits(x,u),x.prototype.processChunk=function(m){this.meta=m.meta,null===this._pako&&this._createPako(),this._pako.push(c.transformTo(g,m.data),!1)},x.prototype.flush=function(){u.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new p[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(b){m.push({data:b,meta:m.meta})}},t.compressWorker=function(m){return new x("Deflate",m)},t.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(C,O,t){"use strict";function r(o,d){var s,l="";for(s=0;s<d;s++)l+=String.fromCharCode(255&o),o>>>=8;return l}function p(o,d,s,l,a,h){var y,i,f=o.file,S=o.compression,k=h!==g.utf8encode,T=c.transformTo("string",h(f.name)),P=c.transformTo("string",g.utf8encode(f.name)),N=f.comment,K=c.transformTo("string",h(N)),w=c.transformTo("string",g.utf8encode(N)),L=P.length!==f.name.length,e=w.length!==N.length,A="",B="",I="",J=f.dir,W=f.date,V={crc32:0,compressedSize:0,uncompressedSize:0};d&&!s||(V.crc32=o.crc32,V.compressedSize=o.compressedSize,V.uncompressedSize=o.uncompressedSize);var U=0;d&&(U|=8),k||!L&&!e||(U|=2048);var R,nt,z=0,F=0;J&&(z|=16),"UNIX"===a?(F=798,z|=(nt=R=f.unixPermissions,R||(nt=J?16893:33204),(65535&nt)<<16)):(F=20,z|=function(R){return 63&(R||0)}(f.dosPermissions)),y=W.getUTCHours(),y<<=6,y|=W.getUTCMinutes(),y<<=5,y|=W.getUTCSeconds()/2,i=W.getUTCFullYear()-1980,i<<=4,i|=W.getUTCMonth()+1,i<<=5,i|=W.getUTCDate(),L&&(B=r(1,1)+r(x(T),4)+P,A+="up"+r(B.length,2)+B),e&&(I=r(1,1)+r(x(K),4)+w,A+="uc"+r(I.length,2)+I);var q="";return q+="\n\0",q+=r(U,2),q+=S.magic,q+=r(y,2),q+=r(i,2),q+=r(V.crc32,4),q+=r(V.compressedSize,4),q+=r(V.uncompressedSize,4),q+=r(T.length,2),q+=r(A.length,2),{fileRecord:m.LOCAL_FILE_HEADER+q+T+A,dirRecord:m.CENTRAL_FILE_HEADER+r(F,2)+q+r(K.length,2)+"\0\0\0\0"+r(z,4)+r(l,4)+T+A+K}}var c=C("../utils"),u=C("../stream/GenericWorker"),g=C("../utf8"),x=C("../crc32"),m=C("../signature");function b(o,d,s,l){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=s,this.encodeFileName=l,this.streamFiles=o,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(b,u),b.prototype.push=function(o){var d=o.meta.percent||0,s=this.entriesCount,l=this._sources.length;this.accumulate?this.contentBuffer.push(o):(this.bytesWritten+=o.data.length,u.prototype.push.call(this,{data:o.data,meta:{currentFile:this.currentFile,percent:s?(d+100*(s-l-1))/s:100}}))},b.prototype.openedSource=function(o){this.currentSourceOffset=this.bytesWritten,this.currentFile=o.file.name;var d=this.streamFiles&&!o.file.dir;if(d){var s=p(o,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(o){this.accumulate=!1;var l,d=this.streamFiles&&!o.file.dir,s=p(o,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),d)this.push({data:(l=o,m.DATA_DESCRIPTOR+r(l.crc32,4)+r(l.compressedSize,4)+r(l.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var o=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var a,h,y,S,l=(a=this.dirRecords.length,h=this.bytesWritten-o,y=o,S=c.transformTo("string",(0,this.encodeFileName)(this.zipComment)),m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(a,2)+r(a,2)+r(h,4)+r(y,4)+r(S.length,2)+S);this.push({data:l,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(o){this._sources.push(o);var d=this;return o.on("data",function(s){d.processChunk(s)}),o.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),o.on("error",function(s){d.error(s)}),this},b.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(o){var d=this._sources;if(!u.prototype.error.call(this,o))return!1;for(var s=0;s<d.length;s++)try{d[s].error(o)}catch(l){}return!0},b.prototype.lock=function(){u.prototype.lock.call(this);for(var o=this._sources,d=0;d<o.length;d++)o[d].lock()},O.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(C,O,t){"use strict";var r=C("../compressions"),p=C("./ZipFileWorker");t.generateWorker=function(c,u,g){var x=new p(u.streamFiles,g,u.platform,u.encodeFileName),m=0;try{c.forEach(function(b,o){m++;var d=function(h,y){var i=h||y,f=r[i];if(!f)throw new Error(i+" is not a valid compression method !");return f}(o.options.compression,u.compression),l=o.dir,a=o.date;o._compressWorker(d,o.options.compressionOptions||u.compressionOptions||{}).withStreamInfo("file",{name:b,dir:l,date:a,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(x)}),x.entriesCount=m}catch(b){x.error(b)}return x}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(C,O,t){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var p=new r;for(var c in this)"function"!=typeof this[c]&&(p[c]=this[c]);return p}}(r.prototype=C("./object")).loadAsync=C("./load"),r.support=C("./support"),r.defaults=C("./defaults"),r.version="3.10.0",r.loadAsync=function(p,c){return(new r).loadAsync(p,c)},r.external=C("./external"),O.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(C,O,t){"use strict";var r=C("./utils"),p=C("./external"),c=C("./utf8"),u=C("./zipEntries"),g=C("./stream/Crc32Probe"),x=C("./nodejsUtils");function m(b){return new p.Promise(function(o,d){var s=b.decompressed.getContentWorker().pipe(new g);s.on("error",function(l){d(l)}).on("end",function(){s.streamInfo.crc32!==b.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):o()}).resume()})}O.exports=function(b,o){var d=this;return o=r.extend(o||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),x.isNode&&x.isStream(b)?p.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",b,!0,o.optimizedBinaryString,o.base64).then(function(s){var l=new u(o);return l.load(s),l}).then(function(s){var l=[p.Promise.resolve(s)],a=s.files;if(o.checkCRC32)for(var h=0;h<a.length;h++)l.push(m(a[h]));return p.Promise.all(l)}).then(function(s){for(var l=s.shift(),a=l.files,h=0;h<a.length;h++){var y=a[h],i=y.fileNameStr,f=r.resolve(y.fileNameStr);d.file(f,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:o.createFolders}),y.dir||(d.file(f).unsafeOriginalName=i)}return l.zipComment.length&&(d.comment=l.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(C,O,t){"use strict";var r=C("../utils"),p=C("../stream/GenericWorker");function c(u,g){p.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(g)}r.inherits(c,p),c.prototype._bindStream=function(u){var g=this;(this._stream=u).pause(),u.on("data",function(x){g.push({data:x,meta:{percent:0}})}).on("error",function(x){g.isPaused?this.generatedError=x:g.error(x)}).on("end",function(){g.isPaused?g._upstreamEnded=!0:g.end()})},c.prototype.pause=function(){return!!p.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},O.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(C,O,t){"use strict";var r=C("readable-stream").Readable;function p(c,u,g){r.call(this,u),this._helper=c;var x=this;c.on("data",function(m,b){x.push(m)||x._helper.pause(),g&&g(b)}).on("error",function(m){x.emit("error",m)}).on("end",function(){x.push(null)})}C("../utils").inherits(p,r),p.prototype._read=function(){this._helper.resume()},O.exports=p},{"../utils":32,"readable-stream":16}],14:[function(C,O,t){"use strict";O.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(r,p){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,p);if("number"==typeof r)throw new Error('The "data" argument must not be a number');return new Buffer(r,p)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var p=new Buffer(r);return p.fill(0),p},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&"function"==typeof r.on&&"function"==typeof r.pause&&"function"==typeof r.resume}}},{}],15:[function(C,O,t){"use strict";function r(f,S,k){var T,P=c.getTypeOf(S),N=c.extend(k||{},x);N.date=N.date||new Date,null!==N.compression&&(N.compression=N.compression.toUpperCase()),"string"==typeof N.unixPermissions&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(f=a(f)),N.createFolders&&(T=l(f))&&h.call(this,T,!0),k&&void 0!==k.binary||(N.binary=!("string"===P&&!1===N.binary&&!1===N.base64)),(S instanceof m&&0===S.uncompressedSize||N.dir||!S||0===S.length)&&(N.base64=!1,N.binary=!0,S="",N.compression="STORE",P="string");var w;w=S instanceof m||S instanceof u?S:d.isNode&&d.isStream(S)?new s(f,S):c.prepareContent(f,S,N.binary,N.optimizedBinaryString,N.base64);var L=new b(f,w,N);this.files[f]=L}var p=C("./utf8"),c=C("./utils"),u=C("./stream/GenericWorker"),g=C("./stream/StreamHelper"),x=C("./defaults"),m=C("./compressedObject"),b=C("./zipObject"),o=C("./generate"),d=C("./nodejsUtils"),s=C("./nodejs/NodejsStreamInputAdapter"),l=function(f){"/"===f.slice(-1)&&(f=f.substring(0,f.length-1));var S=f.lastIndexOf("/");return 0<S?f.substring(0,S):""},a=function(f){return"/"!==f.slice(-1)&&(f+="/"),f},h=function(f,S){return S=void 0!==S?S:x.createFolders,f=a(f),this.files[f]||r.call(this,f,null,{dir:!0,createFolders:S}),this.files[f]};function y(f){return"[object RegExp]"===Object.prototype.toString.call(f)}var i={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(f){var S,k,T;for(S in this.files)T=this.files[S],(k=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&f(k,T)},filter:function(f){var S=[];return this.forEach(function(k,T){f(k,T)&&S.push(T)}),S},file:function(f,S,k){if(1!==arguments.length)return r.call(this,f=this.root+f,S,k),this;if(y(f)){var T=f;return this.filter(function(N,K){return!K.dir&&T.test(N)})}var P=this.files[this.root+f];return P&&!P.dir?P:null},folder:function(f){if(!f)return this;if(y(f))return this.filter(function(P,N){return N.dir&&f.test(P)});var k=h.call(this,this.root+f),T=this.clone();return T.root=k.name,T},remove:function(f){var S=this.files[f=this.root+f];if(S||("/"!==f.slice(-1)&&(f+="/"),S=this.files[f]),S&&!S.dir)delete this.files[f];else for(var k=this.filter(function(P,N){return N.name.slice(0,f.length)===f}),T=0;T<k.length;T++)delete this.files[k[T].name];return this},generate:function(f){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(f){var S,k={};try{if((k=c.extend(f||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:p.utf8encode})).type=k.type.toLowerCase(),k.compression=k.compression.toUpperCase(),"binarystring"===k.type&&(k.type="string"),!k.type)throw new Error("No output type specified.");c.checkSupport(k.type),"darwin"!==k.platform&&"freebsd"!==k.platform&&"linux"!==k.platform&&"sunos"!==k.platform||(k.platform="UNIX"),"win32"===k.platform&&(k.platform="DOS"),S=o.generateWorker(this,k,k.comment||this.comment||"")}catch(P){(S=new u("error")).error(P)}return new g(S,k.type||"string",k.mimeType)},generateAsync:function(f,S){return this.generateInternalStream(f).accumulate(S)},generateNodeStream:function(f,S){return(f=f||{}).type||(f.type="nodebuffer"),this.generateInternalStream(f).toNodejsStream(S)}};O.exports=i},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(C,O,t){O.exports=C("stream")},{stream:void 0}],17:[function(C,O,t){"use strict";var r=C("./DataReader");function p(c){r.call(this,c);for(var u=0;u<this.data.length;u++)c[u]=255&c[u]}C("../utils").inherits(p,r),p.prototype.byteAt=function(c){return this.data[this.zero+c]},p.prototype.lastIndexOfSignature=function(c){for(var u=c.charCodeAt(0),g=c.charCodeAt(1),x=c.charCodeAt(2),m=c.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===u&&this.data[b+1]===g&&this.data[b+2]===x&&this.data[b+3]===m)return b-this.zero;return-1},p.prototype.readAndCheckSignature=function(c){var u=c.charCodeAt(0),g=c.charCodeAt(1),x=c.charCodeAt(2),m=c.charCodeAt(3),b=this.readData(4);return u===b[0]&&g===b[1]&&x===b[2]&&m===b[3]},p.prototype.readData=function(c){if(this.checkOffset(c),0===c)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},O.exports=p},{"../utils":32,"./DataReader":18}],18:[function(C,O,t){"use strict";var r=C("../utils");function p(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}p.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(c){},readInt:function(c){var u,g=0;for(this.checkOffset(c),u=this.index+c-1;u>=this.index;u--)g=(g<<8)+this.byteAt(u);return this.index+=c,g},readString:function(c){return r.transformTo("string",this.readData(c))},readData:function(c){},lastIndexOfSignature:function(c){},readAndCheckSignature:function(c){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},O.exports=p},{"../utils":32}],19:[function(C,O,t){"use strict";var r=C("./Uint8ArrayReader");function p(c){r.call(this,c)}C("../utils").inherits(p,r),p.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},O.exports=p},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(C,O,t){"use strict";var r=C("./DataReader");function p(c){r.call(this,c)}C("../utils").inherits(p,r),p.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},p.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},p.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},p.prototype.readData=function(c){this.checkOffset(c);var u=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},O.exports=p},{"../utils":32,"./DataReader":18}],21:[function(C,O,t){"use strict";var r=C("./ArrayReader");function p(c){r.call(this,c)}C("../utils").inherits(p,r),p.prototype.readData=function(c){if(this.checkOffset(c),0===c)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,u},O.exports=p},{"../utils":32,"./ArrayReader":17}],22:[function(C,O,t){"use strict";var r=C("../utils"),p=C("../support"),c=C("./ArrayReader"),u=C("./StringReader"),g=C("./NodeBufferReader"),x=C("./Uint8ArrayReader");O.exports=function(m){var b=r.getTypeOf(m);return r.checkSupport(b),"string"!==b||p.uint8array?"nodebuffer"===b?new g(m):p.uint8array?new x(r.transformTo("uint8array",m)):new c(r.transformTo("array",m)):new u(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(C,O,t){"use strict";t.LOCAL_FILE_HEADER="PK\x03\x04",t.CENTRAL_FILE_HEADER="PK\x01\x02",t.CENTRAL_DIRECTORY_END="PK\x05\x06",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",t.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",t.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(C,O,t){"use strict";var r=C("./GenericWorker"),p=C("../utils");function c(u){r.call(this,"ConvertWorker to "+u),this.destType=u}p.inherits(c,r),c.prototype.processChunk=function(u){this.push({data:p.transformTo(this.destType,u.data),meta:u.meta})},O.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(C,O,t){"use strict";var r=C("./GenericWorker"),p=C("../crc32");function c(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}C("../utils").inherits(c,r),c.prototype.processChunk=function(u){this.streamInfo.crc32=p(u.data,this.streamInfo.crc32||0),this.push(u)},O.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(C,O,t){"use strict";var r=C("../utils"),p=C("./GenericWorker");function c(u){p.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}r.inherits(c,p),c.prototype.processChunk=function(u){u&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+u.data.length),p.prototype.processChunk.call(this,u)},O.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(C,O,t){"use strict";var r=C("../utils"),p=C("./GenericWorker");function c(u){p.call(this,"DataWorker");var g=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(x){g.dataIsReady=!0,g.data=x,g.max=x&&x.length||0,g.type=r.getTypeOf(x),g.isPaused||g._tickAndRepeat()},function(x){g.error(x)})}r.inherits(c,p),c.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,g=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,g);break;case"uint8array":u=this.data.subarray(this.index,g);break;case"array":case"nodebuffer":u=this.data.slice(this.index,g)}return this.index=g,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},O.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(C,O,t){"use strict";function r(p){this.name=p||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(p){this.emit("data",p)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(p){this.emit("error",p)}return!0},error:function(p){return!this.isFinished&&(this.isPaused?this.generatedError=p:(this.isFinished=!0,this.emit("error",p),this.previous&&this.previous.error(p),this.cleanUp()),!0)},on:function(p,c){return this._listeners[p].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(p,c){if(this._listeners[p])for(var u=0;u<this._listeners[p].length;u++)this._listeners[p][u].call(this,c)},pipe:function(p){return p.registerPrevious(this)},registerPrevious:function(p){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=p.streamInfo,this.mergeStreamInfo(),this.previous=p;var c=this;return p.on("data",function(u){c.processChunk(u)}),p.on("end",function(){c.end()}),p.on("error",function(u){c.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var p=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),p=!0),this.previous&&this.previous.resume(),!p},flush:function(){},processChunk:function(p){this.push(p)},withStreamInfo:function(p,c){return this.extraStreamInfo[p]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var p in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(p)&&(this.streamInfo[p]=this.extraStreamInfo[p])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var p="Worker "+this.name;return this.previous?this.previous+" -> "+p:p}},O.exports=r},{}],29:[function(C,O,t){"use strict";var r=C("../utils"),p=C("./ConvertWorker"),c=C("./GenericWorker"),u=C("../base64"),g=C("../support"),x=C("../external"),m=null;if(g.nodestream)try{m=C("../nodejs/NodejsStreamOutputAdapter")}catch(d){}function o(d,s,l){var a=s;switch(s){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=s,this._mimeType=l,r.checkSupport(a),this._worker=d.pipe(new p(a)),d.lock()}catch(h){this._worker=new c("error"),this._worker.error(h)}}o.prototype={accumulate:function(d){return function b(d,s){return new x.Promise(function(l,a){var h=[],y=d._internalType,i=d._outputType,f=d._mimeType;d.on("data",function(S,k){h.push(S),s&&s(k)}).on("error",function(S){h=[],a(S)}).on("end",function(){try{var S=function(k,T,P){switch(k){case"blob":return r.newBlob(r.transformTo("arraybuffer",T),P);case"base64":return u.encode(T);default:return r.transformTo(k,T)}}(i,function(k,T){var P,N=0,K=null,w=0;for(P=0;P<T.length;P++)w+=T[P].length;switch(k){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(K=new Uint8Array(w),P=0;P<T.length;P++)K.set(T[P],N),N+=T[P].length;return K;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+k+"'")}}(y,h),f);l(S)}catch(k){a(k)}h=[]}).resume()})}(this,d)},on:function(d,s){var l=this;return this._worker.on(d,"data"===d?function(a){s.call(l,a.data,a.meta)}:function(){r.delay(s,arguments,l)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:"nodebuffer"!==this._outputType},d)}},O.exports=o},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(C,O,t){"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var r=new ArrayBuffer(0);try{t.blob=0===new Blob([r],{type:"application/zip"}).size}catch(c){try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);p.append(r),t.blob=0===p.getBlob("application/zip").size}catch(u){t.blob=!1}}}try{t.nodestream=!!C("readable-stream").Readable}catch(c){t.nodestream=!1}},{"readable-stream":16}],31:[function(C,O,t){"use strict";for(var r=C("./utils"),p=C("./support"),c=C("./nodejsUtils"),u=C("./stream/GenericWorker"),g=new Array(256),x=0;x<256;x++)g[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function m(){u.call(this,"utf-8 decode"),this.leftOver=null}function b(){u.call(this,"utf-8 encode")}g[254]=g[254]=1,t.utf8encode=function(o){return p.nodebuffer?c.newBufferFrom(o,"utf-8"):function(d){var s,l,a,h,y,i=d.length,f=0;for(h=0;h<i;h++)55296==(64512&(l=d.charCodeAt(h)))&&h+1<i&&56320==(64512&(a=d.charCodeAt(h+1)))&&(l=65536+(l-55296<<10)+(a-56320),h++),f+=l<128?1:l<2048?2:l<65536?3:4;for(s=p.uint8array?new Uint8Array(f):new Array(f),h=y=0;y<f;h++)55296==(64512&(l=d.charCodeAt(h)))&&h+1<i&&56320==(64512&(a=d.charCodeAt(h+1)))&&(l=65536+(l-55296<<10)+(a-56320),h++),l<128?s[y++]=l:(l<2048?s[y++]=192|l>>>6:(l<65536?s[y++]=224|l>>>12:(s[y++]=240|l>>>18,s[y++]=128|l>>>12&63),s[y++]=128|l>>>6&63),s[y++]=128|63&l);return s}(o)},t.utf8decode=function(o){return p.nodebuffer?r.transformTo("nodebuffer",o).toString("utf-8"):function(d){var s,l,a,h,y=d.length,i=new Array(2*y);for(s=l=0;s<y;)if((a=d[s++])<128)i[l++]=a;else if(4<(h=g[a]))i[l++]=65533,s+=h-1;else{for(a&=2===h?31:3===h?15:7;1<h&&s<y;)a=a<<6|63&d[s++],h--;1<h?i[l++]=65533:a<65536?i[l++]=a:(i[l++]=55296|(a-=65536)>>10&1023,i[l++]=56320|1023&a)}return i.length!==l&&(i.subarray?i=i.subarray(0,l):i.length=l),r.applyFromCharCode(i)}(o=r.transformTo(p.uint8array?"uint8array":"array",o))},r.inherits(m,u),m.prototype.processChunk=function(o){var d=r.transformTo(p.uint8array?"uint8array":"array",o.data);if(this.leftOver&&this.leftOver.length){if(p.uint8array){var s=d;(d=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),d.set(s,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var l=function(h,y){var i;for((y=y||h.length)>h.length&&(y=h.length),i=y-1;0<=i&&128==(192&h[i]);)i--;return i<0||0===i?y:i+g[h[i]]>y?i:y}(d),a=d;l!==d.length&&(p.uint8array?(a=d.subarray(0,l),this.leftOver=d.subarray(l,d.length)):(a=d.slice(0,l),this.leftOver=d.slice(l,d.length))),this.push({data:t.utf8decode(a),meta:o.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=m,r.inherits(b,u),b.prototype.processChunk=function(o){this.push({data:t.utf8encode(o.data),meta:o.meta})},t.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(C,O,t){"use strict";var r=C("./support"),p=C("./base64"),c=C("./nodejsUtils"),u=C("./external");function g(s){return s}function x(s,l){for(var a=0;a<s.length;++a)l[a]=255&s.charCodeAt(a);return l}C("setimmediate"),t.newBlob=function(s,l){t.checkSupport("blob");try{return new Blob([s],{type:l})}catch(h){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(s),a.getBlob(l)}catch(y){throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(s,l,a){var h=[],y=0,i=s.length;if(i<=a)return String.fromCharCode.apply(null,s);for(;y<i;)h.push(String.fromCharCode.apply(null,"array"===l||"nodebuffer"===l?s.slice(y,Math.min(y+a,i)):s.subarray(y,Math.min(y+a,i)))),y+=a;return h.join("")},stringifyByChar:function(s){for(var l="",a=0;a<s.length;a++)l+=String.fromCharCode(s[a]);return l},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(s){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,c.allocBuffer(1)).length}catch(s){return!1}}()}};function b(s){var l=65536,a=t.getTypeOf(s),h=!0;if("uint8array"===a?h=m.applyCanBeUsed.uint8array:"nodebuffer"===a&&(h=m.applyCanBeUsed.nodebuffer),h)for(;1<l;)try{return m.stringifyByChunk(s,a,l)}catch(y){l=Math.floor(l/2)}return m.stringifyByChar(s)}function o(s,l){for(var a=0;a<s.length;a++)l[a]=s[a];return l}t.applyFromCharCode=b;var d={};d.string={string:g,array:function(s){return x(s,new Array(s.length))},arraybuffer:function(s){return d.string.uint8array(s).buffer},uint8array:function(s){return x(s,new Uint8Array(s.length))},nodebuffer:function(s){return x(s,c.allocBuffer(s.length))}},d.array={string:b,array:g,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return c.newBufferFrom(s)}},d.arraybuffer={string:function(s){return b(new Uint8Array(s))},array:function(s){return o(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:g,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return c.newBufferFrom(new Uint8Array(s))}},d.uint8array={string:b,array:function(s){return o(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:g,nodebuffer:function(s){return c.newBufferFrom(s)}},d.nodebuffer={string:b,array:function(s){return o(s,new Array(s.length))},arraybuffer:function(s){return d.nodebuffer.uint8array(s).buffer},uint8array:function(s){return o(s,new Uint8Array(s.length))},nodebuffer:g},t.transformTo=function(s,l){if(l=l||"",!s)return l;t.checkSupport(s);var a=t.getTypeOf(l);return d[a][s](l)},t.resolve=function(s){for(var l=s.split("/"),a=[],h=0;h<l.length;h++){var y=l[h];"."===y||""===y&&0!==h&&h!==l.length-1||(".."===y?a.pop():a.push(y))}return a.join("/")},t.getTypeOf=function(s){return"string"==typeof s?"string":"[object Array]"===Object.prototype.toString.call(s)?"array":r.nodebuffer&&c.isBuffer(s)?"nodebuffer":r.uint8array&&s instanceof Uint8Array?"uint8array":r.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(s){if(!r[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(s){var l,a,h="";for(a=0;a<(s||"").length;a++)h+="\\x"+((l=s.charCodeAt(a))<16?"0":"")+l.toString(16).toUpperCase();return h},t.delay=function(s,l,a){setImmediate(function(){s.apply(a||null,l||[])})},t.inherits=function(s,l){function a(){}a.prototype=l.prototype,s.prototype=new a},t.extend=function(){var s,l,a={};for(s=0;s<arguments.length;s++)for(l in arguments[s])arguments[s].hasOwnProperty(l)&&void 0===a[l]&&(a[l]=arguments[s][l]);return a},t.prepareContent=function(s,l,a,h,y){return u.Promise.resolve(l).then(function(i){return r.blob&&(i instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(i)))&&"undefined"!=typeof FileReader?new u.Promise(function(f,S){var k=new FileReader;k.onload=function(T){f(T.target.result)},k.onerror=function(T){S(T.target.error)},k.readAsArrayBuffer(i)}):i}).then(function(i){var S,f=t.getTypeOf(i);return f?("arraybuffer"===f?i=t.transformTo("uint8array",i):"string"===f&&(y?i=p.decode(i):a&&!0!==h&&(i=x(S=i,r.uint8array?new Uint8Array(S.length):new Array(S.length)))),i):u.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(C,O,t){"use strict";var r=C("./reader/readerFor"),p=C("./utils"),c=C("./signature"),u=C("./zipEntry"),g=(C("./utf8"),C("./support"));function x(m){this.files=[],this.loadOptions=m}x.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+p.pretty(b)+", expected "+p.pretty(m)+")")}},isSignature:function(m,b){var o=this.reader.index;this.reader.setIndex(m);var d=this.reader.readString(4)===b;return this.reader.setIndex(o),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),o=p.transformTo(g.uint8array?"uint8array":"array",m);this.zipComment=this.loadOptions.decodeFileName(o)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,b,o,d=this.zip64EndOfCentralSize-44;0<d;)m=this.reader.readInt(2),b=this.reader.readInt(4),o=this.reader.readData(b),this.zip64ExtensibleData[m]={id:m,length:b,value:o}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,b;for(m=0;m<this.files.length;m++)this.reader.setIndex((b=this.files[m]).localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(m=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var b=m;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===p.MAX_VALUE_16BITS||this.diskWithCentralDirStart===p.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===p.MAX_VALUE_16BITS||this.centralDirRecords===p.MAX_VALUE_16BITS||this.centralDirSize===p.MAX_VALUE_32BITS||this.centralDirOffset===p.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var o=this.centralDirOffset+this.centralDirSize;this.zip64&&(o+=20,o+=12+this.zip64EndOfCentralSize);var d=b-o;if(0<d)this.isSignature(b,c.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(m){this.reader=r(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},O.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(C,O,t){"use strict";var r=C("./reader/readerFor"),p=C("./utils"),c=C("./compressedObject"),u=C("./crc32"),g=C("./utf8"),x=C("./compressions"),m=C("./support");function b(o,d){this.options=o,this.loadOptions=d}b.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(o){var d,s;if(o.skip(22),this.fileNameLength=o.readInt(2),s=o.readInt(2),this.fileName=o.readData(this.fileNameLength),o.skip(s),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(d=function(l){for(var a in x)if(x.hasOwnProperty(a)&&x[a].magic===l)return x[a];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+p.pretty(this.compressionMethod)+" unknown (inner file : "+p.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,d,o.readData(this.compressedSize))},readCentralPart:function(o){this.versionMadeBy=o.readInt(2),o.skip(2),this.bitFlag=o.readInt(2),this.compressionMethod=o.readString(2),this.date=o.readDate(),this.crc32=o.readInt(4),this.compressedSize=o.readInt(4),this.uncompressedSize=o.readInt(4);var d=o.readInt(2);if(this.extraFieldsLength=o.readInt(2),this.fileCommentLength=o.readInt(2),this.diskNumberStart=o.readInt(2),this.internalFileAttributes=o.readInt(2),this.externalFileAttributes=o.readInt(4),this.localHeaderOffset=o.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");o.skip(d),this.readExtraFields(o),this.parseZIP64ExtraField(o),this.fileComment=o.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var o=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==o&&(this.dosPermissions=63&this.externalFileAttributes),3==o&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(o){if(this.extraFields[1]){var d=r(this.extraFields[1].value);this.uncompressedSize===p.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===p.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===p.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===p.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(o){var d,s,l,a=o.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});o.index+4<a;)d=o.readInt(2),s=o.readInt(2),l=o.readData(s),this.extraFields[d]={id:d,length:s,value:l};o.setIndex(a)},handleUTF8:function(){var o=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=g.utf8decode(this.fileName),this.fileCommentStr=g.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(null!==d)this.fileNameStr=d;else{var s=p.transformTo(o,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var l=this.findExtraFieldUnicodeComment();if(null!==l)this.fileCommentStr=l;else{var a=p.transformTo(o,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var o=this.extraFields[28789];if(o){var d=r(o.value);return 1!==d.readInt(1)||u(this.fileName)!==d.readInt(4)?null:g.utf8decode(d.readData(o.length-5))}return null},findExtraFieldUnicodeComment:function(){var o=this.extraFields[25461];if(o){var d=r(o.value);return 1!==d.readInt(1)||u(this.fileComment)!==d.readInt(4)?null:g.utf8decode(d.readData(o.length-5))}return null}},O.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(C,O,t){"use strict";function r(d,s,l){this.name=d,this.dir=l.dir,this.date=l.date,this.comment=l.comment,this.unixPermissions=l.unixPermissions,this.dosPermissions=l.dosPermissions,this._data=s,this._dataBinary=l.binary,this.options={compression:l.compression,compressionOptions:l.compressionOptions}}var p=C("./stream/StreamHelper"),c=C("./stream/DataWorker"),u=C("./utf8"),g=C("./compressedObject"),x=C("./stream/GenericWorker");r.prototype={internalStream:function(d){var s=null,l="string";try{if(!d)throw new Error("No output type specified.");var a="string"===(l=d.toLowerCase())||"text"===l;"binarystring"!==l&&"text"!==l||(l="string"),s=this._decompressWorker();var h=!this._dataBinary;h&&!a&&(s=s.pipe(new u.Utf8EncodeWorker)),!h&&a&&(s=s.pipe(new u.Utf8DecodeWorker))}catch(y){(s=new x("error")).error(y)}return new p(s,l,"")},async:function(d,s){return this.internalStream(d).accumulate(s)},nodeStream:function(d,s){return this.internalStream(d||"nodebuffer").toNodejsStream(s)},_compressWorker:function(d,s){if(this._data instanceof g&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var l=this._decompressWorker();return this._dataBinary||(l=l.pipe(new u.Utf8EncodeWorker)),g.createWorkerFrom(l,d,s)},_decompressWorker:function(){return this._data instanceof g?this._data.getContentWorker():this._data instanceof x?this._data:new c(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},o=0;o<m.length;o++)r.prototype[m[o]]=b;O.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(C,O,t){(function(r){"use strict";var p,c,u=r.MutationObserver||r.WebKitMutationObserver;if(u){var g=0,x=new u(d),m=r.document.createTextNode("");x.observe(m,{characterData:!0}),p=function(){m.data=g=++g%2}}else if(r.setImmediate||void 0===r.MessageChannel)p="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var s=r.document.createElement("script");s.onreadystatechange=function(){d(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},r.document.documentElement.appendChild(s)}:function(){setTimeout(d,0)};else{var b=new r.MessageChannel;b.port1.onmessage=d,p=function(){b.port2.postMessage(0)}}var o=[];function d(){var s,l;c=!0;for(var a=o.length;a;){for(l=o,o=[],s=-1;++s<a;)l[s]();a=o.length}c=!1}O.exports=function(s){1!==o.push(s)||c||p()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(C,O,t){"use strict";var r=C("immediate");function p(){}var c={},u=["REJECTED"],g=["FULFILLED"],x=["PENDING"];function m(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,a!==p&&s(this,a)}function b(a,h,y){this.promise=a,"function"==typeof h&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),"function"==typeof y&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function o(a,h,y){r(function(){var i;try{i=h(y)}catch(f){return c.reject(a,f)}i===a?c.reject(a,new TypeError("Cannot resolve promise with itself")):c.resolve(a,i)})}function d(a){var h=a&&a.then;if(a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof h)return function(){h.apply(a,arguments)}}function s(a,h){var y=!1;function i(k){y||(y=!0,c.reject(a,k))}function f(k){y||(y=!0,c.resolve(a,k))}var S=l(function(){h(f,i)});"error"===S.status&&i(S.value)}function l(a,h){var y={};try{y.value=a(h),y.status="success"}catch(i){y.status="error",y.value=i}return y}(O.exports=m).prototype.finally=function(a){if("function"!=typeof a)return this;var h=this.constructor;return this.then(function(y){return h.resolve(a()).then(function(){return y})},function(y){return h.resolve(a()).then(function(){throw y})})},m.prototype.catch=function(a){return this.then(null,a)},m.prototype.then=function(a,h){if("function"!=typeof a&&this.state===g||"function"!=typeof h&&this.state===u)return this;var y=new this.constructor(p);return this.state!==x?o(y,this.state===g?a:h,this.outcome):this.queue.push(new b(y,a,h)),y},b.prototype.callFulfilled=function(a){c.resolve(this.promise,a)},b.prototype.otherCallFulfilled=function(a){o(this.promise,this.onFulfilled,a)},b.prototype.callRejected=function(a){c.reject(this.promise,a)},b.prototype.otherCallRejected=function(a){o(this.promise,this.onRejected,a)},c.resolve=function(a,h){var y=l(d,h);if("error"===y.status)return c.reject(a,y.value);var i=y.value;if(i)s(a,i);else{a.state=g,a.outcome=h;for(var f=-1,S=a.queue.length;++f<S;)a.queue[f].callFulfilled(h)}return a},c.reject=function(a,h){a.state=u,a.outcome=h;for(var y=-1,i=a.queue.length;++y<i;)a.queue[y].callRejected(h);return a},m.resolve=function(a){return a instanceof this?a:c.resolve(new this(p),a)},m.reject=function(a){var h=new this(p);return c.reject(h,a)},m.all=function(a){var h=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var y=a.length,i=!1;if(!y)return this.resolve([]);for(var f=new Array(y),S=0,k=-1,T=new this(p);++k<y;)P(a[k],k);return T;function P(N,K){h.resolve(N).then(function(w){f[K]=w,++S!==y||i||(i=!0,c.resolve(T,f))},function(w){i||(i=!0,c.reject(T,w))})}},m.race=function(a){if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var y=a.length,i=!1;if(!y)return this.resolve([]);for(var f=-1,S=new this(p);++f<y;)this.resolve(a[f]).then(function(T){i||(i=!0,c.resolve(S,T))},function(T){i||(i=!0,c.reject(S,T))});return S}},{immediate:36}],38:[function(C,O,t){"use strict";var r={};(0,C("./lib/utils/common").assign)(r,C("./lib/deflate"),C("./lib/inflate"),C("./lib/zlib/constants")),O.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(C,O,t){"use strict";var r=C("./zlib/deflate"),p=C("./utils/common"),c=C("./utils/strings"),u=C("./zlib/messages"),g=C("./zlib/zstream"),x=Object.prototype.toString;function s(a){if(!(this instanceof s))return new s(a);this.options=p.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},a||{});var h=this.options;h.raw&&0<h.windowBits?h.windowBits=-h.windowBits:h.gzip&&0<h.windowBits&&h.windowBits<16&&(h.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var y=r.deflateInit2(this.strm,h.level,h.method,h.windowBits,h.memLevel,h.strategy);if(0!==y)throw new Error(u[y]);if(h.header&&r.deflateSetHeader(this.strm,h.header),h.dictionary){var i;if(i="string"==typeof h.dictionary?c.string2buf(h.dictionary):"[object ArrayBuffer]"===x.call(h.dictionary)?new Uint8Array(h.dictionary):h.dictionary,0!==(y=r.deflateSetDictionary(this.strm,i)))throw new Error(u[y]);this._dict_set=!0}}function l(a,h){var y=new s(h);if(y.push(a,!0),y.err)throw y.msg||u[y.err];return y.result}s.prototype.push=function(a,h){var y,i,f=this.strm,S=this.options.chunkSize;if(this.ended)return!1;i=h===~~h?h:!0===h?4:0,f.input="string"==typeof a?c.string2buf(a):"[object ArrayBuffer]"===x.call(a)?new Uint8Array(a):a,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new p.Buf8(S),f.next_out=0,f.avail_out=S),1!==(y=r.deflate(f,i))&&0!==y)return this.onEnd(y),!(this.ended=!0);0!==f.avail_out&&(0!==f.avail_in||4!==i&&2!==i)||this.onData("string"===this.options.to?c.buf2binstring(p.shrinkBuf(f.output,f.next_out)):p.shrinkBuf(f.output,f.next_out))}while((0<f.avail_in||0===f.avail_out)&&1!==y);return 4===i?(y=r.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,0===y):2!==i||(this.onEnd(0),!(f.avail_out=0))},s.prototype.onData=function(a){this.chunks.push(a)},s.prototype.onEnd=function(a){0===a&&(this.result="string"===this.options.to?this.chunks.join(""):p.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},t.Deflate=s,t.deflate=l,t.deflateRaw=function(a,h){return(h=h||{}).raw=!0,l(a,h)},t.gzip=function(a,h){return(h=h||{}).gzip=!0,l(a,h)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(C,O,t){"use strict";var r=C("./zlib/inflate"),p=C("./utils/common"),c=C("./utils/strings"),u=C("./zlib/constants"),g=C("./zlib/messages"),x=C("./zlib/zstream"),m=C("./zlib/gzheader"),b=Object.prototype.toString;function o(s){if(!(this instanceof o))return new o(s);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},s||{});var l=this.options;l.raw&&0<=l.windowBits&&l.windowBits<16&&(l.windowBits=-l.windowBits,0===l.windowBits&&(l.windowBits=-15)),!(0<=l.windowBits&&l.windowBits<16)||s&&s.windowBits||(l.windowBits+=32),15<l.windowBits&&l.windowBits<48&&0==(15&l.windowBits)&&(l.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var a=r.inflateInit2(this.strm,l.windowBits);if(a!==u.Z_OK)throw new Error(g[a]);this.header=new m,r.inflateGetHeader(this.strm,this.header)}function d(s,l){var a=new o(l);if(a.push(s,!0),a.err)throw a.msg||g[a.err];return a.result}o.prototype.push=function(s,l){var a,h,y,i,f,S,k=this.strm,T=this.options.chunkSize,P=this.options.dictionary,N=!1;if(this.ended)return!1;h=l===~~l?l:!0===l?u.Z_FINISH:u.Z_NO_FLUSH,k.input="string"==typeof s?c.binstring2buf(s):"[object ArrayBuffer]"===b.call(s)?new Uint8Array(s):s,k.next_in=0,k.avail_in=k.input.length;do{if(0===k.avail_out&&(k.output=new p.Buf8(T),k.next_out=0,k.avail_out=T),(a=r.inflate(k,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&P&&(S="string"==typeof P?c.string2buf(P):"[object ArrayBuffer]"===b.call(P)?new Uint8Array(P):P,a=r.inflateSetDictionary(this.strm,S)),a===u.Z_BUF_ERROR&&!0===N&&(a=u.Z_OK,N=!1),a!==u.Z_STREAM_END&&a!==u.Z_OK)return this.onEnd(a),!(this.ended=!0);k.next_out&&(0!==k.avail_out&&a!==u.Z_STREAM_END&&(0!==k.avail_in||h!==u.Z_FINISH&&h!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(y=c.utf8border(k.output,k.next_out),i=k.next_out-y,f=c.buf2string(k.output,y),k.next_out=i,k.avail_out=T-i,i&&p.arraySet(k.output,k.output,y,i,0),this.onData(f)):this.onData(p.shrinkBuf(k.output,k.next_out)))),0===k.avail_in&&0===k.avail_out&&(N=!0)}while((0<k.avail_in||0===k.avail_out)&&a!==u.Z_STREAM_END);return a===u.Z_STREAM_END&&(h=u.Z_FINISH),h===u.Z_FINISH?(a=r.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===u.Z_OK):h!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(k.avail_out=0))},o.prototype.onData=function(s){this.chunks.push(s)},o.prototype.onEnd=function(s){s===u.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):p.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},t.Inflate=o,t.inflate=d,t.inflateRaw=function(s,l){return(l=l||{}).raw=!0,d(s,l)},t.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(C,O,t){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(u){for(var g=Array.prototype.slice.call(arguments,1);g.length;){var x=g.shift();if(x){if("object"!=typeof x)throw new TypeError(x+"must be non-object");for(var m in x)x.hasOwnProperty(m)&&(u[m]=x[m])}}return u},t.shrinkBuf=function(u,g){return u.length===g?u:u.subarray?u.subarray(0,g):(u.length=g,u)};var p={arraySet:function(u,g,x,m,b){if(g.subarray&&u.subarray)u.set(g.subarray(x,x+m),b);else for(var o=0;o<m;o++)u[b+o]=g[x+o]},flattenChunks:function(u){var g,x,m,b,o,d;for(g=m=0,x=u.length;g<x;g++)m+=u[g].length;for(d=new Uint8Array(m),g=b=0,x=u.length;g<x;g++)d.set(o=u[g],b),b+=o.length;return d}},c={arraySet:function(u,g,x,m,b){for(var o=0;o<m;o++)u[b+o]=g[x+o]},flattenChunks:function(u){return[].concat.apply([],u)}};t.setTyped=function(u){u?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,p)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,c))},t.setTyped(r)},{}],42:[function(C,O,t){"use strict";var r=C("./common"),p=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch(m){p=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(m){c=!1}for(var u=new r.Buf8(256),g=0;g<256;g++)u[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;function x(m,b){if(b<65537&&(m.subarray&&c||!m.subarray&&p))return String.fromCharCode.apply(null,r.shrinkBuf(m,b));for(var o="",d=0;d<b;d++)o+=String.fromCharCode(m[d]);return o}u[254]=u[254]=1,t.string2buf=function(m){var b,o,d,s,l,a=m.length,h=0;for(s=0;s<a;s++)55296==(64512&(o=m.charCodeAt(s)))&&s+1<a&&56320==(64512&(d=m.charCodeAt(s+1)))&&(o=65536+(o-55296<<10)+(d-56320),s++),h+=o<128?1:o<2048?2:o<65536?3:4;for(b=new r.Buf8(h),s=l=0;l<h;s++)55296==(64512&(o=m.charCodeAt(s)))&&s+1<a&&56320==(64512&(d=m.charCodeAt(s+1)))&&(o=65536+(o-55296<<10)+(d-56320),s++),o<128?b[l++]=o:(o<2048?b[l++]=192|o>>>6:(o<65536?b[l++]=224|o>>>12:(b[l++]=240|o>>>18,b[l++]=128|o>>>12&63),b[l++]=128|o>>>6&63),b[l++]=128|63&o);return b},t.buf2binstring=function(m){return x(m,m.length)},t.binstring2buf=function(m){for(var b=new r.Buf8(m.length),o=0,d=b.length;o<d;o++)b[o]=m.charCodeAt(o);return b},t.buf2string=function(m,b){var o,d,s,l,a=b||m.length,h=new Array(2*a);for(o=d=0;o<a;)if((s=m[o++])<128)h[d++]=s;else if(4<(l=u[s]))h[d++]=65533,o+=l-1;else{for(s&=2===l?31:3===l?15:7;1<l&&o<a;)s=s<<6|63&m[o++],l--;1<l?h[d++]=65533:s<65536?h[d++]=s:(h[d++]=55296|(s-=65536)>>10&1023,h[d++]=56320|1023&s)}return x(h,d)},t.utf8border=function(m,b){var o;for((b=b||m.length)>m.length&&(b=m.length),o=b-1;0<=o&&128==(192&m[o]);)o--;return o<0||0===o?b:o+u[m[o]]>b?o:b}},{"./common":41}],43:[function(C,O,t){"use strict";O.exports=function(r,p,c,u){for(var g=65535&r|0,x=r>>>16&65535|0,m=0;0!==c;){for(c-=m=2e3<c?2e3:c;x=x+(g=g+p[u++]|0)|0,--m;);g%=65521,x%=65521}return g|x<<16|0}},{}],44:[function(C,O,t){"use strict";O.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(C,O,t){"use strict";var r=function(){for(var p,c=[],u=0;u<256;u++){p=u;for(var g=0;g<8;g++)p=1&p?3988292384^p>>>1:p>>>1;c[u]=p}return c}();O.exports=function(p,c,u,g){var x=r,m=g+u;p^=-1;for(var b=g;b<m;b++)p=p>>>8^x[255&(p^c[b])];return-1^p}},{}],46:[function(C,O,t){"use strict";var r,p=C("../utils/common"),c=C("./trees"),u=C("./adler32"),g=C("./crc32"),x=C("./messages"),d=-2,N=258,K=262,L=113;function J(n,Z){return n.msg=x[Z],Z}function W(n){return(n<<1)-(4<n?9:0)}function V(n){for(var Z=n.length;0<=--Z;)n[Z]=0}function U(n){var Z=n.state,M=Z.pending;M>n.avail_out&&(M=n.avail_out),0!==M&&(p.arraySet(n.output,Z.pending_buf,Z.pending_out,M,n.next_out),n.next_out+=M,Z.pending_out+=M,n.total_out+=M,n.avail_out-=M,Z.pending-=M,0===Z.pending&&(Z.pending_out=0))}function z(n,Z){c._tr_flush_block(n,0<=n.block_start?n.block_start:-1,n.strstart-n.block_start,Z),n.block_start=n.strstart,U(n.strm)}function F(n,Z){n.pending_buf[n.pending++]=Z}function q(n,Z){n.pending_buf[n.pending++]=Z>>>8&255,n.pending_buf[n.pending++]=255&Z}function R(n,Z){var M,v,_=n.max_chain_length,E=n.strstart,j=n.prev_length,H=n.nice_match,D=n.strstart>n.w_size-K?n.strstart-(n.w_size-K):0,Q=n.window,G=n.w_mask,Y=n.prev,$=n.strstart+N,rt=Q[E+j-1],et=Q[E+j];n.prev_length>=n.good_match&&(_>>=2),H>n.lookahead&&(H=n.lookahead);do{if(Q[(M=Z)+j]===et&&Q[M+j-1]===rt&&Q[M]===Q[E]&&Q[++M]===Q[E+1]){E+=2,M++;do{}while(Q[++E]===Q[++M]&&Q[++E]===Q[++M]&&Q[++E]===Q[++M]&&Q[++E]===Q[++M]&&Q[++E]===Q[++M]&&Q[++E]===Q[++M]&&Q[++E]===Q[++M]&&Q[++E]===Q[++M]&&E<$);if(v=N-($-E),E=$-N,j<v){if(n.match_start=Z,H<=(j=v))break;rt=Q[E+j-1],et=Q[E+j]}}}while((Z=Y[Z&G])>D&&0!=--_);return j<=n.lookahead?j:n.lookahead}function X(n){var Z,M,v,_,E,j,H,D,Q,G,Y=n.w_size;do{if(_=n.window_size-n.lookahead-n.strstart,n.strstart>=Y+(Y-K)){for(p.arraySet(n.window,n.window,Y,Y,0),n.match_start-=Y,n.strstart-=Y,n.block_start-=Y,Z=M=n.hash_size;v=n.head[--Z],n.head[Z]=Y<=v?v-Y:0,--M;);for(Z=M=Y;v=n.prev[--Z],n.prev[Z]=Y<=v?v-Y:0,--M;);_+=Y}if(0===n.strm.avail_in)break;if(H=n.window,D=n.strstart+n.lookahead,G=void 0,(Q=_)<(G=(j=n.strm).avail_in)&&(G=Q),M=0===G?0:(j.avail_in-=G,p.arraySet(H,j.input,j.next_in,G,D),1===j.state.wrap?j.adler=u(j.adler,H,G,D):2===j.state.wrap&&(j.adler=g(j.adler,H,G,D)),j.next_in+=G,j.total_in+=G,G),n.lookahead+=M,n.lookahead+n.insert>=3)for(n.ins_h=n.window[E=n.strstart-n.insert],n.ins_h=(n.ins_h<<n.hash_shift^n.window[E+1])&n.hash_mask;n.insert&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[E+3-1])&n.hash_mask,n.prev[E&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=E,E++,n.insert--,!(n.lookahead+n.insert<3)););}while(n.lookahead<K&&0!==n.strm.avail_in)}function nt(n,Z){for(var M,v;;){if(n.lookahead<K){if(X(n),n.lookahead<K&&0===Z)return 1;if(0===n.lookahead)break}if(M=0,n.lookahead>=3&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,M=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!==M&&n.strstart-M<=n.w_size-K&&(n.match_length=R(n,M)),n.match_length>=3)if(v=c._tr_tally(n,n.strstart-n.match_start,n.match_length-3),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=3){for(n.match_length--;n.strstart++,n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,M=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart,0!=--n.match_length;);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+1])&n.hash_mask;else v=c._tr_tally(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(v&&(z(n,!1),0===n.strm.avail_out))return 1}return n.insert=n.strstart<2?n.strstart:2,4===Z?(z(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(z(n,!1),0===n.strm.avail_out)?1:2}function tt(n,Z){for(var M,v,_;;){if(n.lookahead<K){if(X(n),n.lookahead<K&&0===Z)return 1;if(0===n.lookahead)break}if(M=0,n.lookahead>=3&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,M=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=2,0!==M&&n.prev_length<n.max_lazy_match&&n.strstart-M<=n.w_size-K&&(n.match_length=R(n,M),n.match_length<=5&&(1===n.strategy||3===n.match_length&&4096<n.strstart-n.match_start)&&(n.match_length=2)),n.prev_length>=3&&n.match_length<=n.prev_length){for(_=n.strstart+n.lookahead-3,v=c._tr_tally(n,n.strstart-1-n.prev_match,n.prev_length-3),n.lookahead-=n.prev_length-1,n.prev_length-=2;++n.strstart<=_&&(n.ins_h=(n.ins_h<<n.hash_shift^n.window[n.strstart+3-1])&n.hash_mask,M=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),0!=--n.prev_length;);if(n.match_available=0,n.match_length=2,n.strstart++,v&&(z(n,!1),0===n.strm.avail_out))return 1}else if(n.match_available){if((v=c._tr_tally(n,0,n.window[n.strstart-1]))&&z(n,!1),n.strstart++,n.lookahead--,0===n.strm.avail_out)return 1}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(v=c._tr_tally(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<2?n.strstart:2,4===Z?(z(n,!0),0===n.strm.avail_out?3:4):n.last_lit&&(z(n,!1),0===n.strm.avail_out)?1:2}function it(n,Z,M,v,_){this.good_length=n,this.max_lazy=Z,this.nice_length=M,this.max_chain=v,this.func=_}function at(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new p.Buf16(1146),this.dyn_dtree=new p.Buf16(122),this.bl_tree=new p.Buf16(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new p.Buf16(16),this.heap=new p.Buf16(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new p.Buf16(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function st(n){var Z;return n&&n.state?(n.total_in=n.total_out=0,n.data_type=2,(Z=n.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?42:L,n.adler=2===Z.wrap?0:1,Z.last_flush=0,c._tr_init(Z),0):J(n,d)}function ut(n){var M,Z=st(n);return 0===Z&&((M=n.state).window_size=2*M.w_size,V(M.head),M.max_lazy_match=r[M.level].max_lazy,M.good_match=r[M.level].good_length,M.nice_match=r[M.level].nice_length,M.max_chain_length=r[M.level].max_chain,M.strstart=0,M.block_start=0,M.lookahead=0,M.insert=0,M.match_length=M.prev_length=2,M.match_available=0,M.ins_h=0),Z}function ct(n,Z,M,v,_,E){if(!n)return d;var j=1;if(-1===Z&&(Z=6),v<0?(j=0,v=-v):15<v&&(j=2,v-=16),_<1||9<_||8!==M||v<8||15<v||Z<0||9<Z||E<0||4<E)return J(n,d);8===v&&(v=9);var H=new at;return(n.state=H).strm=n,H.wrap=j,H.gzhead=null,H.w_bits=v,H.w_size=1<<H.w_bits,H.w_mask=H.w_size-1,H.hash_bits=_+7,H.hash_size=1<<H.hash_bits,H.hash_mask=H.hash_size-1,H.hash_shift=~~((H.hash_bits+3-1)/3),H.window=new p.Buf8(2*H.w_size),H.head=new p.Buf16(H.hash_size),H.prev=new p.Buf16(H.w_size),H.lit_bufsize=1<<_+6,H.pending_buf_size=4*H.lit_bufsize,H.pending_buf=new p.Buf8(H.pending_buf_size),H.d_buf=1*H.lit_bufsize,H.l_buf=3*H.lit_bufsize,H.level=Z,H.strategy=E,H.method=M,ut(n)}r=[new it(0,0,0,0,function(n,Z){var M=65535;for(M>n.pending_buf_size-5&&(M=n.pending_buf_size-5);;){if(n.lookahead<=1){if(X(n),0===n.lookahead&&0===Z)return 1;if(0===n.lookahead)break}n.strstart+=n.lookahead,n.lookahead=0;var v=n.block_start+M;if((0===n.strstart||n.strstart>=v)&&(n.lookahead=n.strstart-v,n.strstart=v,z(n,!1),0===n.strm.avail_out)||n.strstart-n.block_start>=n.w_size-K&&(z(n,!1),0===n.strm.avail_out))return 1}return n.insert=0,4===Z?(z(n,!0),0===n.strm.avail_out?3:4):(n.strstart>n.block_start&&z(n,!1),1)}),new it(4,4,8,4,nt),new it(4,5,16,8,nt),new it(4,6,32,32,nt),new it(4,4,16,16,tt),new it(8,16,32,32,tt),new it(8,16,128,128,tt),new it(8,32,128,256,tt),new it(32,128,258,1024,tt),new it(32,258,258,4096,tt)],t.deflateInit=function(n,Z){return ct(n,Z,8,15,8,0)},t.deflateInit2=ct,t.deflateReset=ut,t.deflateResetKeep=st,t.deflateSetHeader=function(n,Z){return n&&n.state?2!==n.state.wrap?d:(n.state.gzhead=Z,0):d},t.deflate=function(n,Z){var M,v,_,E;if(!n||!n.state||5<Z||Z<0)return n?J(n,d):d;if(v=n.state,!n.output||!n.input&&0!==n.avail_in||666===v.status&&4!==Z)return J(n,0===n.avail_out?-5:d);if(v.strm=n,M=v.last_flush,v.last_flush=Z,42===v.status)if(2===v.wrap)n.adler=0,F(v,31),F(v,139),F(v,8),v.gzhead?(F(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),F(v,255&v.gzhead.time),F(v,v.gzhead.time>>8&255),F(v,v.gzhead.time>>16&255),F(v,v.gzhead.time>>24&255),F(v,9===v.level?2:2<=v.strategy||v.level<2?4:0),F(v,255&v.gzhead.os),v.gzhead.extra&&v.gzhead.extra.length&&(F(v,255&v.gzhead.extra.length),F(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(n.adler=g(n.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=69):(F(v,0),F(v,0),F(v,0),F(v,0),F(v,0),F(v,9===v.level?2:2<=v.strategy||v.level<2?4:0),F(v,3),v.status=L);else{var j=8+(v.w_bits-8<<4)<<8;j|=(2<=v.strategy||v.level<2?0:v.level<6?1:6===v.level?2:3)<<6,0!==v.strstart&&(j|=32),j+=31-j%31,v.status=L,q(v,j),0!==v.strstart&&(q(v,n.adler>>>16),q(v,65535&n.adler)),n.adler=1}if(69===v.status)if(v.gzhead.extra){for(_=v.pending;v.gzindex<(65535&v.gzhead.extra.length)&&(v.pending!==v.pending_buf_size||(v.gzhead.hcrc&&v.pending>_&&(n.adler=g(n.adler,v.pending_buf,v.pending-_,_)),U(n),_=v.pending,v.pending!==v.pending_buf_size));)F(v,255&v.gzhead.extra[v.gzindex]),v.gzindex++;v.gzhead.hcrc&&v.pending>_&&(n.adler=g(n.adler,v.pending_buf,v.pending-_,_)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=73)}else v.status=73;if(73===v.status)if(v.gzhead.name){_=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>_&&(n.adler=g(n.adler,v.pending_buf,v.pending-_,_)),U(n),_=v.pending,v.pending===v.pending_buf_size)){E=1;break}E=v.gzindex<v.gzhead.name.length?255&v.gzhead.name.charCodeAt(v.gzindex++):0,F(v,E)}while(0!==E);v.gzhead.hcrc&&v.pending>_&&(n.adler=g(n.adler,v.pending_buf,v.pending-_,_)),0===E&&(v.gzindex=0,v.status=91)}else v.status=91;if(91===v.status)if(v.gzhead.comment){_=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>_&&(n.adler=g(n.adler,v.pending_buf,v.pending-_,_)),U(n),_=v.pending,v.pending===v.pending_buf_size)){E=1;break}E=v.gzindex<v.gzhead.comment.length?255&v.gzhead.comment.charCodeAt(v.gzindex++):0,F(v,E)}while(0!==E);v.gzhead.hcrc&&v.pending>_&&(n.adler=g(n.adler,v.pending_buf,v.pending-_,_)),0===E&&(v.status=103)}else v.status=103;if(103===v.status&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&U(n),v.pending+2<=v.pending_buf_size&&(F(v,255&n.adler),F(v,n.adler>>8&255),n.adler=0,v.status=L)):v.status=L),0!==v.pending){if(U(n),0===n.avail_out)return v.last_flush=-1,0}else if(0===n.avail_in&&W(Z)<=W(M)&&4!==Z)return J(n,-5);if(666===v.status&&0!==n.avail_in)return J(n,-5);if(0!==n.avail_in||0!==v.lookahead||0!==Z&&666!==v.status){var H=2===v.strategy?function(D,Q){for(var G;;){if(0===D.lookahead&&(X(D),0===D.lookahead)){if(0===Q)return 1;break}if(D.match_length=0,G=c._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++,G&&(z(D,!1),0===D.strm.avail_out))return 1}return D.insert=0,4===Q?(z(D,!0),0===D.strm.avail_out?3:4):D.last_lit&&(z(D,!1),0===D.strm.avail_out)?1:2}(v,Z):3===v.strategy?function(D,Q){for(var G,Y,$,rt,et=D.window;;){if(D.lookahead<=N){if(X(D),D.lookahead<=N&&0===Q)return 1;if(0===D.lookahead)break}if(D.match_length=0,D.lookahead>=3&&0<D.strstart&&(Y=et[$=D.strstart-1])===et[++$]&&Y===et[++$]&&Y===et[++$]){rt=D.strstart+N;do{}while(Y===et[++$]&&Y===et[++$]&&Y===et[++$]&&Y===et[++$]&&Y===et[++$]&&Y===et[++$]&&Y===et[++$]&&Y===et[++$]&&$<rt);D.match_length=N-(rt-$),D.match_length>D.lookahead&&(D.match_length=D.lookahead)}if(D.match_length>=3?(G=c._tr_tally(D,1,D.match_length-3),D.lookahead-=D.match_length,D.strstart+=D.match_length,D.match_length=0):(G=c._tr_tally(D,0,D.window[D.strstart]),D.lookahead--,D.strstart++),G&&(z(D,!1),0===D.strm.avail_out))return 1}return D.insert=0,4===Q?(z(D,!0),0===D.strm.avail_out?3:4):D.last_lit&&(z(D,!1),0===D.strm.avail_out)?1:2}(v,Z):r[v.level].func(v,Z);if(3!==H&&4!==H||(v.status=666),1===H||3===H)return 0===n.avail_out&&(v.last_flush=-1),0;if(2===H&&(1===Z?c._tr_align(v):5!==Z&&(c._tr_stored_block(v,0,0,!1),3===Z&&(V(v.head),0===v.lookahead&&(v.strstart=0,v.block_start=0,v.insert=0))),U(n),0===n.avail_out))return v.last_flush=-1,0}return 4!==Z?0:v.wrap<=0?1:(2===v.wrap?(F(v,255&n.adler),F(v,n.adler>>8&255),F(v,n.adler>>16&255),F(v,n.adler>>24&255),F(v,255&n.total_in),F(v,n.total_in>>8&255),F(v,n.total_in>>16&255),F(v,n.total_in>>24&255)):(q(v,n.adler>>>16),q(v,65535&n.adler)),U(n),0<v.wrap&&(v.wrap=-v.wrap),0!==v.pending?0:1)},t.deflateEnd=function(n){var Z;return n&&n.state?42!==(Z=n.state.status)&&69!==Z&&73!==Z&&91!==Z&&103!==Z&&Z!==L&&666!==Z?J(n,d):(n.state=null,Z===L?J(n,-3):0):d},t.deflateSetDictionary=function(n,Z){var M,v,_,E,j,H,D,Q,G=Z.length;if(!n||!n.state||2===(E=(M=n.state).wrap)||1===E&&42!==M.status||M.lookahead)return d;for(1===E&&(n.adler=u(n.adler,Z,G,0)),M.wrap=0,G>=M.w_size&&(0===E&&(V(M.head),M.strstart=0,M.block_start=0,M.insert=0),Q=new p.Buf8(M.w_size),p.arraySet(Q,Z,G-M.w_size,M.w_size,0),Z=Q,G=M.w_size),j=n.avail_in,H=n.next_in,D=n.input,n.avail_in=G,n.next_in=0,n.input=Z,X(M);M.lookahead>=3;){for(v=M.strstart,_=M.lookahead-2;M.ins_h=(M.ins_h<<M.hash_shift^M.window[v+3-1])&M.hash_mask,M.prev[v&M.w_mask]=M.head[M.ins_h],M.head[M.ins_h]=v,v++,--_;);M.strstart=v,M.lookahead=2,X(M)}return M.strstart+=M.lookahead,M.block_start=M.strstart,M.insert=M.lookahead,M.lookahead=0,M.match_length=M.prev_length=2,M.match_available=0,n.next_in=H,n.input=D,n.avail_in=j,M.wrap=E,0},t.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(C,O,t){"use strict";O.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(C,O,t){"use strict";O.exports=function(r,p){var c,u,g,x,m,b,o,d,s,l,a,h,y,i,f,S,k,T,P,N,K,w,L,e,A;e=r.input,g=(u=r.next_in)+(r.avail_in-5),A=r.output,m=(x=r.next_out)-(p-r.avail_out),b=x+(r.avail_out-257),o=(c=r.state).dmax,d=c.wsize,s=c.whave,l=c.wnext,a=c.window,h=c.hold,y=c.bits,i=c.lencode,f=c.distcode,S=(1<<c.lenbits)-1,k=(1<<c.distbits)-1;t:do{y<15&&(h+=e[u++]<<y,h+=e[u++]<<(y+=8),y+=8),T=i[h&S];e:for(;;){if(h>>>=P=T>>>24,y-=P,0==(P=T>>>16&255))A[x++]=65535&T;else{if(!(16&P)){if(0==(64&P)){T=i[(65535&T)+(h&(1<<P)-1)];continue e}if(32&P){c.mode=12;break t}r.msg="invalid literal/length code",c.mode=30;break t}N=65535&T,(P&=15)&&(y<P&&(h+=e[u++]<<y,y+=8),N+=h&(1<<P)-1,h>>>=P,y-=P),y<15&&(h+=e[u++]<<y,h+=e[u++]<<(y+=8),y+=8),T=f[h&k];n:for(;;){if(h>>>=P=T>>>24,y-=P,!(16&(P=T>>>16&255))){if(0==(64&P)){T=f[(65535&T)+(h&(1<<P)-1)];continue n}r.msg="invalid distance code",c.mode=30;break t}if(K=65535&T,y<(P&=15)&&(h+=e[u++]<<y,(y+=8)<P&&(h+=e[u++]<<y,y+=8)),o<(K+=h&(1<<P)-1)){r.msg="invalid distance too far back",c.mode=30;break t}if(h>>>=P,y-=P,(P=x-m)<K){if(s<(P=K-P)&&c.sane){r.msg="invalid distance too far back",c.mode=30;break t}if(L=a,(w=0)===l){if(w+=d-P,P<N){for(N-=P;A[x++]=a[w++],--P;);w=x-K,L=A}}else if(l<P){if(w+=d+l-P,(P-=l)<N){for(N-=P;A[x++]=a[w++],--P;);if(w=0,l<N){for(N-=P=l;A[x++]=a[w++],--P;);w=x-K,L=A}}}else if(w+=l-P,P<N){for(N-=P;A[x++]=a[w++],--P;);w=x-K,L=A}for(;2<N;)A[x++]=L[w++],A[x++]=L[w++],A[x++]=L[w++],N-=3;N&&(A[x++]=L[w++],1<N&&(A[x++]=L[w++]))}else{for(w=x-K;A[x++]=A[w++],A[x++]=A[w++],A[x++]=A[w++],2<(N-=3););N&&(A[x++]=A[w++],1<N&&(A[x++]=A[w++]))}break}}break}}while(u<g&&x<b);u-=N=y>>3,h&=(1<<(y-=N<<3))-1,r.next_in=u,r.next_out=x,r.avail_in=u<g?g-u+5:5-(u-g),r.avail_out=x<b?b-x+257:257-(x-b),c.hold=h,c.bits=y}},{}],49:[function(C,O,t){"use strict";var r=C("../utils/common"),p=C("./adler32"),c=C("./crc32"),u=C("./inffast"),g=C("./inftrees"),o=-2;function a(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(w){var L;return w&&w.state?(w.total_in=w.total_out=(L=w.state).total=0,w.msg="",L.wrap&&(w.adler=1&L.wrap),L.mode=1,L.last=0,L.havedict=0,L.dmax=32768,L.head=null,L.hold=0,L.bits=0,L.lencode=L.lendyn=new r.Buf32(852),L.distcode=L.distdyn=new r.Buf32(592),L.sane=1,L.back=-1,0):o}function i(w){var L;return w&&w.state?((L=w.state).wsize=0,L.whave=0,L.wnext=0,y(w)):o}function f(w,L){var e,A;return w&&w.state?(A=w.state,L<0?(e=0,L=-L):(e=1+(L>>4),L<48&&(L&=15)),L&&(L<8||15<L)?o:(null!==A.window&&A.wbits!==L&&(A.window=null),A.wrap=e,A.wbits=L,i(w))):o}function S(w,L){var e,A;return w?(A=new h,(w.state=A).window=null,0!==(e=f(w,L))&&(w.state=null),e):o}var k,T,P=!0;function N(w){if(P){var L;for(k=new r.Buf32(512),T=new r.Buf32(32),L=0;L<144;)w.lens[L++]=8;for(;L<256;)w.lens[L++]=9;for(;L<280;)w.lens[L++]=7;for(;L<288;)w.lens[L++]=8;for(g(1,w.lens,0,288,k,0,w.work,{bits:9}),L=0;L<32;)w.lens[L++]=5;g(2,w.lens,0,32,T,0,w.work,{bits:5}),P=!1}w.lencode=k,w.lenbits=9,w.distcode=T,w.distbits=5}function K(w,L,e,A){var B,I=w.state;return null===I.window&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new r.Buf8(I.wsize)),A>=I.wsize?(r.arraySet(I.window,L,e-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(A<(B=I.wsize-I.wnext)&&(B=A),r.arraySet(I.window,L,e-A,B,I.wnext),(A-=B)?(r.arraySet(I.window,L,e-A,A,0),I.wnext=A,I.whave=I.wsize):(I.wnext+=B,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=B))),0}t.inflateReset=i,t.inflateReset2=f,t.inflateResetKeep=y,t.inflateInit=function(w){return S(w,15)},t.inflateInit2=S,t.inflate=function(w,L){var e,A,B,I,J,W,V,U,z,F,q,R,X,nt,tt,it,at,st,ut,ct,n,Z,M,v,_=0,E=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&0!==w.avail_in)return o;12===(e=w.state).mode&&(e.mode=13),J=w.next_out,B=w.output,I=w.next_in,A=w.input,U=e.hold,z=e.bits,F=W=w.avail_in,q=V=w.avail_out,Z=0;t:for(;;)switch(e.mode){case 1:if(0===e.wrap){e.mode=13;break}for(;z<16;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if(2&e.wrap&&35615===U){E[e.check=0]=255&U,E[1]=U>>>8&255,e.check=c(e.check,E,2,0),z=U=0,e.mode=2;break}if(e.flags=0,e.head&&(e.head.done=!1),!(1&e.wrap)||(((255&U)<<8)+(U>>8))%31){w.msg="incorrect header check",e.mode=30;break}if(8!=(15&U)){w.msg="unknown compression method",e.mode=30;break}if(z-=4,n=8+(15&(U>>>=4)),0===e.wbits)e.wbits=n;else if(n>e.wbits){w.msg="invalid window size",e.mode=30;break}e.dmax=1<<n,w.adler=e.check=1,e.mode=512&U?10:12,z=U=0;break;case 2:for(;z<16;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if(e.flags=U,8!=(255&e.flags)){w.msg="unknown compression method",e.mode=30;break}if(57344&e.flags){w.msg="unknown header flags set",e.mode=30;break}e.head&&(e.head.text=U>>8&1),512&e.flags&&(E[0]=255&U,E[1]=U>>>8&255,e.check=c(e.check,E,2,0)),z=U=0,e.mode=3;case 3:for(;z<32;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}e.head&&(e.head.time=U),512&e.flags&&(E[0]=255&U,E[1]=U>>>8&255,E[2]=U>>>16&255,E[3]=U>>>24&255,e.check=c(e.check,E,4,0)),z=U=0,e.mode=4;case 4:for(;z<16;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}e.head&&(e.head.xflags=255&U,e.head.os=U>>8),512&e.flags&&(E[0]=255&U,E[1]=U>>>8&255,e.check=c(e.check,E,2,0)),z=U=0,e.mode=5;case 5:if(1024&e.flags){for(;z<16;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}e.length=U,e.head&&(e.head.extra_len=U),512&e.flags&&(E[0]=255&U,E[1]=U>>>8&255,e.check=c(e.check,E,2,0)),z=U=0}else e.head&&(e.head.extra=null);e.mode=6;case 6:if(1024&e.flags&&(W<(R=e.length)&&(R=W),R&&(e.head&&(n=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Array(e.head.extra_len)),r.arraySet(e.head.extra,A,I,R,n)),512&e.flags&&(e.check=c(e.check,A,R,I)),W-=R,I+=R,e.length-=R),e.length))break t;e.length=0,e.mode=7;case 7:if(2048&e.flags){if(0===W)break t;for(R=0;n=A[I+R++],e.head&&n&&e.length<65536&&(e.head.name+=String.fromCharCode(n)),n&&R<W;);if(512&e.flags&&(e.check=c(e.check,A,R,I)),W-=R,I+=R,n)break t}else e.head&&(e.head.name=null);e.length=0,e.mode=8;case 8:if(4096&e.flags){if(0===W)break t;for(R=0;n=A[I+R++],e.head&&n&&e.length<65536&&(e.head.comment+=String.fromCharCode(n)),n&&R<W;);if(512&e.flags&&(e.check=c(e.check,A,R,I)),W-=R,I+=R,n)break t}else e.head&&(e.head.comment=null);e.mode=9;case 9:if(512&e.flags){for(;z<16;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if(U!==(65535&e.check)){w.msg="header crc mismatch",e.mode=30;break}z=U=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),w.adler=e.check=0,e.mode=12;break;case 10:for(;z<32;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}w.adler=e.check=a(U),z=U=0,e.mode=11;case 11:if(0===e.havedict)return w.next_out=J,w.avail_out=V,w.next_in=I,w.avail_in=W,e.hold=U,e.bits=z,2;w.adler=e.check=1,e.mode=12;case 12:if(5===L||6===L)break t;case 13:if(e.last){U>>>=7&z,z-=7&z,e.mode=27;break}for(;z<3;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}switch(e.last=1&U,z-=1,3&(U>>>=1)){case 0:e.mode=14;break;case 1:if(N(e),e.mode=20,6!==L)break;U>>>=2,z-=2;break t;case 2:e.mode=17;break;case 3:w.msg="invalid block type",e.mode=30}U>>>=2,z-=2;break;case 14:for(U>>>=7&z,z-=7&z;z<32;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if((65535&U)!=(U>>>16^65535)){w.msg="invalid stored block lengths",e.mode=30;break}if(e.length=65535&U,z=U=0,e.mode=15,6===L)break t;case 15:e.mode=16;case 16:if(R=e.length){if(W<R&&(R=W),V<R&&(R=V),0===R)break t;r.arraySet(B,A,I,R,J),W-=R,I+=R,V-=R,J+=R,e.length-=R;break}e.mode=12;break;case 17:for(;z<14;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if(e.nlen=257+(31&U),z-=5,e.ndist=1+(31&(U>>>=5)),z-=5,e.ncode=4+(15&(U>>>=5)),U>>>=4,z-=4,286<e.nlen||30<e.ndist){w.msg="too many length or distance symbols",e.mode=30;break}e.have=0,e.mode=18;case 18:for(;e.have<e.ncode;){for(;z<3;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}e.lens[j[e.have++]]=7&U,U>>>=3,z-=3}for(;e.have<19;)e.lens[j[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,Z=g(0,e.lens,0,19,e.lencode,0,e.work,M={bits:e.lenbits}),e.lenbits=M.bits,Z){w.msg="invalid code lengths set",e.mode=30;break}e.have=0,e.mode=19;case 19:for(;e.have<e.nlen+e.ndist;){for(;it=(_=e.lencode[U&(1<<e.lenbits)-1])>>>16&255,at=65535&_,!((tt=_>>>24)<=z);){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if(at<16)U>>>=tt,z-=tt,e.lens[e.have++]=at;else{if(16===at){for(v=tt+2;z<v;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if(U>>>=tt,z-=tt,0===e.have){w.msg="invalid bit length repeat",e.mode=30;break}n=e.lens[e.have-1],R=3+(3&U),U>>>=2,z-=2}else if(17===at){for(v=tt+3;z<v;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}z-=tt,n=0,R=3+(7&(U>>>=tt)),U>>>=3,z-=3}else{for(v=tt+7;z<v;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}z-=tt,n=0,R=11+(127&(U>>>=tt)),U>>>=7,z-=7}if(e.have+R>e.nlen+e.ndist){w.msg="invalid bit length repeat",e.mode=30;break}for(;R--;)e.lens[e.have++]=n}}if(30===e.mode)break;if(0===e.lens[256]){w.msg="invalid code -- missing end-of-block",e.mode=30;break}if(e.lenbits=9,Z=g(1,e.lens,0,e.nlen,e.lencode,0,e.work,M={bits:e.lenbits}),e.lenbits=M.bits,Z){w.msg="invalid literal/lengths set",e.mode=30;break}if(e.distbits=6,e.distcode=e.distdyn,Z=g(2,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,M={bits:e.distbits}),e.distbits=M.bits,Z){w.msg="invalid distances set",e.mode=30;break}if(e.mode=20,6===L)break t;case 20:e.mode=21;case 21:if(6<=W&&258<=V){w.next_out=J,w.avail_out=V,w.next_in=I,w.avail_in=W,e.hold=U,e.bits=z,u(w,q),J=w.next_out,B=w.output,V=w.avail_out,I=w.next_in,A=w.input,W=w.avail_in,U=e.hold,z=e.bits,12===e.mode&&(e.back=-1);break}for(e.back=0;it=(_=e.lencode[U&(1<<e.lenbits)-1])>>>16&255,at=65535&_,!((tt=_>>>24)<=z);){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if(it&&0==(240&it)){for(st=tt,ut=it,ct=at;it=(_=e.lencode[ct+((U&(1<<st+ut)-1)>>st)])>>>16&255,at=65535&_,!(st+(tt=_>>>24)<=z);){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}U>>>=st,z-=st,e.back+=st}if(U>>>=tt,z-=tt,e.back+=tt,e.length=at,0===it){e.mode=26;break}if(32&it){e.back=-1,e.mode=12;break}if(64&it){w.msg="invalid literal/length code",e.mode=30;break}e.extra=15&it,e.mode=22;case 22:if(e.extra){for(v=e.extra;z<v;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}e.length+=U&(1<<e.extra)-1,U>>>=e.extra,z-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=23;case 23:for(;it=(_=e.distcode[U&(1<<e.distbits)-1])>>>16&255,at=65535&_,!((tt=_>>>24)<=z);){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if(0==(240&it)){for(st=tt,ut=it,ct=at;it=(_=e.distcode[ct+((U&(1<<st+ut)-1)>>st)])>>>16&255,at=65535&_,!(st+(tt=_>>>24)<=z);){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}U>>>=st,z-=st,e.back+=st}if(U>>>=tt,z-=tt,e.back+=tt,64&it){w.msg="invalid distance code",e.mode=30;break}e.offset=at,e.extra=15&it,e.mode=24;case 24:if(e.extra){for(v=e.extra;z<v;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}e.offset+=U&(1<<e.extra)-1,U>>>=e.extra,z-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){w.msg="invalid distance too far back",e.mode=30;break}e.mode=25;case 25:if(0===V)break t;if(e.offset>(R=q-V)){if((R=e.offset-R)>e.whave&&e.sane){w.msg="invalid distance too far back",e.mode=30;break}X=R>e.wnext?e.wsize-(R-=e.wnext):e.wnext-R,R>e.length&&(R=e.length),nt=e.window}else nt=B,X=J-e.offset,R=e.length;for(V<R&&(R=V),V-=R,e.length-=R;B[J++]=nt[X++],--R;);0===e.length&&(e.mode=21);break;case 26:if(0===V)break t;B[J++]=e.length,V--,e.mode=21;break;case 27:if(e.wrap){for(;z<32;){if(0===W)break t;W--,U|=A[I++]<<z,z+=8}if(w.total_out+=q-=V,e.total+=q,q&&(w.adler=e.check=e.flags?c(e.check,B,q,J-q):p(e.check,B,q,J-q)),q=V,(e.flags?U:a(U))!==e.check){w.msg="incorrect data check",e.mode=30;break}z=U=0}e.mode=28;case 28:if(e.wrap&&e.flags){for(;z<32;){if(0===W)break t;W--,U+=A[I++]<<z,z+=8}if(U!==(4294967295&e.total)){w.msg="incorrect length check",e.mode=30;break}z=U=0}e.mode=29;case 29:Z=1;break t;case 30:Z=-3;break t;case 31:return-4;default:return o}return w.next_out=J,w.avail_out=V,w.next_in=I,w.avail_in=W,e.hold=U,e.bits=z,(e.wsize||q!==w.avail_out&&e.mode<30&&(e.mode<27||4!==L))&&K(w,w.output,w.next_out,q-w.avail_out)?(e.mode=31,-4):(q-=w.avail_out,w.total_in+=F-=w.avail_in,w.total_out+=q,e.total+=q,e.wrap&&q&&(w.adler=e.check=e.flags?c(e.check,B,q,w.next_out-q):p(e.check,B,q,w.next_out-q)),w.data_type=e.bits+(e.last?64:0)+(12===e.mode?128:0)+(20===e.mode||15===e.mode?256:0),(0==F&&0===q||4===L)&&0===Z&&(Z=-5),Z)},t.inflateEnd=function(w){if(!w||!w.state)return o;var L=w.state;return L.window&&(L.window=null),w.state=null,0},t.inflateGetHeader=function(w,L){var e;return w&&w.state?0==(2&(e=w.state).wrap)?o:((e.head=L).done=!1,0):o},t.inflateSetDictionary=function(w,L){var e,A=L.length;return w&&w.state?0!==(e=w.state).wrap&&11!==e.mode?o:11===e.mode&&p(1,L,A,0)!==e.check?-3:K(w,L,A,A)?(e.mode=31,-4):(e.havedict=1,0):o},t.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(C,O,t){"use strict";var r=C("../utils/common"),p=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],g=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];O.exports=function(x,m,b,o,d,s,l,a){var h,y,i,f,S,k,T,P,N,K=a.bits,w=0,L=0,e=0,A=0,B=0,I=0,J=0,W=0,V=0,U=0,z=null,F=0,q=new r.Buf16(16),R=new r.Buf16(16),X=null,nt=0;for(w=0;w<=15;w++)q[w]=0;for(L=0;L<o;L++)q[m[b+L]]++;for(B=K,A=15;1<=A&&0===q[A];A--);if(A<B&&(B=A),0===A)return d[s++]=20971520,d[s++]=20971520,a.bits=1,0;for(e=1;e<A&&0===q[e];e++);for(B<e&&(B=e),w=W=1;w<=15;w++)if(W<<=1,(W-=q[w])<0)return-1;if(0<W&&(0===x||1!==A))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+q[w];for(L=0;L<o;L++)0!==m[b+L]&&(l[R[m[b+L]]++]=L);if(k=0===x?(z=X=l,19):1===x?(z=p,F-=257,X=c,nt-=257,256):(z=u,X=g,-1),w=e,S=s,J=L=U=0,i=-1,f=(V=1<<(I=B))-1,1===x&&852<V||2===x&&592<V)return 1;for(;;){for(T=w-J,N=l[L]<k?(P=0,l[L]):l[L]>k?(P=X[nt+l[L]],z[F+l[L]]):(P=96,0),h=1<<w-J,e=y=1<<I;d[S+(U>>J)+(y-=h)]=T<<24|P<<16|N|0,0!==y;);for(h=1<<w-1;U&h;)h>>=1;if(0!==h?(U&=h-1,U+=h):U=0,L++,0==--q[w]){if(w===A)break;w=m[b+l[L]]}if(B<w&&(U&f)!==i){for(0===J&&(J=B),S+=e,W=1<<(I=w-J);I+J<A&&!((W-=q[I+J])<=0);)I++,W<<=1;if(V+=1<<I,1===x&&852<V||2===x&&592<V)return 1;d[i=U&f]=B<<24|I<<16|S-s|0}}return 0!==U&&(d[S+U]=w-J<<24|64<<16|0),a.bits=B,0}},{"../utils/common":41}],51:[function(C,O,t){"use strict";O.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(C,O,t){"use strict";var r=C("../utils/common");function u(_){for(var E=_.length;0<=--E;)_[E]=0}var m=256,b=286,o=30,l=15,k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(576);u(K);var w=new Array(60);u(w);var L=new Array(512);u(L);var e=new Array(256);u(e);var A=new Array(29);u(A);var B,I,J,W=new Array(o);function V(_,E,j,H,D){this.static_tree=_,this.extra_bits=E,this.extra_base=j,this.elems=H,this.max_length=D,this.has_stree=_&&_.length}function U(_,E){this.dyn_tree=_,this.max_code=0,this.stat_desc=E}function z(_){return _<256?L[_]:L[256+(_>>>7)]}function F(_,E){_.pending_buf[_.pending++]=255&E,_.pending_buf[_.pending++]=E>>>8&255}function q(_,E,j){_.bi_valid>16-j?(_.bi_buf|=E<<_.bi_valid&65535,F(_,_.bi_buf),_.bi_buf=E>>16-_.bi_valid,_.bi_valid+=j-16):(_.bi_buf|=E<<_.bi_valid&65535,_.bi_valid+=j)}function R(_,E,j){q(_,j[2*E],j[2*E+1])}function X(_,E){for(var j=0;j|=1&_,_>>>=1,j<<=1,0<--E;);return j>>>1}function nt(_,E,j){var H,D,Q=new Array(16),G=0;for(H=1;H<=l;H++)Q[H]=G=G+j[H-1]<<1;for(D=0;D<=E;D++){var Y=_[2*D+1];0!==Y&&(_[2*D]=X(Q[Y]++,Y))}}function tt(_){var E;for(E=0;E<b;E++)_.dyn_ltree[2*E]=0;for(E=0;E<o;E++)_.dyn_dtree[2*E]=0;for(E=0;E<19;E++)_.bl_tree[2*E]=0;_.dyn_ltree[512]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function it(_){8<_.bi_valid?F(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function at(_,E,j,H){var D=2*E,Q=2*j;return _[D]<_[Q]||_[D]===_[Q]&&H[E]<=H[j]}function st(_,E,j){for(var H=_.heap[j],D=j<<1;D<=_.heap_len&&(D<_.heap_len&&at(E,_.heap[D+1],_.heap[D],_.depth)&&D++,!at(E,H,_.heap[D],_.depth));)_.heap[j]=_.heap[D],j=D,D<<=1;_.heap[j]=H}function ut(_,E,j){var H,D,Q,G,Y=0;if(0!==_.last_lit)for(;H=_.pending_buf[_.d_buf+2*Y]<<8|_.pending_buf[_.d_buf+2*Y+1],D=_.pending_buf[_.l_buf+Y],Y++,0===H?R(_,D,E):(R(_,(Q=e[D])+m+1,E),0!==(G=k[Q])&&q(_,D-=A[Q],G),R(_,Q=z(--H),j),0!==(G=T[Q])&&q(_,H-=W[Q],G)),Y<_.last_lit;);R(_,256,E)}function ct(_,E){var j,H,D,Q=E.dyn_tree,G=E.stat_desc.static_tree,Y=E.stat_desc.has_stree,$=E.stat_desc.elems,rt=-1;for(_.heap_len=0,_.heap_max=573,j=0;j<$;j++)0!==Q[2*j]?(_.heap[++_.heap_len]=rt=j,_.depth[j]=0):Q[2*j+1]=0;for(;_.heap_len<2;)Q[2*(D=_.heap[++_.heap_len]=rt<2?++rt:0)]=1,_.depth[D]=0,_.opt_len--,Y&&(_.static_len-=G[2*D+1]);for(E.max_code=rt,j=_.heap_len>>1;1<=j;j--)st(_,Q,j);for(D=$;j=_.heap[1],_.heap[1]=_.heap[_.heap_len--],st(_,Q,1),H=_.heap[1],_.heap[--_.heap_max]=j,_.heap[--_.heap_max]=H,Q[2*D]=Q[2*j]+Q[2*H],_.depth[D]=(_.depth[j]>=_.depth[H]?_.depth[j]:_.depth[H])+1,Q[2*j+1]=Q[2*H+1]=D,_.heap[1]=D++,st(_,Q,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(et,lt){var pt,dt,_t,ot,gt,wt,ft=lt.dyn_tree,yt=lt.max_code,xt=lt.stat_desc.static_tree,Ct=lt.stat_desc.has_stree,kt=lt.stat_desc.extra_bits,bt=lt.stat_desc.extra_base,mt=lt.stat_desc.max_length,vt=0;for(ot=0;ot<=l;ot++)et.bl_count[ot]=0;for(ft[2*et.heap[et.heap_max]+1]=0,pt=et.heap_max+1;pt<573;pt++)mt<(ot=ft[2*ft[2*(dt=et.heap[pt])+1]+1]+1)&&(ot=mt,vt++),ft[2*dt+1]=ot,yt<dt||(et.bl_count[ot]++,gt=0,bt<=dt&&(gt=kt[dt-bt]),et.opt_len+=(wt=ft[2*dt])*(ot+gt),Ct&&(et.static_len+=wt*(xt[2*dt+1]+gt)));if(0!==vt){do{for(ot=mt-1;0===et.bl_count[ot];)ot--;et.bl_count[ot]--,et.bl_count[ot+1]+=2,et.bl_count[mt]--,vt-=2}while(0<vt);for(ot=mt;0!==ot;ot--)for(dt=et.bl_count[ot];0!==dt;)yt<(_t=et.heap[--pt])||(ft[2*_t+1]!==ot&&(et.opt_len+=(ot-ft[2*_t+1])*ft[2*_t],ft[2*_t+1]=ot),dt--)}}(_,E),nt(Q,rt,_.bl_count)}function n(_,E,j){var H,D,Q=-1,G=E[1],Y=0,$=7,rt=4;for(0===G&&($=138,rt=3),E[2*(j+1)+1]=65535,H=0;H<=j;H++)D=G,G=E[2*(H+1)+1],++Y<$&&D===G||(Y<rt?_.bl_tree[2*D]+=Y:0!==D?(D!==Q&&_.bl_tree[2*D]++,_.bl_tree[32]++):Y<=10?_.bl_tree[34]++:_.bl_tree[36]++,Q=D,rt=(Y=0)===G?($=138,3):D===G?($=6,3):($=7,4))}function Z(_,E,j){var H,D,Q=-1,G=E[1],Y=0,$=7,rt=4;for(0===G&&($=138,rt=3),H=0;H<=j;H++)if(D=G,G=E[2*(H+1)+1],!(++Y<$&&D===G)){if(Y<rt)for(;R(_,D,_.bl_tree),0!=--Y;);else 0!==D?(D!==Q&&(R(_,D,_.bl_tree),Y--),R(_,16,_.bl_tree),q(_,Y-3,2)):Y<=10?(R(_,17,_.bl_tree),q(_,Y-3,3)):(R(_,18,_.bl_tree),q(_,Y-11,7));Q=D,rt=(Y=0)===G?($=138,3):D===G?($=6,3):($=7,4)}}u(W);var M=!1;function v(_,E,j,H){var D,Q,G;q(_,0+(H?1:0),3),Q=E,G=j,it(D=_),F(D,G),F(D,~G),r.arraySet(D.pending_buf,D.window,Q,G,D.pending),D.pending+=G}t._tr_init=function(_){M||(function(){var E,j,H,D,Q,G=new Array(16);for(D=H=0;D<28;D++)for(A[D]=H,E=0;E<1<<k[D];E++)e[H++]=D;for(e[H-1]=D,D=Q=0;D<16;D++)for(W[D]=Q,E=0;E<1<<T[D];E++)L[Q++]=D;for(Q>>=7;D<o;D++)for(W[D]=Q<<7,E=0;E<1<<T[D]-7;E++)L[256+Q++]=D;for(j=0;j<=l;j++)G[j]=0;for(E=0;E<=143;)K[2*E+1]=8,E++,G[8]++;for(;E<=255;)K[2*E+1]=9,E++,G[9]++;for(;E<=279;)K[2*E+1]=7,E++,G[7]++;for(;E<=287;)K[2*E+1]=8,E++,G[8]++;for(nt(K,287,G),E=0;E<o;E++)w[2*E+1]=5,w[2*E]=X(E,5);B=new V(K,k,257,b,l),I=new V(w,T,0,o,l),J=new V(new Array(0),P,0,19,7)}(),M=!0),_.l_desc=new U(_.dyn_ltree,B),_.d_desc=new U(_.dyn_dtree,I),_.bl_desc=new U(_.bl_tree,J),_.bi_buf=0,_.bi_valid=0,tt(_)},t._tr_stored_block=v,t._tr_flush_block=function(_,E,j,H){var D,Q,G=0;0<_.level?(2===_.strm.data_type&&(_.strm.data_type=function(Y){var $,rt=4093624447;for($=0;$<=31;$++,rt>>>=1)if(1&rt&&0!==Y.dyn_ltree[2*$])return 0;if(0!==Y.dyn_ltree[18]||0!==Y.dyn_ltree[20]||0!==Y.dyn_ltree[26])return 1;for($=32;$<m;$++)if(0!==Y.dyn_ltree[2*$])return 1;return 0}(_)),ct(_,_.l_desc),ct(_,_.d_desc),G=function(Y){var $;for(n(Y,Y.dyn_ltree,Y.l_desc.max_code),n(Y,Y.dyn_dtree,Y.d_desc.max_code),ct(Y,Y.bl_desc),$=18;3<=$&&0===Y.bl_tree[2*N[$]+1];$--);return Y.opt_len+=3*($+1)+5+5+4,$}(_),(Q=_.static_len+3+7>>>3)<=(D=_.opt_len+3+7>>>3)&&(D=Q)):D=Q=j+5,j+4<=D&&-1!==E?v(_,E,j,H):4===_.strategy||Q===D?(q(_,2+(H?1:0),3),ut(_,K,w)):(q(_,4+(H?1:0),3),function(Y,$,rt,et){var lt;for(q(Y,$-257,5),q(Y,rt-1,5),q(Y,et-4,4),lt=0;lt<et;lt++)q(Y,Y.bl_tree[2*N[lt]+1],3);Z(Y,Y.dyn_ltree,$-1),Z(Y,Y.dyn_dtree,rt-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,G+1),ut(_,_.dyn_ltree,_.dyn_dtree)),tt(_),H&&it(_)},t._tr_tally=function(_,E,j){return _.pending_buf[_.d_buf+2*_.last_lit]=E>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&E,_.pending_buf[_.l_buf+_.last_lit]=255&j,_.last_lit++,0===E?_.dyn_ltree[2*j]++:(_.matches++,E--,_.dyn_ltree[2*(e[j]+m+1)]++,_.dyn_dtree[2*z(E)]++),_.last_lit===_.lit_bufsize-1},t._tr_align=function(_){var E;q(_,2,3),R(_,256,K),16===(E=_).bi_valid?(F(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)}},{"../utils/common":41}],53:[function(C,O,t){"use strict";O.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(C,O,t){(function(r){!function(p,c){"use strict";if(!p.setImmediate){var u,g,x,m,b=1,o={},d=!1,s=p.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(p);l=l&&l.setTimeout?l:p,u="[object process]"==={}.toString.call(p.process)?function(i){process.nextTick(function(){h(i)})}:function(){if(p.postMessage&&!p.importScripts){var i=!0,f=p.onmessage;return p.onmessage=function(){i=!1},p.postMessage("","*"),p.onmessage=f,i}}()?(m="setImmediate$"+Math.random()+"$",p.addEventListener?p.addEventListener("message",y,!1):p.attachEvent("onmessage",y),function(i){p.postMessage(m+i,"*")}):p.MessageChannel?((x=new MessageChannel).port1.onmessage=function(i){h(i.data)},function(i){x.port2.postMessage(i)}):s&&"onreadystatechange"in s.createElement("script")?(g=s.documentElement,function(i){var f=s.createElement("script");f.onreadystatechange=function(){h(i),f.onreadystatechange=null,g.removeChild(f),f=null},g.appendChild(f)}):function(i){setTimeout(h,0,i)},l.setImmediate=function(i){"function"!=typeof i&&(i=new Function(""+i));for(var f=new Array(arguments.length-1),S=0;S<f.length;S++)f[S]=arguments[S+1];return o[b]={callback:i,args:f},u(b),b++},l.clearImmediate=a}function a(i){delete o[i]}function h(i){if(d)setTimeout(h,0,i);else{var f=o[i];if(f){d=!0;try{!function(S){var k=S.callback,T=S.args;switch(T.length){case 0:k();break;case 1:k(T[0]);break;case 2:k(T[0],T[1]);break;case 3:k(T[0],T[1],T[2]);break;default:k.apply(undefined,T)}}(f)}finally{a(i),d=!1}}}}function y(i){i.source===p&&"string"==typeof i.data&&0===i.data.indexOf(m)&&h(+i.data.slice(m.length))}}("undefined"==typeof self?void 0===r?this:r:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}}]);