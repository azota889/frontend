"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[424],{40424:(Ir,vt,m)=>{m.r(vt),m.d(vt,{TestFrontModule:()=>yr});var f=m(69808),g=m(93075),Ht=m(48966),P=m(74202),Bt=m(51908),Gt=m(1737),Rt=m(63728),$t=m(71410),Kt=m(75658),Vt=m(95880),Tt=m(37389),A=m(55330),t=m(5e3),Z=m(35018);let Wt=(()=>{class i extends A.Q{constructor(e,n){super(n),this.activeRoute=e,this.commonService=n}ngOnInit(){var e=this.commonService.getMyParam(this.activeRoute,"hash_id");this.commonService.myNavigation("/de-thi/"+e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.gz),t.Y36(Z.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["page-redirect-support"]],features:[t.qOj],decls:0,vars:0,template:function(e,n){},encapsulation:2}),i})();var Xt=m(45668),at=m(36053),_t=m(34782),Y=m(51930),et=m(47691),nt=m(58496),te=m(36114);function ee(i,a){1&i&&t._UZ(0,"azt-loading-effect")}function ie(i,a){if(1&i&&t._UZ(0,"azt-test-review",3),2&i){const e=t.oxw();t.Q6J("initDataAnswer",e.initDataAnswerTest)("isBackEnd",!1)}}let ne=(()=>{class i extends A.Q{constructor(e,n,o,s){super(e),this.commonService=e,this.activeRoute=n,this.browserStorageService=o,this.frontExamResultService=s,this.headerTitle="",this.initDataAnswerTest={}}redirectToBackLink(){var e;let n=null!==(e=this.commonService.getMyQueryParam("backto"))&&void 0!==e?e:"",o=this.activeRoute.snapshot.paramMap.get("hash_id");return this.commonService.getMyQueryParam("offline")?this.myNavigationBySpecialQueryString(null!=n?n:"/student/dashboard/0"):n.includes("enter-question")?this.commonService.myNavigation(n):this.commonService.myNavigationWithQueryString("/de-thi/"+o,"?backto="+encodeURIComponent(n))}translateMetaTitle(e){let n="K\u1ebft qu\u1ea3: ";this.commonService.translateMetaData({title:n+e,description:n+e,image:"lang_cms_test_image"})}getAndProcessDataForStudent(){this.initStatusObj(),(0,at.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,n,o=null===(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===e?void 0:e.toString();let s=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),_=null!==(n=this.commonService.getMyQueryParam("offline"))&&void 0!==n?n:"";var l=this.browserStorageService.getSimpleSessionStorageWithExpired("test_result_v2_"+o+"_"+s);l?(this.initDataAnswerTest.data=l,this.headerTitle=`K\u1ebft qu\u1ea3: ${l.examObj.name}`,this.translateMetaTitle(l.examObj.name),this.successStatusObj()):this.frontExamResultService.apiFrontExamResultGetExamWithExamAnswerV2Get(o,s,_).subscribe(r=>{var d,c,u,h,p;1==r.success?(this.initDataAnswerTest=r,this.headerTitle=`K\u1ebft qu\u1ea3: ${null===(c=null===(d=null==r?void 0:r.data)||void 0===d?void 0:d.examObj)||void 0===c?void 0:c.name}`,this.translateMetaTitle(null===(h=null===(u=r.data)||void 0===u?void 0:u.examObj)||void 0===h?void 0:h.name),this.successStatusObj()):this.errorStatusObj(null!==(p=r.message)&&void 0!==p?p:"",!0)})})}ngOnInit(){this.commonService.gaEvent("FrontExam_ViewFullResult"),this.getAndProcessDataForStudent(),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v),t.Y36(P.gz),t.Y36(_t.z),t.Y36(Y.CA))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-answer-test"]],features:[t.qOj],decls:4,vars:4,consts:[[3,"headerTitle","checkUrlFunction","RedirectToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"initDataAnswer","isBackEnd"]],template:function(e,n){if(1&e&&(t.TgZ(0,"header-frontend",0),t.NdJ("RedirectToLink",function(){return n.redirectToBackLink()}),t.qZA(),t.YNc(1,ee,1,0,"azt-loading-effect",1),t.YNc(2,ie,1,2,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("headerTitle",n.headerTitle)("checkUrlFunction",!0),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[f.O5,et.Q,nt.d,te.K],encapsulation:2}),i})();var J=m(24096),bt=m(67102),rt=m(16384),V=m(9224),W=m(25245),w=m(1033);function oe(i,a){1&i&&t._UZ(0,"azt-loading-effect")}function se(i,a){1&i&&(t.TgZ(0,"div")(1,"div",6)(2,"span"),t._uU(3,"C\xf3 l\u1ed7i khi t\u1ea3i k\u1ebft qu\u1ea3. Vui l\xf2ng t\u1ea3i l\u1ea1i trang ho\u1eb7c th\u1eed l\u1ea1i sau!"),t.qZA()()())}function ae(i,a){if(1&i&&(t.TgZ(0,"p",21),t._uU(1,"Th\xed sinh: "),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(3),t.Oqu(e.studentObj.fullName?e.studentObj.fullName:e.userObj.fullName)}}function _e(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1,"S\u1ed1 l\u01b0\u1ee3ng \u0111\xfang: "),t.TgZ(2,"span"),t._uU(3),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(3),t.AsE("",e.examResultObj.rightAnswer," / ",e.examResultObj.totalQuestion,"")}}function le(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("S\u1ed1 c\xe2u h\u1ecfi: ",e.examResultObj.totalQuestion,"")}}function re(i,a){if(1&i&&(t.TgZ(0,"h2",29),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.Oqu(e.examResultObj.mark)}}function ce(i,a){if(1&i&&(t.TgZ(0,"div",26)(1,"h2",27),t._uU(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.qZA(),t.TgZ(3,"div",24),t.YNc(4,re,2,1,"h2",28),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(4),t.Q6J("ngIf",null!=e.examResultObj.mark)}}function de(i,a){1&i&&(t.TgZ(0,"h2",27),t._uU(1," \u0110i\u1ec3m tr\u1eafc nghi\u1ec7m c\u1ee7a b\u1ea1n: "),t.qZA())}function ue(i,a){1&i&&(t.TgZ(0,"h2",27),t._uU(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.qZA())}function me(i,a){if(1&i&&(t.TgZ(0,"h2",29),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.Oqu(e.examResultObj.mark)}}function pe(i,a){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,de,2,0,"h2",30),t.YNc(2,ue,2,0,"h2",30),t.TgZ(3,"div",24),t.YNc(4,me,2,1,"h2",28),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.examResultObj.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.examResultObj.essayMark),t.xp6(2),t.Q6J("ngIf",null!=e.examResultObj.mark)}}function ge(i,a){1&i&&(t.TgZ(0,"h2",27),t._uU(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.qZA())}function he(i,a){if(1&i&&(t.TgZ(0,"h2",29),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.examResultObj.mark,"")}}function fe(i,a){1&i&&(t.TgZ(0,"h2",31),t._uU(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),t.qZA())}function xe(i,a){if(1&i&&(t.TgZ(0,"div",26),t.YNc(1,ge,2,0,"h2",30),t.TgZ(2,"div",24),t.YNc(3,he,2,1,"h2",28),t.YNc(4,fe,2,0,"h2",25),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null!=e.examResultObj.essayMark),t.xp6(2),t.Q6J("ngIf",null!=e.examResultObj.mark&&null!=e.examResultObj.essayMark),t.xp6(1),t.Q6J("ngIf",null==e.examResultObj.essayMark)}}function ve(i,a){1&i&&(t.TgZ(0,"h2",31),t._uU(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),t.qZA())}function Te(i,a){if(1&i&&(t.TgZ(0,"div",22),t.YNc(1,ce,5,1,"div",23),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,pe,5,3,"div",23),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,xe,5,3,"div",23),t.ALo(6,"isOnlyEssay"),t.TgZ(7,"div",24),t.YNc(8,ve,2,0,"h2",25),t.qZA()()),2&i){const e=t.oxw(3);let n,o,s;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,null!==(n=e.examObj.examType)&&void 0!==n?n:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,null!==(o=e.examObj.examType)&&void 0!==o?o:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,null!==(s=e.examObj.examType)&&void 0!==s?s:0)),t.xp6(3),t.Q6J("ngIf",null==e.examResultObj.mark)}}function be(i,a){1&i&&(t.TgZ(0,"h2",27),t._uU(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.qZA())}function we(i,a){if(1&i&&(t.TgZ(0,"div",22)(1,"div",26),t.YNc(2,be,2,0,"h2",30),t.qZA(),t.TgZ(3,"div",24)(4,"h2",31),t._uU(5,"Ch\u01b0a \u0111\u01b0\u1ee3c xem \u0111i\u1ec3m"),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",null==e.examResultObj.essayMark)}}function Ce(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.redirectToAnswerTest())}),t._uU(2,"xem \u0111\xe1p \xe1n chi ti\u1ebft"),t.qZA()()}}function Ee(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.redirectToAnswerTest())}),t._uU(2,"xem b\xe0i l\xe0m chi ti\u1ebft"),t.qZA()()}}function Ae(i,a){if(1&i&&(t.TgZ(0,"div",7)(1,"b")(2,"h2"),t._uU(3,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i"),t.qZA()()(),t.TgZ(4,"div",8)(5,"div",9)(6,"mat-card",10)(7,"div",11),t.YNc(8,ae,4,1,"p",12),t.TgZ(9,"div",13)(10,"div",14)(11,"div",15)(12,"span",16)(13,"mat-icon"),t._uU(14,"access_time"),t.qZA()(),t.TgZ(15,"span",17),t._uU(16," Th\u1eddi gian l\xe0m b\xe0i: "),t.TgZ(17,"span"),t._uU(18),t.qZA()()()(),t.TgZ(19,"div",14)(20,"div",15)(21,"span",16)(22,"mat-icon"),t._uU(23,"help_outline"),t.qZA()(),t.TgZ(24,"span",17),t.YNc(25,_e,4,2,"span",18),t.YNc(26,le,2,1,"span",18),t.qZA()()()(),t.TgZ(27,"div",7),t.YNc(28,Te,9,10,"div",19),t.YNc(29,we,6,1,"div",19),t.qZA(),t.YNc(30,Ce,3,0,"div",20),t.YNc(31,Ee,3,0,"div",20),t.qZA()()()()),2&i){const e=t.oxw(2);t.xp6(8),t.Q6J("ngIf",e.studentObj.fullName||e.userObj.fullName),t.xp6(10),t.HOy("",e.days," ",e.hours," ",e.minutes," ",e.seconds,""),t.xp6(7),t.Q6J("ngIf",null!=e.examResultObj.rightAnswer),t.xp6(1),t.Q6J("ngIf",null==e.examResultObj.rightAnswer),t.xp6(2),t.Q6J("ngIf",2!=e.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2==e.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2!=e.examObj.whenShowAnswer),t.xp6(1),t.Q6J("ngIf",2==e.examObj.whenShowAnswer)}}function Ze(i,a){if(1&i&&(t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,se,4,0,"div",1),t.YNc(3,Ae,32,11,"ng-template",null,5,t.W1O),t.qZA()()),2&i){const e=t.MAs(4),n=t.oxw();t.xp6(2),t.Q6J("ngIf",""!=n.statusObj.errorMessage)("ngIfElse",e)}}let ye=(()=>{class i extends A.Q{constructor(e,n,o,s,_){super(o),this.activeRoute=e,this.frontExamResultService=n,this.commonService=o,this.baseApiService=s,this.browserStorageService=_,this.subscriptions=new J.w,this.hashId="",this.resultId=0,this.tenantId=0,this.cur_cateId=0,this.examObj={},this.examResultObj={},this.studentObj={},this.userObj={},this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.backToLink="",this.paramBackToLink=""}getExamResult(){var e,n,o,s,_;this.initStatusObj();var l=this.browserStorageService.getSimpleSessionStorage("test_result_v2_"+this.hashId+"_"+this.resultId);if(l){var r=this.commonService.parseJson(l),d=this.commonService.parseJson(null!==(e=r.data)&&void 0!==e?e:"");this.examObj=null!==(n=d.examObj)&&void 0!==n?n:{},this.examResultObj=null!==(o=d.examResultObj)&&void 0!==o?o:{},this.studentObj=d.studentObj;var c=new Date(null!==(s=this.examResultObj.startedTest)&&void 0!==s?s:""),h=new Date(null!==(_=this.examResultObj.createdAt)&&void 0!==_?_:"").getTime()-c.getTime(),p=Math.floor(h/864e5),x=Math.floor(h/36e5)-24*p,b=Math.floor(h/6e4)-(24*p*60+60*x),k=Math.floor(h/1e3)-(24*p*60*60+60*x*60+60*b);0!=p&&(this.days=p+" ng\xe0y "),0!=x&&(this.hours=x+" gi\u1edd "),0!=b&&(this.minutes=b+" ph\xfat "),0!=k&&(this.seconds=k+" gi\xe2y"),this.commonService.translateMetaData({title:"N\u1ed9p b\xe0i: "+this.examObj.name,description:this.examObj.name}),this.stopStatusObj()}else this.subscriptions.add(this.frontExamResultService.apiFrontExamResultGetObjGet(this.hashId,this.resultId).subscribe(C=>{var I,M,y,F,T,E,v,L,N,G,R,S,j;if(1==C.success){this.hasErrorMessage=(null==C?void 0:C.hasOwnProperty("message"))&&C.message?C.message:"",this.examObj=null!==(M=null===(I=C.data)||void 0===I?void 0:I.examObj)&&void 0!==M?M:{},this.examResultObj=null!==(F=null===(y=C.data)||void 0===y?void 0:y.examResultObj)&&void 0!==F?F:{},this.studentObj=null!==(E=null===(T=C.data)||void 0===T?void 0:T.studentObj)&&void 0!==E?E:{};var H=new Date(null!==(N=null===(L=null===(v=C.data)||void 0===v?void 0:v.examResultObj)||void 0===L?void 0:L.startedTest)&&void 0!==N?N:""),U=new Date(null!==(S=null===(R=null===(G=C.data)||void 0===G?void 0:G.examResultObj)||void 0===R?void 0:R.createdAt)&&void 0!==S?S:"").getTime()-H.getTime(),K=Math.floor(U/864e5),it=Math.floor(U/36e5)-24*K,ot=Math.floor(U/6e4)-(24*K*60+60*it),lt=Math.floor(U/1e3)-(24*K*60*60+60*it*60+60*ot);0!=K&&(this.days=K+" ng\xe0y "),0!=x&&(this.hours=it+" gi\u1edd "),0!=b&&(this.minutes=ot+" ph\xfat "),0!=k&&(this.seconds=lt+" gi\xe2y"),this.commonService.translateMetaData({title:"N\u1ed9p b\xe0i: "+this.examObj.name,description:this.examObj.name}),this.successStatusObj()}else this.errorStatusObj(null!==(j=C.message)&&void 0!==j?j:"",!0)}))}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.cur_cateId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.paramBackToLink))}checkValidPhone(){var e=/^[0-9]{10}$/;return!!(this.studentObj.phone&&this.studentObj.phone.match(e)||this.userObj.phone&&this.userObj.phone.match(e))}ngOnInit(){var e;(0,at.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n,o=null===(n=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===n?void 0:n.toString();this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=o||"",this.userObj=this.baseApiService.getUserObj(),this.getExamResult()}),this.backToLink="/student/dashboard/0",this.paramBackToLink=null!==(e=this.commonService.getMyQueryParam("backto"))&&void 0!==e?e:"",this.commonService.getMyQueryParam("backto")&&(this.backToLink=this.paramBackToLink),this.commonService.gaEvent("FrontExam_ViewShortResult"),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.gz),t.Y36(bt.C),t.Y36(Z.v),t.Y36(rt._),t.Y36(_t.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-test"]],features:[t.qOj],decls:4,vars:4,consts:[[3,"headerTitle","headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"mw-640","app","mt-3"],[1,"view-full-screen"],["Normal",""],[1,"alert","alert-danger"],[1,"title-header"],[1,"row","m-0"],[1,"col-md-12",2,"margin","0 auto","padding-top","10px","padding-bottom","5px"],[1,"text-center"],[1,"card-info"],["class","mt-1","style","font-size: 14px;",4,"ngIf"],[1,"row","mt-1","mb-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","point-view",4,"ngIf"],[1,"mt-1",2,"font-size","14px"],[1,"col-md-12"],["style","display: inline-block;",4,"ngIf"],[1,"point-view-score"],["class","text-danger mr-3",4,"ngIf"],[2,"display","inline-block"],[1,"score-text"],["class","score",4,"ngIf"],[1,"score"],["class","score-text",4,"ngIf"],[1,"text-danger","mr-3"],[1,"point-view"],[1,"btn","btn-warning",2,"color","white","font-size","14px",3,"click"]],template:function(e,n){if(1&e&&(t._UZ(0,"header-frontend",0),t.YNc(1,oe,1,0,"azt-loading-effect",1),t.YNc(2,Ze,5,2,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("headerTitle","N\u1ed9p b\xe0i")("headerBackTolink",n.backToLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[f.O5,V.a8,W.Hw,et.Q,nt.d,w.fV,w.sA,w.G0],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.view-full-screen[_ngcontent-%COMP%]{margin-top:20px}.title-header[_ngcontent-%COMP%]{text-align:center;padding-top:30px}.title-content[_ngcontent-%COMP%]{justify-content:center;padding:30px 0 0}.point-view[_ngcontent-%COMP%]{text-align:center;padding-bottom:30px}.point-view[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700;padding-bottom:20px}.score-text[_ngcontent-%COMP%]{font-weight:600}.point-view-score[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700}.box-slide-show[_ngcontent-%COMP%]{width:100%;background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:5px}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:240px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}@media screen and (max-width: 576px){.box[_ngcontent-%COMP%]{justify-content:flex-start}}"]}),i})();var ct=m(43191),wt=m(92340),dt=m(70655),Ct=m(40520),O=m(12626),ke=m(42466),Et=m(58326),Oe=m(44747),ut=m(61704),Se=m(69287),B=m(47423),X=m(87238);const Ie=["customCard"],Me=["fileSelect"];function Qe(i,a){1&i&&(t.TgZ(0,"p",16),t._uU(1,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),t.qZA())}function qe(i,a){1&i&&(t.TgZ(0,"p",16),t._uU(1,"\u0110ang \u0111\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),t.qZA())}function Fe(i,a){if(1&i&&(t.TgZ(0,"div",13)(1,"span"),t._UZ(2,"span",14),t.qZA(),t._UZ(3,"br"),t.YNc(4,Qe,2,0,"p",15),t.YNc(5,qe,2,0,"p",15),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",!e.Tmploading),t.xp6(1),t.Q6J("ngIf",e.Tmploading)}}const Pe=function(i){return{"width.%":i}};function Je(i,a){if(1&i&&(t.TgZ(0,"div",19)(1,"p",20),t._uU(2),t.qZA(),t.TgZ(3,"div",21),t._UZ(4,"div",22),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.Oqu(e.fileName),t.xp6(2),t.Q6J("ngStyle",t.VKq(2,Pe,e.uploadProgress))}}function Ne(i,a){if(1&i&&(t.TgZ(0,"div",17),t.YNc(1,Je,5,4,"div",18),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.convertObjToArray(e.fileUploadQueue))}}function je(i,a){if(1&i&&(t.TgZ(0,"div"),t._UZ(1,"img",33),t.ALo(2,"safe"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.url||""),t.LSH)}}function Ue(i,a){if(1&i&&(t._UZ(0,"img",33),t.ALo(1,"safe")),2&i){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,e.thumb||""),t.LSH)}}function De(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"span",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(3);return t.KtG(s.removeImg(o.url||""))}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA()()}}function Ye(i,a){1&i&&(t.TgZ(0,"span",35)(1,"mat-icon",36),t._uU(2,"check_box_outline"),t.qZA()())}function Le(i,a){if(1&i&&(t.TgZ(0,"div",25),t.YNc(1,je,3,3,"div",26),t.YNc(2,Ue,2,3,"ng-template",null,27,t.W1O),t.TgZ(4,"a",28)(5,"mat-icon",29),t._uU(6,"attach_file"),t.qZA(),t.TgZ(7,"span",30),t._uU(8),t.qZA()(),t.YNc(9,De,3,0,"span",31),t.YNc(10,Ye,3,0,"span",32),t.qZA()),2&i){const e=a.$implicit,n=t.MAs(3),o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0==o.isVideo(e.mimes||""))("ngIfElse",n),t.xp6(6),t.Q6J("matTooltip",e.name||""),t.xp6(1),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",1!=o.isSuccess),t.xp6(1),t.Q6J("ngIf",o.isSuccess)}}function ze(i,a){if(1&i&&(t.TgZ(0,"div",23),t.YNc(1,Le,11,6,"div",24),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.uploadFiles)}}function He(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openSelectFile())}),t.TgZ(1,"a",38)(2,"mat-icon"),t._uU(3,"upload_file"),t.qZA()(),t._UZ(4,"br"),t.TgZ(5,"span"),t._uU(6,"Upload file b\xe0i l\xe0m c\u1ee7a b\u1ea1n"),t.qZA(),t._UZ(7,"br"),t.TgZ(8,"span"),t._uU(9,"(H\u1ed7 tr\u1ee3 \u1ea2nh, Video, Audio ho\u1eb7c File PDF)"),t.qZA(),t.TgZ(10,"form",39)(11,"input",40,41),t.NdJ("change",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.selectFile(o))}),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(10),t.Q6J("formGroup",e.form)}}function Be(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",42),t._UZ(1,"hr"),t.TgZ(2,"div",43)(3,"div",44),t._uU(4,"Ho\u1eb7c n\u1ed9p b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i"),t.qZA()(),t.TgZ(5,"p",45),t._uU(6," **(Vui l\xf2ng kh\xf4ng t\u1eaft b\u1ea3ng n\xe0y khi n\u1ed9p b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i)** "),t.qZA(),t.TgZ(7,"div",46)(8,"div",47)(9,"p",48)(10,"strong"),t._uU(11,"C\xe1ch 1:"),t.qZA(),t._uU(12," S\u1eed d\u1ee5ng \u0111i\u1ec7n tho\u1ea1i qu\xe9t m\xe3 QRcode d\u01b0\u1edbi \u0111\xe2y \u0111\u1ec3 t\u1ea3i b\xe0i thi t\u1ef1 lu\u1eadn l\xean "),t.qZA(),t._UZ(13,"div",49),t.qZA()(),t.TgZ(14,"div",50)(15,"p",48)(16,"strong"),t._uU(17,"C\xe1ch 2:"),t.qZA(),t._uU(18," V\xe0o tr\xecnh duy\u1ec7t b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i. Truy c\u1eadp \u0111\u01b0\u1eddng d\u1eabn sau \u0111\u1ec3 t\u1ea3i b\xe0i thi t\u1ef1 lu\u1eadn l\xean"),t.qZA(),t.TgZ(19,"p",51)(20,"span",52),t._uU(21),t.qZA(),t.TgZ(22,"mat-icon",53),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clickCopyLink())}),t._uU(23,"file_copy"),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(21),t.Oqu(e.urlUploadImage),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.copylinkToClipboard(e.urlUploadImage))}}function Ge(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",14),t._uU(2,"\xa0"),t.qZA())}function Re(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",null,2)(3,"div",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.qZA(),t.TgZ(4,"mat-card",4)(5,"mat-card-content"),t.YNc(6,Fe,6,2,"div",5),t.YNc(7,Ne,2,1,"div",6),t.YNc(8,ze,2,1,"div",7),t.YNc(9,He,13,1,"div",8),t.YNc(10,Be,24,2,"div",9),t.TgZ(11,"div",10)(12,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.YNc(13,Ge,3,0,"span",12),t._uU(14," X\xc1C NH\u1eacN "),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.uploadFiles.length>0),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.data.isMobile),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading)}}let At=(()=>{class i extends A.Q{constructor(e,n,o,s,_,l,r,d){super(n),this.fb=e,this.commonService=n,this.translate=o,this.myPdfService=s,this.apiUploadService=_,this.frontExamService=l,this.frontExamResultUploadService=r,this.homeworkExamService=d,this.data={},this.hashCode="",this.isOnSelectFile=new t.vpe,this.closeDialog=new t.vpe,this.addFileMobile=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({}),this.uploadFiles=[],this.files=[],this.timeCount=0,this.isSubmit=!1,this.isSuccess=!1,this.onSelectFile=!1,this.isCallFullScreenOnce=!1,this.fileUploadQueue={},this.uploadCount=0,this.urlUploadImage="",this.userAgent="",this.cur_language=this.translate.currentLang,this.intervalGetInfoUpload=0,this.isUploadedPdf=!1,this.isOnSync=!1,this.Tmploading=!1,this.uploadFile=(c,u)=>{this.isSubmit=!1,((0,O.Or)(c.type)||(0,O.Wv)(c.type)||(0,O.F0)(c.type)||(0,O._4)(c.type)||(0,O.D_)(c.type))&&(0,O.hv)(c).then(h=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(h).subscribe(p=>{var x,b;if(p.type!=Ct.dt.UploadProgress)1==p.success?(delete this.fileUploadQueue[u],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},p.data)),this.stopStatusObj(),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh (T\xean: "+c.name+")! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+p.message),this.commonService.gaEvent("FrontExam_UploadError"));else{var k=Math.round(null!==(x=p.loaded)&&void 0!==x?x:0/(null!==(b=p.total)&&void 0!==b?b:1)*100);this.fileUploadQueue.hasOwnProperty(u)?(this.fileUploadQueue[u].uploadProgress=k,this.fileUploadQueue[u].fileName=c.name):this.fileUploadQueue[u]={uploadProgress:0,fileName:c.name}}})})},this.selectFile=c=>(0,dt.mG)(this,void 0,void 0,function*(){let p=c.target.files;try{for(var x in p)if("length"!=x&&"item"!=x)if((0,O.zQ)(p[x].type))if((0,O.EO)(p[x].size)<=200)if(this.answerFile=p?p[x]:this.answerFile,(0,O._4)(p[x].type)){this.isUploadedPdf=!0,this.initStatusObj();var b=yield this.myPdfService.getImageWithPdf(p[x]);this.answerFile=p?p[x]:this.answerFile,this.uploadFilesFunc(b,this.uploadCount),this.uploadCount+=1}else this.answerFile&&(this.isSuccess=!1,this.initStatusObj(),(0,O.Wv)(p[x].type)?this.uploadFileVideo(this.answerFile,this.uploadCount):this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.showErrorSnack("File g\u1eb7p l\u1ed7i: "+p[x].name+". Size: "+(0,O.EO)(p[x].size)+" MB. Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB");else this.showErrorSnack("File g\u1eb7p l\u1ed7i: "+p[x].name+". Ki\u1ec3u: "+p[x].type+". Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF");c.target.setAttribute("value",""),this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1)}catch(k){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+k),this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1)}}),this.uploadFileVideo=(c,u)=>(0,dt.mG)(this,void 0,void 0,function*(){this.subscriptions.add(this.apiUploadService.uploadToVimeoProgress("front_exam",c,void 0).subscribe(h=>{var p;h.isOnProgress?this.fileUploadQueue.hasOwnProperty(u)?(this.fileUploadQueue[u].uploadProgress=Math.round(null!==(p=h.percentage)&&void 0!==p?p:0),this.fileUploadQueue[u].fileName=c.name):this.fileUploadQueue[u]={uploadProgress:0,fileName:c.name}:1==h.success?(delete this.fileUploadQueue[u],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.addFileWithProsess(Object.assign(Object.assign({},h.data),{lastModified:c.lastModified})),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin! Vui l\xf2ng th\u1eed l\u1ea1i sau!"))}))}),this.uploadFilesFunc=(c,u)=>(0,dt.mG)(this,void 0,void 0,function*(){for(let h=0;h<c.length;h++){const p=c[h];yield(0,O.hv)(p).then(x=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(x).subscribe(b=>{b.type!=Ct.dt.UploadProgress&&(1==b.success?(delete this.fileUploadQueue[u],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},b.data)),h===c.length-1&&this.updateFileUploadMobile(!1).then(()=>{this.successStatusObj(),this.isUploadedPdf=!1})):(this.stopStatusObj(),this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin! Vui l\xf2ng th\u1eed l\u1ea1i sau!")))})})}}),this.answerFile=null}copylinkToClipboard(e){return e}clickCopyLink(){this.showSuccessSnack("Copy link th\xe0nh c\xf4ng")}isOnSelectFileEmit(e){this.isOnSelectFile.emit(e)}goBackFullScreen(){const e=document.documentElement;let n=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;n&&!this.isCallFullScreenOnce&&this.data.isMonitor&&(n.call(e),this.isCallFullScreenOnce=!0)}saveFile(){this.closeDialog.emit({isConfirm:!0,uploadFiles:this.uploadFiles})}saveFileConf(){!0===this.statusObj.loading||this.convertObjToArray(this.fileUploadQueue).length>0?this.commonService.snackWarning("\u0110ang \u0111\u1ed3ng b\u1ed9 b\xe0i l\xe0m t\u1ef1 lu\u1eadn l\xean h\u1ec7 th\u1ed1ng! Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!",""):this.saveFile()}replaceRequestGetInfoUpload(e){var n=this,o=e;this.intervalGetInfoUpload=window.setInterval(()=>{!1===n.isUploadedPdf&&n.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(n.hashCode).subscribe(s=>{var _,l,r,d,c,u;if(1==s.success){var h=null!=n.commonService.parseJson(null!==(r=null===(l=null===(_=s.data)||void 0===_?void 0:_.tmpObj)||void 0===l?void 0:l.files)&&void 0!==r?r:"")?n.commonService.parseJson(null!==(u=null===(c=null===(d=s.data)||void 0===d?void 0:d.tmpObj)||void 0===c?void 0:c.files)&&void 0!==u?u:""):new Array,p=!1;h.length!=n.uploadFiles.length?p=!0:h.length>0&&h.forEach(x=>{-1===n.uploadFiles.findIndex(b=>b.path==x.path)&&(p=!0)}),!0===p&&(0==n.isOnSync||o)&&n.addFileMobile.emit({files:h,keepOpen:!0}),o&&(n.uploadFiles=h,n.updateFileUploadMobile(!0),o=!1),n.Tmploading=!1,n.stopStatusObj()}else n.showErrorSnack("\u0110\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng. Vui l\xf2ng \u1ea5n F5 ho\u1eb7c t\u1ea3i l\u1ea1i trang!"),n.Tmploading=!1,n.stopStatusObj()})},3e3),this.commonService.gaEvent("FrontExam_GetTmpUploadObj")}updateFileUploadMobile(e){return new Promise(n=>{this.initStatusObj(),this.Tmploading=null!=e&&e,this.isOnSync=!0,this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost({hashCode:this.hashCode,files:JSON.stringify(this.uploadFiles)}).subscribe(o=>{1==o.success?(this.stopStatusObj(),this.Tmploading=!1,this.isOnSync=!1,n(!0)):(this.stopStatusObj(),this.Tmploading=!1)})})}openSelectFile(){var e;this.Tmploading||(this.isOnSelectFileEmit(!0),this.isCallFullScreenOnce=!1,this.onSelectFile=!0,null===(e=this.fileSelect)||void 0===e||e.nativeElement.click())}onFocus(e){this.onSelectFile&&(null==this.answerFile||0==this.uploadFiles.length)&&(this.goBackFullScreen(),this.isCallFullScreenOnce=!1,this.onSelectFile=!1,this.isOnSelectFileEmit(!1))}addFileWithProsess(e){e&&this.uploadFiles.push(e);for(let n=0;n<this.uploadFiles.length;n++)this.uploadFiles[n].lastModified||(this.uploadFiles[n].lastModified=(new Date).getTime()),this.uploadFiles[n].thumb||(this.uploadFiles[n].thumb=this.homeworkExamService.getThumbWithObj(this.uploadFiles[n]));this.uploadFiles.sort((n,o)=>{var s,_;return(null!==(s=n.lastModified)&&void 0!==s?s:0)-(null!==(_=o.lastModified)&&void 0!==_?_:0)})}bindUrlToQrCode(e){var o=`${location.protocol+"//"+location.host}/n/${e}`;this.urlUploadImage=o,this.commonService.createObjectQrcode(o,128,128,"url",!1,"qrcode_making")}onGlobalClick(e){var n;null!==(n=this.customCard)&&void 0!==n&&n.nativeElement.contains(e.target)||this.closeDialog.emit(!1)}isVideo(e){return/^(?:video)/i.test(e)}convertObjToArray(e){var n=[];for(var o in e)n.push(e[o]);return n}removeImg(e){var n=this.uploadFiles.filter(o=>o.url!==e);this.uploadFiles=n,this.updateFileUploadMobile(!0)}ngOnChanges(){this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files)}ngOnInit(){setTimeout(()=>{this.data.isMobile||this.bindUrlToQrCode(this.hashCode),this.initStatusObj(),this.Tmploading=!0,this.replaceRequestGetInfoUpload(!0)},100),this.form=this.fb.group({file_data:new g.p4("",g.kI.required),file:new g.p4("",g.kI.required)}),this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files),this.data.isMobile&&(this.userAgent=navigator.userAgent),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.intervalGetInfoUpload&&clearInterval(this.intervalGetInfoUpload),super.ngDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.QS),t.Y36(Z.v),t.Y36(ke.sK),t.Y36(Et.t),t.Y36(Oe.$),t.Y36(Y.Tg),t.Y36(Y.vO),t.Y36(ut.j))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-upload-image"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ie,5),t.Gf(Me,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.customCard=o.first),t.iGM(o=t.CRH())&&(n.fileSelect=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("focus",function(s){return n.onFocus(s)},!1,t.Jf7)("mousedown",function(s){return n.onGlobalClick(s)},!1,t.evT)},inputs:{data:"data",hashCode:"hashCode"},outputs:{isOnSelectFile:"isOnSelectFile",closeDialog:"closeDialog",addFileMobile:"addFileMobile"},features:[t.qOj,t.TTD],decls:1,vars:1,consts:[["class","uploadDialog",4,"ngIf"],[1,"uploadDialog"],["customCard",""],[1,"bg-overbackground",3,"click"],[1,"customCard"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container","style","padding-left: 15px;padding-right: 15px;",4,"ngIf"],["class","upload-box ml-auto mr-auto text-center clickable p-3 no-select",3,"click",4,"ngIf"],["class","upload-qr-box",4,"ngIf"],[1,"btn-conFirm","mt-2","text-center"],["mat-raised-button","",1,"save_btn",3,"disabled","click"],[4,"ngIf"],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],["class","h5",4,"ngIf"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container",2,"padding-left","15px","padding-right","15px"],["class","col-6 col-sm-6 col-md-4","style","border: 1px solid #e0e0e0;",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4",2,"border","1px solid #e0e0e0"],[4,"ngIf","ngIfElse"],["video",""],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[2,"width","80%",3,"src"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"],[1,"upload-box","ml-auto","mr-auto","text-center","clickable","p-3","no-select",3,"click"],["id","select-upload-file",1,"align-self-center","select","clickable"],[3,"formGroup"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"upload-qr-box"],[2,"display","flex","justify-content","center","align-items","center"],[2,"background","#eeeeee","margin-top","-33px","padding","0 10px","color","#44beb5","text-transform","uppercase","font-size","16px"],[1,"mb-0","pb-0",2,"font-size","14px","text-align","center","color","#ff0022d2"],[1,"upload-qr-box-item"],[1,"upload-qr-box-item-content"],[2,"font-size","14px"],["id","qrcode_making",1,"upload-qr-box-item-content-qr"],[1,"upload-qr-box-url"],[1,"upload-qr-box-url-link"],[2,"vertical-align","middle"],["matTooltip","COPY LINK",1,"clickable",2,"vertical-align","middle","float","right","height","20px","font-size","20px",3,"cdkCopyToClipboard","click"]],template:function(e,n){1&e&&t.YNc(0,Re,15,7,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[f.sg,f.O5,f.PC,Se.i3,B.lW,V.a8,V.dn,W.Hw,X.gM,g._Y,g.JL,g.sg,w.yl],styles:[".uploadDialog[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:89;right:10px;top:10px}.customCard[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgb(255,255,255) 0%,rgb(242,242,242) 0%,rgb(228,228,228) 100%,rgb(255,255,255) 100%);box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;box-shadow:5px 5px 5px #00000059;height:97vh;overflow:auto}.file-input[_ngcontent-%COMP%]{visibility:hidden}.upload-box[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;background-color:#fff;max-width:70%;margin-bottom:1rem}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#fff;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8;height:200px;overflow-y:auto}.save_btn[_ngcontent-%COMP%]{background:inherit;background-color:#169bd5;border:none;border-radius:5px;box-shadow:none;color:#fff}@media (max-width: 1200px){.uploadDialog[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:80%;margin-left:auto;border-radius:5px;margin-right:auto;box-shadow:0 0 13px 3px #00000094}}.upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:white;padding:5px;border-radius:5px}@media (max-width: 1200px){.bg-overbackground[_ngcontent-%COMP%]{display:none}}.bg-overbackground[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000a3}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}"]}),i})();var $e=m(54569),Ke=m(3279),Ve=m(61828),Zt=m(80383),yt=m(15043),We=m(56308),Xe=m(54729),kt=m(2366),Ot=m(72491),St=m(88974),ti=m(88386),It=m(61886),ei=m(24782),Mt=m(53251),Qt=m(47865),ii=m(81903),ni=m(69692),oi=m(58410),si=m(73852);function ai(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"span",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.removeImg(o.url))}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA(),t._uU(3,"\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()}}function _i(i,a){1&i&&(t.TgZ(0,"span",21)(1,"mat-icon",22),t._uU(2,"check_box"),t.qZA()())}const li=function(i){return{padding:i}};function ri(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",4)(1,"a",5)(2,"div",6)(3,"div",7)(4,"img",8),t.NdJ("click",function(o){const _=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onShowFile(o,_,-1))}),t.ALo(5,"mycdn"),t.qZA()(),t.TgZ(6,"div",9)(7,"div",10)(8,"mat-icon",11),t.NdJ("click",function(){const s=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArray(_.answerFiles,s,s-1))}),t._uU(9,"keyboard_arrow_left"),t.qZA(),t.TgZ(10,"mat-icon",12),t.NdJ("click",function(){const s=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArray(_.answerFiles,s,s-1))}),t._uU(11,"arrow_upward"),t.qZA()(),t.TgZ(12,"div",13),t._uU(13," Trang "),t.TgZ(14,"input",14),t.NdJ("keyup.enter",function(o){const _=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.switchAttributeArrayInput(_,o))})("change",function(o){const _=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.switchAttributeArrayInput(_,o))}),t.qZA()(),t.TgZ(15,"div",15)(16,"mat-icon",16),t.NdJ("click",function(){const s=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArray(_.answerFiles,s,s+1))}),t._uU(17,"keyboard_arrow_right"),t.qZA(),t.TgZ(18,"mat-icon",17),t.NdJ("click",function(){const s=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArray(_.answerFiles,s,s+1))}),t._uU(19,"arrow_downward"),t.qZA()()()()(),t.YNc(20,ai,4,0,"span",18),t.YNc(21,_i,3,0,"span",19),t.qZA()}if(2&i){const e=a.$implicit,n=a.index,o=t.oxw(2);t.xp6(4),t.Q6J("src",t.lcZ(5,7,o.checkLinkThumb(e)),t.LSH),t.xp6(8),t.Q6J("ngStyle",t.VKq(9,li,"5px 30px")),t.xp6(2),t.s9C("id","input_page_"+n),t.s9C("max",o.answerFiles.length+1),t.s9C("value",n+1),t.xp6(6),t.Q6J("ngIf",!e.uploadSuccess),t.xp6(1),t.Q6J("ngIf",e.uploadSuccess)}}function ci(i,a){if(1&i&&(t.TgZ(0,"div",2),t.YNc(1,ri,22,11,"div",3),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.answerFiles)}}const di=function(i){return{"custom-width-list":i}};let ui=(()=>{class i extends A.Q{constructor(e,n,o,s,_){super(o),this.fb=e,this.myPdfService=n,this.commonService=o,this.homeworkExamService=s,this.cdnService=_,this.answerFiles=[],this.isTesting=!1,this.onMobile=!1,this.showList=!1,this.emitDataBack=new t.vpe,this.changesPosImg=new t.vpe,this.previewFile=new t.vpe,this.removeFile=new t.vpe,this.form=new g.nJ({}),this.uploadCount=0,this.answerFile=[],this.countUpload=1,this.selectFile=l=>(0,dt.mG)(this,void 0,void 0,function*(){let c=l.target.files;try{for(var u in c)"length"!=u&&"item"!=u&&((0,O.z_)(c[u].type)?(0,O.EO)(c[u].size)<=200?(this.initStatusObj(),(0,O._4)(c[u].type)?(this.answerFile=c?c[u]:this.answerFile,this.uploadCount+=1):(this.answerFile=c?c[u]:this.answerFile,this.answerFile&&(this.stopStatusObj(),(0,O.Wv)(c[u].type)&&(this.countUpload=0),this.uploadCount+=1))):this.commonService.snackError("Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB",""):this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF",""));l.target.value=""}catch(h){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+h)}})}addFileWithProsess(){for(let e=0;e<this.answerFiles.length;e++)this.answerFiles[e].lastModified||(this.answerFiles[e].lastModified=(new Date).getTime()),this.answerFiles[e].thumb||(this.answerFiles[e].thumb=this.homeworkExamService.getThumbWithObj(this.answerFiles[e]));this.answerFiles.sort((e,n)=>e.lastModified&&n.lastModified?e.lastModified-n.lastModified:0)}removeImg(e){var n=this.answerFiles.filter(o=>o.url!==e);this.answerFiles=n,this.removeFile.emit(e)}onShowFile(e,n,o){this.previewFile.emit({ev:e,file:n,index:o})}switchAttributeArray(e,n,o){if(!(this.answerFiles.length<=n||this.answerFiles.length<=o||n<0||o<0)){var s=this.commonService.myClone(this.answerFiles[n]);this.answerFiles[n]=this.commonService.myClone(this.answerFiles[o]),this.answerFiles[o]=this.commonService.myClone(s),this.changesPosImg.emit(this.answerFiles)}}switchAttributeArrayInput(e,n){var o=Number(n.target.value)-1;o<=0?o=0:o>=this.answerFiles.length&&(o=this.answerFiles.length),this.answerFiles.splice(o,0,this.answerFiles.splice(e,1)[0]),this.changesPosImg.emit(this.answerFiles)}checkLinkThumb(e){return"officeapps"===this.getFileTypeString(e.extension)?this.cdnService.convertLinkCdn("azota_assets/images/file.png"):e.thumb}getFileTypeString(e){if(e){if((0,O.Or)(e))return"image";if((0,O._4)(e))return"pdf";if((0,O.Wv)(e))return"video";if((0,O.F0)(e))return"audio"}return"image"}ngOnChanges(){this.answerFiles&&this.addFileWithProsess()}ngOnInit(){this.form=this.fb.group({file_data:new g.p4("",g.kI.required),file_capture:new g.p4("",g.kI.required),file:new g.p4("",g.kI.required)}),this.addFileWithProsess()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.QS),t.Y36(Et.t),t.Y36(Z.v),t.Y36(ut.j),t.Y36(yt.U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-upload-ui"]],inputs:{answerFiles:"answerFiles",isTesting:"isTesting",onMobile:"onMobile",showList:"showList"},outputs:{emitDataBack:"emitDataBack",changesPosImg:"changesPosImg",previewFile:"previewFile",removeFile:"removeFile"},features:[t.qOj,t.TTD],decls:2,vars:5,consts:[[1,"form-horizontal","text-center",3,"formGroup","ngClass"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-12 col-sm-12 col-md-4 col-xl-3 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-xl-3","col-lg-3"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px"],[1,"box_image_answer"],[1,"box_image_answer_content"],[2,"image-orientation","from-image",3,"src","click"],[1,"box_image_answer_control"],[1,"icon-prev"],["matTooltip","Di chuy\u1ec3n ra ph\xeda tr\u01b0\u1edbc","matTooltipPosition","below",1,"box_image_answer_pc",3,"click"],["matTooltip","Di chuy\u1ec3n l\xean ph\xeda tr\xean","matTooltipPosition","below",1,"box_image_answer_mobile",3,"click"],[1,"page-number",3,"ngStyle"],["type","number","min","1",1,"input-page","text-center",3,"id","max","value","keyup.enter","change"],[1,"icon-next"],["matTooltip","Di chuy\u1ec3n ra ph\xeda sau","matTooltipPosition","below",1,"box_image_answer_pc",3,"click"],["matTooltip","Di chuy\u1ec3n xu\u1ed1ng ph\xeda d\u01b0\u1edbi","matTooltipPosition","below",1,"box_image_answer_mobile",3,"click"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge notify-suss",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge","notify-suss"],[2,"color","rgb(26, 188, 0)"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.YNc(1,ci,2,1,"div",1),t.qZA()),2&e&&(t.Q6J("formGroup",n.form)("ngClass",t.VKq(3,di,n.isTesting&&!n.onMobile&&n.showList)),t.xp6(1),t.Q6J("ngIf",n.answerFiles.length>0))},dependencies:[f.mk,f.sg,f.O5,f.PC,W.Hw,X.gM,g._Y,g.JL,g.sg,w.GT],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.files[_ngcontent-%COMP%]{cursor:pointer}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px;line-height:1;width:50px}.input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width: 768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width: 576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.custom-width-list[_ngcontent-%COMP%]{max-width:83%}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s;width:100%}.box_image_answer_content[_ngcontent-%COMP%]{min-height:288px;border:1px solid #03a7d0}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.box_image_answer_control[_ngcontent-%COMP%]{background:white;width:100%;border:1px solid #03a7d0;border-top:none;position:relative;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;left:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;right:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]}),i})();const mi=["myDialogConfirmExam"];function pi(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t._UZ(2,"span",11),t.qZA())}function gi(i,a){if(1&i&&(t.TgZ(0,"span",12),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("L\u1ed7i: ",t.lcZ(2,1,e.data.messageError),"")}}function hi(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",11),t._uU(2,"\xa0"),t.qZA())}function fi(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.btnCloseDialog())}),t._uU(3," \u0110\xf3ng "),t.qZA()(),t.TgZ(4,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.confirmFinish())}),t.YNc(5,hi,3,0,"span",9),t._uU(6," G\u1eedi l\u1ea1i "),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(4),t.Q6J("disabled",e.countTimeEnable),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading)}}function xi(i,a){if(1&i&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2," B\xe0i l\xe0m c\u1ee7a b\u1ea1n \u0111ang \u0111\u01b0\u1ee3c t\u1ef1 \u0111\u1ed9ng n\u1ed9p l\xean h\u1ec7 th\u1ed1ng. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t! "),t.qZA(),t.YNc(3,pi,3,0,"span",9),t.YNc(4,gi,3,3,"span",10),t._UZ(5,"br"),t.YNc(6,fi,7,2,"div",6),t.qZA()),2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("ngIf",!e.data.saveFalse),t.xp6(1),t.Q6J("ngIf",e.data.saveFalse&&e.data.messageError),t.xp6(2),t.Q6J("ngIf",e.data.autoSubmit&&e.data.saveFalse)}}function vi(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1," B\u1ea1n ch\u01b0a n\u1ed9p File t\u1ef1 lu\u1eadn n\xe0o. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),t.qZA())}function Ti(i,a){1&i&&(t.TgZ(0,"p",23),t._uU(1," B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),t.qZA())}function bi(i,a){if(1&i&&(t.TgZ(0,"div",7)(1,"p",18),t._uU(2,"Th\u1eddi gian l\xe0m b\xe0i c\u1ee7a b\u1ea1n c\xf2n"),t.qZA(),t.TgZ(3,"p",8)(4,"span",19),t._uU(5),t.qZA(),t._uU(6," : "),t.TgZ(7,"span",19),t._uU(8),t.qZA(),t._uU(9," : "),t.TgZ(10,"span",19),t._uU(11),t.qZA()(),t.YNc(12,vi,2,0,"p",20),t.YNc(13,Ti,2,0,"ng-template",null,21,t.W1O),t.qZA()),2&i){const e=t.MAs(14),n=t.oxw(3);let o,s,_;t.xp6(5),t.hij(" ",(null!==(o=n.timeCount.hour)&&void 0!==o?o:0)>9?n.timeCount.hour:"0"+n.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(s=n.timeCount.minute)&&void 0!==s?s:0)>9?n.timeCount.minute:"0"+n.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(_=n.timeCount.second)&&void 0!==_?_:0)>9?n.timeCount.second:"0"+n.timeCount.second," "),t.xp6(1),t.Q6J("ngIf",n.data.notHasFiles)("ngIfElse",e)}}function wi(i,a){1&i&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2," H\u1ebft gi\u1edd! Nh\u1ea5n v\xe0o 'Ho\xe0n th\xe0nh' \u0111\u1ec3 g\u1eedi b\xe0i thi c\u1ee7a b\u1ea1n. "),t.qZA()())}function Ci(i,a){1&i&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2," B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),t.qZA()())}function Ei(i,a){1&i&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2," B\xe0i thi n\xe0y ch\u1ec9 \u0111\u01b0\u1ee3c thi m\u1ed9t l\u1ea7n! "),t.qZA()())}function Ai(i,a){if(1&i&&(t.YNc(0,bi,15,5,"div",17),t.YNc(1,wi,3,0,"div",17),t.YNc(2,Ci,3,0,"div",17),t.YNc(3,Ei,3,0,"div",17)),2&i){const e=t.oxw(2);t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.data.time&&e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",null==e.data.time)}}function Zi(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.btnCloseDialog())}),t._uU(2," H\u1ee7y "),t.qZA()()}}function yi(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",11),t._uU(2,"\xa0"),t.qZA())}function ki(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",13),t.YNc(1,Zi,3,0,"div",24),t.TgZ(2,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmFinish())}),t.YNc(3,yi,3,0,"span",9),t._uU(4," Ho\xe0n Th\xe0nh "),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(1),t.Q6J("disabled",e.countTimeEnable),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading||e.data.notHasFiles&&e.countTimeEnable)}}function Oi(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,xi,7,3,"div",4),t.YNc(4,Ai,4,4,"ng-template",null,5,t.W1O),t.YNc(6,ki,5,3,"div",6),t.qZA()()}if(2&i){const e=t.MAs(5),n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.data.autoSubmit)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",!n.data.autoSubmit)}}let Si=(()=>{class i extends A.Q{constructor(e){super(e),this.commonService=e,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({}),this.timeCount={hour:0,minute:0,second:0},this.countTimeEnable=!0}onGlobalClick(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.data.autoSubmit||this.closeDialog.emit()}confirmFinish(){this.redirectToHomepage.emit({isConfirm:!0,isAutoSubmit:this.data.autoSubmit,isSaveFalse:this.data.saveFalse})}setTimeExam(e){const n=Math.floor(e/3600),s=Math.floor(e%3600/60);this.timeCount={hour:n,minute:s,second:e%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){var e;this.data.unLimitTime||(this.setTimeExam(null!==(e=this.data.time)&&void 0!==e?e:0),0==this.data.time&&!this.data.autoSubmit&&setTimeout(()=>{this.confirmFinish()},5e3)),this.data.notHasFiles?setTimeout(()=>{this.countTimeEnable=!1},3e3):this.countTimeEnable=!1,this.data.saveFalse&&setTimeout(()=>{this.countTimeEnable=!1},2e3),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-comfirm-exam"]],viewQuery:function(e,n){if(1&e&&t.Gf(mi,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogConfirmExam",""],["class","text-center",4,"ngIf","ngIfElse"],["Normal",""],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[4,"ngIf"],["class","h5 text-danger",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5","text-danger"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],["class","text-center",4,"ngIf"],[1,"h5","para_respon","font-weight-normal"],[1,"ng-binding"],["class","h5 text-danger","style"," padding-bottom: 10px;",4,"ngIf","ngIfElse"],["normalConfirm",""],[1,"h5","text-danger",2,"padding-bottom","10px"],[1,"h5","text-info",2,"padding-bottom","10px"],["class","azt-block-button",4,"ngIf"]],template:function(e,n){1&e&&t.YNc(0,Oi,7,3,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[f.O5,B.lW,w.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();const Ii=["myDialogExitExam"];function Mi(i,a){if(1&i&&(t.TgZ(0,"div",10)(1,"p",11),t._uU(2,"Th\u1eddi gian l\xe0m b\xe0i c\u1ee7a b\u1ea1n c\xf2n"),t.qZA(),t.TgZ(3,"p",12)(4,"span",13),t._uU(5),t.qZA(),t._uU(6," : "),t.TgZ(7,"span",13),t._uU(8),t.qZA(),t._uU(9," : "),t.TgZ(10,"span",13),t._uU(11),t.qZA()(),t.TgZ(12,"p",14),t._uU(13," B\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c ghi nh\u1eadn. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n tho\xe1t b\xe0i thi? "),t.qZA()()),2&i){const e=t.oxw(2);let n,o,s;t.xp6(5),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(s=e.timeCount.second)&&void 0!==s?s:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Qi(i,a){1&i&&(t.TgZ(0,"div",10)(1,"p",12),t._uU(2," H\u1ebft gi\u1edd! Nh\u1ea5n v\xe0o 'Ho\xe0n th\xe0nh' \u0111\u1ec3 g\u1eedi b\xe0i thi c\u1ee7a b\u1ea1n. "),t.qZA()())}function qi(i,a){1&i&&(t.TgZ(0,"div",10)(1,"p",12),t._uU(2," B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),t.qZA()())}function Fi(i,a){1&i&&(t.TgZ(0,"div",10)(1,"p",12),t._uU(2," B\xe0i thi n\xe0y ch\u1ec9 \u0111\u01b0\u1ee3c thi m\u1ed9t l\u1ea7n! "),t.qZA()())}function Pi(i,a){1&i&&(t.TgZ(0,"p",15),t._uU(1," B\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c ghi nh\u1eadn. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n tho\xe1t b\xe0i thi? "),t.qZA())}function Ji(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.btnCloseDialog())}),t._uU(2," H\u1ee7y "),t.qZA()()}}function Ni(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",18),t._uU(2,"\xa0"),t.qZA())}function ji(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,Mi,14,3,"div",4),t.YNc(4,Qi,3,0,"div",4),t.YNc(5,qi,3,0,"div",4),t.YNc(6,Fi,3,0,"div",4),t.YNc(7,Pi,2,0,"ng-template",null,5,t.W1O),t.TgZ(9,"div",6),t.YNc(10,Ji,3,0,"div",7),t.TgZ(11,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t.YNc(12,Ni,3,0,"span",9),t._uU(13," X\xe1c Nh\u1eadn "),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.data.time&&e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",null==e.data.time),t.xp6(4),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(2),t.Q6J("ngIf",!0===e.statusObj.loading)}}let Ui=(()=>{class i extends A.Q{constructor(e){super(e),this.commonService=e,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({}),this.timeCount={hour:0,minute:0,second:0}}onGlobalClick(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.closeDialog.emit()}confirmQuit(){this.redirectToHomepage.emit(!0)}setTimeExam(e){const n=Math.floor(e/3600),s=Math.floor(e%3600/60);this.timeCount={hour:n,minute:s,second:e%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){var e;this.setTimeExam(null!==(e=this.data.time)&&void 0!==e?e:0),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-exit-exam"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ii,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogExitExam",""],["class","text-center",4,"ngIf"],["unLimit",""],[1,"d-flex","float-right","mt-3"],["class","azt-block-button",4,"ngIf"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[1,"ng-binding"],[1,"h5","text-info",2,"padding-bottom","10px"],[1,"h5","text-danger",2,"padding-bottom","10px"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&t.YNc(0,ji,14,6,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[f.O5,B.lW],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();var qt=m(41303),Ft=m(42873);const Di=["myDialogSubmitName"];function Yi(i,a){1&i&&(t.TgZ(0,"p",10),t._uU(1,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1ec3 l\xe0m b\xe0i thi!"),t.qZA())}function Li(i,a){1&i&&(t.TgZ(0,"p",10),t._uU(1,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1ec3 xem k\u1ebft qu\u1ea3 thi Offline!"),t.qZA())}function zi(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",6),t.YNc(1,Yi,2,0,"p",7),t.YNc(2,Li,2,0,"p",7),t.TgZ(3,"a",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToRegister())}),t._uU(4,"\u0110\u0103ng k\xfd"),t.qZA(),t.TgZ(5,"p",9),t._uU(6,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n?"),t.qZA(),t.TgZ(7,"a",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToLogin())}),t._uU(8,"\u0110\u0103ng nh\u1eadp"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(1),t.Q6J("ngIf",2==e.type)}}function Hi(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1," Y\xeau c\u1ea7u nh\u1eadp H\u1ecd t\xean! "),t.qZA())}function Bi(i,a){if(1&i&&(t.TgZ(0,"div",25),t.YNc(1,Hi,2,0,"div",24),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.getErrorType("fullName","required"))}}function Gi(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",26),t._uU(2,"\xa0"),t.qZA())}function Ri(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"form",12)(1,"div",6)(2,"p",13),t._uU(3,"Vui l\xf2ng nh\u1eadp t\xean \u0111\u1ec3 ti\u1ebfp t\u1ee5c b\xe0i thi "),t.qZA()(),t.TgZ(4,"div",14)(5,"div",15)(6,"div",16),t._UZ(7,"input",17),t.qZA(),t.YNc(8,Bi,2,1,"div",18),t.qZA()(),t.TgZ(9,"div",6)(10,"p",19),t._uU(11,"Ho\u1eb7c click v\xe0o "),t.TgZ(12,"a",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.registerAccount())}),t._uU(13,'"\u0110\u0103ng k\xfd"'),t.qZA(),t._uU(14," \u0111\u1ec3 l\u01b0u l\u1ea1i l\u1ecbch s\u1eed l\xe0m \u0111\u1ec1 c\u1ee7a b\u1ea1n."),t.qZA()(),t.TgZ(15,"div",21),t._UZ(16,"div",22),t.TgZ(17,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.submitName())}),t.YNc(18,Gi,3,0,"span",24),t._uU(19," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&i){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(8),t.Q6J("ngIf",e.form.controls.fullName.invalid&&e.form.controls.fullName.dirty),t.xp6(9),t.Q6J("disabled",e.statusObj.loading||e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading)}}function $i(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1," Y\xeau c\u1ea7u nh\u1eadp M\u1eadt kh\u1ea9u! "),t.qZA())}function Ki(i,a){if(1&i&&(t.TgZ(0,"div",25),t.YNc(1,$i,2,0,"div",24),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.getErrorType("password","required"))}}function Vi(i,a){if(1&i&&(t.TgZ(0,"div",31)(1,"p",32),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,1,e.data.errorMessage)," ")}}function Wi(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",26),t._uU(2,"\xa0"),t.qZA())}function Xi(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"form",12)(1,"div",6)(2,"p",27),t._uU(3,"Y\xeau c\u1ea7u 'M\u1eadt kh\u1ea9u' \u0111\u1ec3 ti\u1ebfp t\u1ee5c b\xe0i thi"),t.qZA(),t.TgZ(4,"p",28),t._uU(5,"N\u1ebfu b\u1ea1n ch\u01b0a c\xf3 M\u1eadt kh\u1ea9u c\u1ee7a b\xe0i thi. Vui l\xf2ng li\xean h\u1ec7 gi\xe1o vi\xean c\u1ee7a b\u1ea1n! "),t.qZA()(),t.TgZ(6,"div",14)(7,"div",15)(8,"div",16),t._UZ(9,"input",29),t.qZA(),t.YNc(10,Ki,2,1,"div",18),t.qZA()(),t.YNc(11,Vi,4,3,"div",30),t.TgZ(12,"div",21),t._UZ(13,"div",22),t.TgZ(14,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.submitName())}),t.YNc(15,Wi,3,0,"span",24),t._uU(16," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&i){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(10),t.Q6J("ngIf",e.form.controls.password.invalid&&e.form.controls.password.dirty),t.xp6(1),t.Q6J("ngIf",""!=e.data.errorMessage),t.xp6(3),t.Q6J("disabled",e.statusObj.loading||e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading)}}function tn(i,a){if(1&i&&(t.YNc(0,Ri,20,4,"form",11),t.YNc(1,Xi,17,5,"form",11)),2&i){const e=t.oxw(2);t.Q6J("ngIf",!e.data.needPassword),t.xp6(1),t.Q6J("ngIf",e.data.needPassword)}}function en(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,zi,9,2,"div",4),t.YNc(4,tn,2,2,"ng-template",null,5,t.W1O),t.qZA()()}if(2&i){const e=t.MAs(5),n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.data.notAnonymous)("ngIfElse",e)}}let nn=(()=>{class i extends A.Q{constructor(e,n,o,s,_,l){super(o),this.authService=e,this.fb=n,this.commonService=o,this.router=s,this.redirectService=_,this.browserStorageService=l,this.data={},this.type=1,this.closeDialog=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({}),this.password=""}onGlobalClick(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.form.valid&&this.submitName()}submitName(){var e,n,o,s=this.commonService.getFormObj(this.form);if(this.data.needPassword)this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(n=null===(e=this.data.examId)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",null!==(o=this.data.hashId)&&void 0!==o?o:""),this.browserStorageService.saveSimpleStorage("password_"+this.data.hashId,s.password.trim()),this.closeDialog.emit(!0);else{var _={id:0,name:s.fullName};this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthChangeNamePost(_).subscribe(l=>{var r;1==l.success?(this.closeDialog.emit(!0),this.successStatusObj()):this.errorStatusObj(null!==(r=l.message)&&void 0!==r?r:"")}))}}getErrorType(e,n){var o,s;return!!(this.form.controls[e]&&this.form.controls[e].errors&&(null===(o=this.form.controls[e].errors)||void 0===o?void 0:o[n]))&&(null===(s=this.form.controls[e].errors)||void 0===s?void 0:s[n])}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToLogin(){let e=`${this.router.url}`;e=-1!==e.indexOf("?")?e.slice(0,e.indexOf("?")):e,this.redirectService.redirectToLoginBackLinkWithFromRegister(e)}registerAccount(){this.redirectService.redirectRegisterForStudent()}ngOnInit(){this.form=this.fb.group(this.data.needPassword?{password:new g.p4("",[g.kI.required,qt._.noWhiteSpace])}:{fullName:new g.p4("",[g.kI.required,qt._.noWhiteSpace])}),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Y.e8),t.Y36(g.QS),t.Y36(Z.v),t.Y36(P.F0),t.Y36(Ft.V),t.Y36(_t.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-name"]],viewQuery:function(e,n){if(1&e&&t.Gf(Di,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data",type:"type"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogSubmitName",""],["class","text-center",4,"ngIf","ngIfElse"],["allowAnonymous",""],[1,"text-center"],["class","mb-2 h5",4,"ngIf"],[1,"mb-0","h4","text-info","clickable",3,"click"],[1,"mb-2","h5","mt-4"],[1,"mb-2","h5"],["class","form-horizontal text-center",3,"formGroup",4,"ngIf"],[1,"form-horizontal","text-center",3,"formGroup"],[1,"h5","para_respon"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"h6","mb-0","mt-1","font-weight-normal"],[1,"clickable","text-primary",3,"click"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5","para_respon","font-weight-normal"],[1,"h6","para_respon","font-weight-normal","text-danger"],["type","text","placeholder","M\u1eadt kh\u1ea9u b\xe0i thi","formControlName","password",1,"form-control"],["class","text-center mb-1",4,"ngIf"],[1,"text-center","mb-1"],[1,"h5","text-danger"]],template:function(e,n){1&e&&t.YNc(0,en,6,2,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[f.O5,B.lW,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,w.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();var on=m(90508),sn=m(77446),Pt=m(67322),Jt=m(79814),an=m(74107);const _n=["myDialogSubmitInfo"];function ln(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",13)(2,"div",14)(3,"span",15),t._uU(4),t.qZA()(),t._UZ(5,"input",16),t.qZA()()),2&i){const e=t.oxw(),n=e.$implicit,o=e.index;t.xp6(4),t.Oqu(n.title),t.xp6(1),t.MGl("formControlName","infoType_0_field_",o,"")}}function rn(i,a){if(1&i&&(t.TgZ(0,"div",22)(1,"mat-checkbox",23)(2,"span",24),t._uU(3),t.qZA()()()),2&i){const e=a.$implicit,n=a.index,o=t.oxw(2).index,s=t.oxw(2);t.MGl("formArrayName","infoType_1_field_",o,""),t.xp6(1),t.Q6J("checked",s.form.value["infoType_1_field_"+o][n])("formControlName",n),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function cn(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),t._uU(4),t.qZA()()(),t.TgZ(5,"div",20),t.YNc(6,rn,4,5,"div",21),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.contents)}}function dn(i,a){if(1&i&&(t.TgZ(0,"mat-radio-button",27)(1,"span",24),t._uU(2),t.qZA()()),2&i){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function un(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),t._uU(4),t.qZA()(),t.TgZ(5,"mat-radio-group",25),t.YNc(6,dn,3,3,"mat-radio-button",26),t.qZA()()()),2&i){const e=t.oxw(),n=e.$implicit,o=e.index;t.xp6(4),t.Oqu(n.title),t.xp6(1),t.MGl("formControlName","infoType_2_field_",o,""),t.xp6(1),t.Q6J("ngForOf",n.contents)}}function mn(i,a){if(1&i&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function pn(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),t._uU(4),t.qZA()(),t.TgZ(5,"mat-form-field",28)(6,"mat-label"),t._uU(7,"Ch\u1ecdn m\u1ed9t th\xf4ng tin"),t.qZA(),t.TgZ(8,"mat-select",29),t.YNc(9,mn,2,2,"mat-option",30),t.qZA()()()()),2&i){const e=t.oxw(),n=e.$implicit,o=e.index;t.xp6(4),t.Oqu(n.title),t.xp6(4),t.MGl("formControlName","infoType_3_field_",o,""),t.xp6(1),t.Q6J("ngForOf",n.contents)}}function gn(i,a){if(1&i&&(t.ynx(0),t.YNc(1,ln,6,2,"div",12),t.YNc(2,cn,7,2,"div",12),t.YNc(3,un,7,3,"div",12),t.YNc(4,pn,10,3,"div",12),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.type),t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(1),t.Q6J("ngIf",2==e.type),t.xp6(1),t.Q6J("ngIf",3==e.type)}}function hn(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",32),t._uU(2,"\xa0"),t.qZA())}function fn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.onGlobalClick(o))}),t.TgZ(1,"form",2)(2,"div",3,4)(4,"div",5)(5,"div",6)(6,"p",7),t._uU(7,"Vui l\xf2ng nh\u1eadp th\xeam th\xf4ng tin \u0111\u1ec3 b\u1eaft \u0111\u1ea7u b\xe0i thi"),t.qZA(),t.TgZ(8,"p",8),t._uU(9,"Nh\u1eefng th\xf4ng tin n\xe0y s\u1ebd gi\xfap gi\xe1o vi\xean \u0111\u1ecbnh danh v\xe0 ch\u1ea5m \u0111i\u1ec3m cho b\u1ea1n"),t.qZA()(),t.YNc(10,gn,5,4,"ng-container",9),t.TgZ(11,"div",10)(12,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleConfirm())}),t.YNc(13,hn,3,0,"span",12),t._uU(14," X\xe1c nh\u1eadn "),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(9),t.Q6J("ngForOf",e.data.infoFields),t.xp6(2),t.Q6J("disabled",!e.form.valid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading)}}let xn=(()=>{class i extends A.Q{constructor(e,n,o){super(n),this.fb=e,this.commonService=n,this.browserStorageService=o,this.data={},this.closeDialog=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({}),this.infoSubmit=[]}onGlobalClick(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.form.valid&&this.handleConfirm()}handleConfirm(){var e,n,o;this.initStatusObj(),this.mapData(),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(n=null===(e=this.data.examId)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",null!==(o=this.data.hashId)&&void 0!==o?o:""),this.browserStorageService.saveSimpleStorage("userInfoV3_"+this.data.hashId,JSON.stringify(this.infoSubmit));var s={success:!0,info:JSON.stringify(this.infoSubmit)};this.closeDialog.emit(s),this.successStatusObj()}mapData(){if(this.infoSubmit=[],Array.isArray(this.data.infoFields))for(let e=0;e<this.data.infoFields.length;e++){let n={contents:[]};if(1===(n.index=e,n.type=this.data.infoFields[e].type,n.title=this.data.infoFields[e].title,n.contents=[],this.data.infoFields[e].type))for(let o=0;o<this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`].length;o++)this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`][o]&&n.contents.push(this.data.infoFields[e].contents[o]);else n.contents.push(this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`]);this.infoSubmit.push(n)}}ngOnInit(){let e={};if(Array.isArray(this.data.infoFields)){for(let o=0;o<this.data.infoFields.length;o++)switch(this.data.infoFields[o].type){case 1:var n=[];this.data.infoFields[o].contents.forEach(s=>{n.push(new g.p4(!1))}),e[`infoType_1_field_${o}`]=new g.vC(n,vn(1));break;case 2:e[`infoType_2_field_${o}`]=["",g.kI.required];break;case 3:e[`infoType_3_field_${o}`]=["",g.kI.required];break;default:e[`infoType_0_field_${o}`]=["",g.kI.required]}this.form=this.fb.group(e)}super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.QS),t.Y36(Z.v),t.Y36(_t.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-info"]],viewQuery:function(e,n){if(1&e&&t.Gf(_n,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],["id","test-info-form",3,"formGroup"],[1,"school-info","p-4","scrollable-form"],["myDialogSubmitInfo",""],[1,"form-horizontal","text-center"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"h6","para_respon","text-info","font-weight-normal"],[4,"ngFor","ngForOf"],[1,"float-right","mt-3","pb-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"input-group","my-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text",1,"form-control",3,"formControlName"],[1,"input-group","mt-3"],[1,"input-group-prepend","w-100","text-center"],[1,"input-group-text","w-100","d-inline-block",2,"border-bottom-left-radius","0","border-top-right-radius","0.25rem","white-space","normal"],[1,"row","pt-2","pl-0","pr-0","ml-0","mr-0","border-row"],["class","col-12 col-sm-12 col-md-4 text-left mb-1",3,"formArrayName",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","text-left","mb-1",3,"formArrayName"],["color","primary",3,"checked","formControlName"],[1,"truncate",3,"matTooltip"],[1,"row","w-100","pt-3","pl-0","pr-0","ml-0","mr-0","border-row",3,"formControlName"],["color","primary","class","col-12 col-sm-12 col-md-4 text-left mb-1",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"col-12","col-sm-12","col-md-4","text-left","mb-1",3,"value"],["appearance","fill"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&t.YNc(0,fn,15,4,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[f.sg,f.O5,on.ey,B.lW,sn.oG,Pt.KE,Pt.hX,Jt.VQ,Jt.U0,an.gD,X.gM,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,g.CE],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:800px;max-width:800px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:150px;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.content-form[_ngcontent-%COMP%]{border:1px solid #bebaba;border-radius:5px}.scrollable-form[_ngcontent-%COMP%]{max-height:calc(100vh - 10%);overflow-y:auto}.form-field-custom[_ngcontent-%COMP%]{background-color:#0000000a;border:1px solid rgba(206,212,218,.6980392157);border-radius:.25rem;padding:5px 8px}.border-row[_ngcontent-%COMP%]{border:1px solid #ced4da;border-top:none;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}.truncate[_ngcontent-%COMP%]{max-width:350px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}.truncate[_ngcontent-%COMP%]{max-width:180px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();function vn(i=1){return e=>e.controls.map(o=>o.value).reduce((o,s)=>s?o+s:o,0)>=i?null:{required:!0}}const Tn=["myDialogMonitor"];function bn(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",9),t._uU(2,"\xa0"),t.qZA())}function wn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.closeOutsideDialog(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"p",5),t._uU(5,'\u0110\xe2y l\xe0 b\xe0i thi \u0111\u01b0\u1ee3c "Gi\xe1m S\xe1t". Vui l\xf2ng b\u1ea5m "X\xe1c nh\u1eadn" \u0111\u1ec3 ti\u1ebfp t\u1ee5c b\xe0i thi!'),t.qZA()(),t.TgZ(6,"div",6)(7,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t.YNc(8,bn,3,0,"span",8),t._uU(9," X\xe1c Nh\u1eadn "),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",!0===e.statusObj.loading)}}let Cn=(()=>{class i extends A.Q{constructor(e){super(e),this.commonService=e,this.data={isShow:!1},this.closeDialog=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({})}closeOutsideDialog(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.closeDialog.emit(!0)}confirmQuit(){this.closeDialog.emit(!0)}ngOnInit(){super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-monitor-screen"]],viewQuery:function(e,n){if(1&e&&t.Gf(Tn,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogMonitor",""],[1,"text-center"],[1,"mb-0","h5"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&t.YNc(0,wn,10,1,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[f.O5,B.lW],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();const En=["myDialogCheckEssay"];function An(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",10),t._uU(2,"\xa0"),t.qZA())}function Zn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.closeDialog(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"p",5),t._uU(5,"\u0110\xe2y l\xe0 b\xe0i thi h\u1ed7n h\u1ee3p c\xf3 T\u1ef1 lu\u1eadn. \u0110\u1ec3 tr\u1ea3 l\u1eddi c\xe2u h\u1ecfi t\u1ef1 lu\u1eadn: "),t.qZA(),t.TgZ(6,"p",6),t._uU(7,'B\u1ea1n c\xf3 th\u1ec3 l\xe0m tr\u1ef1c ti\u1ebfp tr\xean h\u1ec7 th\u1ed1ng ho\u1eb7c l\xe0m ra gi\u1ea5y, ch\u1ee5p \u1ea3nh r\u1ed3i g\u1eedi qua "File \u0110\xednh K\xe8m"'),t.qZA()(),t.TgZ(8,"div",7)(9,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t.YNc(10,An,3,0,"span",9),t._uU(11," T\xf4i \u0111\xe3 hi\u1ec3u "),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngIf",!0===e.statusObj.loading)}}let yn=(()=>{class i extends A.Q{constructor(e){super(e),this.commonService=e,this.data={isShow:!1},this.closeEssayDialog=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({})}closeDialog(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.closeEssayDialog.emit(!0)}confirmQuit(){this.closeEssayDialog.emit(!0)}ngOnInit(){super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-check-essay"]],viewQuery:function(e,n){if(1&e&&t.Gf(En,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeEssayDialog:"closeEssayDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogCheckEssay",""],[1,"text-center"],[1,"mb-2","h5"],[1,"mb-0","h5","text-info"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&t.YNc(0,Zn,12,1,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[f.O5,B.lW],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();var Nt=m(20985);const kn=function(i,a,e,n){return{"width.%":i,"height.%":a,"left.%":e,"top.%":n}};function On(i,a){if(1&i&&t._UZ(0,"div",2),2&i){const e=t.oxw().$implicit,n=t.oxw();t.Gre("v2-label label-",e.alpha?e.alpha:e.key,""),t.Q6J("ngStyle",t.l5B(4,kn,e.alpha?n.question.answerLabelsMockup["label-"+e.alpha].width/n.realQuestionWidth*100:n.question.answerLabelsMockup["label-"+e.key].width/n.realQuestionWidth*100,e.alpha?n.question.answerLabelsMockup["label-"+e.alpha].height/n.questionHeight*100:n.question.answerLabelsMockup["label-"+e.key].height/n.questionHeight*100,e.alpha?n.question.answerLabelsMockup["label-"+e.alpha].left/n.realQuestionWidth*100:n.question.answerLabelsMockup["label-"+e.key].left/n.realQuestionWidth*100,e.alpha?n.question.answerLabelsMockup["label-"+e.alpha].top/n.questionHeight*100:n.question.answerLabelsMockup["label-"+e.key].top/n.questionHeight*100))}}function Sn(i,a){if(1&i&&(t.ynx(0),t.YNc(1,On,1,9,"div",1),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.checked)}}let In=(()=>{class i extends A.Q{constructor(e){super(e),this.commonService=e}get realQuestionWidth(){var e,n,o,s;return void 0!==(null===(n=null===(e=this.content.metaData)||void 0===e?void 0:e.question)||void 0===n?void 0:n.width)?(null===(s=null===(o=this.content.metaData)||void 0===o?void 0:o.question)||void 0===s?void 0:s.width)+Nt.Z:1}get questionHeight(){var e,n;return(null===(n=null===(e=this.content.metaData)||void 0===e?void 0:e.question)||void 0===n?void 0:n.height)||1}ngOnInit(){this.content=this.question.questionContentParse[0],super.ngOnInit()}ngOnDestroy(){super.ngDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["azt-mark-chosen"]],inputs:{question:"question"},features:[t.qOj],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["style","position: absolute; border-bottom: 2px solid #f39c12;",3,"class","ngStyle",4,"ngIf"],[2,"position","absolute","border-bottom","2px solid #f39c12",3,"ngStyle"]],template:function(e,n){1&e&&t.YNc(0,Sn,2,1,"ng-container",0),2&e&&t.Q6J("ngForOf",n.question.answerConfigParse)},dependencies:[f.sg,f.O5,f.PC],encapsulation:2}),i})();function Mn(i,a){1&i&&(t.TgZ(0,"span",9),t._uU(1,"\xa0H\u1ebft l\u01b0\u1ee3t"),t.qZA())}function Qn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-icon",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(4);let _;return t.KtG(s.playAudio(s.questionObj.id||-1,null!==(_=o.index)&&void 0!==_?_:0))}),t._uU(1,"play_arrow"),t.qZA()}}function qn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-icon",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(4);let _;return t.KtG(s.stopAudio(s.questionObj.id||-1,null!==(_=o.index)&&void 0!==_?_:0))}),t._uU(1,"delete"),t.qZA()}}function Fn(i,a){if(1&i&&(t.TgZ(0,"span",10),t.YNc(1,Qn,2,0,"mat-icon",11),t.YNc(2,qn,2,0,"mat-icon",12),t.TgZ(3,"audio",13),t._UZ(4,"source",14),t.ALo(5,"safe"),t.ALo(6,"mycdn"),t.qZA()()),2&i){const e=a.$implicit,n=t.oxw(4);let o,s;t.Q6J("hidden",!e.status),t.xp6(1),t.Q6J("ngIf",!n.checkAudioPlay(n.questionObj.id||-1,null!==(o=e.index)&&void 0!==o?o:0)),t.xp6(1),t.Q6J("ngIf",n.checkAudioPlay(n.questionObj.id||-1,null!==(s=e.index)&&void 0!==s?s:0)),t.xp6(1),t.s9C("id",n.isShowList?"audio_list_"+n.questionObj.id+"_"+e.index:"audio_unit_"+n.questionObj.id+"_"+e.index),t.xp6(1),t.Q6J("src",t.lcZ(5,5,t.lcZ(6,7,n.questionObj.attachmentsParse[0].url)),t.LSH)}}function Pn(i,a){if(1&i&&(t.TgZ(0,"div",5)(1,"span",6),t._uU(2,"S\u1ed1 l\u01b0\u1ee3t nghe: "),t.qZA(),t.YNc(3,Mn,2,0,"span",7),t.YNc(4,Fn,7,9,"ng-template",8),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.Q6J("ngIf",e.questionObj.limitAudio==e.totalLimit),t.xp6(1),t.Q6J("ngForOf",e.questionObj.audioLimitObjs)}}function Jn(i,a){if(1&i&&(t.TgZ(0,"div",3),t.YNc(1,Pn,5,2,"div",4),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",(null!=e.questionObj.limitAudio?e.questionObj.limitAudio:e.totalLimit+1)<=e.totalLimit)}}function Nn(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Jn,2,1,"div",2),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.questionObj.attachmentsParse&&e.questionObj.attachmentsParse.length>0)}}function jn(i,a){if(1&i&&(t.TgZ(0,"div",18)(1,"audio",19),t._UZ(2,"source",14),t.ALo(3,"safe"),t.ALo(4,"mycdn"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.s9C("id","audio_"+e.questionObj.id),t.xp6(1),t.Q6J("src",t.lcZ(3,2,t.lcZ(4,4,e.questionObj.attachmentsParse[0].url)),t.LSH)}}function Un(i,a){if(1&i&&t.YNc(0,jn,5,6,"div",17),2&i){const e=t.oxw();t.Q6J("ngIf",e.questionObj.attachmentsParse&&e.questionObj.attachmentsParse.length>0)}}let Dn=(()=>{class i extends A.Q{constructor(e){super(e),this.commonService=e,this.questionObj={questionContentParse:[],answerConfigParse:[],attachmentsParse:[],answerLabelsMockup:{}},this.totalLimit=0,this.isShowList=!0,this.sendAudioEmitter=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({})}detectAllAudioPlaying(){var e=!1;let n=document.getElementsByTagName("audio");for(let o=0;o<n.length;o++)if(n[o].duration>0&&!n[o].paused){e=!0;break}return e}playAudio(e,n){var o=this.isShowList?document.getElementById("audio_list_"+e+"_"+n):document.getElementById("audio_unit_"+e+"_"+n);o&&(this.detectAllAudioPlaying()?this.commonService.snackWarning("File nghe \u0111ang \u0111\u01b0\u1ee3c ph\xe1t!",""):(this.sendAudioEmitter.emit({obj:this.questionObj,play:1,index:n}),o.play()))}stopAudio(e,n){var o=this.isShowList?document.getElementById("audio_list_"+e+"_"+n):document.getElementById("audio_unit_"+e+"_"+n);o&&o.duration>0&&!o.paused&&(o.pause(),o.currentTime=0,o.setAttribute("src",""),this.sendAudioEmitter.emit({obj:this.questionObj,play:0,index:n}))}checkAudioPlay(e,n){var o=this.isShowList?document.getElementById("audio_list_"+e+"_"+n):document.getElementById("audio_unit_"+e+"_"+n);return!!o&&(o.duration>0&&!o.paused||((o.ended||o.currentTime>0&&o.paused)&&(o.currentTime=0,o.setAttribute("src",""),this.sendAudioEmitter.emit({obj:this.questionObj,play:0,index:n})),!1))}ngOnInit(){super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["azt-test-audio-ui"]],inputs:{questionObj:"questionObj",totalLimit:"totalLimit",isShowList:"isShowList"},outputs:{sendAudioEmitter:"sendAudioEmitter"},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalAudio",""],["class","text-left ml-auto mr-auto",4,"ngIf"],[1,"text-left","ml-auto","mr-auto"],["class","limit_audio",4,"ngIf"],[1,"limit_audio"],[1,"mb-0",2,"font-size","14px","font-weight","400"],["class","mb-0","style","font-size: 14px; font-weight: 450;color: #da0522 ",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"mb-0",2,"font-size","14px","font-weight","450","color","#da0522"],[1,"audio-control",3,"hidden"],["style","vertical-align: middle; line-height: 1; color: #000","matTooltip","B\u1eaft \u0111\u1ea7u",3,"click",4,"ngIf"],["style","vertical-align: middle; line-height: 1; color: #da0522","matTooltip","K\u1ebft th\xfac",3,"click",4,"ngIf"],["preload","true",3,"id"],[3,"src"],["matTooltip","B\u1eaft \u0111\u1ea7u",2,"vertical-align","middle","line-height","1","color","#000",3,"click"],["matTooltip","K\u1ebft th\xfac",2,"vertical-align","middle","line-height","1","color","#da0522",3,"click"],["class","text-center ml-auto mr-auto",4,"ngIf"],[1,"text-center","ml-auto","mr-auto"],["controls","","preload","true",2,"margin-left","10px","margin-right","10px","max-width","70%",3,"id"]],template:function(e,n){if(1&e&&(t.YNc(0,Nn,2,1,"div",0),t.YNc(1,Un,1,1,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",n.totalLimit>0)("ngIfElse",o)}},dependencies:[f.sg,f.O5,W.Hw,X.gM,w.GT,w.yl],styles:[".limit_audio[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.audio-control[_ngcontent-%COMP%]{border-radius:50%;background-color:#f0f3f4;color:#000;padding:5px;height:35px;width:35px;margin-left:5px;cursor:pointer;text-align:center}"]}),i})();function Yn(i,a){if(1&i&&(t.TgZ(0,"div",10)(1,"p",11),t._uU(2),t.qZA(),t.TgZ(3,"div",12)(4,"span"),t._uU(5,"A."),t.qZA(),t.TgZ(6,"span"),t._uU(7,"B."),t.qZA(),t.TgZ(8,"span"),t._uU(9,"C."),t.qZA(),t.TgZ(10,"span"),t._uU(11,"D."),t.qZA()()()),2&i){const e=t.oxw(2).index;t.xp6(2),t.hij("C\xe2u ",e+1,": C\xe2u h\u1ecfi \u0111\u1ec1 thi Offline")}}function Ln(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function zn(i,a){if(1&i&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.content," ")}}function Hn(i,a){if(1&i&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.content," ")}}function Bn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,_=o.index,l=t.oxw(6),r=l.$implicit,d=l.index,c=t.oxw(2);return t.KtG(c.setAnswer(r.id||-1,s,2,!0,_,s.alpha,s.key,d))}),t.YNc(1,zn,2,1,"span",27),t.YNc(2,Hn,2,1,"span",28),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.checked),t.xp6(1),t.Q6J("ngIf",1==e.checked)}}function Gn(i,a){if(1&i&&(t.TgZ(0,"div",23)(1,"ul",24),t.YNc(2,Bn,3,2,"li",25),t.qZA()()),2&i){const e=t.oxw(5).$implicit;t.xp6(2),t.Q6J("ngForOf",e.answerConfigParse)}}function Rn(i,a){1&i&&(t.TgZ(0,"mat-icon",31),t._uU(1," arrow_forward "),t.qZA())}function $n(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",16),t.YNc(1,Ln,2,0,"p",17),t.YNc(2,Gn,3,1,"div",18),t.TgZ(3,"a",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4),s=o.last,_=o.index,l=t.oxw(2);return t.KtG(s?l.openSubmitExam():l.nextQuestion(_))}),t.TgZ(4,"span",20),t._uU(5),t.qZA(),t.YNc(6,Rn,2,0,"mat-icon",21),t.qZA()()}if(2&i){const e=a.$implicit,n=t.oxw(4),o=n.last,s=n.index,_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(3),t.lnq("",o?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",s+1,"/",_.countQuestion,")"),t.xp6(1),t.Q6J("ngIf",!o)}}function Kn(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,$n,7,6,"div",15),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",e.answerConfigParseVer1)}}function Vn(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),t.qZA())}const Q=function(i,a){return{"justify-content-between":i,"justify-content-center":a}},q=function(i){return{"w-100":i}},tt=function(i){return{disabled:i}};function Wn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.YNc(2,Vn,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,1))})("keyup",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,1))})("change",function(o){t.CHM(e);const s=t.oxw(3).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!0,0))}),t.qZA()()()(),t.TgZ(6,"div",38)(7,"a",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(8,"span",20),t._uU(9),t.qZA(),t.TgZ(10,"mat-icon",31),t._uU(11," arrow_forward "),t.qZA()()()()}if(2&i){const e=t.oxw(3),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.Q6J("ngClass",t.WLB(10,Q,!_.isMobile,_.isMobile)),t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,_.isMobile)),t.xp6(2),t.s9C("id","answer-1-unit-"+n.id),t.Q6J("value",n.essayText),t.uIk("isImage",!0)("question_id",n.id),t.xp6(2),t.Q6J("ngClass",t.VKq(15,tt,o)),t.xp6(2),t.AsE("C\xe2u ti\u1ebfp (",s+1,"/",_.countQuestion,")")}}function Xn(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function to(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.YNc(2,Xn,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,1))})("keyup",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,1))})("change",function(o){t.CHM(e);const s=t.oxw(3).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!0,0))}),t.qZA()()()(),t.TgZ(6,"div",38)(7,"a",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(8,"span",20),t._uU(9),t.qZA(),t.TgZ(10,"mat-icon",31),t._uU(11," arrow_forward "),t.qZA()()()()}if(2&i){const e=t.oxw(3),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.Q6J("ngClass",t.WLB(10,Q,!_.isMobile,_.isMobile)),t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,_.isMobile)),t.xp6(2),t.s9C("id","answer-1-unit-"+n.id),t.Q6J("value",n.essayText),t.uIk("isImage",!0)("question_id",n.id),t.xp6(2),t.Q6J("ngClass",t.VKq(15,tt,o)),t.xp6(2),t.AsE("C\xe2u ti\u1ebfp (",s+1,"/",_.countQuestion,")")}}function eo(i,a){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,Kn,2,1,"div",0),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,Wn,12,17,"div",14),t.ALo(4,"isEssayAnswer"),t.YNc(5,to,12,17,"div",14),t.ALo(6,"isFillAnswer"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,e.answerType))}}function io(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function no(i,a){if(1&i&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function oo(i,a){if(1&i&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function so(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,_=o.index,l=t.oxw(4),r=l.$implicit,d=l.index,c=t.oxw(2);return t.KtG(c.setAnswer(r.id||-1,s,2,!1,_,s.alpha,s.key,d))}),t.YNc(1,no,2,1,"span",27),t.YNc(2,oo,2,1,"span",28),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.checked),t.xp6(1),t.Q6J("ngIf",1==e.checked)}}function ao(i,a){1&i&&(t.TgZ(0,"mat-icon",31),t._uU(1," arrow_forward "),t.qZA())}function _o(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",16),t.YNc(2,io,2,0,"p",17),t.TgZ(3,"div",23)(4,"ul",41),t.YNc(5,so,3,2,"li",42),t.qZA()(),t.TgZ(6,"a",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3),s=o.last,_=o.index,l=t.oxw(2);return t.KtG(s?l.openSubmitExam():l.nextQuestion(_))}),t.TgZ(7,"span",20),t._uU(8),t.qZA(),t.YNc(9,ao,2,0,"mat-icon",21),t.qZA()()()}if(2&i){const e=t.oxw(3),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(3),t.Q6J("ngForOf",n.answerConfigParse),t.xp6(3),t.lnq("",o?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",s+1,"/",_.countQuestion,")"),t.xp6(1),t.Q6J("ngIf",!o)}}function lo(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),t.qZA())}function ro(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.YNc(2,lo,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,2))})("keyup",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,2))})("change",function(o){t.CHM(e);const s=t.oxw(3).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!1,0))}),t.qZA()()()(),t.TgZ(6,"div",38)(7,"a",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(8,"span",20),t._uU(9),t.qZA(),t.TgZ(10,"mat-icon",31),t._uU(11," arrow_forward "),t.qZA()()()()}if(2&i){const e=t.oxw(3),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.Q6J("ngClass",t.WLB(10,Q,!_.isMobile,_.isMobile)),t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,_.isMobile)),t.xp6(2),t.s9C("id","answer-0-unit-"+n.id),t.Q6J("value",n.essayText),t.uIk("isImage",!1)("question_id",n.id),t.xp6(2),t.Q6J("ngClass",t.VKq(15,tt,o)),t.xp6(2),t.AsE("C\xe2u ti\u1ebfp (",s+1,"/",_.countQuestion,")")}}function co(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function uo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.YNc(2,co,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,2))})("keyup",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,2))})("change",function(o){t.CHM(e);const s=t.oxw(3).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!1,0))}),t.qZA()()()(),t.TgZ(6,"div",38)(7,"a",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(8,"span",20),t._uU(9),t.qZA(),t.TgZ(10,"mat-icon",31),t._uU(11," arrow_forward "),t.qZA()()()()}if(2&i){const e=t.oxw(3),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.Q6J("ngClass",t.WLB(10,Q,!_.isMobile,_.isMobile)),t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,_.isMobile)),t.xp6(2),t.s9C("id","answer-0-unit-"+n.id),t.Q6J("value",n.essayText),t.uIk("isImage",!1)("question_id",n.id),t.xp6(2),t.Q6J("ngClass",t.VKq(15,tt,o)),t.xp6(2),t.AsE("C\xe2u ti\u1ebfp (",s+1,"/",_.countQuestion,")")}}function mo(i,a){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,_o,10,6,"div",0),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,ro,12,17,"div",14),t.ALo(4,"isEssayAnswer"),t.YNc(5,uo,12,17,"div",14),t.ALo(6,"isFillAnswer"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,e.answerType))}}function po(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4),t.YNc(2,Yn,12,1,"div",5),t.YNc(3,eo,7,9,"div",6),t.YNc(4,mo,7,9,"div",6),t.TgZ(5,"a",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,s=t.oxw(2);return t.KtG(s.prevQuestion(o))}),t.TgZ(6,"mat-icon",8),t._uU(7,"arrow_back_ios_new"),t.qZA()(),t.TgZ(8,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(9,"mat-icon",8),t._uU(10,"arrow_forward_ios"),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw(),n=e.index,o=e.$implicit,s=t.oxw(2);t.xp6(1),t.s9C("id","question_"+n),t.Q6J("hidden",n>0),t.xp6(1),t.Q6J("ngIf",1==o.isImage),t.xp6(1),t.Q6J("ngIf",1==o.isImage&&!(null!=o.name&&o.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("ngIf",0==o.isImage||(null==o.name?null:o.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("hidden",0==n),t.xp6(3),t.Q6J("hidden",n==s.questionList.length-1)}}function go(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",52),t.NdJ("sendAudioEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.sendAudioEvent(o))}),t.qZA()}if(2&i){const e=t.oxw(5).$implicit,n=t.oxw(2);t.Q6J("questionObj",e)("isShowList",!1)("totalLimit",(n.exam_obj.limitAudio||-1)>0?n.exam_obj.limitAudio||-1:0)}}function ho(i,a){if(1&i&&(t.TgZ(0,"div",55),t._UZ(1,"iframe",56),t.ALo(2,"safe"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.url),t.uOi)}}function fo(i,a){if(1&i&&t._UZ(0,"azt-loaded-img",57),2&i){const e=t.oxw(2).$implicit;t.Q6J("imgSrc",e.url)}}function xo(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,ho,3,3,"div",53),t.YNc(2,fo,1,1,"azt-loaded-img",54),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","mp4"==e.extension),t.xp6(1),t.Q6J("ngIf","png"==e.extension||"jpg"==e.extension)}}function vo(i,a){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,go,1,3,"azt-test-audio-ui",51),t.YNc(2,xo,3,2,"div",0),t.qZA()),2&i){const e=a.$implicit,n=t.oxw(4).$implicit;t.s9C("id","media_content_"+n.id),t.xp6(1),t.Q6J("ngIf",n.attachmentsParse&&n.attachmentsParse.length>0),t.xp6(1),t.Q6J("ngIf",e.url&&""!=e.url)}}function To(i,a){if(1&i&&(t.TgZ(0,"div",48),t.YNc(1,vo,3,3,"div",49),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",e.questionContentParse)}}function bo(i,a){if(1&i&&(t.TgZ(0,"div",66),t._UZ(1,"i",67),t.qZA()),2&i){const e=t.oxw(4).$implicit;t.xp6(1),t.Q6J("innerHtml",e.questionContentParse[0].groupContent,t.oJD)}}function wo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",52),t.NdJ("sendAudioEmitter",function(o){t.CHM(e);const s=t.oxw(6);return t.KtG(s.sendAudioEvent(o))}),t.qZA()}if(2&i){const e=t.oxw(4).$implicit,n=t.oxw(2);t.Q6J("questionObj",e)("isShowList",!1)("totalLimit",(n.exam_obj.limitAudio||-1)>0?n.exam_obj.limitAudio||-1:0)}}function Co(i,a){if(1&i&&(t.TgZ(0,"div",68)(1,"span",69),t._uU(2),t.qZA(),t._uU(3,"\xa0 "),t._UZ(4,"div",70),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij("",e.alpha?e.alpha:e.key,"."),t.xp6(2),t.Q6J("innerHtml",e.content,t.oJD)}}function Eo(i,a){if(1&i&&(t.TgZ(0,"div",58),t.YNc(1,bo,2,1,"div",59),t.TgZ(2,"div",60)(3,"p",61),t._uU(4),t.qZA(),t.YNc(5,wo,1,3,"azt-test-audio-ui",51),t.TgZ(6,"div",62),t._UZ(7,"div",63),t.qZA(),t.TgZ(8,"div",64),t.YNc(9,Co,5,2,"div",65),t.qZA()()()),2&i){const e=t.oxw(3).$implicit;let n;t.xp6(1),t.Q6J("ngIf",e.isTheFirstInGroup),t.xp6(3),t.hij("C\xe2u\xa0",(null!==(n=e.index)&&void 0!==n?n:0)<9?"0"+((null!==(n=e.index)&&void 0!==n?n:0)+1):(null!==(n=e.index)&&void 0!==n?n:0)+1,":"),t.xp6(1),t.Q6J("ngIf",e.attachmentsParse&&e.attachmentsParse.length>0),t.xp6(2),t.Q6J("innerHtml",e.questionContentParse[0].content,t.oJD),t.xp6(2),t.Q6J("ngForOf",e.answerConfigParse)}}function Ao(i,a){if(1&i&&(t.TgZ(0,"div",72),t._UZ(1,"azt-loaded-img",57),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("imgSrc",e.groupUrl)}}function Zo(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Ao,2,1,"div",71),t.BQk()),2&i){const e=t.oxw(5).$implicit;t.xp6(1),t.Q6J("ngIf",e.isTheFirstInGroup)}}function yo(i,a){if(1&i&&(t.TgZ(0,"div",55),t._UZ(1,"iframe",56),t.ALo(2,"safe"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.url),t.uOi)}}function ko(i,a){if(1&i&&t._UZ(0,"azt-loaded-img",57),2&i){const e=t.oxw(3).$implicit;t.Q6J("imgSrc",e.url)}}function Oo(i,a){if(1&i&&t.YNc(0,ko,1,1,"azt-loaded-img",54),2&i){const e=t.oxw(2).$implicit;t.Q6J("ngIf","png"==e.extension||"jpg"==e.extension)}}const jt=function(i){return{"maxWidth.px":i}};function So(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",74),t._UZ(2,"azt-mark-chosen",75)(3,"img",76),t.qZA(),t.BQk()),2&i){const e=t.oxw(2).$implicit,n=t.oxw(4),o=n.$implicit,s=n.index,_=t.oxw(2);t.xp6(1),t.MGl("id","v2_wrapper_question_",o.id,""),t.Q6J("ngStyle",t.VKq(5,jt,void 0!==(null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)?(null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)+_.extraSpace:1)),t.xp6(1),t.Q6J("question",o),t.xp6(1),t.MGl("id","questionPlaceholder_",s,""),t.s9C("src",o.mixDataImg,t.LSH)}}function Io(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,yo,3,3,"div",53),t.YNc(2,Oo,1,1,"ng-template",null,73,t.W1O),t.YNc(4,So,4,7,"ng-container",2),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw().$implicit,o=t.oxw(4).$implicit;t.xp6(1),t.Q6J("ngIf","mp4"==n.extension),t.xp6(3),t.Q6J("ngIf",null==o.name?null:o.name.startsWith("[PDFv2]"))("ngIfElse",e)}}function Mo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",50),t.YNc(1,Zo,2,1,"ng-container",0),t.TgZ(2,"azt-test-audio-ui",52),t.NdJ("sendAudioEmitter",function(o){t.CHM(e);const s=t.oxw(6);return t.KtG(s.sendAudioEvent(o))}),t.qZA(),t.YNc(3,Io,5,3,"div",0),t.qZA()}if(2&i){const e=a.$implicit,n=t.oxw(4).$implicit,o=t.oxw(2);t.s9C("id","media_content_"+n.id),t.xp6(1),t.Q6J("ngIf",e.groupUrl),t.xp6(1),t.Q6J("questionObj",n)("isShowList",!1)("totalLimit",(o.exam_obj.limitAudio||-1)>0?o.exam_obj.limitAudio||-1:0),t.xp6(1),t.Q6J("ngIf",e.url&&""!=e.url)}}function Qo(i,a){if(1&i&&(t.TgZ(0,"div",58),t.YNc(1,Mo,4,6,"div",49),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",e.questionContentParse)}}function qo(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function Fo(i,a){if(1&i&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.content," ")}}function Po(i,a){if(1&i&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.content," ")}}function Jo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,_=o.index,l=t.oxw(7),r=l.$implicit,d=l.index,c=t.oxw(2);return t.KtG(c.setAnswer(r.id||-1,s,2,!0,_,s.alpha,s.key,d))}),t.YNc(1,Fo,2,1,"span",27),t.YNc(2,Po,2,1,"span",28),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.checked),t.xp6(1),t.Q6J("ngIf",1==e.checked)}}function No(i,a){if(1&i&&(t.TgZ(0,"div",23)(1,"ul",24),t.YNc(2,Jo,3,2,"li",25),t.qZA()()),2&i){const e=t.oxw(6).$implicit;t.xp6(2),t.Q6J("ngForOf",e.answerConfigParse)}}function jo(i,a){1&i&&(t.TgZ(0,"mat-icon",31),t._uU(1," arrow_forward "),t.qZA())}function Uo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",16),t.YNc(1,qo,2,0,"p",17),t.YNc(2,No,3,1,"div",18),t.TgZ(3,"a",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5),s=o.last,_=o.index,l=t.oxw(2);return t.KtG(s?l.openSubmitExam():l.nextQuestion(_))}),t.TgZ(4,"span",20),t._uU(5),t.qZA(),t.YNc(6,jo,2,0,"mat-icon",21),t.qZA()()}if(2&i){const e=a.$implicit,n=t.oxw(5),o=n.last,s=n.index,_=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(3),t.lnq("",o?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",s+1,"/",_.countQuestion,")"),t.xp6(1),t.Q6J("ngIf",!o)}}function Do(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Uo,7,6,"div",15),t.qZA()),2&i){const e=t.oxw(4).$implicit;t.xp6(1),t.Q6J("ngForOf",e.answerConfigParseVer1)}}function Yo(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),t.qZA())}function Lo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.YNc(2,Yo,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,1))})("keyup",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,1))})("change",function(o){t.CHM(e);const s=t.oxw(4).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!0,0))}),t.qZA()()()(),t.TgZ(6,"div",38)(7,"a",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4).index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(8,"span",20),t._uU(9),t.qZA(),t.TgZ(10,"mat-icon",31),t._uU(11," arrow_forward "),t.qZA()()()()}if(2&i){const e=t.oxw(4),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.Q6J("ngClass",t.WLB(10,Q,!_.isMobile,_.isMobile)),t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,_.isMobile)),t.xp6(2),t.s9C("id","answer-1-unit-"+n.id),t.Q6J("value",n.essayText),t.uIk("isImage",!0)("question_id",n.id),t.xp6(2),t.Q6J("ngClass",t.VKq(15,tt,o)),t.xp6(2),t.AsE("C\xe2u ti\u1ebfp (",s+1,"/",_.countQuestion,")")}}function zo(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function Ho(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.YNc(2,zo,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,1))})("keyup",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,1))})("change",function(o){t.CHM(e);const s=t.oxw(4).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!0,0))}),t.qZA()()()(),t.TgZ(6,"div",38)(7,"a",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4).index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(8,"span",20),t._uU(9),t.qZA(),t.TgZ(10,"mat-icon",31),t._uU(11," arrow_forward "),t.qZA()()()()}if(2&i){const e=t.oxw(4),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.Q6J("ngClass",t.WLB(10,Q,!_.isMobile,_.isMobile)),t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,_.isMobile)),t.xp6(2),t.s9C("id","answer-1-unit-"+n.id),t.Q6J("value",n.essayText),t.uIk("isImage",!0)("question_id",n.id),t.xp6(2),t.Q6J("ngClass",t.VKq(15,tt,o)),t.xp6(2),t.AsE("C\xe2u ti\u1ebfp (",s+1,"/",_.countQuestion,")")}}function Bo(i,a){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,Do,2,1,"div",0),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,Lo,12,17,"div",14),t.ALo(4,"isEssayAnswer"),t.YNc(5,Ho,12,17,"div",14),t.ALo(6,"isFillAnswer"),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,e.answerType))}}function Go(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function Ro(i,a){if(1&i&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function $o(i,a){if(1&i&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function Ko(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,_=o.index,l=t.oxw(5),r=l.$implicit,d=l.index,c=t.oxw(2);return t.KtG(c.setAnswer(r.id||-1,s,2,!1,_,s.alpha,s.key,d))}),t.YNc(1,Ro,2,1,"span",27),t.YNc(2,$o,2,1,"span",28),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.checked),t.xp6(1),t.Q6J("ngIf",1==e.checked)}}function Vo(i,a){1&i&&(t.TgZ(0,"mat-icon",31),t._uU(1," arrow_forward "),t.qZA())}function Wo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",16),t.YNc(2,Go,2,0,"p",17),t.TgZ(3,"div",23)(4,"ul",41),t.YNc(5,Ko,3,2,"li",42),t.qZA()(),t.TgZ(6,"a",19),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4),s=o.last,_=o.index,l=t.oxw(2);return t.KtG(s?l.openSubmitExam():l.nextQuestion(_))}),t.TgZ(7,"span",20),t._uU(8),t.qZA(),t.YNc(9,Vo,2,0,"mat-icon",21),t.qZA()()()}if(2&i){const e=t.oxw(4),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(3),t.Q6J("ngForOf",n.answerConfigParse),t.xp6(3),t.lnq("",o?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",s+1,"/",_.countQuestion,")"),t.xp6(1),t.Q6J("ngIf",!o)}}function Xo(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),t.qZA())}function ts(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.YNc(2,Xo,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,2))})("keyup",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,2))})("change",function(o){t.CHM(e);const s=t.oxw(4).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!1,0))}),t.qZA()()()(),t.TgZ(6,"div",38)(7,"a",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4).index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(8,"span",20),t._uU(9),t.qZA(),t.TgZ(10,"mat-icon",31),t._uU(11," arrow_forward "),t.qZA()()()()}if(2&i){const e=t.oxw(4),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.Q6J("ngClass",t.WLB(10,Q,!_.isMobile,_.isMobile)),t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,_.isMobile)),t.xp6(2),t.s9C("id","answer-0-unit-"+n.id),t.Q6J("value",n.essayText),t.uIk("isImage",!1)("question_id",n.id),t.xp6(2),t.Q6J("ngClass",t.VKq(15,tt,o)),t.xp6(2),t.AsE("C\xe2u ti\u1ebfp (",s+1,"/",_.countQuestion,")")}}function es(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function is(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33),t.YNc(2,es,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,2))})("keyup",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,2))})("change",function(o){t.CHM(e);const s=t.oxw(4).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!1,0))}),t.qZA()()()(),t.TgZ(6,"div",38)(7,"a",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4).index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(8,"span",20),t._uU(9),t.qZA(),t.TgZ(10,"mat-icon",31),t._uU(11," arrow_forward "),t.qZA()()()()}if(2&i){const e=t.oxw(4),n=e.$implicit,o=e.last,s=e.index,_=t.oxw(2);t.Q6J("ngClass",t.WLB(10,Q,!_.isMobile,_.isMobile)),t.xp6(2),t.Q6J("ngIf",!_.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,_.isMobile)),t.xp6(2),t.s9C("id","answer-0-unit-"+n.id),t.Q6J("value",n.essayText),t.uIk("isImage",!1)("question_id",n.id),t.xp6(2),t.Q6J("ngClass",t.VKq(15,tt,o)),t.xp6(2),t.AsE("C\xe2u ti\u1ebfp (",s+1,"/",_.countQuestion,")")}}function ns(i,a){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,Wo,10,6,"div",0),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,ts,12,17,"div",14),t.ALo(4,"isEssayAnswer"),t.YNc(5,is,12,17,"div",14),t.ALo(6,"isFillAnswer"),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,e.answerType))}}const Ut=function(i){return{"pb-2":i}};function os(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",45),t.YNc(2,To,2,1,"div",46),t.YNc(3,Eo,10,5,"div",47),t.YNc(4,Qo,2,1,"div",47),t.qZA(),t.YNc(5,Bo,7,9,"div",6),t.YNc(6,ns,7,9,"div",6),t.TgZ(7,"a",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).index,s=t.oxw(2);return t.KtG(s.prevQuestion(o))}),t.TgZ(8,"mat-icon",8),t._uU(9,"arrow_back_ios_new"),t.qZA()(),t.TgZ(10,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2).index,s=t.oxw(2);return t.KtG(s.nextQuestion(o))}),t.TgZ(11,"mat-icon",8),t._uU(12,"arrow_forward_ios"),t.qZA()()()}if(2&i){const e=t.oxw(2),n=e.index,o=e.$implicit,s=t.oxw(2);t.s9C("id","question_"+n),t.Q6J("hidden",n>0),t.xp6(1),t.Q6J("ngClass",t.VKq(10,Ut,o.attachmentsParse&&o.attachmentsParse.length>0)),t.xp6(1),t.Q6J("ngIf",1==o.isImage&&!(null!=o.name&&o.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("ngIf",0==o.isImage),t.xp6(1),t.Q6J("ngIf",1==o.isImage&&(null==o.name?null:o.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("ngIf",1==o.isImage&&!(null!=o.name&&o.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("ngIf",0==o.isImage||(null==o.name?null:o.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("hidden",0==n),t.xp6(3),t.Q6J("hidden",n==s.questionList.length-1)}}function ss(i,a){if(1&i&&t.YNc(0,os,13,12,"div",43),2&i){const e=t.oxw().$implicit;t.Q6J("ngIf",null!=e.questionContentParse&&e.questionContentParse.length>0)}}function as(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,po,11,7,"ng-container",2),t.ALo(2,"isOfflineExam"),t.YNc(3,ss,1,1,"ng-template",null,3,t.W1O),t.qZA()),2&i){const e=t.MAs(4),n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,null==n.exam_obj?null:n.exam_obj.orcLogId))("ngIfElse",e)}}function _s(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,as,5,4,"div",1),t.Hsn(2),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function ls(i,a){if(1&i&&t._UZ(0,"azt-loaded-img",81),2&i){const e=t.oxw(2);t.Q6J("imgSrc",e.exam_obj.examHeader)}}function rs(i,a){if(1&i&&(t.TgZ(0,"div",10)(1,"p",11),t._uU(2),t.qZA(),t.TgZ(3,"div",12)(4,"span"),t._uU(5,"A."),t.qZA(),t.TgZ(6,"span"),t._uU(7,"B."),t.qZA(),t.TgZ(8,"span"),t._uU(9,"C."),t.qZA(),t.TgZ(10,"span"),t._uU(11,"D."),t.qZA()()()),2&i){const e=t.oxw(2).index;t.xp6(2),t.hij("C\xe2u ",e+1,": C\xe2u h\u1ecfi \u0111\u1ec1 thi Offline")}}function cs(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function ds(i,a){if(1&i&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.content," ")}}function us(i,a){if(1&i&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.content," ")}}function ms(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,_=o.index,l=t.oxw(6),r=l.$implicit,d=l.index,c=t.oxw(2);return t.KtG(c.setAnswer(r.id||-1,s,2,!0,_,s.alpha,s.key,d))}),t.YNc(1,ds,2,1,"span",27),t.YNc(2,us,2,1,"span",28),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.checked),t.xp6(1),t.Q6J("ngIf",1==e.checked)}}const z=function(i){return{"list-answer-mobile":i}};function ps(i,a){if(1&i&&(t.TgZ(0,"div",84)(1,"ul",24),t.YNc(2,ms,3,2,"li",25),t.qZA()()),2&i){const e=t.oxw(5).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(2,z,n.isMobile)),t.xp6(2),t.Q6J("ngForOf",e.answerConfigParse)}}function gs(i,a){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,cs,2,0,"p",17),t.YNc(2,ps,3,4,"div",83),t.qZA()),2&i){const e=a.$implicit,n=t.oxw(6);t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngIf",1==e.type)}}function hs(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,gs,3,2,"div",15),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",e.answerConfigParseVer1)}}function fs(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),t.qZA())}function xs(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",85),t.YNc(2,fs,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,3))})("keyup",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,3))})("change",function(o){t.CHM(e);const s=t.oxw(3).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!0,0))}),t.qZA()()()()()}if(2&i){const e=t.oxw(3).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(8,Q,!n.isMobile,n.isMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,z,n.isMobile)),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,n.isMobile)),t.xp6(2),t.s9C("id","answer-1-all-"+e.id),t.Q6J("value",e.essayText),t.uIk("isImage",!0)("question_id",e.id)}}function vs(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function Ts(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",85),t.YNc(2,vs,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,3))})("keyup",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,3))})("change",function(o){t.CHM(e);const s=t.oxw(3).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!0,0))}),t.qZA()()()()()}if(2&i){const e=t.oxw(3).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(8,Q,!n.isMobile,n.isMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,z,n.isMobile)),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,n.isMobile)),t.xp6(2),t.s9C("id","answer-1-all-"+e.id),t.Q6J("value",e.essayText),t.uIk("isImage",!0)("question_id",e.id)}}function bs(i,a){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,hs,2,1,"div",0),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,xs,6,15,"div",14),t.ALo(4,"isEssayAnswer"),t.YNc(5,Ts,6,15,"div",14),t.ALo(6,"isFillAnswer"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,e.answerType))}}function ws(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function Cs(i,a){if(1&i&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function Es(i,a){if(1&i&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function As(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,_=o.index,l=t.oxw(4),r=l.$implicit,d=l.index,c=t.oxw(2);return t.KtG(c.setAnswer(r.id||-1,s,2,!1,_,s.alpha,s.key,d))}),t.YNc(1,Cs,2,1,"span",27),t.YNc(2,Es,2,1,"span",28),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.checked),t.xp6(1),t.Q6J("ngIf",1==e.checked)}}function Zs(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",16),t.YNc(2,ws,2,0,"p",17),t.TgZ(3,"div",84)(4,"ul",24),t.YNc(5,As,3,2,"li",25),t.qZA()()()()),2&i){const e=t.oxw(3).$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(3,z,n.isMobile)),t.xp6(2),t.Q6J("ngForOf",e.answerConfigParse)}}function ys(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),t.qZA())}function ks(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",85),t.YNc(2,ys,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,4))})("keyup",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,4))})("change",function(o){t.CHM(e);const s=t.oxw(3).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!1,0))}),t.qZA()()()()()}if(2&i){const e=t.oxw(3).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(8,Q,!n.isMobile,n.isMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,z,n.isMobile)),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,n.isMobile)),t.xp6(2),t.s9C("id","answer-0-all-"+e.id),t.Q6J("value",e.essayText),t.uIk("isImage",!1)("question_id",e.id)}}function Os(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function Ss(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",85),t.YNc(2,Os,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,4))})("keyup",function(){t.CHM(e);const o=t.oxw(3).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,4))})("change",function(o){t.CHM(e);const s=t.oxw(3).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!1,0))}),t.qZA()()()()()}if(2&i){const e=t.oxw(3).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(8,Q,!n.isMobile,n.isMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,z,n.isMobile)),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,n.isMobile)),t.xp6(2),t.s9C("id","answer-0-all-"+e.id),t.Q6J("value",e.essayText),t.uIk("isImage",!1)("question_id",e.id)}}function Is(i,a){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,Zs,6,5,"div",0),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,ks,6,15,"div",14),t.ALo(4,"isEssayAnswer"),t.YNc(5,Ss,6,15,"div",14),t.ALo(6,"isFillAnswer"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,e.answerType))}}function Ms(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",82),t.YNc(2,rs,12,1,"div",5),t.YNc(3,bs,7,9,"div",6),t.YNc(4,Is,7,9,"div",6),t.qZA(),t.BQk()),2&i){const e=t.oxw(),n=e.index,o=e.$implicit;t.xp6(1),t.s9C("id","question_all_"+n),t.xp6(1),t.Q6J("ngIf",1==o.isImage),t.xp6(1),t.Q6J("ngIf",1==o.isImage&&!(null!=o.name&&o.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("ngIf",0==o.isImage||(null==o.name?null:o.name.startsWith("[PDFv2]")))}}function Qs(i,a){if(1&i&&(t.TgZ(0,"div",72),t._UZ(1,"azt-loaded-img",57),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("imgSrc",e.groupUrl)}}function qs(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Qs,2,1,"div",71),t.BQk()),2&i){const e=t.oxw(5).$implicit;t.xp6(1),t.Q6J("ngIf",e.isTheFirstInGroup)}}function Fs(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",52),t.NdJ("sendAudioEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.sendAudioEvent(o))}),t.qZA()}if(2&i){const e=t.oxw(5).$implicit,n=t.oxw(2);t.Q6J("questionObj",e)("isShowList",!0)("totalLimit",(n.exam_obj.limitAudio||-1)>0?n.exam_obj.limitAudio||-1:0)}}function Ps(i,a){if(1&i&&(t.TgZ(0,"div",55),t._UZ(1,"iframe",56),t.ALo(2,"safe"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.url),t.uOi)}}function Js(i,a){if(1&i&&t._UZ(0,"azt-loaded-img",57),2&i){const e=t.oxw(3).$implicit;t.Q6J("imgSrc",e.url)}}function Ns(i,a){if(1&i&&t.YNc(0,Js,1,1,"azt-loaded-img",54),2&i){const e=t.oxw(2).$implicit;t.Q6J("ngIf","png"==e.extension||"jpg"==e.extension)}}function js(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",74),t._UZ(2,"azt-mark-chosen",75)(3,"img",76),t.qZA(),t.BQk()),2&i){const e=t.oxw(2).$implicit,n=t.oxw(4),o=n.$implicit,s=n.index,_=t.oxw(2);t.xp6(1),t.MGl("id","v2_wrapper_question_",o.id,""),t.Q6J("ngStyle",t.VKq(5,jt,void 0!==(null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)?(null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)+_.extraSpace:1)),t.xp6(1),t.Q6J("question",o),t.xp6(1),t.MGl("id","questionPlaceholder_",s,""),t.s9C("src",o.mixDataImg,t.LSH)}}function Us(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ps,3,3,"div",53),t.YNc(2,Ns,1,1,"ng-template",null,73,t.W1O),t.YNc(4,js,4,7,"ng-container",2),t.qZA()),2&i){const e=t.MAs(3),n=t.oxw().$implicit,o=t.oxw(4).$implicit;t.xp6(1),t.Q6J("ngIf","mp4"==n.extension),t.xp6(3),t.Q6J("ngIf",null==o.name?null:o.name.startsWith("[PDFv2]"))("ngIfElse",e)}}function Ds(i,a){if(1&i&&(t.TgZ(0,"div",50),t.YNc(1,qs,2,1,"ng-container",0),t.YNc(2,Fs,1,3,"azt-test-audio-ui",51),t.YNc(3,Us,5,3,"div",0),t.qZA()),2&i){const e=a.$implicit,n=t.oxw(4).$implicit;t.s9C("id","media_content_all_"+n.id),t.xp6(1),t.Q6J("ngIf",e.groupUrl),t.xp6(1),t.Q6J("ngIf",n.attachmentsParse&&n.attachmentsParse.length>0),t.xp6(1),t.Q6J("ngIf",e.url&&""!=e.url)}}function Ys(i,a){if(1&i&&(t.TgZ(0,"div",48),t.YNc(1,Ds,4,4,"div",49),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngForOf",e.questionContentParse)}}function Ls(i,a){if(1&i&&(t.TgZ(0,"div",66),t._UZ(1,"i",67),t.qZA()),2&i){const e=t.oxw(4).$implicit;t.xp6(1),t.Q6J("innerHtml",e.questionContentParse[0].groupContent,t.oJD)}}function zs(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"azt-test-audio-ui",52),t.NdJ("sendAudioEmitter",function(o){t.CHM(e);const s=t.oxw(6);return t.KtG(s.sendAudioEvent(o))}),t.qZA()}if(2&i){const e=t.oxw(4).$implicit,n=t.oxw(2);t.Q6J("questionObj",e)("isShowList",!0)("totalLimit",(n.exam_obj.limitAudio||-1)>0?n.exam_obj.limitAudio||-1:0)}}function Hs(i,a){if(1&i&&(t.TgZ(0,"div",89)(1,"span",69),t._uU(2),t.qZA(),t._uU(3,"\xa0 "),t._UZ(4,"div",70),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij("",e.alpha?e.alpha:e.key,"."),t.xp6(2),t.Q6J("innerHtml",e.content,t.oJD)}}function Bs(i,a){if(1&i&&(t.TgZ(0,"div",58),t.YNc(1,Ls,2,1,"div",59),t.TgZ(2,"div",60)(3,"p",61),t._uU(4),t.qZA(),t.YNc(5,zs,1,3,"azt-test-audio-ui",51),t.TgZ(6,"div",62),t._UZ(7,"div",63),t.qZA(),t.TgZ(8,"div",64),t.YNc(9,Hs,5,2,"div",88),t.qZA()()()),2&i){const e=t.oxw(3).$implicit;let n;t.xp6(1),t.Q6J("ngIf",e.isTheFirstInGroup),t.xp6(3),t.hij("C\xe2u\xa0",(null!==(n=e.index)&&void 0!==n?n:0)<9?"0"+((null!==(n=e.index)&&void 0!==n?n:0)+1):(null!==(n=e.index)&&void 0!==n?n:0)+1,":"),t.xp6(1),t.Q6J("ngIf",e.attachmentsParse&&e.attachmentsParse.length>0),t.xp6(2),t.Q6J("innerHtml",e.questionContentParse[0].content,t.oJD),t.xp6(2),t.Q6J("ngForOf",e.answerConfigParse)}}function Gs(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function Rs(i,a){if(1&i&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.content," ")}}function $s(i,a){if(1&i&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.content," ")}}function Ks(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,_=o.index,l=t.oxw(7),r=l.$implicit,d=l.index,c=t.oxw(2);return t.KtG(c.setAnswer(r.id||-1,s,2,!0,_,s.alpha,s.key,d))}),t.YNc(1,Rs,2,1,"span",27),t.YNc(2,$s,2,1,"span",28),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.checked),t.xp6(1),t.Q6J("ngIf",1==e.checked)}}function Vs(i,a){if(1&i&&(t.TgZ(0,"div",84)(1,"ul",24),t.YNc(2,Ks,3,2,"li",25),t.qZA()()),2&i){const e=t.oxw(6).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(2,z,n.isMobile)),t.xp6(2),t.Q6J("ngForOf",e.answerConfigParse)}}function Ws(i,a){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,Gs,2,0,"p",17),t.YNc(2,Vs,3,4,"div",83),t.qZA()),2&i){const e=a.$implicit,n=t.oxw(7);t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngIf",1==e.type)}}function Xs(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ws,3,2,"div",15),t.qZA()),2&i){const e=t.oxw(4).$implicit;t.xp6(1),t.Q6J("ngForOf",e.answerConfigParseVer1)}}function ta(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),t.qZA())}function ea(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",85),t.YNc(2,ta,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,3))})("keyup",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,3))})("change",function(o){t.CHM(e);const s=t.oxw(4).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!0,0))}),t.qZA()()()()()}if(2&i){const e=t.oxw(4).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(8,Q,!n.isMobile,n.isMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,z,n.isMobile)),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,n.isMobile)),t.xp6(2),t.s9C("id","answer-1-all-"+e.id),t.Q6J("value",e.essayText),t.uIk("isImage",!0)("question_id",e.id)}}function ia(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function na(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",85),t.YNc(2,ia,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,3))})("keyup",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,3))})("change",function(o){t.CHM(e);const s=t.oxw(4).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!0,0))}),t.qZA()()()()()}if(2&i){const e=t.oxw(4).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(8,Q,!n.isMobile,n.isMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,z,n.isMobile)),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,n.isMobile)),t.xp6(2),t.s9C("id","answer-1-all-"+e.id),t.Q6J("value",e.essayText),t.uIk("isImage",!0)("question_id",e.id)}}function oa(i,a){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,Xs,2,1,"div",0),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,ea,6,15,"div",14),t.ALo(4,"isEssayAnswer"),t.YNc(5,na,6,15,"div",14),t.ALo(6,"isFillAnswer"),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,e.answerType))}}function sa(i,a){1&i&&(t.TgZ(0,"p",22),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function aa(i,a){if(1&i&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function _a(i,a){if(1&i&&(t.TgZ(0,"span",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.alpha?e.alpha:e.key," ")}}function la(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",26),t.NdJ("click",function(){const o=t.CHM(e),s=o.$implicit,_=o.index,l=t.oxw(5),r=l.$implicit,d=l.index,c=t.oxw(2);return t.KtG(c.setAnswer(r.id||-1,s,2,!1,_,s.alpha,s.key,d))}),t.YNc(1,aa,2,1,"span",27),t.YNc(2,_a,2,1,"span",28),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.checked),t.xp6(1),t.Q6J("ngIf",1==e.checked)}}function ra(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",16),t.YNc(2,sa,2,0,"p",17),t.TgZ(3,"div",84)(4,"ul",24),t.YNc(5,la,3,2,"li",25),t.qZA()()()()),2&i){const e=t.oxw(4).$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(3,z,n.isMobile)),t.xp6(2),t.Q6J("ngForOf",e.answerConfigParse)}}function ca(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),t.qZA())}function da(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",85),t.YNc(2,ca,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,4))})("keyup",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,4))})("change",function(o){t.CHM(e);const s=t.oxw(4).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!1,0))}),t.qZA()()()()()}if(2&i){const e=t.oxw(4).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(8,Q,!n.isMobile,n.isMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,z,n.isMobile)),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,n.isMobile)),t.xp6(2),t.s9C("id","answer-0-all-"+e.id),t.Q6J("value",e.essayText),t.uIk("isImage",!1)("question_id",e.id)}}function ua(i,a){1&i&&(t.TgZ(0,"p",40),t._uU(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),t.qZA())}function ma(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",85),t.YNc(2,ua,2,0,"p",34),t.TgZ(3,"div",35)(4,"div",36)(5,"textarea",37),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,4))})("keyup",function(){t.CHM(e);const o=t.oxw(4).$implicit,s=t.oxw(2);return t.KtG(s.autoResizeEssayAnswer(o.id||-1,4))})("change",function(o){t.CHM(e);const s=t.oxw(4).$implicit,_=t.oxw(2);return t.KtG(_.setAnswerType3(s.id||-1,o,3,!1,0))}),t.qZA()()()()()}if(2&i){const e=t.oxw(4).$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(8,Q,!n.isMobile,n.isMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(11,z,n.isMobile)),t.xp6(1),t.Q6J("ngIf",!n.isMobile),t.xp6(1),t.Q6J("ngClass",t.VKq(13,q,n.isMobile)),t.xp6(2),t.s9C("id","answer-0-all-"+e.id),t.Q6J("value",e.essayText),t.uIk("isImage",!1)("question_id",e.id)}}function pa(i,a){if(1&i&&(t.TgZ(0,"div",13),t.YNc(1,ra,6,5,"div",0),t.ALo(2,"isOneChoiceAnswer"),t.YNc(3,da,6,15,"div",14),t.ALo(4,"isEssayAnswer"),t.YNc(5,ma,6,15,"div",14),t.ALo(6,"isFillAnswer"),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,3,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,5,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,7,e.answerType))}}function ga(i,a){if(1&i&&(t.TgZ(0,"div",87)(1,"div",45),t.YNc(2,Ys,2,1,"div",46),t.YNc(3,Bs,10,5,"div",47),t.qZA(),t.YNc(4,oa,7,9,"div",6),t.YNc(5,pa,7,9,"div",6),t.qZA()),2&i){const e=t.oxw(2),o=e.$implicit;t.s9C("id","question_all_"+e.index),t.xp6(1),t.Q6J("ngClass",t.VKq(6,Ut,o.attachmentsParse&&o.attachmentsParse.length>0)),t.xp6(1),t.Q6J("ngIf",1==o.isImage),t.xp6(1),t.Q6J("ngIf",0==o.isImage),t.xp6(1),t.Q6J("ngIf",1==o.isImage&&!(null!=o.name&&o.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("ngIf",0==o.isImage||(null==o.name?null:o.name.startsWith("[PDFv2]")))}}function ha(i,a){if(1&i&&t.YNc(0,ga,6,8,"div",86),2&i){const e=t.oxw().$implicit;t.Q6J("ngIf",null!=e.questionContentParse&&e.questionContentParse.length>0)}}function fa(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ms,5,4,"ng-container",2),t.ALo(2,"isOfflineExam"),t.YNc(3,ha,1,1,"ng-template",null,3,t.W1O),t.qZA()),2&i){const e=t.MAs(4),n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",t.lcZ(2,2,null==n.exam_obj?null:n.exam_obj.orcLogId))("ngIfElse",e)}}function xa(i,a){if(1&i&&(t.TgZ(0,"span",29),t._uU(1),t.qZA()),2&i){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function va(i,a){if(1&i&&(t.TgZ(0,"span",99),t._uU(1),t.qZA()),2&i){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function Ta(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",97),t.NdJ("click",function(){const s=t.CHM(e).index,_=t.oxw(3);return t.KtG(_.goToQuestionAll(s))}),t.YNc(1,xa,2,2,"span",27),t.YNc(2,va,2,2,"span",98),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.status),t.xp6(1),t.Q6J("ngIf",1==e.status)}}const ba=function(){return{"right.px":20}};function wa(i,a){if(1&i&&(t.TgZ(0,"div",90)(1,"div",91)(2,"div",92)(3,"p",93),t._uU(4,"Danh s\xe1ch c\xe2u h\u1ecfi"),t.qZA(),t.TgZ(5,"div",94)(6,"ul",95),t.YNc(7,Ta,3,2,"li",96),t.qZA()()()()()),2&i){const e=t.oxw(2);t.Q6J("ngStyle",t.DdM(2,ba)),t.xp6(7),t.Q6J("ngForOf",e.questionList)}}function Ca(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",77)(2,"div",78),t.YNc(3,ls,1,1,"azt-loaded-img",79),t.YNc(4,fa,5,4,"div",1),t.qZA(),t.YNc(5,wa,8,3,"div",80),t.qZA()()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.exam_obj.examHeader),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}const Ea=["*"];let Aa=(()=>{class i extends A.Q{constructor(e){super(e),this.commonService=e,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.exam_obj={},this.firstInGroupIndexes=[],this.timeCount={},this.questionList=[],this.homeLink="",this.files=[],this.showUnit=!1,this.isMobile=!1,this.showList=!1,this.unLimitTime=!1,this.isShowSheet=!1,this.countQuestion=0,this.setAnswerEmitter=new t.vpe,this.setAnswerEssayEmitter=new t.vpe,this.setResultTracking=new t.vpe,this.removeImgEmitter=new t.vpe,this.openSubmitExamEmitter=new t.vpe,this.nextQuestionEmitter=new t.vpe,this.prevQuestionEmitter=new t.vpe,this.autoResizeEssayAnswerEmitter=new t.vpe,this.goToQuestionEmitter=new t.vpe,this.goToQuestionAllEmitter=new t.vpe,this.sendAudioEmitToParent=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({})}sendAudioEvent(e){e&&this.sendAudioEmitToParent.emit(e)}goToQuestion(e){this.goToQuestionEmitter.emit(e)}goToQuestionAll(e){this.goToQuestionAllEmitter.emit(e)}autoResizeEssayAnswer(e,n){this.autoResizeEssayAnswerEmitter.emit({id:e,type:n})}removeImg(e){this.removeImgEmitter.emit(e)}calcRight(){var e,n=0,o=window.outerWidth,s=null===(e=document.getElementById("container-content"))||void 0===e?void 0:e.offsetWidth;return s&&(n=(o-s)/2),n}resizeImg(e,n,o){var s,_=document.getElementById("media_content_"+e),l=null!==(s=null==_?void 0:_.offsetWidth)&&void 0!==s?s:0;return _?l/n<=1?Math.round(o*(l/n)):Math.round(o):0}nextQuestion(e){this.nextQuestionEmitter.emit(e)}prevQuestion(e){this.prevQuestionEmitter.emit(e)}openSubmitExam(){this.openSubmitExamEmitter.emit(!0)}setAnswer(e,n,o,s,_,l,r,d){var c,p,u={id:e,answerConfig:n,event:null,type:o,isImage:s,index:_},h=null!==(c=n.content)&&void 0!==c?c:"";(l||r)&&void 0!==d?(p=[d.toString(),null!=l?l:"",null!=r?r:"",e.toString()],this.setResultTracking.emit(p)):!l&&!r&&h&&void 0!==d&&(l=h,r=h,p=[d.toString(),null!=l?l:"",null!=r?r:"",e.toString()],this.setResultTracking.emit(p)),this.setAnswerEmitter.emit(u)}setAnswerType3(e,n,o,s,_){var l={id:e,answerConfig:null,event:n,type:o,isImage:s,index:_};if(this.showList)3==o&&(s?(r=document.getElementById("answer-1-unit-"+e))&&(r.value=n.target.value.trim()):(r=document.getElementById("answer-0-unit-"+e))&&(r.value=n.target.value.trim()));else if(3==o)if(s)(r=document.getElementById("answer-1-all-"+e))&&(r.value=n.target.value.trim());else{var r;(r=document.getElementById("answer-0-all-"+e))&&(r.value=n.target.value.trim())}this.setAnswerEssayEmitter.emit(l)}get extraSpace(){return Nt.Z}ngOnInit(){this.commonService.calculateGroup(this.questionList,this.exam_obj),window.setInputValueTextarea=e=>{var n=Number(e.target.getAttribute("question_id")),o=Boolean(e.target.getAttribute("isImage"));this.setAnswerType3(n,e,3,o,0)},super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),window.setInputValueTextarea=null,super.ngDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["azt-test-question-ui"]],inputs:{hasErrorMessage:"hasErrorMessage",hasEssayQuestion:"hasEssayQuestion",exam_obj:"exam_obj",firstInGroupIndexes:"firstInGroupIndexes",timeCount:"timeCount",questionList:"questionList",homeLink:"homeLink",files:"files",showUnit:"showUnit",isMobile:"isMobile",showList:"showList",unLimitTime:"unLimitTime",isShowSheet:"isShowSheet",countQuestion:"countQuestion"},outputs:{setAnswerEmitter:"setAnswerEmitter",setAnswerEssayEmitter:"setAnswerEssayEmitter",setResultTracking:"setResultTracking",removeImgEmitter:"removeImgEmitter",openSubmitExamEmitter:"openSubmitExamEmitter",nextQuestionEmitter:"nextQuestionEmitter",prevQuestionEmitter:"prevQuestionEmitter",autoResizeEssayAnswerEmitter:"autoResizeEssayAnswerEmitter",goToQuestionEmitter:"goToQuestionEmitter",goToQuestionAllEmitter:"goToQuestionAllEmitter",sendAudioEmitToParent:"sendAudioEmitToParent"},features:[t.qOj],ngContentSelectors:Ea,decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"question-unit-id",3,"id","hidden"],["class","bg-question",4,"ngIf"],["class","answer-box ml-auto mr-auto",4,"ngIf"],[1,"prev_question_btn","clickable",3,"hidden","click"],[1,"arrow_btn"],[1,"next_question_btn","clickable",3,"hidden","click"],[1,"bg-question"],[1,"question-offline-title"],[1,"question-offline-answer"],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content",3,"ngClass",4,"ngIf"],["class","answer-content",4,"ngFor","ngForOf"],[1,"answer-content"],["class","h5 mb-0 mr-2 text-white","style","align-self: center;",4,"ngIf"],["class","list-answer mt-auto mb-auto",4,"ngIf"],[1,"btn","btn-ans-result","ml-auto",3,"click"],[2,"vertical-align","middle","color","#fff"],["style","vertical-align: middle; color: #fff; font-weight: bold;",4,"ngIf"],[1,"h5","mb-0","mr-2","text-white",2,"align-self","center"],[1,"list-answer","mt-auto","mb-auto"],[1,"listda","mt-0","mb-0","pl-0"],["class","listli",3,"click",4,"ngFor","ngForOf"],[1,"listli",3,"click"],["class","no-answered","style","background: #fff; color: #111;",4,"ngIf"],["class","no-answered","style","background-color: rgba(243, 156, 18, 1);color: rgb(255, 255, 255);",4,"ngIf"],[1,"no-answered",2,"background","#fff","color","#111"],[1,"no-answered",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"vertical-align","middle","color","#fff","font-weight","bold"],[1,"answer-content",3,"ngClass"],[1,"list-answer","d-flex",2,"width","100%"],["class","h5 mb-1 mr-2 text-white","style","align-self: center;",4,"ngIf"],[1,"row",2,"width","75%",3,"ngClass"],[1,"col-sm-12","mb-1"],["oninput","setInputValueTextarea($event)",1,"form-control","ml-2","mt-1","mr-2",3,"id","value","focus","keyup","change"],[1,"text-right"],[1,"btn","btn-ans-result","ml-auto",3,"ngClass","click"],[1,"h5","mb-1","mr-2","text-white",2,"align-self","center"],[1,"listda","mt-0","pl-0","mb-0"],["class","listli ",3,"click",4,"ngFor","ngForOf"],["class","question-content mt-1 pl-0 pr-0",3,"id","hidden",4,"ngIf"],[1,"question-content","mt-1","pl-0","pr-0",3,"id","hidden"],[1,"box-slide-show",3,"ngClass"],["class","game-bar text-center pt-2",4,"ngIf"],["class","game-bar pt-2",4,"ngIf"],[1,"game-bar","text-center","pt-2"],["class","question-media",3,"id",4,"ngFor","ngForOf"],[1,"question-media",3,"id"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],["class","embed-responsive embed-responsive-21by9",4,"ngIf"],[3,"imgSrc",4,"ngIf"],[1,"embed-responsive","embed-responsive-21by9"],[1,"embed-responsive-item",3,"src"],[3,"imgSrc"],[1,"game-bar","pt-2"],["class","groupContent contentDocx mb-3","style","padding: 5px 15px;",4,"ngIf"],[2,"padding","5px 15px"],[2,"font-weight","450","font-size","24px"],[1,"contentDocx"],[1,"content-img",2,"font-size","21px","align-self","center","vertical-align","middle","line-height","2.2",3,"innerHtml"],[1,"row","mt-1","justify-content-around"],["class","col-sm-6 col-md-6 d-flex",4,"ngFor","ngForOf"],[1,"groupContent","contentDocx","mb-3",2,"padding","5px 15px"],[2,"font-size","25px","line-height","1.4",3,"innerHtml"],[1,"col-sm-6","col-md-6","d-flex"],[2,"vertical-align","middle","font-size","22px","font-weight","500","align-self","center"],[2,"font-size","21px","align-self","center","vertical-align","middle","line-height","1.4",3,"innerHtml"],["class","image_group mb-3",4,"ngIf"],[1,"image_group","mb-3"],["originalRender",""],[2,"position","relative","margin","0 auto",3,"ngStyle","id"],[3,"question"],["alt","question media",1,"img-fluid","img_respon",3,"id","src"],["id","question_ui",1,"row","justify-content-between","ml-0","mr-0","pl-0","pr-0","pb-3"],[1,"col-xl-10","pl-0","pr-0"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","col-xl-2 col-game-bar show-list",3,"ngStyle",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[3,"id"],["class","list-answer mt-auto mb-auto",3,"ngClass",4,"ngIf"],[1,"list-answer","mt-auto","mb-auto",3,"ngClass"],[1,"list-answer","d-flex",2,"width","100%",3,"ngClass"],["class","question-content mt-1 pl-0 pr-0",3,"id",4,"ngIf"],[1,"question-content","mt-1","pl-0","pr-0",3,"id"],["class","col-sm-12 col-md-6 d-flex",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","d-flex"],[1,"col-xl-2","col-game-bar","show-list",3,"ngStyle"],[1,"box-show-sheet","w-auto","mt-0"],[1,"show-sheet","text-center"],[1,"h5","mb-0","mt-3","disable-select"],[1,"sheet_content","sheet-Screen","mt-1"],[1,"listda",2,"padding-left","5px","margin-top","15px"],["class","listli","style","margin-bottom: 5px;",3,"click",4,"ngFor","ngForOf"],[1,"listli",2,"margin-bottom","5px",3,"click"],["class","no-answered","style","\n\t\t\t\t\t\t\t\t\t\tbackground-color: rgba(60, 141, 188, 1);\n\t\t\t\t\t\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t\t\t\t\t\t",4,"ngIf"],[1,"no-answered",2,"background-color","rgba(60, 141, 188, 1)","color","rgb(255, 255, 255)"]],template:function(e,n){1&e&&(t.F$t(),t.YNc(0,_s,3,1,"div",0),t.YNc(1,Ca,6,3,"div",0)),2&e&&(t.Q6J("ngIf",n.showUnit),t.xp6(1),t.Q6J("ngIf",n.showList))},dependencies:[f.mk,f.sg,f.O5,f.PC,W.Hw,Qt.l,In,Dn,w.yl,w.HU,w.DC,w.Tf,w.UG],styles:[".box-slide-show[_ngcontent-%COMP%]{background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:3px 3px 0 0;padding-bottom:20px;padding-right:15px;padding-left:15px;border-bottom:none}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.col-game-bar[_ngcontent-%COMP%]{position:fixed;top:calc(2rem + 30px);right:10vw;max-width:180px}.sheet-Screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-Screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-show-sheet[_ngcontent-%COMP%]{margin-top:14px!important;width:75%;margin:auto;background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:5px}.disable-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.question-content[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.button-note[_ngcontent-%COMP%]{position:relative;display:flex;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.note-box[_ngcontent-%COMP%]{display:none;background-color:#f7f3cf;margin-bottom:5px;min-height:30px}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{background:rgb(0,167,208);border-radius:0 0 3px 3px;color:#fff;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-offline-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:15px}.question-offline-answer[_ngcontent-%COMP%]{max-width:300px;padding:10px;display:flex;justify-content:space-between;font-weight:500}.question-offline-answer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}"]}),i})();const Za=["modalSaveImageUpload"];function ya(i,a){1&i&&t._UZ(0,"azt-loading-effect")}function ka(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-info",6),t.NdJ("closeDialog",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.closeShowInfo(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.showFormInfo)}}function Oa(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-monitor-screen",6),t.NdJ("closeDialog",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.closeAutoMonitor(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataMonitorAuto)}}function Sa(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-check-essay",7),t.NdJ("closeEssayDialog",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.closeEssayDialog(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataEssayPopup)}}function Ia(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"azt-preview-media",13),t.NdJ("closePreview",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onFileClose())}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("fileOption",e.previewFile)}}function Ma(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-upload-image",14),t.NdJ("closeDialog",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.conFirmUpload(o))})("addFileMobile",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.addFileMobileUpload(o))})("isOnSelectFile",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.onSelectFileEmit(o))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("hashCode",e.hashIdUpdate)("data",e.uploadImageData)}}function Qa(i,a){if(1&i&&(t.TgZ(0,"p",24)(1,"mat-icon",27),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"date"),t.ALo(5,"date"),t.qZA()),2&i){const e=t.oxw(4);t.xp6(3),t.AsE(" Th\u1eddi gian \u0111\u01b0\u1ee3c ph\xe9p v\xe0o thi: ",t.xi3(4,2,e.exam_obj.startTime,"dd/MM/yy HH:mm")," - ",t.xi3(5,5,e.exam_obj.endTime,"dd/MM/yy HH:mm"),"")}}function qa(i,a){if(1&i&&(t.TgZ(0,"div",37),t._uU(1," H\xe3y ki\u1ec3m tra l\u1ea1i b\xe0i l\xe0m c\u1ee7a b\u1ea1n. H\u1ec7 th\u1ed1ng s\u1ebd t\u1ef1 \u0111\u1ed9ng n\u1ed9p b\xe0i sau: "),t.TgZ(2,"span",38),t._uU(3),t.qZA(),t._uU(4," : "),t.TgZ(5,"span",38),t._uU(6),t.qZA(),t._uU(7," : "),t.TgZ(8,"span",38),t._uU(9),t.qZA(),t._uU(10," ho\u1eb7c b\u1ea1n c\xf3 th\u1ec3 n\u1ed9p b\xe0i ngay b\u1eb1ng c\xe1ch \u1ea5n n\xfat b\xean d\u01b0\u1edbi. "),t.qZA()),2&i){const e=t.oxw(4);let n,o,s;t.xp6(3),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(s=e.timeCount.second)&&void 0!==s?s:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Fa(i,a){1&i&&(t.TgZ(0,"div",39)(1,"mat-icon",27),t._uU(2,"timer_off"),t.qZA(),t._uU(3,' B\u1ea1n \u0111\xe3 h\u1ebft gi\u1edd l\xe0m b\xe0i thi! H\xe3y \u1ea5n n\xfat "N\u1ed9p b\xe0i" b\xean d\u01b0\u1edbi \u0111\u1ec3 g\u1eedi b\xe0i l\xean h\u1ec7 th\u1ed1ng. N\u1ebfu n\u1ed9p mu\u1ed9n, b\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ea5m \u0111i\u1ec3m, vui l\xf2ng li\xean h\u1ec7 gi\xe1o vi\xean \u0111\u1ec3 ph\xfac kh\u1ea3o! '),t.qZA())}function Pa(i,a){1&i&&(t.TgZ(0,"div",39)(1,"mat-icon",27),t._uU(2,"timer_off"),t.qZA(),t._uU(3,' B\u1ea1n \u0111\xe3 qu\xe1 gi\u1edd n\u1ed9p b\xe0i thi! H\xe3y \u1ea5n n\xfat "N\u1ed9p mu\u1ed9n" b\xean d\u01b0\u1edbi \u0111\u1ec3 g\u1eedi b\xe0i l\xean h\u1ec7 th\u1ed1ng. B\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ea5m \u0111i\u1ec3m, vui l\xf2ng li\xean h\u1ec7 gi\xe1o vi\xean \u0111\u1ec3 ph\xfac kh\u1ea3o! '),t.qZA())}function Ja(i,a){if(1&i&&(t.TgZ(0,"div",52),t._UZ(1,"azt-loaded-img",53),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("imgSrc",e.questionContentParse[0].groupUrl)}}function Na(i,a){if(1&i&&(t._UZ(0,"azt-loaded-img",53),t.ALo(1,"mycdn")),2&i){const e=t.oxw(2).$implicit;t.Q6J("imgSrc",t.lcZ(1,1,e.questionContentParse[0].url))}}function ja(i,a){if(1&i&&(t.TgZ(0,"div",54),t.YNc(1,Na,2,3,"azt-loaded-img",55),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf","png"==e.questionContentParse[0].extension||"jpg"==e.questionContentParse[0].extension)}}function Ua(i,a){if(1&i&&(t.TgZ(0,"div",54),t._UZ(1,"img",56),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.s9C("src",e.mixDataImg,t.LSH)}}function Da(i,a){if(1&i&&(t.TgZ(0,"div",63)(1,"span",64),t._uU(2),t.qZA(),t._uU(3,"\xa0 "),t._UZ(4,"div",60),t.qZA()),2&i){const e=a.$implicit;t.xp6(2),t.hij("",e.alpha?e.alpha:e.key,"."),t.xp6(2),t.Q6J("innerHtml",e.content,t.oJD)}}function Ya(i,a){if(1&i&&(t.TgZ(0,"div",57)(1,"p",58),t._uU(2),t.qZA(),t.TgZ(3,"div",59),t._UZ(4,"div",60),t.qZA(),t.TgZ(5,"div",61),t.YNc(6,Da,5,2,"div",62),t.qZA()()),2&i){const e=t.oxw().$implicit;let n;t.xp6(2),t.hij("C\xe2u\xa0",(null!==(n=e.index)&&void 0!==n?n:0)<9?"0"+((null!==(n=e.index)&&void 0!==n?n:0)+1):(null!==(n=e.index)&&void 0!==n?n:0)+1,":"),t.xp6(2),t.Q6J("innerHtml",e.questionContentParse[0].content,t.oJD),t.xp6(2),t.Q6J("ngForOf",e.answerConfigParse)}}function La(i,a){if(1&i&&(t.TgZ(0,"span",69),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.choseAnswer," ")}}function za(i,a){1&i&&(t.TgZ(0,"span")(1,"b",70),t._uU(2,"Ch\u01b0a tr\u1ea3 l\u1eddi"),t.qZA()())}function Ha(i,a){if(1&i&&(t.TgZ(0,"div",65)(1,"p",66),t._uU(2,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n:"),t.qZA(),t.YNc(3,La,2,1,"span",67),t.YNc(4,za,3,0,"span",68),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",e.choseAnswer&&""!=e.choseAnswer),t.xp6(1),t.Q6J("ngIf",!e.choseAnswer||""==e.choseAnswer)}}function Ba(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",74),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(2).$implicit,s=t.oxw(5);let _;return t.KtG(s.autoResizeEssayAnswer({id:null!==(_=o.id)&&void 0!==_?_:0,type:4}))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw(2).$implicit;t.s9C("id","answer-0-all-"+e.id),t.uIk("question_id",e.id),t.xp6(1),t.hij("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t",e.choseAnswer,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")}}function Ga(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"textarea",74),t.NdJ("focus",function(){t.CHM(e);const o=t.oxw(2).$implicit,s=t.oxw(5);let _;return t.KtG(s.autoResizeEssayAnswer({id:null!==(_=o.id)&&void 0!==_?_:0,type:4}))}),t._uU(1,"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTh\xed sinh ch\u01b0a nh\u1eadp th\xf4ng tin\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),t.qZA()}if(2&i){const e=t.oxw(2).$implicit;t.s9C("id","answer-0-all-"+e.id),t.uIk("question_id",e.id)}}const Ra=function(i){return{"w-100":i}};function $a(i,a){if(1&i&&(t.TgZ(0,"div",65)(1,"p",66),t._uU(2,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n:"),t.qZA(),t.TgZ(3,"div",71)(4,"div",72),t.YNc(5,Ba,2,3,"textarea",73),t.YNc(6,Ga,2,2,"textarea",73),t.qZA()()()),2&i){const e=t.oxw().$implicit,n=t.oxw(5);t.xp6(3),t.Q6J("ngClass",t.VKq(3,Ra,n.isMobile)),t.xp6(2),t.Q6J("ngIf",e.choseAnswer&&""!=e.choseAnswer),t.xp6(1),t.Q6J("ngIf",!e.choseAnswer||""==e.choseAnswer)}}function Ka(i,a){if(1&i&&(t.TgZ(0,"div",44)(1,"div",45)(2,"div",46),t.YNc(3,Ja,2,1,"div",47),t.YNc(4,ja,2,1,"div",48),t.YNc(5,Ua,2,1,"div",48),t.YNc(6,Ya,7,3,"div",49),t.qZA(),t.TgZ(7,"div",50),t.YNc(8,Ha,5,2,"div",51),t.ALo(9,"isOneChoiceAnswer"),t.YNc(10,$a,7,5,"div",51),t.ALo(11,"isEssayAnswer"),t.ALo(12,"isFillAnswer"),t.qZA()()()),2&i){const e=a.$implicit;t.xp6(3),t.Q6J("ngIf",e.questionContentParse[0].groupUrl&&e.isTheFirstInGroup),t.xp6(1),t.Q6J("ngIf",1==e.isImage&&!(null!=e.name&&e.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("ngIf",1==e.isImage&&(null==e.name?null:e.name.startsWith("[PDFv2]"))),t.xp6(1),t.Q6J("ngIf",0==e.isImage),t.xp6(2),t.Q6J("ngIf",t.lcZ(9,6,e.answerType)),t.xp6(2),t.Q6J("ngIf",t.lcZ(11,8,e.answerType)||t.lcZ(12,10,e.answerType))}}function Va(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",79)(1,"a",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.openUploadImage())}),t._uU(2),t.qZA(),t.TgZ(3,"p",80),t._uU(4,"(H\u1ed7 tr\u1ee3 \u1ea2nh, Video, Audio ho\u1eb7c File PDF)"),t.qZA()()}if(2&i){const e=t.oxw(6);t.xp6(2),t.Oqu(e.files.length>0?"N\u1ed9p th\xeam":"N\u1ed9p t\u1ef1 lu\u1eadn")}}function Wa(i,a){1&i&&(t.TgZ(0,"div",81),t._uU(1,'B\u1ea1n ch\u01b0a n\u1ed9p File n\xe0o l\xean h\u1ec7 th\u1ed1ng, h\xe3y \u1ea5n n\xfat "N\u1ed9p t\u1ef1 lu\u1eadn" \u0111\u1ec3 g\u1eedi File l\xean h\u1ec7 th\u1ed1ng.'),t.qZA())}function Xa(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tab",75),t.YNc(1,Va,5,1,"div",76),t.YNc(2,Wa,2,0,"div",77),t.TgZ(3,"app-upload-ui",78),t.NdJ("changesPosImg",function(o){t.CHM(e);const s=t.oxw(5);return t.KtG(s.changesPosImg(o))})("previewFile",function(o){t.CHM(e);const s=t.oxw(5);return t.KtG(s.onShowFile(o))})("removeFile",function(o){t.CHM(e);const s=t.oxw(5);return t.KtG(s.removeImg(o))}),t.qZA()()}if(2&i){const e=t.oxw(5);t.s9C("label","T\u1ef1 lu\u1eadn ("+(e.files&&e.files.length>0?e.files.length:0)+")"),t.xp6(1),t.Q6J("ngIf",e.totalTime>-200),t.xp6(1),t.Q6J("ngIf",0==e.files.length&&e.totalTime>-200),t.xp6(1),t.Q6J("answerFiles",e.files)}}function t_(i,a){if(1&i&&(t.TgZ(0,"mat-card",40)(1,"mat-tab-group")(2,"mat-tab",41),t.YNc(3,Ka,13,12,"div",42),t.qZA(),t.YNc(4,Xa,4,4,"mat-tab",43),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(3),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion)}}function e_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",20)(1,"mat-card",21)(2,"mat-card-content")(3,"div",22)(4,"p",23),t._uU(5),t.qZA(),t.TgZ(6,"p",24),t._uU(7),t.qZA(),t.TgZ(8,"div",25)(9,"p",26)(10,"mat-icon",27),t._uU(11,"timer"),t.qZA(),t._uU(12),t.qZA(),t.TgZ(13,"p",24)(14,"mat-icon",27),t._uU(15,"help_outline"),t.qZA(),t._uU(16),t.qZA()(),t.YNc(17,Qa,6,8,"p",28),t.TgZ(18,"p",29),t._uU(19),t.ALo(20,"date"),t.qZA()(),t.YNc(21,qa,11,3,"div",30),t.qZA()(),t.YNc(22,Fa,4,0,"div",31),t.YNc(23,Pa,4,0,"div",31),t.TgZ(24,"div",32)(25,"a",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.endTimeBackBtn())}),t._uU(26,"Tho\xe1t"),t.qZA(),t.TgZ(27,"a",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.endTimeSubmitBtn())}),t._uU(28),t.qZA()(),t.TgZ(29,"div",35),t.YNc(30,t_,5,2,"mat-card",36),t.qZA(),t.TgZ(31,"div",35)(32,"a",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.endTimeBackBtn())}),t._uU(33,"Tho\xe1t"),t.qZA(),t.TgZ(34,"a",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.endTimeSubmitBtn())}),t._uU(35),t.qZA()()()}if(2&i){const e=t.oxw(3);t.xp6(5),t.Oqu(e.exam_obj.name),t.xp6(2),t.hij("M\xe3 \u0111\u1ec1: ",e.exam_obj.hashId,""),t.xp6(5),t.hij(" Th\u1eddi gian: ",e.exam_obj.minutes," ph\xfat"),t.xp6(4),t.hij(" S\u1ed1 c\xe2u: ",e.countQuestion,""),t.xp6(1),t.Q6J("ngIf",e.exam_obj.startTime&&e.exam_obj.endTime),t.xp6(2),t.AsE("Th\xed sinh: ",e.userObj.fullName," - V\xe0o thi l\xfac: ",t.xi3(20,13,e.testingResultObj.startedTest,"dd/MM/yy HH:mm"),""),t.xp6(2),t.Q6J("ngIf",e.totalTime>=-90&&e.totalTime<=0),t.xp6(1),t.Q6J("ngIf",e.totalTime>=-300),t.xp6(1),t.Q6J("ngIf",e.totalTime<-300),t.xp6(5),t.Oqu(e.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i"),t.xp6(2),t.Q6J("ngIf",e.questionList.length>0),t.xp6(5),t.Oqu(e.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i")}}function i_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-exit-exam",85),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.closeQuitDialog())})("redirectToHomepage",function(o){t.CHM(e);const s=t.oxw(5);return t.KtG(s.redirectToHomepage(o))}),t.qZA()}if(2&i){const e=t.oxw(5);t.Q6J("data",e.quitTestData)}}function n_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-comfirm-exam",85),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.closeSubmitDialog())})("redirectToHomepage",function(o){t.CHM(e);const s=t.oxw(5);return t.KtG(s.confirmSubmit(o))}),t.qZA()}if(2&i){const e=t.oxw(5);t.Q6J("data",e.submitData)}}function o_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-name",6),t.NdJ("closeDialog",function(o){t.CHM(e);const s=t.oxw(5);return t.KtG(s.closeSubmitName(o))}),t.qZA()}if(2&i){const e=t.oxw(5);t.Q6J("data",e.submitNameData)}}const s_=function(i){return{"time-almost-end":i}};function a_(i,a){if(1&i&&(t.TgZ(0,"div",97)(1,"span",38),t._uU(2),t.qZA(),t._uU(3," : "),t.TgZ(4,"span",38),t._uU(5),t.qZA(),t._uU(6," : "),t.TgZ(7,"span",38),t._uU(8),t.qZA()()),2&i){const e=t.oxw(7);let n,o,s;t.Q6J("ngClass",t.VKq(4,s_,e.timeCount.almostEnd)),t.xp6(2),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(s=e.timeCount.second)&&void 0!==s?s:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function __(i,a){1&i&&(t.TgZ(0,"div",98)(1,"span",38),t._uU(2," Kh\xf4ng gi\u1edbi h\u1ea1n "),t.qZA()())}function l_(i,a){if(1&i&&(t.TgZ(0,"div",92)(1,"div",93)(2,"mat-icon",94),t._uU(3,"access_time"),t.qZA()(),t.YNc(4,a_,9,6,"div",95),t.YNc(5,__,3,0,"div",96),t.qZA()),2&i){const e=t.oxw(6);t.xp6(4),t.Q6J("ngIf",!e.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.unLimitTime)}}function r_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",99),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.routerBackSelectStudent())}),t.TgZ(1,"div",93)(2,"mat-icon",100),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"div",101)(5,"span",102),t._uU(6,"Quay l\u1ea1i"),t.qZA()()()}}function c_(i,a){if(1&i&&(t.TgZ(0,"p",105),t._uU(1),t.qZA()),2&i){const e=t.oxw(7);t.xp6(1),t.hij("Th\xed sinh: ",e.userObj.fullName,"")}}function d_(i,a){if(1&i&&(t.TgZ(0,"div",103),t.YNc(1,c_,2,1,"p",104),t.qZA()),2&i){const e=t.oxw(6);t.xp6(1),t.Q6J("ngIf",!e.isEmpty(e.userObj)&&e.userObj)}}function u_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",116),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.goBackFullScreen())}),t._uU(1,"To\xe0n m\xe0n h\xecnh"),t.qZA()}}function m_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",117),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.openUploadImage())}),t._uU(1,"\u0110\xednh k\xe8m b\xe0i T\u1ef1 lu\u1eadn "),t.qZA()}}function p_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",106)(1,"div",107),t.YNc(2,u_,2,0,"a",108),t.TgZ(3,"div",109)(4,"p",110),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.changeShowType(1))}),t.TgZ(5,"mat-icon",111),t._uU(6,"format_list_bulleted"),t.qZA()(),t.TgZ(7,"p",112),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.changeShowType(2))}),t.TgZ(8,"mat-icon",111),t._uU(9,"view_compact"),t.qZA()()(),t.TgZ(10,"div")(11,"a",113),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.openQuitDialog())}),t._uU(12,"Tho\xe1t "),t.qZA(),t.YNc(13,m_,2,0,"a",114),t.TgZ(14,"a",115),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.openSubmitExam(!0,!1))}),t._uU(15,"N\u1ed9p b\xe0i"),t.qZA()()()()}if(2&i){const e=t.oxw(6);t.xp6(2),t.Q6J("ngIf",e.hasMonitorScreen),t.xp6(11),t.Q6J("ngIf",e.hasEssayQuestion)}}const g_=function(i){return{"d-none":i}};function h_(i,a){if(1&i&&(t.TgZ(0,"div",86)(1,"div",87),t.YNc(2,l_,6,2,"div",88),t.YNc(3,r_,7,0,"div",89),t.qZA(),t.YNc(4,d_,2,1,"div",90),t.YNc(5,p_,16,2,"div",91),t.qZA()),2&i){const e=t.oxw(5);t.Q6J("ngClass",t.VKq(5,g_,e.isMobile&&!e.chooseChildData.isShow)),t.xp6(2),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function f_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-select-classes",118),t.NdJ("selectClassroom",function(o){t.CHM(e);const s=t.oxw(6);return t.KtG(s.closeChooseStudent(o))}),t.qZA()}if(2&i){const e=t.oxw(6);t.Q6J("dataClass",e.chooseChildData.classObjs)("isSearchTeacher",!1)("isMobile",e.isMobile)}}function x_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-send-request",121),t.NdJ("confirmSend",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.confirmSendRequest(o))})("closeDialog",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.closeRequestDialog())}),t.qZA()}if(2&i){const e=t.oxw(7);t.Q6J("data",e.sendRequestData)}}function v_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-select-student",119),t.NdJ("selectChild",function(o){t.CHM(e);const s=t.oxw(6);return t.KtG(s.closeChooseStudent(o))})("approvedByName",function(o){t.CHM(e);const s=t.oxw(6);return t.KtG(s.approvedByName(o))})("backToClass",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.backToClassList())}),t.qZA(),t.YNc(1,x_,1,1,"app-send-request",120)}if(2&i){const e=t.oxw(6);t.Q6J("data",e.chooseChildData)("showAddStudent",null==e.chooseChildData.classObj?null:e.chooseChildData.classObj.showAddStudent)("isSearchTeacher",!1)("hasBackToLink",!0)("isMobile",e.isMobile),t.xp6(1),t.Q6J("ngIf",e.sendRequestData.isShow)}}function T_(i,a){if(1&i&&(t.YNc(0,f_,1,3,"ng-template",84),t.YNc(1,v_,2,6,"ng-template",84)),2&i){const e=t.oxw(5);t.Q6J("ngIf",e.selectClass),t.xp6(1),t.Q6J("ngIf",e.selectStudent)}}function b_(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(7);t.xp6(1),t.hij(" Vui l\xf2ng quay l\u1ea1i v\xe0o l\xfac: ",t.xi3(2,1,e.exam_obj.startTime,"dd/MM/yyyy, HH:mm:ss")," ")}}function w_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"span",128),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.goToBuyExam())}),t.TgZ(1,"span",129),t._uU(2,"\u0110i mua"),t.qZA(),t.TgZ(3,"mat-icon",130),t._uU(4,"shopping_cart"),t.qZA()()}}const C_=function(i){return[i]};function E_(i,a){if(1&i&&(t.TgZ(0,"div",123)(1,"div",124),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,b_,3,4,"span",68),t.YNc(5,w_,5,0,"span",125),t.qZA(),t.TgZ(6,"div",126)(7,"a",127),t.ALo(8,"localize"),t._uU(9," Quay l\u1ea1i trang ch\u1ee7 "),t.qZA()()()),2&i){const e=t.oxw(6);t.xp6(2),t.hij(" ",t.lcZ(3,4,e.hasErrorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_time_smaller_than_start_time"==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf","lang_core_doest_not_owner_exam"==e.hasErrorMessage),t.xp6(2),t.Q6J("routerLink",t.VKq(8,C_,t.lcZ(8,6,e.homeLink)))}}function A_(i,a){if(1&i&&(t.TgZ(0,"span",146),t._uU(1),t.qZA()),2&i){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function Z_(i,a){if(1&i&&(t.TgZ(0,"span",147),t._uU(1),t.qZA()),2&i){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function y_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",143),t.NdJ("click",function(){const s=t.CHM(e).index,_=t.oxw(9);return t.KtG(_.goToQuestion(s))}),t.YNc(1,A_,2,2,"span",144),t.YNc(2,Z_,2,2,"span",145),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.status),t.xp6(1),t.Q6J("ngIf",1==e.status)}}function k_(i,a){if(1&i&&(t.TgZ(0,"div",137)(1,"div",138)(2,"div",139)(3,"p",140),t._uU(4,"Danh s\xe1ch c\xe2u h\u1ecfi"),t.qZA(),t.TgZ(5,"ul",141),t.YNc(6,y_,3,2,"li",142),t.qZA()()()()),2&i){const e=t.oxw(8);t.Q6J("hidden",e.isMobile),t.xp6(6),t.Q6J("ngForOf",e.questionList)}}function O_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"azt-test-question-ui",135),t.NdJ("setAnswerEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.setResultTracking(o))})("removeImgEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.removeImg(o))})("openSubmitExamEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.openSubmitExam(o))})("nextQuestionEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.prevQuestion(o))})("autoResizeEssayAnswerEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.autoResizeEssayAnswer(o))})("goToQuestionEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.goToQuestion(o))})("goToQuestionAllEmitter",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.goToQuestionAll(o))})("sendAudioEmitToParent",function(o){t.CHM(e);const s=t.oxw(7);return t.KtG(s.sendAudioForQuestion(o))}),t.YNc(1,k_,7,2,"div",136),t.qZA()}if(2&i){const e=t.oxw(7);t.Q6J("hasErrorMessage",e.hasErrorMessage)("hasEssayQuestion",e.hasEssayQuestion)("exam_obj",e.exam_obj)("firstInGroupIndexes",e.firstInGroupIndexes)("timeCount",e.timeCount)("questionList",e.questionList)("homeLink",e.homeLink)("files",e.files)("showUnit",e.showUnit)("isMobile",e.isMobile)("showList",e.showList)("unLimitTime",e.unLimitTime)("isShowSheet",e.isShowSheet)("countQuestion",e.countQuestion),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow)}}function S_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",172)(1,"a",173),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.openUploadImage())}),t.TgZ(2,"span",174),t._uU(3,"\u0110\xednh k\xe8m t\u1ef1 lu\u1eadn"),t.qZA()()()}}function I_(i,a){if(1&i&&(t.TgZ(0,"span",146),t._uU(1),t.qZA()),2&i){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function M_(i,a){if(1&i&&(t.TgZ(0,"span",147),t._uU(1),t.qZA()),2&i){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function Q_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",175),t.NdJ("click",function(){const s=t.CHM(e).index,_=t.oxw(8);return t.KtG(_.showList?_.goToQuestionAll(s):_.goToQuestion(s))}),t.YNc(1,I_,2,2,"span",144),t.YNc(2,M_,2,2,"span",145),t.qZA()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.status),t.xp6(1),t.Q6J("ngIf",1==e.status)}}function q_(i,a){if(1&i&&(t.TgZ(0,"span",165),t._uU(1),t.qZA()),2&i){const e=t.oxw(8);t.xp6(1),t.Oqu(e.userObj.fullName)}}const F_=function(i){return{"time-almost-end-mobile":i}};function P_(i,a){if(1&i&&(t.TgZ(0,"div",176)(1,"mat-icon",177),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",38),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",38),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",38),t._uU(10),t.qZA()()),2&i){const e=t.oxw(8);let n,o,s;t.Q6J("ngClass",t.VKq(4,F_,e.timeCount.almostEnd)),t.xp6(4),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(s=e.timeCount.second)&&void 0!==s?s:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function J_(i,a){1&i&&(t.TgZ(0,"div",178)(1,"mat-icon",179),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",180),t._uU(4," Kh\xf4ng gi\u1edbi h\u1ea1n "),t.qZA()())}const N_=function(i){return{"col-6":i}};function j_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",148)(2,"div",149)(3,"div",150)(4,"a",151),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.openQuitDialog())}),t.TgZ(5,"mat-icon"),t._uU(6,"power_settings_new"),t.qZA()()(),t.YNc(7,S_,4,0,"div",152),t.TgZ(8,"div",153)(9,"a",151),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.openSubmitExam(!0,!1))}),t.TgZ(10,"span",154),t._uU(11,"N\u1ed9p b\xe0i"),t.qZA(),t.TgZ(12,"mat-icon"),t._uU(13,"chevron_right"),t.qZA()()()()(),t.TgZ(14,"div",155)(15,"div",156)(16,"div",157)(17,"div",158)(18,"div",159)(19,"ul",160),t.YNc(20,Q_,3,2,"li",161),t.qZA()()()()(),t.TgZ(21,"div",162),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.showSheet(!1))}),t.TgZ(22,"div",163)(23,"p",164),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.showSheet(!0,1))}),t.TgZ(24,"mat-icon",165),t._uU(25,"format_list_bulleted"),t.qZA()(),t.TgZ(26,"p",166),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.showSheet(!0,2))}),t.TgZ(27,"mat-icon",165),t._uU(28,"view_compact"),t.qZA()()(),t.TgZ(29,"div",167)(30,"p",168),t.YNc(31,q_,2,1,"span",169),t.qZA()(),t.YNc(32,P_,11,6,"div",170),t.YNc(33,J_,5,0,"div",171),t.qZA()()()}if(2&i){const e=t.oxw(7);t.xp6(7),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(1),t.Q6J("ngClass",t.VKq(7,N_,!e.hasEssayQuestion)),t.xp6(7),t.Q6J("hidden",!e.isShowSheet),t.xp6(5),t.Q6J("ngForOf",e.questionList),t.xp6(11),t.Q6J("ngIf",!e.isEmpty(e.userObj)&&e.userObj),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.unLimitTime)}}const U_=function(i,a){return{"monitor-screen":i,"monitor-screen-mobile":a}};function D_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",123)(1,"app-upload-ui",131),t.NdJ("changesPosImg",function(o){t.CHM(e);const s=t.oxw(6);return t.KtG(s.changesPosImg(o))})("previewFile",function(o){t.CHM(e);const s=t.oxw(6);return t.KtG(s.onShowFile(o))})("removeFile",function(o){t.CHM(e);const s=t.oxw(6);return t.KtG(s.removeImg(o))}),t.qZA(),t._UZ(2,"div",132,133),t.YNc(4,O_,2,15,"azt-test-question-ui",134),t.YNc(5,j_,34,9,"div",68),t.qZA()}if(2&i){const e=t.oxw(6);t.xp6(1),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngClass",t.WLB(7,U_,!e.isMobile,e.isMobile)),t.xp6(2),t.Q6J("ngIf",!e.submitNameData.isShow),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function Y_(i,a){if(1&i&&(t.YNc(0,E_,10,10,"div",122),t.YNc(1,D_,6,10,"div",122)),2&i){const e=t.oxw(5);t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}function L_(i,a){if(1&i&&(t.ynx(0),t.YNc(1,i_,1,1,"app-exit-exam",82),t.YNc(2,n_,1,1,"app-comfirm-exam",82),t.YNc(3,o_,1,1,"app-submit-name",3),t.YNc(4,h_,6,7,"div",83),t.YNc(5,T_,2,2,"ng-template",84),t.YNc(6,Y_,2,2,"ng-template",84),t.BQk()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.quitTestData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitNameData.isShow),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function z_(i,a){if(1&i&&t.YNc(0,L_,7,6,"ng-container",68),2&i){const e=t.oxw(3);t.Q6J("ngIf",!e.errorLoadMixedAssets&&e.validForTakeTest)}}const H_=function(i,a,e){return{"time-client-pc":i,"time-client-mobile":a,"time-client-notValid":e}};function B_(i,a){if(1&i&&(t.YNc(0,e_,36,16,"div",15),t.YNc(1,z_,1,1,"ng-template",null,16,t.W1O),t.TgZ(3,"div",17)(4,"p",18)(5,"span",19),t._uU(6),t.ALo(7,"date"),t.qZA()()()),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf",!n.validForTakeTest)("ngIfElse",e),t.xp6(3),t.Q6J("ngClass",t.kEZ(7,H_,!n.isMobile&&n.validForTakeTest,n.isMobile&&n.validForTakeTest,!n.validForTakeTest)),t.xp6(3),t.Oqu(t.xi3(7,4,n.timeClient,"dd/MM/yy HH:mm"))}}function G_(i,a){if(1&i&&t._UZ(0,"azt-loading-effect",181),2&i){const e=t.oxw(2);t.Q6J("customText","\u0110ang t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi: "+e.loadMixedExamProgress+"%")}}function R_(i,a){1&i&&(t.TgZ(0,"div",182)(1,"mat-icon",27),t._uU(2,"error"),t.qZA(),t._uU(3," C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi, h\xe3y th\u1eed l\u1ea1i b\u1eb1ng c\xe1ch t\u1ea3i l\u1ea1i trang web!"),t.qZA())}function $_(i,a){if(1&i&&(t.YNc(0,Ia,1,1,"azt-preview-media",8),t.YNc(1,Ma,1,2,"app-upload-image",9),t.YNc(2,B_,8,11,"ng-template",null,10,t.W1O),t.YNc(4,G_,1,1,"azt-loading-effect",11),t.YNc(5,R_,4,0,"div",12)),2&i){const e=t.MAs(3),n=t.oxw();t.Q6J("ngIf",n.isShowPreviewFile),t.xp6(1),t.Q6J("ngIf",n.uploadImageData.isShow),t.xp6(3),t.Q6J("ngIf",n.isMixedService2&&!n.doneLoadMixedExamAssets&&!n.errorLoadMixedAssets)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",n.errorLoadMixedAssets)}}const K_=function(i){return{"pb-5 pl-0 pr-0":i}};let V_=(()=>{class i extends A.Q{constructor(e,n,o,s,_,l,r,d,c,u,h,p,x,b,k,C,I,M,y,F,T,E,v,L,N){super(o),this.fb=e,this.activeRoute=n,this.commonService=o,this.baseApiService=s,this.mixService=_,this.localStorageObjetct=l,this.mixService2=r,this.fireStoreService=d,this.cdnService=c,this.encryptService=u,this.docxService=h,this.zipdataService=p,this.timeService=x,this.monitorService=b,this.browserStorageService=k,this.userService=C,this.frontExamTrackService=I,this.frontStudentService=M,this.globalService=y,this.frontExamResultService=F,this.frontExamService=T,this.frontExamResultUploadService=E,this.customQuestionAnswerConfig=v,this.answerTypeService=L,this.homeworkExamService=N,this.subscriptions=new J.w,this.form=new g.nJ({}),this.homeLink="",this.tenantId=1,this.curCateId=0,this.hashId="",this.userAgent="",this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.exam_obj={},this.firstInGroupIndexes=[],this.testingResultObj={},this.userObj={},this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.startedTest=(0,f.p6)(new Date,"yyyy-MM-ddTHH:mm:ss Z","en_vn"),this.countQuestion=0,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={datas:""},this.hasMonitorScreen=!1,this.onTypingAnswer=!1,this.chooseChildData={studentObjs:void 0,classObj:void 0,isPendingApproved:!1,isShow:!1},this.dataProcess={},this.password="",this.backToLink="",this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.validForTakeTest=!0,this.sendingData=!1,this.acceptSendTrack=!0,this.isMixedService2=!1,this.doneLoadMixedExamAssets=!1,this.errorLoadMixedAssets=!1,this.subscription=new J.w,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.isShowPreviewFile=!1,this.previewFile={},this.oldScroll=0,this.checkTimeOutExam=!1,this.deviceId="",this.timeClient=Date.now(),this.customDocument=Object.assign({},document),this.browserName="",this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClass=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.curQuestion=0,this.showList=!0,this.showUnit=!1,this.isShowSheet=!1}get loadMixedExamProgress(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}timeOut(e){"done"==e&&location.reload()}getData(){var e=this.browserStorageService.getSimpleStorage("password_"+this.hashId),n=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.hashId);this.password=e||"",this.subscriptions.add(this.frontExamService.apiFrontExamGetObjV2Get(this.hashId,this.password,n||""!=this.tempStorageInfo?1:0,this.deviceId).subscribe(o=>{var s,_;(null===(s=o.data)||void 0===s?void 0:s.hasOwnProperty("errorMessage"))&&"lang_core_exam_password_invalid"==(null===(_=o.data)||void 0===_?void 0:_.errorMessage)?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(o)})),this.commonService.gaEvent("FrontExam_GetObj")}processData(e){var n,o,s,_,l,r,d,c,u,h,p,x,b,k,C,I,M,y,F,T,E,v,L,N,G,R,S,j,H,$,U,K,it,ot,lt,mt,pt,gt,ht;if(1==e.success)if(this.exam_obj=null!==(o=null===(n=e.data)||void 0===n?void 0:n.examObj)&&void 0!==o?o:{},this.testingResultObj=null!==(_=null===(s=e.data)||void 0===s?void 0:s.testingExamResultObj)&&void 0!==_?_:{},this.firstInGroupIndexes=this.exam_obj&&2==this.exam_obj.mixQuestion||(null!==(l=this.testingResultObj.mixquestionId)&&void 0!==l?l:-1)>0?null!==(c=this.mixService2.refindFirstInGroupIndexes(this.firstInGroupIndexes,null!==(d=null===(r=e.data)||void 0===r?void 0:r.questionObjs)&&void 0!==d?d:[]))&&void 0!==c?c:[]:null!==(h=this.commonService.parseJson(null!==(u=this.exam_obj.firstInGroupIndexes)&&void 0!==u?u:""))&&void 0!==h?h:[],this.userObj=null!==(x=null===(p=e.data)||void 0===p?void 0:p.studentObj)&&void 0!==x?x:{},this.commonService.translateMetaData({title:"L\xe0m b\xe0i: "+(null!==(k=null===(b=e.data)||void 0===b?void 0:b.examObj)&&void 0!==k&&k.name?e.data.examObj.name:""),description:null!==(I=null===(C=e.data)||void 0===C?void 0:C.examObj)&&void 0!==I&&I.name?e.data.examObj.name:""}),this.dataProcess=null!==(M=e.data)&&void 0!==M?M:{},this.baseApiService.isLogin()&&this.baseApiService.isAnonymousRole())if(this.homeworkExamService.allowAnonymousUser(null!==(T=null===(F=null===(y=this.dataProcess)||void 0===y?void 0:y.examObj)||void 0===F?void 0:F.whoAllow)&&void 0!==T?T:0)){var kr=this.baseApiService.getUserObj();this.userService.isAnonymousName(kr)?(this.stopStatusObj(),this.openSubmitName(!1)):(1==(null===(v=null===(E=e.data)||void 0===E?void 0:E.examObj)||void 0===v?void 0:v.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(D=this.commonService.parseJson(null!==(G=null===(N=null===(L=e.data)||void 0===L?void 0:L.examObj)||void 0===N?void 0:N.infoFieldsV2)&&void 0!==G?G:""))&&D.length>0&&""!=D?(this.openShowInfo(D),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj())}else this.stopStatusObj(),this.openSubmitName(!0);else if(this.homeworkExamService.mustInClassroom(null!==(j=null===(S=null===(R=this.dataProcess)||void 0===R?void 0:R.examObj)||void 0===S?void 0:S.whoAllow)&&void 0!==j?j:0))if(this.dataProcess.hasOwnProperty("studentObj")&&!this.isEmpty(null!==($=null===(H=this.dataProcess)||void 0===H?void 0:H.studentObj)&&void 0!==$?$:{})){var st=this.dataProcess.studentObj;1==(null==st?void 0:st.isVerified)?(1==(null===(K=null===(U=e.data)||void 0===U?void 0:U.examObj)||void 0===K?void 0:K.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(D=this.commonService.parseJson(null!==(it=e.data.examObj.infoFieldsV2)&&void 0!==it?it:""))&&D.length>0&&""!=D?(this.openShowInfo(D),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj()):(this.stopStatusObj(),this.openChooseStudent({student:null!=st?st:null,chooseStudentData:null,responseFrontExam:null},3))}else if(this.dataProcess.hasOwnProperty("classroomObj")&&this.isEmpty(null!==(lt=null===(ot=this.dataProcess)||void 0===ot?void 0:ot.classroomObj)&&void 0!==lt?lt:{}))this.stopStatusObj(),this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1);else{this.stopStatusObj();var zt=[];this.dataProcess.studentObjs&&this.dataProcess.studentObjs.length>0&&(zt=this.dataProcess.studentObjs.filter(Sr=>{var ft,xt;return Sr.classroomId==(null!==(xt=null===(ft=this.dataProcess.classroomObj)||void 0===ft?void 0:ft.id)&&void 0!==xt?xt:0)})),this.openChooseStudent({chooseStudentData:{studentObjs:zt,classroomObj:this.dataProcess.classroomObj,onlyOneClass:!0},student:null,responseFrontExam:null},2)}else{var D;1==(null===(pt=null===(mt=e.data)||void 0===mt?void 0:mt.examObj)||void 0===pt?void 0:pt.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(D=this.commonService.parseJson(null!==(gt=e.data.examObj.infoFieldsV2)&&void 0!==gt?gt:""))&&D.length>0&&""!=D?(this.openShowInfo(D),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj()}else this.showErrorSnack(null!==(ht=e.message)&&void 0!==ht?ht:"")}changeQuestionContent(e){for(var n,o,s,_,l,r,d,c,u,h,p,x,b,k,C,I,M,y=[],F=this.commonService.parseJson(null!==(n=this.browserStorageService.getSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id))&&void 0!==n?n:""),T=0;T<e.length;T++){let v=e[T];if(v){if(e[T].answerConfig&&(this.customQuestionAnswerConfig.isPDFVer2Question(null!==(o=v.name)&&void 0!==o?o:"",null!==(s=v.isImage)&&void 0!==s?s:-1)||this.customQuestionAnswerConfig.isDocxQuestion(null!==(_=v.isImage)&&void 0!==_?_:-1)?v.answerConfigParse=this.customQuestionAnswerConfig.changeAnswerConfigVer2(null!==(r=this.commonService.castJsonToClassObjs(ct.hj,null!==(l=e[T].answerConfig)&&void 0!==l?l:""))&&void 0!==r?r:[],v,!1):v.answerConfigParseVer1=this.customQuestionAnswerConfig.changeAnswerConfigVer1(null!==(c=this.commonService.castJsonToClassObj(ct.Ow,null!==(d=e[T].answerConfig)&&void 0!==d?d:""))&&void 0!==c?c:{},v,!1)),e[T].questionContent&&(v.questionContentParse=this.commonService.parseJson(null!==(u=e[T].questionContent)&&void 0!==u?u:""),v.questionContentParse&&(v.questionContentParse[0].firstInGroupIndexesParse=null!==(x=this.commonService.parseJson(null!==(p=null===(h=v.questionContentParse)||void 0===h?void 0:h[0].firstInGroupIndexes)&&void 0!==p?p:""))&&void 0!==x?x:[])),e[T].attachments&&(v.attachmentsParse=this.commonService.parseJson(null!==(b=e[T].attachments)&&void 0!==b?b:"")),this.answerTypeService.isEssayAnswer(e[T].answerType)&&(v.essayText=""),this.answerTypeService.isFillAnswer(e[T].answerType)&&(v.essayText=""),(null!==(k=this.exam_obj.limitAudio)&&void 0!==k?k:-1)>0)if(F){var E=F.filter(L=>L.questionId==e[T].id);E&&E.length>0&&(v.limitAudio=E[0].limitTimes+E[0].limitPlay,v.limitPlay=0)}else v.attachmentsParse&&v.attachmentsParse.length>0&&(v.limitAudio=0,v.limitPlay=0);v=Object.assign(Object.assign({},v),{index:T,status:!1}),y.push(v)}}if(null!=y&&y.length>0&&(null===(C=y[0].name)||void 0===C?void 0:C.startsWith("[PDFv2]")))if(this.exam_obj.labelsUrl&&this.exam_obj.labelsUrl.startsWith("[")){this.isMixedService2=!0;let v=this.commonService.parseJson(this.exam_obj.labelsUrl);this.totalMixedExamAssets=v.length;let L=v.map(S=>!0),N={},G=[],R=0;for(let S=0;S<v.length;S++)N[`index_${S}`]=this.cdnService.getMyCdn(v[S]);for(const S in N)if(N.hasOwnProperty(S)){let j=new Image;j.crossOrigin="anonymous";let H=N[S],$=0;j.onload=()=>{this.countLoadedMixedAssets++,R++,G[parseInt(S.split("_")[1],10)]=j,R==v.length&&(this.mixService2.drawMixQuestionTS(G,y,this.exam_obj),setTimeout(()=>{this.doneLoadMixedExamAssets=!0},1e3))},j.onerror=()=>{$<2?setTimeout(()=>{let U="";U=0===$?this.cdnService.isViettelCDN(U)?this.cdnService.getRawCdnLink(H)+"?t="+Date.now():this.cdnService.getRawCdnLink(H):this.cdnService.getRawCdnLink(H)+"?t="+Date.now(),j.src=U,$++},3e3):(L[parseInt(S.split("_")[1],10)]=!1,this.errorLoadMixedAssets=!0,this.mixService2.trackPdfV2Error(H))},j.src=H}}else this.mixService.drawMixQuestionTS(null!==(I=this.exam_obj.labelsUrl)&&void 0!==I?I:"",y,this.exam_obj);return(null!==(M=this.exam_obj.limitAudio)&&void 0!==M?M:-1)>0?this.removeNullContent(this.addAudioObjsToQuestion(y)):this.removeNullContent(y)}addAudioObjsToQuestion(e){var n=[];return e.forEach(o=>{var s,_;if(o.attachmentsParse&&o.attachmentsParse.length>0){o.audioLimitObjs=[];let r=(null!==(s=this.exam_obj.limitAudio)&&void 0!==s?s:0)-(null!==(_=o.limitAudio)&&void 0!==_?_:0);if(r>0)for(var l=0;l<r;l++)o.audioLimitObjs.push({index:l,status:!0})}n.push(o)}),n}sendAudioForQuestion(e){for(var n,o,s,_,l,r=0;r<this.questionList.length;r++)this.questionList[r].id==(null===(n=e.obj)||void 0===n?void 0:n.id)&&(1==e.play?this.questionList[r].limitPlay=(null!==(o=this.questionList[r].limitPlay)&&void 0!==o?o:0)+1:(this.questionList[r].limitPlay=(null!==(s=this.questionList[r].limitPlay)&&void 0!==s?s:0)-1,this.questionList[r].limitAudio=(null!==(_=this.questionList[r].limitAudio)&&void 0!==_?_:0)+1,null===(l=this.questionList[r].audioLimitObjs)||void 0===l||l.forEach(d=>{d.index==e.index&&(d.status=!1)})));this.saveAudioLimitStorage()}saveAudioLimitStorage(){var e,n,o=[];this.questionList.forEach(s=>{s.attachmentsParse&&s.attachmentsParse.length>0&&o.push({questionId:s.id,limitTimes:s.limitAudio,limitPlay:s.limitPlay})}),o.length>0&&(this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(n=null===(e=this.exam_obj.id)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",this.hashId),this.browserStorageService.saveSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(o)))}compareContent(e,n){return e.key==n.content}compareContentPDF(e,n){return e.content==n.content}fillData(e){var n,o,s,_,l,r,d,c,u,h,p,x,b,k,C,I,M,y,F;this.checkResultTracking(),this.userObj=this.homeworkExamService.mustInClassroom(null!==(n=this.exam_obj.whoAllow)&&void 0!==n?n:0)&&null!==(s=null===(o=e.data)||void 0===o?void 0:o.studentObj)&&void 0!==s?s:this.baseApiService.getUserObj(),this.totalTime=null!==(l=null===(_=e.data)||void 0===_?void 0:_.countDownSecond)&&void 0!==l?l:0,this.startTestTime=null!==(d=null===(r=e.data)||void 0===r?void 0:r.startServerSecond)&&void 0!==d?d:0;var T=this.commonService.parseJson(null!==(c=this.browserStorageService.getSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id))&&void 0!==c?c:"");if(this.hashIdUpdate=null!==(h=null===(u=e.data)||void 0===u?void 0:u.hashCodeUpload)&&void 0!==h?h:"",this.sendHashIdUpdate(this.hashIdUpdate),(null===(p=e.data)||void 0===p?void 0:p.hasOwnProperty("errorMessage"))&&e.data.errorMessage)this.hasErrorMessage=e.data.errorMessage,"lang_core_exam_password_invalid"==this.hasErrorMessage?this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"):"lang_core_exam_password_invalid"==this.hasErrorMessage&&""==this.password&&(this.hasErrorMessage="lang_core_exam_password_needed",this.openSubmitName(!1,this.hashId,!0)),this.stopStatusObj();else{this.hasErrorMessage="",(null!==(k=null===(b=null===(x=e.data)||void 0===x?void 0:x.examObj)||void 0===b?void 0:b.minutes)&&void 0!==k?k:-1)>0?this.unLimitTime=!1:(this.unLimitTime=!0,this.totalTime=1),this.validForTakeTest=!((null!==(I=null===(C=e.data)||void 0===C?void 0:C.countDownSecond)&&void 0!==I?I:1)<=0&&!this.unLimitTime);let v=this.commonService.castJsonToClassObjs(ct.jI,JSON.stringify(null===(M=e.data)||void 0===M?void 0:M.questionObjs));if(this.questionList=this.changeQuestionContent(null!=v?v:[]),this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0),this.docxService.replaceCanvasBackgroundTS(this.questionList),this.commonService.calculateGroup(this.questionList,null===(y=e.data)||void 0===y?void 0:y.examObj),this.countQuestion=this.questionList.length,this.hasEssayQuestion=this.checkEssay(),this.syncData&&this.syncData.hasOwnProperty("datas")&&""!=this.syncData.datas){var E=this.commonService.parseJson(this.syncData.datas);null==T?(this.answerList=null!=E.answers?E.answers:[],this.noteList=null!=E.notes?E.notes:[],this.files=null!=E.files?this.commonService.parseJson(E.files):[],this.questionList=this.reBindDataQuestion(this.answerList)):E.saveTime<T.saveTime?(this.answerList=T.answers,this.noteList=T.notes,this.files=this.commonService.parseJson(T.files),this.questionList=this.reBindDataQuestion(this.answerList)):(this.answerList=E.answers,this.noteList=E.notes,this.files=this.commonService.parseJson(E.files),this.questionList=this.reBindDataQuestion(this.answerList))}else T&&(this.answerList=T.answers,this.noteList=T.notes,this.files=this.commonService.parseJson(T.files),this.questionList=this.reBindDataQuestion(this.answerList));this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(null!==(F=this.globalService.plusGlobalInterval("exam"))&&void 0!==F?F:0,"exam")),this.saveToStorage(this.answerList,this.noteList,this.files),this.setTimeClient()}}takeAnswerForQuestion(e,n){n.forEach(o=>{e.forEach(s=>{var _,l,r;if(s.questionId==o.id)if(this.answerTypeService.isFillAnswer(o.answerType)||this.answerTypeService.isEssayAnswer(o.answerType))o.choseAnswer=s.answerContent[0].content;else if((this.answerTypeService.isOneChoiceAnswer(o.answerType)||this.answerTypeService.isMultipleChoiceAnswer(o.answerType))&&o.answerConfigParse){var d=s.answerContent[0].index;o.choseAnswer=1==o.isImage?null!==(_=o.name)&&void 0!==_&&_.startsWith("[PDFv2]")?o.answerConfigParse[d].alpha?o.answerConfigParse[d].alpha:o.answerConfigParse[d].key:null===(r=null===(l=o.answerConfigParseVer1)||void 0===l?void 0:l[0].answerConfigV2)||void 0===r?void 0:r[d].content:o.answerConfigParse[d].alpha?o.answerConfigParse[d].alpha:o.answerConfigParse[d].key}})})}reBindDataQuestion(e){var n=[];return this.questionList.forEach(o=>{e.forEach(s=>{var _;if(s.questionId==o.id){if(0==o.isImage){if(this.answerTypeService.isEssayAnswer(o.answerType))(l=s.answerContent&&s.answerContent.length>0?s.answerContent[0].content:"")&&(o.essayText=l);else if(this.answerTypeService.isEssayAnswer(o.answerType))(l=s.answerContent&&s.answerContent.length>0?s.answerContent[0].content:"")&&(o.essayText=l);else if(o.answerConfigParse)for(var r=0;r<o.answerConfigParse.length;r++){if(this.compareContent(o.answerConfigParse[r],s.answerContent&&s.answerContent.length>0?s.answerContent[0]:{index:0,content:""})){o.answerConfigParse[r].checked=!0;break}o.answerConfigParse[r].checked=!1}}else if(1==o.isImage&&(null===(_=o.name)||void 0===_?void 0:_.startsWith("[PDFv2]"))){if(this.answerTypeService.isEssayAnswer(o.answerType))(l=s.answerContent&&s.answerContent.length>0?s.answerContent[0].content:"")&&(o.essayText=l);else if(this.answerTypeService.isFillAnswer(o.answerType))(l=s.answerContent&&s.answerContent.length>0?s.answerContent[0].content:"")&&(o.essayText=l);else if(o.answerConfigParse)for(r=0;r<o.answerConfigParse.length;r++){if(this.compareContent(o.answerConfigParse[r],s.answerContent&&s.answerContent.length>0?s.answerContent[0]:{index:0,content:""})){o.answerConfigParse[r].checked=!0;break}o.answerConfigParse[r].checked=!1}}else if(this.answerTypeService.isEssayAnswer(o.answerType))(l=s.answerContent[0].content)&&(o.essayText=l);else if(this.answerTypeService.isFillAnswer(o.answerType)){var l;(l=s.answerContent[0].content)&&(o.essayText=l)}else if(o.answerConfigParse)for(r=0;r<o.answerConfigParse.length;r++){if(this.compareContentPDF(o.answerConfigParse[r],s.answerContent?s.answerContent[0]:{index:0,content:""})){o.answerConfigParse[r].checked=!0;break}o.answerConfigParse[r].checked=!1}o.status=!0}}),n.push(o)}),n}reBindNote(){this.noteList.forEach(e=>{if(Array.isArray(e.noteContent)){var n=e.noteContent[0].content;jQuery("#note_box_"+e.questionId).val(n),jQuery("#note_box_all_"+e.questionId).val(n)}})}approvedByName(e){var n,o={fullName:e.nameEmit,examHashId:null===(n=this.dataProcess.examObj)||void 0===n?void 0:n.hashId,classroomId:e.classId?e.classId:0};this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForExamPost(o).subscribe(s=>{var _;1==s.success?(this.getData(),this.chooseChildData={isPendingApproved:!1,isShow:!1}):this.showErrorSnack(null!==(_=s.message)&&void 0!==_?_:"")}))}openChooseStudent(e,n){var o,s,_;e.responseFrontExam&&1==n?(this.selectStudent=!1,this.selectClass=!0,this.chooseChildData={studentObjs:void 0,classObjs:e.responseFrontExam.classroomObjs,isPendingApproved:!1,isShow:!0},e.responseFrontExam.classroomObjs&&1==(null===(o=e.responseFrontExam.classroomObjs)||void 0===o?void 0:o.length)&&this.closeChooseStudent({classObj:null!==(_=null===(s=e.responseFrontExam.classroomObjs)||void 0===s?void 0:s[0])&&void 0!==_?_:{},studentObj:{},type:1,onlyOneClass:!0})):e.chooseStudentData&&2==n?(this.selectClass=!1,this.selectStudent=!0,this.chooseChildData={studentObjs:e.chooseStudentData.studentObjs,classObj:e.chooseStudentData.classroomObj,onlyOneClass:e.chooseStudentData.onlyOneClass,isPendingApproved:!1,isShow:!0}):e.student&&(this.selectClass=!1,this.selectStudent=!0,this.chooseChildData={studentObj:e.student,isPendingApproved:!0,isShow:!0})}closeChooseStudent(e){var n,o;if(1==e.type){var s=this.dataProcess.studentObjs,_=[];s&&s.length>0&&(_=s.filter(d=>{var c,u;return d.classroomId==(null!==(u=null===(c=e.classObj)||void 0===c?void 0:c.id)&&void 0!==u?u:0)})),this.openChooseStudent({chooseStudentData:{studentObjs:_,classroomObj:e.classObj,onlyOneClass:e.onlyOneClass},student:null,responseFrontExam:null},2)}else{var r=null===(n=this.userService)||void 0===n?void 0:n.getUserObj();0==e.studentObj.isVerified||1==e.classObj.freeChooseName?this.frontStudentService.apiFrontStudentAddStudentToClassForExamGet(null===(o=this.dataProcess.examObj)||void 0===o?void 0:o.hashId,e.classId,e.studentObj.id?e.studentObj.id:0).subscribe(d=>{1==d.success?(this.getData(),this.isAfterChooseStudent=!0,this.chooseChildData={isPendingApproved:!1,isShow:!1}):(this.isAfterChooseStudent=!1,this.showErrorSnack("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u"))}):r.id==e.studentObj.parentId?(this.getData(),this.chooseChildData={isPendingApproved:!1,isShow:!1}):this.sendRequestData={studentObj:e.studentObj,classId:e.classId,isShow:!0}}}confirmSendRequest(e){e?(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showSuccessSnack("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi cho Gi\xe1o vi\xean!")):(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showErrorSnack("Ch\u01b0a th\u1ec3 g\u1eedi y\xeau c\u1ea7u! Vui l\xf2ng th\u1eed l\u1ea1i"))}closeRequestDialog(){this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1}}backToClassList(){this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1)}setTimeExam(){var e;if((null!==(e=this.exam_obj.minutes)&&void 0!==e?e:-1)>0){var n="exam",o=this.globalService.plusGlobalInterval(n);this.intervalExamTimeout=window.setInterval(()=>{try{if(o==this.globalService.getGlobalInterval(n)){const s=Math.floor(this.totalTime/3600),l=Math.floor(this.totalTime%3600/60),r=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(null!=o?o:0,n)),clearInterval(this.intervalExamTimeout)):this.timeCount=0==s&&0==l?{hour:s,minute:l,second:r,almostEnd:!0}:{hour:s,minute:l,second:r,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(s){console.log(s)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}}getTimeServer(){var e="examServerTime",n=this.globalService.plusGlobalInterval(e);this.intervalGetTimeServer=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.subscriptions.add(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(o=>{var s,_,l;if(1==o.success){var r=60*(null!==(s=this.exam_obj.minutes)&&void 0!==s?s:0),d=null!==(l=null===(_=o.data)||void 0===_?void 0:_.curServerTime)&&void 0!==l?l:0;this.totalTime=this.startTestTime+r-d,Math.floor(this.totalTime/3600),Math.floor(this.totalTime%3600/60),this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(null!=n?n:0,e)),clearInterval(this.intervalGetTimeServer))}})):clearInterval(this.intervalGetTimeServer)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}randomIntFromInterval(e,n){return Math.floor(Math.random()*(n-e+1)+e)}setTimeAutoSubmit(e,n){var o=this.totalTime+90,s="autoSubmitTimeCount",_=this.globalService.plusGlobalInterval(s);this.intervalAutoSubmit=window.setInterval(()=>{try{if(_!=this.globalService.getGlobalInterval(s)||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const l=Math.floor(o/3600),d=Math.floor(o%3600/60),c=o%60;o<=0?(this.timeCount={hour:0,minute:0,second:0},(_==this.globalService.getGlobalInterval(s)||e==this.globalService.getGlobalInterval(n))&&!this.checkSubmit&&this.submitTest(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:l,minute:d,second:c},o-=1}}catch(l){console.log(l)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var e="getTimeClient",n=this.globalService.plusGlobalInterval(e);this.intervalTimeClient=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}setNote(e,n,o,s){for(var _={questionId:e,noteContent:[{index:o,content:n.target.value}]},l=0;l<this.noteList.length;l++)_.questionId==this.noteList[l].questionId?this.noteList[l].noteContent=_.noteContent:this.noteList.push(_);1==s?jQuery("#note_box_"+e).val(n.target.value):jQuery("#note_box_all_"+e).val(n.target.value),this.saveToStorage(this.answerList,this.noteList,this.files)}setAnswerTrueFalse(e){var n,o,s,_,l=this.answerList.filter(u=>u.questionId==e.id);if(e.answerConfig&&null!=e.index&&1==e.type){var r={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?null!==(n=e.answerConfig.content)&&void 0!==n?n:"":null!==(o=e.answerConfig.key)&&void 0!==o?o:""}]};if(l&&l.length>0)for(var d=0;d<this.answerList.length;d++)this.answerList[d].questionId==r.questionId&&this.answerList[d].answerContent.push(r.answerContent[0]);else this.answerList.push(r);this.changeStatusAnswer(r,e.index,!0,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&2==e.type){var c={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?null!==(s=e.answerConfig.content)&&void 0!==s?s:"":null!==(_=e.answerConfig.key)&&void 0!==_?_:""}]};if(l&&l.length>0)for(d=0;d<this.answerList.length;d++)this.answerList[d].questionId==c.questionId&&(this.answerList[d].answerContent=c.answerContent);else this.answerList.push(c);this.changeStatusAnswer(c,e.index,!1,e.isImage,e)}this.changeStatusQuestion(e.id)}setAnswerEssay(e){var n=!0,o=this.answerList.filter(u=>u.questionId==e.id);if(e.event&&null!=e.index&&3==e.type)if(this.onTypingAnswer=!0,null!=e.event.target.value){var s={questionId:e.id,answerContent:[{index:e.index,content:e.event.target.value.trim()}]};if(o&&o.length>0){for(var _=0;_<this.answerList.length;_++)if(this.answerList[_].questionId==s.questionId){for(var l=0;l<this.answerList[_].answerContent.length;l++)this.answerList[_].answerContent[l].index==s.answerContent[0].index&&(this.answerList[_].answerContent[l].content=s.answerContent[0].content);var r=this.answerList[_].answerContent.filter(u=>u.index==s.answerContent[0].index);r&&0==r.length&&this.answerList[_].answerContent.push(s.answerContent[0])}this.onTypingAnswer=!1}else this.answerList.push(s),this.onTypingAnswer=!1;if(""==e.event.target.value.trim()){n=!1;var d=this.answerList.filter(u=>u.questionId==e.id);if(d&&1==d.length){var c=this.answerList.indexOf(d[0]);this.answerList.splice(c,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else n=!1;n&&this.changeStatusQuestion(e.id)}setResultTracking(e){var n,o;this.resultTracks.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(o=null===(n=this.exam_obj.id)||void 0===n?void 0:n.toString())&&void 0!==o?o:"",this.hashId),this.browserStorageService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id,JSON.stringify(this.resultTracks))}changeStatusQuestion(e){for(var n=0;n<this.questionList.length;n++)this.questionList[n].id==e&&(this.questionList[n].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}changeStatusAnswer(e,n,o,s,_){if(!o)try{this.questionList.forEach(l=>{var r,d,c;if(l.id==e.questionId)if(s){if((null===(r=l.answerConfigParseVer1)||void 0===r?void 0:r[0].answerConfigV2)&&l.answerConfigParseVer1[0].answerConfigV2.length>0){for(var u=0;u<l.answerConfigParseVer1[0].answerConfigV2.length;u++)l.answerConfigParseVer1[0].answerConfigV2[u].checked=!1;l.answerConfigParseVer1[0].answerConfigV2[n].checked=!0,this.isMobile&&_.answerConfig&&this.commonService.snackChoiceAnswer("C\xe2u "+((null!==(d=l.index)&&void 0!==d?d:0)+1)+" - Ch\u1ecdn "+(_.answerConfig.alpha?_.answerConfig.alpha:_.answerConfig.key),"")}}else if(l.answerConfigParse&&l.answerConfigParse.length>0){for(u=0;u<l.answerConfigParse.length;u++)l.answerConfigParse[u].checked=!1;l.answerConfigParse[n].checked=!0,this.isMobile&&_.answerConfig&&this.commonService.snackChoiceAnswer("C\xe2u "+((null!==(c=l.index)&&void 0!==c?c:0)+1)+" - Ch\u1ecdn "+(_.answerConfig.alpha?_.answerConfig.alpha:_.answerConfig.key),"")}})}catch(l){console.log(l)}}saveToStorage(e,n,o){var s,_;try{var l={autoSubmit:void 0,serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()},r=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),d={answers:e,notes:n,files:JSON.stringify(o),infors:r,trackInfos:JSON.stringify(l),saveTime:(new Date).getTime()};this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(_=null===(s=this.exam_obj.id)||void 0===s?void 0:s.toString())&&void 0!==_?_:"",this.hashId),this.browserStorageService.saveSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(d))}catch(c){}}checkFullScreen(){switch(this.browserName){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}handleFullscreenEvent(e){if(!this.isMobile&&!this.onShowUpload&&this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.startedTimeSecond>0&&!this.onTypingAnswer)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var n={examId:this.exam_obj.id,name:"exit_full_screen",examResultId:this.testingResultObj.id};this.acceptSendTrack=!1,this.subscriptions.add(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(n).subscribe(s=>{1==s.success?(this.commonService.snackWarning("B\u1ea1n \u0111ang b\u1ecb gi\xe1m s\xe1t. H\xe3y tr\u1edf l\u1ea1i ch\u1ebf \u0111\u1ed9 to\xe0n m\xe0n h\xecnh!",""),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}}detectBrowserName(){const e=navigator.userAgent.toLowerCase();return e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"other"}clickFromIframe(){this.clickedFromIframe||(this.clickedFromIframe=!0)}goBackFullScreen(){const e=document.documentElement;let n=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;n&&n.call(e)}exitFullscreen(){const e=document;if(window.innerHeight==screen.height){let n=e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen;n&&n.call(e)}}removeNullContent(e){var n=[];return e.forEach(o=>{o.questionContent&&o.questionContent.length>0&&n.push(o)}),n}removeImg(e){var n=this.files.filter(o=>o.url!==e);this.files=n,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng \u0111\xednh k\xe8m file t\u1ef1 lu\u1eadn")})}updateFileUploadMobile(){return new Promise(e=>{let n={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(n).subscribe(o=>{1==o.success&&e(!0)})})}calcRight(){var e,n=0,o=window.outerWidth,s=null===(e=document.getElementById("container-content"))||void 0===e?void 0:e.offsetWidth;return s&&(n=(o-s)/2),n}checkWitdh(){this.isMobile=window.innerWidth<1200}onResize(e){this.isMobile=e.target.innerWidth<1200,this.calcRight()}resizeImg(e,n,o){var s,_=document.getElementById("media_content_"+e),l=null!==(s=null==_?void 0:_.offsetWidth)&&void 0!==s?s:0;return _?l/n<=1?Math.round(o*(l/n)):Math.round(o):0}resizeImgAll(e,n,o){var s,_=document.getElementById("media_content_all_"+e),l=null!==(s=null==_?void 0:_.offsetWidth)&&void 0!==s?s:0;return _?l/n<=1?Math.round(o*(l/n)):Math.round(o):0}returnFalse(){return!1}autoResize(e,n){var o;1==n?(o=document.getElementById("note_box_"+e))&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0):(o=document.getElementById("note_box_all_"+e))&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0)}autoResizeEssayAnswer(e){if(1==e.type)(n=document.getElementById("answer-1-unit-"+e.id))&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0);else if(2==e.type)(n=document.getElementById("answer-0-unit-"+e.id))&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0);else if(3==e.type)(n=document.getElementById("answer-1-all-"+e.id))&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0);else{var n;(n=document.getElementById("answer-0-all-"+e.id))&&setTimeout(()=>{n.style.cssText="height:"+(n.scrollHeight-50)+"px",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}}checkEssay(){var e=this.questionList.filter(n=>this.answerTypeService.isEssayAnswer(n.answerType));return!!(e&&e.length>0)&&(this.checkEssayPopup&&this.openEssayDialog(),!0)}isEmpty(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}routerBackSelectStudent(){this.commonService.myNavigation("/de-thi/"+this.hashId)}redirectToHomepage(e){this.quitTestData={id:0,time:0,isShow:!1},e&&this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backToLink))}goToBuyExam(){this.commonService.myNavigation("/de-thi/"+this.exam_obj.hashId)}openSubmitName(e,n,o,s){this.submitNameData=!e&&n&&o?{needPassword:o,isShow:!0,examId:this.exam_obj.id,hashId:n,errorMessage:s||""}:{notAnonymous:e,isShow:!0}}closeSubmitName(e){e&&(this.getData(),this.submitNameData={isShow:!1})}openShowInfo(e){this.showFormInfo={infoFields:e,examId:this.exam_obj.id,hashId:this.exam_obj.hashId,isShow:!0}}closeShowInfo(e){e.success&&(this.initStatusObj(),this.tempStorageInfo=e.info,this.hasErrorMessage="",this.getData(),this.showFormInfo={infoFields:[],isShow:!1})}openAutoMonitor(){this.dataMonitorAuto={isShow:!0}}closeAutoMonitor(e){var n,o,s,_,l;if(e){this.dataMonitorAuto={isShow:!1};const u=document.documentElement;let h=u.requestFullscreen||u.webkitRequestFullscreen||u.mozRequestFullscreen||u.msRequestFullscreen;if(h&&h.call(u),this.startedTimeSecond=Math.floor(Date.now()/1e3),this.exam_obj.autoMonitor&&3==this.exam_obj.autoMonitor){if(this.isAfterChooseStudent){var r=this.baseApiService.getUserObj(),d=this.userObj,c={};c[null!==(n=d.id)&&void 0!==n?n:0]=(null===(o=null==r?void 0:r.id)||void 0===o?void 0:o.toString())+"_"+this.encryptService.createMd5((null!==(s=d.id)&&void 0!==s?s:0).toString()+(null===(_=null==r?void 0:r.id)||void 0===_?void 0:_.toString())).substring(6,9),this.fireStoreService.examSessions_writeUserMap(null!==(l=this.exam_obj.hashId)&&void 0!==l?l:"",c).subscribe(p=>{console.log("writeFirestore - success"+JSON.stringify(p))})}this.openVideoMonitor()}}}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(e){e&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1)}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(e,n,o){this.quitTestData.isShow||(this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:n,saveFalse:o}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:n,saveFalse:o})}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(e){var n;e.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),e.isConfirm&&!this.checkSubmit&&this.submitTest(null!==(n=e.isAutoSubmit)&&void 0!==n&&n)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backToLink))}endTimeSubmitBtn(){this.submitTest(!0)}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.checkMobile(),isShow:!0}:{id:this.exam_obj.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.checkMobile(),isShow:!0},e&&(e.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1)}conFirmUpload(e){var n,o=document.getElementById("monitorScreenTakeTest");"boolean"!=typeof e&&e.isConfirm?(this.files=null!==(n=e.uploadFiles)&&void 0!==n?n:[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.saveToStorage(this.answerList,this.noteList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.onShowUpload=!1),o&&(o.style.display="block")}onSelectFileEmit(e){this.onShowUpload=e}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},e.file),{index:e.index})}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng \u0111\xednh k\xe8m file t\u1ef1 lu\u1eadn")}))}sendHashIdUpdate(e){e&&(this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(n=>{var o,s,_,l,r,d;if(1==n.success&&this.commonService.isJson(null!==(_=null===(s=null===(o=n.data)||void 0===o?void 0:o.tmpObj)||void 0===s?void 0:s.files)&&void 0!==_?_:"")){var c=JSON.parse(null!==(d=null===(r=null===(l=n.data)||void 0===l?void 0:l.tmpObj)||void 0===r?void 0:r.files)&&void 0!==d?d:"");c.isNotNoti=!0,this.addFileMobileUpload({files:c})}}),this.commonService.gaEvent("FrontExam_GetTmpExamObj"))}addFileMobileUpload(e){var n;this.files=null!==(n=e.files)&&void 0!==n?n:[],this.uploadImageData={id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.checkMobile(),isShow:!!e.keepOpen}}submitTest(e){this.initStatusObj();var n=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),o=this.commonService.myClone(this.resultTracks);let s=JSON.stringify({type:"exam",id:this.exam_obj.id,user:this.exam_obj.tenantId});var _={autoSubmit:e,serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()};this.checkSubmit=!0;let l={answers:this.answerList,notes:null==this.noteList?[]:this.noteList,files:JSON.stringify(this.files),infors:n,trackInfos:JSON.stringify(_),resultTrack:this.zipdataService.convertContentGzip(JSON.stringify(o))};this.subscriptions.add(this.frontExamResultService.apiFrontExamResultSaveObjV2Post(l,s,this.hashId).subscribe(r=>{var d,c,u;if(1==r.success){this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.exam_obj.hashId+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.exam_obj.hashId+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.exam_obj.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.exam_obj.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.exam_obj.hashId+"_"+(null===(d=r.data)||void 0===d?void 0:d.id),JSON.stringify(r.data));try{this.localStorageObjetct.clearAllCache(),this.exitFullscreen(),"undefined"!=typeof aztExam&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession()}catch(p){}this.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+(null===(c=r.data)||void 0===c?void 0:c.id),"?backto="+encodeURIComponent(this.backToLink))}else this.errorStatusObj(null!==(u=r.message)&&void 0!==u?u:"",!0),e&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,e,!0)),this.submitData.messageError=r.message,setTimeout(()=>{this.checkSubmit=!1},5e3)})),this.commonService.gaEvent("FrontExam_SaveObj")}clearAllInterval(){for(var e=this.globalService.getIntervalObjs(),n=0;n<e.length;n++)clearInterval(e[n]);this.globalService.emptyIntervalObjs()}changeShowType(e){1==e?(this.showUnit=!1,this.showList=!0):(this.showUnit=!0,this.showList=!1)}showSheet(e,n){e?this.changeShowType(1==n?1:2):this.isShowSheet=!this.isShowSheet,setTimeout(()=>{let o=document.getElementById("bottom_action"),s=document.getElementById("time_client"),_=null==o?void 0:o.offsetHeight;s&&_&&(s.style.bottom=_+"px")},100)}askBeforeCloseWindow(e){return e.returnValue=!1}toggleNoteBox(e){jQuery("#note_box_"+e).hasClass("d-block")?jQuery("#note_box_"+e).removeClass("d-block"):jQuery("#note_box_"+e).addClass("d-block")}toggleNoteBoxAll(e){jQuery("#note_box_all_"+e).hasClass("d-block")?jQuery("#note_box_all_"+e).removeClass("d-block"):jQuery("#note_box_all_"+e).addClass("d-block")}prevQuestion(e){var n=jQuery("#question_"+String(e)),o=jQuery("#question_"+String(e-1));void 0!==o.attr("hidden")&&!1!==o.attr("hidden")&&(n.attr("hidden",!0),o.removeAttr("hidden"),this.curQuestion=0==e?0:e-1)}nextQuestion(e){var n=jQuery("#question_"+String(e)),o=jQuery("#question_"+String(e+1));void 0!==o.attr("hidden")&&!1!==o.attr("hidden")&&(n.attr("hidden",!0),o.removeAttr("hidden"),this.curQuestion=e==this.questionList.length-1?e:e+1)}goToQuestion(e){var n=jQuery("#question_"+String(this.curQuestion)),o=jQuery("#question_"+String(e));void 0!==o.attr("hidden")&&!1!==o.attr("hidden")&&(n.attr("hidden",!0),o.removeAttr("hidden"),this.curQuestion=e)}goToQuestionAll(e){var n=document.getElementById("question_all_"+e),o=document.getElementById("question_ui");this.files&&this.files.length>0?window.scrollTo({top:Number(null==n?void 0:n.offsetTop)+Number(null==o?void 0:o.offsetTop)-5}):window.scrollTo({top:Number(null==n?void 0:n.offsetTop)-5})}checkResultTracking(){let e=this.browserStorageService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id);e&&(this.resultTracks=this.commonService.parseJson(e))}openVideoMonitor(){var e=this.baseApiService.getUserObj(),n=this.userObj;"undefined"!=typeof aztExam&&aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var o={user:{token:e.rememberToken,userid:e.id,username:e.fullName,studentid:n?n.id:0,studentname:n?n.fullName:null},config:{domainApi:wt.N.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreenTakeTest",examconfig:this.exam_obj,examid:this.exam_obj.id,firebaseApp:this.fireStoreService,resultid:this.testingResultObj.id,isStarted:!0,clickFromIframeFunc:this.clickFromIframe,clickFromIframeFuncCaller:this};aztExam.MonitorStudent.getInstance().startSession(o)}}))}makeDeviceId(e=10){for(var n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=o.length,_=0;_<e;_++)n+=o.charAt(Math.floor(Math.random()*s));return n}getDeviceId(){var e=this.browserStorageService.getSimpleStorage("device_session");e?this.deviceId=e:(this.deviceId=this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId))}ngOnInit(){jQuery("#azota-app-html").addClass("azotaHtml"),this.form=this.fb.group({searchContent:new g.p4("",g.kI.required)}),this.checkWitdh(),this.browserName=this.detectBrowserName(),(0,at.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,n,o=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),s=null===(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===e?void 0:e.toString(),_=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));this.backToLink=null!==(n=this.commonService.getMyQueryParam("backto"))&&void 0!==n?n:"",this.curCateId=o,this.hashId=s||"",this.tenantId=_,this.homeLink="/student/dashboard/0",this.getDeviceId(),this.initStatusObj(),this.getData(),this.isMobile&&(this.userAgent=navigator.userAgent)}),super.ngOnInit()}ngOnDestroy(){this.mixService.cancelSubscription(),jQuery("#azota-app-html").removeClass("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient);for(var e=this.globalService.getIntervalObjs(),n=0;n<e.length;n++)clearInterval(e[n]);this.globalService.emptyIntervalObjs(),"undefined"!=typeof aztExam&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),super.ngDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.QS),t.Y36(P.gz),t.Y36(Z.v),t.Y36(rt._),t.Y36($e.f),t.Y36(Ke.L),t.Y36(Ve.V),t.Y36(Zt.C),t.Y36(yt.U),t.Y36(We.U),t.Y36(Xe.x),t.Y36(kt.n),t.Y36(Ot.O),t.Y36(St.M),t.Y36(_t.z),t.Y36(ti.K),t.Y36(Y.FQ),t.Y36(Y.Dn),t.Y36(It.U),t.Y36(Y.CA),t.Y36(Y.Tg),t.Y36(Y.vO),t.Y36(ct.UJ),t.Y36(ei.T),t.Y36(ut.j))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-take-test"]],viewQuery:function(e,n){if(1&e&&t.Gf(Za,5,At),2&e){let o;t.iGM(o=t.CRH())&&(n.modalSaveImageUpload=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("beforeunload",function(s){return n.askBeforeCloseWindow(s)},!1,t.Jf7)},features:[t.qOj],decls:8,vars:8,consts:[[3,"resize","contextmenu"],["id","container-content",1,"container-fluid","MW-1400","pb-5",2,"position","relative",3,"ngClass","resize"],[4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],[3,"data","closeEssayDialog",4,"ngIf"],["doneLoading",""],[3,"data","closeDialog"],[3,"data","closeEssayDialog"],[3,"fileOption","closePreview",4,"ngIf"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"customText",4,"ngIf","ngIfElse"],["class","p-5 m-5 text-center alert alert-danger",4,"ngIf"],[3,"fileOption","closePreview"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],["style","padding-bottom: 50px",4,"ngIf","ngIfElse"],["NormalContent",""],["id","time_client",1,"time-client",3,"ngClass"],[1,"mb-0","text-center"],["matTooltip","\u0110\xe2y l\xe0 th\u1eddi gian hi\u1ec7n t\u1ea1i tr\xean thi\u1ebft b\u1ecb c\u1ee7a b\u1ea1n!",2,"vertical-align","middle","font-weight","450","color","grey"],[2,"padding-bottom","50px"],[1,"text-center","margin_question_bar","ml-3","mr-3","mb-3","pb-4"],[1,"text-center"],[1,"h4",2,"color","#111"],[1,"h5"],[1,"d-flex","justify-content-center"],[1,"h5","mr-3"],[2,"vertical-align","bottom"],["class","h5",4,"ngIf"],[2,"color","#111","font-size","14px","font-weight","450","margin-top","10px"],["class","p-3 m-2 text-center alert alert-warning",4,"ngIf"],["class","p-3 m-3 alert alert-danger",4,"ngIf"],[1,"text-center","mt-2"],[1,"btn","btn-light","mr-4",2,"color","#111","font-size","14px",3,"click"],[1,"btn","btn-warning",2,"color","white","font-size","14px",3,"click"],[1,"text-center","mt-3"],["class","mt-1 ml-3 mr-3",4,"ngIf"],[1,"p-3","m-2","text-center","alert","alert-warning"],[1,"ng-binding"],[1,"p-3","m-3","alert","alert-danger"],[1,"mt-1","ml-3","mr-3"],["label","Tr\u1eafc nghi\u1ec7m"],["class","mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mb-3","mt-2"],[1,"question-content"],[1,"box-slide-show","pt-2"],["class","image_group mb-3",4,"ngIf"],["class","game-bar text-center pt-2",4,"ngIf"],["class","game-bar pt-2",4,"ngIf"],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content",4,"ngIf"],[1,"image_group","mb-3"],[3,"imgSrc"],[1,"game-bar","text-center","pt-2"],[3,"imgSrc",4,"ngIf"],["alt","question media",1,"img-fluid","img_respon",3,"src"],[1,"game-bar","pt-2"],[2,"font-weight","450","font-size","24px","text-align","left"],[1,"contentDocx","text-justify"],[2,"font-size","21px","align-self","center","vertical-align","middle","line-height","1.4",3,"innerHtml"],[1,"row","mt-1","justify-content-around"],["class","col-sm-6 col-md-6 d-flex",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","d-flex"],[2,"vertical-align","middle","font-size","22px","font-weight","500","align-self","center"],[1,"answer-content"],[1,"h5","mb-0","mr-2","text-white",2,"align-self","center"],["class","answer-review","style","background-color: rgba(243, 156, 18, 1); color: rgb(255, 255, 255)",4,"ngIf"],[4,"ngIf"],[1,"answer-review",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"color","#cd1324","font-weight","450"],[1,"row",2,"width","80%",3,"ngClass"],[1,"col-sm-12","mb-1"],["class","form-control mt-1","readonly","",3,"id","focus",4,"ngIf"],["readonly","",1,"form-control","mt-1",3,"id","focus"],[3,"label"],["class","text-center mt-1 mb-1",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","previewFile","removeFile"],[1,"text-center","mt-1","mb-1"],[1,"h6","mb-1","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],["class","row pl-0 pr-0 top_toolBar pt-2",3,"ngClass",4,"ngIf"],[3,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],[1,"row","pl-0","pr-0","top_toolBar","pt-2",3,"ngClass"],[1,"col-12","col-md-3","col-lg-3","mb-1"],["class","row",4,"ngIf"],["class","row clickable",3,"click",4,"ngIf"],["class","col-12 col-md-3 col-lg-3 mb-1 text-center align-self-center",4,"ngIf"],["class","col-12 col-md-6 col-lg-6 mb-1",4,"ngIf"],[1,"row"],[2,"padding","6px 0px 5px 15px"],[2,"font-size","25px","color","rgba(0, 167, 208, 1)"],["style","padding: 10px",3,"ngClass",4,"ngIf"],["style","padding: 10px",4,"ngIf"],[2,"padding","10px",3,"ngClass"],[2,"padding","10px"],[1,"row","clickable",3,"click"],[2,"color","rgba(0, 167, 208, 1)"],[2,"align-self","center","margin-bottom","2px"],[2,"color","#347da5"],[1,"col-12","col-md-3","col-lg-3","mb-1","text-center","align-self-center"],["style","vertical-align: middle; margin: auto",4,"ngIf"],[2,"vertical-align","middle","margin","auto"],[1,"col-12","col-md-6","col-lg-6","mb-1"],[1,"d-flex","justify-content-end","toolBar"],["class","btn btn-info mr-2","style","font-size: 13px",3,"click",4,"ngIf"],[1,"mr-2","d-flex"],["matTooltip","Xem t\u1ea5t c\u1ea3 c\xe2u h\u1ecfi",1,"mb-auto","mt-auto","clickable",3,"click"],[2,"vertical-align","middle"],["matTooltip","Xem t\u1eebng c\xe2u \u0111\u01a1n",1,"ml-1","mb-auto","mt-auto","clickable",3,"click"],[1,"btn","btn-light","mr-1",2,"font-size","13px",3,"click"],["class","btn btn-info mr-1","style","font-size: 13px",3,"click",4,"ngIf"],[1,"btn","btn-warning",2,"color","white","font-size","13px",3,"click"],[1,"btn","btn-info","mr-2",2,"font-size","13px",3,"click"],[1,"btn","btn-info","mr-1",2,"font-size","13px",3,"click"],[3,"dataClass","isSearchTeacher","isMobile","selectClassroom"],[3,"data","showAddStudent","isSearchTeacher","hasBackToLink","isMobile","selectChild","approvedByName","backToClass"],[3,"data","confirmSend","closeDialog",4,"ngIf"],[3,"data","confirmSend","closeDialog"],["class","margin_question_bar pb-4",4,"ngIf"],[1,"margin_question_bar","pb-4"],[1,"alert","alert-danger"],[3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],[3,"routerLink"],[3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","previewFile","removeFile"],["id","monitorScreenTakeTest",1,"align-self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"hasErrorMessage","hasEssayQuestion","exam_obj","firstInGroupIndexes","timeCount","questionList","homeLink","files","showUnit","isMobile","showList","unLimitTime","isShowSheet","countQuestion","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","removeImgEmitter","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","autoResizeEssayAnswerEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmitToParent",4,"ngIf"],[3,"hasErrorMessage","hasEssayQuestion","exam_obj","firstInGroupIndexes","timeCount","questionList","homeLink","files","showUnit","isMobile","showList","unLimitTime","isShowSheet","countQuestion","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","removeImgEmitter","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","autoResizeEssayAnswerEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmitToParent"],["class","box-show-sheet",3,"hidden",4,"ngIf"],[1,"box-show-sheet",3,"hidden"],[1,"show-sheet"],[1,"sheet_content","text-center","mt-3"],[1,"h5","mb-0","disable-select"],[1,"listda",2,"padding-left","5px","margin-top","15px"],["class","listli","style","margin-bottom: 5px",3,"click",4,"ngFor","ngForOf"],[1,"listli",2,"margin-bottom","5px",3,"click"],["class","no-answered","style","background: #fff; color: #111",4,"ngIf"],["class","no-answered","style","background-color: rgba(60, 141, 188, 1); color: rgb(255, 255, 255)",4,"ngIf"],[1,"no-answered",2,"background","#fff","color","#111"],[1,"no-answered",2,"background-color","rgba(60, 141, 188, 1)","color","rgb(255, 255, 255)"],[1,"top_action"],[1,"row","justify-content-between","ml-0","mr-0"],[1,"col-2","align-self-center"],[1,"clickable",2,"color","#fff",3,"click"],["class","col-6 text-center align-self-center pl-0 pr-0",4,"ngIf"],[1,"col-4","pl-0","pr-1","text-right","align-self-center",3,"ngClass"],[2,"vertical-align","top","line-height","1.8"],["id","bottom_action",1,"bottom_action"],[1,"collapse",3,"hidden"],[1,"card","card-body","mb-2",2,"padding","5px 0px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-1"],[1,"listda","mt-1","pl-1"],["class","listli mb-1",3,"click",4,"ngFor","ngForOf"],[1,"row","justify-content-between","clickable",3,"click"],[1,"col-3","d-flex","pr-1","menu-control"],["matTooltip","Xem t\u1ea5t c\u1ea3 c\xe2u h\u1ecfi",1,"mb-auto","mt-auto","mr-1","clickable",3,"click"],[2,"vertical-align","middle","color","#fff"],["matTooltip","Xem t\u1eebng c\xe2u \u0111\u01a1n",1,"ml-2","mb-auto","mt-auto","clickable",3,"click"],[1,"col-5","pl-0","pr-0","text-center","align-self-center"],[1,"mb-0","clickable"],["style","vertical-align: middle; color: #fff",4,"ngIf"],["class","col-4 text-right pl-0 align-self-center",3,"ngClass",4,"ngIf"],["class","col-6 text-center pl-0 pr-1 align-self-center",4,"ngIf"],[1,"col-6","text-center","align-self-center","pl-0","pr-0"],[1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],[1,"listli","mb-1",3,"click"],[1,"col-4","text-right","pl-0","align-self-center",3,"ngClass"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],[1,"col-6","text-center","pl-0","pr-1","align-self-center"],[1,"text-white","clickable",2,"vertical-align","middle","font-size","20px","font-weight","500","margin-right","2px"],[1,"ng-binding",2,"font-size","12px"],[3,"customText"],[1,"p-5","m-5","text-center","alert","alert-danger"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("resize",function(s){return n.handleFullscreenEvent(s)},!1,t.Jf7)("contextmenu",function(){return n.returnFalse()}),t.TgZ(1,"div",1),t.NdJ("resize",function(s){return n.onResize(s)},!1,t.Jf7),t.YNc(2,ya,1,0,"azt-loading-effect",2),t.YNc(3,ka,1,1,"app-submit-info",3),t.YNc(4,Oa,1,1,"app-monitor-screen",3),t.YNc(5,Sa,1,1,"app-check-essay",4),t.YNc(6,$_,6,5,"ng-template",null,5,t.W1O),t.qZA()()),2&e){const o=t.MAs(7);t.xp6(1),t.Q6J("ngClass",t.VKq(6,K_,n.isMobile)),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",n.showFormInfo.isShow&&n.validForTakeTest),t.xp6(1),t.Q6J("ngIf",n.dataMonitorAuto.isShow&&n.validForTakeTest),t.xp6(1),t.Q6J("ngIf",n.dataEssayPopup.isShow&&n.validForTakeTest)}},dependencies:[P.yS,f.mk,f.sg,f.O5,V.a8,V.dn,W.Hw,Mt.SP,Mt.uX,X.gM,Qt.l,et.Q,ii.p,ni.f,oi.P,si.x,ui,Si,Ui,nn,At,xn,Cn,yn,Aa,f.uU,Tt.lO,w.bT,w.GT,w.DC,w.Tf,w.UG],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.box-slide-show[_ngcontent-%COMP%]{background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:3px 3px 0 0;padding-bottom:20px;padding-right:15px;padding-left:15px;border-bottom:none}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0px;margin-left:0;margin-right:0;right:0px;width:100%;background-color:#fff;z-index:3}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.col-game-bar[_ngcontent-%COMP%]{position:fixed;top:calc(2rem + 30px);right:10vw;max-width:180px}.sheet-Screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-Screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-show-sheet[_ngcontent-%COMP%]{margin-top:14px!important;width:75%;margin:auto;background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:5px}.disable-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.question-content[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.button-note[_ngcontent-%COMP%]{position:relative;display:flex;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.note-box[_ngcontent-%COMP%]{display:none;background-color:#f7f3cf;margin-bottom:5px;min-height:30px}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{background:rgb(0,167,208);border-radius:0 0 3px 3px;color:#fff;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:5px;right:5px}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:timeCount 1s}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;-webkit-user-select:none;user-select:none}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:10px;left:75px}.time-client-mobile[_ngcontent-%COMP%]{bottom:54px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}@keyframes timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]}),i})();var W_=m(95197),X_=m(66468),tl=m(22868),el=m(51176);function il(i,a){if(1&i&&t._UZ(0,"header-frontend",4),2&i){const e=t.oxw();t.Q6J("headerTitle","Danh s\xe1ch \u0111\u1ec1 thi")("headerBackTolink",e.backToLink)}}function nl(i,a){1&i&&t._UZ(0,"azt-loading-effect")}const ol=function(i,a){return{active:i,"text-primary":a}},sl=function(i){return{clickable:i}},al=function(i){return{"truncate-bread":i}};function _l(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li",17)(1,"a",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.goBackParent(s.id?s.id:0))}),t.TgZ(2,"span",19),t._uU(3),t.qZA()()()}if(2&i){const e=a.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(5,ol,e.id!=n.cur_cateId,e.id!=n.cur_cateId)),t.xp6(1),t.Q6J("ngClass",t.VKq(8,sl,e.id!=n.cur_cateId)),t.xp6(1),t.s9C("matTooltip",e.name),t.Q6J("ngClass",t.VKq(10,al,e.id!=n.cur_cateId)),t.xp6(1),t.Oqu(e.name)}}function ll(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.cateDetail(s))}),t.TgZ(1,"mat-card",21)(2,"div",22)(3,"div",23),t._UZ(4,"img",24),t.ALo(5,"convertCdn"),t.TgZ(6,"div",25)(7,"p",26),t._uU(8),t.ALo(9,"slice"),t.qZA()()()()()()}if(2&i){const e=a.$implicit;t.xp6(4),t.Q6J("src",t.lcZ(5,2,"azota_assets/images/folder_img.png"),t.LSH),t.xp6(4),t.hij(" ",e.name&&e.name.length>100?t.Dn7(9,4,e.name,0,99)+"..":e.name,"")}}function rl(i,a){if(1&i&&(t.TgZ(0,"div",35)(1,"span",38),t._uU(2," \u0110\u1ed9 kh\xf3: "),t.TgZ(3,"span"),t._uU(4),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(e.hardLevel)}}function cl(i,a){if(1&i&&(t.TgZ(0,"div",35)(1,"span",39),t._uU(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.TgZ(3,"span"),t._uU(4),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(e.mark)}}function dl(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"a",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,s=t.oxw(2);return t.KtG(s.redirectToExamDetail(o.hashId?o.hashId:""))}),t.TgZ(1,"mat-card",21)(2,"div",32)(3,"div",22)(4,"div",33),t._UZ(5,"img",34),t.ALo(6,"convertCdn"),t.TgZ(7,"div",35)(8,"p",36),t._uU(9),t.ALo(10,"slice"),t.qZA()(),t.YNc(11,rl,5,1,"div",37),t.TgZ(12,"div",35)(13,"span",38)(14,"span"),t._uU(15),t.qZA(),t._uU(16," l\u01b0\u1ee3t l\xe0m \u0111\u1ec1 "),t.qZA()(),t.YNc(17,cl,5,1,"div",37),t.qZA()()()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.s9C("target",n.target),t.xp6(5),t.Q6J("src",t.lcZ(6,7,"azota_assets/images/u205.svg"),t.LSH),t.xp6(3),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name&&e.name.length>100?t.Dn7(10,9,e.name,0,99)+"..":e.name," "),t.xp6(2),t.Q6J("ngIf",e.hardLevel),t.xp6(4),t.Oqu(e.attended),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function ul(i,a){if(1&i&&(t.TgZ(0,"div",35)(1,"span",38),t._uU(2," \u0110\u1ed9 kh\xf3: "),t.TgZ(3,"span"),t._uU(4),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(e.hardLevel)}}function ml(i,a){if(1&i&&(t.TgZ(0,"div",35)(1,"span",39),t._uU(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.TgZ(3,"span"),t._uU(4),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(4),t.Oqu(e.mark)}}function pl(i,a){if(1&i&&(t.TgZ(0,"a",40)(1,"mat-card",21)(2,"div",32)(3,"div",22)(4,"div",33),t._UZ(5,"img",34),t.ALo(6,"convertCdn"),t.TgZ(7,"div",35)(8,"p",36),t._uU(9),t.ALo(10,"slice"),t.qZA()(),t.YNc(11,ul,5,1,"div",37),t.TgZ(12,"div",35)(13,"span",38)(14,"span"),t._uU(15),t.qZA(),t._uU(16," l\u01b0\u1ee3t l\xe0m \u0111\u1ec1 "),t.qZA()(),t.YNc(17,ml,5,1,"div",37),t.qZA()()()()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.s9C("target",n.target),t.Q6J("href","/de-thi/"+e.hashId,t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(6,8,"azota_assets/images/u205.svg"),t.LSH),t.xp6(3),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name&&e.name.length>100?t.Dn7(10,10,e.name,0,99)+"..":e.name," "),t.xp6(2),t.Q6J("ngIf",e.hardLevel),t.xp6(4),t.Oqu(e.attended),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function gl(i,a){if(1&i&&(t.TgZ(0,"div",41),t._uU(1," Gi\xe1 \u0111\u1ec1 thi: "),t.TgZ(2,"span",42),t._uU(3),t.qZA(),t._uU(4," Azo "),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.hij("",null!=e.price?e.price:0," ")}}function hl(i,a){if(1&i&&(t.TgZ(0,"div",27),t.YNc(1,dl,18,13,"a",28),t.YNc(2,pl,18,14,"a",29),t.YNc(3,gl,5,1,"div",30),t.qZA()),2&i){const e=a.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf","_blank"!=n.target),t.xp6(1),t.Q6J("ngIf","_blank"==n.target),t.xp6(1),t.Q6J("ngIf",null!=e.price&&0!=e.price)}}function fl(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"ol",7)(3,"li",8)(4,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.backToAllCate())}),t._uU(5,"All"),t.qZA()(),t.YNc(6,_l,4,12,"li",10),t.qZA()()(),t.TgZ(7,"div")(8,"div",11)(9,"div",12),t.YNc(10,ll,10,8,"div",13),t.YNc(11,hl,4,3,"div",14),t.qZA(),t.TgZ(12,"div",15)(13,"azt-paging",16),t.NdJ("SendPage",function(o){t.CHM(e);const s=t.oxw();return t.KtG(s.goToPage(o))}),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.listBreadcrumb),t.xp6(4),t.Q6J("ngForOf",e.cateObjs),t.xp6(1),t.Q6J("ngForOf",e.examObjs),t.xp6(2),t.Q6J("lengthPage",e.total_page)("paging",e.cur_page)}}let xl=(()=>{class i extends A.Q{constructor(e,n,o,s,_,l,r){super(o),this.fb=e,this.activeRoute=n,this.commonService=o,this.frontExamCategoryService=s,this.frontExamPageService=_,this.iframeService=l,this.globalService=r,this.subscriptions=new J.w,this.form=new g.nJ({}),this.cur_page=1,this.start_page=1,this.end_page=1,this.show_pages=[],this.total_page=1,this.item_per_page=18,this.limit_page=5,this.cur_cateId=0,this.tenantId=1,this.totalExam=0,this.totalObjs=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.isInIframe=!1,this.target="",this.contentHeight=0,this.backToLink="",this.paramBackToLink=""}getListParentCate(){this.subscriptions.add(this.frontExamCategoryService.apiFrontExamCategoryGetBreadcrumbsGet(this.tenantId,this.cur_cateId).subscribe(e=>{var n,o,s;1==e.success?this.listBreadcrumb=null!==(o=null===(n=e.data)||void 0===n?void 0:n.objs)&&void 0!==o?o:new Array:this.errorStatusObj(null!==(s=e.message)&&void 0!==s?s:"",!0)}))}getData(){this.backToLink=0!=this.cur_cateId?"/test/category/"+this.tenantId+"/0/"+this.cur_page:"/student/dashboard/0";var e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.cur_page=e=e>0?e:1,this.initStatusObj(),this.subscriptions.add(this.frontExamPageService.apiFrontExamPageGetObjsGet(this.tenantId,this.cur_cateId>0?this.cur_cateId:0,this.cur_page).subscribe(n=>{var o,s,_,l,r,d,c,u,h;if(1==n.success){this.cateObjs=null!==(s=null===(o=n.data)||void 0===o?void 0:o.categoryObjs)&&void 0!==s?s:new Array,this.examObjs=null!==(l=null===(_=n.data)||void 0===_?void 0:_.examObjs)&&void 0!==l?l:new Array,this.totalObjs=null!==(d=null===(r=n.data)||void 0===r?void 0:r.total)&&void 0!==d?d:0,this.totalExam=null!==(u=null===(c=n.data)||void 0===c?void 0:c.totalExam)&&void 0!==u?u:0,this.total_page=this.totalObjs%this.item_per_page>0?(this.totalObjs-this.totalObjs%this.item_per_page)/this.item_per_page+1:this.totalObjs>0?this.totalObjs/this.item_per_page:1,this.start_page=this.cur_page-this.limit_page>=1?this.cur_page-this.limit_page:1,this.end_page=this.start_page+2*this.limit_page>this.total_page?this.total_page:this.start_page+2*this.limit_page;for(var p=[],x=this.start_page;x<=this.end_page;x++)p.push(x);this.show_pages=p,this.getListParentCate(),this.successStatusObj(),setTimeout(()=>{this.checkHeight()},0)}else this.errorStatusObj(null!==(h=n.message)&&void 0!==h?h:"",!0)}))}goToPage(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.cur_cateId+"/"+e)}backToAllCate(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}cateDetail(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e.id+"/1")}goBackParent(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e+"/1")}redirectToExamDetail(e){this.commonService.myNavigationWithQueryString(`/de-thi/${e}`,"?backto="+encodeURIComponent(this.paramBackToLink))}checkHeight(){var e=document.body,n=document.documentElement,o=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.contentHeight=o,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}resizeHeight(){var e=document.body,n=document.documentElement,o=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.contentHeight=o,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}changeLogin(){this.iframeService.sendMessageToParentIframe({changeLogin:!0})}ngOnInit(){this.isInIframe=this.iframeService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.form=this.fb.group({searchContent:new g.p4("",g.kI.required)}),(0,at.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));let e=this.commonService.getMyParam(this.activeRoute,"page");this.paramBackToLink=`/test/category/${this.tenantId}/${this.cur_cateId}/${e}`,this.getData(),this.globalService.loginMessage.subscribe(n=>{this.changeLogin()}),this.commonService.translateMetaData({title:"Danh s\xe1ch \u0111\u1ec1 thi",description:"Danh s\xe1ch \u0111\u1ec1 thi"})}),this.commonService.gaEvent("FrontExam_ViewExamCategory"),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.QS),t.Y36(P.gz),t.Y36(Z.v),t.Y36(W_.n),t.Y36(X_.T),t.Y36(tl.X),t.Y36(It.U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-student-index"]],hostBindings:function(e,n){1&e&&t.NdJ("resize",function(s){return n.resizeHeight(s)},!1,t.Jf7)},features:[t.qOj],decls:5,vars:3,consts:[[3,"headerTitle","headerBackTolink",4,"ngIf"],[1,"top-bar","mt-3"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","headerBackTolink"],[1,"row","pl-0","pr-0","justify-content-between"],[1,"col-sm-12","text-left"],[1,"breadcrumb","custom-breadcrumb",2,"margin-top","2px"],[1,"breadcrumb-item","text-primary"],[1,"clickable",2,"color","#989494",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"content-zone","mt-3","pt-2","pb-2"],[1,"row"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",3,"click",4,"ngFor","ngForOf"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",4,"ngFor","ngForOf"],[1,"pt-2"],[3,"lengthPage","paging","SendPage"],[1,"breadcrumb-item",3,"ngClass"],[1,"hidden__text",3,"ngClass","click"],[3,"ngClass","matTooltip"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable",3,"click"],[1,"card-custom","box-flex"],[1,"box-title","text-center"],[1,"test","p-3"],["alt","",1,"img-fluid","folder-img",3,"src"],[1,"test-desc","text-center"],[1,"test-title","mb-0",2,"word-break","break-word"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable"],[3,"target","click",4,"ngIf"],[3,"href","target",4,"ngIf"],["style","float: right; margin-top: -20px; position: relative; margin-right: 10px; font-weight: bold;",4,"ngIf"],[3,"target","click"],[1,"box"],[1,"test","p-2","pl-3","pr-3"],["alt","",1,"test-img",3,"src"],[1,"test-desc"],[1,"test-title","mb-0","exam_name",2,"word-break","break-word",3,"matTooltip"],["class","test-desc",4,"ngIf"],[1,"test-text"],[1,"test-text","text-info"],[3,"href","target"],[2,"float","right","margin-top","-20px","position","relative","margin-right","10px","font-weight","bold"],[2,"color","#ee4d2d"]],template:function(e,n){if(1&e&&(t.YNc(0,il,1,2,"header-frontend",0),t.TgZ(1,"div",1),t.YNc(2,nl,1,0,"azt-loading-effect",2),t.YNc(3,fl,14,5,"ng-template",null,3,t.W1O),t.qZA()),2&e){const o=t.MAs(4);t.Q6J("ngIf",!n.isInIframe),t.xp6(2),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[f.mk,f.sg,f.O5,V.a8,X.gM,et.Q,nt.d,el.L,f.OU,w.BI],styles:[".top-bar[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;overflow-x:hidden;padding:15px}.folder-img[_ngcontent-%COMP%]{width:96px;height:96px}.custom-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.card-custom[_ngcontent-%COMP%]{margin:0 auto;height:230px}.box-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.box-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.test-img[_ngcontent-%COMP%]{width:30px;margin-bottom:10px}.test-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.test-desc[_ngcontent-%COMP%]{margin-top:2px;text-align:justify}.test-text[_ngcontent-%COMP%]{font-size:14px}.mat-card[_ngcontent-%COMP%]{padding:0}.truncate-bread[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:120px;white-space:nowrap}.hidden__text[_ngcontent-%COMP%]{max-width:100px;overflow:hidden;text-align:left;white-space:nowrap;text-overflow:ellipsis}"]}),i})();var vl=m(71572),Tl=m(63910);function bl(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"p",6),t._uU(2," B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1ec3 mua \u0111\u1ec1 thi. "),t.qZA(),t.TgZ(3,"a",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToRegister())}),t._uU(4," \u0110\u0103ng k\xfd "),t.qZA()()}}function wl(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"p",15),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.goToAddMoreAzo())}),t._uU(5," N\u1ea1p th\xeam Azo "),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,1,e.hasErrorMessage)," ")}}function Cl(i,a){if(1&i&&(t.TgZ(0,"div",8)(1,"p",9),t._uU(2," B\u1ea1n mu\u1ed1n mua B\xe0i thi: "),t.qZA(),t.TgZ(3,"p",10),t._uU(4),t.qZA()(),t.TgZ(5,"div",11)(6,"p",12),t._uU(7),t.qZA()(),t.YNc(8,wl,6,3,"div",13)),2&i){const e=t.oxw(2);t.xp6(4),t.hij(" ",null==e.data.examObj?null:e.data.examObj.name," "),t.xp6(3),t.hij("Gi\xe1: ",null==e.data.examObj?null:e.data.examObj.price," Azo"),t.xp6(1),t.Q6J("ngIf",""!=e.hasErrorMessage)}}function El(i,a){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",20),t._uU(2,"\xa0"),t.qZA())}function Al(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancelPayment())}),t._uU(2," H\u1ee7y "),t.qZA(),t.TgZ(3,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmBuy())}),t.YNc(4,El,3,0,"span",19),t._uU(5," X\xe1c nh\u1eadn "),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Q6J("disabled",e.statusObj.loading||""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading)}}function Zl(i,a){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,bl,5,0,"ng-template",3),t.YNc(3,Cl,9,3,"ng-template",3),t.YNc(4,Al,6,2,"div",4),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.data.needLogin),t.xp6(1),t.Q6J("ngIf",!e.data.needLogin),t.xp6(1),t.Q6J("ngIf",!e.data.needLogin)}}let yl=(()=>{class i extends A.Q{constructor(e,n,o){super(e),this.commonService=e,this.paymentService=n,this.redirectService=o,this.data={examObj:{},needLogin:!1,isShow:!1},this.closeDialog=new t.vpe,this.subscriptions=new J.w,this.form=new g.nJ({}),this.hasErrorMessage=""}confirmBuy(){var e;this.initStatusObj(),this.subscriptions.add(this.paymentService.apiPaymentBuyExamByAzoGet(null===(e=this.data.examObj)||void 0===e?void 0:e.hashId).subscribe(n=>{var o;1==n.success?(this.hasErrorMessage="",this.successStatusObj(),this.closeDialog.emit(!0)):n.hasOwnProperty("message")&&n.message&&("lang_core_doest_not_enough_azo"==n.message?(this.hasErrorMessage=n.message,this.stopStatusObj()):this.errorStatusObj(null!==(o=n.message)&&void 0!==o?o:"",!0))}))}cancelPayment(){this.closeDialog.emit(!1)}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToAddMoreAzo(){this.commonService.gaEvent("payment_exam_detail_click_to_payment_pack"),this.redirectService.redirectToBuyMoreAzo()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v),t.Y36(Tl.t),t.Y36(Ft.V))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-buy-exam"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[3,"ngIf"],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","mb-2"],[1,"clickable","h5","text-info",3,"click"],[1,"text-center","mb-1"],[1,"h5","mb-1",2,"font-size","14px"],[1,"h5","mb-1","text-info"],[1,"amount-zone","text-center"],[1,"mb-0","h4"],["class","text-center mt-2",4,"ngIf"],[1,"text-center","mt-2"],[1,"h6","mb-1",2,"font-size","14px"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","",2,"margin-right","15px",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&t.YNc(0,Zl,5,3,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[f.O5,B.lW,w.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:400px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.amount-zone[_ngcontent-%COMP%]{border:1px dashed #ff0024;padding:15px;border-radius:3px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();var kl=m(37104);function Ol(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1,"S\u1ed1 l\u01b0\u1ee3ng \u0111\xfang: "),t.TgZ(2,"span"),t._uU(3),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.AsE("",e.rightAnswer,"/",e.totalQuestion,"")}}function Sl(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi: ",e.totalQuestion,"")}}function Il(i,a){if(1&i&&(t.TgZ(0,"span",28),t._UZ(1,"azt-check-mark",29),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("mark",e.mark)}}function Ml(i,a){if(1&i&&(t.TgZ(0,"div",25)(1,"span",26),t._uU(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.qZA(),t.YNc(3,Il,2,1,"span",27),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("ngIf",null!=e.mark)}}function Ql(i,a){1&i&&(t.TgZ(0,"span",26),t._uU(1," \u0110i\u1ec3m tr\u1eafc nghi\u1ec7m c\u1ee7a b\u1ea1n: "),t.qZA())}function ql(i,a){1&i&&(t.TgZ(0,"span",26),t._uU(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.qZA())}function Fl(i,a){if(1&i&&(t.TgZ(0,"span",28),t._uU(1),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu(e.mark)}}function Pl(i,a){if(1&i&&(t.TgZ(0,"div",25),t.YNc(1,Ql,2,0,"span",30),t.YNc(2,ql,2,0,"span",30),t.YNc(3,Fl,2,1,"span",27),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null==e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark)}}function Jl(i,a){1&i&&(t.TgZ(0,"span",26),t._uU(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.qZA())}function Nl(i,a){if(1&i&&(t.TgZ(0,"span",28),t._uU(1),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu(e.mark)}}function jl(i,a){1&i&&(t.TgZ(0,"span",31),t._uU(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),t.qZA())}function Ul(i,a){if(1&i&&(t.TgZ(0,"div",25),t.YNc(1,Jl,2,0,"span",30),t.YNc(2,Nl,2,1,"span",27),t.YNc(3,jl,2,0,"span",23),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark&&null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null==e.essayMark)}}function Dl(i,a){1&i&&(t.TgZ(0,"span",31),t._uU(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),t.qZA())}const Dt=function(i){return[i]},Yt=function(i){return{backto:i}};function Yl(i,a){if(1&i&&(t.TgZ(0,"div",5),t.YNc(1,Ml,4,1,"div",22),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,Pl,4,3,"div",22),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,Ul,4,3,"div",22),t.ALo(6,"isOnlyEssay"),t.YNc(7,Dl,2,0,"span",23),t.TgZ(8,"a",24),t.ALo(9,"mylocalize"),t._uU(10,"Xem chi ti\u1ebft b\xe0i l\xe0m"),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw();let o,s,_;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,6,null!==(o=n.examObj.examType)&&void 0!==o?o:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,8,null!==(s=n.examObj.examType)&&void 0!==s?s:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,10,null!==(_=n.examObj.examType)&&void 0!==_?_:0)),t.xp6(2),t.Q6J("ngIf",null==e.mark),t.xp6(1),t.Q6J("routerLink",t.VKq(14,Dt,t.lcZ(9,12,"/test/answer-test/"+n.tenant_id+"/"+(null!=n.cur_cateId?n.cur_cateId:0)+"/"+n.hashId+"/"+e.id)))("queryParams",t.VKq(16,Yt,n.backToLink))}}function Ll(i,a){if(1&i&&(t.TgZ(0,"div",5)(1,"div",25)(2,"span",26),t._uU(3," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),t.qZA()(),t.TgZ(4,"span",31),t._uU(5,"Ch\u01b0a \u0111\u01b0\u1ee3c xem \u0111i\u1ec3m"),t.qZA(),t.TgZ(6,"a",24),t.ALo(7,"mylocalize"),t._uU(8,"Xem chi ti\u1ebft b\xe0i l\xe0m"),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(6),t.Q6J("routerLink",t.VKq(4,Dt,t.lcZ(7,2,"/test/answer-test/"+n.tenant_id+"/"+(null!=n.cur_cateId?n.cur_cateId:0)+"/"+n.hashId+"/"+e.id)))("queryParams",t.VKq(6,Yt,n.backToLink))}}function zl(i,a){if(1&i&&(t.TgZ(0,"div",8)(1,"mat-card",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"span",14)(7,"mat-icon"),t._uU(8,"access_time"),t.qZA()(),t.TgZ(9,"span",15),t._uU(10," Th\u1eddi gian l\xe0m b\xe0i: "),t.TgZ(11,"span"),t._uU(12),t.qZA()()()(),t.TgZ(13,"div",12)(14,"div",13)(15,"span",14)(16,"mat-icon"),t._uU(17,"help_outline"),t.qZA()(),t.TgZ(18,"span",15),t.YNc(19,Ol,4,2,"span",16),t.YNc(20,Sl,2,1,"span",16),t.qZA()()()()(),t.TgZ(21,"div",17),t.YNc(22,Yl,11,18,"div",18),t.YNc(23,Ll,9,8,"div",18),t.qZA(),t.TgZ(24,"div",19)(25,"div",20)(26,"span",21),t._uU(27),t.ALo(28,"date"),t.qZA()()()()()),2&i){const e=a.$implicit,n=t.oxw();t.xp6(12),t.Oqu(n.calculateTime(e.startedTest,e.createdAt)),t.xp6(7),t.Q6J("ngIf",null!=e.rightAnswer),t.xp6(1),t.Q6J("ngIf",null==e.rightAnswer),t.xp6(2),t.Q6J("ngIf",2!=n.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2==n.examObj.whenShowResult),t.xp6(4),t.Oqu(t.xi3(28,6,e.createdAt,"dd/MM/yyyy HH:mm"))}}function Hl(i,a){1&i&&(t.TgZ(0,"div",32)(1,"div",33)(2,"span",34),t._uU(3,"Loading..."),t.qZA()()())}function Bl(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.pagingData())}),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_arrow_down"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("disabled",e.disableBtn)}}let Gl=(()=>{class i extends A.Q{constructor(e,n,o){super(e),this.commonService=e,this.frontExamResultHistoryService=n,this.timeService=o,this.hashId="",this.backToLink="",this.examObj={},this.tenant_id=0,this.cur_cateId=0,this.historyObjs=[],this.page="",this.subscriptions=new J.w,this.checkClick=!1,this.disableBtn=!1}getExamHistoryByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetHistoryObjsGet(this.hashId,this.page).subscribe(e=>{var n,o,s,_,l,r,d,c,u;if(1==e.success){let h=null!==(n=e.data)&&void 0!==n&&n.objs?null===(s=null===(o=e.data)||void 0===o?void 0:o.objs)||void 0===s?void 0:s.length:0;if(null!==(_=e.data)&&void 0!==_&&_.objs)for(let p=0;p<h;p++)this.historyObjs.push(null!==(l=e.data.objs[p])&&void 0!==l?l:{});this.checkClick=!0,this.page=null!==(d=null===(r=e.data)||void 0===r?void 0:r.nextPage)&&void 0!==d?d:"",!(null===(c=e.data)||void 0===c)&&c.nextPage||(this.disableBtn=!0),this.successStatusObj()}else this.errorStatusObj(null!==(u=e.message)&&void 0!==u?u:"")})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}pagingData(){this.getExamHistoryByHashId()}calculateTime(e,n){return e?this.timeService.calculationTestedTime(e,n):""}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v),t.Y36(Y.B3),t.Y36(Ot.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",backToLink:"backToLink",examObj:"examObj",tenant_id:"tenant_id",cur_cateId:"cur_cateId"},features:[t.qOj],decls:9,vars:3,consts:[[1,"row","my-3","m-2"],[1,"col-md-12","text-center"],[1,"history"],[1,"row","m-0"],["class","col-md-12","style","margin: 0 auto; padding-top: 10px; padding-bottom: 5px",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","d-flex justify-content-center mt-3",4,"ngIf"],["class","row my-3 m-2",4,"ngIf"],[1,"col-md-12",2,"margin","0 auto","padding-top","10px","padding-bottom","5px"],[1,"text-center"],[1,"card-info"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[4,"ngIf"],[1,"row","my-2","mt-4"],["class","col-md-12",4,"ngIf"],[1,"row"],[1,"col-md-12","text-right"],[1,"text-time"],["style","display: inline-block",4,"ngIf"],["class","text-danger mr-3",4,"ngIf"],[1,"btn-redirect",2,"color","#007bff",3,"routerLink","queryParams"],[2,"display","inline-block"],[1,"score-text"],["class","score",4,"ngIf"],[1,"score"],[3,"mark"],["class","score-text",4,"ngIf"],[1,"text-danger","mr-3"],[1,"d-flex","justify-content-center","mt-3"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],["matTooltip","Xem th\xeam","mat-button","",1,"btn-all-add",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3,"L\u1ecbch s\u1eed l\xe0m b\xe0i c\u1ee7a b\u1ea1n"),t.qZA()()(),t.TgZ(4,"div",3),t.YNc(5,zl,29,9,"div",4),t.TgZ(6,"div",5),t.YNc(7,Hl,4,0,"div",6),t.qZA()(),t.YNc(8,Bl,5,1,"div",7)),2&e&&(t.xp6(5),t.Q6J("ngForOf",n.historyObjs),t.xp6(2),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!n.statusObj.loading))},dependencies:[P.yS,f.sg,f.O5,B.lW,V.a8,W.Hw,X.gM,kl.B,f.uU,w.mp,w.fV,w.sA,w.G0],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.box[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-all-add[_ngcontent-%COMP%]{text-transform:inherit}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}.score-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-right:15px}.score[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:red;margin-right:25px}.text-time[_ngcontent-%COMP%]{color:#a0a0a0}.btn-redirect[_ngcontent-%COMP%]{color:#000}@media screen and (max-width: 480px){.card-info[_ngcontent-%COMP%]{width:100%}.btn-redirect[_ngcontent-%COMP%]{margin-top:10px;display:block}.score[_ngcontent-%COMP%]{margin-right:0}}"]}),i})();function Rl(i,a){1&i&&t._UZ(0,"azt-loading-effect")}function $l(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"app-buy-exam",7),t.NdJ("closeDialog",function(o){t.CHM(e);const s=t.oxw(2);return t.KtG(s.closeBuyExamDialog(o))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("data",e.dataBuyExamDialog)}}function Kl(i,a){if(1&i&&(t.TgZ(0,"div",8),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasErrorMessage)," ")}}const Vl=function(i,a){return{"monitor-height":i,"mobile-monitor":a}};function Wl(i,a){if(1&i&&(t.TgZ(0,"div",19),t._UZ(1,"div",30,31),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.WLB(1,Vl,!e.isMobile,e.isMobile))}}function Xl(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.redirectToTakeTest())}),t._uU(1,"B\u1eaft \u0111\u1ea7u l\xe0m b\xe0i"),t.qZA()}}function tr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openBuyExam())}),t._uU(1),t.ALo(2,"number"),t.qZA()}if(2&i){const e=t.oxw(3);t.xp6(1),t.hij("Mua \u0111\u1ec1 - ",t.lcZ(2,1,e.examObj.price)," Azo")}}function er(i,a){1&i&&(t.TgZ(0,"div",33)(1,"strong"),t._uU(2,"(*)"),t.qZA(),t._uU(3," H\u1ec7 th\u1ed1ng ch\u1ec9 g\u1eedi h\xecnh \u1ea3nh v\xe0 \xe2m thanh \u0111\u1ebfn gi\xe1o vi\xean "),t.TgZ(4,"b"),t._uU(5,"trong qu\xe1 tr\xecnh l\xe0m b\xe0i thi"),t.qZA(),t._uU(6,". Ngay sau khi k\u1ebft th\xfac b\xe0i l\xe0m, h\u1ec7 th\u1ed1ng ng\u1eebng g\u1eedi d\u1eef li\u1ec7u. D\u1eef li\u1ec7u thu th\u1eadp ch\u1ec9 s\u1eed d\u1ee5ng ph\u1ee5c v\u1ee5 cho c\xf4ng t\xe1c "),t.TgZ(7,"b"),t._uU(8,"t\u1ed5 ch\u1ee9c k\u1ef3 thi"),t.qZA()())}function ir(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"h2",11),t._uU(4),t.qZA()()(),t.TgZ(5,"div",9)(6,"div",10)(7,"h2",12),t._uU(8,"M\xe3 \u0111\u1ec1 thi: "),t.TgZ(9,"span",13),t._uU(10),t.qZA(),t._UZ(11,"azt-download-qr-code",14),t.qZA()()(),t.TgZ(12,"div",9)(13,"div",15)(14,"mat-card",16),t.YNc(15,Wl,3,4,"div",17),t.TgZ(16,"div",18)(17,"div",19)(18,"div",20)(19,"div",21)(20,"span",22)(21,"mat-icon"),t._uU(22,"access_time"),t.qZA()(),t.TgZ(23,"span",23),t._uU(24," Th\u1eddi gian l\xe0m b\xe0i: "),t.TgZ(25,"span"),t._uU(26),t.qZA()()(),t.TgZ(27,"div",21)(28,"span",22)(29,"mat-icon"),t._uU(30,"people"),t.qZA()(),t.TgZ(31,"span",23),t._uU(32," S\u1ed1 l\u01b0\u1ee3t l\xe0m \u0111\u1ec1: "),t.TgZ(33,"span"),t._uU(34),t.qZA()()()(),t.TgZ(35,"div",24)(36,"div",21)(37,"span",22)(38,"mat-icon"),t._uU(39,"help_outline"),t.qZA()(),t.TgZ(40,"span",23),t._uU(41," S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi: "),t.TgZ(42,"span"),t._uU(43),t.qZA()()(),t.TgZ(44,"div",21)(45,"span",22)(46,"mat-icon"),t._uU(47,"monetization_on"),t.qZA()(),t.TgZ(48,"span",23),t._uU(49," Gi\xe1 \u0111\u1ec1 thi: "),t.TgZ(50,"span"),t._uU(51),t.qZA(),t._uU(52," Azo "),t.qZA()()()()(),t.TgZ(53,"div",25)(54,"div",26),t.YNc(55,Xl,2,0,"button",27),t.YNc(56,tr,3,3,"button",27),t.qZA()(),t.YNc(57,er,9,0,"div",28),t.qZA()()(),t._UZ(58,"app-exam-history",29),t.qZA()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(e.examObj.name),t.xp6(6),t.Oqu(e.examObj.hashId),t.xp6(1),t.Q6J("fileName","azota_exam_qrcode_"+e.examObj.hashId)("linkUrl",e.urlLocation),t.xp6(4),t.Q6J("ngIf",e.examObj.autoMonitor&&0!=e.examObj.autoMonitor),t.xp6(11),t.Oqu(e.examObj.minutes&&e.examObj.minutes>0?e.examObj.minutes+" ph\xfat":"Kh\xf4ng gi\u1edbi h\u1ea1n"),t.xp6(8),t.Oqu(null==e.totalAttended?0:e.totalAttended),t.xp6(9),t.Oqu(2==e.examObj.mixQuestion?e.examObj.limitMixQuestion:e.examObj.countQuestion),t.xp6(8),t.Oqu(null!=e.examObj.price?e.examObj.price:0),t.xp6(4),t.Q6J("ngIf",!e.isNeedBuyExam),t.xp6(1),t.Q6J("ngIf",e.isNeedBuyExam),t.xp6(1),t.Q6J("ngIf",e.examObj.autoMonitor&&3==e.examObj.autoMonitor),t.xp6(1),t.Q6J("examObj",e.examObj)("tenant_id",e.tenant_id)("cur_cateId",e.cur_cateId)("hashId",e.hashId)("backToLink",e.backToLink)}}function nr(i,a){if(1&i){const e=t.EpF();t.YNc(0,$l,1,1,"app-buy-exam",3),t.TgZ(1,"div",4),t.NdJ("resize",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.checkMobile())},!1,t.Jf7),t.YNc(2,Kl,3,3,"div",5),t.YNc(3,ir,59,17,"div",6),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("ngIf",e.dataBuyExamDialog.isShow),t.xp6(2),t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}let or=(()=>{class i extends A.Q{constructor(e,n,o,s,_,l,r){super(n),this.activeRoute=e,this.commonService=n,this.frontExamResultHistoryService=o,this.baseApiService=s,this.fireStoreService=_,this.monitorService=l,this.frontOfflineShareService=r,this.hashId="",this.examObj={},this.totalAttended=0,this.tenant_id=0,this.cur_cateId=0,this.hasErrorMessage="",this.backToLink="/student/dashboard/0",this.password="",this.isNeedBuyExam=!1,this.dataBuyExamDialog={examObj:{},isShow:!1},this.innerMonitor="",this.isMobile=!1,this.urlLocation=""}fillData(e){var n,o;(null===(n=e.data)||void 0===n?void 0:n.hasOwnProperty("errorMessage"))&&(null===(o=e.data)||void 0===o?void 0:o.errorMessage)?("lang_core_doest_not_owner_exam"==e.data.errorMessage?(this.hasErrorMessage="",this.isNeedBuyExam=!0):(this.hasErrorMessage=e.data.errorMessage,this.isNeedBuyExam=!1),this.successStatusObj()):(this.hasErrorMessage="",this.isNeedBuyExam=!1)}getExamByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetExamObjGet(this.hashId).subscribe(e=>{var n,o,s,_,l,r,d;1==e.success?(this.fillData(e),this.examObj=null!==(o=null===(n=e.data)||void 0===n?void 0:n.examObj)&&void 0!==o?o:{},this.totalAttended=null!==(_=null===(s=e.data)||void 0===s?void 0:s.totalAttended)&&void 0!==_?_:0,null!=this.examObj&&(this.cur_cateId=null!==(l=this.examObj.categoryId)&&void 0!==l?l:0,this.tenant_id=null!==(r=this.examObj.tenantId)&&void 0!==r?r:0,this.commonService.translateMetaData({title:"B\u1eaft \u0111\u1ea7u thi: "+this.examObj.name,description:this.examObj.name})),this.examObj.autoMonitor&&3==this.examObj.autoMonitor&&this.openVideoMonitor(),this.successStatusObj()):this.errorStatusObj(null!==(d=e.message)&&void 0!==d?d:"",!0)})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}openBuyExam(){this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?(this.commonService.gaEvent("payment_click_open_dialog_buy_exam"),this.dataBuyExamDialog={examObj:this.examObj,isShow:!0}):this.dataBuyExamDialog={examObj:{},needLogin:!0,isShow:!0}}closeBuyExamDialog(e){e?(this.commonService.gaEvent("payment_click_confirm_buy_exam"),this.dataBuyExamDialog={examObj:{},isShow:!1},this.commonService.snackSuccess("Mua \u0111\u1ec1 thi th\xe0nh c\xf4ng!",""),this.redirectToTakeTest()):(this.commonService.gaEvent("payment_click_cancel_buy_exam"),this.dataBuyExamDialog={examObj:{},isShow:!1})}openVideoMonitor(){var e=this.baseApiService.getUserObj();"undefined"!=typeof aztExam&&aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var n={user:{token:e.rememberToken,userid:e.id,username:e.fullName},config:{domainApi:wt.N.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreen",examconfig:this.examObj,firebaseApp:this.fireStoreService,isStarted:!1},o=aztExam.MonitorStudent.getInstance();o.prepairSession(n),this.innerMonitor=o.preview}}))}redirectToTakeTest(){this.commonService.myNavigationWithQueryString(null!=this.cur_cateId?"/test/take-test/"+this.tenant_id+"/"+this.cur_cateId+"/"+this.hashId:"/test/take-test/"+this.tenant_id+"/0/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.backToLink):"?backto="+encodeURIComponent(this.backToLink))}checkMobile(){this.isMobile=this.commonService.checkMobile()}ngOnInit(){(0,at.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,n,o;this.password=null!==(e=this.commonService.getMyQueryParam("password"))&&void 0!==e?e:"";var s=null===(n=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===n?void 0:n.toString();this.hashId=s||"",this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.backToLink=null!==(o=this.commonService.getMyQueryParam("backto"))&&void 0!==o?o:"/student/dashboard/0";let _=this.commonService.getMyQueryParam("offline");_?this.myNavigation(`/test/share-offline-result/${s}/${_}/0`):(this.checkMobile(),this.getExamByHashId())}),this.urlLocation=window.location.href,super.ngOnInit()}ngOnDestroy(){"undefined"!=typeof aztExam&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),this.subscriptions.unsubscribe(),super.ngDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.gz),t.Y36(Z.v),t.Y36(Y.B3),t.Y36(rt._),t.Y36(Zt.C),t.Y36(St.M),t.Y36(Y.bF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-student-view"]],features:[t.qOj],decls:4,vars:4,consts:[[3,"headerTitle","headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"mw-640","app","mt-4",3,"resize"],["class","alert alert-danger mt-2",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog"],[1,"alert","alert-danger","mt-2"],[1,"row","m-0"],[1,"col-md-12","text-center"],[1,"text-title",2,"word-break","break-word"],[1,"text-title",2,"word-break","break-word","font-size","16px"],[2,"color","#00a7d0"],[1,"pl-2",3,"fileName","linkUrl"],[1,"col-md-12",2,"margin","0 auto"],[1,"text-center"],["class","row my-2",4,"ngIf"],[1,"card-info","text-center"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[1,"col-12","col-sm-6","pl-md-5"],[1,"row","my-2","mt-4"],[1,"col-md-12"],["mat-raised-button","","class","btn-custom",3,"click",4,"ngIf"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","tenant_id","cur_cateId","hashId","backToLink"],["id","monitorScreen",1,"align-self-center","text-center",2,"margin","auto",3,"ngClass"],["monitorScreen",""],["mat-raised-button","",1,"btn-custom",3,"click"],[1,"note-exam","mt-1"]],template:function(e,n){if(1&e&&(t._UZ(0,"header-frontend",0),t.YNc(1,Rl,1,0,"azt-loading-effect",1),t.YNc(2,nr,4,3,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("headerTitle","B\u1eaft \u0111\u1ea7u thi")("headerBackTolink",n.backToLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[f.mk,f.O5,B.lW,V.a8,W.Hw,et.Q,nt.d,vl.o,yl,Gl,f.JJ,w.bT],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.box[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}.score-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-right:15px}.score[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:red;margin-right:25px}.text-time[_ngcontent-%COMP%]{color:#a0a0a0}.btn-redirect[_ngcontent-%COMP%]{color:#000}.monitor-height[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;padding:0;position:relative;max-width:100%}.mobile-monitor[_ngcontent-%COMP%]{height:40px;position:relative;margin-left:20px}@media screen and (max-width: 480px){.card-info[_ngcontent-%COMP%]{width:100%}.btn-redirect[_ngcontent-%COMP%]{margin-top:10px;display:block}.score[_ngcontent-%COMP%]{margin-right:0}}.note-exam[_ngcontent-%COMP%]{text-align:justify;font-size:15px;padding:20px 10px}.note-exam[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:red}"]}),i})(),sr=(()=>{class i extends A.Q{constructor(e){super(e),this.commonService=e}ngOnInit(){super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-test-dashboard"]],features:[t.qOj],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[P.lC],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),i})();var ar=m(64123),_r=m(13953);function lr(i,a){1&i&&t._UZ(0,"azt-loading-effect")}function rr(i,a){if(1&i&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,1,e.dataProcess.errorMessage))}}const cr=function(i){return{active:i}};function dr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){const s=t.CHM(e).index,_=t.oxw(4);return t.KtG(_.selectClassroom(s))}),t.TgZ(2,"div",18)(3,"span",19),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"slice"),t.ALo(9,"mytranslate"),t.ALo(10,"mytranslate"),t.qZA()()()()}if(2&i){const e=a.$implicit,n=a.index,o=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(17,cr,o.indexClassroom==n)),t.xp6(2),t.s9C("matTooltip",e.name&&t.lcZ(4,3,e.name).length>25?t.lcZ(5,5,e.name):""),t.xp6(3),t.hij(" ",e.name&&t.lcZ(7,7,e.name).length>25?t.Dn7(8,9,t.lcZ(9,13,e.name),0,25)+"..":t.lcZ(10,15,e.name),"")}}function ur(i,a){if(1&i&&(t._UZ(0,"img",33),t.ALo(1,"mycdn")),2&i){const e=t.oxw().$implicit;t.s9C("src",t.lcZ(1,1,e.avatar),t.LSH)}}function mr(i,a){if(1&i&&t._UZ(0,"azt-create-avatar",34),2&i){const e=t.oxw().$implicit;t.Q6J("nameCreateAvatar",e.fullName)("size",30)}}function pr(i,a){if(1&i&&t._UZ(0,"img",35),2&i){const e=t.oxw().$implicit;t.Q6J("nameImages",e.nameImages)}}function gr(i,a){if(1&i&&(t.TgZ(0,"p",32),t._uU(1," Ng\xe0y sinh: "),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(t.xi3(4,1,e.birthday,"dd-MM-yyyy"))}}function hr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",20),t.NdJ("click",function(){const s=t.CHM(e).$implicit,_=t.oxw(4);return t.KtG(_.selectStudentObj(s))}),t.TgZ(2,"div",21)(3,"div",22)(4,"div",23),t.YNc(5,ur,2,3,"img",24),t.YNc(6,mr,1,2,"azt-create-avatar",25),t.qZA()(),t.TgZ(7,"div",26)(8,"div",27)(9,"p",28),t._uU(10),t.ALo(11,"slice"),t.qZA(),t.TgZ(12,"div",29),t.YNc(13,pr,1,1,"img",30),t.qZA(),t.YNc(14,gr,5,4,"p",31),t.TgZ(15,"p",32),t._uU(16),t.qZA()()()()()()}if(2&i){const e=a.$implicit;let n;t.xp6(1),t.Q6J("disabled",!e.examResultId),t.xp6(4),t.Q6J("ngIf",e.avatar&&""!=e.avatar),t.xp6(1),t.Q6J("ngIf",!e.avatar||""==e.avatar),t.xp6(3),t.s9C("matTooltip",e.fullName&&e.fullName.length>25?e.fullName:""),t.xp6(1),t.hij(" ",e.fullName&&e.fullName.length>25?t.Dn7(11,8,e.fullName,0,25)+"..":e.fullName," "),t.xp6(3),t.Q6J("ngIf",e.nameImages&&(null!==(n=e.studentId)&&void 0!==n?n:0)<=0),t.xp6(1),t.Q6J("ngIf",e.birthday),t.xp6(2),t.hij(" ",e.examResultId?"\u0110i\u1ec3m: "+e.mark:"Ch\u01b0a c\xf3 \u0111i\u1ec3m"," ")}}function fr(i,a){if(1&i&&(t.TgZ(0,"div",10)(1,"div",11)(2,"h3",12),t._uU(3,"Danh s\xe1ch l\u1edbp"),t.qZA(),t.TgZ(4,"div",13),t.YNc(5,dr,11,19,"div",14),t.qZA()(),t.TgZ(6,"div",15)(7,"h3",12),t._uU(8,"Danh s\xe1ch h\u1ecdc sinh"),t.qZA(),t.TgZ(9,"div",13),t.YNc(10,hr,17,12,"div",14),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(5),t.Q6J("ngForOf",e.dataProcess.classroomObjs),t.xp6(5),t.Q6J("ngForOf",e.studentInClassroom)}}function xr(i,a){1&i&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2," Gi\xe1o vi\xean ch\u01b0a cho xem k\u1ebft qu\u1ea3 thi "),t.qZA()())}function vr(i,a){if(1&i&&(t.YNc(0,fr,11,2,"div",8),t.YNc(1,xr,3,0,"ng-template",null,9,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf",null==n.dataProcess.classroomObjs?null:n.dataProcess.classroomObjs.length)("ngIfElse",e)}}function Tr(i,a){if(1&i&&(t.YNc(0,rr,6,3,"div",3),t.YNc(1,vr,3,2,"ng-template",null,4,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.dataProcess.errorMessage&&""!==n.dataProcess.errorMessage)("ngIfElse",e)}}let Lt=(()=>{class i extends A.Q{constructor(e,n,o,s){super(e),this.commonService=e,this.frontOfflineShareService=n,this.activeRoute=o,this.baseApiService=s,this.backToLink="",this.dataProcess={},this.returnLink="",this.studentInClassroom=[],this.offlineCodeId="",this.indexClassroom=0}ngOnInit(){var e,n;let o=this.commonService.getMyParam(this.activeRoute,"hash_id");this.offlineCodeId=null!==(e=this.commonService.getMyParam(this.activeRoute,"offline_code"))&&void 0!==e?e:"",this.returnLink="/test/share-offline-result/"+o+"/"+this.offlineCodeId+"/"+this.indexClassroom,this.backToLink="/student/dashboard/0",this.indexClassroom=Number(null!==(n=this.commonService.getMyParam(this.activeRoute,"index"))&&void 0!==n?n:"0"),this.getData(),super.ngOnInit()}getData(){let e=this.commonService.getMyParam(this.activeRoute,"hash_id");e&&this.offlineCodeId&&(this.initStatusObj(),this.subscriptions.add(this.frontOfflineShareService.apiFrontOfflineShareGetExamClassroomObjsGet(e,this.offlineCodeId).subscribe(n=>{var o,s,_,l;1==n.success?(this.dataProcess=null!==(o=n.data)&&void 0!==o?o:{},(null===(s=this.dataProcess.classroomObjs)||void 0===s?void 0:s.length)&&this.dataProcess.classroomObjs.length>0&&(this.studentInClassroom=null!==(_=this.dataProcess.classroomObjs[this.indexClassroom].studentObjs)&&void 0!==_?_:[]),this.successStatusObj()):this.errorStatusObj(null!==(l=n.message)&&void 0!==l?l:"",!0)})))}selectClassroom(e){var n,o;this.studentInClassroom=null!==(o=null===(n=this.dataProcess.classroomObjs)||void 0===n?void 0:n[e].studentObjs)&&void 0!==o?o:[],this.indexClassroom=e}selectStudentObj(e){var n,o,s,_,l;let r=this.commonService.getMyParam(this.activeRoute,"hash_id");this.returnLink="/test/share-offline-result/"+r+"/"+this.offlineCodeId+"/"+this.indexClassroom,this.myNavigationWithQueryString(`/test/answer-test/${null!==(o=null===(n=this.dataProcess.examObj)||void 0===n?void 0:n.tenantId)&&void 0!==o?o:0}/${null!==(_=null===(s=this.dataProcess.examObj)||void 0===s?void 0:s.categoryId)&&void 0!==_?_:0}/${null===(l=this.dataProcess.examObj)||void 0===l?void 0:l.hashId}/${e.examResultId}`,`?offline=${this.offlineCodeId}&backto=${this.returnLink}`)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z.v),t.Y36(Y.bF),t.Y36(P.gz),t.Y36(rt._))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-share-offline-result"]],features:[t.qOj],decls:4,vars:4,consts:[[3,"headerTitle","headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","container",4,"ngIf","ngIfElse"],["noErrorMessage",""],[1,"container"],[1,"block-empty","mt-5"],["role","alert",1,"alert","alert-danger","text-center"],["class","container mt-5",4,"ngIf","ngIfElse"],["noClassroom",""],[1,"container","mt-5"],[1,"block-main"],[1,"title"],[1,"row"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",4,"ngFor","ngForOf"],[1,"block-main","mt-3"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2"],[1,"card-custom","card-custom-two",3,"ngClass","click"],[1,"text-center"],[1,"card-custom-title",3,"matTooltip"],[1,"card-custom","student_obj",3,"disabled","click"],[1,"row","ml-0","mr-0","justify-content-between",2,"width","100%"],[1,"col-3"],[1,"d-flex","align-items-center",2,"height","100%"],["style","vertical-align: middle; margin-top: 2px; border-radius: 50%","width","30","height","30",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-9","pl-0"],[1,"text-left"],[1,"h5","mb-1","card-custom-title","font-bold",3,"matTooltip"],[1,"block-img"],["class","stdinfo-fullname mb-1 img-fluid","appDrawNameImage","","loading","lazy",3,"nameImages",4,"ngIf"],["class","h6 mb-0",4,"ngIf"],[1,"h6","mb-0"],["width","30","height","30",2,"vertical-align","middle","margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],["appDrawNameImage","","loading","lazy",1,"stdinfo-fullname","mb-1","img-fluid",3,"nameImages"]],template:function(e,n){if(1&e&&(t._UZ(0,"header-frontend",0),t.YNc(1,lr,1,0,"azt-loading-effect",1),t.YNc(2,Tr,3,2,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("headerTitle","K\u1ebft qu\u1ea3 thi Offline")("headerBackTolink",n.backToLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[f.mk,f.sg,f.O5,X.gM,et.Q,nt.d,ar.t,_r.L,f.OU,f.uU,w.bT,w.GT],styles:[".content-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.card-custom[_ngcontent-%COMP%]{background-color:#fff;padding:15px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;display:flex;align-items:center;min-height:65px;position:relative;transition:all .3s;width:100%;text-transform:inherit}.card-custom[_ngcontent-%COMP%]:hover:not([disabled]){box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc;background:rgb(242,242,242)}.card-custom-title[_ngcontent-%COMP%]{color:#000;font-weight:500}.card-custom-two[_ngcontent-%COMP%]{min-height:35px;text-align:center;justify-content:center}.content-link[_ngcontent-%COMP%]{color:#000;display:flex;align-items:center}.active[_ngcontent-%COMP%]{background:#2361ae;color:#fff;transition:all .3s}.active[_ngcontent-%COMP%]:hover{background:#10498d!important}.active[_ngcontent-%COMP%]   .card-custom-title[_ngcontent-%COMP%]{color:#fff}.title[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:16px;margin-bottom:15px}.margin_question_bar_40[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.margin_question_bar[_ngcontent-%COMP%]{margin-top:2rem!important}.margin_question_bar_60[_ngcontent-%COMP%]{margin-top:calc(2rem + 60px)!important}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}.isSelected[_ngcontent-%COMP%]{border-color:#004f7b;border-width:2px;border-style:solid}.isDisabled[_ngcontent-%COMP%]{opacity:.6}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}.col-3[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%}.col-9[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%}}@media only screen and (max-width: 768px){.col-3[_ngcontent-%COMP%]{flex:0 0 25%;max-width:25%}.col-9[_ngcontent-%COMP%]{flex:0 0 75%;max-width:75%}}"]}),i})();var br=m(73828);function wr(i,a){1&i&&t._UZ(0,"azt-loading-effect")}function Cr(i,a){if(1&i&&(t.TgZ(0,"div",3),t._UZ(1,"azt-test-result-tracking",4),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("dataResultObjs",e.dataResultObjs)("dataScrollObjs",e.dataScrollObjs)}}const Ar=[{path:"",component:sr,canActivate:[Xt.J],children:[{path:":hash_id",component:or},{path:"category/:tenant_id/:cate_id/:page",component:xl},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:ye},{path:"student-view/:tenant_id/:cate_id/:hash_id",component:Wt},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:V_},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:ne},{path:"test-result-tracking/:result_id/:hash_id",component:(()=>{class i extends A.Q{constructor(e,n,o,s){super(o),this.activeRoute=e,this.frontExamResultService=n,this.commonService=o,this.zipdataService=s,this.dataResultObjs=[],this.dataScrollObjs=[],this.backToLink="",this.examHasdId=""}processData(e){if(e)for(var n=0;n<e.length;n++)if("scroll"!=e[n][0]){var o={index:e[n][0],alpha:e[n][1],key:e[n][2],questionId:Number(e[n][3]),second:Number(e[n][4])};this.dataResultObjs.push(o)}else{var s={scrollPos:Number(e[n][1]),second:Number(e[n][2])};this.dataScrollObjs.push(s)}}getData(e){this.initStatusObj(),this.frontExamResultService.apiFrontExamResultGetExamWithExamAnswerGet(this.examHasdId,e).subscribe(n=>{var o,s,_,l,r,d,c,u;if(1==n.success){var h=this.castJsonToObj(this.zipdataService.decodeContentGzip(null!==(_=null===(s=null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.resultTrack)||void 0===s?void 0:s.trackData)&&void 0!==_?_:""));h&&this.processData(h),this.backToLink="/admin/testbank/tested-list/"+(null!==(r=null===(l=null==n?void 0:n.data)||void 0===l?void 0:l.examObj)&&void 0!==r&&r.categoryId?n.data.examObj.categoryId:0)+"/"+(null===(c=null===(d=null==n?void 0:n.data)||void 0===d?void 0:d.examObj)||void 0===c?void 0:c.id)+"/0",this.successStatusObj()}else this.errorStatusObj(null!==(u=n.message)&&void 0!==u?u:"",!0)})}ngOnInit(){var e;this.commonService.translateMetaData({title:"Chi ti\u1ebft qu\xe1 tr\xecnh l\xe0m tr\u1eafc nghi\u1ec7m",description:"Azota - Chi ti\u1ebft qu\xe1 tr\xecnh l\xe0m tr\u1eafc nghi\u1ec7m",image:"lang_cms_test_image"});let n=Number(this.activeRoute.snapshot.paramMap.get("result_id"));this.examHasdId=null!==(e=this.activeRoute.snapshot.paramMap.get("hash_id"))&&void 0!==e?e:"",this.getData(n),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(P.gz),t.Y36(bt.C),t.Y36(Z.v),t.Y36(kt.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-test-front-result-tracking"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerTitle"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"container-fluid","mt-3","mb-5"],[3,"dataResultObjs","dataScrollObjs"]],template:function(e,n){if(1&e&&(t._UZ(0,"header-frontend",0),t.YNc(1,wr,1,0,"azt-loading-effect",1),t.YNc(2,Cr,2,2,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("headerTitle","Qu\xe1 tr\xecnh l\xe0m b\xe0i c\u1ee7a th\xed sinh"),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[f.O5,et.Q,nt.d,br.$]}),i})()},{path:"share-offline-result/:hash_id/:offline_code",component:Lt},{path:"share-offline-result/:hash_id/:offline_code/:index",component:Lt}]}];let Zr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[P.Bz.forChild(Ar),P.Bz,Tt.fQ]}),i})(),yr=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[P.Bz,f.ez,Vt.j,Bt.Z_,Zr,g.u5,g.UX,Ht.Is,Kt.Z,Gt.xC,Rt.QG,$t.W]}),i})()}}]);