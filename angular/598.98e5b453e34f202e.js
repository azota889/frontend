"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[598],{98598:(Qn,S,s)=>{s.r(S),s.d(S,{TeacherQAModule:()=>Pn});var g=s(69808),l=s(93075),N=s(48966),f=s(74202),y=s(51908),J=s(1737),U=s(63728),G=s(71410),L=s(95880),q=s(75658),E=s(37389),Y=s(6834),n=s(5e3),m=s(35018),V=s(47691),B=s(17852),D=s(11956),j=s(1033);function K(o,r){1&o&&n._UZ(0,"azt-loading-effect")}function R(o,r){1&o&&(n.TgZ(0,"div",3),n._UZ(1,"azt-list-questions"),n.qZA())}let H=(()=>{class o{constructor(t){this.commonService=t,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"}),this.isLoading=!1}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(m.v))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-list-questions-student"]],decls:5,vars:6,consts:[[3,"headerTitle","headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"pl-2","pr-2",2,"max-width","700px","margin","auto"]],template:function(t,e){if(1&t&&(n._UZ(0,"header-backend",0),n.ALo(1,"mytranslate"),n.YNc(2,K,1,0,"azt-loading-effect",1),n.YNc(3,R,2,0,"ng-template",null,2,n.W1O)),2&t){const i=n.MAs(4);n.Q6J("headerTitle",n.lcZ(1,4,"lang_teacher_qa_list_questions_student_header_title"))("headerBackTolink","/admin/dashboard"),n.xp6(2),n.Q6J("ngIf",e.isLoading)("ngIfElse",i)}},dependencies:[g.O5,V.Q,B.p,D.I,j.bT],styles:[".content[_ngcontent-%COMP%]{padding:15px;margin-top:20px!important;margin:auto;max-width:430px;background:inherit;background-color:#ececec;border-radius:5px;box-shadow:0 0 5px #00000024}.content-header[_ngcontent-%COMP%]{text-align:center}.content-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:270px;height:40px;background:inherit;background-color:#169bd5;border:none;border-radius:5px;color:#fff;font-weight:500}.content-list-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:270px;background:inherit;background-color:#169bd5;border:none;border-radius:5px;color:#fff;font-weight:500}.view-single[_ngcontent-%COMP%]{padding:10px 15px;background:inherit;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#ececec;border-radius:5px;box-shadow:none;font-style:normal;font-size:12px;color:#494949}"]}),o})(),X=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=n.Xpm({type:o,selectors:[["question-master-page"]],decls:2,vars:0,consts:[["id","student-layout"]],template:function(t,e){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"router-outlet"),n.qZA())},dependencies:[f.lC],encapsulation:2}),o})();var $=s(24096),F=s(91664),Z=s(55330),W=s(3279),nn=s(10280),tn=s(40520),z=s(12626),en=s(44747),on=s(25245),sn=s(87238),rn=s(73852),an=s(25157);function cn(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"div",21)(1,"span",22),n.NdJ("click",function(){const a=n.CHM(t).$implicit,c=n.oxw(2);return n.KtG(c.onShowFile(a,-1))}),n._uU(2),n.qZA(),n.TgZ(3,"span"),n._uU(4),n.qZA(),n.TgZ(5,"i",23),n.NdJ("click",function(){const a=n.CHM(t).$implicit,c=n.oxw(2);return n.KtG(c.removeAttach(a))}),n.ALo(6,"mytranslate"),n.qZA()()}if(2&o){const t=r.$implicit;n.xp6(1),n.Q6J("matTooltip",(null==t?null:t.name)||""),n.xp6(1),n.Oqu(t.name),n.xp6(2),n.hij(".",t.extension,""),n.xp6(1),n.s9C("matTooltip",n.lcZ(6,4,"lang_teacher_qa_form_input_answer_remove_file"))}}function ln(o,r){if(1&o&&(n.ynx(0),n.YNc(1,cn,7,6,"div",20),n.BQk()),2&o){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.filesUploaded)}}function dn(o,r){1&o&&n._UZ(0,"span",24)}function un(o,r){1&o&&(n.TgZ(0,"span"),n._UZ(1,"span",24),n._uU(2,"\xa0"),n.qZA())}function pn(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"div")(1,"azt-preview-media",25),n.NdJ("closePreview",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.onFileClose())}),n.qZA()()}if(2&o){const t=n.oxw();n.xp6(1),n.Q6J("fileOption",t.previewFile)}}const gn=function(){return[]},mn=function(o){return{height:250,menubar:!1,plugins:o,toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify"}};let _n=(()=>{class o extends Z.Q{constructor(t,e,i,a){super(t),this.commonService=t,this.teacherQuestionService=e,this.apiUploadService=i,this.fb=a,this.closeFormInputAnswer=new n.vpe,this.fetchNewData=new n.vpe,this.isLoading=!1,this.form=new l.nJ({}),this.loadingUpload=!1,this.uploadProgress=-1,this.filesUploaded=[],this.previewFile={},this.isShowPreviewFile=!1}cleanContent(){let e=this.form.controls.content.value.replace(/<img .*?>/gim,"");this.form.controls.content.setValue(e)}uploadFile(t){t&&((0,z.C0)(t.type)?(this.loadingUpload=!0,this.uploadProgress=0,(0,z.hv)(t).then(e=>{this.apiUploadService.uploadToCdnForAnswerQA(e).subscribe(i=>{i.type!=tn.dt.UploadProgress&&(1==i.success?(this.loadingUpload=!1,this.uploadProgress=-1,i.data&&this.filesUploaded.push(i.data)):(this.loadingUpload=!1,this.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh (T\xean: "+t.name+")! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+i.message,"")))})})):this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3!",""))}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(t,e){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},t),{index:e})}onFileSelected(t){let e=!!t&&t[0];0!=e&&this.uploadFile(e)}saveAnswer(){let t=this.commonService.getFormObj(this.form);if(this.form.invalid)this.commonService.snackError("Vui l\xf2ng nh\u1eadp n\u1ed9i dung c\xe2u tr\u1ea3 l\u1eddi","");else{this.cleanContent(),this.isLoading=!0;var e={assetGroupId:this.assetGroupId,content:t.content,files:JSON.stringify(this.filesUploaded)};this.subscriptions.add(this.teacherQuestionService.apiTeacherQuestionSaveAnswerObjPost(e).subscribe(i=>{i.success?(this.commonService.snackSuccess("G\u1eedi c\xe2u tr\u1ea3 l\u1eddi th\xe0nh c\xf4ng",""),this.fetchNewData.emit(),this.isLoading=!1,this.cancelAnswer()):(this.commonService.snackError("G\u1eedi c\xe2u tr\u1ea3 l\u1eddi kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoading=!1)}))}}removeAttach(t){let e=this.filesUploaded.indexOf(t);this.filesUploaded.splice(e,1)}cancelAnswer(){this.form.controls.content.setValue(""),this.file=null,this.closeFormInputAnswer.emit()}ngOnInit(){this.form=this.fb.group({File:new l.p4(""),content:new l.p4("",[l.kI.required])}),super.ngOnInit()}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(m.v),n.Y36(F.P$),n.Y36(en.$),n.Y36(l.QS))},o.\u0275cmp=n.Xpm({type:o,selectors:[["form-input-answer-teacher"]],inputs:{assetGroupId:"assetGroupId"},outputs:{closeFormInputAnswer:"closeFormInputAnswer",fetchNewData:"fetchNewData"},features:[n.qOj],decls:33,vars:23,consts:[[1,"form-horizontal","text-center",3,"formGroup"],[1,"create-answer"],[1,"answer-editor"],["formControlName","content","apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"init"],[1,"answer-upload"],["id","dropzoneAreaFrame",1,"text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],["appDragDrop","",1,"px-4","py-3","rounded",3,"filesChangeEmiter"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File",1,"form-control","file-input",3,"change"],["fileSelect",""],[1,"d-block","text-dark-green"],[1,"answer-save"],[1,"mt-1","text-left"],[1,"attachs"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[1,"answer-buttons"],[1,"btn-cannel",3,"click"],[1,"btn-save",3,"disabled","click"],["class","att-item",4,"ngFor","ngForOf"],[1,"att-item"],[1,"image-preview","truncate",3,"matTooltip","click"],[1,"fas","fa-window-close",3,"matTooltip","click"],["role","status",1,"spinner-border","spinner-border-sm"],[3,"fileOption","closePreview"]],template:function(t,e){if(1&t){const i=n.EpF();n.TgZ(0,"form",0)(1,"div",1)(2,"div",2),n._UZ(3,"editor",3),n.qZA(),n.TgZ(4,"div",4)(5,"div",5),n.NdJ("click",function(){n.CHM(i);const c=n.MAs(12);return n.KtG(c.click())}),n.TgZ(6,"div",6),n.NdJ("filesChangeEmiter",function(c){return e.onFileSelected(c)}),n.TgZ(7,"div",7)(8,"a",8)(9,"mat-icon"),n._uU(10,"cloud_upload"),n.qZA()(),n.TgZ(11,"input",9,10),n.NdJ("change",function(c){return e.onFileSelected(c.target.files)}),n.qZA(),n.TgZ(13,"span",11),n._uU(14),n.ALo(15,"mytranslate"),n.qZA()()()()(),n.TgZ(16,"div",12)(17,"h4",13),n._uU(18),n.ALo(19,"mytranslate"),n.qZA(),n.TgZ(20,"div",14),n.YNc(21,ln,2,1,"ng-container",15),n._uU(22," \xa0 "),n.YNc(23,dn,1,0,"span",16),n.qZA(),n.TgZ(24,"div",17)(25,"button",18),n.NdJ("click",function(){return e.cancelAnswer()}),n._uU(26),n.ALo(27,"mytranslate"),n.qZA(),n.TgZ(28,"button",19),n.NdJ("click",function(){return e.saveAnswer()}),n.YNc(29,un,3,0,"span",15),n._uU(30),n.ALo(31,"mytranslate"),n.qZA()()()()(),n.YNc(32,pn,2,1,"div",15)}2&t&&(n.Q6J("formGroup",e.form),n.xp6(3),n.Q6J("init",n.VKq(21,mn,n.DdM(20,gn))),n.xp6(11),n.Oqu(n.lcZ(15,12,"lang_teacher_qa_form_input_answer_note_tutorial")),n.xp6(4),n.AsE("",n.lcZ(19,14,"lang_teacher_qa_form_input_answer_title_file")," (",e.filesUploaded.length,")"),n.xp6(3),n.Q6J("ngIf",e.filesUploaded.length>0),n.xp6(2),n.Q6J("ngIf",e.loadingUpload),n.xp6(3),n.Oqu(n.lcZ(27,16,"lang_buttom_cancel")),n.xp6(2),n.Q6J("disabled",e.isLoading),n.xp6(1),n.Q6J("ngIf",e.isLoading),n.xp6(1),n.hij(" ",n.lcZ(31,18,"lang_buttom_send")," "),n.xp6(2),n.Q6J("ngIf",e.isShowPreviewFile))},dependencies:[g.sg,g.O5,on.Hw,sn.gM,y.PG,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,rn.x,an.N,j.bT],styles:["button[_ngcontent-%COMP%]{border:none;text-transform:initial}.question-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px}.question-info[_ngcontent-%COMP%]{display:flex;align-items:center}.question-text[_ngcontent-%COMP%]{font-size:13px;color:#9a9a9a;margin-right:10px}.question-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.question-content[_ngcontent-%COMP%], .block-list-answer[_ngcontent-%COMP%]{margin-top:15px}.answer-count[_ngcontent-%COMP%]{font-size:18px;color:#333}.block-answer[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding-bottom:10px;border-bottom:1px solid #d0d0d0}.block-answer-left[_ngcontent-%COMP%]{margin-right:10px}.count-view[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dddddd;border-radius:5px;display:flex;justify-content:center;align-items:center;padding:6px}.count-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.true-answer[_ngcontent-%COMP%]{color:#0ca74a}.true-answer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}.block-answer-right[_ngcontent-%COMP%]{padding-right:15px}.confirm[_ngcontent-%COMP%]{padding:6px 7px;background:#e8e8e8;border-radius:5px;font-size:12px}.btn-unconfirm[_ngcontent-%COMP%]{color:#00a7d0;background:transparent;transition:all .5s}.btn-unconfirm[_ngcontent-%COMP%]:hover{color:#026680;font-weight:700}.btn-confirm[_ngcontent-%COMP%]{background:#169bd5;color:#fff;font-size:13px;transition:all .5s;border-radius:5px;padding:5px 7px 5px 20px}.btn-confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.btn-confirm[_ngcontent-%COMP%]:hover{background:#0b6992}.block-answer-bottom[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:flex-end;align-items:center}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.time-ago[_ngcontent-%COMP%]{color:#868686;font-size:10px;margin-bottom:0}.btn-all-add[_ngcontent-%COMP%]{color:#00a7d0}.create-answer[_ngcontent-%COMP%], .answer-upload[_ngcontent-%COMP%]{margin-top:20px}.upload-file[_ngcontent-%COMP%]{background-color:#fff;height:100px;display:flex;justify-content:center;align-items:center}.upload-file-text[_ngcontent-%COMP%]{font-size:16px}.image-preview[_ngcontent-%COMP%]{cursor:pointer}.answer-editor[_ngcontent-%COMP%]{min-height:250px}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]{flex:auto;margin-right:15px;margin-top:15px;display:flex;flex-wrap:wrap}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]{max-width:250px;margin-right:20px;display:flex;align-items:center}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;display:block;text-decoration:underline}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ff0000b5;margin-left:5px}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.answer-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#a1a1a1}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}"]}),o})();function hn(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"button",4),n.NdJ("click",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.isShowFormInputAnswer=!0)}),n._uU(1,"+ Tr\u1ea3 l\u1eddi"),n.qZA()}}function bn(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"button",8),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.clickRelate("prev"))}),n._UZ(1,"i",9),n.qZA()}}function xn(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"button",10),n.NdJ("click",function(){n.CHM(t);const i=n.oxw(2);return n.KtG(i.clickRelate("next"))}),n._UZ(1,"i",11),n.qZA()}}function vn(o,r){if(1&o&&(n.TgZ(0,"div",5),n.YNc(1,bn,2,0,"button",6),n.YNc(2,xn,2,0,"button",7),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",t.previousQuestionId),n.xp6(1),n.Q6J("ngIf",t.nextQuestionId)}}function On(o,r){if(1&o){const t=n.EpF();n.TgZ(0,"form-input-answer-teacher",12),n.NdJ("fetchNewData",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.getData())})("closeFormInputAnswer",function(){n.CHM(t);const i=n.oxw();return n.KtG(i.isShowFormInputAnswer=!1)}),n.qZA()}if(2&o){const t=n.oxw();n.Q6J("assetGroupId",t.assetGroupStatisticObj.assetGroupId)}}const wn=[{path:"",component:X,canActivate:[Y.v],children:[{path:"view-question/:id",component:(()=>{class o extends Z.Q{constructor(t,e,i,a,c){super(e),this.activeRoute=t,this.commonService=e,this._location=i,this.localStorageObjetct=a,this.teacherQuestionService=c,this.subscriptions=new $.w,this.isLoading=!1,this.isShowFormInputAnswer=!1,this.studentAnswerObj={}}getData(){this.isLoading=!0;let t=Number(this.activeRoute.snapshot.paramMap.get("id"));this.subscriptions.add(this.teacherQuestionService.apiTeacherQuestionGetAnswerObjsGet(t,1).subscribe(e=>{var i,a,c,d,u,p,_,h,b,x,v,O,C,w,M,P,Q,k;e.success?(this.curQuestionObj=null!==(a=null===(i=e.data)||void 0===i?void 0:i.curQuestionObj)&&void 0!==a?a:{},this.assetGroupStatisticObj=null!==(d=null===(c=e.data)||void 0===c?void 0:c.assetGroupStatisticObj)&&void 0!==d?d:{},this.assetObjectObj=null!==(p=null===(u=e.data)||void 0===u?void 0:u.assetObjectObj)&&void 0!==p?p:{},this.answerObjs=null!==(h=null===(_=e.data)||void 0===_?void 0:_.answerObjs)&&void 0!==h?h:[],this.studentAnswerObj=null!==(x=null===(b=e.data)||void 0===b?void 0:b.studentAnswerObj)&&void 0!==x?x:{},this.answerObjs.forEach(T=>{var A,I;T.files&&(T.fileObjs=null!==(I=this.castJsonToObj(null!==(A=T.files)&&void 0!==A?A:""))&&void 0!==I?I:[])}),this.sortAnswer(),this.nextQuestionId=null!==(O=null===(v=e.data)||void 0===v?void 0:v.nextQuestionId)&&void 0!==O?O:0,this.questionIds=null!==(w=null===(C=e.data)||void 0===C?void 0:C.questionIds)&&void 0!==w?w:[],this.previousQuestionId=null!==(P=null===(M=e.data)||void 0===M?void 0:M.previousQuestionId)&&void 0!==P?P:0,this.isEndPage=null!==(k=null===(Q=e.data)||void 0===Q?void 0:Q.isEndPage)&&void 0!==k?k:0,this.isLoading=!1):(this.commonService.snackError("C\xf3 l\u1ed7i khi xem chi ti\u1ebft c\xe2u h\u1ecfi",""),this.isLoading=!1)}))}sortAnswer(){this.answerObjs.sort((t,e)=>{var i,a;return(null!==(i=e.totalAccept)&&void 0!==i?i:0)-(null!==(a=t.totalAccept)&&void 0!==a?a:0)})}clickRelate(t){this.subscriptions.add(this.teacherQuestionService.apiTeacherQuestionGetQuestionObjGet("next"==t?this.nextQuestionId:this.previousQuestionId).subscribe(e=>{var i,a,c,d,u,p;e.success?(this.curQuestionObj=null!==(a=null===(i=e.data)||void 0===i?void 0:i.curQuestionObj)&&void 0!==a?a:{},this.nextQuestionId=null!==(d=null===(c=e.data)||void 0===c?void 0:c.nextQuestionId)&&void 0!==d?d:0,this.previousQuestionId=null!==(p=null===(u=e.data)||void 0===u?void 0:u.previousQuestionId)&&void 0!==p?p:0):this.commonService.snackError("C\xf3 l\u1ed7i khi xem chi ti\u1ebft c\xe2u h\u1ecfi","")}))}backClicked(){this._location.back()}deleteQuestion(t){this.teacherQuestionService.apiTeacherQuestionDeleteObjGet(t).subscribe(e=>{e.success?(this.nextQuestionId?this.clickRelate("next"):this.previousQuestionId&&!this.nextQuestionId?this.clickRelate("prev"):!this.previousQuestionId&&!this.nextQuestionId&&this.commonService.myNavigation("/admin/dashboard"),this.localStorageObjetct.removeCacheByValue("TeacherQuestion/GetAnswerObjs"),this.commonService.snackSuccess("X\xf3a c\xe2u h\u1ecfi th\xe0nh c\xf4ng","")):this.commonService.snackError("X\xf3a c\xe2u h\u1ecfi kh\xf4ng th\xe0nh c\xf4ng","")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_view_question_student_title",description:"lang_cms_view_question_student_description",image:"lang_cms_test_image"}),this.getData(),super.ngOnInit()}}return o.\u0275fac=function(t){return new(t||o)(n.Y36(f.gz),n.Y36(m.v),n.Y36(g.Ye),n.Y36(W.L),n.Y36(F.P$))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-teacher-view-question"]],features:[n.qOj],decls:4,vars:12,consts:[[3,"isBackend","totalQuestion","studentAnswerObj","curQuestionObj","answerObjs","assetGroupStatisticObj","assetObjectObj","isEndPage","isLoading","sendEvent"],["buttonShowFormInput","","class","btn btn-primary",3,"click",4,"ngIf"],["nextBack","","id","nextBack",4,"ngIf"],["answerInput","",3,"assetGroupId","fetchNewData","closeFormInputAnswer",4,"ngIf"],["buttonShowFormInput","",1,"btn","btn-primary",3,"click"],["nextBack","","id","nextBack"],["id","buttonPrev","class","btn",3,"click",4,"ngIf"],["id","buttonNext","class","btn",3,"click",4,"ngIf"],["id","buttonPrev",1,"btn",3,"click"],[1,"fas","fa-angle-left",2,"font-size","18px"],["id","buttonNext",1,"btn",3,"click"],[1,"fas","fa-angle-right",2,"font-size","18px"],["answerInput","",3,"assetGroupId","fetchNewData","closeFormInputAnswer"]],template:function(t,e){1&t&&(n.TgZ(0,"azt-view-answer-question",0),n.NdJ("sendEvent",function(a){return e.deleteQuestion(a)}),n.YNc(1,hn,2,0,"button",1),n.YNc(2,vn,3,2,"div",2),n.YNc(3,On,1,1,"form-input-answer-teacher",3),n.qZA()),2&t&&(n.Q6J("isBackend",!0)("totalQuestion",null==e.questionIds?null:e.questionIds.length)("studentAnswerObj",e.studentAnswerObj)("curQuestionObj",e.curQuestionObj)("answerObjs",e.answerObjs)("assetGroupStatisticObj",e.assetGroupStatisticObj)("assetObjectObj",e.assetObjectObj)("isEndPage",e.isEndPage)("isLoading",e.isLoading),n.xp6(1),n.Q6J("ngIf",!e.isShowFormInputAnswer),n.xp6(1),n.Q6J("ngIf",e.previousQuestionId||e.nextQuestionId),n.xp6(1),n.Q6J("ngIf",e.isShowFormInputAnswer))},dependencies:[g.O5,nn.m,_n],styles:[".block-list[_ngcontent-%COMP%]{background:#ececec;padding:10px;border-radius:5px;box-shadow:0 0 5px #00000024}.block-list-bottom[_ngcontent-%COMP%]{margin:10px 0}.block-list-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{border:none;display:flex;align-items:center;color:#707070;background:transparent}.block-list-bottom[_ngcontent-%COMP%]   .btn-add-text[_ngcontent-%COMP%]{text-transform:initial;margin-left:2px}button[_ngcontent-%COMP%]{border:none;text-transform:initial}.block-else[_ngcontent-%COMP%]{height:90px;display:flex;justify-content:center;align-items:center;border-radius:5px}.text-else[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.question-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px}.question-info[_ngcontent-%COMP%]{display:flex;align-items:center}.question-text[_ngcontent-%COMP%]{font-size:13px;color:#9a9a9a;margin-right:10px}.question-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.question-content[_ngcontent-%COMP%], .block-list-answer[_ngcontent-%COMP%]{margin-top:15px}.answer-count[_ngcontent-%COMP%]{font-size:18px;color:#333}.block-answer[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding-bottom:10px;border-bottom:1px solid #d0d0d0}.block-answer-left[_ngcontent-%COMP%]{margin-right:10px}.count-view[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #dddddd;border-radius:5px;display:flex;justify-content:center;align-items:center;padding:6px}.count-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.true-answer[_ngcontent-%COMP%]{color:#0ca74a}.true-answer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}.block-answer-right[_ngcontent-%COMP%]{padding-right:15px}.confirm[_ngcontent-%COMP%]{padding:6px 7px;background:#e8e8e8;border-radius:5px;font-size:12px}.btn-unconfirm[_ngcontent-%COMP%]{color:#00a7d0;background:transparent;transition:all .5s}.btn-unconfirm[_ngcontent-%COMP%]:hover{color:#026680;font-weight:700}.btn-confirm[_ngcontent-%COMP%]{background:#169bd5;color:#fff;font-size:13px;transition:all .5s;border-radius:5px;padding:5px 7px 5px 20px}.btn-confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.btn-confirm[_ngcontent-%COMP%]:hover{background:#0b6992}.block-answer-bottom[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:flex-end;align-items:center}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.time-ago[_ngcontent-%COMP%]{color:#868686;font-size:10px;margin-bottom:0}.btn-all-add[_ngcontent-%COMP%]{color:#00a7d0}.create-answer[_ngcontent-%COMP%], .answer-upload[_ngcontent-%COMP%]{margin-top:20px}.upload-file[_ngcontent-%COMP%]{background-color:#fff;height:100px;display:flex;justify-content:center;align-items:center}.upload-file-text[_ngcontent-%COMP%]{font-size:16px}.answer-editor[_ngcontent-%COMP%]{min-height:250px}.answer-save[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:15px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}#nextBack[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;top:50%;margin-top:-18px;width:20px;right:-26px;color:#565656;transition:all .5s}#nextBack[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#000}#nextBack[_ngcontent-%COMP%]   button#buttonPrev[_ngcontent-%COMP%]{left:-26px}"]}),o})()},{path:"list-questions",component:H}]}];let Mn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[f.Bz.forChild(wn),f.Bz,E.fQ]}),o})(),Pn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[f.Bz,g.ez,L.j,y.Z_,l.u5,l.UX,N.Is,q.Z,J.xC,U.QG,Mn,G.W]}),o})()}}]);