"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[778],{90167:(D,E,f)=>{f.d(E,{I:()=>lt});var e=f(5e3),x=f(93075),b=f(25127),z=f(55330),r=f(35018),p=f(15431),d=f(86317),h=f(69808),_=f(14538),s=f(64123),g=f(89824),a=f(31279),m=f(83482),A=f(16384),v=f(51377),T=f(1033);function y(n,c){1&n&&(e.TgZ(0,"span"),e._uU(1,"Ch\u01b0a c\xf3 file \u0111\u01b0\u1ee3c ch\u1ecdn"),e.qZA())}function q(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(2,"div",34),e._UZ(3,"img",35),e.ALo(4,"convertCdn"),e.qZA(),e.TgZ(5,"div",36),e._uU(6),e.qZA(),e.TgZ(7,"div",37)(8,"button",38),e.NdJ("click",function(o){return e.CHM(t),e.oxw(3).removeFile(o)}),e._uU(9,"X\xf3a"),e.qZA()()()()}if(2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("src",e.lcZ(4,2,"azota_assets/images/excel.png"),e.LSH),e.xp6(3),e.Oqu(t.file?t.file.name:"")}}function Q(n,c){1&n&&(e.TgZ(0,"span",39),e._uU(1,"K\xe9o th\u1ea3 file Excel ho\u1eb7c Click \u0111\u1ec3 ch\u1ecdn file"),e.qZA())}function U(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"div",21),e.NdJ("click",function(){return e.CHM(t),e.MAs(8).click()}),e.TgZ(2,"div",22)(3,"div",23)(4,"a",24)(5,"mat-icon"),e._uU(6,"cloud_upload"),e.qZA()(),e.TgZ(7,"input",25,26),e.NdJ("change",function(o){return e.CHM(t),e.oxw(2).onFileSelected(o)}),e.qZA(),e.YNc(9,y,2,0,"span",27),e.YNc(10,q,10,4,"ng-template",null,28,e.W1O),e.YNc(12,Q,2,0,"span",29),e.qZA()()(),e.TgZ(13,"div",30)(14,"a",31),e.ALo(15,"convertLink"),e.TgZ(16,"span"),e._uU(17,"T\u1ea3i file bi\u1ec3u m\u1eabu "),e.qZA(),e.TgZ(18,"mat-icon"),e._uU(19,"save_alt"),e.qZA()()()()}if(2&n){const t=e.MAs(11),i=e.oxw(2);e.xp6(9),e.Q6J("ngIf",!i.file)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",!i.file),e.xp6(2),e.s9C("download",i.changeNameDownloadFile("excel_add_teacher_exp_v2")),e.Q6J("href",e.lcZ(15,5,"blob/master/azota_assets/medias/excel_add_teacher_exp_v3.xlsx"),e.LSH)}}function F(n,c){1&n&&(e.TgZ(0,"div"),e._uU(1,"B\u1ea1n c\u1ea7n nh\u1eadp t\xean gi\xe1o vi\xean!"),e.qZA())}function Y(n,c){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,F,2,0,"div",19),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.getErrorType("fullName","required"))}}function G(n,c){1&n&&(e.TgZ(0,"div"),e._uU(1,"B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i."),e.qZA())}function j(n,c){1&n&&(e.TgZ(0,"div"),e._uU(1,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1."),e.qZA())}function L(n,c){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,G,2,0,"div",19),e.YNc(2,j,2,0,"div",19),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.getErrorType("phone","required")),e.xp6(1),e.Q6J("ngIf",t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function H(n,c){if(1&n&&(e.TgZ(0,"div",20)(1,"div",40)(2,"label",41),e._uU(3,"H\u1ecd v\xe0 t\xean"),e.qZA(),e.TgZ(4,"div",42),e._UZ(5,"input",43),e.qZA(),e.YNc(6,Y,2,1,"div",44),e.qZA()(),e.TgZ(7,"div",20)(8,"div",40)(9,"label",45),e._uU(10,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),e.qZA(),e.TgZ(11,"div",42),e._UZ(12,"input",46),e.qZA(),e.YNc(13,L,3,2,"div",44),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.form.controls.fullName.invalid&&t.form.controls.fullName.dirty),e.xp6(7),e.Q6J("ngIf",t.form.controls.phone.invalid&&t.form.controls.phone.dirty)}}function $(n,c){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",48),e._uU(2,"\xa0"),e.qZA())}function B(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"form",3)(3,"div",4)(4,"p",5),e._uU(5,"Th\xeam gi\xe1o vi\xean"),e.qZA(),e.TgZ(6,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().btnCloseDialog(!1)}),e._UZ(7,"i",7),e.qZA()(),e.YNc(8,U,20,7,"div",8),e.YNc(9,H,14,2,"ng-template",null,9,e.W1O),e.TgZ(11,"div",10)(12,"div",11)(13,"a",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().showImportExcel()}),e.TgZ(14,"span",13),e._uU(15),e.qZA()()(),e.TgZ(16,"div",14)(17,"div",15)(18,"div",16)(19,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().btnCloseDialog(!1)}),e._uU(20,"H\u1ee7y"),e.qZA(),e.TgZ(21,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmAction()}),e.YNc(22,$,3,0,"span",19),e._uU(23," L\u01b0u "),e.qZA()()()()()()()()}if(2&n){const t=e.MAs(10),i=e.oxw();e.xp6(2),e.Q6J("formGroup",i.form),e.xp6(6),e.Q6J("ngIf",i.importExcel)("ngIfElse",t),e.xp6(7),e.Oqu(i.importExcel?"Quay l\u1ea1i":"Nh\u1eadp t\u1eeb File Excel"),e.xp6(6),e.Q6J("disabled",i.statusObj.loading||i.form.invalid&&!i.importExcel||1==i.importExcel&&null==i.file),e.xp6(1),e.Q6J("ngIf",i.statusObj.loading)}}let V=(()=>{class n extends z.Q{constructor(t,i,o,l){super(i),this.fb=t,this.commonService=i,this.teacherGroupService=o,this.baseApiService=l,this.closeDialog=new e.vpe,this.form=new x.cw({}),this.typeString="",this.importExcel=!1,this.type=0,this.file=null}getErrorType(t,i){var o,l;return!!(null===(o=this.form.controls[t].errors)||void 0===o?void 0:o[i])&&(null===(l=this.form.controls[t].errors)||void 0===l?void 0:l[i])}onFileSelected(t){let l=t.target.files;this.file=l?l[0]:this.file,this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.commonService.snackError("Vui l\xf2ng ch\u1ecdn \u0111\xfang t\u1ec7p tin Excel",""))}removeFile(t){t.stopPropagation(),this.file=null}confirmAction(){var t=this.commonService.getFormObj(this.form);if(this.initStatusObj(),this.importExcel){var i=new FormData;this.file&&i.append("File",this.file,this.file.name),this.subscriptions.add(this.teacherGroupService.apiTeacherGroupAddTeacherIntoTeamWithExcelPostForm(this.file).subscribe(l=>{var u;1==l.success?(this.btnCloseDialog(!0),this.successStatusObj("lang_cms_utils_update_folder_success",!0)):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(u=l.message)&&void 0!==u?u:"",!0))}))}else this.form.valid&&this.subscriptions.add(this.teacherGroupService.apiTeacherGroupAddTeacherWithTeamPost({numberphone:t.phone,fullname:t.fullName}).subscribe(l=>{1==l.success?(this.btnCloseDialog(!0),this.showSuccessSnack("Th\xeam gi\xe1o vi\xean th\xe0nh c\xf4ng")):(this.btnCloseDialog(!1),this.showErrorSnack("Th\xeam gi\xe1o vi\xean kh\xf4ng th\xe0nh c\xf4ng")),this.stopStatusObj()}))}btnCloseDialog(t){t?this.closeDialog.emit(t):this.closeDialog.emit()}showImportExcel(){this.importExcel=!this.importExcel}changeNameDownloadFile(t){return this.commonService.createFileNameExportFile([t])+".xlsx"}ngOnInit(){this.form=this.fb.group({phone:["",[x.kI.required,x.kI.pattern("^[0-9]*$"),x.kI.minLength(10),x.kI.maxLength(10)]],fullName:new x.NI("",[x.kI.required]),File:new x.NI("")}),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.qu),e.Y36(r.v),e.Y36(b.Kq),e.Y36(A._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-add-teacher"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[e.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],[1,"heading-title"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],["class","form-group",4,"ngIf","ngIfElse"],["NormalForm",""],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","col-sm-6","align-self-center","my-2"],[1,"clickable","text-info","float-left",3,"click"],[2,"vertical-align","middle"],[1,"col-12","col-sm-6","align-self-center"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"form-group"],[1,"col-sm-12","text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],[1,"px-4","py-3","rounded"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"form-control","file-input",3,"change"],["fileSelect",""],[4,"ngIf","ngIfElse"],["exitsFile",""],["class","d-block mt-20 text-dark-green mt-3",4,"ngIf"],[1,"text-center","file","mt-2"],["target","_self",1,"dz-clickable",3,"href","download"],[1,"d-flex","align-items-center","justify-content-center","m-3"],[1,"fileinfo","p-3",3,"click"],[1,"title"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"file-name"],[1,"action"],[1,"btn-remove",3,"click"],[1,"d-block","mt-20","text-dark-green","mt-3"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","id","full-name","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","number-phone",1,"text-feild"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","id","number-phone","formControlName","phone",1,"form-control"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,i){1&t&&e.YNc(0,B,24,6,"div",0),2&t&&e.Q6J("ngIf",null==i.data?null:i.data.isShow)},directives:[h.O5,x._Y,x.JL,x.sg,a.Hw,x.Fj,x.JJ,x.u,v.lW],pipes:[T.BI,T.Gu],styles:["*[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px #5b5b5b59}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();const W=["userPermission"],R=["searchForms"],K=["EditPermissionTeacherShare"];function X(n,c){1&n&&e._UZ(0,"div",2)}const I=function(n){return{"z-index":n}};function ee(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31,32),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(3).senData(l,"1")}),e._UZ(3,"azt-create-avatar",33),e.qZA()()}if(2&n){const t=c.$implicit,i=c.index;e.oxw(2);const o=e.MAs(20),l=e.oxw();e.Q6J("ngStyle",e.VKq(5,I,l.styleListAvatar(i))),e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(2),e.s9C("matTooltip",t.fullName),e.Q6J("nameCreateAvatar",t.fullName)("size",28)}}function te(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31,32),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(3).senData(l,"0")}),e._UZ(3,"azt-create-avatar",33),e.qZA()()}if(2&n){const t=c.$implicit,i=c.index;e.oxw(2);const o=e.MAs(20),l=e.oxw();e.Q6J("ngStyle",e.VKq(5,I,l.styleListAvatar(l.teachers.length+i))),e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(2),e.s9C("matTooltip",t.name),e.Q6J("nameCreateAvatar",t.name)("size",28)}}function ne(n,c){if(1&n&&(e.TgZ(0,"div")(1,"div",28),e.YNc(2,ee,4,7,"div",29),e.YNc(3,te,4,7,"div",29),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.teachers),e.xp6(1),e.Q6J("ngForOf",t.groups)}}function ie(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"button",34,35),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).buttomShare()}),e.TgZ(2,"mat-icon",36),e._uU(3,"person_add"),e.qZA(),e._uU(4," Chia s\u1ebb "),e.qZA()}if(2&n){e.oxw();const t=e.MAs(41);e.Q6J("matMenuTriggerFor",t)}}function oe(n,c){if(1&n&&(e._UZ(0,"img",41),e.ALo(1,"mycdn")),2&n){const t=e.oxw().$implicit;e.s9C("matTooltip",t.fullname),e.s9C("src",e.lcZ(1,2,t.avatar),e.LSH)}}function re(n,c){if(1&n&&e._UZ(0,"azt-create-avatar",33),2&n){const t=e.oxw().$implicit;e.s9C("matTooltip",t.fullname),e.Q6J("nameCreateAvatar",t.fullname)("size",28)}}function ae(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",31,38),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(3).senDataeditPermissionTeacherShare(l)}),e.YNc(3,oe,2,4,"img",39),e.YNc(4,re,1,3,"ng-template",null,40,e.W1O),e.qZA()()}if(2&n){const t=c.$implicit,i=c.index,o=e.MAs(5);e.oxw(2);const l=e.MAs(6),u=e.oxw();e.Q6J("ngStyle",e.VKq(4,I,u.styleListAvatar(i))),e.xp6(1),e.Q6J("matMenuTriggerFor",l),e.xp6(2),e.Q6J("ngIf",t.avatar)("ngIfElse",o)}}function ce(n,c){if(1&n&&(e.TgZ(0,"div")(1,"span",37),e._uU(2,"Gi\xe1o vi\xean chia s\u1ebb: \xa0\xa0"),e.qZA(),e.YNc(3,ae,6,6,"div",29),e.qZA()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.whoSharePermission)}}function se(n,c){if(1&n&&(e._UZ(0,"img",44),e.ALo(1,"mycdn")),2&n){const t=e.oxw(3);e.s9C("src",e.lcZ(1,1,t.dataGroupAndTeacer.avatar),e.LSH)}}function _e(n,c){if(1&n&&e._UZ(0,"azt-create-avatar",45),2&n){const t=e.oxw(3);e.Q6J("nameCreateAvatar",t.dataGroupAndTeacer.fullname)("size",93)}}function le(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,se,2,3,"img",42),e.YNc(2,_e,1,2,"ng-template",null,43,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw(2);e.xp6(1),e.Q6J("ngIf",i.dataGroupAndTeacer.avatar)("ngIfElse",t)}}function me(n,c){if(1&n&&(e.TgZ(0,"h5"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.dataGroupAndTeacer.phone)}}function pe(n,c){1&n&&(e.TgZ(0,"div",46),e._UZ(1,"div",47),e.qZA())}function he(n,c){if(1&n&&(e.TgZ(0,"div",49),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.hij(" ","- "+t.description," ")}}function de(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,he,2,1,"div",48),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.dataCheckerBoxAssign)}}function ue(n,c){1&n&&(e.TgZ(0,"mat-icon",50),e._uU(1," group "),e.qZA())}function ge(n,c){if(1&n&&e._UZ(0,"azt-create-avatar",45),2&n){const t=e.oxw(2);e.Q6J("nameCreateAvatar",t.dataGroupAndTeacer.fullName)("size",93)}}function fe(n,c){if(1&n&&(e.TgZ(0,"h3",10),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.dataGroupAndTeacer.fullName)}}function xe(n,c){if(1&n&&(e.TgZ(0,"h3"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.dataGroupAndTeacer.name)}}function ve(n,c){if(1&n&&(e.TgZ(0,"h5"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.dataGroupAndTeacer.phone)}}function Ae(n,c){if(1&n&&(e.TgZ(0,"div")(1,"div",51),e._uU(2),e.qZA()()),2&n){const t=c.$implicit;e.xp6(2),e.hij("- ",t.description,"")}}function be(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Ae,3,1,"div",18),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.dataGroupAndTeacer.teamPermisisons)}}function Te(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",54),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(2).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("checked",t.checked),e.xp6(1),e.hij("",t.description," ")}}function Ce(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",55),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(2).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.description)}}function ke(n,c){if(1&n&&(e.ynx(0),e.YNc(1,Te,2,2,"mat-checkbox",52),e.YNc(2,Ce,2,1,"mat-checkbox",53),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.checked),e.xp6(1),e.Q6J("ngIf",!t.checked)}}function we(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",54),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(2).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("checked",t.checked),e.xp6(1),e.hij("",t.description," ")}}function Oe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",55),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(2).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.description)}}function Pe(n,c){if(1&n&&(e.ynx(0),e.YNc(1,we,2,2,"mat-checkbox",52),e.YNc(2,Oe,2,1,"mat-checkbox",53),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.checked&&7==t.id),e.xp6(1),e.Q6J("ngIf",!t.checked&&7==t.id)}}function Ze(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",54),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(2).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("checked",t.checked),e.xp6(1),e.hij("",t.description," ")}}function ze(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",55),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(2).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.description)}}function Ee(n,c){if(1&n&&(e.ynx(0),e.YNc(1,Ze,2,2,"mat-checkbox",52),e.YNc(2,ze,2,1,"mat-checkbox",53),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.checked),e.xp6(1),e.Q6J("ngIf",!t.checked)}}function Se(n,c){if(1&n&&(e.TgZ(0,"div")(1,"div",49),e.YNc(2,ke,3,2,"ng-container",5),e.ALo(3,"fullPermission"),e.YNc(4,Pe,3,2,"ng-container",5),e.ALo(5,"fullPermission"),e.ALo(6,"configAndMarkPermission"),e.YNc(7,Ee,3,2,"ng-container",5),e.ALo(8,"fullPermission"),e.ALo(9,"sharePermission"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",e.xi3(3,3,t.permissionObj,"exam")),e.xp6(2),e.Q6J("ngIf",!e.xi3(5,6,t.permissionObj,"exam")&&e.xi3(6,9,t.permissionObj,"exam")),e.xp6(3),e.Q6J("ngIf",!e.xi3(8,12,t.permissionObj,"exam")&&e.xi3(9,15,t.permissionObj,"classroom")&&"CLASSROOM"==t.typeObj)}}function Me(n,c){1&n&&(e.TgZ(0,"div",56),e._uU(1,"B\u1ea1n ph\u1ea3i ch\u1ecdn quy\u1ec1n."),e.qZA())}function Ne(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).Update()}),e._uU(1,"C\u1eacP NH\u1eacT"),e.qZA()}}function ye(n,c){1&n&&(e.TgZ(0,"div",64),e._UZ(1,"div",2),e.qZA())}function Ie(n,c){if(1&n&&(e.TgZ(0,"span",70),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Je(n,c){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function De(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",67),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(4).ShowAuthorized(l,"0")}),e.TgZ(1,"mat-icon",68),e._uU(2,"group"),e.qZA(),e.YNc(3,Ie,2,1,"span",69),e.YNc(4,Je,2,1,"span",5),e.qZA()}if(2&n){const t=c.$implicit;e.xp6(3),e.Q6J("ngIf",t.teamPermisisons),e.xp6(1),e.Q6J("ngIf",!t.teamPermisisons)}}function qe(n,c){if(1&n&&(e.TgZ(0,"span",70),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.fullName," ")}}function Qe(n,c){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.fullName," ")}}function Ue(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",67),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(4).ShowAuthorized(l,"1")}),e._UZ(1,"azt-create-avatar",71),e.YNc(2,qe,2,1,"span",69),e.YNc(3,Qe,2,1,"span",5),e.qZA()}if(2&n){const t=c.$implicit;e.xp6(1),e.Q6J("nameCreateAvatar",t.fullName)("size",28),e.xp6(1),e.Q6J("ngIf",t.teamPermisisons),e.xp6(1),e.Q6J("ngIf",!t.teamPermisisons)}}function Fe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"p"),e._uU(2,"Danh s\xe1ch tr\u1ed1ng"),e.qZA(),e.TgZ(3,"a",73),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).AddTeacher()}),e._uU(4,"+Th\xeam gi\xe1o vi\xean"),e.qZA()()}}function Ye(n,c){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,De,5,2,"div",65),e.ALo(2,"appFilter"),e.YNc(3,Ue,4,4,"div",65),e.ALo(4,"appFilter"),e.YNc(5,Fe,5,0,"div",66),e.ALo(6,"appFilter"),e.ALo(7,"appFilter"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,3,t.allGroupPermissionObjs,t.shareTeacherValue.value)),e.xp6(2),e.Q6J("ngForOf",e.xi3(4,6,t.allTeacherPermissionObjs,t.shareTeacherValue.value)),e.xp6(2),e.Q6J("ngIf",1==t.checkSearch(e.xi3(6,9,t.allGroupPermissionObjs,t.shareTeacherValue.value),e.xi3(7,12,t.allTeacherPermissionObjs,t.shareTeacherValue.value)))}}function Ge(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",58),e._UZ(2,"input",59),e.TgZ(3,"mat-icon",60),e._uU(4," search "),e.qZA()(),e.YNc(5,ye,2,0,"div",61),e.YNc(6,Ye,8,15,"div",5),e.TgZ(7,"div",62)(8,"a",63),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goToGroup()}),e._uU(9," QU\u1ea2N L\xdd DANH B\u1ea0"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("formControl",t.shareTeacherValue),e.xp6(3),e.Q6J("ngIf",!0===t.loadingSearch),e.xp6(1),e.Q6J("ngIf",!1===t.loadingSearch)}}function je(n,c){if(1&n&&(e.TgZ(0,"span",80),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(null==t.dataAuthorized?null:t.dataAuthorized.name)}}function Le(n,c){if(1&n&&(e.TgZ(0,"span",80),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(null==t.dataAuthorized?null:t.dataAuthorized.fullName)}}function He(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",54),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(3).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("checked",t.checked),e.xp6(1),e.hij("",t.description," ")}}function $e(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",55),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(3).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.description,"")}}function Be(n,c){if(1&n&&(e.ynx(0),e.YNc(1,He,2,2,"mat-checkbox",52),e.YNc(2,$e,2,1,"mat-checkbox",53),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.checked),e.xp6(1),e.Q6J("ngIf",!t.checked)}}function Ve(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",54),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(3).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("checked",t.checked),e.xp6(1),e.hij("",t.description," ")}}function We(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",55),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(3).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(t.description)}}function Re(n,c){if(1&n&&(e.ynx(0),e.YNc(1,Ve,2,2,"mat-checkbox",52),e.YNc(2,We,2,1,"mat-checkbox",53),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.checked&&7==t.id),e.xp6(1),e.Q6J("ngIf",!t.checked&&7==t.id)}}function Ke(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",54),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(3).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.Q6J("checked",t.checked),e.xp6(1),e.hij("",t.description," ")}}function Xe(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"mat-checkbox",55),e.NdJ("change",function(o){e.CHM(t);const l=e.oxw(2).$implicit;return e.oxw(3).changeValue(o.checked,l.id)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.description,"")}}function et(n,c){if(1&n&&(e.ynx(0),e.YNc(1,Ke,2,2,"mat-checkbox",52),e.YNc(2,Xe,2,1,"mat-checkbox",53),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.checked),e.xp6(1),e.Q6J("ngIf",!t.checked)}}function tt(n,c){if(1&n&&(e.TgZ(0,"div")(1,"div",49),e.YNc(2,Be,3,2,"ng-container",5),e.ALo(3,"fullPermission"),e.YNc(4,Re,3,2,"ng-container",5),e.ALo(5,"fullPermission"),e.ALo(6,"configAndMarkPermission"),e.YNc(7,et,3,2,"ng-container",5),e.ALo(8,"fullPermission"),e.ALo(9,"sharePermission"),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngIf",e.xi3(3,3,t.permissionObj,"exam")),e.xp6(2),e.Q6J("ngIf",!e.xi3(5,6,t.permissionObj,"exam")&&e.xi3(6,9,t.permissionObj,"exam")),e.xp6(3),e.Q6J("ngIf",!e.xi3(8,12,t.permissionObj,"exam")&&e.xi3(9,15,t.permissionObj,"classroom")&&"CLASSROOM"==t.typeObj)}}function nt(n,c){1&n&&(e.TgZ(0,"div",56),e._uU(1,"B\u1ea1n ph\u1ea3i ch\u1ecdn quy\u1ec1n."),e.qZA())}function it(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",81),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).eventDelete(0)}),e._uU(1,"X\xd3A"),e.qZA()}}function ot(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",74)(1,"div",75)(2,"span"),e._uU(3," G\xe1n quy\u1ec1n cho "),e.qZA(),e.YNc(4,je,2,1,"span",76),e.YNc(5,Le,2,1,"span",76),e.qZA(),e.TgZ(6,"div",77),e.YNc(7,tt,10,18,"div",18),e.YNc(8,nt,2,0,"div",19),e.qZA(),e.TgZ(9,"div",20),e.YNc(10,it,2,0,"div",78),e.TgZ(11,"div",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).Save()}),e._uU(12,"L\u01afU"),e.qZA()(),e.TgZ(13,"mat-icon",79),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).close()}),e._uU(14,"clear"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",null==t.dataAuthorized?null:t.dataAuthorized.name),e.xp6(1),e.Q6J("ngIf",null==t.dataAuthorized?null:t.dataAuthorized.fullName),e.xp6(2),e.Q6J("ngForOf",t.dataCheckerBoxAssign),e.xp6(1),e.Q6J("ngIf",1==t.showValidate),e.xp6(2),e.Q6J("ngIf",null==t.dataAuthorized?null:t.dataAuthorized.teamPermisisons)}}function rt(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"azt-add-teacher",82),e.NdJ("closeDialog",function(o){return e.CHM(t),e.oxw(2).closeAddTeacher(o)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("data",t.dataAddTeacherDialog)}}function at(n,c){if(1&n&&(e.TgZ(0,"span",89),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.dataGroupAndTeacer.fullName," ")}}function ct(n,c){if(1&n&&(e.TgZ(0,"span",89),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.dataGroupAndTeacer.name," ")}}function st(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",83)(1,"div",84)(2,"div"),e._uU(3," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a "),e.YNc(4,at,2,1,"span",85),e.YNc(5,ct,2,1,"span",85),e._uU(6," kh\xf4ng? "),e.qZA(),e.TgZ(7,"div",86)(8,"div",87),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).eventDelete(1)}),e._uU(9,"H\u1ee6Y"),e.qZA(),e.TgZ(10,"div",88),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).DeletePermission()}),e._uU(11,"X\xc1C NH\u1eacN"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("ngIf",t.dataGroupAndTeacer.fullName),e.xp6(1),e.Q6J("ngIf",t.dataGroupAndTeacer.name)}}function _t(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,ne,4,2,"div",5),e.YNc(3,ie,5,1,"button",6),e.qZA(),e.YNc(4,ce,4,1,"div",5),e.qZA(),e.TgZ(5,"mat-menu",null,7)(7,"mat-icon",8),e._uU(8,"clear"),e.qZA(),e.TgZ(9,"div",9),e.NdJ("click",function(o){return o.stopPropagation()}),e.YNc(10,le,4,2,"div",5),e.TgZ(11,"h3",10),e._uU(12),e.qZA(),e.YNc(13,me,2,1,"h5",5),e.TgZ(14,"div",11)(15,"h5",12),e._uU(16,"C\xe1c quy\u1ec1n \u0111\xe3 g\xe1n"),e.qZA(),e.YNc(17,pe,2,0,"div",13),e.YNc(18,de,2,1,"div",5),e.qZA()()(),e.TgZ(19,"mat-menu",null,14)(21,"mat-icon",8),e._uU(22,"clear"),e.qZA(),e.TgZ(23,"div",9),e.NdJ("click",function(o){return o.stopPropagation()}),e.TgZ(24,"div"),e.YNc(25,ue,2,0,"mat-icon",15),e.YNc(26,ge,1,2,"azt-create-avatar",16),e.qZA(),e.YNc(27,fe,2,1,"h3",17),e.YNc(28,xe,2,1,"h3",5),e.YNc(29,ve,2,1,"h5",5),e.TgZ(30,"div",11)(31,"h5",12),e._uU(32,"C\xe1c quy\u1ec1n \u0111\xe3 g\xe1n"),e.qZA(),e.YNc(33,be,2,1,"div",5),e.YNc(34,Se,10,18,"div",18),e.YNc(35,Me,2,0,"div",19),e.qZA(),e.TgZ(36,"div",20)(37,"div",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().eventDelete(0)}),e._uU(38,"X\xd3A"),e.qZA(),e.YNc(39,Ne,2,0,"div",22),e.qZA()()(),e.TgZ(40,"mat-menu",null,23)(42,"div",24),e.NdJ("click",function(o){return o.stopPropagation()}),e.YNc(43,Ge,10,3,"div",5),e.YNc(44,ot,15,5,"div",25),e.qZA()(),e.YNc(45,rt,1,1,"azt-add-teacher",26),e.YNc(46,st,12,2,"div",27)}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",0!=t.teachers.length||0!=t.groups.length),e.xp6(1),e.Q6J("ngIf",t.checkPermision()),e.xp6(1),e.Q6J("ngIf",t.whoSharePermission&&0!=t.whoSharePermission.length),e.xp6(6),e.Q6J("ngIf",t.dataGroupAndTeacer),e.xp6(2),e.Oqu(t.dataGroupAndTeacer.fullname),e.xp6(1),e.Q6J("ngIf",t.dataGroupAndTeacer.phone),e.xp6(4),e.Q6J("ngIf",1==t.LoadingUserPermesion),e.xp6(1),e.Q6J("ngIf",0==t.LoadingUserPermesion),e.xp6(7),e.Q6J("ngIf",t.dataGroupAndTeacer.name),e.xp6(1),e.Q6J("ngIf",t.dataGroupAndTeacer.fullName),e.xp6(1),e.Q6J("ngIf",t.dataGroupAndTeacer.fullName),e.xp6(1),e.Q6J("ngIf",t.dataGroupAndTeacer.name),e.xp6(1),e.Q6J("ngIf",t.dataGroupAndTeacer.phone),e.xp6(4),e.Q6J("ngIf",0==t.allPermissionObjs.length),e.xp6(1),e.Q6J("ngForOf",t.dataCheckerBoxAssign),e.xp6(1),e.Q6J("ngIf",1==t.showValidate),e.xp6(4),e.Q6J("ngIf",0!=t.allPermissionObjs.length),e.xp6(4),e.Q6J("ngIf",0==t.showAuthorized),e.xp6(1),e.Q6J("ngIf",1==t.showAuthorized),e.xp6(1),e.Q6J("ngIf",1==t.showFormAddTeache),e.xp6(1),e.Q6J("ngIf",1==t.showPopupDelete)}}let lt=(()=>{class n extends z.Q{constructor(t,i,o,l,u){super(i),this.permisionTeamService=t,this.commonService=i,this.teacherGroupService=o,this.permissionService=l,this.sortService=u,this.id=0,this.typeObj="",this.type=0,this.permissionObj={},this.ChangeEvent=new e.vpe,this.SendData=new e.vpe,this.shareTeacherValue=new x.NI(""),this.showAuthorized=!1,this.loadingSearch=!1,this.loading=!1,this.showValidate=!1,this.showFormAddTeache=!1,this.showPopupDelete=!1,this.dataAddTeacherDialog={isShow:!0},this.checkShare="",this.allGroupPermissionObjs=[],this.allTeacherPermissionObjs=[],this.groups=[],this.teachers=[],this.permissionIds=[],this.allPermissionObjs=[],this.dataGroupAndTeacer={},this.dataCheckerBoxAssign=[],this.whoSharePermission=[],this.checkFullPermission=!1,this.LoadingUserPermesion=!1}GetTeamPermissionObjs(){this.teacherGroupService.apiTeacherGroupGetTeamPermissionObjsGet(this.type,this.id).subscribe(t=>{var i,o,l,u,C,k,w,O,P,Z;if(1==t.success){var S=null!==(o=null===(i=t.data)||void 0===i?void 0:i.allGroupPermissionObjs)&&void 0!==o?o:[],M=null!==(u=null===(l=t.data)||void 0===l?void 0:l.allTeacherPermissionObjs)&&void 0!==u?u:[];this.groups=null!==(k=null===(C=t.data)||void 0===C?void 0:C.groups)&&void 0!==k?k:[],this.teachers=null!==(O=null===(w=t.data)||void 0===w?void 0:w.teachers)&&void 0!==O?O:[],this.whoSharePermission=null!==(Z=null===(P=t.data)||void 0===P?void 0:P.whoSharePermission)&&void 0!==Z?Z:[],this.allGroupPermissionObjs=this.sortService.sortGroupName(S),this.allTeacherPermissionObjs=this.sortService.sortFirstNameStudents(M),this.loading=!1,this.loadingSearch=!1}else this.loading=!1,this.loadingSearch=!1})}GetAllPermisions(){this.permisionTeamService.apiPermisionTeamGetAllPermisionsGet(this.type).subscribe(t=>{var i,o,l,u,C,k,w,O,P,Z,S;if(1==t.success){if("CLASSROOM"===this.typeObj){if(this.permissionObj&&this.permissionObj.full_permission>0)this.allPermissionObjs=null!==(o=null===(i=t.data)||void 0===i?void 0:i.objs)&&void 0!==o?o:[];else if(this.permissionService.hasShareMarkPointPermission("classroom",this.permissionObj)&&2==(null===(u=null===(l=t.data)||void 0===l?void 0:l.objs)||void 0===u?void 0:u[1].id)){for(var M=[],N=0;N<(null!==(w=null===(k=null===(C=t.data)||void 0===C?void 0:C.objs)||void 0===k?void 0:k.length)&&void 0!==w?w:0);N++)2==(null===(P=null===(O=t.data)||void 0===O?void 0:O.objs)||void 0===P?void 0:P[N].id)&&M.push(t.data.objs[N]);this.allPermissionObjs=M}}else this.allPermissionObjs=null!==(S=null===(Z=t.data)||void 0===Z?void 0:Z.objs)&&void 0!==S?S:[];this.SendData.emit(this.allPermissionObjs);for(let J=0;J<this.allPermissionObjs.length;J++)"full_permission"==this.allPermissionObjs[J].name&&(this.checkFullPermission=!0)}})}ShareObjectForGroupPermission(t,i){this.loading=!0,this.permisionTeamService.apiPermisionTeamShareObjectForGroupPermissionPost(t).subscribe(o=>{1==o.success?(this.GetTeamPermissionObjs(),this.GetAllPermisions(),this.showAuthorized=!1,this.permissionIds=[],this.logSnack(i.toString(),"success")):(this.loading=!1,this.logSnack(o.message,"error"))})}DeleteTeacherPermission(t,i,o){this.loading=!0,this.permisionTeamService.apiPermisionTeamDeleteTeacherPermissionGet(t,i,o).subscribe(l=>{1==l.success?(this.GetTeamPermissionObjs(),this.GetAllPermisions(),this.showAuthorized=!1,this.permissionIds=[],this.commonService.snackSuccess("X\xf3a quy\u1ec1n th\xe0nh c\xf4ng.","")):(this.commonService.snackError("X\xf3a quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng.",""),this.loading=!1)})}ShareObjectForTeacherPermission(t,i){this.loading=!0,this.permisionTeamService.apiPermisionTeamShareObjectForTeacherPermissionPost(t).subscribe(o=>{1==o.success?(this.GetTeamPermissionObjs(),this.GetAllPermisions(),this.showAuthorized=!1,this.permissionIds=[],this.logSnack(i.toString(),"success")):(this.logSnack(o.message,"error"),this.loading=!1)})}logSnack(t,i){"error"==i?this.showErrorSnack(null!=t?t:""):"success"==i&&this.commonService.snackSuccess("1"==t?"C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng.":"Chia s\u1ebb quy\u1ec1n th\xe0nh c\xf4ng.","")}DeleteGroupPermission(t,i,o){this.loading=!0,this.permisionTeamService.apiPermisionTeamDeleteGroupPermissionGet(t,i,o).subscribe(l=>{1==l.success?(this.GetTeamPermissionObjs(),this.GetAllPermisions(),this.showAuthorized=!1,this.permissionIds=[],this.commonService.snackSuccess("X\xf3a quy\u1ec1n th\xe0nh c\xf4ng.","")):(this.commonService.snackError("X\xf3a quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng.",""),this.loading=!1)})}styleListAvatar(t){return this.teachers.length+this.groups.length-t}checkPermision(){var t=!1;return"CLASSROOM"===this.typeObj?t=!!this.permissionService.hasSharePermission("classroom",this.permissionObj):(this.permissionService.hasSharePermission(this.typeObj.toLowerCase(),this.permissionObj)||this.permissionService.hasConfigAndMarkClassroomPermission("exam",this.permissionObj))&&(t=!0),t}eventDelete(t){0==t?(this.showPopupDelete=!0,this.userPermission.closeMenu(),this.searchForms.closeMenu()):1==t&&(this.showPopupDelete=!1,this.userPermission.openMenu())}checkSearch(t,i){let o=!1;return o=!(!t||!i||0!=t.length||0!=i.length),o}AddTeacher(){this.showFormAddTeache=!0,this.close()}closeAddTeacher(t){1==t&&(this.permissionIds=[],this.loadingSearch=!0,this.showAuthorized=!1,this.GetTeamPermissionObjs(),this.GetAllPermisions()),this.searchForms.openMenu(),this.showFormAddTeache=!1}ShowAuthorized(t,i){this.showAuthorized=!0,this.dataAuthorized=t,this.checkShare=i,t.teamPermisisons?this.senData(t,i):this.dataCheckerBoxAssign=this.allPermissionObjs}senData(t,i){this.showValidate=!1,this.checkShare=i,this.GetAllPermisions(),this.permissionIds=[],this.dataCheckerBoxAssign=this.allPermissionObjs,this.dataGroupAndTeacer=t,this.dataCheckerBoxAssign.forEach(o=>{var l,u,C;for(let k=0;k<(null!==(u=null===(l=null==t?void 0:t.teamPermisisons)||void 0===l?void 0:l.length)&&void 0!==u?u:0);k++)o.id==(null===(C=null==t?void 0:t.teamPermisisons)||void 0===C?void 0:C[k].id)&&(o.checked=!0,this.permissionIds.push(Number(o.id)))})}senDataeditPermissionTeacherShare(t){var i;this.LoadingUserPermesion=!0,this.dataCheckerBoxAssign=[],this.permissionIds=[],this.dataCheckerBoxAssign=null!==(i=t.permissionObjs)&&void 0!==i?i:[],this.dataGroupAndTeacer=t,setTimeout(()=>{this.LoadingUserPermesion=!1},400)}cancelUncheckedPermesion(){this.EditPermissionTeacherShare.closeMenu(),this.dataGroupAndTeacer={},this.LoadingUserPermesion=!1}changeValue(t,i){if(!0===t)this.permissionIds.push(Number(i));else if(!1===t)for(let o=0;o<this.permissionIds.length;o++)this.permissionIds[o]==i&&this.permissionIds.splice(o,1);0!=this.permissionIds.length?this.showValidate=!1:0===this.permissionIds.length&&(this.showValidate=!0)}goToGroup(){this.commonService.myNavigation("/admin/teacher-group/2/0")}close(){this.searchForms.closeMenu()}buttomShare(){this.permissionIds=[],this.loadingSearch=!0,this.shareTeacherValue.setValue(""),this.showAuthorized=!1,this.showValidate=!1,this.GetTeamPermissionObjs(),this.GetAllPermisions()}Update(){"1"==this.checkShare?this.checkData({teacherId:this.dataGroupAndTeacer.id,objectId:this.id,typeObj:this.typeObj,permissionIds:this.permissionIds},1):"0"==this.checkShare&&this.checkData({groupId:this.dataGroupAndTeacer.id,objectId:this.id,typeObj:this.typeObj,permissionIds:this.permissionIds},1)}Save(){var t,i;if("1"==this.checkShare){var o={teacherId:null===(t=this.dataAuthorized)||void 0===t?void 0:t.id,objectId:this.id,typeObj:this.typeObj,permissionIds:this.permissionIds};this.checkData(o,0)}else if("0"==this.checkShare){var l={groupId:null===(i=this.dataAuthorized)||void 0===i?void 0:i.id,objectId:this.id,typeObj:this.typeObj,permissionIds:this.permissionIds};this.checkData(l,0)}}checkData(t,i){0!=this.permissionIds.length?"0"==this.checkShare?this.ShareObjectForGroupPermission(t,i):"1"==this.checkShare&&this.ShareObjectForTeacherPermission(t,i):this.showValidate=!0}DeletePermission(){var t,i,o;"1"==this.checkShare?this.DeleteTeacherPermission(null===(t=this.dataGroupAndTeacer)||void 0===t?void 0:t.id,this.id,this.type):"0"==this.checkShare&&this.DeleteGroupPermission(null!==(i=this.dataGroupAndTeacer.id)&&void 0!==i?i:0,null!==(o=this.id)&&void 0!==o?o:0,this.type),this.showPopupDelete=!1}ngOnInit(){this.loading=!0,this.loadingSearch=!0,this.GetTeamPermissionObjs(),this.GetAllPermisions()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(b.$W),e.Y36(r.v),e.Y36(b.Kq),e.Y36(p.$),e.Y36(d.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-share"]],viewQuery:function(t,i){if(1&t&&(e.Gf(W,5),e.Gf(R,5),e.Gf(K,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.userPermission=o.first),e.iGM(o=e.CRH())&&(i.searchForms=o.first),e.iGM(o=e.CRH())&&(i.EditPermissionTeacherShare=o.first)}},inputs:{id:"id",typeObj:"typeObj",type:"type",permissionObj:"permissionObj"},outputs:{ChangeEvent:"ChangeEvent",SendData:"SendData"},features:[e.qOj],decls:3,vars:2,consts:[["class","spinner-border spinner-border-sm","role","status","style","margin: 20px 50%",4,"ngIf","ngIfElse"],["doneLoading",""],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","20px 50%"],[1,"share-block"],[1,"mb-2",2,"display","flex"],[4,"ngIf"],["class","pt-1 pb-1 buttom-share",3,"matMenuTriggerFor","click",4,"ngIf"],["editPermissionTeacherShare","matMenu"],[1,"clickable",2,"float","right","margin","0 5px 0 -30px"],[1,"content","pt-1","pb-1","text-center","mw-350",3,"click"],[1,"m-0"],[1,"mb-1","text-left"],[1,"m-0",2,"font-weight","bold","font-size","14px"],["style","margin: 10px; display: flex",4,"ngIf"],["addTeacher","matMenu"],["style","color: #169bd5; border-radius: 50%; height: 93px; width: 93px; background: #dedede; font-size: 70px; padding: 10px 0",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],["class","m-0",4,"ngIf"],[4,"ngFor","ngForOf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"d-flex","justify-content-end"],[1,"mr-2","clickable","buttom-cancel",2,"color","#e40000",3,"click"],["class","clickable buttom-save",3,"click",4,"ngIf"],["searchForm","matMenu"],[1,"conten-search","pl-3","pr-3","pt-1","pb-1",3,"click"],["class","block-share",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],["class","popup-delete",4,"ngIf"],[1,"mr-2","pt-1","pb-1",2,"padding-left","5px","float","left"],["class","show-tickets clickable",3,"ngStyle",4,"ngFor","ngForOf"],[1,"show-tickets","clickable",3,"ngStyle"],[3,"matMenuTriggerFor","click"],["userPermission","matMenuTrigger"],[3,"matTooltip","nameCreateAvatar","size"],[1,"pt-1","pb-1","buttom-share",3,"matMenuTriggerFor","click"],["searchForms","matMenuTrigger"],[2,"height","17px","width","18px","font-size","14px","vertical-align","middle"],[2,"font-weight","500"],["EditPermissionTeacherShare","matMenuTrigger"],["width","28",3,"matTooltip","src",4,"ngIf","ngIfElse"],["noAvatar",""],["width","28",3,"matTooltip","src"],["style","border-radius: 50%","width","93",3,"src",4,"ngIf","ngIfElse"],["noDataAvatar",""],["width","93",2,"border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],[2,"margin","10px","display","flex"],["role","status",1,"spinner-border","spinner-border-sm",2,"margin","auto"],["class","mt-2",4,"ngFor","ngForOf"],[1,"mt-2"],[2,"color","#169bd5","border-radius","50%","height","93px","width","93px","background","#dedede","font-size","70px","padding","10px 0"],[1,"mt-2","mb-1"],["color","primary",3,"checked","change",4,"ngIf"],["color","primary",3,"change",4,"ngIf"],["color","primary",3,"checked","change"],["color","primary",3,"change"],[1,"alert","alert-danger","mt-3"],[1,"clickable","buttom-save",3,"click"],[1,"mb-3"],["type","text","placeholder","T\xecm t\xean ho\u1eb7c s\u0111t",1,"input-search",3,"formControl"],[1,"search-ver","clickable"],["style","margin-left: -1rem",4,"ngIf"],[1,"mt-3","pb-1"],[1,"manage-contacts",3,"click"],[2,"margin-left","-1rem"],["class","d-flex align-items-center mt-1 mb-1 view-singer-name clickable","style","font-size: 14px",3,"click",4,"ngFor","ngForOf"],["class","text-center",4,"ngIf"],[1,"d-flex","align-items-center","mt-1","mb-1","view-singer-name","clickable",2,"font-size","14px",3,"click"],[1,"singer-img","mr-2",2,"color","#169bd5"],["matTooltip","\u0110\xe3 \u0111\u01b0\u1ee3c chia s\u1ebb quy\u1ec1n","style","color: #a6a6a6",4,"ngIf"],["matTooltip","\u0110\xe3 \u0111\u01b0\u1ee3c chia s\u1ebb quy\u1ec1n",2,"color","#a6a6a6"],[1,"mr-2",3,"nameCreateAvatar","size"],[1,"text-center"],[1,"manage-contacts",2,"font-size","12px",3,"click"],[1,"block-share"],[1,"mb-3",2,"padding-top","15px","padding-right","15px"],["style","font-weight: bold",4,"ngIf"],[1,"mb-1"],["class","mr-1 clickable buttom-cancel","style","color: #e40000",3,"click",4,"ngIf"],[1,"icon-close",3,"click"],[2,"font-weight","bold"],[1,"mr-1","clickable","buttom-cancel",2,"color","#e40000",3,"click"],[3,"data","closeDialog"],[1,"popup-delete"],[1,"body-popup-delete"],["style","font-weight: bold; color: rgb(255, 22, 22)",4,"ngIf"],[1,"d-flex","justify-content-end","mt-3"],[1,"clickable","buttom-cancel","mr-2",3,"click"],[1,"clickable","buttom-delete",3,"click"],[2,"font-weight","bold","color","rgb(255, 22, 22)"]],template:function(t,i){if(1&t&&(e.YNc(0,X,1,0,"div",0),e.YNc(1,_t,47,21,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",i.loading)("ngIfElse",o)}},directives:[h.O5,h.sg,h.PC,_.p6,s.t,g.gM,a.Hw,_.VK,m.oG,x.Fj,x.JJ,x.oH,V],pipes:[T.GT,T.Gf,T.QE,T.Jx,T.gB],styles:[".content[_ngcontent-%COMP%]{padding:15px}.conten-search[_ngcontent-%COMP%]{max-height:300px;overflow:auto}[_ngcontent-%COMP%]::-webkit-scrollbar{background-color:#fff;width:16px}[_ngcontent-%COMP%]::-webkit-scrollbar-button{display:none}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#babac0;border-radius:16px;border:4px solid #fff}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.show-tickets[_ngcontent-%COMP%]{margin-left:-6px;margin-top:-8px;display:inline-block;position:relative;transition:all .3s}.show-tickets[_ngcontent-%COMP%]:hover{transform:translateY(-5px);z-index:999!important}.show-tickets[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:1px solid #0093ff;border-radius:50%}.singer-img[_ngcontent-%COMP%]{border-radius:50%}.content-search[_ngcontent-%COMP%]{min-width:330px;background-color:#fff;border-radius:5px;box-shadow:0 0 9px #5b5b5b59}.search-ver[_ngcontent-%COMP%]:hover{background:#e8e8e8}.search-ver[_ngcontent-%COMP%]{color:#0093ff;vertical-align:middle;font-size:26px;padding:2px 4px;height:30px;width:32px;text-align:center;border-radius:3px;margin-left:-32px}.input-search[_ngcontent-%COMP%]{width:100%;height:34px;border:2px solid #ccc9c9e3;padding:.2rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:2px solid #0EAFC0;outline:none}.buttom-cancel[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;padding:5px 15px;border:1px solid #d4d3d3}.buttom-cancel[_ngcontent-%COMP%]:hover{background-color:#eee}.block-share[_ngcontent-%COMP%]{position:relative}.icon-close[_ngcontent-%COMP%]{position:absolute;top:-9px;right:-14px;cursor:pointer;height:23px;font-size:22px;width:23px}.buttom-save[_ngcontent-%COMP%]{background-color:#169bd5;border-radius:5px;padding:6px 15px;color:#fff}.buttom-save[_ngcontent-%COMP%]:hover{background-color:#13b3f8}.buttom-delete[_ngcontent-%COMP%]{background-color:#f44336;border-radius:5px;padding:6px 15px;color:#fff}.buttom-delete[_ngcontent-%COMP%]:hover{background-color:#f81707}.buttom-share[_ngcontent-%COMP%]{font-size:11px;border:1px solid #b2b2b2;border-radius:2px;background:white}.buttom-share[_ngcontent-%COMP%]:hover{background:#eeeeee}.manage-contacts[_ngcontent-%COMP%]:hover{color:#19cdfa}.manage-contacts[_ngcontent-%COMP%]{font-size:9px;color:#00a7d0}.view-singer-name[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-singer-name[_ngcontent-%COMP%]{border-radius:5px;padding:4px}.popup-delete[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.body-popup-delete[_ngcontent-%COMP%]{top:50%;left:50%;border-radius:5px;transform:translate(-50%,-50%);position:fixed;background:white;width:30%;overflow:auto;text-align:center;padding:20px}.view-list-permission[_ngcontent-%COMP%]:hover{background:#ececec;border-radius:5px;padding:4px}.view-list-permission[_ngcontent-%COMP%]{background:#f3f3f3;border-radius:5px;padding:4px}@media screen and (max-width: 750px){.body-popup-delete[_ngcontent-%COMP%]{width:90%!important}}"]}),n})()},60703:(D,E,f)=>{f.d(E,{HF:()=>_,o8:()=>p});var e=f(42856),x=f(5e3),b=f(15439);const r=f.n(b)()||b,p=new x.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function d(){return{useUtc:!1}}});function h(s,g){const a=Array(s);for(let m=0;m<s;m++)a[m]=g(m);return a}let _=(()=>{class s extends e.fM{constructor(a){super(),this._options=a,this._localeData={firstDayOfWeek:0,longMonths:"",shortMonths:"",dates:"",longDaysOfWeek:"",shortDaysOfWeek:"",narrowDaysOfWeek:""};let v="vi";-1===window.location.href.indexOf("en")&&(v="vi"),r.locale(),this.setLocale(v||r.locale())}setLocale(a){super.setLocale(a);const m=r.localeData(a);this._localeData={firstDayOfWeek:m.firstDayOfWeek(),longMonths:m.months(),shortMonths:m.monthsShort(),dates:h(31,A=>this.createDate(2017,0,A+1).format("D")),longDaysOfWeek:m.weekdays(),shortDaysOfWeek:m.weekdaysShort(),narrowDaysOfWeek:m.weekdaysMin()}}getYear(a){return this.clone(a).year()}getMonth(a){return this.clone(a).month()}getDate(a){return this.clone(a).date()}getDayOfWeek(a){return this.clone(a).day()}getMonthNames(a){return"long"===a?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(a){return"long"===a?this._localeData.longDaysOfWeek:"short"===a?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(a){return this.clone(a).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(a){return this.clone(a).daysInMonth()}clone(a){return a.clone().locale(this.locale)}createDate(a,m,A){if(m<0||m>11)throw Error(`Invalid month index "${m}". Month index has to be between 0 and 11.`);if(A<1)throw Error(`Invalid date "${A}". Date has to be greater than 0.`);const v=this._createMoment({year:a,month:m,date:A}).locale(this.locale);if(!v.isValid())throw Error(`Invalid date "${A}" for month with index "${m}".`);return v}today(){return this._createMoment().locale(this.locale)}parse(a,m){return a&&"string"==typeof a?this._createMoment(a,m,this.locale):a?this._createMoment(a).locale(this.locale):null}format(a,m){if(a=this.clone(a),!this.isValid(a))throw Error("MomentDateAdapter: Cannot format invalid date.");return a.format(m)}addCalendarYears(a,m){return this.clone(a).add({years:m})}addCalendarMonths(a,m){return this.clone(a).add({months:m})}addCalendarDays(a,m){return this.clone(a).add({days:m})}toIso8601(a){return this.clone(a).format()}deserialize(a){let m;if(a instanceof Date)m=this._createMoment(a).locale(this.locale);else if(this.isDateInstance(a))return this.clone(a);if("string"==typeof a){if(!a)return null;m=this._createMoment(a,r.ISO_8601).locale(this.locale)}return m&&this.isValid(m)?this._createMoment(m).locale(this.locale):super.deserialize(a)}isDateInstance(a){return r.isMoment(a)}isValid(a){return this.clone(a).isValid()}invalid(){return r.invalid()}getHour(a){return a.hours()}getMinute(a){return a.minutes()}getSecond(a){return a.seconds()}setHour(a,m){a.hours(m)}setMinute(a,m){a.minutes(m)}setSecond(a,m){a.seconds(m)}_createMoment(a,m,A){const{strict:v,useUtc:T}=this._options||{};return T?r.utc(a,m,A,v):r(a,m,A,v)}}return s.\u0275fac=function(a){return new(a||s)(x.LFG(p,8))},s.\u0275prov=x.Yz7({token:s,factory:s.\u0275fac}),s})()},86317:(D,E,f)=>{f.d(E,{K:()=>x});var e=f(5e3);let x=(()=>{class b{constructor(){this.collator=new Intl.Collator("vi-VN",{sensitivity:"variant",usage:"sort"})}sortFirstNameStudents(r){if(r){var p="fullName";return r.sort((d,h)=>{var _,s;return d.hasOwnProperty(p)&&h.hasOwnProperty(p)?this.collator.compare(this.getFirstName(null===(_=d[p])||void 0===_?void 0:_.toString().trim()),this.getFirstName(null===(s=h[p])||void 0===s?void 0:s.toString().trim())):0})}return r}sortTimeDESC(r){for(var p=[],d=[],_="createdAt",s=0;s<r.length;s++)r[s].hasOwnProperty(_)&&(null!=r[s][_]&&""!=r[s][_]?p.push(r[s]):d.push(r[s]));for(s=0;s<p.length;s++){let v;for(var g=s+1;g<p.length;g++)if(p[s].hasOwnProperty(_)&&p[g].hasOwnProperty(_)){var a;a=Math.floor(new Date(p[s][_]).getTime()/1e3),Math.floor(new Date(p[g][_]).getTime()/1e3)>a&&(v=p[s],p[s]=p[g],p[g]=v)}}return p.concat(d)}sortTimeASC(r){for(var p=[],d=[],_="createdAt",s=0;s<r.length;s++)r[s].hasOwnProperty(_)&&(null!=r[s][_]&&""!=r[s][_]?p.push(r[s]):d.push(r[s]));for(s=0;s<p.length;s++){let v;for(var g=s+1;g<p.length;g++)if(p[s].hasOwnProperty(_)&&p[g].hasOwnProperty(_)){var a;a=Math.floor(new Date(p[s][_]).getTime()/1e3),Math.floor(new Date(p[g][_]).getTime()/1e3)<a&&(v=p[s],p[s]=p[g],p[g]=v)}}return p.concat(d)}sortMarkDESC(r,p){for(var d="confirmedAt",h="mark",_=0;_<r.length;_++){let m;for(var s=_+1;s<r.length;s++)r[_].hasOwnProperty(d)&&r[s].hasOwnProperty(d)&&r[_].hasOwnProperty(h)&&r[s].hasOwnProperty(h)&&(p?(null!=r[s][d]?r[s][h]:null==r[s][d]&&null!=r[s][h]?-1:-2)>(null!=r[_][d]?r[_][h]:null==r[_][d]&&null!=r[_][h]?-1:-2)&&(m=r[_],r[_]=r[s],r[s]=m):(null!=r[s][h]?r[s][h]:-1)>(null!=r[_][h]?r[_][h]:-1)&&(m=r[_],r[_]=r[s],r[s]=m))}return r}sortMarkASC(r,p){for(var d="confirmedAt",h="mark",_=0;_<r.length;_++){let m;for(var s=_+1;s<r.length;s++)r[_].hasOwnProperty(d)&&r[s].hasOwnProperty(d)&&r[_].hasOwnProperty(h)&&r[s].hasOwnProperty(h)&&(p?(null!=r[s][d]?r[s][h]:null==r[s][d]&&null!=r[s][h]?-1:-2)<(null!=r[_][d]?r[_][h]:null==r[_][d]&&null!=r[_][h]?-1:-2)&&(m=r[_],r[_]=r[s],r[s]=m):r[s][h]<r[_][h]&&(m=r[_],r[_]=r[s],r[s]=m))}return r}sortFirstNameStudentsInClass(r){var p=[],d="results";return r.forEach(h=>{h.hasOwnProperty(d)&&(h[d]=this.sortFirstNameStudents(h[d])),p.push(h)}),p}sortTimeStudentsInClass(r,p){var d=[],h="results";return r.forEach(_=>{_.hasOwnProperty(h)&&(_[h]=1==p?this.sortTimeDESC(_[h]):this.sortTimeASC(_[h])),d.push(_)}),d}sortMarkStudentsInClass(r,p,d){var h=[],_="results";return r.forEach(s=>{s.hasOwnProperty(_)&&(s[_]=1==p?this.sortMarkDESC(s[_]):this.sortMarkASC(s[_])),h.push(s)}),h}sortGroupName(r){if(r){var p="name";return r.sort((d,h)=>{var _,s;return d.hasOwnProperty(p)&&h.hasOwnProperty(p)?this.collator.compare(this.getGroupName(null===(_=d[p])||void 0===_?void 0:_.toString().trim()),this.getGroupName(null===(s=h[p])||void 0===s?void 0:s.toString().trim())):0})}return r}sortArrayByMultipleObjectKeyAsc(r,p,d){return r&&(r.sort((h,_)=>{var s,g,a,m;if(h.hasOwnProperty(p)&&_.hasOwnProperty(p)&&h.hasOwnProperty(d)&&_.hasOwnProperty(d)){if("pos"==p&&"id"==d){var A=h[p]<_[p]?-1:h[p]==_[p]?0:1;return 0==A?h[d]<_[d]?-1:h[d]==_[d]?0:1:A}var T=this.collator.compare(this.getFirstName(null===(s=h[p])||void 0===s?void 0:s.toString().trim()),this.getFirstName(null===(g=_[p])||void 0===g?void 0:g.toString().trim()));return 0==T?this.collator.compare(this.getFirstName(null===(a=h[d])||void 0===a?void 0:a.toString().trim()),this.getFirstName(null===(m=_[d])||void 0===m?void 0:m.toString().trim())):T}return 0}),r)}getFirstName(r){return null!=r?r.split(" ").slice(-1).join(" ").toUpperCase():""}getGroupName(r){return null!=r?r.split(" ").slice(-1).join("").toLowerCase():""}}return b.\u0275fac=function(r){return new(r||b)},b.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()}}]);