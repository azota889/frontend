"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[558],{51558:(il,vt,g)=>{g.r(vt),g.d(vt,{TestFrontModule:()=>Xs});var T=g(69808),x=g(93075),bt=g(48966),Q=g(74202),Rt=g(51908),Gt=g(1737),wt=g(63728),Bt=g(47470),Kt=g(75658),$t=g(49088),Wt=g(8785),Tt=g(37389),Vt=g(45668),X=g(36053),q=g(55330),t=g(5e3),L=g(35018),tt=g(34782),D=g(74693),et=g(91350),Xt=g(23917),nt=g(30004);function te(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function ee(i,s){if(1&i&&t._UZ(0,"azt-test-review",3),2&i){const e=t.oxw();t.Q6J("initDataResult",e.initDataAnswerTest)("isBackEnd",!1)}}let ne=(()=>{class i extends q.Q{constructor(e,n,o,a){super(e),this.commonService=e,this.activeRoute=n,this.browserStorageService=o,this.frontExamResultService=a,this.headerTitle="",this.initDataAnswerTest={},this.backToLink=""}redirectToBackLink(){var e;let n=null!==(e=this.commonService.getMyQueryParam("backto"))&&void 0!==e?e:"",o=this.activeRoute.snapshot.paramMap.get("hash_id");this.backToLink=this.commonService.getMyQueryParam("offline")?null!=n?n:"/student/dashboard/0":n.includes("enter-question")?n:`/de-thi/${o}?backto=${encodeURIComponent(n)}`}translateMetaTitle(e){this.commonService.getTranslate("lang_auto_ket_qua").subscribe(n=>{this.commonService.translateMetaData({title:n+": "+e,description:n+": "+e,image:"lang_cms_test_image"})})}getAndProcessDataForStudent(){this.initStatusObj(),(0,X.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,n,o=null===(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===e?void 0:e.toString();let a=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),l=null!==(n=this.commonService.getMyQueryParam("offline"))&&void 0!==n?n:"";var r=this.browserStorageService.getSimpleSessionStorageWithExpired("test_result_v2_"+o+"_"+a);r?(this.initDataAnswerTest.data=r,this.headerTitle=`K\u1ebft qu\u1ea3: ${r.examObj.name}`,this.translateMetaTitle(r.examObj.name),this.successStatusObj()):this.frontExamResultService.apiFrontExamResultGetExamAnswerGet(o,a,l).subscribe(_=>{var m,c,d,h,p;1==_.success?(this.initDataAnswerTest=_,this.headerTitle=`K\u1ebft qu\u1ea3: ${null===(c=null===(m=null==_?void 0:_.data)||void 0===m?void 0:m.examObj)||void 0===c?void 0:c.name}`,this.translateMetaTitle(null===(h=null===(d=_.data)||void 0===d?void 0:d.examObj)||void 0===h?void 0:h.name),this.successStatusObj()):this.errorStatusObj(null!==(p=_.message)&&void 0!==p?p:"",!0)})})}ngOnInit(){this.commonService.gaEvent("FrontExam_ViewFullResult"),this.getAndProcessDataForStudent(),this.redirectToBackLink(),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.v),t.Y36(Q.gz),t.Y36(tt.z),t.Y36(D.CA))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-answer-test"]],features:[t.qOj],decls:4,vars:3,consts:[[3,"headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"initDataResult","isBackEnd"]],template:function(e,n){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,te,1,0,"azt-loading-effect",1),t.YNc(2,ee,1,2,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerBackTolink",n.backToLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[T.O5,et.Q,Xt.K,nt.L],encapsulation:2}),i})();var J=g(24096),yt=g(67102),it=g(43147),S=g(1033);function ie(i,s){1&i&&(t.TgZ(0,"div")(1,"div",5)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_co_loi_khi_tai_ket_qua_vui_long_tai_lai_trang_hoac_thu_lai_sau")))}function oe(i,s){if(1&i&&(t.TgZ(0,"span",32),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.examResultObj.mark," ")}}function ae(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"span",30),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,oe,2,1,"span",31),t.BQk()),2&i){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(2),t.Q6J("ngIf",null!=e.examResultObj.mark)}}function se(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),": "))}function le(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function re(i,s){if(1&i&&(t.TgZ(0,"span",32),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Oqu(e.examResultObj.mark)}}function _e(i,s){if(1&i&&(t.ynx(0),t.YNc(1,se,3,3,"span",33),t.YNc(2,le,3,3,"span",33),t.YNc(3,re,2,1,"span",31),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.examResultObj.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.examResultObj.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.examResultObj.mark)}}function ce(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function me(i,s){if(1&i&&(t.TgZ(0,"span",35),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",e.examResultObj.mark,"")}}function de(i,s){1&i&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function ue(i,s){if(1&i&&(t.ynx(0),t.YNc(1,ce,3,3,"span",33),t.YNc(2,me,2,1,"span",34),t.YNc(3,de,3,3,"span",29),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null!=e.examResultObj.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.examResultObj.mark&&null!=e.examResultObj.essayMark),t.xp6(1),t.Q6J("ngIf",null==e.examResultObj.essayMark)}}function pe(i,s){1&i&&(t.TgZ(0,"span",36),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function ge(i,s){if(1&i&&(t.TgZ(0,"div",27),t.YNc(1,ae,5,4,"ng-container",28),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,_e,4,3,"ng-container",28),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,ue,4,3,"ng-container",28),t.ALo(6,"isOnlyEssay"),t.YNc(7,pe,3,3,"span",29),t.qZA()),2&i){const e=t.oxw(2);let n,o,a;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,null!==(n=e.examObj.examType)&&void 0!==n?n:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,null!==(o=e.examObj.examType)&&void 0!==o?o:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,null!==(a=e.examObj.examType)&&void 0!==a?a:0)),t.xp6(2),t.Q6J("ngIf",null==e.examResultObj.mark)}}function he(i,s){1&i&&(t.TgZ(0,"span",30),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function fe(i,s){if(1&i&&(t.TgZ(0,"div",27),t.YNc(1,he,3,3,"span",33),t.TgZ(2,"span",32),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==e.examResultObj.essayMark),t.xp6(2),t.hij(" ",t.lcZ(4,2,"lang_auto_chua_duoc_xem_diem")," ")}}function xe(i,s){if(1&i&&(t.TgZ(0,"div",37)(1,"p",13),t.O4$(),t.TgZ(2,"svg",14),t._UZ(3,"path",38)(4,"circle",39),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",17),t._uU(8),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_thi_sinh")," "),t.xp6(3),t.hij(" ",e.studentObj.fullName?e.studentObj.fullName:e.userObj.fullName," ")}}function ve(i,s){if(1&i&&(t.TgZ(0,"div",12)(1,"p",13),t.O4$(),t.TgZ(2,"svg",40),t._UZ(3,"path",41)(4,"path",42),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(7,"p",43),t._uU(8),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(5),t.hij(" ",t.lcZ(6,2,"lang_auto_so_luong_dung")," "),t.xp6(3),t.hij(" ",e.examResultObj.rightAnswer," ")}}function be(i,s){if(1&i&&(t.TgZ(0,"div",12)(1,"p",13),t.O4$(),t.TgZ(2,"svg",44),t._UZ(3,"circle",15)(4,"line",45)(5,"line",46),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(8,"p",47),t._uU(9),t.qZA()()),2&i){const e=t.oxw(2);let n;t.xp6(6),t.hij(" ",t.lcZ(7,2,"lang_auto_so_cau_sai")," "),t.xp6(3),t.hij(" ",(null!==(n=e.examResultObj.totalQuestion)&&void 0!==n?n:0)-(null!==(n=e.examResultObj.rightAnswer)&&void 0!==n?n:0)," ")}}function we(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"h2",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.YNc(4,ge,8,10,"div",8),t.YNc(5,fe,5,4,"div",8),t.TgZ(6,"h3",9),t._uU(7),t.qZA(),t.TgZ(8,"div",10),t.YNc(9,xe,9,4,"div",11),t.TgZ(10,"div",12)(11,"p",13),t.O4$(),t.TgZ(12,"svg",14),t._UZ(13,"circle",15)(14,"polyline",16),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"p",17),t._uU(18),t.qZA()(),t.YNc(19,ve,9,4,"div",18),t.YNc(20,be,10,4,"div",18),t.TgZ(21,"div",12)(22,"p",13),t.O4$(),t.TgZ(23,"svg",19),t._UZ(24,"circle",15)(25,"line",20)(26,"line",21),t.qZA(),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(29,"p",22),t._uU(30),t.qZA()()(),t.TgZ(31,"div",23)(32,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.redirectToAnswerTest())}),t._uU(33),t.ALo(34,"mytranslate"),t.O4$(),t.TgZ(35,"svg",25),t._UZ(36,"polyline",26),t.qZA()()()}if(2&i){const e=t.oxw();let n;t.xp6(2),t.Oqu(t.lcZ(3,15,"lang_auto_bai_lam_cua_ban_da_duoc_gui_di")),t.xp6(2),t.Q6J("ngIf",2!=e.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2==e.examObj.whenShowResult),t.xp6(2),t.hij(" ",e.examObj.name," "),t.xp6(2),t.Q6J("ngIf",e.studentObj.fullName||e.userObj.fullName),t.xp6(6),t.hij(" ",t.lcZ(16,17,"lang_auto_thoi_gian_lam_bai")," "),t.xp6(3),t.HOy(" ",e.days," ",e.hours," ",e.minutes," ",e.seconds," "),t.xp6(1),t.Q6J("ngIf",null!=e.examResultObj.rightAnswer),t.xp6(1),t.Q6J("ngIf",!e.examResultObj.rightAnswer),t.xp6(7),t.hij(" ",t.lcZ(28,19,"lang_auto_so_cau_hoi")," "),t.xp6(3),t.hij(" ",null!==(n=e.examResultObj.totalQuestion)&&void 0!==n?n:0," "),t.xp6(3),t.hij(" Xem ",t.lcZ(34,21,"lang_auto_dap_an_chi_tiet")," ")}}let Te=(()=>{class i extends q.Q{constructor(e,n,o,a,l){super(o),this.activeRoute=e,this.frontExamResultService=n,this.commonService=o,this.baseApiService=a,this.browserStorageService=l,this.subscriptions=new J.w,this.hashId="",this.resultId=0,this.tenantId=0,this.cur_cateId=0,this.examObj={},this.examResultObj={},this.studentObj={},this.userObj={},this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.backToLink="",this.paramBackToLink=""}getExamResult(){var e,n,o,a,l;this.initStatusObj();var r=this.browserStorageService.getSimpleSessionStorage("test_result_v2_"+this.hashId+"_"+this.resultId);if(r){var _=this.commonService.willDeleteParseJson(r),m=this.commonService.willDeleteParseJson(null!==(e=_.data)&&void 0!==e?e:"");this.examObj=null!==(n=m.examObj)&&void 0!==n?n:{},this.examResultObj=null!==(o=m.examResultObj)&&void 0!==o?o:{},this.studentObj=m.studentObj;var c=new Date(null!==(a=this.examResultObj.startedTest)&&void 0!==a?a:""),h=new Date(null!==(l=this.examResultObj.createdAt)&&void 0!==l?l:"").getTime()-c.getTime(),p=Math.floor(h/864e5),f=Math.floor(h/36e5)-24*p,v=Math.floor(h/6e4)-(24*p*60+60*f),k=Math.floor(h/1e3)-(24*p*60*60+60*f*60+60*v);0!=p&&this.commonService.getTranslate("lang_auto_ngay").subscribe(y=>{this.days=p+" "+y}),0!=f&&this.commonService.getTranslate("lang_auto_gio").subscribe(y=>{this.hours=f+" "+y}),0!=v&&this.commonService.getTranslate("lang_auto_phut").subscribe(y=>{this.minutes=v+" "+y}),0!=k&&this.commonService.getTranslate("lang_auto_giay").subscribe(y=>{this.seconds=k+" "+y});let w="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(y=>{w=y}),this.commonService.translateMetaData({title:w+": "+this.examObj.name,description:this.examObj.name}),this.stopStatusObj()}else this.subscriptions.add(this.frontExamResultService.apiFrontExamResultGetObjGet(this.hashId,this.resultId).subscribe(w=>{var y,E,j,I,u,b,C,Z,F,A,O,M,P;if(1==w.success){this.hasErrorMessage=(null==w?void 0:w.hasOwnProperty("message"))&&w.message?w.message:"",this.examObj=null!==(E=null===(y=w.data)||void 0===y?void 0:y.examObj)&&void 0!==E?E:{},this.examResultObj=null!==(I=null===(j=w.data)||void 0===j?void 0:j.examResultObj)&&void 0!==I?I:{},this.studentObj=null!==(b=null===(u=w.data)||void 0===u?void 0:u.studentObj)&&void 0!==b?b:{};var H=new Date(null!==(F=null===(Z=null===(C=w.data)||void 0===C?void 0:C.examResultObj)||void 0===Z?void 0:Z.startedTest)&&void 0!==F?F:""),B=new Date(null!==(M=null===(O=null===(A=w.data)||void 0===A?void 0:A.examResultObj)||void 0===O?void 0:O.createdAt)&&void 0!==M?M:"").getTime()-H.getTime(),R=Math.floor(B/864e5),K=Math.floor(B/36e5)-24*R,$=Math.floor(B/6e4)-(24*R*60+60*K),st=Math.floor(B/1e3)-(24*R*60*60+60*K*60+60*$);0!=R&&this.commonService.getTranslate("lang_auto_ngay").subscribe(z=>{this.days=R+" "+z}),0!=f&&this.commonService.getTranslate("lang_auto_gio").subscribe(z=>{this.hours=K+" "+z}),0!=v&&this.commonService.getTranslate("lang_auto_phut").subscribe(z=>{this.minutes=$+" "+z}),0!=k&&this.commonService.getTranslate("lang_auto_giay").subscribe(z=>{this.seconds=st+" "+z});let W="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(z=>{W=z}),this.commonService.translateMetaData({title:W+": "+this.examObj.name,description:this.examObj.name}),this.successStatusObj()}else this.errorStatusObj(null!==(P=w.message)&&void 0!==P?P:"",!0)}))}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.cur_cateId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.paramBackToLink))}checkValidPhone(){var e=/^[0-9]{10}$/;return!!(this.studentObj.phone&&this.studentObj.phone.match(e)||this.userObj.phone&&this.userObj.phone.match(e))}ngOnInit(){var e;(0,X.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n,o=null===(n=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===n?void 0:n.toString();this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=o||"",this.userObj=this.baseApiService.getUserObj(),this.getExamResult()}),this.backToLink="/student/dashboard/0",this.paramBackToLink=null!==(e=this.commonService.getMyQueryParam("backto"))&&void 0!==e?e:"",this.commonService.getMyQueryParam("backto")&&(this.backToLink=this.paramBackToLink),this.commonService.gaEvent("FrontExam_ViewShortResult"),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Q.gz),t.Y36(yt.C),t.Y36(L.v),t.Y36(it._),t.Y36(tt.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-test"]],features:[t.qOj],decls:7,vars:6,consts:[[3,"headerTitle","headerBackTolink"],[1,"intro-y","mt-8"],[1,"box","mx-auto","mt-5",2,"max-width","560px"],[4,"ngIf","ngIfElse"],["Normal",""],[1,"alert","alert-danger"],[2,"text-align","center","padding-top","30px"],[1,"text-lg","font-bold"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"text-md","font-medium","text-center","mt-3","px-5"],[1,"azt-info-exam","mt-5","px-5"],["class","flex items-center",4,"ngIf"],[1,"flex","items-center","mt-3"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-slate-500"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"text-md","text-slate-500","font-medium","ml-auto"],[1,"p-5"],[1,"btn","btn-outline-primary","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","ml-2"],["points","9 18 15 12 9 6"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],[4,"ngIf"],["class","font-medium text-lg text-danger",4,"ngIf"],[1,"font-medium","text-md","mr-2"],["class","font-medium text-lg","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-lg",2,"font-size","25px"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-lg",4,"ngIf"],[1,"font-medium","text-lg"],[1,"font-medium","text-lg","text-danger"],[1,"flex","items-center"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-success"],["d","M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"],["d","m9 12 2 2 4-4"],[1,"text-md","font-medium","text-success","ml-auto"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","text-danger"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"text-md","font-medium","text-danger","ml-auto"]],template:function(e,n){if(1&e&&(t.TgZ(0,"student-layout",0),t.ALo(1,"mytranslate"),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,ie,5,3,"div",3),t.YNc(5,we,37,23,"ng-template",null,4,t.W1O),t.qZA()()()),2&e){const o=t.MAs(6);t.Q6J("headerTitle",t.lcZ(1,4,"lang_auto_nop_bai"))("headerBackTolink",n.backToLink),t.xp6(4),t.Q6J("ngIf",""!=n.statusObj.errorMessage)("ngIfElse",o)}},dependencies:[T.O5,nt.L,S.bT,S.fV,S.sA,S.G0],encapsulation:2}),i})();var ye=g(99568),Ce=g(58410),ke=g(20259),Ct=g(92340),G=g(70655),_t=g(40520),U=g(51442),Ze=g(42466),kt=g(58326),Zt=g(12813),lt=g(35191),Se=g(69287),ct=g(25245);const Ae=["customCard"],Oe=["fileSelect"];function Ie(i,s){1&i&&(t.TgZ(0,"h5",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_bai_lam_dang_duoc_tai_len_vui_long_doi_trong_giay_lat")))}function Me(i,s){1&i&&(t.TgZ(0,"h5",18),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_dang_dong_bo_du_lieu_vui_long_doi_trong_giay_lat")))}function Ee(i,s){if(1&i&&(t.TgZ(0,"div",16),t.YNc(1,Ie,3,3,"h5",17),t.YNc(2,Me,3,3,"h5",17),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.Tmploading),t.xp6(1),t.Q6J("ngIf",e.Tmploading)}}const je=function(i){return{"width.%":i}};function Le(i,s){if(1&i&&(t.TgZ(0,"div",21)(1,"h5",22),t._uU(2),t.qZA(),t.TgZ(3,"div",23),t._UZ(4,"div",24),t.qZA()()),2&i){const e=s.$implicit;t.xp6(2),t.Oqu(e.fileName),t.xp6(2),t.Q6J("ngStyle",t.VKq(2,je,e.uploadProgress))}}function Ue(i,s){if(1&i&&(t.TgZ(0,"div",19),t.YNc(1,Le,5,4,"div",20),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.convertObjToArray(e.fileUploadQueue))}}function Fe(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"img",32),t.ALo(2,"safe"),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.url||""),t.LSH)}}function Pe(i,s){if(1&i&&(t._UZ(0,"img",32),t.ALo(1,"safe")),2&i){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,e.thumb||""),t.LSH)}}function qe(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.removeImg(o.url||""))}),t.O4$(),t.TgZ(1,"svg",34),t._UZ(2,"line",35)(3,"line",36),t.qZA()()}}function Ne(i,s){1&i&&(t.TgZ(0,"span",37)(1,"mat-icon",38),t._uU(2,"check_box_outline"),t.qZA()())}function Qe(i,s){if(1&i&&(t.TgZ(0,"div",27),t.YNc(1,Fe,3,3,"ng-container",28),t.YNc(2,Pe,2,3,"ng-template",null,29,t.W1O),t.YNc(4,qe,4,0,"div",30),t.YNc(5,Ne,3,0,"span",31),t.qZA()),2&i){const e=s.$implicit,n=t.MAs(3),o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0==o.isVideo(e.mimes||""))("ngIfElse",n),t.xp6(3),t.Q6J("ngIf",1!=o.isSuccess),t.xp6(1),t.Q6J("ngIf",o.isSuccess)}}function De(i,s){if(1&i&&(t.TgZ(0,"div",25),t.YNc(1,Qe,6,4,"div",26),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.uploadFiles)}}function Je(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",39),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openSelectFile())}),t.O4$(),t.TgZ(1,"svg",40),t._UZ(2,"path",41)(3,"polyline",42)(4,"line",43),t.qZA(),t.kcU(),t.TgZ(5,"span",44),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"input",45,46),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.selectFile(o))}),t.qZA()()}2&i&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"lang_auto_upload_file_bai_lam_cua_ban")))}function He(i,s){1&i&&(t.TgZ(0,"div",47)(1,"span",48),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")))}function ze(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",49)(1,"div",50)(2,"span",51),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",52)(6,"span",53),t.O4$(),t.TgZ(7,"svg",54),t._UZ(8,"path",55)(9,"line",56)(10,"line",57),t.qZA(),t._uU(11," Vui l\xf2ng kh\xf4ng t\u1eaft b\u1ea3ng n\xe0y n\u1ed9p b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i "),t.qZA()(),t.kcU(),t.TgZ(12,"div",58)(13,"div",59)(14,"span",18),t._uU(15),t.ALo(16,"mytranslate"),t.qZA(),t.TgZ(17,"span",60),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()(),t.TgZ(20,"div",61),t._UZ(21,"div",62),t.qZA()(),t.TgZ(22,"div",58)(23,"div",59)(24,"span",18),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"span",60),t._uU(28),t.ALo(29,"mytranslate"),t.qZA(),t.TgZ(30,"div",63),t._UZ(31,"input",64),t.TgZ(32,"button",65),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clickCopyLink())}),t.O4$(),t.TgZ(33,"svg",40),t._UZ(34,"rect",66)(35,"path",67),t.qZA(),t._uU(36," sao ch\xe9p "),t.qZA()()()()()}if(2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,7,"lang_auto_hoac_nop_bang_dien_thoai")),t.xp6(12),t.hij(" ",t.lcZ(16,9,"lang_auto_cach_1"),": "),t.xp6(3),t.hij(" ",t.lcZ(19,11,"lang_auto_su_dung_dien_thoai_quet_ma_qrcode_duoi_day_de_tai_bai_thi_tu_luan_len")," "),t.xp6(7),t.hij(" ",t.lcZ(26,13,"lang_auto_cach_2"),": "),t.xp6(3),t.hij(" ",t.lcZ(29,15,"lang_auto_vao_trinh_duyet_bang_dien_thoai_truy_cap_duong_dan_sau_de_tai_bai_thi_tu_luan_len")," "),t.xp6(3),t.s9C("value",e.urlUploadImage),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.copylinkToClipboard(e.urlUploadImage))}}function Ye(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",68)(2,"g",69)(3,"g",70),t._UZ(4,"circle",71),t.TgZ(5,"path",72),t._UZ(6,"animateTransform",73),t.qZA()()()()())}function Re(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",null,2)(3,"div",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"div",6),t.YNc(7,Ee,3,2,"div",7),t.YNc(8,Ue,2,1,"div",8),t.YNc(9,De,2,1,"div",9),t.YNc(10,Je,10,3,"div",10),t.YNc(11,He,4,3,"div",11),t.qZA(),t.YNc(12,ze,37,17,"div",12),t.TgZ(13,"div",13)(14,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.YNc(15,Ye,7,0,"span",15),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(7),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.uploadFiles.length>0),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.data.isMobile),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.hij(" ",t.lcZ(17,9,"lang_auto_xac_nhan")," ")}}let St=(()=>{class i extends q.Q{constructor(e,n,o,a,l,r,_,m){super(n),this.fb=e,this.commonService=n,this.translate=o,this.myPdfService=a,this.apiUploadService=l,this.frontExamService=r,this.frontExamResultUploadService=_,this.homeworkExamService=m,this.data={},this.hashCode="",this.isOnSelectFile=new t.vpe,this.closeDialog=new t.vpe,this.addFileMobile=new t.vpe,this.subscriptions=new J.w,this.form=new x.nJ({}),this.uploadFiles=[],this.files=[],this.timeCount=0,this.isSubmit=!1,this.isSuccess=!1,this.onSelectFile=!1,this.isCallFullScreenOnce=!1,this.fileUploadQueue={},this.uploadCount=0,this.urlUploadImage="",this.intervalGetInfoUpload=0,this.isUploadedPdf=!1,this.isOnSync=!1,this.Tmploading=!1,this.uploadFile=(c,d)=>{this.isSubmit=!1,((0,U.Or)(c.type)||(0,U.Wv)(c.type)||(0,U.F0)(c.type)||(0,U._4)(c.type)||(0,U.D_)(c.type))&&(0,U.hv)(c).then(h=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(h).subscribe(p=>{var f,v;if(p.type!=_t.dt.UploadProgress)1==p.success?(delete this.fileUploadQueue[d],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},p.data)),this.stopStatusObj(),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack("lang_auto_khong_upload_duoc_anh_ten: "+c.name+"lang_auto__brackets_vui_long_thu_lai_sau_loi[SPLIT_LANG] [SPLIT_LANG]"+p.message),this.commonService.gaEvent("FrontExam_UploadError"));else{var k=Math.round(null!==(f=p.loaded)&&void 0!==f?f:0/(null!==(v=p.total)&&void 0!==v?v:1)*100);this.fileUploadQueue.hasOwnProperty(d)?(this.fileUploadQueue[d].uploadProgress=k,this.fileUploadQueue[d].fileName=c.name):this.fileUploadQueue[d]={uploadProgress:0,fileName:c.name}}})})},this.selectFile=c=>(0,G.mG)(this,void 0,void 0,function*(){let p=c.target.files;try{for(var f in p)if("length"!=f&&"item"!=f)if((0,U.zQ)(p[f].type))if((0,U.EO)(p[f].size)<=200)if(this.answerFile=p?p[f]:this.answerFile,(0,U._4)(p[f].type)){this.isUploadedPdf=!0,this.initStatusObj();var v=yield this.myPdfService.getImageWithPdf(p[f]);this.answerFile=p?p[f]:this.answerFile,this.uploadFilesFunc(v,this.uploadCount),this.uploadCount+=1}else this.answerFile&&(this.isSuccess=!1,this.initStatusObj(),(0,U.Wv)(p[f].type)?this.uploadFileVideo(this.answerFile,this.uploadCount):this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.showErrorSnack("lang_auto_mb_vui_long_chon_file_khong_qua_200_mb");else this.showErrorSnack("lang_auto__vui_long_chon_tep_tin_anh_video_chua_ho_tro_wmv_brackets_audio_hoac_file_pdf");c.target.setAttribute("value",""),this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1)}catch(k){this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1)}}),this.uploadFileVideo=(c,d)=>(0,G.mG)(this,void 0,void 0,function*(){this.subscriptions.add(this.apiUploadService.uploadToVimeoProgress("front_exam",c,void 0).subscribe(h=>{var p;h.isOnProgress?this.fileUploadQueue.hasOwnProperty(d)?(this.fileUploadQueue[d].uploadProgress=Math.round(null!==(p=h.percentage)&&void 0!==p?p:0),this.fileUploadQueue[d].fileName=c.name):this.fileUploadQueue[d]={uploadProgress:0,fileName:c.name}:1==h.success?(delete this.fileUploadQueue[d],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.addFileWithProsess(Object.assign(Object.assign({},h.data),{lastModified:c.lastModified})),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau"))}))}),this.uploadFilesFunc=(c,d)=>(0,G.mG)(this,void 0,void 0,function*(){for(let h=0;h<c.length;h++){const p=c[h];yield(0,U.hv)(p).then(f=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(f).subscribe(v=>{v.type!=_t.dt.UploadProgress&&(1==v.success?(delete this.fileUploadQueue[d],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},v.data)),h===c.length-1&&this.updateFileUploadMobile(!1).then(()=>{this.successStatusObj(),this.isUploadedPdf=!1})):(this.stopStatusObj(),this.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau")))})})}}),this.answerFile=null}copylinkToClipboard(e){return e}clickCopyLink(){this.showSuccessSnack("lang_auto_copy_link_thanh_cong")}isOnSelectFileEmit(e){this.isOnSelectFile.emit(e)}goBackFullScreen(){const e=document.documentElement;let n=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;n&&!this.isCallFullScreenOnce&&this.data.isMonitor&&(n.call(e),this.isCallFullScreenOnce=!0)}saveFile(){this.closeDialog.emit({isConfirm:!0,uploadFiles:this.uploadFiles})}saveFileConf(){!0===this.statusObj.loading||this.convertObjToArray(this.fileUploadQueue).length>0?this.commonService.getTranslate("lang_auto_sync_file_to_system_please_waiting").subscribe(e=>{this.commonService.snackWarning(e,"")}):this.saveFile()}replaceRequestGetInfoUpload(e){var n=this,o=e;this.intervalGetInfoUpload=window.setInterval(()=>{!1===n.isUploadedPdf&&n.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(n.hashCode).subscribe(a=>{var l,r,_;if(1==a.success){var m=n.commonService.myParseJson(null!==(_=null===(r=null===(l=a.data)||void 0===l?void 0:l.tmpObj)||void 0===r?void 0:r.files)&&void 0!==_?_:""),c=!1;(m=null!=m?m:[]).length!=n.uploadFiles.length?c=!0:m.length>0&&m.forEach(d=>{-1===n.uploadFiles.findIndex(h=>h.path==d.path)&&(c=!0)}),!0===c&&(0==n.isOnSync||o)&&n.addFileMobile.emit({files:m,keepOpen:!0}),o&&(n.uploadFiles=m,n.updateFileUploadMobile(!0),o=!1),n.Tmploading=!1,n.stopStatusObj()}else n.showErrorSnack("lang_auto_dong_bo_du_lieu_khong_thanh_cong_vui_long_an_f5_hoac_tai_lai_trang"),n.Tmploading=!1,n.stopStatusObj()})},3e3),this.commonService.gaEvent("FrontExam_GetTmpUploadObj")}updateFileUploadMobile(e){return new Promise(n=>{this.initStatusObj(),this.Tmploading=null!=e&&e,this.isOnSync=!0,this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost({hashCode:this.hashCode,files:JSON.stringify(this.uploadFiles)}).subscribe(o=>{1==o.success?(this.stopStatusObj(),this.Tmploading=!1,this.isOnSync=!1,n(!0)):(this.stopStatusObj(),this.Tmploading=!1)})})}openSelectFile(){var e;this.Tmploading||(this.isOnSelectFileEmit(!0),this.isCallFullScreenOnce=!1,this.onSelectFile=!0,null===(e=this.fileSelect)||void 0===e||e.nativeElement.click())}onFocus(e){this.onSelectFile&&(null==this.answerFile||0==this.uploadFiles.length)&&(this.goBackFullScreen(),this.isCallFullScreenOnce=!1,this.onSelectFile=!1,this.isOnSelectFileEmit(!1))}addFileWithProsess(e){e&&this.uploadFiles.push(e);for(let n=0;n<this.uploadFiles.length;n++)this.uploadFiles[n].lastModified||(this.uploadFiles[n].lastModified=(new Date).getTime()),this.uploadFiles[n].thumb||(this.uploadFiles[n].thumb=this.homeworkExamService.getThumbWithObj(this.uploadFiles[n]));this.uploadFiles.sort((n,o)=>{var a,l;return(null!==(a=n.lastModified)&&void 0!==a?a:0)-(null!==(l=o.lastModified)&&void 0!==l?l:0)})}bindUrlToQrCode(e){var o=`${this.commonService.getCurrentDomain()}/n/${e}`;this.urlUploadImage=o,this.commonService.createObjectQrcode(o,128,128,"url",!1,"qrcode_making")}onGlobalClick(e){var n;null!==(n=this.customCard)&&void 0!==n&&n.nativeElement.contains(e.target)||this.closeDialog.emit(!1)}isVideo(e){return/^(?:video)/i.test(e)}convertObjToArray(e){var n=[];for(var o in e)n.push(e[o]);return n}removeImg(e){var n=this.uploadFiles.filter(o=>o.url!==e);this.uploadFiles=n,this.updateFileUploadMobile(!0)}ngOnChanges(){this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files)}ngOnInit(){setTimeout(()=>{this.data.isMobile||this.bindUrlToQrCode(this.hashCode),this.initStatusObj(),this.Tmploading=!0,this.replaceRequestGetInfoUpload(!0)},100),this.form=this.fb.group({file_data:new x.p4("",x.kI.required),file:new x.p4("",x.kI.required)}),this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.intervalGetInfoUpload&&clearInterval(this.intervalGetInfoUpload),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.QS),t.Y36(L.v),t.Y36(Ze.sK),t.Y36(kt.t),t.Y36(Zt.$),t.Y36(D.Tg),t.Y36(D.vO),t.Y36(lt.j))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-upload-image"]],viewQuery:function(e,n){if(1&e&&(t.Gf(Ae,5),t.Gf(Oe,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.customCard=o.first),t.iGM(o=t.CRH())&&(n.fileSelect=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("focus",function(a){return n.onFocus(a)},!1,t.Jf7)("mousedown",function(a){return n.onGlobalClick(a)},!1,t.evT)},inputs:{data:"data",hashCode:"hashCode"},outputs:{isOnSelectFile:"isOnSelectFile",closeDialog:"closeDialog",addFileMobile:"addFileMobile"},features:[t.qOj,t.TTD],decls:1,vars:1,consts:[["class","uploadDialog",4,"ngIf"],[1,"uploadDialog"],["customCard",""],[1,"bg-overbackground",3,"click"],[1,"intro-x","upload-image-block"],[1,"box","p-5","box-upload"],[1,"w-full","mt-3","xl:mt-0","flex-1","border-2","border-dashed","dark:border-darkmode-400","rounded-md","pt-4"],["class","text-center m-4 mb-8",4,"ngIf"],["class","grid grid-cols-12 gap-5 ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","grid grid-cols-12 gap-5 pl-4 pr-5 mb-4",4,"ngIf"],["class","px-4 mt-5 flex items-center justify-center cursor-pointer relative",3,"click",4,"ngIf"],["class","px-4 pb-4 mt-1 flex items-center justify-center cursor-pointer relative",4,"ngIf"],["class","upload-mobile",4,"ngIf"],[1,"mt-5","text-center"],[1,"btn","w-32","btn-primary",3,"disabled","click"],[4,"ngIf"],[1,"text-center","m-4","mb-8"],["class","font-medium",4,"ngIf"],[1,"font-medium"],[1,"grid","grid-cols-12","gap-5","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"forn-medium","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"grid","grid-cols-12","gap-5","pl-4","pr-5","mb-4"],["class","col-span-6 md:col-span-3 h-28 relative image-fit cursor-pointer zoom-in",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-3","h-28","relative","image-fit","cursor-pointer","zoom-in"],[4,"ngIf","ngIfElse"],["video",""],["class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[1,"rounded-md",3,"src"],[1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"],[1,"px-4","mt-5","flex","items-center","justify-center","cursor-pointer","relative",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-primary","mr-1","cursor-pointer"],["id","horizontal-form-1","type","file","multiple","",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer","hidden",3,"change"],["fileSelect",""],[1,"px-4","pb-4","mt-1","flex","items-center","justify-center","cursor-pointer","relative"],[1,"block","text-xs","text-slate-600","dark:text-slate-500"],[1,"upload-mobile"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"mt-2","text-center","font-medium"],[1,"text-danger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"mt-3"],[1,"upload-item"],[1,"ml-1"],[1,"qr-img","mt-2","mx-auto","w-40"],["id","qrcode_making",1,"upload-qr-box-item-content-qr"],[1,"azt-copy","relative","mt-2","intro-x"],["type","text","readonly","",1,"form-control","py-3","px-4","border-transparent","bg-slate-100","pr-10",2,"padding-right","120px",3,"value"],[1,"btn","btn-outline-primary","absolute","my-auto","inset-y-0","right-0",2,"border-top-left-radius","0","border-bottom-left-radius","0",3,"cdkCopyToClipboard","click"],["x","9","y","9","width","13","height","13","rx","2","ry","2"],["d","M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,n){1&e&&t.YNc(0,Re,18,11,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[T.sg,T.O5,T.PC,Se.i3,ct.Hw,S.bT,S.yl],styles:[".uploadDialog[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:89;right:10px;top:10px}.upload-image-block[_ngcontent-%COMP%]{overflow-y:auto;height:calc(100vh - 20px)}.box-upload[_ngcontent-%COMP%]{max-width:600px;min-height:100%}.customCard[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgb(255,255,255) 0%,rgb(242,242,242) 0%,rgb(228,228,228) 100%,rgb(255,255,255) 100%);box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;box-shadow:5px 5px 5px #00000059;height:97vh;overflow:auto}.file-input[_ngcontent-%COMP%]{visibility:hidden}.upload-box[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;background-color:#fff;max-width:70%;margin-bottom:1rem}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#fff;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8;height:200px;overflow-y:auto}.save_btn[_ngcontent-%COMP%]{background:inherit;background-color:#169bd5;border:none;border-radius:5px;box-shadow:none;color:#fff}@media (max-width: 1200px){.uploadDialog[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:80%;margin-left:auto;border-radius:5px;margin-right:auto;box-shadow:0 0 13px 3px #00000094}}.upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:white;padding:5px;border-radius:5px}@media (max-width: 1200px){.bg-overbackground[_ngcontent-%COMP%]{display:none}}.bg-overbackground[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000a3}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}@media screen and (max-width: 768px){.upload-image-block[_ngcontent-%COMP%]{height:auto}.box-upload[_ngcontent-%COMP%]{min-height:auto}}"]}),i})();var At=g(90893),Ge=g(17489),rt=g(15043),Be=g(79152),mt=g(88161),dt=g(88386);let Ke=(()=>{class i{constructor(e,n,o,a,l){this.commonService=e,this.cdnService=n,this.trackLogService=o,this.answerTypeService=a,this.userService=l,this.labelsImg=new Image,this.questionLabelMap=[],this.abcdLabelPos={},this.subscription=new J.w,this.drawMixQuestionTS=(r,_,m)=>(0,G.mG)(this,void 0,void 0,function*(){if(void 0===m)return;this.questionLabelMap=_[0].questionContentParse[0].questionLabelMap?_[0].questionContentParse[0].questionLabelMap:this.commonService.willDeleteParseJson(m.questionLabelMap||""),this.abcdLabelPos=_[0].questionContentParse[0].abcdLabelPos?_[0].questionContentParse[0].abcdLabelPos:this.commonService.willDeleteParseJson(m.abcdLabelPos||"");const c={width:1,height:1,top:1,left:1};_.forEach(d=>{1==d.isImage&&(d.mixDataImg=this.cdnService.convertLinkCdn("azota_assets/svgs/Img2_dat-01.svg"),d.answerLabelsMockup={"label-A":c,"label-B":c,"label-C":c,"label-D":c,"label-E":c,"label-F":c})}),this.labelsImg.crossOrigin="anonymous",this.labelsImg.onload=()=>(0,G.mG)(this,void 0,void 0,function*(){let d=Ge.chunk(_,5);const h=p=>(0,G.mG)(this,void 0,void 0,function*(){for(let f=0;f<p.length;f++)1==p[f].isImage&&(this.answerTypeService.isOneChoiceAnswer(p[f].answerType)?this.prepareImageToDrawForType1(p[f].answerConfigParse,p[f].questionContentParse[0],p[f].rawIndex||0,_):this.prepareImageForOtherTypes(p[f].questionContentParse[0],p[f].rawIndex||0,_));return new Promise(function(f,v){setTimeout(f,3e3)}).then(function(){console.log("Start process next chunk!")})});for(const p of d)yield h(p)}),this.makeRetry(this.labelsImg,3,2e3),this.labelsImg.onerror=()=>{this.commonService.snackError("Kh\xf4ng load \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u \u1ea3nh b\xe0i th\xec!","")},this.labelsImg.src=this.cdnService.getMyCdn(r)})}cancelSubscription(){this.subscription.unsubscribe()}makeRetry(e,n,o,a,l,r,_,m){e.crossOrigin="anonymous",e.setAttribute("totalRetry","0"),e.onerror=()=>{let c=parseInt(e.getAttribute("totalRetry")||"0");if(c++,c<=n)setTimeout(()=>{if(c>Math.floor(n/2))e.src=this.cdnService.getRawCdnLink(e.src);else{let p=e.src.split("?")[0];e.src=p+"?t="+Date.now()}e.setAttribute("totalRetry",c.toString())},o);else{var d=0,h=this.userService.getUserObj();h&&h.id&&(d=h.id);let p=document.URL.split("?")[0].split("/"),f={userId:d,trackKey:"V2_ERR_DISPLAY",name:"Track l\u1ed7i kh\xf4ng hi\u1ec3n th\u1ecb c\xe2u h\u1ecfi v2",userAgent:navigator.userAgent,url:document.URL,content:e.src,error:p[p.length-1]};if(this.subscription.add(this.trackLogService.apiTrackLogSaveObjPost(f).subscribe(()=>{console.log("Track l\u1ed7i th\xe0nh c\xf4ng!")})),(a||0===a)&&l&&r&&_){_[a].mixDataImg=this.cdnService.convertLinkCdn("azota_assets/svgs/Img_dat-01.svg");let v=document.getElementById("questionPlaceholder_"+a);null==v||v.setAttribute("loadSuccess","0");let k=document.getElementById("media_content_all_"+_[a].id);null==k||k.setAttribute("loadSuccess","0");const w=y=>{"0"===(null==y?void 0:y.getAttribute("loadSuccess"))&&(m?this.prepareImageForOtherTypes(r,a,_):this.prepareImageToDrawForType1(l,r,a,_))};k?k.onclick=()=>{w(k)}:v&&(v.onclick=()=>{w(v)})}}}}prepareImageToDrawForType1(e,n,o,a){if(n.metaData&&n.metaData.question){let l=1+e.length,r=0,_=new Image;_.crossOrigin="anonymous",_.onload=()=>{r++,r==l&&this.drawEachQuestion(e,n,o,_,m,a)},this.makeRetry(_,3,1e3,o,e,n,a),_.src=this.cdnService.getMyCdn(n.metaData.question.url||"");let m=[];for(let c=0;c<e.length;c++)m[c]=new Image,m[c].crossOrigin="anonymous",m[c].onload=()=>{r++,r==l&&this.drawEachQuestion(e,n,o,_,m,a)},this.makeRetry(m[c],3,1e3,o,e,n,a),m[c].src=this.cdnService.getMyCdn(e[c].content)}}prepareImageForOtherTypes(e,n,o){if(e.metaData&&e.metaData.question){let a=document.createElement("canvas");a.width=e.metaData.question.width+10,a.height=e.metaData.question.height;let l=a.getContext("2d"),r=new Image;r.crossOrigin="anonymous";const _=e.metaData.question.remove.x,m=e.metaData.question.remove.y;r.onload=()=>{null==l||l.drawImage(r,10,0),null==l||l.drawImage(this.labelsImg,this.questionLabelMap[n].left,this.questionLabelMap[n].top,this.questionLabelMap[n].width,this.questionLabelMap[n].height,_,m,this.questionLabelMap[n].width,this.questionLabelMap[n].height),o[n].mixDataImg=a.toDataURL("image/png")},this.makeRetry(r,3,1e3,void 0,void 0,void 0,void 0,"others"),r.src=this.cdnService.getMyCdn(e.metaData.question.url||"")}}drawEachQuestion(e,n,o,a,l,r){if(n.metaData&&n.metaData.answers&&n.metaData.question){let _=document.createElement("canvas");_.width=n.metaData.question.width+15,_.height=n.metaData.question.height;let m=_.getContext("2d");null==m||m.drawImage(a,15,0),null==m||m.drawImage(this.labelsImg,this.questionLabelMap[o].left,this.questionLabelMap[o].top,this.questionLabelMap[o].width,this.questionLabelMap[o].height,n.metaData.question.remove.x,n.metaData.question.remove.y,this.questionLabelMap[o].width,this.questionLabelMap[o].height);let c=l[0],d=0,h=0,p=0,f=n.metaData.answers[0].x,v=n.metaData.answers[0].y;d=f,h=f+c.width,p=f+c.width;let k=l[0].height-n.metaData.answers[0].height;null==m||m.drawImage(c,f,v);let w=e[0].alpha?e[0].alpha:e[0].key,y=0;if(e[0].alpha){let u=e[0].key;for(let b=0;b<e.length;b++)if(u==e[b].alpha){y=b;break}}const E=n.metaData.answers[y].remove.xAns||0,j=n.metaData.answers[y].remove.yAns||0;let I={left:void 0!==n.metaData.answers[y].remove.xAns?f+E:n.metaData.answers[0].remove.x,top:void 0!==n.metaData.answers[y].remove.yAns?v+j:n.metaData.answers[0].remove.y,width:n.metaData.answers[0].remove.width,height:n.metaData.answers[0].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(w)&&(null==m||m.drawImage(this.labelsImg,this.abcdLabelPos[w].left,this.abcdLabelPos[w].top,n.metaData.answers[0].remove.width,n.metaData.answers[0].remove.height,I.left,I.top,I.width,I.height)),r[o].answerLabelsMockup[`label-${e[0].alpha?e[0].alpha:e[0].key}`]=I;for(let u=1;u<e.length;u++){let b=n.metaData.answers[u].x,C=n.metaData.answers[u].y;if(d+30<b){let P=[p,h];b<Math.max(...P)&&(b=Math.max(...P),b+l[u].width>_.width&&(b-=b+l[u].width-_.width),n.metaData.answers[u].remove.x=b),h+=l[u].width}else if(h=d+l[u].width,C+=k,k+=l[u].height-n.metaData.answers[u].height,C+l[u].height>_.height){let P=C+l[u].height-_.height;C-=P,n.metaData.answers[u].remove.y-=P}null==m||m.drawImage(l[u],b,C);let Z=u,F=e[u].alpha?e[u].alpha:e[u].key;if(e[u].alpha){let P=e[u].key;for(let H=0;H<e.length;H++)if(P==e[H].alpha){Z=H;break}}const A=n.metaData.answers[Z].remove.xAns||0,O=n.metaData.answers[Z].remove.yAns||0;let M={left:void 0!==n.metaData.answers[Z].remove.xAns?b+A:n.metaData.answers[u].remove.x,top:void 0!==n.metaData.answers[Z].remove.yAns?C+O:n.metaData.answers[u].remove.y,width:n.metaData.answers[u].remove.width,height:n.metaData.answers[u].remove.height};if(this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(F||"a")&&(null==m||m.drawImage(this.labelsImg,this.abcdLabelPos[F||"a"].left,this.abcdLabelPos[F||"b"].top,n.metaData.answers[u].remove.width,n.metaData.answers[u].remove.height,M.left,M.top,M.width,M.height)),r[o].answerLabelsMockup[`label-${e[u].alpha?e[u].alpha:e[u].key}`]=M,u==e.length-1){r[o].mixDataImg=_.toDataURL("image/png");let P=document.getElementById("media_content_all_"+r[o].id);null==P||P.setAttribute("loadSuccess","1");let H=document.getElementById("questionPlaceholder_"+o);null==H||H.setAttribute("loadSuccess","1")}}}}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(L.v),t.LFG(rt.U),t.LFG(Be.v),t.LFG(mt.T),t.LFG(dt.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var $e=g(64262),We=g(20985);let Ve=(()=>{class i{constructor(e,n,o,a,l){this.commonService=e,this.trackLogService=n,this.cdnService=o,this.answerTypeService=a,this.userService=l,this.labelsImgs=[],this.questionLabelMap=[],this.abcdLabelPos={},this.subscription=new J.w,this.drawMixQuestionTS=(r,_,m)=>{if(void 0===m)return;this.labelsImgs=r,this.questionLabelMap=_[0].questionContentParse[0].questionLabelMap?_[0].questionContentParse[0].questionLabelMap:this.commonService.willDeleteParseJson(m.questionLabelMap||""),this.abcdLabelPos=_[0].questionContentParse[0].abcdLabelPos?_[0].questionContentParse[0].abcdLabelPos:this.commonService.willDeleteParseJson(m.abcdLabelPos||"");const c={width:1,height:1,top:1,left:1};_.forEach(d=>{1==d.isImage&&(d.mixDataImg=this.cdnService.convertLinkCdn("azota_assets/svgs/Img2_dat-01.svg"),d.answerLabelsMockup={"label-A":c,"label-B":c,"label-C":c,"label-D":c,"label-E":c,"label-F":c})});for(let d=0;d<_.length;d++)this.answerTypeService.isOneChoiceAnswer(_[d].answerType)?this.drawForMultipleChoiceQuestion(_[d].answerConfigParse,_[d].questionContentParse[0],d,_):this.prepareImageForOtherTypes(_[d].questionContentParse[0],d,_)},this.getBase64Image=r=>new Promise(function(_,m){const c=new Image;c.setAttribute("crossOrigin","anonymous"),c.onload=()=>{const d=document.createElement("canvas");d.width=c.width,d.height=c.height;const h=d.getContext("2d");null==h||h.drawImage(c,0,0);const p=d.toDataURL("image/png");_(p)},c.onerror=()=>{m(new Error("Can not convert url to base64"))},c.src=r})}drawForMultipleChoiceQuestion(e,n,o,a){var l;if(n.metaData&&n.metaData.answers&&n.metaData.question){let r=e.map(u=>this.commonService.willDeleteParseJson(u.content));const _=this.questionLabelMap.hasOwnProperty(o)&&this.questionLabelMap[o].width>n.metaData.question.remove.width?this.questionLabelMap[o].width-n.metaData.question.remove.width:0;let m=document.createElement("canvas");m.width=n.metaData.question.width+_+We.Z,m.height=n.metaData.question.height;let c=m.getContext("2d");null==c||c.drawImage(this.labelsImgs[n.metaData.question.posit.locate],n.metaData.question.posit.left,n.metaData.question.posit.top,n.metaData.question.width,n.metaData.question.height,_,0,n.metaData.question.width,n.metaData.question.height),this.questionLabelMap.hasOwnProperty(o)&&(null==c||c.drawImage(void 0===this.questionLabelMap[o].locate?this.labelsImgs[0]:this.labelsImgs[this.questionLabelMap[o].locate],this.questionLabelMap[o].left,this.questionLabelMap[o].top,this.questionLabelMap[o].width,this.questionLabelMap[o].height,n.metaData.question.remove.x,n.metaData.question.remove.y,this.questionLabelMap[o].width,this.questionLabelMap[o].height));let d=r[0],h=0,p=0,f=0,v=n.metaData.answers[0].x,k=n.metaData.answers[0].y;h=v,p=v+d.width,f=v+d.width;let w=r[0].height-n.metaData.answers[0].height;null==c||c.drawImage(this.labelsImgs[d.posit.locate],d.posit.left,d.posit.top,d.width,d.height,v,k,d.width,d.height);let y=e[0].alpha?e[0].alpha:e[0].key,E=0;if(e[0].alpha){let u=e[0].key;for(let b=0;b<e.length;b++)if(u==e[b].alpha){E=b;break}}let I,j={left:void 0!==n.metaData.answers[E].remove.xAns?v+n.metaData.answers[E].remove.xAns:n.metaData.answers[0].remove.x,top:void 0!==n.metaData.answers[E].remove.yAns?k+n.metaData.answers[E].remove.yAns:n.metaData.answers[0].remove.y,width:n.metaData.answers[0].remove.width,height:n.metaData.answers[0].remove.height};this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(y)&&(null==c||c.drawImage(this.labelsImgs[0],this.abcdLabelPos[y].left,this.abcdLabelPos[y].top,n.metaData.answers[0].remove.width,n.metaData.answers[0].remove.height,j.left,j.top,j.width,j.height)),a[o].answerLabelsMockup[`label-${e[0].alpha?e[0].alpha:e[0].key}`]=j;for(let u=1;u<e.length;u++){let b=n.metaData.answers[u].x,C=n.metaData.answers[u].y;if(h+30<b){let O=r[u].height-n.metaData.answers[u].height;O<0?O<w&&(w=O):O>=w&&(w=O),null!=I&&(C=I);let M=[f,p];b<Math.max(...M)&&(b=Math.max(...M),b+r[u].width>m.width&&(b-=b+r[u].width-m.width),n.metaData.answers[u].remove.x=b),p+=Math.max(r[u].width,n.metaData.answers[u].width)}else p=h+r[u].width,C+=w,I=C,w+=r[u].height-n.metaData.answers[u].height;if(C+r[u].height>m.height){let O=C+r[u].height-m.height;C-=O,n.metaData&&n.metaData.answers&&(n.metaData.answers[u].remove.y-=O)}null==c||c.drawImage(this.labelsImgs[r[u].posit.locate],r[u].posit.left,r[u].posit.top,r[u].width,r[u].height,b,C,r[u].width,r[u].height);let Z=u,F=null!==(l=e[u].alpha)&&void 0!==l?l:e[u].key;if(e[u].alpha){let O=e[u].key;for(let M=0;M<e.length;M++)if(O==e[M].alpha){Z=M;break}}let A={left:0,top:0,width:0,height:0};n.metaData&&n.metaData.answers&&(A={left:void 0!==n.metaData.answers[Z].remove.xAns?b+n.metaData.answers[Z].remove.xAns:n.metaData.answers[u].remove.x,top:void 0!==n.metaData.answers[Z].remove.yAns?C+n.metaData.answers[Z].remove.yAns:n.metaData.answers[u].remove.y,width:n.metaData.answers[u].remove.width,height:n.metaData.answers[u].remove.height}),this.abcdLabelPos&&this.abcdLabelPos.hasOwnProperty(F)&&(null==c||c.drawImage(this.labelsImgs[0],this.abcdLabelPos[F].left,this.abcdLabelPos[F].top,n.metaData.answers[u].remove.width,n.metaData.answers[u].remove.height,A.left,A.top,A.width,A.height)),a[o].answerLabelsMockup[`label-${e[u].alpha?e[u].alpha:e[u].key}`]=A}a[o].mixDataImg=m.toDataURL("image/png")}}prepareImageForOtherTypes(e,n,o){return(0,G.mG)(this,void 0,void 0,function*(){if(e.metaData&&e.metaData.question){const a=this.questionLabelMap.hasOwnProperty(n)&&this.questionLabelMap[n].width>e.metaData.question.remove.width?this.questionLabelMap[n].width-e.metaData.question.remove.width:0;let l=document.createElement("canvas");l.width=e.metaData.question.width+a,l.height=e.metaData.question.height;let r=l.getContext("2d"),_=e.metaData.question.urlExcludeLabelOnly;if(_&&-1===_.indexOf("base64"))try{_=yield this.getBase64Image(_)}catch(h){return void console.log(h)}const m=e.metaData.question.remove.x,c=e.metaData.question.remove.y,d=()=>{this.questionLabelMap.hasOwnProperty(n)&&(null==r||r.drawImage(void 0===this.questionLabelMap[n].locate?this.labelsImgs[0]:this.labelsImgs[this.questionLabelMap[n].locate],this.questionLabelMap[n].left,this.questionLabelMap[n].top,this.questionLabelMap[n].width,this.questionLabelMap[n].height,m,c,this.questionLabelMap[n].width,this.questionLabelMap[n].height)),o[n].mixDataImg=l.toDataURL("image/png")};if(_){let h=new Image;h.onload=()=>{null==r||r.drawImage(h,a,0),d()},h.src=_}else null==r||r.drawImage(this.labelsImgs[e.metaData.question.posit.locate],e.metaData.question.posit.left,e.metaData.question.posit.top,e.metaData.question.width,e.metaData.question.height,a,0,e.metaData.question.width,e.metaData.question.height),d()}})}refindFirstInGroupIndexes(e,n){e=[];let o=-1;for(let a=0;a<n.length;a++)null!=n[a].groupId&&n[a].groupId!=o&&(o=n[a].groupId,e.push(a));return e}trackPdfV2Error(e){let n=0;var o=this.userService.getUserObj();o&&o.id&&(n=o.id);let a=document.URL.split("?")[0].split("/"),l={userId:n,trackKey:"V2_ERR_DISPLAY",name:"Track l\u1ed7i kh\xf4ng hi\u1ec3n th\u1ecb c\xe2u h\u1ecfi v2",userAgent:navigator.userAgent,url:document.URL,content:e,error:a[a.length-1]};this.subscription.add(this.trackLogService.apiTrackLogSaveObjPost(l).subscribe(()=>{console.log("Track l\u1ed7i th\xe0nh c\xf4ng!")}))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(L.v),t.LFG(D.vT),t.LFG(rt.U),t.LFG(mt.T),t.LFG(dt.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Ot=g(80383),Xe=g(56308),tn=g(54729),It=g(2366),ut=g(72491),Mt=g(88974),Et=g(61886),en=g(32502),jt=g(53251),ot=g(87238),nn=g(62e3),on=g(81903),an=g(69692);function sn(i,s){if(1&i){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.removeImg(o.url))}),t.O4$(),t.TgZ(1,"svg",16),t._UZ(2,"line",17)(3,"line",18),t.qZA()()}}function ln(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5),t.NdJ("click",function(o){const l=t.CHM(e).$implicit,r=t.oxw(2);return t.KtG(r.onShowFile(o,l,-1))}),t._UZ(2,"img",6),t.ALo(3,"mycdn"),t.qZA(),t.TgZ(4,"div",7)(5,"button",8),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.switchAttributeArray(l.answerFiles,a,a-1))}),t.O4$(),t.TgZ(6,"svg",9),t._UZ(7,"polyline",10),t.qZA()(),t.kcU(),t.TgZ(8,"input",11,12),t.NdJ("keyup.enter",function(o){const l=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.switchAttributeArrayInput(l,o))})("change",function(o){const l=t.CHM(e).index,r=t.oxw(2);return t.KtG(r.switchAttributeArrayInput(l,o))}),t.qZA(),t.TgZ(10,"button",8),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.switchAttributeArray(l.answerFiles,a,a+1))}),t.O4$(),t.TgZ(11,"svg",9),t._UZ(12,"polyline",13),t.qZA()()(),t.YNc(13,sn,4,0,"div",14),t.qZA()}if(2&i){const e=s.$implicit,n=s.index,o=t.oxw(2);t.xp6(2),t.Q6J("src",t.lcZ(3,5,o.checkLinkThumb(e)),t.LSH),t.xp6(6),t.s9C("id","input_page_"+n),t.s9C("max",null==o.answerFiles?null:o.answerFiles.length),t.s9C("value",n+1),t.xp6(5),t.Q6J("ngIf",!e.uploadSuccess)}}function rn(i,s){if(1&i&&(t.TgZ(0,"div",2),t.YNc(1,ln,14,7,"div",3),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.answerFiles)}}const _n=function(i){return{"custom-width-list":i}};let cn=(()=>{class i extends q.Q{constructor(e,n,o,a,l){super(o),this.fb=e,this.myPdfService=n,this.commonService=o,this.homeworkExamService=a,this.cdnService=l,this.answerFiles=[],this.isTesting=!1,this.onMobile=!1,this.showList=!1,this.emitDataBack=new t.vpe,this.changesPosImg=new t.vpe,this.previewFile=new t.vpe,this.removeFile=new t.vpe,this.form=new x.nJ({}),this.uploadCount=0,this.answerFile=[],this.countUpload=1,this.selectFile=r=>(0,G.mG)(this,void 0,void 0,function*(){let c=r.target.files;try{for(var d in c)"length"!=d&&"item"!=d&&((0,U.z_)(c[d].type)?(0,U.EO)(c[d].size)<=200?(this.initStatusObj(),(0,U._4)(c[d].type)?(this.answerFile=c?c[d]:this.answerFile,this.uploadCount+=1):(this.answerFile=c?c[d]:this.answerFile,this.answerFile&&(this.stopStatusObj(),(0,U.Wv)(c[d].type)&&(this.countUpload=0),this.uploadCount+=1))):this.commonService.snackError("Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB",""):this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF",""));r.target.value=""}catch(h){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+h)}})}addFileWithProsess(){for(let e=0;e<this.answerFiles.length;e++)this.answerFiles[e].lastModified||(this.answerFiles[e].lastModified=(new Date).getTime()),this.answerFiles[e].thumb||(this.answerFiles[e].thumb=this.homeworkExamService.getThumbWithObj(this.answerFiles[e]));this.answerFiles.sort((e,n)=>e.lastModified&&n.lastModified?e.lastModified-n.lastModified:0)}removeImg(e){var n=this.answerFiles.filter(o=>o.url!==e);this.answerFiles=n,this.removeFile.emit(e)}onShowFile(e,n,o){this.previewFile.emit({ev:e,file:n,index:o})}switchAttributeArray(e,n,o){if(!(this.answerFiles.length<=n||this.answerFiles.length<=o||n<0||o<0)){var a=this.commonService.myClone(this.answerFiles[n]);this.answerFiles[n]=this.commonService.myClone(this.answerFiles[o]),this.answerFiles[o]=this.commonService.myClone(a),this.changesPosImg.emit(this.answerFiles)}}switchAttributeArrayInput(e,n){var o=Number(n.target.value)-1;o<=0?o=0:o>=this.answerFiles.length&&(o=this.answerFiles.length),this.answerFiles.splice(o,0,this.answerFiles.splice(e,1)[0]),this.changesPosImg.emit(this.answerFiles)}checkLinkThumb(e){return"officeapps"===this.getFileTypeString(e.extension)?this.cdnService.convertLinkCdn("azota_assets/images/file.png"):e.thumb}getFileTypeString(e){if(e){if((0,U.Or)(e))return"image";if((0,U._4)(e))return"pdf";if((0,U.Wv)(e))return"video";if((0,U.F0)(e))return"audio"}return"image"}ngOnChanges(){this.answerFiles&&this.addFileWithProsess()}ngOnInit(){this.form=this.fb.group({file_data:new x.p4("",x.kI.required),file_capture:new x.p4("",x.kI.required),file:new x.p4("",x.kI.required)}),this.addFileWithProsess()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.QS),t.Y36(kt.t),t.Y36(L.v),t.Y36(lt.j),t.Y36(rt.U))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-upload-ui"]],inputs:{answerFiles:"answerFiles",isTesting:"isTesting",onMobile:"onMobile",showList:"showList"},outputs:{emitDataBack:"emitDataBack",changesPosImg:"changesPosImg",previewFile:"previewFile",removeFile:"removeFile"},features:[t.qOj,t.TTD],decls:2,vars:5,consts:[[1,"mb-4","text-center",3,"formGroup","ngClass"],["class","grid grid-cols-12 gap-5 px-2",4,"ngIf"],[1,"grid","grid-cols-12","gap-5","px-2"],["class","col-span-6 md:col-span-3 relative cursor-pointer",4,"ngFor","ngForOf"],[1,"col-span-6","md:col-span-3","relative","cursor-pointer"],["_target","blank",1,"image-fit","h-32",3,"click"],["alt","Azota-Image-Loading",1,"rounded-md",2,"border-bottom-left-radius","0","border-bottom-right-radius","0","position","unset",3,"src"],[1,"flex","items-center","rounded-md","border","border-slate-200","dark:border-darkmode-400","overflow-hidden",2,"border-top-left-radius","0","border-top-right-radius","0"],[1,"btn-sm","btn","btn-secondary",2,"border-radius","0","border","none",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],["points","15 18 9 12 15 6"],["type","text","type","number","min","1","placeholder","Trang s\u1ed1",1,"form-control","text-center",2,"border","none","line-height","0.25rem","border-radius","0",3,"id","max","value","keyup.enter","change"],["myInput",""],["points","9 18 15 12 9 6"],["class","tooltip w-5 h-5 flex items-center justify-center absolute rounded-full text-white bg-danger right-0 top-0 -mr-2 -mt-2",3,"click",4,"ngIf"],[1,"tooltip","w-5","h-5","flex","items-center","justify-center","absolute","rounded-full","text-white","bg-danger","right-0","top-0","-mr-2","-mt-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round","icon-name","x","data-lucide","x",1,"lucide","lucide-x","w-4","h-4"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(e,n){1&e&&(t.TgZ(0,"form",0),t.YNc(1,rn,2,1,"div",1),t.qZA()),2&e&&(t.Q6J("formGroup",n.form)("ngClass",t.VKq(3,_n,n.isTesting&&!n.onMobile&&n.showList)),t.xp6(1),t.Q6J("ngIf",null==n.answerFiles?null:n.answerFiles.length))},dependencies:[T.mk,T.sg,T.O5,x._Y,x.JL,x.sg,S.GT],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.files[_ngcontent-%COMP%]{cursor:pointer}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px;line-height:1;width:50px}.input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width: 768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width: 576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.custom-width-list[_ngcontent-%COMP%]{max-width:83%}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s;width:100%}.box_image_answer_content[_ngcontent-%COMP%]{min-height:288px;border:1px solid #03a7d0}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.box_image_answer_control[_ngcontent-%COMP%]{background:white;width:100%;border:1px solid #03a7d0;border-top:none;position:relative;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;left:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;right:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]}),i})();var mn=g(62201);const dn=["myDialogConfirmExam"];function un(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"h5",15),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_loi"),": ",t.lcZ(3,4,e.data.messageError),"")}}function pn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.btnCloseDialog())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.confirmFinish())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_dong")," "),t.xp6(2),t.Q6J("disabled",e.countTimeEnable),t.xp6(1),t.hij(" ",t.lcZ(6,5,"lang_auto_gui_lai")," ")}}function gn(i,s){if(1&i&&(t.TgZ(0,"div",6)(1,"div",7)(2,"h3",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"path",10)(5,"polyline",11)(6,"path",12),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.YNc(9,un,4,6,"h5",13),t.kcU(),t._UZ(10,"br"),t.YNc(11,pn,7,7,"div",14),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,3,"lang_auto_bai_lam_cua_ban_dang_duoc_tu_dong_nop_len_he_thong_vui_long_doi_trong_giay_lat")," "),t.xp6(2),t.Q6J("ngIf",e.data.saveFalse&&e.data.messageError),t.xp6(2),t.Q6J("ngIf",e.data.autoSubmit&&e.data.saveFalse)}}function hn(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",27)(1,"span",28),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span",29),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(3);let n;t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_thoi_gian_lam_bai_cua_ban_con")," "),t.xp6(3),t.lnq(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," : ",(null!==(n=e.timeCount.minute)&&void 0!==n?n:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," : ",(null!==(n=e.timeCount.second)&&void 0!==n?n:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function fn(i,s){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",22)(1,"span",15)(2,"span",29),t._uU(3," C\u1ea3nh b\xe1o: "),t.qZA(),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(5),t.hij(" ",t.lcZ(6,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")," "))}function xn(i,s){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",30)(1,"p",23),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_het_gio_nhan_vao"),' "',t.lcZ(4,5,"lang_auto_hoan_thanh"),'" ',t.lcZ(5,7,"lang_auto_de_gui_bai_thi_cua_ban")," "))}function vn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.btnCloseDialog())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_huy")," "))}function bn(i,s){1&i&&(t.O4$(),t.TgZ(0,"svg",32)(1,"g",33)(2,"g",34),t._UZ(3,"circle",35),t.TgZ(4,"path",36),t._UZ(5,"animateTransform",37),t.qZA()()()())}function wn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"h3",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"path",10)(5,"polyline",11)(6,"path",12),t.qZA(),t._uU(7," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n n\u1ed9p b\xe0i ? "),t.qZA(),t.YNc(8,hn,6,6,"div",19),t.YNc(9,fn,7,3,"div",20),t.YNc(10,xn,6,9,"div",21),t.kcU(),t.TgZ(11,"div",22)(12,"p",23),t._uU(13," Khi x\xe1c nh\u1eadn nh\u1ea5n n\u1ed9p b\xe0i, b\u1ea1n s\u1ebd kh\xf4ng th\u1ec3 s\u1eeda l\u1ea1i b\xe0i thi c\u1ee7a m\xecnh. H\xe3y ch\u1eafc ch\u1eafc b\u1ea1n \u0111\xe3 xem l\u1ea1i t\u1ea5t c\u1ea3 c\xe1c \u0111\xe1p \xe1n. Ch\xfac b\u1ea1n may m\u1eafn \u{1f340}. "),t.qZA()()()(),t.TgZ(14,"div",16),t.YNc(15,vn,3,3,"button",24),t.TgZ(16,"button",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmFinish())}),t.YNc(17,bn,6,0,"svg",26),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(8),t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.data.notHasFiles),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(5),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(1),t.Q6J("disabled",e.countTimeEnable),t.xp6(1),t.Q6J("ngIf",e.countTimeEnable),t.xp6(1),t.hij(" ",t.lcZ(19,7,"lang_auto_nop_bai")," ")}}function Tn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,gn,12,5,"div",4),t.YNc(4,wn,20,9,"ng-template",null,5,t.W1O),t.qZA()()}if(2&i){const e=t.MAs(5),n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.data.autoSubmit)("ngIfElse",e)}}let yn=(()=>{class i extends q.Q{constructor(e){super(e),this.commonService=e,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.subscriptions=new J.w,this.form=new x.nJ({}),this.timeCount={hour:0,minute:0,second:0},this.countTimeEnable=!0}onGlobalClick(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.data.autoSubmit||this.closeDialog.emit()}confirmFinish(){this.redirectToHomepage.emit({isConfirm:!0,isAutoSubmit:this.data.autoSubmit,isSaveFalse:this.data.saveFalse})}setTimeExam(e){const n=Math.floor(e/3600),a=Math.floor(e%3600/60);this.timeCount={hour:n,minute:a,second:e%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){var e;this.data.unLimitTime||(this.setTimeExam(null!==(e=this.data.time)&&void 0!==e?e:0),0==this.data.time&&!this.data.autoSubmit&&setTimeout(()=>{this.confirmFinish()},5e3)),this.data.notHasFiles?setTimeout(()=>{this.countTimeEnable=!1},3e3):this.countTimeEnable=!1,this.data.saveFalse&&setTimeout(()=>{this.countTimeEnable=!1},2e3),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-comfirm-exam"]],viewQuery:function(e,n){if(1&e&&t.Gf(dn,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","box","p-4",2,"max-width","400px"],["myDialogConfirmExam",""],["class","border-b border-slate-200/60 dark:border-darkmode-400",4,"ngIf","ngIfElse"],["Normal",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-success"],["d","M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v4"],["points","14 2 14 8 20 8"],["d","m3 15 2 2 4-4"],["class","text-danger",4,"ngIf"],["class","p-3 text-right",4,"ngIf"],[1,"text-danger"],[1,"p-3","text-right"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"],[1,"btn","w-24","btn-primary",3,"disabled","click"],["class","mt-5 flex items-center",4,"ngIf"],["class","mt-2",4,"ngIf"],["class","mt-2 text-center",4,"ngIf"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],["class","btn btn-secondary w-40 mr-2","style","vertical-align: middle;",3,"click",4,"ngIf"],[1,"btn","w-40","btn-primary",2,"vertical-align","middle",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","rgb(30, 41, 59)","class","w-5 h-5 mr-3",4,"ngIf"],[1,"mt-5","flex","items-center"],[1,"text-md"],[1,"font-medium"],[1,"mt-2","text-center"],[1,"btn","btn-secondary","w-40","mr-2",2,"vertical-align","middle",3,"click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","rgb(30, 41, 59)",1,"w-5","h-5","mr-3"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,n){1&e&&t.YNc(0,Tn,6,2,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[T.O5,S.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();const Cn=["myDialogExitExam"];function kn(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",17)(1,"span",18),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span",19),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(2);let n;t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_thoi_gian_lam_bai_cua_ban_con")," "),t.xp6(3),t.lnq(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," : ",(null!==(n=e.timeCount.minute)&&void 0!==n?n:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," : ",(null!==(n=e.timeCount.second)&&void 0!==n?n:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Zn(i,s){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",20)(1,"p",21),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_het_gio_nhan_vao"),' "',t.lcZ(4,5,"lang_auto_hoan_thanh"),'" ',t.lcZ(5,7,"lang_auto_de_gui_bai_thi_cua_ban")," "))}function Sn(i,s){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",22)(1,"p",23),t._uU(2," Khi b\u1ea1n tho\xe1t th\u1eddi gian l\xe0m b\xe0i c\u1ee7a b\u1ea1n v\u1eabn s\u1ebd ti\u1ebfp t\u1ee5c ch\u1ea1y. N\u1ebfu b\u1ea1n kh\xf4ng quay l\u1ea1i n\u1ed9p b\xe0i tr\u01b0\u1edbc khi th\u1eddi gian k\u1ebft th\xfac, b\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c ghi nh\u1eadn. "),t.qZA()())}function An(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.btnCloseDialog())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_huy")," "))}function On(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"h3",6),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"path",8)(8,"line",9)(9,"line",10),t.qZA(),t._uU(10," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n tho\xe1t ? "),t.qZA(),t.YNc(11,kn,6,6,"div",11),t.YNc(12,Zn,6,9,"div",12),t.YNc(13,Sn,3,0,"div",13),t.qZA()(),t.kcU(),t.TgZ(14,"div",14),t.YNc(15,An,3,3,"button",15),t.TgZ(16,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(e.data.time||0)>0||e.data.unLimitTime),t.xp6(2),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(2),t.hij(" ",t.lcZ(18,5,"lang_auto_xac_nhan")," ")}}let In=(()=>{class i extends q.Q{constructor(e){super(e),this.commonService=e,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.subscriptions=new J.w,this.form=new x.nJ({}),this.timeCount={hour:0,minute:0,second:0}}onGlobalClick(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.closeDialog.emit()}confirmQuit(){this.redirectToHomepage.emit(!0)}setTimeExam(e){const n=Math.floor(e/3600),a=Math.floor(e%3600/60);this.timeCount={hour:n,minute:a,second:e%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){var e;this.setTimeExam(null!==(e=this.data.time)&&void 0!==e?e:0),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-exit-exam"]],viewQuery:function(e,n){if(1&e&&t.Gf(Cn,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4","box",2,"max-width","400px"],["myDialogExitExam",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-danger"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],["class","mt-5 flex items-center",4,"ngIf"],["class","text-center",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"p-3","text-right"],["class","btn btn-secondary w-24 mr-2",3,"click",4,"ngIf"],[1,"btn","w-24","btn-primary",3,"click"],[1,"mt-5","flex","items-center"],[1,"text-md"],[1,"font-medium"],[1,"text-center"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"btn","btn-secondary","w-24","mr-2",3,"click"]],template:function(e,n){1&e&&t.YNc(0,On,19,7,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[T.O5,S.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();var Lt=g(41303),Ut=g(42873),Ft=g(49692);const Mn=["myDialogSubmitName"];function En(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",6)(1,"div",7)(2,"h3",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"polygon",10)(5,"line",11)(6,"line",12),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(9,"div",13)(10,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToRegister())}),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.TgZ(13,"div",15)(14,"p",16),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"div",17)(18,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToLogin())}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(7),t.hij(" ",t.lcZ(8,4,1==e.type?"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_lam_bai_thi":"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_xem_ket_qua_thi_offline")," "),t.xp6(4),t.hij(" ",t.lcZ(12,6,"lang_auto_dang_ky")," "),t.xp6(4),t.hij(" ",t.lcZ(16,8,"lang_auto_ban_da_co_tai_khoan")," "),t.xp6(4),t.hij(" ",t.lcZ(20,10,"lang_auto_dang_nhap")," ")}}function jn(i,s){1&i&&(t.TgZ(0,"div",33)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_yeu_cau_nhap_ho_ten")))}function Ln(i,s){1&i&&(t.O4$(),t.TgZ(0,"svg",34)(1,"g",35)(2,"g",36),t._UZ(3,"circle",37),t.TgZ(4,"path",38),t._UZ(5,"animateTransform",39),t.qZA()()()())}function Un(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"form",20)(1,"h2",21),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",22)(5,"div",23),t._UZ(6,"input",24),t.ALo(7,"mytranslate"),t.YNc(8,jn,4,3,"div",25),t.qZA()(),t.TgZ(9,"div",26)(10,"p",27),t._uU(11),t.ALo(12,"mytranslate"),t.TgZ(13,"a",28),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.registerAccount())}),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.TgZ(18,"div",29),t._UZ(19,"div",30),t.TgZ(20,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.submitName())}),t.YNc(21,Ln,6,0,"svg",32),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()()}if(2&i){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(2),t.hij(" ",t.lcZ(3,10,"lang_auto_vui_long_nhap_ten_de_tiep_tuc_bai_thi")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(7,12,"lang_auto_ho_va_ten")),t.xp6(2),t.Q6J("ngIf",e.form.controls.fullName.invalid&&e.form.controls.fullName.dirty&&e.getErrorType("fullName","required")),t.xp6(3),t.hij("",t.lcZ(12,14,"lang_auto_hoac_click_vao")," "),t.xp6(3),t.hij('"',t.lcZ(15,16,"lang_auto_dang_ky"),'"'),t.xp6(2),t.hij(" ",t.lcZ(17,18,"lang_auto_de_luu_lai_lich_su_lam_de_cua_ban"),""),t.xp6(4),t.Q6J("disabled",e.statusObj.loading||e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(23,20,"lang_auto_xac_nhan")," ")}}function Fn(i,s){1&i&&(t.TgZ(0,"div",33)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_yeu_cau_nhap_mat_khau")))}function Pn(i,s){if(1&i&&(t.TgZ(0,"div",43),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.data.errorMessage)," ")}}function qn(i,s){1&i&&(t.O4$(),t.TgZ(0,"svg",34)(1,"g",35)(2,"g",36),t._UZ(3,"circle",37),t.TgZ(4,"path",38),t._UZ(5,"animateTransform",39),t.qZA()()()())}function Nn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"form",20)(1,"h2",21),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"h4",40),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",22)(10,"div",23),t._UZ(11,"input",41),t.ALo(12,"mytranslate"),t.YNc(13,Fn,4,3,"div",25),t.qZA()(),t.YNc(14,Pn,3,3,"div",42),t.TgZ(15,"div",29),t._UZ(16,"div",30),t.TgZ(17,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.submitName())}),t.YNc(18,qn,6,0,"svg",32),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()}if(2&i){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(2),t.lnq(" ",t.lcZ(3,11,"lang_auto_yeu_cau"),' "',t.lcZ(4,13,"lang_auto_mat_khau"),'" ',t.lcZ(5,15,"lang_auto_de_tiep_tuc_bai_thi")," "),t.xp6(5),t.hij(" ",t.lcZ(8,17,"lang_auto_neu_ban_chua_co_mat_khau_cua_bai_thi_vui_long_lien_he_giao_vien_cua_ban")," "),t.xp6(4),t.s9C("placeholder",t.lcZ(12,19,"lang_auto_mat_khau_bai_thi")),t.xp6(2),t.Q6J("ngIf",e.form.controls.password.invalid&&e.form.controls.password.dirty&&e.getErrorType("password","required")),t.xp6(1),t.Q6J("ngIf",""!=e.data.errorMessage),t.xp6(3),t.Q6J("disabled",e.statusObj.loading||e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(20,21,"lang_auto_xac_nhan")," ")}}function Qn(i,s){if(1&i&&(t.TgZ(0,"div",18)(1,"div",7),t.YNc(2,Un,24,22,"form",19),t.YNc(3,Nn,21,23,"form",19),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!e.data.needPassword),t.xp6(1),t.Q6J("ngIf",e.data.needPassword)}}function Dn(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,En,21,12,"div",4),t.YNc(4,Qn,4,2,"ng-template",null,5,t.W1O),t.qZA()()}if(2&i){const e=t.MAs(5),n=t.oxw();t.xp6(3),t.Q6J("ngIf",n.data.notAnonymous)("ngIfElse",e)}}let Jn=(()=>{class i extends q.Q{constructor(e,n,o,a,l,r){super(o),this.userInfoService=e,this.fb=n,this.commonService=o,this.router=a,this.redirectService=l,this.browserStorageService=r,this.data={},this.type=1,this.closeDialog=new t.vpe,this.subscriptions=new J.w,this.form=new x.nJ({}),this.password=""}onGlobalClick(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.form.valid&&this.submitName()}submitName(){var e,n,o,a=this.commonService.getFormObj(this.form);if(this.data.needPassword)this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(n=null===(e=this.data.examId)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",null!==(o=this.data.hashId)&&void 0!==o?o:""),this.browserStorageService.saveSimpleStorage("password_"+this.data.hashId,a.password.trim()),this.closeDialog.emit(!0);else{var l={id:0,name:a.fullName};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoChangeNamePost(l).subscribe(r=>{var _;1==r.success?(this.closeDialog.emit(!0),this.successStatusObj()):this.errorStatusObj(null!==(_=r.message)&&void 0!==_?_:"")}))}}getErrorType(e,n){var o,a;return!!(this.form.controls[e]&&this.form.controls[e].errors&&(null===(o=this.form.controls[e].errors)||void 0===o?void 0:o[n]))&&(null===(a=this.form.controls[e].errors)||void 0===a?void 0:a[n])}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToLogin(){let e=`${this.router.url}`;e=-1!==e.indexOf("?")?e.slice(0,e.indexOf("?")):e,this.redirectService.redirectToLoginBackLinkWithFromRegister(e)}registerAccount(){this.redirectService.redirectRegisterForStudent()}ngOnInit(){this.form=this.fb.group(this.data.needPassword?{password:new x.p4("",[x.kI.required,Lt._.noWhiteSpace])}:{fullName:new x.p4("",[x.kI.required,Lt._.noWhiteSpace])}),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(D.$C),t.Y36(x.QS),t.Y36(L.v),t.Y36(Q.F0),t.Y36(Ut.V),t.Y36(tt.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-name"]],viewQuery:function(e,n){if(1&e&&t.Gf(Mn,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data",type:"type"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","box","p-5"],["myDialogSubmitName",""],["class","border-slate-200/60 dark:border-darkmode-400 text-center",4,"ngIf","ngIfElse"],["allowAnonymous",""],[1,"border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mx-auto","mt-2"],[1,"btn","w-24","btn-primary",3,"click"],[1,"mb-2","text-md","font-medium","mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"mx-auto"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","text-center"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"intro-x","font-bold","text-center"],[1,"intro-x","mt-8"],[1,"azt-form-group","mb-2"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"text-center"],[1,"h6","mb-0","mt-1","font-weight-normal"],[1,"clickable","text-primary",3,"click"],[1,"flex","float-right","mt-3"],[1,"azt-block-button"],[1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"intro-x","font-bold","text-center","text-danger"],["type","text","formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder"],["class","alert alert-danger text-xs mt-3  mb-2",4,"ngIf"],[1,"alert","alert-danger","text-xs","mt-3","mb-2"]],template:function(e,n){1&e&&t.YNc(0,Dn,6,2,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[T.O5,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,Ft.M,S.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();var Hn=g(90508),zn=g(77446),Pt=g(67322),qt=g(79814),Yn=g(74107);const Rn=["myDialogSubmitInfo"];function Gn(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",19)(2,"div",20),t._uU(3),t.qZA(),t._UZ(4,"input",21),t.qZA()()),2&i){const e=t.oxw(),n=e.$implicit,o=e.index;t.xp6(3),t.hij(" ",n.title," "),t.xp6(1),t.MGl("formControlName","infoType_0_field_",o,"")}}function Bn(i,s){if(1&i&&(t.TgZ(0,"div",26)(1,"mat-checkbox",27)(2,"span",28),t._uU(3),t.qZA()()()),2&i){const e=s.$implicit,n=s.index,o=t.oxw(2).index,a=t.oxw(2);t.MGl("formArrayName","infoType_1_field_",o,""),t.xp6(1),t.Q6J("checked",a.form.value["infoType_1_field_"+o][n])("formControlName",n),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function Kn(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",22)(2,"span",23),t._uU(3),t.qZA()(),t.TgZ(4,"div",24),t.YNc(5,Bn,4,5,"div",25),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.contents)}}function $n(i,s){if(1&i&&(t.TgZ(0,"mat-radio-button",32)(1,"span",28),t._uU(2),t.qZA()()),2&i){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function Wn(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",22)(2,"span",29),t._uU(3),t.qZA()(),t.TgZ(4,"mat-radio-group",30),t.YNc(5,$n,3,3,"mat-radio-button",31),t.qZA()()),2&i){const e=t.oxw(),n=e.$implicit,o=e.index;t.xp6(3),t.Oqu(n.title),t.xp6(1),t.MGl("formControlName","infoType_2_field_",o,""),t.xp6(1),t.Q6J("ngForOf",n.contents)}}function Vn(i,s){if(1&i&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function Xn(i,s){if(1&i&&(t.TgZ(0,"div")(1,"div",19)(2,"span",29),t._uU(3),t.qZA()(),t.TgZ(4,"div",33)(5,"mat-form-field",34)(6,"mat-label",35),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"mat-select",36),t.YNc(10,Vn,2,2,"mat-option",37),t.qZA()()()()),2&i){const e=t.oxw(),n=e.$implicit,o=e.index;t.xp6(3),t.Oqu(n.title),t.xp6(4),t.Oqu(t.lcZ(8,4,"lang_auto_chon_mot_thong_tin")),t.xp6(2),t.MGl("formControlName","infoType_3_field_",o,""),t.xp6(1),t.Q6J("ngForOf",n.contents)}}function ti(i,s){if(1&i&&(t.ynx(0,17),t.YNc(1,Gn,5,2,"div",18),t.YNc(2,Kn,6,2,"div",18),t.YNc(3,Wn,6,3,"div",18),t.YNc(4,Xn,11,6,"div",18),t.BQk()),2&i){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.type),t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(1),t.Q6J("ngIf",2==e.type),t.xp6(1),t.Q6J("ngIf",3==e.type)}}function ei(i,s){1&i&&(t.O4$(),t.TgZ(0,"svg",39)(1,"g",40)(2,"g",41),t._UZ(3,"circle",42),t.TgZ(4,"path",43),t._UZ(5,"animateTransform",44),t.qZA()()()())}function ni(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"form",2)(2,"div",3,4)(4,"div",5)(5,"div",6)(6,"h2",7),t.O4$(),t.TgZ(7,"svg",8),t._UZ(8,"polygon",9)(9,"line",10)(10,"line",11),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(13,"h6",12),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()(),t.YNc(16,ti,5,4,"ng-container",13),t.TgZ(17,"div",14)(18,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleConfirm())}),t.YNc(19,ei,6,0,"svg",16),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(10),t.hij(" ",t.lcZ(12,7,"lang_auto_vui_long_nhap_them_thong_tin_de_bat_dau_bai_thi")," "),t.xp6(3),t.hij(" ",t.lcZ(15,9,"lang_auto_nhung_thong_tin_nay_se_giup_giao_vien_dinh_danh_va_cham_diem_cho_ban")," "),t.xp6(2),t.Q6J("ngForOf",e.data.infoFields),t.xp6(2),t.Q6J("disabled",!e.form.valid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(21,11,"lang_auto_xac_nhan")," ")}}let ii=(()=>{class i extends q.Q{constructor(e,n,o){super(n),this.fb=e,this.commonService=n,this.browserStorageService=o,this.data={},this.closeDialog=new t.vpe,this.subscriptions=new J.w,this.form=new x.nJ({}),this.infoSubmit=[]}onGlobalClick(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.form.valid&&this.handleConfirm()}handleConfirm(){var e,n,o;this.initStatusObj(),this.mapData(),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(n=null===(e=this.data.examId)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",null!==(o=this.data.hashId)&&void 0!==o?o:""),this.browserStorageService.saveSimpleStorage("userInfoV3_"+this.data.hashId,JSON.stringify(this.infoSubmit));var a={success:!0,info:JSON.stringify(this.infoSubmit)};this.closeDialog.emit(a),this.successStatusObj()}mapData(){if(this.infoSubmit=[],Array.isArray(this.data.infoFields))for(let e=0;e<this.data.infoFields.length;e++){let n={contents:[]};if(1===(n.index=e,n.type=this.data.infoFields[e].type,n.title=this.data.infoFields[e].title,n.contents=[],this.data.infoFields[e].type))for(let o=0;o<this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`].length;o++)this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`][o]&&n.contents.push(this.data.infoFields[e].contents[o]);else n.contents.push(this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`]);this.infoSubmit.push(n)}}ngOnInit(){let e={};if(Array.isArray(this.data.infoFields)){for(let o=0;o<this.data.infoFields.length;o++)switch(this.data.infoFields[o].type){case 1:var n=[];this.data.infoFields[o].contents.forEach(a=>{n.push(new x.p4(!1))}),e[`infoType_1_field_${o}`]=new x.vC(n,oi(1));break;case 2:e[`infoType_2_field_${o}`]=["",x.kI.required];break;case 3:e[`infoType_3_field_${o}`]=["",x.kI.required];break;default:e[`infoType_0_field_${o}`]=["",x.kI.required]}this.form=this.fb.group(e)}super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.QS),t.Y36(L.v),t.Y36(tt.z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-submit-info"]],viewQuery:function(e,n){if(1&e&&t.Gf(Rn,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],["id","test-info-form",3,"formGroup"],[1,"school-info","box","p-5","scrollable-form"],["myDialogSubmitInfo",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400","text-center"],[1,"p-5"],[1,"intro-x","text-md","font-bold","flex","items-center","text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"intro-x","text-sm","text-left"],["class","info-field",4,"ngFor","ngForOf"],[1,"float-right","mt-3","pb-3"],[1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"info-field"],[4,"ngIf"],[1,"input-group","mt-3"],[1,"input-group-text","whitespace-nowrap"],["type","text",1,"form-control",3,"formControlName"],[1,"input-group","w-full","mt-3"],[1,"input-group-text","w-full","align-center",2,"vertical-align","middle","border-bottom-left-radius","0","border-bottom-right-radius","0","white-space","normal"],[1,"grid","grid-cols-12","gap-3","p-2","ml-0","mr-0","border-row"],["class","col-span-12 sm:col-span-12 md:col-span-4 text-left mb-1",3,"formArrayName",4,"ngFor","ngForOf"],[1,"col-span-12","sm:col-span-12","md:col-span-4","text-left","mb-1",3,"formArrayName"],["color","primary",3,"checked","formControlName"],[1,"truncate",2,"vertical-align","middle",3,"matTooltip"],[1,"input-group-text","w-full",2,"vertical-align","middle","border-bottom-left-radius","0","border-bottom-right-radius","0","white-space","normal"],[1,"grid","grid-cols-12","gap-3","p-2","ml-0","mr-0","border-row",3,"formControlName"],["color","primary","class","col-span-12 sm:col-span-12 md:col-span-4 text-left mb-1",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"col-span-12","sm:col-span-12","md:col-span-4","text-left","mb-1",3,"value"],[1,"border-row"],["appearance","fill",1,"border-0"],[1,"mt-2"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(e,n){1&e&&t.YNc(0,ni,22,13,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[T.sg,T.O5,Hn.ey,zn.oG,Pt.KE,Pt.hX,qt.VQ,qt.U0,Yn.gD,ot.gM,x._Y,x.Fj,x.JJ,x.JL,x.sg,x.u,x.CE,Ft.M,S.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:800px;max-width:800px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:150px;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.content-form[_ngcontent-%COMP%]{border:1px solid #bebaba;border-radius:5px}.scrollable-form[_ngcontent-%COMP%]{max-height:calc(100vh - 10%);overflow-y:auto}.form-field-custom[_ngcontent-%COMP%]{background-color:#0000000a;border:1px solid rgba(206,212,218,.6980392157);border-radius:.25rem;padding:5px 8px}.border-row[_ngcontent-%COMP%]{border:1px solid #ced4da;border-top:none;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}.truncate[_ngcontent-%COMP%]{max-width:350px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}.truncate[_ngcontent-%COMP%]{max-width:180px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();function oi(i=1){return e=>e.controls.map(o=>o.value).reduce((o,a)=>a?o+a:o,0)>=i?null:{required:!0}}const ai=["myDialogMonitor"];function si(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeOutsideDialog(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"h3",6),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"polygon",8)(8,"line",9)(9,"line",10),t.qZA(),t.kcU(),t.TgZ(10,"p",11),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA()()()(),t.TgZ(17,"div",12),t._UZ(18,"div",13),t.TgZ(19,"button",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()}2&i&&(t.xp6(11),t.xDo("",t.lcZ(12,6,"lang_auto_day_la_bai_thi_duoc"),' "',t.lcZ(13,8,"lang_auto_giam_sat"),'"',t.lcZ(14,10,"lang_auto__vui_long_bam"),' "',t.lcZ(15,12,"lang_auto_xac_nhan"),'" ',t.lcZ(16,14,"lang_auto_de_tiep_tuc_bai_thi"),""),t.xp6(9),t.hij(" ",t.lcZ(21,16,"lang_auto_xac_nhan")," "))}let li=(()=>{class i extends q.Q{constructor(e){super(e),this.commonService=e,this.data={isShow:!1},this.closeDialog=new t.vpe,this.subscriptions=new J.w,this.form=new x.nJ({})}closeOutsideDialog(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.closeDialog.emit(!0)}confirmQuit(){this.closeDialog.emit(!0)}ngOnInit(){super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-monitor-screen"]],viewQuery:function(e,n){if(1&e&&t.Gf(ai,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","box",2,"max-width","400px"],["myDialogMonitor",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mb-0","h5"],[1,"p-3","flex","items-center"],[1,"flex","items-center","mr-auto"],[1,"btn","w-24","btn-primary",3,"click"]],template:function(e,n){1&e&&t.YNc(0,si,22,18,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[T.O5,S.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();const ri=["myDialogCheckEssay"];function _i(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeDialog(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"div",5)(5,"h3",6),t.O4$(),t.TgZ(6,"svg",7),t._UZ(7,"polygon",8)(8,"line",9)(9,"line",10),t.qZA(),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(12,"div",11)(13,"p",12),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA()()()(),t.TgZ(17,"div",13),t._UZ(18,"div",14),t.TgZ(19,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()}2&i&&(t.xp6(10),t.hij(" ",t.lcZ(11,4,"lang_auto_day_la_bai_thi_hon_hop_co_tu_luan_de_tra_loi_cau_hoi_tu_luan")," "),t.xp6(4),t.AsE(" ",t.lcZ(15,6,"lang_auto_ban_co_the_lam_truc_tiep_tren_he_thong_hoac_lam_ra_giay_chup_anh_roi_gui_qua"),' "',t.lcZ(16,8,"lang_auto_dinh_kem_tu_luan"),'" '),t.xp6(6),t.hij(" ",t.lcZ(21,10,"lang_auto_toi_da_hieu")," "))}let ci=(()=>{class i extends q.Q{constructor(e){super(e),this.commonService=e,this.data={isShow:!1},this.closeEssayDialog=new t.vpe,this.subscriptions=new J.w,this.form=new x.nJ({})}closeDialog(e){var n;null!==(n=this.myDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.closeEssayDialog.emit(!0)}confirmQuit(){this.closeEssayDialog.emit(!0)}ngOnInit(){super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-check-essay"]],viewQuery:function(e,n){if(1&e&&t.Gf(ri,5),2&e){let o;t.iGM(o=t.CRH())&&(n.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeEssayDialog:"closeEssayDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","box",2,"max-width","400px"],["myDialogCheckEssay",""],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-md","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mr-2","text-pending"],["points","7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"mt-2"],[1,"text-xs","text-slate-500","dark:text-slate-400"],[1,"p-3","flex","items-center"],[1,"flex","items-center","mr-auto"],[1,"btn","w-24","btn-primary",3,"click"]],template:function(e,n){1&e&&t.YNc(0,_i,22,12,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[T.O5,S.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();const mi=["modalSaveImageUpload"],di=["listQuestionBar"];function ui(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function pi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-info",6),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeShowInfo(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.showFormInfo)}}function gi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-monitor-screen",6),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeAutoMonitor(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataMonitorAuto)}}function hi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-check-essay",7),t.NdJ("closeEssayDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeEssayDialog(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataEssayPopup)}}function fi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-upload-image",12),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.conFirmUpload(o))})("addFileMobile",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.addFileMobileUpload(o))})("isOnSelectFile",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.onSelectFileEmit(o))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("hashCode",e.hashIdUpdate)("data",e.uploadImageData)}}function xi(i,s){if(1&i&&(t.ynx(0),t._UZ(1,"azt-loading-effect",14),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("customText","\u0110ang t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi: "+e.questsLoadState.loadPercent+"%")}}function vi(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"p",26)(1,"mat-icon",57),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"date"),t.ALo(6,"date"),t.qZA()),2&i){const e=t.oxw(6);t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.xi3(5,5,e.exam_obj.startTime,"dd/MM/yy HH:mm")," - ",t.xi3(6,8,e.exam_obj.endTime,"dd/MM/yy HH:mm"),"")}}function bi(i,s){if(1&i&&(t.TgZ(0,"div",58),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",59),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",59),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",59),t._uU(10),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()),2&i){const e=t.oxw(6);let n,o,a;t.xp6(1),t.hij(" ",t.lcZ(2,5,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(3),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," "),t.xp6(1),t.hij(" ",t.lcZ(12,7,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function wi(i,s){1&i&&(t.TgZ(0,"div",60)(1,"mat-icon",57),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Ti(i,s){1&i&&(t.TgZ(0,"div",60)(1,"mat-icon",57),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_muon"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function yi(i,s){if(1&i&&(t.TgZ(0,"div",61)(1,"div",62),t._UZ(2,"azt-standalone-question",63),t.qZA()()),2&i){const e=s.$implicit,n=s.index,o=t.oxw(6);t.xp6(2),t.Q6J("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("displayScreen",2)("isMobile",o.isMobile)("isBackEnd",!1)("examObj",o.exam_obj)("question",e)("index",n)("overTime",!0)("questionListLength",o.questionList.length)}}function Ci(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",67)(1,"div",47)(2,"button",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.openUploadImage())}),t.O4$(),t.TgZ(3,"svg",49),t._UZ(4,"path",50)(5,"path",51)(6,"path",52),t.qZA(),t._uU(7),t.qZA()(),t.kcU(),t.TgZ(8,"p",68),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(7);t.xp6(7),t.hij(" ",e.files.length>0?"N\u1ed9p th\xeam":"N\u1ed9p t\u1ef1 lu\u1eadn"," "),t.xp6(2),t.Oqu(t.lcZ(10,2,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function ki(i,s){1&i&&(t.TgZ(0,"div",69),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.lnq("",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_nao_len_he_thong_hay_an_nut"),' "',t.lcZ(3,5,"lang_auto_nop_tu_luan"),'" ',t.lcZ(4,7,"lang_auto_de_gui_file_len_he_thong"),""))}function Zi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"mat-tab",53),t.YNc(1,Ci,11,4,"div",64),t.YNc(2,ki,5,9,"div",65),t.TgZ(3,"app-upload-ui",66),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(6);return t.KtG(a.changesPosImg(o))})("previewFile",function(o){t.CHM(e);const a=t.oxw(6);return t.KtG(a.onShowFile(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(6);return t.KtG(a.removeImg(o))}),t.qZA()()}if(2&i){const e=t.oxw(6);t.s9C("label","T\u1ef1 lu\u1eadn ("+(e.files&&e.files.length>0?e.files.length:0)+")"),t.xp6(1),t.Q6J("ngIf",e.totalTime>-200),t.xp6(1),t.Q6J("ngIf",0==e.files.length&&e.totalTime>-200),t.xp6(1),t.Q6J("answerFiles",e.files)}}function Si(i,s){if(1&i){const e=t.EpF();t.ynx(0,21),t.TgZ(1,"div",22)(2,"div",23)(3,"h3",24),t._uU(4),t.qZA(),t.TgZ(5,"p",25),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",26)(9,"div",27),t.O4$(),t.TgZ(10,"svg",28),t._UZ(11,"line",29)(12,"line",30)(13,"circle",31),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(17,"div",32),t.O4$(),t.TgZ(18,"svg",33),t._UZ(19,"circle",34)(20,"path",35)(21,"line",36),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()(),t.YNc(24,vi,7,11,"p",37),t.kcU(),t.TgZ(25,"p",38),t._uU(26),t.ALo(27,"mytranslate"),t.ALo(28,"mytranslate"),t.ALo(29,"date"),t.qZA()(),t.YNc(30,bi,13,9,"div",39),t.qZA(),t.YNc(31,wi,7,9,"div",40),t.YNc(32,Ti,7,9,"div",40),t.TgZ(33,"div",41)(34,"div",42)(35,"button",43),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeBackBtn())}),t.O4$(),t.TgZ(36,"svg",44),t._UZ(37,"path",45)(38,"line",46),t.qZA(),t._uU(39),t.ALo(40,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(41,"div",47)(42,"button",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeSubmitBtn())}),t.O4$(),t.TgZ(43,"svg",49),t._UZ(44,"path",50)(45,"path",51)(46,"path",52),t.qZA(),t._uU(47),t.qZA()()(),t.kcU(),t.TgZ(48,"mat-tab-group")(49,"mat-tab",53),t.ALo(50,"mytranslate"),t.YNc(51,yi,3,11,"div",54),t.qZA(),t.YNc(52,Zi,4,4,"mat-tab",55),t.qZA(),t.TgZ(53,"div",56)(54,"div",42)(55,"button",43),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeBackBtn())}),t.O4$(),t.TgZ(56,"svg",44),t._UZ(57,"path",45)(58,"line",46),t.qZA(),t._uU(59),t.ALo(60,"mytranslate"),t.qZA()(),t.kcU(),t.TgZ(61,"div",47)(62,"button",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeSubmitBtn())}),t.O4$(),t.TgZ(63,"svg",49),t._UZ(64,"path",50)(65,"path",51)(66,"path",52),t.qZA(),t._uU(67),t.qZA()()(),t.BQk()}if(2&i){const e=t.oxw(5);t.xp6(4),t.Oqu(e.exam_obj.name),t.xp6(2),t.AsE("",t.lcZ(7,23,"lang_auto_ma_de"),": ",e.exam_obj.hashId,""),t.xp6(8),t.lnq(" ",t.lcZ(15,25,"lang_auto_thoi_gian"),": ",e.exam_obj.minutes," ",t.lcZ(16,27,"lang_auto_phut")," "),t.xp6(8),t.AsE(" ",t.lcZ(23,29,"lang_auto_so_cau"),": ",e.countQuestion," "),t.xp6(2),t.Q6J("ngIf",e.exam_obj.startTime&&e.exam_obj.endTime),t.xp6(2),t.HOy("",t.lcZ(27,31,"lang_auto_thi_sinh"),": ",e.userObj.fullName," ",t.lcZ(28,33,"lang_auto_-_vao_thi_luc"),": ",t.xi3(29,35,e.testingResultObj.startedTest,"dd/MM/yy HH:mm"),""),t.xp6(4),t.Q6J("ngIf",e.totalTime>=-90&&e.totalTime<=0),t.xp6(1),t.Q6J("ngIf",e.totalTime>=-300),t.xp6(1),t.Q6J("ngIf",e.totalTime<-300),t.xp6(7),t.hij(" ",t.lcZ(40,38,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i"," "),t.xp6(2),t.s9C("label",t.lcZ(50,40,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(60,42,"lang_auto_thoat")," "),t.xp6(8),t.hij(" ",e.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i"," ")}}function Ai(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-exit-exam",72),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.closeQuitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(6);return t.KtG(a.redirectToHomepage(o))}),t.qZA()}if(2&i){const e=t.oxw(6);t.Q6J("data",e.quitTestData)}}function Oi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-comfirm-exam",72),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(6);return t.KtG(o.closeSubmitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(6);return t.KtG(a.confirmSubmit(o))}),t.qZA()}if(2&i){const e=t.oxw(6);t.Q6J("data",e.submitData)}}function Ii(i,s){if(1&i&&(t.TgZ(0,"span",81),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(9);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_thi_sinh"),": ",e.userObj.fullName," ")}}function Mi(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",79),t.YNc(1,Ii,3,4,"span",80),t.qZA()),2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("ngIf",!e.isEmpty(e.userObj)&&e.userObj)}}const Ei=function(i){return{"time-almost-end":i}};function ji(i,s){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",82)(1,"div",32),t.O4$(),t.TgZ(2,"svg",83),t._UZ(3,"circle",34)(4,"polyline",84),t.qZA(),t.kcU(),t.TgZ(5,"span",85)(6,"span",59),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",59),t._uU(10),t.qZA(),t._uU(11," : "),t.TgZ(12,"span",59),t._uU(13),t.qZA()()()()),2&i){const e=t.oxw(8);let n,o,a;t.xp6(5),t.Q6J("ngClass",t.VKq(4,Ei,e.timeCount.almostEnd)),t.xp6(2),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Li(i,s){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",82)(1,"div",32),t.O4$(),t.TgZ(2,"svg",83),t._UZ(3,"circle",34)(4,"polyline",84),t.qZA(),t.kcU(),t.TgZ(5,"span",86),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()),2&i&&(t.xp6(6),t.hij(" ",t.lcZ(7,1,"lang_auto_khong_gioi_han")," "))}function Ui(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",90),t._UZ(2,"line",91)(3,"line",92)(4,"line",93)(5,"line",94)(6,"line",95)(7,"line",96),t.qZA()())}function Fi(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",97),t._UZ(2,"path",98)(3,"path",99)(4,"path",100),t.qZA()())}function Pi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",101)(1,"button",102),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.openUploadImage())}),t.O4$(),t.TgZ(2,"svg",49),t._UZ(3,"path",103),t.qZA(),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_dinh_kem_bai_tu_luan")," "))}function qi(i,s){if(1&i){const e=t.EpF();t.O4$(),t.kcU(),t.TgZ(0,"div",87)(1,"button",88),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.changeShowType())}),t.ALo(2,"mytranslate"),t.YNc(3,Ui,8,0,"span",71),t.YNc(4,Fi,5,0,"span",71),t.qZA()(),t.YNc(5,Pi,6,3,"div",89),t.TgZ(6,"div",47)(7,"button",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.openSubmitExam(!0,!1))}),t.O4$(),t.TgZ(8,"svg",49),t._UZ(9,"path",50)(10,"path",51)(11,"path",52),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("matTooltip",t.lcZ(2,5,e.showList?"lang_auto_show_unit":"lang_auto_show_list")),t.xp6(2),t.Q6J("ngIf",!e.showList),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(7),t.hij(" ",t.lcZ(13,7,"lang_auto_nop_bai")," ")}}const Ni=function(i,s){return{hidden:i,top_toolBar:s}};function Qi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",75)(1,"div",76)(2,"button",43),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.openQuitDialog())}),t.O4$(),t.TgZ(3,"svg",44),t._UZ(4,"path",45)(5,"line",46),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.YNc(8,Mi,2,1,"div",77),t.YNc(9,ji,14,6,"div",78),t.YNc(10,Li,8,3,"div",78),t.YNc(11,qi,14,9,"ng-template",74),t.qZA()}if(2&i){const e=t.oxw(7);t.Q6J("ngClass",t.WLB(8,Ni,e.isMobile&&!e.chooseChildData.isShow,e.checkScroll())),t.xp6(6),t.hij(" ",t.lcZ(7,6,"lang_auto_thoat")," "),t.xp6(2),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.unLimitTime&&!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function Di(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-select-classes",104),t.NdJ("selectClassroom",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.closeChooseStudent(o))}),t.qZA()}if(2&i){const e=t.oxw(8);t.Q6J("dataClass",e.chooseChildData.classroomObjs)("isSearchTeacher",!1)("isMobile",e.isMobile)}}function Ji(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-select-student",105),t.NdJ("selectChild",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.closeChooseStudent(o))})("approvedByName",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.approvedByName(o))})("backToClass",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.backToClassList())}),t.qZA()}if(2&i){const e=t.oxw(8);t.Q6J("data",e.chooseChildData)("showAddStudent",null==e.chooseChildData.classObj?null:e.chooseChildData.classObj.showAddStudent)("isSearchTeacher",!1)("hasBackToLink",!0)("isMobile",e.isMobile)}}function Hi(i,s){if(1&i&&(t.YNc(0,Di,1,3,"ng-template",74),t.YNc(1,Ji,1,5,"ng-template",74)),2&i){const e=t.oxw(7);t.Q6J("ngIf",e.selectClassroom),t.xp6(1),t.Q6J("ngIf",e.selectStudent)}}function zi(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"date"),t.qZA()),2&i){const e=t.oxw(9);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.xi3(3,4,e.exam_obj.startTime,"dd/MM/yyyy, HH:mm:ss")," ")}}function Yi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"span",112),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.goToBuyExam())}),t.TgZ(1,"span",113),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"mat-icon",114),t._uU(5,"shopping_cart"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_di_mua")))}const Ri=function(i){return[i]};function Gi(i,s){if(1&i&&(t.TgZ(0,"div",107)(1,"div",108),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,zi,4,7,"span",71),t.YNc(5,Yi,6,3,"span",109),t.qZA(),t.TgZ(6,"div",110)(7,"a",111),t.ALo(8,"localize"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw(8);t.xp6(2),t.hij(" ",t.lcZ(3,5,e.hasErrorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_time_smaller_than_start_time"==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf","lang_core_doest_not_owner_exam"==e.hasErrorMessage),t.xp6(2),t.Q6J("routerLink",t.VKq(11,Ri,t.lcZ(8,7,e.homeLink))),t.xp6(2),t.hij(" ",t.lcZ(10,9,"lang_auto_quay_lai_trang_chu")," ")}}function Bi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",120)(1,"div",121)(2,"azt-standalone-question",122),t.NdJ("autoResizeEssayAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.autoResizeEssayAnswer(o))})("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.openSubmitExam(o))})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.prevQuestion(o))})("goToQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.goToQuestion(o))})("goToQuestionAllEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.goToQuestionAll(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index,o=s.last,a=t.oxw(10);t.xp6(1),t.s9C("id","question_"+n),t.Q6J("hidden",n>0),t.xp6(1),t.Q6J("disableRender",!0)("disableLazy",!0)("follower",a.followerRenderQuest)("displayScreen",2)("showList",a.showList)("isBackEnd",!1)("isMobile",a.isMobile)("examObj",a.exam_obj)("question",e)("index",n)("last",o)("countQuestion",a.countQuestion)("overTime",!1)("questionListLength",a.questionList.length)}}const pt=function(i){return{answeredQuestion:i}};function Ki(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",126)(1,"button",127),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(11);return t.KtG(l.goToQuestion(a))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(1),t.Q6J("ngClass",t.VKq(3,pt,e.status)),t.xp6(1),t.AsE(" ",9>n?"0":"","",n+1," ")}}function $i(i,s){if(1&i&&(t.TgZ(0,"div",123)(1,"h3",81),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",124),t.YNc(5,Ki,3,5,"div",125),t.qZA()()),2&i){const e=t.oxw(10);t.Q6J("hidden",e.isMobile),t.xp6(2),t.hij(" ",t.lcZ(3,3,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(3),t.Q6J("ngForOf",e.questionList)}}function Wi(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-upload-ui",117),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.changesPosImg(o))})("previewFile",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.onShowFile(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.removeImg(o))}),t.qZA(),t.YNc(2,Bi,3,16,"div",118),t.YNc(3,$i,6,5,"div",119),t.BQk()}if(2&i){const e=t.oxw(9);t.xp6(1),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow)}}function Vi(i,s){if(1&i&&t._UZ(0,"azt-loaded-img",133),2&i){const e=t.oxw(10);t.Q6J("imgSrc",e.exam_obj.examHeader)}}function Xi(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",134)(1,"div",135)(2,"azt-standalone-question",136),t.NdJ("autoResizeEssayAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.autoResizeEssayAnswer(o))})("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.openSubmitExam(o))})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.prevQuestion(o))})("goToQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.goToQuestion(o))})("goToQuestionAllEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.goToQuestionAll(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index,o=t.oxw(10);t.xp6(1),t.s9C("id","question_all_"+n),t.xp6(1),t.Q6J("disableRender",!0)("disableLazy",!0)("follower",o.followerRenderQuest)("displayScreen",2)("isBackEnd",!1)("showList",o.showList)("isMobile",o.isMobile)("examObj",o.exam_obj)("countQuestion",o.countQuestion)("question",e)("overTime",!1)("index",n)}}function to(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",142)(1,"button",127),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(11);return t.KtG(l.goToQuestionAll(a))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(1),t.Q6J("ngClass",t.VKq(3,pt,e.status)),t.xp6(1),t.AsE(" ",9>n?"0":"","",n+1," ")}}const eo=function(i,s){return{hidden:i,top_gameBar:s}},no=function(i){return{"sheet-Screen-monitor":i}};function io(i,s){if(1&i&&(t.TgZ(0,"div",137,138)(2,"div",139)(3,"h3",81),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",140),t.YNc(7,to,3,5,"div",141),t.qZA()()()),2&i){const e=t.oxw(10);t.Q6J("ngClass",t.WLB(6,eo,e.isMobile&&!e.chooseChildData.isShow,e.checkScroll())),t.xp6(4),t.hij(" ",t.lcZ(5,4,"lang_auto_danh_sach_cau_hoi")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(9,no,e.hasVideoMonitor)),t.xp6(1),t.Q6J("ngForOf",e.questionList)}}function oo(i,s){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",128)(2,"div",129)(3,"app-upload-ui",117),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.changesPosImg(o))})("previewFile",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.onShowFile(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.removeImg(o))}),t.qZA(),t.YNc(4,Vi,1,1,"azt-loaded-img",130),t.YNc(5,Xi,3,13,"div",131),t.qZA(),t.YNc(6,io,8,11,"div",132),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(9);t.xp6(3),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngIf",e.exam_obj.examHeader),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function ao(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",170),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(10);return t.KtG(o.openUploadImage())}),t.TgZ(1,"span",171),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_dinh_kem_tu_luan")))}function so(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",142)(1,"button",172),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(10);return t.KtG(l.showList?l.goToQuestionAll(a):l.goToQuestion(a))}),t._uU(2),t.qZA()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(1),t.Q6J("ngClass",t.VKq(3,pt,e.status)),t.xp6(1),t.AsE(" ",9>n?"0":"","",n+1," ")}}function lo(i,s){if(1&i&&(t.TgZ(0,"span",163),t._uU(1),t.qZA()),2&i){const e=t.oxw(10);t.xp6(1),t.Oqu(e.userObj.fullName)}}const ro=function(i){return{"time-almost-end-mobile":i}};function _o(i,s){if(1&i&&(t.TgZ(0,"div",173)(1,"mat-icon",174),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",59),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",59),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",59),t._uU(10),t.qZA()()),2&i){const e=t.oxw(10);let n,o,a;t.Q6J("ngClass",t.VKq(4,ro,e.timeCount.almostEnd)),t.xp6(4),t.hij(" ",(null!==(n=e.timeCount.hour)&&void 0!==n?n:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function co(i,s){1&i&&(t.TgZ(0,"div",175)(1,"mat-icon",176),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",177),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&i&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_khong_gioi_han")," "))}const mo=function(i){return{hidden:i}};function uo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",143)(2,"div",144)(3,"div",145)(4,"a",146),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.openQuitDialog())}),t.O4$(),t.TgZ(5,"svg",147),t._UZ(6,"path",45)(7,"line",46),t.qZA()()(),t.kcU(),t.TgZ(8,"div",148),t.YNc(9,ao,4,3,"a",149),t.qZA(),t.TgZ(10,"div",150)(11,"a",151),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.openSubmitExam(!0,!1))}),t.TgZ(12,"span",152),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.O4$(),t.TgZ(15,"svg",147),t._UZ(16,"polyline",153),t.qZA()()()()(),t.kcU(),t.TgZ(17,"div",154)(18,"div",155)(19,"div",156)(20,"div",157)(21,"div",158)(22,"div",159),t.YNc(23,so,3,5,"div",141),t.qZA()()()()(),t.TgZ(24,"div",160),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showSheet(!1))}),t.TgZ(25,"div",161)(26,"p",162),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showSheet(!0,1))}),t.ALo(27,"mytranslate"),t.TgZ(28,"mat-icon",163),t._uU(29,"format_list_bulleted"),t.qZA()(),t.TgZ(30,"p",164),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showSheet(!0,2))}),t.ALo(31,"mytranslate"),t.TgZ(32,"mat-icon",163),t._uU(33,"view_compact"),t.qZA()()(),t.TgZ(34,"div",165)(35,"p",166),t.YNc(36,lo,2,1,"span",167),t.qZA()(),t.YNc(37,_o,11,6,"div",168),t.YNc(38,co,6,3,"div",169),t.qZA()()()}if(2&i){const e=t.oxw(9);t.xp6(9),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(4),t.Oqu(t.lcZ(14,9,"lang_auto_nop_bai")),t.xp6(5),t.Q6J("ngClass",t.VKq(15,mo,!e.isShowSheet)),t.xp6(5),t.Q6J("ngForOf",e.questionList),t.xp6(3),t.s9C("matTooltip",t.lcZ(27,11,"lang_auto_xem_tat_ca_cau_hoi")),t.xp6(4),t.s9C("matTooltip",t.lcZ(31,13,"lang_auto_xem_tung_cau_don")),t.xp6(6),t.Q6J("ngIf",!e.isEmpty(e.userObj)&&e.userObj),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.unLimitTime)}}const po=function(i,s){return{"monitor-screen":i,"monitor-screen-mobile":s}};function go(i,s){if(1&i&&(t.TgZ(0,"div",107),t._UZ(1,"div",115,116),t.YNc(3,Wi,4,6,"ng-container",71),t.YNc(4,oo,7,7,"ng-container",71),t.YNc(5,uo,39,17,"div",71),t.qZA()),2&i){const e=t.oxw(8);t.xp6(1),t.Q6J("ngClass",t.WLB(4,po,!e.isMobile,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.showUnit),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function ho(i,s){if(1&i&&(t.YNc(0,Gi,11,13,"div",106),t.YNc(1,go,6,7,"div",106)),2&i){const e=t.oxw(7);t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}function fo(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Qi,12,11,"div",73),t.YNc(2,Hi,2,2,"ng-template",74),t.YNc(3,ho,2,2,"ng-template",74),t.BQk()),2&i){const e=t.oxw(6);t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function xo(i,s){if(1&i&&(t.YNc(0,Ai,1,1,"app-exit-exam",70),t.YNc(1,Oi,1,1,"app-comfirm-exam",70),t.YNc(2,fo,4,3,"ng-container",71)),2&i){const e=t.oxw(5);t.Q6J("ngIf",e.quitTestData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitData.isShow),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow&&!e.showFormInfo.isShow)}}const vo=function(i,s,e){return{"time-client-pc":i,"time-client-mobile":s,"time-client-notValid":e}};function bo(i,s){if(1&i&&(t.ynx(0),t.YNc(1,Si,68,44,"ng-container",16),t.YNc(2,xo,3,3,"ng-template",null,17,t.W1O),t.TgZ(4,"div",18)(5,"p",19)(6,"span",20),t.ALo(7,"mytranslate"),t._uU(8),t.ALo(9,"date"),t.qZA()()(),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw(4);t.xp6(1),t.Q6J("ngIf",!n.validForTakeTest)("ngIfElse",e),t.xp6(3),t.Q6J("ngClass",t.kEZ(10,vo,!n.isMobile&&n.validForTakeTest,n.isMobile&&n.validForTakeTest,!n.validForTakeTest)),t.xp6(2),t.s9C("matTooltip",t.lcZ(7,5,"lang_auto_day_la_thoi_gian_hien_tai_tren_thiet_bi_cua_ban")),t.xp6(2),t.Oqu(t.xi3(9,7,n.timeClient,"dd/MM/yy HH:mm"))}}function wo(i,s){if(1&i&&(t.TgZ(0,"p",185),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.Oqu(e)}}function To(i,s){if(1&i&&(t.TgZ(0,"div")(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.YNc(4,wo,2,1,"p",184),t.qZA()),2&i){const e=s.$implicit,n=s.index;t.xp6(3),t.AsE("",n+1,". ",e.message," :"),t.xp6(1),t.Q6J("ngForOf",e.data)}}function yo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",178)(1,"div",179)(2,"h3",180),t._uU(3,"X\u1ea3y ra l\u1ed7i trong qu\xe1 tr\xecnh t\u1ea3i \u0111\u1ec1 thi"),t.qZA(),t.TgZ(4,"p"),t._uU(5,'B\u1ea1n c\xf3 th\u1ec3 click v\xe0o n\xfat "th\u1eed l\u1ea1i" \u0111\u1ec3 th\u1eed t\u1ea3i l\u1ea1i \u0111\u1ec1 thi.'),t.qZA(),t.TgZ(6,"p"),t._uU(7,"M\xe3 \u0111\u1ec1 thi: "),t.TgZ(8,"strong"),t._uU(9),t.qZA()(),t.TgZ(10,"p"),t._uU(11),t.qZA(),t.TgZ(12,"p"),t._uU(13,"S\u1ed1 l\u01b0\u1ee3ng ph\xe1t hi\u1ec7n: "),t.TgZ(14,"strong"),t._uU(15),t.qZA()(),t.YNc(16,To,5,3,"div",181),t.TgZ(17,"p",182)(18,"button",183),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.endTimeBackBtn())}),t._uU(19," Quay v\u1ec1 "),t.qZA(),t.TgZ(20,"button",48),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.reloadExam())}),t._uU(21," Th\u1eed l\u1ea1i "),t.qZA()()()()}if(2&i){const e=t.oxw(4);t.xp6(9),t.AsE("",e.exam_obj.hashId," - ",e.testingResultObj.id,""),t.xp6(2),t.hij("Ph\u1ea7n tr\u0103m \u0111\u1ec1 thi \u0111\xe3 t\u1ea3i \u0111\u01b0\u1ee3c: ",e.questsLoadState.loadPercent,"%"),t.xp6(4),t.hij("",e.questsLoadState.errData.length," l\u1ed7i"),t.xp6(1),t.Q6J("ngForOf",e.questsLoadState.errData)}}function Co(i,s){if(1&i&&(t.YNc(0,bo,10,14,"ng-container",2),t.YNc(1,yo,22,5,"ng-template",null,15,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf",!n.questsLoadState.hasErrs)("ngIfElse",e)}}function ko(i,s){if(1&i&&(t.YNc(0,xi,2,1,"ng-container",2),t.YNc(1,Co,3,2,"ng-template",null,13,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf",n.questsLoadState.startLoad)("ngIfElse",e)}}function Zo(i,s){if(1&i&&t._UZ(0,"azt-loading-effect",14),2&i){const e=t.oxw(2);t.Q6J("customText","\u0110ang t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi: "+e.loadMixedExamProgress+"%")}}function So(i,s){1&i&&(t.TgZ(0,"div",186)(1,"mat-icon",57),t._uU(2,"error"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_loi_khi_tai_du_lieu_de_thi_hay_thu_lai_bang_cach_tai_lai_trang_web"),""))}function Ao(i,s){if(1&i&&(t.YNc(0,fi,1,2,"app-upload-image",8),t.YNc(1,ko,3,2,"ng-template",null,9,t.W1O),t.YNc(3,Zo,1,1,"azt-loading-effect",10),t.YNc(4,So,5,3,"div",11)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.uploadImageData.isShow),t.xp6(3),t.Q6J("ngIf",n.isMixedService2&&!n.doneLoadMixedExamAssets&&!n.errorLoadMixedAssets)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",n.errorLoadMixedAssets)}}function Oo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-submit-name",6),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeSubmitName(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.submitNameData)}}let Io=(()=>{class i extends q.Q{constructor(e,n,o,a,l,r,_,m,c,d,h,p,f,v,k,w,y,E,j,I,u,b,C,Z,F,A,O,M){super(a),this.iCustomQuestionAnswerConfig=e,this.fb=n,this.activeRoute=o,this.commonService=a,this.baseApiService=l,this.mixService=r,this.localStorageObjetct=_,this.mixService2=m,this.fireStoreService=c,this.cdnService=d,this.encryptService=h,this.docxService=p,this.zipdataService=f,this.timeService=v,this.monitorService=k,this.browserStorageService=w,this.userService=y,this.frontExamTrackService=E,this.frontStudentService=j,this.globalService=I,this.frontExamResultService=u,this.frontExamService=b,this.frontExamResultUploadService=C,this.customQuestionAnswerConfig=Z,this.dialog=F,this.answerTypeService=A,this.homeworkExamService=O,this.questionRenderService=M,this.subscriptions=new J.w,this.form=new x.nJ({}),this.homeLink="",this.tenantId=1,this.curCateId=0,this.hashId="",this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.exam_obj={},this.firstInGroupIndexes=[],this.testingResultObj={},this.userObj={},this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.followerRenderQuest=new ye.G,this.startedTest=(0,T.p6)(new Date,"yyyy-MM-ddTHH:mm:ss Z","en_vn"),this.countQuestion=0,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={datas:""},this.hasMonitorScreen=!1,this.onTypingAnswer=!1,this.chooseChildData={studentObjs:void 0,classObj:void 0,isPendingApproved:!1,isShow:!1},this.dataProcess={},this.password="",this.backToLink="",this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.validForTakeTest=!0,this.sendingData=!1,this.hasVideoMonitor=!1,this.acceptSendTrack=!0,this.isMixedService2=!1,this.doneLoadMixedExamAssets=!1,this.errorLoadMixedAssets=!1,this.subscription=new J.w,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.isShowPreviewFile=!1,this.previewFile={},this.oldScroll=0,this.checkTimeOutExam=!1,this.deviceId="",this.timeClient=Date.now(),this.customDocument=Object.assign({},document),this.browserName="",this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClassroom=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:new Array},this.curQuestion=0,this.showList=!0,this.showUnit=!1,this.isShowSheet=!1,this.widthGameBar=300}get loadMixedExamProgress(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}timeOut(e){"done"==e&&location.reload()}getData(){var e=this.browserStorageService.getSimpleStorage("password_"+this.hashId),n=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.hashId);this.password=e||"",this.subscriptions.add(this.frontExamService.apiFrontExamTestGet(this.hashId,this.password,n||""!=this.tempStorageInfo?1:0,this.deviceId).subscribe(o=>{var a,l,r,_,m,c;o.data&&(this.homeworkExamService.allowAnonymousUser(null!==(l=null===(a=o.data.examObj)||void 0===a?void 0:a.whoAllow)&&void 0!==l?l:0)?(null===(m=o.data)||void 0===m?void 0:m.hasOwnProperty("errorMessage"))&&"lang_core_exam_password_invalid"==(null===(c=o.data)||void 0===c?void 0:c.errorMessage)?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(o):this.baseApiService.isLogin()&&this.baseApiService.isAnonymousRole()?(this.hasErrorMessage="lang_auto_yeu_cau_dang_nhap_de_vao_thi",this.stopStatusObj(),this.openSubmitName(!0)):(null===(r=o.data)||void 0===r?void 0:r.hasOwnProperty("errorMessage"))&&"lang_core_exam_password_invalid"==(null===(_=o.data)||void 0===_?void 0:_.errorMessage)?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(o))})),this.commonService.gaEvent("FrontExam_GetObj")}processData(e){var n,o,a,l,r,_,m,c,d,h,p,f,v,k,w,y,E,j,I,u,b,C,Z,F,A,O,M,P,H,at,B,R,K,$,st,W,z,ht;if(1==e.success)if(this.exam_obj=null!==(o=null===(n=e.data)||void 0===n?void 0:n.examObj)&&void 0!==o?o:{},this.testingResultObj=null!==(l=null===(a=e.data)||void 0===a?void 0:a.testingExamResultObj)&&void 0!==l?l:{},this.userObj=null!==(_=null===(r=e.data)||void 0===r?void 0:r.studentObj)&&void 0!==_?_:{},this.commonService.translateMetaData({title:"L\xe0m b\xe0i: "+(null!==(c=null===(m=e.data)||void 0===m?void 0:m.examObj)&&void 0!==c&&c.name?e.data.examObj.name:""),description:null!==(h=null===(d=e.data)||void 0===d?void 0:d.examObj)&&void 0!==h&&h.name?e.data.examObj.name:""}),this.dataProcess=null!==(p=e.data)&&void 0!==p?p:{},this.baseApiService.isLogin()&&this.baseApiService.isAnonymousRole())if(this.homeworkExamService.allowAnonymousUser(null!==(k=null===(v=null===(f=this.dataProcess)||void 0===f?void 0:f.examObj)||void 0===v?void 0:v.whoAllow)&&void 0!==k?k:0)){var tl=this.baseApiService.getUserObj();this.userService.isAnonymousName(tl)?(this.stopStatusObj(),this.openSubmitName(!1)):(1==(null===(y=null===(w=e.data)||void 0===w?void 0:w.examObj)||void 0===y?void 0:y.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(N=this.commonService.willDeleteParseJson(null!==(I=null===(j=null===(E=e.data)||void 0===E?void 0:E.examObj)||void 0===j?void 0:j.infoFieldsV2)&&void 0!==I?I:""))&&N.length>0&&""!=N?(this.openShowInfo(N),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj())}else 1==(null===(b=null===(u=e.data)||void 0===u?void 0:u.examObj)||void 0===b?void 0:b.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(N=this.commonService.willDeleteParseJson(null!==(F=null===(Z=null===(C=e.data)||void 0===C?void 0:C.examObj)||void 0===Z?void 0:Z.infoFieldsV2)&&void 0!==F?F:""))&&N.length>0&&""!=N?(this.openShowInfo(N),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj();else if(this.homeworkExamService.mustInClassroom(null!==(M=null===(O=null===(A=this.dataProcess)||void 0===A?void 0:A.examObj)||void 0===O?void 0:O.whoAllow)&&void 0!==M?M:0))if(this.dataProcess.hasOwnProperty("studentObj")&&!this.isEmpty(null!==(H=null===(P=this.dataProcess)||void 0===P?void 0:P.studentObj)&&void 0!==H?H:{})){var V=this.dataProcess.studentObj;1==(null==V?void 0:V.isVerified)?(1==(null===(B=null===(at=e.data)||void 0===at?void 0:at.examObj)||void 0===B?void 0:B.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(N=this.commonService.willDeleteParseJson(null!==(R=e.data.examObj.infoFieldsV2)&&void 0!==R?R:""))&&N.length>0&&""!=N?(this.openShowInfo(N),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj()):(this.stopStatusObj(),this.openChooseStudent({student:null!=V?V:null,chooseStudentData:null,responseFrontExam:null},3))}else if(this.dataProcess.hasOwnProperty("classroomObj")&&this.isEmpty(null!==($=null===(K=this.dataProcess)||void 0===K?void 0:K.classroomObj)&&void 0!==$?$:{}))this.stopStatusObj(),this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1);else{this.stopStatusObj();var Yt=[];this.dataProcess.studentObjs&&this.dataProcess.studentObjs.length>0&&(Yt=this.dataProcess.studentObjs.filter(nl=>{var ft,xt;return nl.classroomId==(null!==(xt=null===(ft=this.dataProcess.classroomObj)||void 0===ft?void 0:ft.id)&&void 0!==xt?xt:0)})),this.openChooseStudent({chooseStudentData:{studentObjs:Yt,classroomObj:this.dataProcess.classroomObj,onlyOneClass:!0},student:null,responseFrontExam:null},2)}else{var N;1==(null===(W=null===(st=e.data)||void 0===st?void 0:st.examObj)||void 0===W?void 0:W.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(N=this.commonService.willDeleteParseJson(null!==(z=e.data.examObj.infoFieldsV2)&&void 0!==z?z:""))&&N.length>0&&""!=N?(this.openShowInfo(N),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj()}else this.showErrorSnack(null!==(ht=e.message)&&void 0!==ht?ht:"")}changeQuestionContent(e){for(var n,o,a,l=[],r=this.commonService.willDeleteParseJson(null!==(n=this.browserStorageService.getSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id))&&void 0!==n?n:""),_=0;_<e.length;_++){let c=e[_];if(c){if(this.answerTypeService.isEssayAnswer(e[_].answerType)&&(c.essayText=""),this.answerTypeService.isFillAnswer(e[_].answerType)&&(c.essayText=""),(null!==(o=this.exam_obj.limitAudio)&&void 0!==o?o:-1)>0)if(r){var m=r.filter(d=>d.questionId==e[_].id);m&&m.length>0&&(c.limitAudio=m[0].limitTimes+m[0].limitPlay,c.limitPlay=0)}else c.attachments&&c.attachments.length>0&&(c.limitAudio=0,c.limitPlay=0);c=Object.assign(Object.assign({},c),{index:_,status:!1}),l.push(c)}}return(null!==(a=this.exam_obj.limitAudio)&&void 0!==a?a:-1)>0?this.addAudioObjsToQuestion(l):l}addAudioObjsToQuestion(e){var n=[];return e.forEach(o=>{var a,l;if(o.attachments&&o.attachments.length>0){o.audioLimitObjs=[];let _=(null!==(a=this.exam_obj.limitAudio)&&void 0!==a?a:0)-(null!==(l=o.limitAudio)&&void 0!==l?l:0);if(_>0)for(var r=0;r<_;r++)o.audioLimitObjs.push({index:r,status:!0})}n.push(o)}),n}sendAudioForQuestion(e){for(var n,o,a,l,r,_=0;_<this.questionList.length;_++)this.questionList[_].id==(null===(n=e.obj)||void 0===n?void 0:n.id)&&(1==e.play?this.questionList[_].limitPlay=(null!==(o=this.questionList[_].limitPlay)&&void 0!==o?o:0)+1:(this.questionList[_].limitPlay=(null!==(a=this.questionList[_].limitPlay)&&void 0!==a?a:0)-1,this.questionList[_].limitAudio=(null!==(l=this.questionList[_].limitAudio)&&void 0!==l?l:0)+1,null===(r=this.questionList[_].audioLimitObjs)||void 0===r||r.forEach(m=>{m.index==e.index&&(m.status=!1)})));this.saveAudioLimitStorage()}saveAudioLimitStorage(){var e,n,o=[];this.questionList.forEach(a=>{a.attachments&&a.attachments.length>0&&o.push({questionId:a.id,limitTimes:a.limitAudio,limitPlay:a.limitPlay})}),o.length>0&&(this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(n=null===(e=this.exam_obj.id)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",this.hashId),this.browserStorageService.saveSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(o)))}compareContent(e,n){return e.key==n.content}compareContentPDF(e,n){return e.content==n.content}fillData(e){var n,o,a,l,r,_,m,c,d,h,p,f,v,k,w,y,E,j,I,u,b;this.checkResultTracking(),this.userObj=this.homeworkExamService.mustInClassroom(null!==(n=this.exam_obj.whoAllow)&&void 0!==n?n:0)&&null!==(a=null===(o=e.data)||void 0===o?void 0:o.studentObj)&&void 0!==a?a:this.baseApiService.getUserObj(),this.totalTime=null!==(r=null===(l=e.data)||void 0===l?void 0:l.countDownSecond)&&void 0!==r?r:0,this.startTestTime=null!==(m=null===(_=e.data)||void 0===_?void 0:_.startServerSecond)&&void 0!==m?m:0;var C=this.commonService.willDeleteParseJson(null!==(c=this.browserStorageService.getSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id))&&void 0!==c?c:"");if(this.hashIdUpdate=null!==(h=null===(d=e.data)||void 0===d?void 0:d.hashCodeUpload)&&void 0!==h?h:"",this.sendHashIdUpdate(this.hashIdUpdate),(null===(p=e.data)||void 0===p?void 0:p.hasOwnProperty("errorMessage"))&&e.data.errorMessage)this.hasErrorMessage=e.data.errorMessage,"lang_core_exam_password_invalid"==this.hasErrorMessage?this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"):"lang_core_exam_password_invalid"==this.hasErrorMessage&&""==this.password&&(this.hasErrorMessage="lang_core_exam_password_needed",this.openSubmitName(!1,this.hashId,!0)),this.stopStatusObj();else{this.hasErrorMessage="",(null!==(k=null===(v=null===(f=e.data)||void 0===f?void 0:f.examObj)||void 0===v?void 0:v.minutes)&&void 0!==k?k:-1)>0?this.unLimitTime=!1:(this.unLimitTime=!0,this.totalTime=1),this.validForTakeTest=!((null!==(y=null===(w=e.data)||void 0===w?void 0:w.countDownSecond)&&void 0!==y?y:1)<=0&&!this.unLimitTime);let F=this.commonService.castJsonToClassObjs(ke.v,JSON.stringify(null===(E=e.data)||void 0===E?void 0:E.questionObjs)),A=this.changeQuestionContent(null!=F?F:[]);if(this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0),this.syncData&&this.syncData.hasOwnProperty("datas")&&""!=this.syncData.datas){var Z=this.commonService.willDeleteParseJson(this.syncData.datas);null==C?(this.answerList=null!=Z.answers?Z.answers:[],this.noteList=null!=Z.notes?Z.notes:[],this.files=null!==(j=this.commonService.myParseJson(Z.files))&&void 0!==j?j:[],A=this.reBindDataQuestion(A,this.answerList)):Z.saveTime<C.saveTime?(this.answerList=C.answers,this.noteList=C.notes,this.files=null!==(I=this.commonService.myParseJson(C.files))&&void 0!==I?I:[],A=this.reBindDataQuestion(A,this.answerList)):(this.answerList=Z.answers,this.noteList=Z.notes,this.files=null!==(u=this.commonService.myParseJson(Z.files))&&void 0!==u?u:[],A=this.reBindDataQuestion(A,this.answerList))}else C&&(this.answerList=C.answers,this.noteList=C.notes,this.files=null!==(b=this.commonService.myParseJson(C.files))&&void 0!==b?b:[],A=this.reBindDataQuestion(A,this.answerList));this.followerRenderQuest.setNumQuest(A.length),this.questsLoadState.startLoad=!0,this.questionRenderService.parseRenderQuestions(A,O=>{this.questsLoadState.loadPercent=Math.floor(O)}).then(O=>{var M;this.questionList=O,this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!1,this.countQuestion=this.questionList.length,this.hasEssayQuestion=this.checkEssay(),this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(null!==(M=this.globalService.plusGlobalInterval("exam"))&&void 0!==M?M:0,"exam")),this.saveToStorage(this.answerList,this.noteList,this.files),this.setTimeClient()}).catch(O=>{this.showErrorSnack("\u0110\u1ec1 thi t\u1ea3i kh\xf4ng th\xe0nh c\xf4ng."),this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!0,this.questsLoadState.errData=O})}}reloadExam(){location.reload()}takeAnswerForQuestion(e,n){n.forEach(o=>{e.forEach(a=>{if(a.questionId==o.id)if(this.answerTypeService.isFillAnswer(o.answerType)||this.answerTypeService.isEssayAnswer(o.answerType))o.choseAnswer=a.answerContent[0].content;else if((this.answerTypeService.isOneChoiceAnswer(o.answerType)||this.answerTypeService.isMultipleChoiceAnswer(o.answerType))&&o.answers){var l=a.answerContent[0].index;o.choseAnswer=o.answers[l].alpha?o.answers[l].alpha:o.answers[l].key}})})}reBindDataQuestion(e,n){var o=[];return e.forEach(a=>{n.forEach(l=>{if(l.questionId==a.id){if(this.answerTypeService.isEssayAnswer(a.answerType))(r=l.answerContent&&l.answerContent.length>0?l.answerContent[0].content:"")&&(a.essayText=r);else if(this.answerTypeService.isFillAnswer(a.answerType)){var r;(r=l.answerContent&&l.answerContent.length>0?l.answerContent[0].content:"")&&(a.essayText=r)}else if(a.answers)for(var _=0;_<a.answers.length;_++){if(this.compareContent(a.answers[_],l.answerContent&&l.answerContent.length>0?l.answerContent[0]:{index:0,content:""})){a.answers[_].checked=!0;break}a.answers[_].checked=!1}a.status=!0}}),o.push(a)}),o}approvedByName(e){var n,o={fullName:e.nameEmit,examHashId:null===(n=this.dataProcess.examObj)||void 0===n?void 0:n.hashId,classroomId:e.classId?e.classId:0};this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForExamPost(o).subscribe(a=>{var l;1==a.success?(this.getData(),this.chooseChildData={isPendingApproved:!1,isShow:!1}):this.showErrorSnack(null!==(l=a.message)&&void 0!==l?l:"")}))}openChooseStudent(e,n){var o,a,l;e.responseFrontExam&&1==n?(this.selectStudent=!1,this.selectClassroom=!0,this.chooseChildData={studentObjs:void 0,classroomObjs:e.responseFrontExam.classroomObjs,isPendingApproved:!1,isShow:!0},e.responseFrontExam.classroomObjs&&1==(null===(o=e.responseFrontExam.classroomObjs)||void 0===o?void 0:o.length)&&this.closeChooseStudent({classObj:null!==(l=null===(a=e.responseFrontExam.classroomObjs)||void 0===a?void 0:a[0])&&void 0!==l?l:{},studentObj:{},type:1,onlyOneClass:!0})):e.chooseStudentData&&2==n?(this.selectClassroom=!1,this.selectStudent=!0,this.chooseChildData={studentObjs:e.chooseStudentData.studentObjs,classObj:e.chooseStudentData.classroomObj,onlyOneClass:e.chooseStudentData.onlyOneClass,isPendingApproved:!1,isShow:!0}):e.student&&(this.selectClassroom=!1,this.selectStudent=!0,this.chooseChildData={studentObj:e.student,isPendingApproved:!0,isShow:!0})}closeChooseStudent(e){var n,o;if(1==e.type){var a=this.dataProcess.studentObjs,l=[];a&&a.length>0&&(l=a.filter(m=>{var c,d;return m.classroomId==(null!==(d=null===(c=e.classObj)||void 0===c?void 0:c.id)&&void 0!==d?d:0)})),this.openChooseStudent({chooseStudentData:{studentObjs:l,classroomObj:e.classObj,onlyOneClass:e.onlyOneClass},student:null,responseFrontExam:null},2)}else{var _=null===(n=this.userService)||void 0===n?void 0:n.getUserObj();0==e.studentObj.isVerified||1==e.classObj.freeChooseName?this.frontStudentService.apiFrontStudentAddStudentToClassForExamGet(null===(o=this.dataProcess.examObj)||void 0===o?void 0:o.hashId,e.classId,e.studentObj.id?e.studentObj.id:0).subscribe(m=>{1==m.success?(this.getData(),this.isAfterChooseStudent=!0,this.chooseChildData={isPendingApproved:!1,isShow:!1}):(this.isAfterChooseStudent=!1,this.showErrorSnack("lang_auto_khong_tai_duoc_du_lieu"))}):_.id==e.studentObj.parentId?(this.getData(),this.chooseChildData={isPendingApproved:!1,isShow:!1}):(this.sendRequestData={studentObj:e.studentObj,classId:e.classId,isShow:!0},this.dialog.open(Ce.P,{width:"600px",data:this.sendRequestData}).afterClosed().subscribe(c=>{switch(c){case"success":this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien");break;case"error":this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai")}}))}}confirmSendRequest(e){e?(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien")):(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai"))}closeRequestDialog(){this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1}}backToClassList(){this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1)}setTimeExam(){var e;if((null!==(e=this.exam_obj.minutes)&&void 0!==e?e:-1)>0){var n="exam",o=this.globalService.plusGlobalInterval(n);this.intervalExamTimeout=window.setInterval(()=>{try{if(o==this.globalService.getGlobalInterval(n)){const a=Math.floor(this.totalTime/3600),r=Math.floor(this.totalTime%3600/60),_=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(null!=o?o:0,n)),clearInterval(this.intervalExamTimeout)):this.timeCount=0==a&&0==r?{hour:a,minute:r,second:_,almostEnd:!0}:{hour:a,minute:r,second:_,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(a){console.log(a)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}}getTimeServer(){var e="examServerTime",n=this.globalService.plusGlobalInterval(e);this.intervalGetTimeServer=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.subscriptions.add(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(o=>{var a,l,r;if(1==o.success){var _=60*(null!==(a=this.exam_obj.minutes)&&void 0!==a?a:0),m=null!==(r=null===(l=o.data)||void 0===l?void 0:l.curServerTime)&&void 0!==r?r:0;this.totalTime=this.startTestTime+_-m,this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(null!=n?n:0,e)),clearInterval(this.intervalGetTimeServer))}})):clearInterval(this.intervalGetTimeServer)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}randomIntFromInterval(e,n){return Math.floor(Math.random()*(n-e+1)+e)}setTimeAutoSubmit(e,n){var o=this.totalTime+90,a="autoSubmitTimeCount",l=this.globalService.plusGlobalInterval(a);this.intervalAutoSubmit=window.setInterval(()=>{try{if(l!=this.globalService.getGlobalInterval(a)||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const r=Math.floor(o/3600),m=Math.floor(o%3600/60),c=o%60;o<=0?(this.timeCount={hour:0,minute:0,second:0},(l==this.globalService.getGlobalInterval(a)||e==this.globalService.getGlobalInterval(n))&&!this.checkSubmit&&this.submitTest(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:r,minute:m,second:c},o-=1}}catch(r){console.log(r)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var e="getTimeClient",n=this.globalService.plusGlobalInterval(e);this.intervalTimeClient=window.setInterval(()=>{try{n==this.globalService.getGlobalInterval(e)?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}setNote(e,n,o,a){for(var l={questionId:e,noteContent:[{index:o,content:n.target.value}]},r=0;r<this.noteList.length;r++)l.questionId==this.noteList[r].questionId?this.noteList[r].noteContent=l.noteContent:this.noteList.push(l);this.saveToStorage(this.answerList,this.noteList,this.files)}setAnswerTrueFalse(e){var n,o,a,l,r=this.answerList.filter(d=>d.questionId==e.id);if(e.answerConfig&&null!=e.index&&1==e.type){var _={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?null!==(n=e.answerConfig.content)&&void 0!==n?n:"":null!==(o=e.answerConfig.key)&&void 0!==o?o:""}]};if(r&&r.length>0)for(var m=0;m<this.answerList.length;m++)this.answerList[m].questionId==_.questionId&&this.answerList[m].answerContent.push(_.answerContent[0]);else this.answerList.push(_);this.changeStatusAnswer(_,e.index,!0,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&2==e.type){var c={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?null!==(a=e.answerConfig.content)&&void 0!==a?a:"":null!==(l=e.answerConfig.key)&&void 0!==l?l:""}]};if(r&&r.length>0)for(m=0;m<this.answerList.length;m++)this.answerList[m].questionId==c.questionId&&(this.answerList[m].answerContent=c.answerContent);else this.answerList.push(c);this.changeStatusAnswer(c,e.index,!1,e.isImage,e)}this.changeStatusQuestion(e.id)}setAnswerEssay(e){var n=!0,o=this.answerList.filter(d=>d.questionId==e.id);if(e.event&&null!=e.index&&3==e.type)if(this.onTypingAnswer=!0,null!=e.event.target.value){var a={questionId:e.id,answerContent:[{index:e.index,content:e.event.target.value.trim()}]};if(o&&o.length>0){for(var l=0;l<this.answerList.length;l++)if(this.answerList[l].questionId==a.questionId){for(var r=0;r<this.answerList[l].answerContent.length;r++)this.answerList[l].answerContent[r].index==a.answerContent[0].index&&(this.answerList[l].answerContent[r].content=a.answerContent[0].content);var _=this.answerList[l].answerContent.filter(d=>d.index==a.answerContent[0].index);_&&0==_.length&&this.answerList[l].answerContent.push(a.answerContent[0])}this.onTypingAnswer=!1}else this.answerList.push(a),this.onTypingAnswer=!1;if(""==e.event.target.value.trim()){n=!1;var m=this.answerList.filter(d=>d.questionId==e.id);if(m&&1==m.length){var c=this.answerList.indexOf(m[0]);this.answerList.splice(c,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else n=!1;n&&(this.changeStatusQuestion(e.id),this.changeEssayTextQuestion(e))}changeEssayTextQuestion(e){var n;for(let o=0;o<this.questionList.length;o++)this.questionList[o].id==e.id&&(this.questionList[o].essayText=(null===(n=e.event)||void 0===n?void 0:n.target).value.trim())}setResultTracking(e){var n,o;this.resultTracks.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(o=null===(n=this.exam_obj.id)||void 0===n?void 0:n.toString())&&void 0!==o?o:"",this.hashId),this.browserStorageService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id,JSON.stringify(this.resultTracks))}changeStatusQuestion(e){for(var n=0;n<this.questionList.length;n++)this.questionList[n].id==e&&(this.questionList[n].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}changeStatusAnswer(e,n,o,a,l){if(!o)try{this.questionList.forEach(r=>{var _;if(r.id==e.questionId&&r.answers&&r.answers.length>0){for(var m=0;m<r.answers.length;m++)r.answers[m].checked=!1;r.answers[n].checked=!0,this.isMobile&&l.answerConfig&&this.commonService.snackChoiceAnswer("C\xe2u "+((null!==(_=r.index)&&void 0!==_?_:0)+1)+" - Ch\u1ecdn "+(l.answerConfig.alpha?l.answerConfig.alpha:l.answerConfig.key),"")}})}catch(r){console.log(r)}}saveToStorage(e,n,o){var a,l;try{var r={autoSubmit:void 0,serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()},_=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),m={answers:e,notes:n,files:JSON.stringify(o),infors:_,trackInfos:JSON.stringify(r),saveTime:(new Date).getTime()};this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(l=null===(a=this.exam_obj.id)||void 0===a?void 0:a.toString())&&void 0!==l?l:"",this.hashId),this.browserStorageService.saveSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(m))}catch(c){}}checkFullScreen(){switch(this.browserName){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}handleFullscreenEvent(e){if(!this.isMobile&&!this.onShowUpload&&this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.startedTimeSecond>0&&!this.onTypingAnswer)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var n={examId:this.exam_obj.id,name:"exit_full_screen",examResultId:this.testingResultObj.id};this.acceptSendTrack=!1,this.subscriptions.add(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(n).subscribe(a=>{1==a.success?(this.commonService.getTranslate("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh").subscribe(l=>{this.commonService.snackWarning(l,"")}),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}}detectBrowserName(){const e=navigator.userAgent.toLowerCase();return e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"other"}clickFromIframe(){this.clickedFromIframe||(this.clickedFromIframe=!0)}goBackFullScreen(){const e=document.documentElement;let n=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;n&&n.call(e)}exitFullscreen(){const e=document;if(window.innerHeight==screen.height){let n=e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen;n&&n.call(e)}}removeNullContent(e){var n=[];return e.forEach(o=>{o.content&&n.push(o)}),n}removeImg(e){var n=this.files.filter(o=>o.url!==e);this.files=n,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")})}updateFileUploadMobile(){return new Promise(e=>{let n={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(n).subscribe(o=>{1==o.success&&e(!0)})})}calcRight(){var e,n=0,o=window.outerWidth,a=null===(e=document.getElementById("container-content"))||void 0===e?void 0:e.offsetWidth;return a&&(n=(o-a)/2),n}checkWitdh(){this.isMobile=window.innerWidth<1200}onResize(e){this.isMobile=e.target.innerWidth<1200,this.calcRight()}resizeImg(e,n,o){var a,l=document.getElementById("media_content_"+e),r=null!==(a=null==l?void 0:l.offsetWidth)&&void 0!==a?a:0;return l?r/n<=1?Math.round(o*(r/n)):Math.round(o):0}resizeImgAll(e,n,o){var a,l=document.getElementById("media_content_all_"+e),r=null!==(a=null==l?void 0:l.offsetWidth)&&void 0!==a?a:0;return l?r/n<=1?Math.round(o*(r/n)):Math.round(o):0}returnFalse(){return!1}autoResize(e,n){var o;1==n?(o=document.getElementById("note_box_"+e))&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0):(o=document.getElementById("note_box_all_"+e))&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0)}autoResizeEssayAnswer(e){if(1==e.type)(n=document.getElementById("answer-1-unit-"+e.id))&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0);else if(2==e.type)(n=document.getElementById("answer-0-unit-"+e.id))&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0);else if(3==e.type)(n=document.getElementById("answer-1-all-"+e.id))&&setTimeout(()=>{n.style.cssText="height:auto;",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0);else{var n;(n=document.getElementById("answer-0-all-"+e.id))&&setTimeout(()=>{n.style.cssText="height:"+(n.scrollHeight-50)+"px",n.style.cssText="height:"+(n.scrollHeight+30)+"px"},0)}}checkEssay(){var e=this.questionList.filter(n=>this.answerTypeService.isEssayAnswer(n.answerType));return!!(e&&e.length>0)&&(this.checkEssayPopup&&this.openEssayDialog(),!0)}checkScroll(){return!!(window.scrollY&&window.scrollY>50)}isEmpty(e){for(var n in e)if(e.hasOwnProperty(n))return!1;return!0}routerBackSelectStudent(){this.commonService.myNavigation("/de-thi/"+this.hashId)}redirectToHomepage(e){this.quitTestData={id:0,time:0,isShow:!1},e&&this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backToLink))}goToBuyExam(){this.commonService.myNavigation("/de-thi/"+this.exam_obj.hashId)}openSubmitName(e,n,o,a){this.submitNameData=!e&&n&&o?{needPassword:o,isShow:!0,examId:this.exam_obj.id,hashId:n,errorMessage:a||""}:{notAnonymous:e,isShow:!0}}closeSubmitName(e){e&&(this.getData(),this.submitNameData={isShow:!1})}openShowInfo(e){this.showFormInfo={infoFields:e,examId:this.exam_obj.id,hashId:this.exam_obj.hashId,isShow:!0}}closeShowInfo(e){e.success&&(this.initStatusObj(),this.tempStorageInfo=e.info,this.hasErrorMessage="",this.getData(),this.showFormInfo={infoFields:[],isShow:!1})}openAutoMonitor(){this.dataMonitorAuto={isShow:!0}}closeAutoMonitor(e){var n,o,a,l,r;if(e){this.dataMonitorAuto={isShow:!1};const d=document.documentElement;let h=d.requestFullscreen||d.webkitRequestFullscreen||d.mozRequestFullscreen||d.msRequestFullscreen;if(h&&h.call(d),this.startedTimeSecond=Math.floor(Date.now()/1e3),this.exam_obj.autoMonitor&&3==this.exam_obj.autoMonitor){if(this.isAfterChooseStudent){var _=this.baseApiService.getUserObj(),m=this.userObj,c={};c[null!==(n=m.id)&&void 0!==n?n:0]=(null===(o=null==_?void 0:_.id)||void 0===o?void 0:o.toString())+"_"+this.encryptService.createMd5((null!==(a=m.id)&&void 0!==a?a:0).toString()+(null===(l=null==_?void 0:_.id)||void 0===l?void 0:l.toString())).substring(6,9),this.fireStoreService.examSessions_writeUserMap(null!==(r=this.exam_obj.hashId)&&void 0!==r?r:"",c).subscribe(p=>{console.log("writeFirestore - success"+JSON.stringify(p))})}this.openVideoMonitor()}}}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(e){e&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1)}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(e,n,o){this.quitTestData.isShow||(this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:n,saveFalse:o}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:n,saveFalse:o})}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(e){var n;e.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),e.isConfirm&&!this.checkSubmit&&this.submitTest(null!==(n=e.isAutoSubmit)&&void 0!==n&&n)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backToLink))}endTimeSubmitBtn(){this.submitTest(!0)}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0}:{id:this.exam_obj.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0},e&&(e.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1)}conFirmUpload(e){var n,o=document.getElementById("monitorScreenTakeTest");"boolean"!=typeof e&&e.isConfirm?(this.files=null!==(n=e.uploadFiles)&&void 0!==n?n:[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.saveToStorage(this.answerList,this.noteList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.onShowUpload=!1),o&&(o.style.display="block")}onSelectFileEmit(e){this.onShowUpload=e}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},e.file),{index:e.index})}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")}))}sendHashIdUpdate(e){e&&(this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(n=>{var o,a,l,r,_,m;if(1==n.success&&this.commonService.isJson(null!==(l=null===(a=null===(o=n.data)||void 0===o?void 0:o.tmpObj)||void 0===a?void 0:a.files)&&void 0!==l?l:"")){var c=this.commonService.willDeleteParseJson(null!==(m=null===(_=null===(r=n.data)||void 0===r?void 0:r.tmpObj)||void 0===_?void 0:_.files)&&void 0!==m?m:"");c.isNotNoti=!0,this.addFileMobileUpload({files:c})}}),this.commonService.gaEvent("FrontExam_GetTmpExamObj"))}addFileMobileUpload(e){var n;this.files=null!==(n=e.files)&&void 0!==n?n:[],this.uploadImageData={id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!!e.keepOpen}}submitTest(e){this.initStatusObj();var n=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),o=this.commonService.myClone(this.resultTracks);let a=JSON.stringify({type:"exam",id:this.exam_obj.id,user:this.exam_obj.tenantId});var l={autoSubmit:e,serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()};this.checkSubmit=!0;let r={answers:this.answerList,notes:null==this.noteList?[]:this.noteList,files:JSON.stringify(this.files),infors:n,trackInfos:JSON.stringify(l),resultTrack:this.zipdataService.convertContentGzip(JSON.stringify(o))};this.subscriptions.add(this.frontExamResultService.apiFrontExamResultSaveResultPost(r,a,this.hashId).subscribe(_=>{var m,c,d;if(1==_.success){this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.exam_obj.hashId+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.exam_obj.hashId+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.exam_obj.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.exam_obj.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.exam_obj.hashId+"_"+(null===(m=_.data)||void 0===m?void 0:m.id),JSON.stringify(_.data));try{this.localStorageObjetct.clearAllCache(),this.exitFullscreen(),"undefined"!=typeof aztExam&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession()}catch(p){}this.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+(null===(c=_.data)||void 0===c?void 0:c.id),"?backto="+encodeURIComponent(this.backToLink))}else this.errorStatusObj(null!==(d=_.message)&&void 0!==d?d:"",!0),e&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,e,!0)),this.submitData.messageError=_.message,setTimeout(()=>{this.checkSubmit=!1},5e3)})),this.commonService.gaEvent("FrontExam_SaveObj")}clearAllInterval(){for(var e=this.globalService.getIntervalObjs(),n=0;n<e.length;n++)clearInterval(e[n]);this.globalService.emptyIntervalObjs()}changeShowType(){this.showUnit?(this.showUnit=!1,this.showList=!0):(this.showUnit=!0,this.showList=!1),setTimeout(()=>{let e=document.getElementById("listQuestionBar");e&&(e.style.width=this.widthGameBar+"px")},500)}showSheet(e,n){e?this.changeShowType():this.isShowSheet=!this.isShowSheet,setTimeout(()=>{let o=document.getElementById("bottom_action"),a=document.getElementById("time_client"),l=null==o?void 0:o.offsetHeight;a&&l&&(a.style.bottom=l+"px")},100)}askBeforeCloseWindow(e){if(!this.questsLoadState.startLoad&&!this.questsLoadState.hasErrs)return e.returnValue=!1}prevQuestion(e){var n=document.getElementById("question_"+String(e)),o=document.getElementById("question_"+String(e-1));o&&n&&void 0!==o.getAttribute("hidden")&&"false"!==o.getAttribute("hidden")&&(n.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=0==e?0:e-1)}nextQuestion(e){var n=document.getElementById("question_"+String(e)),o=document.getElementById("question_"+String(e+1));o&&n&&void 0!==o.getAttribute("hidden")&&"false"!==o.getAttribute("hidden")&&(n.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=e==this.questionList.length-1?e:e+1)}goToQuestion(e){var n=document.getElementById("question_"+String(this.curQuestion)),o=document.getElementById("question_"+String(e));o&&n&&void 0!==o.getAttribute("hidden")&&"false"!==o.getAttribute("hidden")&&(n.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=e)}goToQuestionAll(e){var n=document.getElementById("question_all_"+e);null==n||n.scrollIntoView()}checkResultTracking(){let e=this.browserStorageService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id);e&&(this.resultTracks=this.commonService.willDeleteParseJson(e))}openVideoMonitor(){var e=this.baseApiService.getUserObj(),n=this.userObj;"undefined"!=typeof aztExam&&aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var o={user:{token:e.rememberToken,userid:e.id,username:e.fullName,studentid:n?n.id:0,studentname:n?n.fullName:null},config:{domainApi:Ct.N.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreenTakeTest",examconfig:this.exam_obj,examid:this.exam_obj.id,firebaseApp:this.fireStoreService,resultid:this.testingResultObj.id,isStarted:!0,clickFromIframeFunc:this.clickFromIframe,clickFromIframeFuncCaller:this};aztExam.MonitorStudent.getInstance().startSession(o),this.hasVideoMonitor=!0}}))}makeDeviceId(e=10){for(var n="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=o.length,l=0;l<e;l++)n+=o.charAt(Math.floor(Math.random()*a));return n}getDeviceId(){var e=this.browserStorageService.getSimpleStorage("device_session");e?this.deviceId=e:(this.deviceId=this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId))}ngOnInit(){let e=document.getElementById("azota-app-html");e&&e.classList.add("azotaHtml"),this.form=this.fb.group({searchContent:new x.p4("",x.kI.required)}),this.checkWitdh(),this.browserName=this.detectBrowserName(),(0,X.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var n,o,a=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),l=null===(n=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===n?void 0:n.toString(),r=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));this.backToLink=null!==(o=this.commonService.getMyQueryParam("backto"))&&void 0!==o?o:"",this.curCateId=a,this.hashId=l||"",this.tenantId=r,this.homeLink="/student/dashboard/0",this.getDeviceId(),this.initStatusObj(),this.getData()}),super.ngOnInit()}ngAfterViewInit(){this.questsLoadState.startLoad||setTimeout(()=>{var e;this.widthGameBar=null===(e=this.myListQuestionBar)||void 0===e?void 0:e.nativeElement.offsetWidth;let n=document.getElementById("listQuestionBar");n&&(n.style.width=this.widthGameBar+"px")},500)}ngOnDestroy(){this.mixService.cancelSubscription();let e=document.getElementById("azota-app-html");e&&e.classList.remove("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient);for(var n=this.globalService.getIntervalObjs(),o=0;o<n.length;o++)clearInterval(n[o]);this.globalService.emptyIntervalObjs(),"undefined"!=typeof aztExam&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(At.U),t.Y36(x.QS),t.Y36(Q.gz),t.Y36(L.v),t.Y36(it._),t.Y36(Ke),t.Y36($e.L),t.Y36(Ve),t.Y36(Ot.C),t.Y36(rt.U),t.Y36(Xe.U),t.Y36(tn.x),t.Y36(It.n),t.Y36(ut.O),t.Y36(Mt.M),t.Y36(tt.z),t.Y36(dt.K),t.Y36(D.FQ),t.Y36(D.Dn),t.Y36(Et.U),t.Y36(D.CA),t.Y36(D.Tg),t.Y36(D.vO),t.Y36(At.U),t.Y36(bt.uw),t.Y36(mt.T),t.Y36(lt.j),t.Y36(en.L))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-take-test"]],viewQuery:function(e,n){if(1&e&&(t.Gf(mi,5,St),t.Gf(di,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.modalSaveImageUpload=o.first),t.iGM(o=t.CRH())&&(n.myListQuestionBar=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("beforeunload",function(a){return n.askBeforeCloseWindow(a)},!1,t.Jf7)},features:[t.qOj],decls:9,vars:6,consts:[[1,"p-0",3,"resize","contextmenu"],["id","container-content",1,"content","relative",2,"padding","0 10px",3,"resize"],[4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],[3,"data","closeEssayDialog",4,"ngIf"],["doneLoading",""],[3,"data","closeDialog"],[3,"data","closeEssayDialog"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"customText",4,"ngIf","ngIfElse"],["class","p-5 m-5 text-center alert alert-danger",4,"ngIf"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],["lstQuestDoneLoad",""],[3,"customText"],["lstQuestHasErr",""],["style","padding-bottom: 50px",4,"ngIf","ngIfElse"],["NormalContent",""],["id","time_client",1,"time-client",3,"ngClass"],[1,"mb-0","text-center"],[2,"vertical-align","middle","font-weight","450","color","grey",3,"matTooltip"],[2,"padding-bottom","50px"],[1,"box","p-5","margin_question_bar","m-3"],[1,"text-center"],[1,"text-lg","font-medium"],[1,"font-medium"],[1,"flex","justify-center","items-center","mt-2"],[1,"flex","items-center","mr-3"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","lucide","mr-2"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"],[1,"flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","mr-2"],["cx","12","cy","12","r","10"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["class","flex justify-center items-center mt-2",4,"ngIf"],[1,"font-medium","mt-2"],["class","p-3 m-2 text-center text-pending",4,"ngIf"],["class","mt-3 text-danger font-medium",4,"ngIf"],[1,"mt-3","flex","justify-center"],[1,"-intro-x","mr-4"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2","text-danger"],["d","M18.36 6.64a9 9 0 1 1-12.73 0"],["x1","12","y1","2","x2","12","y2","12"],[1,"intro-x"],[1,"btn","btn-sm","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M20 19.5v.5a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8.5L18 5.5"],["d","M8 18h1"],["d","M18.42 9.61a2.1 2.1 0 1 1 2.97 2.97L16.95 17 13 18l.99-3.95 4.43-4.44Z"],[3,"label"],["class","intro-x mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mt-2","flex","justify-center"],[2,"vertical-align","bottom"],[1,"p-3","m-2","text-center","text-pending"],[1,"ng-binding"],[1,"mt-3","text-danger","font-medium"],[1,"intro-x","mb-3","mt-2"],[1,"azt-question","box","text-left"],[3,"disableRender","disableLazy","follower","displayScreen","isMobile","isBackEnd","examObj","question","index","overTime","questionListLength"],["class","text-center mt-1 mb-1",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","previewFile","removeFile"],[1,"text-center","mt-1","mb-1"],[1,"h6","mb-1","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],["class","top-bar",3,"ngClass",4,"ngIf"],[3,"ngIf"],[1,"top-bar",3,"ngClass"],[1,"-intro-x"],["class","intro-x relative mx-auto",4,"ngIf"],["class","intro-x mr-6",4,"ngIf"],[1,"intro-x","relative","mx-auto"],["class","text-md font-medium",4,"ngIf"],[1,"text-md","font-medium"],[1,"intro-x","mr-6"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["points","12 6 12 12 16 14"],[1,"text-md",3,"ngClass"],[1,"text-md"],[1,"intro-x","flex","items-center","dropdown","mr-3"],[1,"btn","btn-sm","btn-secondary",3,"matTooltip","click"],["class","intro-x mr-2",4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["x1","8","y1","6","x2","21","y2","6"],["x1","8","y1","12","x2","21","y2","12"],["x1","8","y1","18","x2","21","y2","18"],["x1","3","y1","6","x2","3.01","y2","6"],["x1","3","y1","12","x2","3.01","y2","12"],["x1","3","y1","18","x2","3.01","y2","18"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4"],["d","M21 3H3v7h18V3z"],["d","M21 14h-5v7h5v-7z"],["d","M12 14H3v7h9v-7z"],[1,"intro-x","mr-2"],[1,"btn","btn-sm","btn-secondary",3,"click"],["d","m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48"],[3,"dataClass","isSearchTeacher","isMobile","selectClassroom"],[3,"data","showAddStudent","isSearchTeacher","hasBackToLink","isMobile","selectChild","approvedByName","backToClass"],["class","margin_question_bar pb-4",4,"ngIf"],[1,"margin_question_bar","pb-4"],[1,"alert","alert-danger"],[3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],[3,"routerLink"],[3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],["id","monitorScreenTakeTest",1,"self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","previewFile","removeFile"],["class","intro-x mt-4",4,"ngFor","ngForOf"],["class","intro-y box w-3/4 mx-auto p-3",3,"hidden",4,"ngIf"],[1,"intro-x","mt-4"],[1,"azt-question","box","mt-1","pl-0","pr-0",3,"id","hidden"],[3,"disableRender","disableLazy","follower","displayScreen","showList","isBackEnd","isMobile","examObj","question","index","last","countQuestion","overTime","questionListLength","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmit"],[1,"intro-y","box","w-3/4","mx-auto","p-3",3,"hidden"],[1,"grid","grid-cols-12","gap-2","mt-3","p-3"],["class","col-span-1",4,"ngFor","ngForOf"],[1,"col-span-1"],[1,"rounded-md","border","border-slate-400","p-1","w-full","active",3,"ngClass","click"],["id","question_ui",1,"grid","grid-cols-12","gap-5","mt-5"],[1,"col-span-12","lg:col-span-9","mt-5","sm:mt-0"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","intro-x mt-2",4,"ngFor","ngForOf"],["class","col-span-12 lg:col-span-3 mt-4","id","listQuestionBar",3,"ngClass",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"intro-x","mt-2"],[1,"azt-question","box","mt-1","pl-0","pr-0",3,"id"],[3,"disableRender","disableLazy","follower","displayScreen","isBackEnd","showList","isMobile","examObj","countQuestion","question","overTime","index","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmit"],["id","listQuestionBar",1,"col-span-12","lg:col-span-3","mt-4",3,"ngClass"],["listQuestionBar",""],[1,"intro-y","box","p-3"],[1,"grid","grid-cols-10","gap-2","mt-3","sheet-Screen",3,"ngClass"],["class","col-span-2",4,"ngFor","ngForOf"],[1,"col-span-2"],[1,"top_action"],[1,"grid","grid-cols-12","gap-3","items-center","justify-between","ml-0","mr-0"],[1,"col-span-3","self-center"],[1,"clickable",2,"color","#fff",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5"],[1,"col-span-6","text-center","self-center","pl-0","pr-0"],["class","clickable","style","color: #fff; border: 3px solid #fff; padding: 3px 5px",3,"click",4,"ngIf"],[1,"col-span-3","pl-0","pr-1","text-right","self-center"],[1,"clickable","inline-flex","items-center",2,"color","#fff",3,"click"],[2,"vertical-align","top","line-height","1.8"],["points","9 18 15 12 9 6"],["id","bottom_action",1,"bottom_action"],[1,"collapse",3,"ngClass"],[1,"box","mb-2",2,"padding","5px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-1"],[1,"grid","grid-cols-10","gap-2","mt-3"],[1,"grid","grid-cols-12","gap-3","justify-between","clickable",3,"click"],[1,"col-span-3","flex","pr-1","menu-control"],[1,"mb-auto","mt-auto","mr-1","clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#fff"],[1,"ml-2","mb-auto","mt-auto","clickable",3,"matTooltip","click"],[1,"col-span-5","pl-0","pr-0","text-center","self-center"],[1,"mb-0","clickable"],["style","vertical-align: middle; color: #fff",4,"ngIf"],["class","col-span-4 text-right pl-0 self-center",3,"ngClass",4,"ngIf"],["class","col-span-6 text-center pl-0 pr-1 self-center",4,"ngIf"],[1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],[1,"rounded-md","border","border-slate-400","p-1","w-full",2,"color","#111",3,"ngClass","click"],[1,"col-span-4","text-right","pl-0","self-center",3,"ngClass"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],[1,"col-span-6","text-center","pl-0","pr-1","self-center"],[1,"text-white","clickable",2,"vertical-align","middle","font-size","20px","font-weight","500","margin-right","2px"],[1,"ng-binding",2,"font-size","12px"],[2,"display","flex","justify-content","center"],[2,"margin","50px","border","1px solid #9e9e9e","padding","20px 50px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","18px","font-weight","500","text-transform","uppercase","margin-bottom","20px","text-align","center"],[4,"ngFor","ngForOf"],[1,"mt-5","text-center"],[1,"btn","btn-sm","btn-outline-primary","mr-3",3,"click"],["style","color: #795548;font-size: small;",4,"ngFor","ngForOf"],[2,"color","#795548","font-size","small"],[1,"p-5","m-5","text-center","alert","alert-danger"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("resize",function(a){return n.handleFullscreenEvent(a)},!1,t.Jf7)("contextmenu",function(){return n.returnFalse()}),t.TgZ(1,"div",1),t.NdJ("resize",function(a){return n.onResize(a)},!1,t.Jf7),t.YNc(2,ui,1,0,"azt-loading-effect",2),t.YNc(3,pi,1,1,"app-submit-info",3),t.YNc(4,gi,1,1,"app-monitor-screen",3),t.YNc(5,hi,1,1,"app-check-essay",4),t.YNc(6,Ao,5,4,"ng-template",null,5,t.W1O),t.YNc(8,Oo,1,1,"app-submit-name",3),t.qZA()()),2&e){const o=t.MAs(7);t.xp6(2),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",n.showFormInfo.isShow&&n.validForTakeTest),t.xp6(1),t.Q6J("ngIf",n.dataMonitorAuto.isShow&&n.validForTakeTest),t.xp6(1),t.Q6J("ngIf",n.dataEssayPopup.isShow&&n.validForTakeTest),t.xp6(3),t.Q6J("ngIf",n.submitNameData.isShow)}},dependencies:[Q.yS,T.mk,T.sg,T.O5,ct.Hw,jt.SP,jt.uX,ot.gM,nn.l,et.Q,on.p,an.f,cn,mn.$,yn,In,Jn,St,ii,li,ci,T.uU,Tt.lO,S.bT],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.box-slide-show[_ngcontent-%COMP%]{background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:3px 3px 0 0;padding-bottom:20px;padding-right:15px;padding-left:15px;border-bottom:none}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0px;margin-left:0;margin-right:0;right:0px;width:100%;height:50px;padding-left:15px;padding-right:15px;background-color:#fff;z-index:999}.top_gameBar[_ngcontent-%COMP%]{position:fixed;top:50px;right:10px;min-width:23.5vw}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(3rem + 10px)!important}.game-bar[_ngcontent-%COMP%]{position:fixed;width:20vw;top:calc(5rem + 56px);right:2vw}.sheet-Screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-Screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.sheet-Screen-monitor[_ngcontent-%COMP%]{max-height:calc(100vh - 400px)!important}.box-show-sheet[_ngcontent-%COMP%]{margin-top:14px!important;width:75%;margin:auto;background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:5px}.disable-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.question-content[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.button-note[_ngcontent-%COMP%]{position:relative;display:flex;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.note-box[_ngcontent-%COMP%]{display:none;background-color:#f7f3cf;margin-bottom:5px;min-height:30px}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{border-radius:0 0 3px 3px;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#2d3436;color:#fff;z-index:999;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.hidden[_ngcontent-%COMP%]{display:none!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;z-index:999;background:#2d3436;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:10px;right:2vw}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:timeCount 1s}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;z-index:990;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:12px;left:18px}.time-client-mobile[_ngcontent-%COMP%]{bottom:54px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}.bg-darkgrey[_ngcontent-%COMP%]{background-color:#a9a9a9!important}.answeredQuestion[_ngcontent-%COMP%]{background-color:#3c8dbc!important;color:#fff!important}@keyframes timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]}),i})();var Mo=g(95197),Eo=g(66468),jo=g(63382),Nt=g(15575),Lo=g(9224),Uo=g(60284),Qt=g(47423),gt=g(92181),Fo=g(44841),Dt=g(64123);function Po(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.goBack())}),t.TgZ(1,"mat-icon",35),t._uU(2,"arrow_back"),t.qZA()()}}function qo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.redirectToBackLink())}),t.TgZ(1,"mat-icon",35),t._uU(2,"arrow_back"),t.qZA()()}}function No(i,s){if(1&i&&(t.TgZ(0,"span",36),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.headerTitle)}}function Qo(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",40),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.clickToMenuItem(a.code?a.code:""))}),t.TgZ(2,"span",41),t._uU(3),t.qZA()()()}if(2&i){const e=s.$implicit;t.xp6(3),t.Oqu(e.name)}}function Do(i,s){if(1&i&&(t.TgZ(0,"div",13)(1,"button",18)(2,"mat-icon",37),t._uU(3," reorder"),t.qZA()(),t.TgZ(4,"mat-menu",null,38),t.YNc(6,Qo,4,1,"div",39),t.qZA()()),2&i){const e=t.MAs(5),n=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(5),t.Q6J("ngForOf",n.menu_objs)}}function Jo(i,s){if(1&i&&(t.TgZ(0,"div",48),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.unreadNotification)}}function Ho(i,s){1&i&&t._UZ(0,"hr",59)}function zo(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",60),t._uU(4),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_ban_moi_duoc_phan_quyen_cho_lop")," "),t.xp6(3),t.hij(" ",e.classroomName," ")}}function Yo(i,s){if(1&i&&(t.TgZ(0,"span")(1,"span",60),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.TgZ(9,"span",61),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.studentName),t.xp6(1),t.hij(" ",t.lcZ(4,5,"lang_auto_giao_vien_da_cham_diem_bai_tap")," "),t.xp6(3),t.Oqu(e.homeworkName),t.xp6(1),t.hij(" ",t.lcZ(8,7,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(11,9,e.createdAt,"dd/MM/yyyy"))}}function Ro(i,s){if(1&i&&(t.TgZ(0,"span")(1,"span",60),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.TgZ(9,"span",61),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.studentName),t.xp6(1),t.hij(" ",t.lcZ(4,5,"lang_auto_da_nop_bai_tap")," "),t.xp6(3),t.Oqu(e.homeworkName),t.xp6(1),t.hij(" ",t.lcZ(8,7,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(11,9,e.createdAt,"dd/MM/yyyy"))}}function Go(i,s){if(1&i&&(t.TgZ(0,"span")(1,"span",60),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.TgZ(9,"span",61),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.studentName),t.xp6(1),t.hij(" ",t.lcZ(4,5,"lang_auto_co_bai_tap")," "),t.xp6(3),t.Oqu(e.homeworkName),t.xp6(1),t.hij(" ",t.lcZ(8,7,"lang_auto_moi_duoc_giao_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(11,9,e.createdAt,"dd/MM/yyyy"))}}function Bo(i,s){if(1&i&&(t.TgZ(0,"span")(1,"span",60),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.TgZ(9,"span",61),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.studentName),t.xp6(1),t.hij(" ",t.lcZ(4,5,"lang_auto_co_yeu_cau_nop_lai_bai_tap")," "),t.xp6(3),t.Oqu(e.homeworkName),t.xp6(1),t.hij(" ",t.lcZ(8,7,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(11,9,e.createdAt,"dd/MM/yyyy"))}}function Ko(i,s){if(1&i&&(t.TgZ(0,"span")(1,"span",60),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.TgZ(9,"span",61),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.studentName),t.xp6(1),t.hij(" ",t.lcZ(4,5,"lang_auto_da_nop_bai_thi")," "),t.xp6(3),t.Oqu(e.examName),t.xp6(1),t.hij(" ",t.lcZ(8,7,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(11,9,e.createdAt,"dd/MM/yyyy"))}}function $o(i,s){if(1&i&&(t.TgZ(0,"span")(1,"span",60),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.TgZ(9,"span",61),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.studentName),t.xp6(1),t.hij(" ",t.lcZ(4,5,"lang_auto_co_bai_thi_moi")," "),t.xp6(3),t.Oqu(e.examName),t.xp6(1),t.hij(" ",t.lcZ(8,7,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(11,9,e.createdAt,"dd/MM/yyyy"))}}function Wo(i,s){if(1&i&&(t.TgZ(0,"span")(1,"span",60),t._uU(2),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.TgZ(9,"span",61),t._uU(10),t.ALo(11,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.studentName),t.xp6(1),t.hij(" ",t.lcZ(4,5,"lang_auto_bai_thi")," "),t.xp6(3),t.Oqu(e.examName),t.xp6(1),t.hij(" ",t.lcZ(8,7,"lang_auto_da_duoc_cham_diem_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(11,9,e.createdAt,"dd/MM/yyyy"))}}function Vo(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",61),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_ban_moi_duoc_phan_quyen_cho")," "),t.xp6(3),t.Oqu(n.processNoticeService.getTypeObjNotice(e)),t.xp6(1),t.hij(" ",t.lcZ(6,6,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(9,8,e.createdAt,"dd/MM/yyyy"))}}function Xo(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",61),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_hoc_sinh_moi_dat_cho_ban_cau_hoi_trong_de_thi")," "),t.xp6(3),t.Oqu(e.examName),t.xp6(1),t.hij(" ",t.lcZ(6,6,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(9,8,e.createdAt,"dd/MM/yyyy"))}}function ta(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",61),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_hoc_sinh_moi_dat_cho_ban_cau_hoi_trong_bai_tap")," "),t.xp6(3),t.Oqu(e.homeworkName),t.xp6(1),t.hij(" ",t.lcZ(6,6,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(9,8,e.createdAt,"dd/MM/yyyy"))}}function ea(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",61),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_giao_vien_da_tra_loi_cau_hoi_cua_ban_o_de_thi")," "),t.xp6(3),t.Oqu(e.examName),t.xp6(1),t.hij(" ",t.lcZ(6,6,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(9,8,e.createdAt,"dd/MM/yyyy"))}}function na(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.qZA(),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"span",61),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,4,"lang_auto_giao_vien_da_tra_loi_cau_hoi_cua_ban_o_bai_tap")," "),t.xp6(3),t.Oqu(e.homeworkName),t.xp6(1),t.hij(" ",t.lcZ(6,6,"lang_auto_vao_ngay")," "),t.xp6(3),t.Oqu(t.xi3(9,8,e.createdAt,"dd/MM/yyyy"))}}function ia(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",54),t.YNc(1,Ho,1,0,"hr",55),t.TgZ(2,"div",56),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.processNoticeService.redirectToPage(a))}),t.TgZ(3,"div",57),t.YNc(4,zo,5,4,"span",58),t.YNc(5,Yo,12,12,"span",58),t.YNc(6,Ro,12,12,"span",58),t.YNc(7,Go,12,12,"span",58),t.YNc(8,Bo,12,12,"span",58),t.YNc(9,Ko,12,12,"span",58),t.YNc(10,$o,12,12,"span",58),t.YNc(11,Wo,12,12,"span",58),t.YNc(12,Vo,10,11,"span",58),t.YNc(13,Xo,10,11,"span",58),t.YNc(14,ta,10,11,"span",58),t.YNc(15,ea,10,11,"span",58),t.YNc(16,na,10,11,"span",58),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(1),t.Q6J("ngIf",0!=n),t.xp6(3),t.Q6J("ngIf","NEW_ASSIGN"==e.type),t.xp6(1),t.Q6J("ngIf","HAS_MARK"==e.type),t.xp6(1),t.Q6J("ngIf","NEW_ANSWER"==e.type),t.xp6(1),t.Q6J("ngIf","NEW_HOMEWORK"==e.type),t.xp6(1),t.Q6J("ngIf","RESEND_ANSWER"==e.type),t.xp6(1),t.Q6J("ngIf","NEW_EXAM_SUBMIT"==e.type),t.xp6(1),t.Q6J("ngIf","NEW_EXAM"==e.type),t.xp6(1),t.Q6J("ngIf","EXAM_HAS_MARK"==e.type),t.xp6(1),t.Q6J("ngIf","NEW_SHARE_CLASS_PERMISSION"==e.type||"NEW_SHARE_CATEGORY_PERMISSION"==e.type||"NEW_SHARE_HOMEWORK_PERMISSION"==e.type||"NEW_SHARE_EXAM_PERMISSION"==e.type),t.xp6(1),t.Q6J("ngIf","NEW_QA_EXAM_ASK"==e.type),t.xp6(1),t.Q6J("ngIf","NEW_QA_HOMEWORK_ASK"==e.type),t.xp6(1),t.Q6J("ngIf","NEW_QA_EXAM_ANSWER"==e.type),t.xp6(1),t.Q6J("ngIf","NEW_QA_HOMEWORK_ANSWER"==e.type)}}const oa=function(i){return{suppressScrollX:!0,suppressScrollY:i}},Y=function(i){return[i]};function aa(i,s){if(1&i&&(t.TgZ(0,"div",49)(1,"perfect-scrollbar",50),t.ALo(2,"isMobileOrTable"),t.YNc(3,ia,17,14,"div",51),t.TgZ(4,"div",52)(5,"a",53),t.ALo(6,"mylocalize"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()()()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("config",t.VKq(11,oa,t.lcZ(2,5,"")))("scrollIndicators",!0),t.xp6(2),t.Q6J("ngForOf",e.commonNoticeData),t.xp6(2),t.Q6J("routerLink",t.VKq(13,Y,t.lcZ(6,7,"/notify"))),t.xp6(2),t.Oqu(t.lcZ(8,9,"lang_auto_xem_tat_ca"))}}function sa(i,s){1&i&&(t.TgZ(0,"div",62),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_khong_co_thong_bao_nao")))}function la(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",13)(1,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.removeNumberNoti("notification"))}),t.TgZ(2,"mat-icon",43),t._uU(3," notifications_none"),t.qZA()(),t.YNc(4,Jo,2,1,"div",44),t.TgZ(5,"mat-menu",null,45),t.YNc(7,aa,9,15,"div",46),t.YNc(8,sa,3,3,"ng-template",null,47,t.W1O),t.qZA()()}if(2&i){const e=t.MAs(6),n=t.MAs(9),o=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(3),t.Q6J("ngIf",o.unreadNotification),t.xp6(3),t.Q6J("ngIf",o.commonNoticeData.length>0)("ngIfElse",n)}}function ra(i,s){if(1&i&&(t._UZ(0,"img",87),t.ALo(1,"mycdn")),2&i){const e=t.oxw(2);t.s9C("src",t.lcZ(1,1,e.user_obj.avatar),t.LSH)}}function _a(i,s){if(1&i&&t._UZ(0,"azt-create-avatar",88),2&i){const e=t.oxw(2);t.Q6J("nameCreateAvatar",e.user_obj.fullName)("size",26)}}function ca(i,s){if(1&i&&(t.TgZ(0,"div",89),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(e.plusAzo)}}function ma(i,s){if(1&i&&(t._UZ(0,"img",90),t.ALo(1,"mycdn")),2&i){const e=t.oxw(2);t.s9C("src",t.lcZ(1,1,e.user_obj.avatar),t.LSH)}}function da(i,s){if(1&i&&t._UZ(0,"azt-create-avatar",88),2&i){const e=t.oxw(2);t.Q6J("nameCreateAvatar",e.user_obj.fullName)("size",93)}}function ua(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",91),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.fileChangeEvent(o))}),t.TgZ(1,"mat-icon",92),t._uU(2,"photo_camera"),t.qZA()()}}function pa(i,s){1&i&&t._UZ(0,"div",93)}function ga(i,s){if(1&i&&(t.TgZ(0,"span",94),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Email: ",e.user_obj.email,"")}}function ha(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"anonymousPhone"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.user_obj.phone?e.user_obj.phone:""))}}function fa(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_gioi_tinh"),": ",0==e.user_obj.gender?"N\u1eef":"Nam","")}}function xa(i,s){if(1&i&&(t.TgZ(0,"div",95)(1,"span"),t._uU(2),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.Oqu(e.plusNewPlus)}}function va(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",13)(1,"button",42),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.removeNumberNoti("avatar"))}),t.TgZ(2,"a"),t.YNc(3,ra,2,3,"img",63),t.YNc(4,_a,1,2,"azt-create-avatar",64),t.qZA()(),t.YNc(5,ca,2,1,"div",65),t.TgZ(6,"mat-menu",66,67)(8,"div",68),t.NdJ("click",function(o){return o.stopPropagation()}),t.YNc(9,ma,2,3,"img",69),t.YNc(10,da,1,2,"azt-create-avatar",64),t.TgZ(11,"div",70),t.YNc(12,ua,3,0,"a",71),t.YNc(13,pa,1,0,"div",72),t.TgZ(14,"input",73,74),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.fileChangeEvent(o))}),t.qZA()()(),t.TgZ(16,"div",75)(17,"span")(18,"span",76),t._uU(19),t.ALo(20,"anonymousFullName"),t.qZA(),t.TgZ(21,"a",77),t.NdJ("click",function(o){return o.stopPropagation()}),t.ALo(22,"mylocalize"),t.TgZ(23,"mat-icon",78),t._uU(24,"edit"),t.qZA()()(),t.TgZ(25,"p",79),t.YNc(26,ga,2,1,"span",80),t.YNc(27,ha,3,3,"span",58),t.ALo(28,"anonymousPhone"),t._UZ(29,"br"),t.YNc(30,fa,3,4,"span",58),t.qZA(),t.YNc(31,xa,3,1,"div",81),t.TgZ(32,"div",82)(33,"button",83),t.ALo(34,"mylocalize"),t._uU(35),t.ALo(36,"number"),t.qZA(),t.TgZ(37,"a",84),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.redirectToPaymentPack())}),t._uU(38),t.ALo(39,"mytranslate"),t.qZA()(),t.TgZ(40,"div",85)(41,"button",86),t.ALo(42,"mylocalize"),t._uU(43),t.ALo(44,"mytranslate"),t.qZA()()()()()}if(2&i){const e=t.MAs(7),n=t.oxw();t.xp6(1),t.Q6J("matMenuTriggerFor",e),t.xp6(2),t.Q6J("ngIf",null!=n.user_obj.avatar),t.xp6(1),t.Q6J("ngIf",null==n.user_obj.avatar),t.xp6(1),t.Q6J("ngIf",n.plusAzo),t.xp6(4),t.Q6J("ngIf",null!=n.user_obj.avatar),t.xp6(1),t.Q6J("ngIf",null==n.user_obj.avatar),t.xp6(2),t.Q6J("ngIf",!1===n.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!0===n.statusObj.loading),t.xp6(6),t.Oqu(t.lcZ(20,19,n.user_obj)),t.xp6(2),t.Q6J("routerLink",t.VKq(35,Y,t.lcZ(22,21,"/auth/change-info"))),t.xp6(5),t.Q6J("ngIf",n.user_obj.email&&-1!==n.user_obj.email.indexOf("@")),t.xp6(1),t.Q6J("ngIf",""!=t.lcZ(28,23,n.user_obj.phone?n.user_obj.phone:"")),t.xp6(3),t.Q6J("ngIf",null!=n.user_obj.gender),t.xp6(1),t.Q6J("ngIf",0!=n.plusNewPlus),t.xp6(2),t.Q6J("routerLink",t.VKq(37,Y,t.lcZ(34,25,"/payment/history"))),t.xp6(2),t.hij("",t.lcZ(36,27,n.totalAzo)," azo"),t.xp6(3),t.Oqu(t.lcZ(39,29,"lang_auto_mua_them")),t.xp6(3),t.Q6J("routerLink",t.VKq(39,Y,t.lcZ(42,31,"/auth/logout"))),t.xp6(2),t.Oqu(t.lcZ(44,33,"lang_auto_dang_xuat_upper"))}}const Jt=function(i){return{return_url:i,from:"register",user_click:"true"}},Ht=function(i){return{return_url:i,user_click:"true"}};function ba(i,s){if(1&i&&(t.TgZ(0,"div",96)(1,"div",13)(2,"button",97),t.ALo(3,"mylocalize"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t._uU(6," |"),t.qZA(),t.TgZ(7,"div",13)(8,"button",98),t.ALo(9,"mylocalize"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(14,Y,t.lcZ(3,6,"/auth/login")))("queryParams",t.VKq(16,Jt,e.returnUrl)),t.xp6(2),t.Oqu(t.lcZ(5,8,"lang_auto_dang_nhap_upper")),t.xp6(4),t.Q6J("routerLink",t.VKq(18,Y,t.lcZ(9,10,"/auth/register/0")))("queryParams",t.VKq(20,Ht,e.returnUrl)),t.xp6(2),t.Oqu(t.lcZ(11,12,"lang_auto_dang_ky_upper"))}}function wa(i,s){if(1&i&&(t.TgZ(0,"div",96)(1,"div",13)(2,"button",97),t.ALo(3,"mylocalize"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t._uU(6," |"),t.qZA(),t.TgZ(7,"div",13)(8,"button",98),t.ALo(9,"mylocalize"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(14,Y,t.lcZ(3,6,"/auth/login")))("queryParams",t.VKq(16,Jt,e.returnUrl)),t.xp6(2),t.Oqu(t.lcZ(5,8,"lang_auto_dang_nhap_upper")),t.xp6(4),t.Q6J("routerLink",t.VKq(18,Y,t.lcZ(9,10,"/auth/register/0")))("queryParams",t.VKq(20,Ht,e.returnUrl)),t.xp6(2),t.Oqu(t.lcZ(11,12,"lang_auto_dang_ky_upper"))}}function Ta(i,s){if(1&i&&(t.TgZ(0,"span",36),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.headerTitle)}}function ya(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",116),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw(3);return t.KtG(a.fileChangeEvent(o))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chon_lai")," "))}function Ca(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",68),t.NdJ("click",function(o){return o.stopPropagation()}),t.TgZ(1,"div",114),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,ya,3,3,"a",115),t.TgZ(5,"input",73,74),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.fileChangeEvent(o))}),t.qZA()()()}if(2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_file_ban_chon_khong_phai_la_anh_vui_long")," "),t.xp6(2),t.Q6J("ngIf",!1===e.statusObj.loading)}}function ka(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",99)(1,"div",100)(2,"div",101)(3,"div",102)(4,"div",103)(5,"h3",104),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"button",105),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.removeDialog())}),t.TgZ(9,"span",106),t._uU(10,"\xd7"),t.qZA()()(),t.TgZ(11,"div",107)(12,"div",108),t.YNc(13,Ca,7,4,"div",109),t.TgZ(14,"image-cropper",110),t.NdJ("imageCropped",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.imageCropped(o))})("loadImageFailed",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.loadImageFailed())}),t.qZA()()(),t.TgZ(15,"div",111)(16,"button",112),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.removeDialog())}),t._uU(17),t.ALo(18,"mytranslate"),t.qZA(),t.TgZ(19,"button",113),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.submitAvatar())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,9,"lang_auto_cap_nhat_anh_dai_dien")),t.xp6(7),t.Q6J("ngIf",!1===e.textImageFailed),t.xp6(1),t.Q6J("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),t.xp6(3),t.Oqu(t.lcZ(18,11,"lang_auto_huy")),t.xp6(3),t.Oqu(t.lcZ(21,13,"lang_auto_cap_nhat"))}}let Za=(()=>{class i extends q.Q{constructor(e,n,o,a,l,r,_,m,c){super(l),this.processNoticeService=e,this.baseApiService=n,this.frontCommonService=o,this.userInfoService=a,this.commonService=l,this.apiUploadService=r,this.timeService=_,this.globalService=m,this.userLoginStateService=c,this.headerBackTolink="",this.menu_objs=[],this.headerTitle="",this.checkUrlFunction=!1,this.MenuEvent=new t.vpe,this.RedirectToLink=new t.vpe,this.subscriptions=new J.w,this.isSubmit=!1,this.user_obj={id:0},this.answerFile=null,this.logs=[],this.imageChangedEvent=void 0,this.croppedImage="",this.imageFileName="",this.textImageFailed=void 0,this.returnUrl="",this.globalNoticeObjs=[],this.commonNoticeObjs=[],this.plusAzo=0,this.totalAzo=0,this.unreadNotification=0,this.plusNewPlus=0,this.commonNoticeData=[],this.uploadFile=d=>{d?(this.isSubmit=!1,(0,U.Or)(d.type)&&(0,U.hv)(d).then(h=>{this.apiUploadService.uploadToCdnForAvatar(h).subscribe(p=>{var f,v;if(p.type!=_t.dt.UploadProgress)if(1==p.success){var k={avatarUrl:null!==(v=null===(f=p.data)||void 0===f?void 0:f.url)&&void 0!==v?v:""};this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(k).subscribe(w=>{1==w.success?(this.successStatusObj(),this.user_obj=this.baseApiService.getUserObj()):this.errorStatusObj("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi_split_lang"+p.message,!0)}))}else this.errorStatusObj("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi_split_lang"+p.message,!0)})})):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}}removeDialog(){var e;(null===(e=this.imageChangedEvent)||void 0===e?void 0:e.target).files=null,this.imageChangedEvent=void 0}fileChangeEvent(e){var n;this.imageChangedEvent=e;const o=e.target;this.imageFileName=null!==(n=null==o?void 0:o.files)&&void 0!==n&&n.length?o.files[0].name:"",this.textImageFailed=!0}redirectToBackLink(){this.RedirectToLink.emit()}b64toFile(e,n){e=e.replace("data:image/png;base64,","");for(var l=window.atob(e),r=[],_=0;_<l.length;_+=512){for(var m=l.slice(_,_+512),c=new Array(m.length),d=0;d<m.length;d++)c[d]=m.charCodeAt(d);var h=new Uint8Array(c);r.push(h)}return new File(r,n,{type:"image/png"})}imageCropped(e){var n,o;this.croppedImage=null!==(n=e.base64)&&void 0!==n?n:"";var a=this.b64toFile(null!==(o=e.base64)&&void 0!==o?o:"",this.imageFileName);this.saveAvatar=a}submitAvatar(){var e;(null===(e=this.imageChangedEvent)||void 0===e?void 0:e.target).files=null,this.imageChangedEvent=void 0,this.initStatusObj(),this.uploadFile(this.saveAvatar)}loadImageFailed(){this.textImageFailed=!1}redirectToPaymentPack(){this.commonService.gaEvent("payment_click_from_frontend_header"),this.commonService.myNavigation("/payment/package")}goBack(){this.commonService.myNavigationBySpecialQueryString(this.headerBackTolink)}clickToMenuItem(e){this.MenuEvent.emit(e)}redirectToAllExercise(){this.commonService.myNavigation("/student/dashboard/1")}redirectToDashboardTwo(){this.commonService.myNavigation("/student/dashboard/0")}removeNumberNoti(e){"notification"==e&&this.frontCommonService.apiFrontCommonMarkNotificationAsReadGet(1).subscribe(n=>{1==n.success&&(this.resetNotification(0),this.getHeaderInfo())}),"avatar"==e&&this.frontCommonService.apiFrontCommonMarkPlusPaymentAsReadGet().subscribe(n=>{1==n.success&&(this.resetNotification(1),this.getHeaderInfo())})}resetNotification(e){var n="front_header_infors_"+this.baseApiService.getUserObj().id,o=this.globalService.getGlobalData(n);o&&o.data&&(1==e&&(o.data.plusAzo=0),0==e&&(o.data.unreadNotification=0),this.globalService.setGlobalData(n,this.serializeJson(o)))}checkAnonymous(){return this.baseApiService.isAnonymousRole()}reloadBrowser(){var n=this.commonService.getCurrentUrl();if(n.match(/(\?|&)+t=(\d)+/)){var o=n.includes("&t=")?n.replace(/\&t=(\d)+/,"&t="+this.timeService.getCurrentSecond()):n.replace(/\?t=(\d)+/,"?t="+this.timeService.getCurrentSecond());location.replace(o)}else n=n.includes("?")?n+"&t="+this.timeService.getCurrentSecond():n+"?t="+this.timeService.getCurrentSecond(),location.replace(n)}getHeaderInfo(){var e,n,o,a,l,r,_,m="front_header_infors_"+this.baseApiService.getUserObj().id,c=this.globalService.getGlobalData(m);c&&c.data?(this.plusAzo=null!==(e=c.data.plusAzo)&&void 0!==e?e:0,this.totalAzo=null!==(n=c.data.totalAzo)&&void 0!==n?n:0,this.unreadNotification=null!==(o=c.data.unreadNotification)&&void 0!==o?o:0,this.globalNoticeObjs=null!==(a=c.data.globalNoticeObjs)&&void 0!==a?a:[],this.commonNoticeObjs=null!==(l=c.data.commonNoticeObjs)&&void 0!==l?l:[],this.plusNewPlus=null!==(r=c.data.plusNewPlus)&&void 0!==r?r:0,this.commonNoticeData=null!==(_=c.data.commonNoticeObjs)&&void 0!==_?_:[]):this.frontCommonService.apiFrontCommonGetHeaderInfoGet(1).subscribe(d=>{var h,p,f,v,k,w,y,E,j,I,u,b,C,Z;1==d.success&&(this.plusAzo=null!==(p=null===(h=d.data)||void 0===h?void 0:h.plusAzo)&&void 0!==p?p:0,this.totalAzo=null!==(v=null===(f=d.data)||void 0===f?void 0:f.totalAzo)&&void 0!==v?v:0,this.plusNewPlus=null!==(w=null===(k=d.data)||void 0===k?void 0:k.plusNewPlus)&&void 0!==w?w:0,this.unreadNotification=null!==(E=null===(y=d.data)||void 0===y?void 0:y.unreadNotification)&&void 0!==E?E:0,this.globalNoticeObjs=null!==(I=null===(j=d.data)||void 0===j?void 0:j.globalNoticeObjs)&&void 0!==I?I:new Array,this.commonNoticeObjs=null!==(b=null===(u=d.data)||void 0===u?void 0:u.commonNoticeObjs)&&void 0!==b?b:new Array,this.globalService.setGlobalData(m,this.serializeJson(d)),this.commonNoticeData=null!==(Z=null===(C=d.data)||void 0===C?void 0:C.commonNoticeObjs)&&void 0!==Z?Z:new Array)})}ngOnInit(){super.ngOnInit(),this.getHeaderInfo(),this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getCurrentUrl(),this.user_obj=this.baseApiService.getUserObj(),this.userLoginStateService.loginMessage.subscribe(e=>{var n;this.user_obj=this.baseApiService.getUserObj(),this.totalAzo=null!==(n=this.user_obj.amount)&&void 0!==n?n:0})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Uo.e),t.Y36(it._),t.Y36(D.j$),t.Y36(D.$C),t.Y36(L.v),t.Y36(Zt.$),t.Y36(ut.O),t.Y36(Et.U),t.Y36(Nt.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["header-frontend"]],inputs:{headerBackTolink:"headerBackTolink",menu_objs:"menu_objs",headerTitle:"headerTitle",checkUrlFunction:"checkUrlFunction"},outputs:{MenuEvent:"MenuEvent",RedirectToLink:"RedirectToLink"},features:[t.qOj],decls:61,vars:28,consts:[["id","header-app-component",1,"header-container","bg-white"],[1,"container-fluid","component-wrap","pb-1","pt-1"],[1,"row",2,"align-items","center"],[1,"col-4","text-left"],[2,"padding-right","13px",3,"routerLink"],["width","95px",3,"src"],["class","clickable","style","display: inline-block; padding-top: 3px; padding-left: 7px; vertical-align: middle; color: #6a6a6a",3,"click",4,"ngIf"],[1,"col-8","justify-content-end"],[1,"row"],[1,"col-6","text-center","mt-auto","mb-auto"],[1,"d-none","d-sm-block"],["style","vertical-align: sub; font-size: 17px",4,"ngIf"],[1,"col-6","d-flex","justify-content-end"],[1,"menu-button"],["mat-icon-button","",2,"border-radius","5px !important",3,"click"],[1,"bg-white",2,"font-size","24px","color","#646464","border-radius","5px !important",3,"matTooltip"],["class","menu-button",4,"ngIf"],["class","row mr-1 justify-content-end",4,"ngIf"],["mat-icon-button","",2,"border-radius","5px !important",3,"matMenuTriggerFor"],["focusable","false","viewBox","0 0 24 24",1,"gb_Ve",2,"width","28px","color","#f3efef"],["d","M6,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM6,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM12,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM16,6c0,1.1 0.9,2 2,2s2,-0.9 2,-2 -0.9,-2 -2,-2 -2,0.9 -2,2zM12,8c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,14c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2zM18,20c1.1,0 2,-0.9 2,-2s-0.9,-2 -2,-2 -2,0.9 -2,2 0.9,2 2,2z"],["menu","matMenu"],[1,"myMenuItem"],[3,"click"],[1,"box"],[1,"box-icon","box-icon-search"],[1,"box-text"],[2,"margin-left","20px"],[1,"box-icon","box-icon-upload"],[1,"d-sm-none","col-12","pr-0"],[1,"mt-auto","mb-auto"],[1,"d-sm-none","col-12","pr-0","text-right"],[1,"mt-auto","mb-auto",2,"padding-right","10px"],["id","tpl-cropper-modal","style","display: block",4,"ngIf"],[1,"clickable",2,"display","inline-block","padding-top","3px","padding-left","7px","vertical-align","middle","color","#6a6a6a",3,"click"],[2,"margin-top","7px"],[2,"vertical-align","sub","font-size","17px"],[1,"bg-white",2,"font-size","24px","color","#646464","border-radius","5px !important"],["reorder","matMenu"],[4,"ngFor","ngForOf"],["mat-menu-item","",2,"text-align","left",3,"click"],[2,"color","black","text-transform","none","padding-left","10px","padding-right","10px"],["mat-icon-button","",2,"border-radius","5px !important",3,"matMenuTriggerFor","click"],[1,"bg-white",2,"font-size","28px","color","#646464","border-radius","5px !important"],["class","number-noti","style","margin-left: 10%",4,"ngIf"],["notification","matMenu"],["class","notice",4,"ngIf","ngIfElse"],["templateElse",""],[1,"number-noti",2,"margin-left","10%"],[1,"notice"],[3,"config","scrollIndicators"],["class","ml-2 mr-2 hover-noti",4,"ngFor","ngForOf"],[1,"notify-bottom"],[1,"notify-link",3,"routerLink"],[1,"ml-2","mr-2","hover-noti"],["class","m-0",4,"ngIf"],[1,"pt-1","pb-1","clickable",3,"click"],[1,"notify__content"],[4,"ngIf"],[1,"m-0"],[1,"notify__name"],[1,"notify__time"],[1,"block-else"],["style","margin-top: 2px; border-radius: 50%","width","26","height","26",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],["class","number-noti",4,"ngIf"],[1,"text-center"],["profile","matMenu"],[1,"profile-img",3,"click"],["class","image","alt","",3,"src",4,"ngIf"],[1,"file"],["id","select-upload-file","class","align-self-center select dz-clickable",3,"click",4,"ngIf"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],["type","file","id","file_capture","multiple","","accept","image/*;capture=camera",1,"form-control","file-input",3,"change"],["fileCapture",""],[1,"myProfile"],[1,"truncate",2,"font-size","17px","max-width","170px"],["fxLayout","column",3,"routerLink","click"],[2,"color","#646464","font-size","16px","vertical-align","bottom"],[1,"pb-3"],["class","truncate","style","max-width: 120px",4,"ngIf"],["class","number-azo-noti",4,"ngIf"],[1,"row","azoStyle"],[1,"poidAzo","col-6",3,"routerLink"],[1,"col-6",3,"click"],[1,"buttom_logout"],[3,"routerLink"],["width","26","height","26",2,"margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],[1,"number-noti"],["alt","",1,"image",3,"src"],["id","select-upload-file",1,"align-self-center","select","dz-clickable",3,"click"],[2,"font-size","18px","color","white"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"truncate",2,"max-width","120px"],[1,"number-azo-noti"],[1,"row","mr-1","justify-content-end"],["mat-icon-button","",2,"border-radius","5px !important","width","95px",3,"routerLink","queryParams"],["mat-icon-button","",2,"border-radius","5px !important","width","80px",3,"routerLink","queryParams"],["id","tpl-cropper-modal",2,"display","block"],["id","modal","tabindex","-1","aria-labelledby","modalLabel","aria-hidden","false",1,"modal","fade","show",2,"display","block","background-color","#0000008f"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","modalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close","control-id","ControlID-1",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body",2,"max-height","430px","overflow-y","scroll"],[1,"img-container"],["class","profile-img",3,"click",4,"ngIf"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","imageCropped","loadImageFailed"],[1,"modal-footer"],["type","button","data-dismiss","modal","control-id","ControlID-2",1,"btn","btn-secondary",3,"click"],["type","button","id","crop-button","control-id","ControlID-3",1,"btn","btn-primary",3,"click"],[1,"file",2,"width","100%","margin","0px","position","relative","overflow","hidden","border","none"],["id","select-upload-file",3,"click",4,"ngIf"],["id","select-upload-file",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3)(5,"a",4),t.ALo(6,"mylocalize"),t._UZ(7,"img",5),t.ALo(8,"convertCdn"),t.qZA(),t.YNc(9,Po,3,0,"a",6),t.YNc(10,qo,3,0,"a",6),t.qZA(),t.TgZ(11,"div",7)(12,"div",8)(13,"div",9)(14,"div",10),t.YNc(15,No,2,1,"span",11),t.qZA()(),t.TgZ(16,"div",12)(17,"div",13)(18,"button",14),t.NdJ("click",function(){return n.reloadBrowser()}),t.TgZ(19,"mat-icon",15),t.ALo(20,"mytranslate"),t._uU(21," refresh "),t.qZA()()(),t.YNc(22,Do,7,2,"div",16),t.YNc(23,la,10,4,"div",16),t.YNc(24,va,45,41,"div",16),t.TgZ(25,"div",10),t.YNc(26,ba,12,22,"div",17),t.qZA(),t.TgZ(27,"div",13)(28,"button",18),t.O4$(),t.TgZ(29,"svg",19),t._UZ(30,"path",20),t.qZA()(),t.kcU(),t.TgZ(31,"mat-menu",null,21)(33,"div",22)(34,"div")(35,"a",23),t.NdJ("click",function(){return n.redirectToDashboardTwo()}),t.TgZ(36,"div",24)(37,"div",25)(38,"mat-icon"),t._uU(39,"school"),t.qZA()(),t.TgZ(40,"div",26)(41,"span"),t._uU(42),t.ALo(43,"mytranslate"),t.qZA()()()()(),t.TgZ(44,"div",27)(45,"a",23),t.NdJ("click",function(){return n.redirectToAllExercise()}),t.TgZ(46,"div",24)(47,"div",28)(48,"mat-icon"),t._uU(49,"event_available"),t.qZA()(),t.TgZ(50,"div",26)(51,"span"),t._uU(52),t.ALo(53,"mytranslate"),t.qZA()()()()()()()()()(),t.TgZ(54,"div",29)(55,"div",30),t.YNc(56,wa,12,22,"div",17),t.qZA()(),t.TgZ(57,"div",31)(58,"div",32),t.YNc(59,Ta,2,1,"span",11),t.qZA()()()()()()(),t.YNc(60,ka,22,15,"div",33)),2&e){const o=t.MAs(32);t.xp6(5),t.Q6J("routerLink",t.VKq(26,Y,t.lcZ(6,16,"/student/dashboard/0"))),t.xp6(2),t.Q6J("src",t.lcZ(8,18,"azota_assets/images/logo.svg"),t.LSH),t.xp6(2),t.Q6J("ngIf",""!==n.headerBackTolink),t.xp6(1),t.Q6J("ngIf",n.checkUrlFunction),t.xp6(5),t.Q6J("ngIf",""!=n.headerTitle),t.xp6(4),t.s9C("matTooltip",t.lcZ(20,20,"lang_auto_xoa_bo_nho_tam_cache_brackets")),t.xp6(3),t.Q6J("ngIf",n.menu_objs.length>0),t.xp6(1),t.Q6J("ngIf",!n.checkAnonymous()),t.xp6(1),t.Q6J("ngIf",!n.checkAnonymous()),t.xp6(2),t.Q6J("ngIf",n.checkAnonymous()),t.xp6(2),t.Q6J("matMenuTriggerFor",o),t.xp6(14),t.Oqu(t.lcZ(43,22,"lang_auto_de_thi")),t.xp6(10),t.Oqu(t.lcZ(53,24,"lang_auto_bai_tap")),t.xp6(4),t.Q6J("ngIf",n.checkAnonymous()),t.xp6(3),t.Q6J("ngIf",""!=n.headerTitle),t.xp6(1),t.Q6J("ngIf",n.imageChangedEvent)}},dependencies:[Q.rH,Q.yS,T.sg,T.O5,Qt.lW,ct.Hw,gt.VK,gt.OP,gt.p6,ot.gM,wt.ap,Fo.Vv,Dt.t,T.JJ,T.uU,S.mp,S.bT,S.GT,S.C5,S.ke,S.BI,S.bd],styles:[".myMenuItem[_ngcontent-%COMP%]{width:auto;display:flex;color:red;font-size:10px;padding:auto;margin:5px 20px;height:auto;align-content:center;align-items:center;align-self:center}a[_ngcontent-%COMP%]:hover{text-decoration:none}.box[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(220,220,220,.8);color:#222;text-align:center;transition:all .5s;display:flex;max-width:154px;padding:5px 8px;flex-direction:column;justify-content:center;align-items:center;border-radius:5px!important;width:75px}.box[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.box-icon[_ngcontent-%COMP%]{font-size:15px}.box-text[_ngcontent-%COMP%]{font-size:12px}.box-icon-upload[_ngcontent-%COMP%]{color:#2361ae}.box-icon-search[_ngcontent-%COMP%], .box-icon-people[_ngcontent-%COMP%]{color:#bf3232}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{height:30px;width:45px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:28px}.myProfile[_ngcontent-%COMP%]{background-color:#fff;width:235px;height:auto;margin-top:10px}.myProfile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%!important;width:93px;height:93px}.buttom_logout[_ngcontent-%COMP%]{padding:0 20px 10px}.buttom_logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-style:solid;border-radius:5px;border-width:1px;border-color:#d8d5d5;background-color:#fff;padding:8px;transition:all .3s}.buttom_logout[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.azoStyle[_ngcontent-%COMP%]{margin:-5% 20px 20px;align-items:center}.azoStyle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px}.poidAzo[_ngcontent-%COMP%]{border-style:solid;border-radius:5px;border-width:1px;border-color:#d8d5d5;background-color:#f7f7f7;padding:10px 0;margin:0;font-weight:700}.profile-img[_ngcontent-%COMP%]{text-align:center;margin-top:5px}.image[_ngcontent-%COMP%]{border:1px solid #007bff;border-radius:50px!important;width:93px;height:93px}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]{margin:-10% auto auto;width:93px;position:relative;overflow:hidden;border:none}.spinner-border[_ngcontent-%COMP%]{color:#007bff}input[type=file][_ngcontent-%COMP%]::-webkit-file-upload-button{cursor:pointer}.profile-img[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;right:0;top:0;cursor:pointer!important}.truncate[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.number-noti[_ngcontent-%COMP%]{text-align:center;font-size:7px;width:18px;height:18px;border-radius:50%;background-color:#d60000;color:#fff;position:relative;overflow:hidden;margin:-94% auto auto -5%;border:none;display:flex;justify-content:center;align-items:center}.number-azo-noti[_ngcontent-%COMP%]{font-size:11px;width:30px;height:30px;border-radius:50%;background-color:#d60000;color:#fff;position:relative;margin-left:3%;z-index:1;border:none;display:flex;justify-content:center;align-items:center}.video_block[_ngcontent-%COMP%]{padding:10px}.btn-link[_ngcontent-%COMP%]{text-align:left;color:#000}.maintitle[_ngcontent-%COMP%]{font-family:Arial Bold,Arial;font-weight:700;font-style:normal;font-size:14px;margin-bottom:5px}.title[_ngcontent-%COMP%]{font-family:Arial Bold,Arial;font-weight:700;font-size:13px;line-height:21px;vertical-align:middle}.title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f39c12;font-size:20px;vertical-align:middle}.hover-noti[_ngcontent-%COMP%]:hover{background-color:#ecebeb}.block-else[_ngcontent-%COMP%]{display:flex;justify-content:center;height:48px;align-items:center;padding:15px}.notify-heading[_ngcontent-%COMP%]{padding:10px 10px 0;font-size:18px;border-top:1px solid #e5e5e5;border-bottom:1px solid #e5e5e5}.notify-heading[_ngcontent-%COMP%]:first-child{border-top:none}.heading-title[_ngcontent-%COMP%]{font-size:17px;font-weight:500}.notify__content[_ngcontent-%COMP%]{color:#000;padding:10px 15px}.class__text[_ngcontent-%COMP%]{color:#fff;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.notify__name[_ngcontent-%COMP%], .notify__time[_ngcontent-%COMP%]{font-weight:500}.notice[_ngcontent-%COMP%]{height:420px}.time__ago[_ngcontent-%COMP%]{margin:5px 0 0;color:#909090}.notify-bottom[_ngcontent-%COMP%]{border-top:1px solid #e5e5e5;text-align:center}.btn-all[_ngcontent-%COMP%]{background:#2361ae;color:#fff;text-transform:inherit;padding:0 30px}.btn-switch[_ngcontent-%COMP%]{text-transform:inherit}.btn-switch[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px}.btn-language[_ngcontent-%COMP%]{transition:all .5s}.btn-language[_ngcontent-%COMP%]:hover{transform:scale(.9);background:#eee}.notify-link[_ngcontent-%COMP%]{display:block;width:100%;height:30px;padding-top:10px;cursor:pointer}"]}),i})();var Sa=g(51176);function Aa(i,s){if(1&i&&t._UZ(0,"header-frontend",4),2&i){const e=t.oxw();t.Q6J("headerTitle","Danh s\xe1ch \u0111\u1ec1 thi")("headerBackTolink",e.backToLink)}}function Oa(i,s){1&i&&t._UZ(0,"azt-loading-effect")}const Ia=function(i,s){return{active:i,"text-primary":s}},Ma=function(i){return{clickable:i}},Ea=function(i){return{"truncate-bread":i}};function ja(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"li",17)(1,"a",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.goBackParent(a.id?a.id:0))}),t.TgZ(2,"span",19),t._uU(3),t.qZA()()()}if(2&i){const e=s.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.WLB(5,Ia,e.id!=n.cur_cateId,e.id!=n.cur_cateId)),t.xp6(1),t.Q6J("ngClass",t.VKq(8,Ma,e.id!=n.cur_cateId)),t.xp6(1),t.s9C("matTooltip",e.name),t.Q6J("ngClass",t.VKq(10,Ea,e.id!=n.cur_cateId)),t.xp6(1),t.Oqu(e.name)}}function La(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.cateDetail(a))}),t.TgZ(1,"mat-card",21)(2,"div",22)(3,"div",23),t._UZ(4,"img",24),t.ALo(5,"convertCdn"),t.TgZ(6,"div",25)(7,"p",26),t._uU(8),t.ALo(9,"slice"),t.qZA()()()()()()}if(2&i){const e=s.$implicit;t.xp6(4),t.Q6J("src",t.lcZ(5,2,"azota_assets/images/folder_img.png"),t.LSH),t.xp6(4),t.hij(" ",e.name&&e.name.length>100?t.Dn7(9,4,e.name,0,99)+"..":e.name,"")}}function Ua(i,s){if(1&i&&(t.TgZ(0,"div",35)(1,"span",38),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_do_kho"),": "),t.xp6(3),t.Oqu(e.hardLevel)}}function Fa(i,s){if(1&i&&(t.TgZ(0,"div",35)(1,"span",39),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function Pa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"a",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.redirectToExamDetail(o.hashId?o.hashId:""))}),t.TgZ(1,"mat-card",21)(2,"div",32)(3,"div",22)(4,"div",33),t._UZ(5,"img",34),t.ALo(6,"convertCdn"),t.TgZ(7,"div",35)(8,"p",36),t._uU(9),t.ALo(10,"slice"),t.qZA()(),t.YNc(11,Ua,6,4,"div",37),t.TgZ(12,"div",35)(13,"span",38)(14,"span"),t._uU(15),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.YNc(18,Fa,6,4,"div",37),t.qZA()()()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.s9C("target",n.target),t.xp6(5),t.Q6J("src",t.lcZ(6,8,"azota_assets/images/u205.svg"),t.LSH),t.xp6(3),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name&&e.name.length>100?t.Dn7(10,10,e.name,0,99)+"..":e.name," "),t.xp6(2),t.Q6J("ngIf",e.hardLevel),t.xp6(4),t.Oqu(e.attended),t.xp6(1),t.hij(" ",t.lcZ(17,14,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function qa(i,s){if(1&i&&(t.TgZ(0,"div",35)(1,"span",38),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_do_kho"),": "),t.xp6(3),t.Oqu(e.hardLevel)}}function Na(i,s){if(1&i&&(t.TgZ(0,"div",35)(1,"span",39),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function Qa(i,s){if(1&i&&(t.TgZ(0,"a",40)(1,"mat-card",21)(2,"div",32)(3,"div",22)(4,"div",33),t._UZ(5,"img",34),t.ALo(6,"convertCdn"),t.TgZ(7,"div",35)(8,"p",36),t._uU(9),t.ALo(10,"slice"),t.qZA()(),t.YNc(11,qa,6,4,"div",37),t.TgZ(12,"div",35)(13,"span",38)(14,"span"),t._uU(15),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.YNc(18,Na,6,4,"div",37),t.qZA()()()()()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.s9C("target",n.target),t.Q6J("href","/de-thi/"+e.hashId,t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(6,9,"azota_assets/images/u205.svg"),t.LSH),t.xp6(3),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name&&e.name.length>100?t.Dn7(10,11,e.name,0,99)+"..":e.name," "),t.xp6(2),t.Q6J("ngIf",e.hardLevel),t.xp6(4),t.Oqu(e.attended),t.xp6(1),t.hij(" ",t.lcZ(17,15,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function Da(i,s){if(1&i&&(t.TgZ(0,"div",41),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",42),t._uU(4),t.qZA(),t._uU(5," Azo "),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_gia_de_thi"),": "),t.xp6(3),t.hij("",null!=e.price?e.price:0," ")}}function Ja(i,s){if(1&i&&(t.TgZ(0,"div",27),t.YNc(1,Pa,19,16,"a",28),t.YNc(2,Qa,19,17,"a",29),t.YNc(3,Da,6,4,"div",30),t.qZA()),2&i){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf","_blank"!=n.target),t.xp6(1),t.Q6J("ngIf","_blank"==n.target),t.xp6(1),t.Q6J("ngIf",null!=e.price&&0!=e.price)}}function Ha(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"ol",7)(3,"li",8)(4,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.backToAllCate())}),t._uU(5,"All"),t.qZA()(),t.YNc(6,ja,4,12,"li",10),t.qZA()()(),t.TgZ(7,"div")(8,"div",11)(9,"div",12),t.YNc(10,La,10,8,"div",13),t.YNc(11,Ja,4,3,"div",14),t.qZA(),t.TgZ(12,"div",15)(13,"azt-paging",16),t.NdJ("SendPage",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.goToPage(o))}),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.listBreadcrumb),t.xp6(4),t.Q6J("ngForOf",e.cateObjs),t.xp6(1),t.Q6J("ngForOf",e.examObjs),t.xp6(2),t.Q6J("lengthPage",e.total_page)("paging",e.cur_page)}}let za=(()=>{class i extends q.Q{constructor(e,n,o,a,l,r,_){super(o),this.fb=e,this.activeRoute=n,this.commonService=o,this.frontExamCategoryService=a,this.frontExamPageService=l,this.iframeService=r,this.userLoginStateService=_,this.subscriptions=new J.w,this.form=new x.nJ({}),this.cur_page=1,this.start_page=1,this.end_page=1,this.show_pages=[],this.total_page=1,this.item_per_page=18,this.limit_page=5,this.cur_cateId=0,this.tenantId=1,this.totalExam=0,this.totalObjs=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.isInIframe=!1,this.target="",this.contentHeight=0,this.backToLink="",this.paramBackToLink=""}getListParentCate(){this.subscriptions.add(this.frontExamCategoryService.apiFrontExamCategoryGetBreadcrumbsGet(this.tenantId,this.cur_cateId).subscribe(e=>{var n,o,a;1==e.success?this.listBreadcrumb=null!==(o=null===(n=e.data)||void 0===n?void 0:n.objs)&&void 0!==o?o:new Array:this.errorStatusObj(null!==(a=e.message)&&void 0!==a?a:"",!0)}))}getData(){this.backToLink=0!=this.cur_cateId?"/test/category/"+this.tenantId+"/0/"+this.cur_page:"/student/dashboard/0";var e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.cur_page=e=e>0?e:1,this.initStatusObj(),this.subscriptions.add(this.frontExamPageService.apiFrontExamPageGetObjsGet(this.tenantId,this.cur_cateId>0?this.cur_cateId:0,this.cur_page).subscribe(n=>{var o,a,l,r,_,m,c,d,h;if(1==n.success){this.cateObjs=null!==(a=null===(o=n.data)||void 0===o?void 0:o.categoryObjs)&&void 0!==a?a:new Array,this.examObjs=null!==(r=null===(l=n.data)||void 0===l?void 0:l.examObjs)&&void 0!==r?r:new Array,this.totalObjs=null!==(m=null===(_=n.data)||void 0===_?void 0:_.total)&&void 0!==m?m:0,this.totalExam=null!==(d=null===(c=n.data)||void 0===c?void 0:c.totalExam)&&void 0!==d?d:0,this.total_page=this.totalObjs%this.item_per_page>0?(this.totalObjs-this.totalObjs%this.item_per_page)/this.item_per_page+1:this.totalObjs>0?this.totalObjs/this.item_per_page:1,this.start_page=this.cur_page-this.limit_page>=1?this.cur_page-this.limit_page:1,this.end_page=this.start_page+2*this.limit_page>this.total_page?this.total_page:this.start_page+2*this.limit_page;for(var p=[],f=this.start_page;f<=this.end_page;f++)p.push(f);this.show_pages=p,this.getListParentCate(),this.successStatusObj(),setTimeout(()=>{this.checkHeight()},0)}else this.errorStatusObj(null!==(h=n.message)&&void 0!==h?h:"",!0)}))}goToPage(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.cur_cateId+"/"+e)}backToAllCate(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}cateDetail(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e.id+"/1")}goBackParent(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e+"/1")}redirectToExamDetail(e){this.commonService.myNavigationWithQueryString(`/de-thi/${e}`,"?backto="+encodeURIComponent(this.paramBackToLink))}checkHeight(){var e=document.body,n=document.documentElement,o=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.contentHeight=o,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}resizeHeight(){var e=document.body,n=document.documentElement,o=Math.max(e.scrollHeight,e.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight);this.contentHeight=o,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}changeLogin(){this.iframeService.sendMessageToParentIframe({changeLogin:!0})}ngOnInit(){this.isInIframe=this.iframeService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.form=this.fb.group({searchContent:new x.p4("",x.kI.required)}),(0,X.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));let e=this.commonService.getMyParam(this.activeRoute,"page");this.paramBackToLink=`/test/category/${this.tenantId}/${this.cur_cateId}/${e}`,this.getData(),this.userLoginStateService.loginMessage.subscribe(n=>{this.changeLogin()}),this.commonService.translateMetaData({title:"Danh s\xe1ch \u0111\u1ec1 thi",description:"Danh s\xe1ch \u0111\u1ec1 thi"})}),this.commonService.gaEvent("FrontExam_ViewExamCategory"),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.QS),t.Y36(Q.gz),t.Y36(L.v),t.Y36(Mo.n),t.Y36(Eo.T),t.Y36(jo.X),t.Y36(Nt.N))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-student-index"]],hostBindings:function(e,n){1&e&&t.NdJ("resize",function(a){return n.resizeHeight(a)},!1,t.Jf7)},features:[t.qOj],decls:5,vars:3,consts:[[3,"headerTitle","headerBackTolink",4,"ngIf"],[1,"top-bar","mt-3"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","headerBackTolink"],[1,"row","pl-0","pr-0","justify-content-between"],[1,"col-sm-12","text-left"],[1,"breadcrumb","custom-breadcrumb",2,"margin-top","2px"],[1,"breadcrumb-item","text-primary"],[1,"clickable",2,"color","#989494",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"content-zone","mt-3","pt-2","pb-2"],[1,"row"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",3,"click",4,"ngFor","ngForOf"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",4,"ngFor","ngForOf"],[1,"pt-2"],[3,"lengthPage","paging","SendPage"],[1,"breadcrumb-item",3,"ngClass"],[1,"hidden__text",3,"ngClass","click"],[3,"ngClass","matTooltip"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable",3,"click"],[1,"card-custom","box-flex"],[1,"box-title","text-center"],[1,"test","p-3"],["alt","",1,"img-fluid","folder-img",3,"src"],[1,"test-desc","text-center"],[1,"test-title","mb-0",2,"word-break","break-word"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable"],[3,"target","click",4,"ngIf"],[3,"href","target",4,"ngIf"],["style","float: right; margin-top: -20px; position: relative; margin-right: 10px; font-weight: bold;",4,"ngIf"],[3,"target","click"],[1,"box"],[1,"test","p-2","pl-3","pr-3"],["alt","",1,"test-img",3,"src"],[1,"test-desc"],[1,"test-title","mb-0","exam_name",2,"word-break","break-word",3,"matTooltip"],["class","test-desc",4,"ngIf"],[1,"test-text"],[1,"test-text","text-info"],[3,"href","target"],[2,"float","right","margin-top","-20px","position","relative","margin-right","10px","font-weight","bold"],[2,"color","#ee4d2d"]],template:function(e,n){if(1&e&&(t.YNc(0,Aa,1,2,"header-frontend",0),t.TgZ(1,"div",1),t.YNc(2,Oa,1,0,"azt-loading-effect",2),t.YNc(3,Ha,14,5,"ng-template",null,3,t.W1O),t.qZA()),2&e){const o=t.MAs(4);t.Q6J("ngIf",!n.isInIframe),t.xp6(2),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[T.mk,T.sg,T.O5,Lo.a8,ot.gM,et.Q,Za,Sa.L,T.OU,S.bT,S.BI],styles:[".top-bar[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;overflow-x:hidden;padding:15px}.folder-img[_ngcontent-%COMP%]{width:96px;height:96px}.custom-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.card-custom[_ngcontent-%COMP%]{margin:0 auto;height:230px}.box-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.box-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.test-img[_ngcontent-%COMP%]{width:30px;margin-bottom:10px}.test-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.test-desc[_ngcontent-%COMP%]{margin-top:2px;text-align:justify}.test-text[_ngcontent-%COMP%]{font-size:14px}.mat-card[_ngcontent-%COMP%]{padding:0}.truncate-bread[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:120px;white-space:nowrap}.hidden__text[_ngcontent-%COMP%]{max-width:100px;overflow:hidden;text-align:left;white-space:nowrap;text-overflow:ellipsis}"]}),i})();var Ya=g(71572),Ra=g(63910);function Ga(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"p",6),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToRegister())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_mua_de_thi")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_dang_ky")," "))}function Ba(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",14)(1,"p",15),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.goToAddMoreAzo())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,2,e.hasErrorMessage)," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_nap_them_azo")," ")}}function Ka(i,s){if(1&i&&(t.TgZ(0,"div",8)(1,"p",9),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"p",10),t._uU(5),t.qZA()(),t.TgZ(6,"div",11)(7,"p",12),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.YNc(10,Ba,7,6,"div",13)),2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_auto_ban_muon_mua_bai_thi"),": "),t.xp6(3),t.hij(" ",null==e.data.examObj?null:e.data.examObj.name," "),t.xp6(3),t.AsE("",t.lcZ(9,7,"lang_auto_gia"),": ",null==e.data.examObj?null:e.data.examObj.price," Azo"),t.xp6(2),t.Q6J("ngIf",""!=e.hasErrorMessage)}}function $a(i,s){1&i&&(t.TgZ(0,"span"),t._UZ(1,"span",20),t._uU(2,"\xa0"),t.qZA())}function Wa(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancelPayment())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmBuy())}),t.YNc(5,$a,3,0,"span",19),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(7,6,"lang_auto_xac_nhan")," ")}}function Va(i,s){if(1&i&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,Ga,7,6,"ng-template",3),t.YNc(3,Ka,11,9,"ng-template",3),t.YNc(4,Wa,8,8,"div",4),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.data.needLogin),t.xp6(1),t.Q6J("ngIf",!e.data.needLogin),t.xp6(1),t.Q6J("ngIf",!e.data.needLogin)}}let Xa=(()=>{class i extends q.Q{constructor(e,n,o){super(e),this.commonService=e,this.paymentService=n,this.redirectService=o,this.data={examObj:{},needLogin:!1,isShow:!1},this.closeDialog=new t.vpe,this.subscriptions=new J.w,this.form=new x.nJ({}),this.hasErrorMessage=""}confirmBuy(){var e;this.initStatusObj(),this.subscriptions.add(this.paymentService.apiPaymentBuyExamByAzoGet(null===(e=this.data.examObj)||void 0===e?void 0:e.hashId).subscribe(n=>{var o;1==n.success?(this.hasErrorMessage="",this.successStatusObj(),this.closeDialog.emit(!0)):n.hasOwnProperty("message")&&n.message&&("lang_core_doest_not_enough_azo"==n.message?(this.hasErrorMessage=n.message,this.stopStatusObj()):this.errorStatusObj(null!==(o=n.message)&&void 0!==o?o:"",!0))}))}cancelPayment(){this.closeDialog.emit(!1)}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToAddMoreAzo(){this.commonService.gaEvent("payment_exam_detail_click_to_payment_pack"),this.redirectService.redirectToBuyMoreAzo()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.v),t.Y36(Ra.t),t.Y36(Ut.V))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-buy-exam"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[3,"ngIf"],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","mb-2"],[1,"clickable","h5","text-info",3,"click"],[1,"text-center","mb-1"],[1,"h5","mb-1",2,"font-size","14px"],[1,"h5","mb-1","text-info"],[1,"amount-zone","text-center"],[1,"mb-0","h4"],["class","text-center mt-2",4,"ngIf"],[1,"text-center","mt-2"],[1,"h6","mb-1",2,"font-size","14px"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","",2,"margin-right","15px",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&t.YNc(0,Va,5,3,"div",0),2&e&&t.Q6J("ngIf",n.data.isShow)},dependencies:[T.O5,Qt.lW,S.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:400px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.amount-zone[_ngcontent-%COMP%]{border:1px dashed #ff0024;padding:15px;border-radius:3px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),i})();var ts=g(37104);function es(i,s){if(1&i&&(t.TgZ(0,"span",24),t._UZ(1,"azt-check-mark",25),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("mark",e.mark)}}function ns(i,s){if(1&i&&(t.ynx(0),t.TgZ(1,"span",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,es,2,1,"span",22),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function is(i,s){1&i&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),":\xa0 "))}function os(i,s){1&i&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function as(i,s){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.mark," ")}}function ss(i,s){if(1&i&&(t.ynx(0),t.YNc(1,is,3,3,"span",26),t.YNc(2,os,3,3,"span",26),t.YNc(3,as,2,1,"span",22),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null==e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark)}}function ls(i,s){1&i&&(t.TgZ(0,"span",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),":\xa0 "))}function rs(i,s){if(1&i&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.mark," ")}}function _s(i,s){1&i&&(t.TgZ(0,"span",28),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function cs(i,s){if(1&i&&(t.ynx(0),t.YNc(1,ls,3,3,"span",26),t.YNc(2,rs,2,1,"span",22),t.YNc(3,_s,3,3,"span",27),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark&&null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null==e.essayMark)}}function ms(i,s){1&i&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_chua_co_diem")," "))}function ds(i,s){if(1&i&&(t.TgZ(0,"div",21),t.YNc(1,ns,5,4,"ng-container",2),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,ss,4,3,"ng-container",2),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,cs,4,3,"ng-container",2),t.ALo(6,"isOnlyEssay"),t.YNc(7,ms,3,3,"span",22),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);let o,a,l;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,null!==(o=n.examObj.examType)&&void 0!==o?o:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,null!==(a=n.examObj.examType)&&void 0!==a?a:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,null!==(l=n.examObj.examType)&&void 0!==l?l:0)),t.xp6(2),t.Q6J("ngIf",null==e.mark)}}function us(i,s){1&i&&(t.TgZ(0,"div",21)(1,"span",23),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"span",24),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),":\xa0 "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_chua_duoc_xem_diem")," "))}function ps(i,s){if(1&i&&(t.TgZ(0,"div",29)(1,"p",10),t.O4$(),t.TgZ(2,"svg",11),t._UZ(3,"circle",12)(4,"path",30)(5,"line",31),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(8,"p",14),t._uU(9),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(6),t.hij(" ",t.lcZ(7,3,"lang_auto_so_luong_dung"),":\xa0 "),t.xp6(3),t.AsE(" ",e.rightAnswer,"/",e.totalQuestion," ")}}function gs(i,s){if(1&i&&(t.TgZ(0,"div",29)(1,"p",10),t.O4$(),t.TgZ(2,"svg",11),t._UZ(3,"circle",12)(4,"path",30)(5,"line",31),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(8,"p",14),t._uU(9),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(6),t.hij(" ",t.lcZ(7,2,"lang_auto_so_luong_cau_hoi"),":\xa0 "),t.xp6(3),t.hij(" ",e.totalQuestion," ")}}const hs=function(i){return[i]},fs=function(i){return{backto:i}};function xs(i,s){if(1&i&&(t.TgZ(0,"div",6),t.YNc(1,ds,8,10,"div",7),t.YNc(2,us,7,6,"div",7),t.TgZ(3,"div",8)(4,"div",9)(5,"p",10),t.O4$(),t.TgZ(6,"svg",11),t._UZ(7,"circle",12)(8,"polyline",13),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.kcU(),t.TgZ(11,"p",14),t._uU(12),t.qZA()(),t.YNc(13,ps,10,5,"div",15),t.YNc(14,gs,10,4,"div",15),t.qZA(),t.TgZ(15,"div",16)(16,"button",17),t.ALo(17,"mylocalize"),t._uU(18),t.ALo(19,"mytranslate"),t.O4$(),t.TgZ(20,"svg",18),t._UZ(21,"polyline",19),t.qZA()(),t.kcU(),t.TgZ(22,"div",20),t._uU(23),t.ALo(24,"date"),t.qZA()()()),2&i){const e=s.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",2!=n.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2==n.examObj.whenShowResult),t.xp6(7),t.hij(" ",t.lcZ(10,10,"lang_auto_thoi_gian_lam_bai"),":\xa0 "),t.xp6(3),t.hij(" ",n.calculateTime(e.startedTest,e.createdAt)," "),t.xp6(1),t.Q6J("ngIf",null!=e.rightAnswer),t.xp6(1),t.Q6J("ngIf",null==e.rightAnswer),t.xp6(2),t.Q6J("routerLink",t.VKq(19,hs,t.lcZ(17,12,"/test/answer-test/"+n.tenant_id+"/"+(null!=n.cur_cateId?n.cur_cateId:0)+"/"+n.hashId+"/"+e.id)))("queryParams",t.VKq(21,fs,n.backToLink)),t.xp6(2),t.hij(" ",t.lcZ(19,14,"lang_auto_xem_chi_tiet_bai_lam")," "),t.xp6(5),t.hij(" ",t.xi3(24,16,e.createdAt,"dd/MM/yyyy HH:mm")," ")}}function vs(i,s){if(1&i&&(t.ynx(0),t.YNc(1,xs,25,23,"div",5),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.historyObjs)}}function bs(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",32)(2,"defs")(3,"linearGradient",33),t._UZ(4,"stop",34)(5,"stop",35)(6,"stop",36),t.qZA()(),t.TgZ(7,"g",37)(8,"g",38)(9,"path",39),t._UZ(10,"animateTransform",40),t.qZA(),t.TgZ(11,"circle",41),t._UZ(12,"animateTransform",40),t.qZA()()()()())}function ws(i,s){1&i&&(t.TgZ(0,"span"),t.O4$(),t.TgZ(1,"svg",42),t._UZ(2,"polyline",43),t.qZA()())}let Ts=(()=>{class i extends q.Q{constructor(e,n,o){super(e),this.commonService=e,this.frontExamResultHistoryService=n,this.timeService=o,this.hashId="",this.backToLink="",this.examObj={},this.tenant_id=0,this.cur_cateId=0,this.historyObjs=[],this.page="",this.subscriptions=new J.w,this.checkClick=!1,this.disableBtn=!1}getExamHistoryByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetHistoryObjsGet(this.hashId,this.page).subscribe(e=>{var n,o,a,l,r,_,m,c,d;if(1==e.success){let h=null!==(n=e.data)&&void 0!==n&&n.objs?null===(a=null===(o=e.data)||void 0===o?void 0:o.objs)||void 0===a?void 0:a.length:0;if(null!==(l=e.data)&&void 0!==l&&l.objs)for(let p=0;p<h;p++)this.historyObjs.push(null!==(r=e.data.objs[p])&&void 0!==r?r:{});this.checkClick=!0,this.page=null!==(m=null===(_=e.data)||void 0===_?void 0:_.nextPage)&&void 0!==m?m:"",!(null===(c=e.data)||void 0===c)&&c.nextPage||(this.disableBtn=!0),this.successStatusObj()}else this.errorStatusObj(null!==(d=e.message)&&void 0!==d?d:"")})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}pagingData(){this.getExamHistoryByHashId()}calculateTime(e,n){return e?this.timeService.calculationTestedTime(e,n):""}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.v),t.Y36(D.B3),t.Y36(ut.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",backToLink:"backToLink",examObj:"examObj",tenant_id:"tenant_id",cur_cateId:"cur_cateId"},features:[t.qOj],decls:11,vars:10,consts:[[1,"exam-history","mx-auto","mt-5",2,"max-width","560px"],[1,"font-medium"],[4,"ngIf"],[1,"mt-5","text-center"],[1,"btn","btn-outline-secondary","btn-transparent",3,"disabled","click"],["class","box mx-auto mt-5",4,"ngFor","ngForOf"],[1,"box","mx-auto","mt-5"],["class","text-center border-b border-slate-200/60 dark:border-darkmode-400 p-5",4,"ngIf"],[1,"azt-info-exam","mt-5","px-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md","font-medium","ml-auto"],["class","flex items-center mt-3",4,"ngIf"],[1,"p-5"],[1,"btn","btn-secondary","w-full",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","ml-2"],["points","9 18 15 12 9 6"],[1,"mt-3","text-right","text-slate-500"],[1,"text-center","border-b","border-slate-200/60","dark:border-darkmode-400","p-5"],["class","font-medium text-lg","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md","mr-2"],[1,"font-medium","text-lg",2,"font-size","25px"],[3,"mark"],["class","font-medium text-md mr-2",4,"ngIf"],["class","font-medium text-md","style","font-size: 25px;",4,"ngIf"],[1,"font-medium","text-md",2,"font-size","25px"],[1,"flex","items-center","mt-3"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["width","20","viewBox","0 0 38 38","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","ml-2"],["x1","8.042%","y1","0%","x2","65.682%","y2","23.865%","id","a"],["stop-color","rgb(30, 41, 59)","stop-opacity","0","offset","0%"],["stop-color","rgb(30, 41, 59)","stop-opacity",".631","offset","63.146%"],["stop-color","rgb(30, 41, 59)","offset","100%"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)"],["d","M36 18c0-9.94-8.06-18-18-18","id","Oval-2","stroke","url(#a)","stroke-width","3"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","0.9s","repeatCount","indefinite"],["fill","rgb(30, 41, 59)","cx","36","cy","18","r","1"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","ml-2","lucide"],["points","6 9 12 15 18 9"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"h3",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,vs,2,1,"ng-container",2),t.TgZ(5,"div",3)(6,"button",4),t.NdJ("click",function(){return n.pagingData()}),t._uU(7),t.ALo(8,"mytranslate"),t.YNc(9,bs,13,0,"span",2),t.YNc(10,ws,3,0,"span",2),t.qZA()()()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,6,"lang_auto_lich_su_lam_bai_cua_ban")," "),t.xp6(2),t.Q6J("ngIf",n.historyObjs.length>0),t.xp6(2),t.Q6J("disabled",n.disableBtn),t.xp6(1),t.hij(" ",t.lcZ(8,8,"lang_auto_xem_them")," "),t.xp6(2),t.Q6J("ngIf",n.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!n.statusObj.loading))},dependencies:[Q.rH,T.sg,T.O5,ts.B,T.uU,S.mp,S.bT,S.fV,S.sA,S.G0],encapsulation:2}),i})();function ys(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"app-buy-exam",5),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeBuyExamDialog(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.dataBuyExamDialog)}}function Cs(i,s){if(1&i&&(t.TgZ(0,"div",6),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasErrorMessage)," ")}}const ks=function(i,s){return{"monitor-height":i,"mobile-monitor":s}};function Zs(i,s){if(1&i&&(t.TgZ(0,"div",43),t._UZ(1,"div",44,45),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(1,ks,!e.isMobile,e.isMobile))}}function Ss(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.redirectToTakeTest())}),t._uU(1),t.ALo(2,"mytranslate"),t.O4$(),t.TgZ(3,"svg",47),t._UZ(4,"polyline",48),t.qZA()()}2&i&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_bat_dau_lam_bai")," "))}function As(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openBuyExam())}),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"number"),t.O4$(),t.TgZ(4,"svg",47),t._UZ(5,"polyline",48),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_mua_de")," - ",t.lcZ(3,4,e.examObj.price)," Azo ")}}function Os(i,s){1&i&&(t.TgZ(0,"div",50)(1,"strong"),t._uU(2,"(*)"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"b"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()),2&i&&(t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_he_thong_chi_gui_hinh_anh_va_am_thanh_den_giao_vien")," "),t.xp6(3),t.Oqu(t.lcZ(7,6,"lang_auto_trong_qua_trinh_lam_bai_thi")),t.xp6(2),t.hij("",t.lcZ(9,8,"lang_auto__ngay_sau_khi_ket_thuc_bai_lam_he_thong_ngung_gui_du_lieu_du_lieu_thu_thap_chi_su_dung_phuc_vu_cho_cong_tac")," "),t.xp6(3),t.Oqu(t.lcZ(12,10,"lang_auto_to_chuc_ky_thi")))}function Is(i,s){if(1&i&&(t.TgZ(0,"div",7)(1,"div",8)(2,"h3",9),t._uU(3),t.qZA(),t.TgZ(4,"div",10),t._uU(5),t._UZ(6,"azt-download-qr-code",11),t.qZA(),t.YNc(7,Zs,3,4,"div",12),t.TgZ(8,"div",13)(9,"div",14)(10,"p",15),t.O4$(),t.TgZ(11,"svg",16),t._UZ(12,"circle",17)(13,"polyline",18),t.qZA(),t._uU(14," Th\u1eddi gian l\xe0m b\xe0i "),t.qZA(),t.kcU(),t.TgZ(15,"p",19),t._uU(16),t.ALo(17,"mytranslate"),t.ALo(18,"mytranslate"),t.qZA()(),t.TgZ(19,"div",20)(20,"p",15),t.O4$(),t.TgZ(21,"svg",16),t._UZ(22,"path",21)(23,"path",22)(24,"path",23)(25,"path",24)(26,"path",25)(27,"path",26),t.qZA(),t._uU(28," Th\u1eddi gian v\xe0o thi "),t.qZA(),t.kcU(),t.TgZ(29,"p",19),t._uU(30),t.ALo(31,"date"),t.qZA()(),t.TgZ(32,"div",20)(33,"p",15),t.O4$(),t.TgZ(34,"svg",16),t._UZ(35,"circle",17)(36,"path",27)(37,"line",28),t.qZA(),t._uU(38," S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi "),t.qZA(),t.kcU(),t.TgZ(39,"p",19),t._uU(40),t.qZA()(),t.TgZ(41,"div",20)(42,"p",15),t.O4$(),t.TgZ(43,"svg",16),t._UZ(44,"rect",29)(45,"path",30)(46,"path",31)(47,"path",32)(48,"path",33),t.qZA(),t._uU(49," Lo\u1ea1i \u0111\u1ec1 "),t.qZA(),t.kcU(),t.TgZ(50,"p",19),t._uU(51),t.qZA()(),t.TgZ(52,"div",20)(53,"p",15),t.O4$(),t.TgZ(54,"svg",16),t._UZ(55,"path",34)(56,"circle",35)(57,"path",36)(58,"path",37),t.qZA(),t._uU(59," S\u1ed1 l\u01b0\u1ee3t l\xe0m \u0111\u1ec1 "),t.qZA(),t.kcU(),t.TgZ(60,"p",19),t._uU(61),t.qZA()()(),t.TgZ(62,"div",38),t.YNc(63,Ss,5,3,"button",39),t.YNc(64,As,6,6,"button",40),t.qZA(),t.YNc(65,Os,13,12,"div",41),t.qZA(),t._UZ(66,"app-exam-history",42),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.hij(" ",e.examObj.name," "),t.xp6(2),t.hij(" M\xe3 \u0111\u1ec1 thi: ",e.examObj.hashId," "),t.xp6(1),t.Q6J("fileName","azota_exam_qrcode_"+e.examObj.hashId)("linkUrl",e.urlLocation),t.xp6(1),t.Q6J("ngIf",e.examObj.autoMonitor&&0!=e.examObj.autoMonitor),t.xp6(9),t.hij(" ",e.examObj.minutes&&e.examObj.minutes>0?e.examObj.minutes+" "+t.lcZ(17,18,"lang_auto_phut"):t.lcZ(18,20,"lang_auto_khong_gioi_han")," "),t.xp6(14),t.hij(" ",e.examObj.startTime?t.xi3(31,22,e.examObj.startTime,"dd/MM/yy HH:mm"):"Kh\xf4ng th\u1eddi h\u1ea1n"," "),t.xp6(10),t.hij(" ",2==e.examObj.mixQuestion?e.examObj.limitMixQuestion:e.examObj.countQuestion," "),t.xp6(11),t.hij(" ",e.getExamType(e.examObj)," "),t.xp6(10),t.hij(" ",null==e.totalAttended?0:e.totalAttended,"\xa0l\u01b0\u1ee3t "),t.xp6(2),t.Q6J("ngIf",!e.isNeedBuyExam),t.xp6(1),t.Q6J("ngIf",e.isNeedBuyExam),t.xp6(1),t.Q6J("ngIf",e.examObj.autoMonitor&&3==e.examObj.autoMonitor),t.xp6(1),t.Q6J("examObj",e.examObj)("tenant_id",e.tenant_id)("cur_cateId",e.cur_cateId)("hashId",e.hashId)("backToLink",e.backToLink)}}let Ms=(()=>{class i extends q.Q{constructor(e,n,o,a,l,r,_,m){super(n),this.activeRoute=e,this.commonService=n,this.frontExamResultHistoryService=o,this.homeworkExamService=a,this.baseApiService=l,this.fireStoreService=r,this.monitorService=_,this.frontOfflineShareService=m,this.hashId="",this.examObj={},this.totalAttended=0,this.tenant_id=0,this.cur_cateId=0,this.hasErrorMessage="",this.backToLink="/student/dashboard/0",this.password="",this.isNeedBuyExam=!1,this.dataBuyExamDialog={examObj:{},isShow:!1},this.innerMonitor="",this.isMobile=!1,this.urlLocation=""}fillData(e){var n,o;(null===(n=e.data)||void 0===n?void 0:n.hasOwnProperty("errorMessage"))&&(null===(o=e.data)||void 0===o?void 0:o.errorMessage)?("lang_core_doest_not_owner_exam"==e.data.errorMessage?(this.hasErrorMessage="",this.isNeedBuyExam=!0):(this.hasErrorMessage=e.data.errorMessage,this.isNeedBuyExam=!1),this.successStatusObj()):(this.hasErrorMessage="",this.isNeedBuyExam=!1)}getExamByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetExamObjGet(this.hashId).subscribe(e=>{var n,o,a,l,r,_,m;if(1==e.success){if(this.fillData(e),this.examObj=null!==(o=null===(n=e.data)||void 0===n?void 0:n.examObj)&&void 0!==o?o:{},this.totalAttended=null!==(l=null===(a=e.data)||void 0===a?void 0:a.totalAttended)&&void 0!==l?l:0,null!=this.examObj){this.cur_cateId=null!==(r=this.examObj.categoryId)&&void 0!==r?r:0,this.tenant_id=null!==(_=this.examObj.tenantId)&&void 0!==_?_:0;let c="";this.commonService.getTranslate("lang_auto_bat_dau_thi").subscribe(d=>{c=d}),this.commonService.translateMetaData({title:c+": "+this.examObj.name,description:this.examObj.name})}this.examObj.autoMonitor&&3==this.examObj.autoMonitor&&this.openVideoMonitor(),this.successStatusObj()}else this.errorStatusObj(null!==(m=e.message)&&void 0!==m?m:"",!0)})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}openBuyExam(){this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?(this.commonService.gaEvent("payment_click_open_dialog_buy_exam"),this.dataBuyExamDialog={examObj:this.examObj,isShow:!0}):this.dataBuyExamDialog={examObj:{},needLogin:!0,isShow:!0}}closeBuyExamDialog(e){e?(this.commonService.gaEvent("payment_click_confirm_buy_exam"),this.dataBuyExamDialog={examObj:{},isShow:!1},this.showSuccessSnack("lang_auto_mua_de_thi_thanh_cong"),this.redirectToTakeTest()):(this.commonService.gaEvent("payment_click_cancel_buy_exam"),this.dataBuyExamDialog={examObj:{},isShow:!1})}openVideoMonitor(){var e=this.baseApiService.getUserObj();"undefined"!=typeof aztExam&&aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var n={user:{token:e.rememberToken,userid:e.id,username:e.fullName},config:{domainApi:Ct.N.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreen",examconfig:this.examObj,firebaseApp:this.fireStoreService,isStarted:!1};let o=aztExam.MonitorStudent.getInstance();o.prepairSession(n),this.innerMonitor=o.preview;let a=window.setInterval(()=>{let l=document.getElementById("monitorScreen");if(l){let r=l.getElementsByTagName("div")[0];r&&(r.setAttribute("class","mx-auto"),clearInterval(a))}},50)}}))}redirectToTakeTest(){this.commonService.myNavigationWithQueryString(null!=this.cur_cateId?"/test/take-test/"+this.tenant_id+"/"+this.cur_cateId+"/"+this.hashId:"/test/take-test/"+this.tenant_id+"/0/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.backToLink):"?backto="+encodeURIComponent(this.backToLink))}checkMobile(){this.isMobile=this.commonService.isMobileOrTable()}getExamType(e){var n,o;return this.homeworkExamService.isOnlyEssay(null!==(n=e.examType)&&void 0!==n?n:-1)?"T\u1ef1 lu\u1eadn":this.homeworkExamService.isOnlyTrueFalse(null!==(o=e.examType)&&void 0!==o?o:-1)?"Tr\u1eafc nghi\u1ec7m":"H\u1ed7n h\u1ee3p"}ngOnInit(){(0,X.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,n,o;this.password=null!==(e=this.commonService.getMyQueryParam("password"))&&void 0!==e?e:"";var a=null===(n=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===n?void 0:n.toString();this.hashId=a||"",this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.backToLink=null!==(o=this.commonService.getMyQueryParam("backto"))&&void 0!==o?o:"/student/dashboard/0";let l=this.commonService.getMyQueryParam("offline");l?this.myNavigation(`/test/share-offline-result/${a}/${l}/0`):(this.checkMobile(),this.getExamByHashId())}),this.urlLocation=window.location.href,super.ngOnInit()}ngOnDestroy(){"undefined"!=typeof aztExam&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Q.gz),t.Y36(L.v),t.Y36(D.B3),t.Y36(lt.j),t.Y36(it._),t.Y36(Ot.C),t.Y36(Mt.M),t.Y36(D.bF))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-student-view"]],features:[t.qOj],decls:5,vars:5,consts:[[3,"headerTitle","headerBackTolink"],[1,"relative"],[3,"data","closeDialog",4,"ngIf"],["class","alert alert-danger mt-2",4,"ngIf"],["class","intro-y mt-8",4,"ngIf"],[3,"data","closeDialog"],[1,"alert","alert-danger","mt-2"],[1,"intro-y","mt-8"],[1,"box","mx-auto","mt-5","p-5",2,"max-width","560px"],[1,"text-lg","font-medium","text-center"],[1,"text-md","justify-center","font-medium","mt-2","flex","items-center"],[1,"pl-2","ml-2",3,"fileName","linkUrl"],["class","row my-2",4,"ngIf"],[1,"azt-info-exam","mt-5"],[1,"flex","items-center"],[1,"text-md","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["cx","12","cy","12","r","10"],["points","12 6 12 12 16 14"],[1,"text-md","font-medium","ml-auto"],[1,"flex","items-center","mt-3"],["d","M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5"],["d","M16 2v4"],["d","M8 2v4"],["d","M3 10h5"],["d","M17.5 17.5 16 16.25V14"],["d","M22 16a6 6 0 1 1-12 0 6 6 0 0 1 12 0Z"],["d","M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"],["x1","12","y1","17","x2","12.01","y2","17"],["x","8","y","2","width","8","height","4","rx","1","ry","1"],["d","M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"],["d","M9 12v-1h6v1"],["d","M11 17h2"],["d","M12 11v6"],["d","M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M22 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"mt-5"],["class","btn btn-pending w-full text-white",3,"click",4,"ngIf"],["class","btn btn-pending w-full",3,"click",4,"ngIf"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","tenant_id","cur_cateId","hashId","backToLink"],[1,"row","my-2"],["id","monitorScreen",1,"self-center","text-center",2,"margin","auto",3,"ngClass"],["monitorScreen",""],[1,"btn","btn-pending","w-full","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide","ml-2"],["points","9 18 15 12 9 6"],[1,"btn","btn-pending","w-full",3,"click"],[1,"note-exam","mt-1"]],template:function(e,n){1&e&&(t.TgZ(0,"student-layout",0)(1,"div",1),t.YNc(2,ys,1,1,"app-buy-exam",2),t.YNc(3,Cs,3,3,"div",3),t.YNc(4,Is,67,25,"div",4),t.qZA()()),2&e&&(t.Q6J("headerTitle","B\u1eaft \u0111\u1ea7u thi")("headerBackTolink",n.backToLink),t.xp6(2),t.Q6J("ngIf",n.dataBuyExamDialog.isShow),t.xp6(1),t.Q6J("ngIf",""!=n.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==n.hasErrorMessage))},dependencies:[T.mk,T.O5,Ya.o,nt.L,Xa,Ts,T.JJ,T.uU,S.bT],encapsulation:2}),i})(),Es=(()=>{class i extends q.Q{constructor(e){super(e),this.commonService=e}ngOnInit(){super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.v))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-test-dashboard"]],features:[t.qOj],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[Q.lC],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),i})();var js=g(13953);function Ls(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function Us(i,s){if(1&i&&(t.TgZ(0,"div",5)(1,"div",6)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,1,e.dataProcess.errorMessage))}}const Fs=function(i){return{"bg-primary":i}};function Ps(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",15)(1,"button",16),t.NdJ("click",function(){const a=t.CHM(e).index,l=t.oxw(4);return t.KtG(l.selectClassroom(a))}),t.TgZ(2,"span",17),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"slice"),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index,o=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(17,Fs,o.indexClassroom==n)),t.xp6(1),t.s9C("matTooltip",e.name&&t.lcZ(3,3,e.name).length>25?t.lcZ(4,5,e.name):""),t.xp6(3),t.hij(" ",e.name&&t.lcZ(6,7,e.name).length>25?t.Dn7(7,9,t.lcZ(8,13,e.name),0,25)+"..":t.lcZ(9,15,e.name)," ")}}function qs(i,s){if(1&i&&(t._UZ(0,"img",31),t.ALo(1,"mycdn")),2&i){const e=t.oxw().$implicit;t.s9C("src",t.lcZ(1,1,e.avatar),t.LSH)}}function Ns(i,s){if(1&i&&t._UZ(0,"azt-create-avatar",32),2&i){const e=t.oxw().$implicit;t.Q6J("nameCreateAvatar",e.fullName)("size",30)}}function Qs(i,s){if(1&i&&t._UZ(0,"img",33),2&i){const e=t.oxw().$implicit;t.Q6J("nameImages",e.nameImages)}}function Ds(i,s){if(1&i&&(t.TgZ(0,"p",30),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_ngay_sinh"),": "),t.xp6(3),t.Oqu(t.xi3(5,4,e.birthday,"dd-MM-yyyy"))}}function Js(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",15)(1,"button",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit,l=t.oxw(4);return t.KtG(l.selectStudentObj(a))}),t.TgZ(2,"div",19)(3,"div",20)(4,"div",21),t.YNc(5,qs,2,3,"img",22),t.YNc(6,Ns,1,2,"azt-create-avatar",23),t.qZA()(),t.TgZ(7,"div",24)(8,"div",25)(9,"p",26),t._uU(10),t.ALo(11,"slice"),t.qZA(),t.TgZ(12,"div",27),t.YNc(13,Qs,1,1,"img",28),t.qZA(),t.YNc(14,Ds,6,7,"p",29),t.TgZ(15,"p",30),t._uU(16),t.ALo(17,"mytranslate"),t.ALo(18,"mytranslate"),t.qZA()()()()()()}if(2&i){const e=s.$implicit;let n;t.xp6(1),t.Q6J("disabled",!e.examResultId),t.xp6(4),t.Q6J("ngIf",e.avatar&&""!=e.avatar),t.xp6(1),t.Q6J("ngIf",!e.avatar||""==e.avatar),t.xp6(3),t.s9C("matTooltip",e.fullName&&e.fullName.length>25?e.fullName:""),t.xp6(1),t.hij(" ",e.fullName&&e.fullName.length>25?t.Dn7(11,8,e.fullName,0,25)+"..":e.fullName," "),t.xp6(3),t.Q6J("ngIf",e.nameImages&&(null!==(n=e.studentId)&&void 0!==n?n:0)<=0),t.xp6(1),t.Q6J("ngIf",e.birthday),t.xp6(2),t.hij(" ",e.examResultId?t.lcZ(17,12,"lang_auto_Diem")+" "+e.mark:t.lcZ(18,14,"lang_auto_chua_co_diem")," ")}}function Hs(i,s){if(1&i&&(t.TgZ(0,"div",9)(1,"div",10)(2,"h3",11),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",12),t.YNc(6,Ps,10,19,"div",13),t.qZA()(),t.TgZ(7,"div",14)(8,"h3",11),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",12),t.YNc(12,Js,19,16,"div",13),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,4,"lang_auto_danh_sach_lop")),t.xp6(3),t.Q6J("ngForOf",e.dataProcess.classroomObjs),t.xp6(3),t.Oqu(t.lcZ(10,6,"lang_auto_danh_sach_hoc_sinh")),t.xp6(3),t.Q6J("ngForOf",e.studentInClassroom)}}function zs(i,s){1&i&&(t.TgZ(0,"div",5)(1,"div",6),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&i&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_giao_vien_chua_cho_xem_ket_qua_thi")," "))}function Ys(i,s){if(1&i&&(t.YNc(0,Hs,13,8,"div",7),t.YNc(1,zs,4,3,"ng-template",null,8,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf",null==n.dataProcess.classroomObjs?null:n.dataProcess.classroomObjs.length)("ngIfElse",e)}}function Rs(i,s){if(1&i&&(t.YNc(0,Us,5,3,"div",3),t.YNc(1,Ys,3,2,"ng-template",null,4,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw();t.Q6J("ngIf",n.dataProcess.errorMessage&&""!==n.dataProcess.errorMessage)("ngIfElse",e)}}let zt=(()=>{class i extends q.Q{constructor(e,n,o,a){super(e),this.commonService=e,this.frontOfflineShareService=n,this.activeRoute=o,this.baseApiService=a,this.backToLink="",this.dataProcess={},this.returnLink="",this.studentInClassroom=[],this.offlineCodeId="",this.indexClassroom=0}ngOnInit(){var e,n;let o=this.commonService.getMyParam(this.activeRoute,"hash_id");this.offlineCodeId=null!==(e=this.commonService.getMyParam(this.activeRoute,"offline_code"))&&void 0!==e?e:"",this.returnLink="/test/share-offline-result/"+o+"/"+this.offlineCodeId+"/"+this.indexClassroom,this.backToLink="/student/dashboard/0",this.indexClassroom=Number(null!==(n=this.commonService.getMyParam(this.activeRoute,"index"))&&void 0!==n?n:"0"),this.getData(),super.ngOnInit()}getData(){let e=this.commonService.getMyParam(this.activeRoute,"hash_id");e&&this.offlineCodeId&&(this.initStatusObj(),this.subscriptions.add(this.frontOfflineShareService.apiFrontOfflineShareGetExamClassroomObjsGet(e,this.offlineCodeId).subscribe(n=>{var o,a,l,r;1==n.success?(this.dataProcess=null!==(o=n.data)&&void 0!==o?o:{},(null===(a=this.dataProcess.classroomObjs)||void 0===a?void 0:a.length)&&this.dataProcess.classroomObjs.length>0&&(this.studentInClassroom=null!==(l=this.dataProcess.classroomObjs[this.indexClassroom].studentObjs)&&void 0!==l?l:[]),this.successStatusObj()):this.errorStatusObj(null!==(r=n.message)&&void 0!==r?r:"",!0)})))}selectClassroom(e){var n,o;this.studentInClassroom=null!==(o=null===(n=this.dataProcess.classroomObjs)||void 0===n?void 0:n[e].studentObjs)&&void 0!==o?o:[],this.indexClassroom=e}selectStudentObj(e){var n,o,a,l,r;let _=this.commonService.getMyParam(this.activeRoute,"hash_id");this.returnLink="/test/share-offline-result/"+_+"/"+this.offlineCodeId+"/"+this.indexClassroom,this.myNavigationWithQueryString(`/test/answer-test/${null!==(o=null===(n=this.dataProcess.examObj)||void 0===n?void 0:n.tenantId)&&void 0!==o?o:0}/${null!==(l=null===(a=this.dataProcess.examObj)||void 0===a?void 0:a.categoryId)&&void 0!==l?l:0}/${null===(r=this.dataProcess.examObj)||void 0===r?void 0:r.hashId}/${e.examResultId}`,`?offline=${this.offlineCodeId}&backto=${this.returnLink}`)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.v),t.Y36(D.bF),t.Y36(Q.gz),t.Y36(it._))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-share-offline-result"]],features:[t.qOj],decls:4,vars:4,consts:[[3,"headerTitle","headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","block-empty mt-5",4,"ngIf","ngIfElse"],["noErrorMessage",""],[1,"block-empty","mt-5"],["role","alert",1,"alert","alert-danger","text-center"],["class","offline-share mt-5",4,"ngIf","ngIfElse"],["noClassroom",""],[1,"offline-share","mt-5"],[1,"block-main"],[1,"font-medium","mb-3"],[1,"grid","grid-cols-12"],["class","col-span-12 sm:col-span-12 md:col-span-4 lg:col-span-3 mb-3 px-2",4,"ngFor","ngForOf"],[1,"block-main","mt-3"],[1,"col-span-12","sm:col-span-12","md:col-span-4","lg:col-span-3","mb-3","px-2"],[1,"btn","w-full","h-12",3,"ngClass","click"],[1,"text-center",3,"matTooltip"],[1,"flex","items-center","p-3","rounded-md","bg-slate-100","dark:bg-darkmode-300","w-full",2,"min-height","80px",3,"disabled","click"],[1,"grid","grid-cols-12","gap-2","ml-0","mr-0","justify-content-between",2,"width","100%"],[1,"col-span-3"],[1,"flex","items-center",2,"height","100%","justify-content","center"],["style","vertical-align: middle; margin-top: 2px; border-radius: 50%","width","30","height","30",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-span-9","pl-0"],[1,"text-left"],[1,"h5","mb-1","card-custom-title","font-bold",3,"matTooltip"],[1,"block-img"],["class","stdinfo-fullname mb-1","style","max-width: 100%!important; height: auto","appDrawNameImage","","loading","lazy",3,"nameImages",4,"ngIf"],["class","text-xs mb-0",4,"ngIf"],[1,"text-xs","mb-0"],["width","30","height","30",2,"vertical-align","middle","margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],["appDrawNameImage","","loading","lazy",1,"stdinfo-fullname","mb-1",2,"max-width","100%!important","height","auto",3,"nameImages"]],template:function(e,n){if(1&e&&(t.TgZ(0,"student-layout",0),t.YNc(1,Ls,1,0,"azt-loading-effect",1),t.YNc(2,Rs,3,2,"ng-template",null,2,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.Q6J("headerTitle","K\u1ebft qu\u1ea3 thi Offline")("headerBackTolink",n.backToLink),t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[T.mk,T.sg,T.O5,ot.gM,et.Q,Dt.t,js.L,nt.L,T.OU,T.uU,S.bT,S.GT],encapsulation:2}),i})();var Gs=g(73828);function Bs(i,s){1&i&&t._UZ(0,"azt-loading-effect")}function Ks(i,s){if(1&i&&(t.TgZ(0,"div",2),t._UZ(1,"azt-test-result-tracking",3),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("dataResultObjs",e.dataResultObjs)("dataScrollObjs",e.dataScrollObjs)}}const Ws=[{path:"",component:Es,canActivate:[Vt.J],children:[{path:":hash_id",component:Ms},{path:"category/:tenant_id/:cate_id/:page",component:za},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:Te},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:Io},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:ne},{path:"test-result-tracking/:result_id/:hash_id",component:(()=>{class i extends q.Q{constructor(e,n,o,a){super(o),this.activeRoute=e,this.frontExamResultService=n,this.commonService=o,this.zipdataService=a,this.dataResultObjs=[],this.dataScrollObjs=[],this.backToLink="",this.examHashId=""}processData(e){if(e)for(var n=0;n<e.length;n++)if("scroll"!=e[n][0]){var o={index:e[n][0],alpha:e[n][1],key:e[n][2],questionId:Number(e[n][3]),second:Number(e[n][4])};this.dataResultObjs.push(o)}else{var a={scrollPos:Number(e[n][1]),second:Number(e[n][2])};this.dataScrollObjs.push(a)}}getData(e){this.initStatusObj(),this.frontExamResultService.apiFrontExamResultGetExamWithExamAnswerGet(this.examHashId,e).subscribe(n=>{var o,a,l,r,_,m,c,d;if(1==n.success){var h=this.castJsonToObj(this.zipdataService.decodeContentGzip(null!==(l=null===(a=null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.resultTrack)||void 0===a?void 0:a.trackData)&&void 0!==l?l:""));h&&this.processData(h),this.backToLink="/admin/testbank/exam-results-list/"+(null!==(_=null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.examObj)&&void 0!==_&&_.categoryId?n.data.examObj.categoryId:0)+"/"+(null===(c=null===(m=null==n?void 0:n.data)||void 0===m?void 0:m.examObj)||void 0===c?void 0:c.id)+"/0",this.successStatusObj()}else this.errorStatusObj(null!==(d=n.message)&&void 0!==d?d:"",!0)})}ngOnInit(){var e;this.commonService.translateMetaData({title:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",description:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",image:"lang_cms_test_image"});let n=Number(this.activeRoute.snapshot.paramMap.get("result_id"));this.examHashId=null!==(e=this.activeRoute.snapshot.paramMap.get("hash_id"))&&void 0!==e?e:"",this.getData(n),super.ngOnInit()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Q.gz),t.Y36(yt.C),t.Y36(L.v),t.Y36(It.n))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-test-front-result-tracking"]],features:[t.qOj],decls:4,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"container-fluid","mt-3","mb-5"],[3,"dataResultObjs","dataScrollObjs"]],template:function(e,n){if(1&e&&(t.TgZ(0,"student-layout"),t.YNc(1,Bs,1,0,"azt-loading-effect",0),t.YNc(2,Ks,2,2,"ng-template",null,1,t.W1O),t.qZA()),2&e){const o=t.MAs(3);t.xp6(1),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",o)}},dependencies:[T.O5,et.Q,Gs.$,nt.L]}),i})()},{path:"share-offline-result/:hash_id/:offline_code",component:zt},{path:"share-offline-result/:hash_id/:offline_code/:index",component:zt}]}];let Vs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[Q.Bz.forChild(Ws),Q.Bz,Tt.fQ]}),i})(),Xs=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[Q.Bz,T.ez,$t.j,Rt.Z_,Vs,x.u5,x.UX,bt.Is,Kt.Z,Gt.xC,wt.QG,Bt.W,Wt.t]}),i})()}}]);