!function(){function e(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,a=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw a}}}}function t(e,t){return i(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,i=!1,a=void 0;try{for(var c,r=e[Symbol.iterator]();!(o=(c=r.next()).done)&&(n.push(c.value),!t||n.length!==t);o=!0);}catch(s){i=!0,a=s}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return n}(e,t)||c(e,t)||o()}function n(e){return i(e)||r(e)||c(e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){if(Array.isArray(e))return e}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||r(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function r(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{fZgH:function(o,i,c){"use strict";c.r(i),c.d(i,"HomeworkModule",function(){return Si});var r=c("ofXK"),s=c("3Pt+"),d=c("0IaG"),h=c("tyNb"),p=c("fB2i"),k=c("IkSl"),_=c("Zhhu"),w=c("sOeQ"),y=c("vvyD"),x=c("quSY"),O=c("itXk"),S=c("PYj7"),U=c("gm2p"),V=c("fXoL"),j=c("oUVn"),C=c("Avyq"),D=c("ZS4w"),T=c("ATyy"),P=c("++0c"),I=c("AkFM"),M=c("FzGO"),R=["drawer"],A=["boxContent"];function N(e,t){1&e&&V.Qb(0,"azt-loading-effect")}function E(e,t){if(1&e){var n=V.Wb();V.Vb(0,"app-delete-homework",9),V.cc("closeDialog",function(e){return V.Ec(n),V.gc(3).closeDeleteHomework(e)}),V.Ub()}if(2&e){var o=V.gc(3);V.nc("data",o.deleteHomeworkData)}}function H(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Vb(1,"azt-preview-media",10),V.cc("closePreview",function(){return V.Ec(n),V.gc(3).onFileClose()}),V.Ub(),V.Ub()}if(2&e){var o=V.gc(3);V.Db(1),V.nc("fileOption",o.previewFile)}}function F(e,t){if(1&e&&(V.Vb(0,"div",11),V.Vb(1,"span"),V.Tc(2),V.hc(3,"mytranslate"),V.hc(4,"mytranslate"),V.Ub(),V.Ub()),2&e){var n=V.gc(3);V.Db(2),V.Wc("",V.ic(3,2,"lang_homework_homework_score_list_not_search_data"),"! ","lang_core_not_found_classroom_or_homework"==n.errorMessage?"lang_homework_homework_score_list_class_maybe_delete":V.ic(4,4,""),"")}}function L(e,t){if(1&e&&(V.Vb(0,"p",89),V.Tc(1),V.hc(2,"mytranslate"),V.hc(3,"date"),V.Ub()),2&e){var n=V.gc(4);V.Db(1),V.Wc("",V.ic(2,2,"lang_homework_homework_score_list_dealine"),": ",V.jc(3,4,n.homeworkObj.deadline,"dd/MM/yyyy HH:mm"),"")}}function z(e,t){1&e&&(V.Vb(0,"p",89),V.Tc(1),V.hc(2,"mytranslate"),V.Ub()),2&e&&(V.Db(1),V.Uc(V.ic(2,1,"lang_homework_homework_score_list_dealine_not_time")))}function B(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",97),V.Vb(1,"div",98),V.cc("click",function(){V.Ec(n);var e=t.$implicit;return V.gc(6).onShowFile(e,-1)}),V.Vb(2,"mat-icon",99),V.Tc(3," text_snippet"),V.Ub(),V.Vb(4,"span",100),V.Tc(5),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=t.$implicit,i=V.gc(6);V.Db(4),V.nc("matTooltip",i.getFileName(o)),V.Db(1),V.Uc(i.getFileName(o))}}function W(e,t){if(1&e&&(V.Vb(0,"div",95),V.Rc(1,B,6,2,"div",96),V.Ub()),2&e){var n=V.gc(5);V.Db(1),V.nc("ngForOf",n.homeworkObj.fileObjs)}}function G(e,t){if(1&e&&V.Qb(0,"div",101),2&e){var n=V.gc(5);V.nc("innerHTML",n.homeworkObj.content,V.Fc)}}var J=function(e){return[e]},Q=function(e){return{backTo:e}};function q(e,t){if(1&e&&(V.Vb(0,"a",102),V.hc(1,"mylocalize"),V.Vb(2,"mat-icon",103),V.Tc(3,"edit"),V.Ub(),V.Vb(4,"span",104),V.Tc(5),V.hc(6,"mytranslate"),V.Ub(),V.Ub()),2&e){var n=V.gc(5);V.nc("routerLink",V.tc(7,J,V.ic(1,3,"/admin/homework/add-new-homework/"+n.homeworkObj.id+"/"+n.homeworkHashId)))("queryParams",V.tc(9,Q,n.backLink)),V.Db(5),V.Uc(V.ic(6,5,"lang_buttom_edit"))}}function $(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",105),V.cc("click",function(){return V.Ec(n),V.gc(5).deleteHomework()}),V.Vb(1,"mat-icon",103),V.Tc(2,"delete"),V.Ub(),V.Vb(3,"span",104),V.Tc(4),V.hc(5,"mytranslate"),V.Ub(),V.Ub()}2&e&&(V.Db(4),V.Uc(V.ic(5,1,"lang_buttom_delete")))}function Y(e,t){if(1&e&&(V.Rc(0,W,2,1,"div",90),V.Rc(1,G,1,1,"div",91),V.Vb(2,"div",92),V.Rc(3,q,7,11,"a",93),V.hc(4,"editPermission"),V.Rc(5,$,6,3,"a",94),V.hc(6,"deletePermission"),V.Ub()),2&e){var n=V.gc(4);V.nc("ngIf",n.homeworkObj.files&&n.homeworkObj.files.length>0),V.Db(1),V.nc("ngIf",n.homeworkObj.content&&""!=n.homeworkObj.content),V.Db(2),V.nc("ngIf",V.jc(4,4,n.homeworkObj.permissionObj,"homework")),V.Db(2),V.nc("ngIf",V.jc(6,7,n.homeworkObj.permissionObj,"homework"))}}function K(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",106),V.cc("click",function(){return V.Ec(n),V.gc(4).toggleShowActions()}),V.Vb(1,"mat-icon",103),V.Tc(2,"expand_more"),V.Ub(),V.Ub()}}function X(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",106),V.cc("click",function(){return V.Ec(n),V.gc(4).toggleShowActions()}),V.Vb(1,"mat-icon",103),V.Tc(2,"expand_less"),V.Ub(),V.Ub()}}function Z(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",107),V.cc("click",function(){return V.Ec(n),V.gc(4).openDrawer()}),V.hc(1,"mytranslate"),V.Vb(2,"mat-icon",108),V.Tc(3," menu_open"),V.Ub(),V.Ub()}2&e&&V.oc("matTooltip",V.ic(1,1,"lang_homework_homework_score_list_open_menu"))}function ee(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",107),V.cc("click",function(){return V.Ec(n),V.gc(4).closeDrawer()}),V.hc(1,"mytranslate"),V.Vb(2,"mat-icon",109),V.Tc(3,"menu_open "),V.Ub(),V.Ub()}2&e&&V.oc("matTooltip",V.ic(1,1,"lang_homework_homework_score_list_close_menu"))}function te(e,t){if(1&e&&(V.Vb(0,"p",89),V.Tc(1),V.hc(2,"mytranslate"),V.hc(3,"date"),V.Ub()),2&e){var n=V.gc(4);V.Db(1),V.Wc("",V.ic(2,2,"lang_homework_homework_score_list_dealine"),": ",V.jc(3,4,n.homeworkObj.deadline,"dd/MM/yyyy HH:mm"),"")}}function ne(e,t){1&e&&(V.Vb(0,"p",89),V.Tc(1),V.hc(2,"mytranslate"),V.Ub()),2&e&&(V.Db(1),V.Uc(V.ic(2,1,"lang_homework_homework_score_list_dealine_not_time")))}function oe(e,t){if(1&e&&(V.Vb(0,"a",110),V.hc(1,"mylocalize"),V.Vb(2,"mat-icon",111),V.Tc(3," edit"),V.Ub(),V.Vb(4,"span",104),V.Tc(5),V.hc(6,"mytranslate"),V.Ub(),V.Ub()),2&e){var n=V.gc(4);V.nc("routerLink",V.tc(7,J,V.ic(1,3,"/admin/homework/add-new-homework/"+n.homeworkObj.id+"/"+n.homeworkHashId)))("queryParams",V.tc(9,Q,n.backLink)),V.Db(5),V.Uc(V.ic(6,5,"lang_buttom_edit"))}}function ie(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",112),V.cc("click",function(){return V.Ec(n),V.gc(4).deleteHomework()}),V.Vb(1,"mat-icon",113),V.Tc(2," delete"),V.Ub(),V.Vb(3,"span",114),V.Tc(4),V.hc(5,"mytranslate"),V.Ub(),V.Ub()}2&e&&(V.Db(4),V.Uc(V.ic(5,1,"lang_buttom_delete")))}function ae(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",97),V.Vb(1,"div",98),V.cc("click",function(){V.Ec(n);var e=t.$implicit;return V.gc(6).onShowFile(e,-1)}),V.Vb(2,"mat-icon",99),V.Tc(3," text_snippet"),V.Ub(),V.Vb(4,"span",100),V.Tc(5),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=t.$implicit,i=V.gc(6);V.Db(4),V.nc("matTooltip",i.getFileName(o)),V.Db(1),V.Uc(i.getFileName(o))}}function ce(e,t){if(1&e&&(V.Vb(0,"div",95),V.Rc(1,ae,6,2,"div",96),V.Ub()),2&e){var n=V.gc(5);V.Db(1),V.nc("ngForOf",n.homeworkObj.fileObjs)}}function re(e,t){if(1&e&&V.Qb(0,"div",117),2&e){var n=V.gc(5);V.nc("innerHTML",n.homeworkObj.content,V.Fc)}}function se(e,t){if(1&e&&(V.Rc(0,ce,2,1,"div",115),V.Rc(1,re,1,1,"div",116)),2&e){var n=V.gc(4);V.nc("ngIf",n.homeworkObj.files&&n.homeworkObj.files.length>0),V.Db(1),V.nc("ngIf",n.homeworkObj.content&&""!=n.homeworkObj.content)}}function le(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",106),V.cc("click",function(){return V.Ec(n),V.gc(4).toggleShowActions()}),V.Vb(1,"mat-icon",103),V.Tc(2,"expand_more "),V.Ub(),V.Ub()}}function de(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",106),V.cc("click",function(){return V.Ec(n),V.gc(4).toggleShowActions()}),V.Vb(1,"mat-icon",103),V.Tc(2,"expand_less "),V.Ub(),V.Ub()}}function be(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",118),V.Vb(1,"div",78),V.Vb(2,"form",48),V.Vb(3,"input",49),V.cc("keyup.enter",function(){return V.Ec(n),V.gc(4).search()}),V.hc(4,"mytranslate"),V.Ub(),V.Vb(5,"div",50),V.cc("click",function(){return V.Ec(n),V.gc(4).search()}),V.Vb(6,"mat-icon",51),V.Tc(7," search "),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(8,"div",119),V.Vb(9,"div",53),V.Vb(10,"button",120),V.Vb(11,"span",55),V.Tc(12),V.hc(13,"mytranslate"),V.Ub(),V.Vb(14,"mat-icon",56),V.Tc(15,"filter_alt "),V.Ub(),V.Ub(),V.Ub(),V.Vb(16,"mat-menu",57,58),V.Vb(18,"a",59),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(19,"span",60),V.Tc(20),V.hc(21,"mytranslate"),V.Ub(),V.Vb(22,"mat-slide-toggle",61),V.cc("change",function(e){return V.Ec(n),V.gc(4).toggleFilterSubmitted(e)}),V.Ub(),V.Ub(),V.Vb(23,"a",59),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(24,"span",60),V.Tc(25),V.hc(26,"mytranslate"),V.Ub(),V.Vb(27,"mat-slide-toggle",61),V.cc("change",function(e){return V.Ec(n),V.gc(4).toggleFilterNotSubmit(e)}),V.Ub(),V.Ub(),V.Vb(28,"a",59),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(29,"span",60),V.Tc(30),V.hc(31,"mytranslate"),V.Ub(),V.Vb(32,"mat-slide-toggle",61),V.cc("change",function(e){return V.Ec(n),V.gc(4).toggleFilterMarked(e)}),V.Ub(),V.Ub(),V.Vb(33,"a",59),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(34,"span",60),V.Tc(35),V.hc(36,"mytranslate"),V.Ub(),V.Vb(37,"mat-slide-toggle",61),V.cc("change",function(e){return V.Ec(n),V.gc(4).toggleFilterReSubmit(e)}),V.Ub(),V.Ub(),V.Vb(38,"div",62),V.Vb(39,"a",63),V.cc("click",function(){return V.Ec(n),V.gc(4).confirmFilter()}),V.Vb(40,"span",64),V.Tc(41),V.hc(42,"mytranslate"),V.Ub(),V.Ub(),V.Vb(43,"a",63),V.cc("click",function(){return V.Ec(n),V.gc(4).clearFilter()}),V.Vb(44,"span",55),V.Tc(45),V.hc(46,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=V.Ac(17),i=V.gc(4);V.Db(2),V.nc("formGroup",i.form),V.Db(1),V.oc("placeholder",V.ic(4,14,"lang_homework_homework_score_list_search")),V.Db(7),V.nc("matMenuTriggerFor",o),V.Db(2),V.Uc(V.ic(13,16,"lang_homework_homework_score_list_sort")),V.Db(8),V.Vc(" ",V.ic(21,18,"lang_homework_homework_score_list_sort_student_not_marking")," "),V.Db(2),V.nc("checked",i.isSubmitted),V.Db(3),V.Vc(" ",V.ic(26,20,"lang_homework_homework_score_list_sort_student_not_yet_paid")," "),V.Db(2),V.nc("checked",i.isNotSubmit),V.Db(3),V.Vc(" ",V.ic(31,22,"lang_homework_homework_score_list_sort_mark")," "),V.Db(2),V.nc("checked",i.isMarked),V.Db(3),V.Vc(" ",V.ic(36,24,"lang_homework_homework_score_list_sort_student_resubmit")," "),V.Db(2),V.nc("checked",i.mustReSubmit),V.Db(4),V.Vc(" ",V.ic(42,26,"lang_buttom_agree")," "),V.Db(4),V.Vc(" ",V.ic(46,28,"lang_buttom_delete"),"")}}function ue(e,t){1&e&&(V.Vb(0,"div",77),V.Vb(1,"p",121),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Ub()),2&e&&(V.Db(2),V.Uc(V.ic(3,1,"lang_homework_homework_score_list_list_submit")))}function me(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",122),V.Vb(1,"div",123),V.Vb(2,"p",121),V.Tc(3),V.hc(4,"mytranslate"),V.Vb(5,"a",42),V.hc(6,"mylocalize"),V.Tc(7),V.hc(8,"slice"),V.Ub(),V.Ub(),V.Ub(),V.Vb(9,"div",124),V.Vb(10,"div",65),V.Vb(11,"button",66),V.Vb(12,"mat-icon",67),V.Tc(13,"menu"),V.Ub(),V.Ub(),V.Ub(),V.Vb(14,"mat-menu",57,68),V.Vb(16,"a",69),V.cc("click",function(){return V.Ec(n),V.gc(4).exportToExcel("homework")}),V.Vb(17,"mat-icon",70),V.Tc(18,"file_download"),V.Ub(),V.Vb(19,"span",71),V.hc(20,"mytranslate"),V.Tc(21),V.hc(22,"mytranslate"),V.Ub(),V.Ub(),V.Vb(23,"a",69),V.cc("click",function(){return V.Ec(n),V.gc(4).exportToPDF()}),V.Vb(24,"mat-icon",70),V.Tc(25,"picture_as_pdf"),V.Ub(),V.Vb(26,"span",71),V.hc(27,"mytranslate"),V.Tc(28),V.hc(29,"mytranslate"),V.Ub(),V.Ub(),V.Vb(30,"a",63),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(31,"mat-icon",70),V.Tc(32,"sort"),V.Ub(),V.Vb(33,"span",71),V.hc(34,"mytranslate"),V.Tc(35),V.hc(36,"mytranslate"),V.Ub(),V.Vb(37,"mat-slide-toggle",72),V.cc("change",function(e){return V.Ec(n),V.gc(4).sortByTimeDESC(e)}),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=V.Ac(15),i=V.gc(4);V.Db(3),V.Vc("",V.ic(4,12,"lang_homework_homework_score_list_list_submit_class")," : "),V.Db(2),V.oc("matTooltip",i.classObj.name),V.nc("routerLink",V.tc(32,J,V.ic(6,14,"/admin/student/class-details/"+i.classId))),V.Db(2),V.Vc("",i.classObj.name&&i.classObj.name.length>20?V.kc(8,16,i.classObj.name,0,20)+"..":i.classObj.name," "),V.Db(4),V.nc("matMenuTriggerFor",o),V.Db(8),V.oc("matTooltip",V.ic(20,20,"lang_homework_homework_score_list_export_excel")),V.Db(2),V.Vc(" ",V.ic(22,22,"lang_homework_homework_score_list_export_excel"),""),V.Db(5),V.oc("matTooltip",V.ic(27,24,"lang_homework_homework_score_list_export_pdf")),V.Db(2),V.Vc(" ",V.ic(29,26,"lang_homework_homework_score_list_export_pdf"),""),V.Db(5),V.oc("matTooltip",V.ic(34,28,"lang_homework_homework_score_list_sort_time_submit")),V.Db(2),V.Vc(" ",V.ic(36,30,"lang_homework_homework_score_list_sort_time_submit")," "),V.Db(2),V.nc("checked",i.isSortByTimeDESC)}}function he(e,t){1&e&&(V.Vb(0,"div",34),V.Vb(1,"div",125),V.Vb(2,"p",126),V.Tc(3),V.hc(4,"mytranslate"),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(3),V.Vc("",V.ic(4,1,"lang_not_found_search"),"!"))}function ge(e,t){1&e&&V.Qb(0,"azt-loading-effect")}function pe(e,t){if(1&e){var n=V.Wb();V.Vb(0,"app-student-homework-result",127),V.cc("goToResult",function(e){return V.Ec(n),V.gc(4).goToTestReview(e)}),V.Ub()}if(2&e){var o=V.gc(4);V.nc("isSortByTime",o.isSortByTimeDESC)("backToLink",o.backToLink)("searchKey",o.form.controls.searchContent.value)("studentLists",o.dataListStudents)("isNotTestedYet",o.isNotTestedYet)("isOpenSideNav",o.isOpenSideNav)("obj",o.homeworkObj)}}var fe=function(e,t){return{"w-60":e,"w-30":t}},ve=function(e){return{"px-0":e}},ke=function(e){return{"justify-content-center":e}};function _e(e,t){if(1&e){var n=V.Wb();V.Vb(0,"mat-drawer-container",12),V.Vb(1,"mat-drawer",13,14),V.Vb(3,"div",15),V.Vb(4,"div",16),V.Vb(5,"div",17),V.Vb(6,"div",18),V.Vb(7,"p",19),V.Tc(8),V.Ub(),V.Ub(),V.Ub(),V.Vb(9,"div",20),V.Vb(10,"div",21),V.Vb(11,"button",22),V.cc("click",function(){return V.Ec(n),V.gc(3).showCopySuccess()}),V.Vb(12,"mat-icon",23),V.Tc(13,"file_copy"),V.Ub(),V.Tc(14," Copy link "),V.Ub(),V.Ub(),V.Ub(),V.Vb(15,"div",24),V.Qb(16,"azt-download-qr-code",25),V.Ub(),V.Ub(),V.Vb(17,"div",18),V.Vb(18,"p",26),V.Tc(19),V.hc(20,"mytranslate"),V.hc(21,"date"),V.Ub(),V.Ub(),V.Vb(22,"div",18),V.Rc(23,L,4,7,"p",27),V.Rc(24,z,3,3,"p",27),V.Ub(),V.Vb(25,"div"),V.Qb(26,"azt-share",28),V.Ub(),V.Rc(27,Y,7,10,"ng-template",29),V.Vb(28,"div",30),V.Rc(29,K,3,0,"a",31),V.Rc(30,X,3,0,"a",31),V.Ub(),V.Ub(),V.Ub(),V.Vb(31,"mat-drawer-content",32),V.Vb(32,"div",33),V.Vb(33,"div",34,35),V.Vb(35,"div",36),V.Vb(36,"div",37),V.Vb(37,"div",38),V.Vb(38,"div",39),V.Rc(39,Z,4,3,"a",40),V.Rc(40,ee,4,3,"a",40),V.Vb(41,"p",41),V.Vb(42,"a",42),V.hc(43,"mylocalize"),V.Tc(44),V.hc(45,"slice"),V.Ub(),V.Vb(46,"mat-icon",43),V.Tc(47," chevron_right"),V.Ub(),V.Vb(48,"span",44),V.Tc(49),V.hc(50,"slice"),V.Ub(),V.Ub(),V.Ub(),V.Vb(51,"div",45),V.Vb(52,"div",46),V.Vb(53,"div",47),V.Vb(54,"form",48),V.Vb(55,"input",49),V.cc("keyup.enter",function(){return V.Ec(n),V.gc(3).search()}),V.hc(56,"mytranslate"),V.Ub(),V.Vb(57,"div",50),V.cc("click",function(){return V.Ec(n),V.gc(3).search()}),V.Vb(58,"mat-icon",51),V.Tc(59," search "),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(60,"div",52),V.Vb(61,"div",53),V.Vb(62,"button",54),V.Vb(63,"span",55),V.Tc(64),V.hc(65,"mytranslate"),V.Ub(),V.Vb(66,"mat-icon",56),V.Tc(67,"filter_alt "),V.Ub(),V.Ub(),V.Ub(),V.Vb(68,"mat-menu",57,58),V.Vb(70,"a",59),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(71,"span",60),V.Tc(72),V.hc(73,"mytranslate"),V.Ub(),V.Vb(74,"mat-slide-toggle",61),V.cc("change",function(e){return V.Ec(n),V.gc(3).toggleFilterSubmitted(e)}),V.Ub(),V.Ub(),V.Vb(75,"a",59),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(76,"span",60),V.Tc(77),V.hc(78,"mytranslate"),V.Ub(),V.Vb(79,"mat-slide-toggle",61),V.cc("change",function(e){return V.Ec(n),V.gc(3).toggleFilterNotSubmit(e)}),V.Ub(),V.Ub(),V.Vb(80,"a",59),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(81,"span",60),V.Tc(82),V.hc(83,"mytranslate"),V.Ub(),V.Vb(84,"mat-slide-toggle",61),V.cc("change",function(e){return V.Ec(n),V.gc(3).toggleFilterMarked(e)}),V.Ub(),V.Ub(),V.Vb(85,"a",59),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(86,"span",60),V.Tc(87),V.hc(88,"mytranslate"),V.Ub(),V.Vb(89,"mat-slide-toggle",61),V.cc("change",function(e){return V.Ec(n),V.gc(3).toggleFilterReSubmit(e)}),V.Ub(),V.Ub(),V.Vb(90,"div",62),V.Vb(91,"a",63),V.cc("click",function(){return V.Ec(n),V.gc(3).confirmFilter()}),V.Vb(92,"span",64),V.Tc(93),V.hc(94,"mytranslate"),V.Ub(),V.Ub(),V.Vb(95,"a",63),V.cc("click",function(){return V.Ec(n),V.gc(3).clearFilter()}),V.Vb(96,"span",55),V.Tc(97),V.hc(98,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(99,"div"),V.Vb(100,"div",65),V.Vb(101,"button",66),V.Vb(102,"mat-icon",67),V.Tc(103,"menu"),V.Ub(),V.Ub(),V.Ub(),V.Vb(104,"mat-menu",57,68),V.Vb(106,"a",69),V.cc("click",function(){return V.Ec(n),V.gc(3).exportToExcel("homework")}),V.Vb(107,"mat-icon",70),V.Tc(108,"file_download"),V.Ub(),V.Vb(109,"span",71),V.hc(110,"mytranslate"),V.Tc(111),V.hc(112,"mytranslate"),V.Ub(),V.Ub(),V.Vb(113,"a",69),V.cc("click",function(){return V.Ec(n),V.gc(3).exportToPDF()}),V.Vb(114,"mat-icon",70),V.Tc(115,"picture_as_pdf"),V.Ub(),V.Vb(116,"span",71),V.hc(117,"mytranslate"),V.Tc(118),V.hc(119,"mytranslate"),V.Ub(),V.Ub(),V.Vb(120,"a",63),V.cc("click",function(e){return e.stopPropagation()}),V.Vb(121,"mat-icon",70),V.Tc(122,"sort"),V.Ub(),V.Vb(123,"span",71),V.hc(124,"mytranslate"),V.Tc(125),V.hc(126,"mytranslate"),V.Ub(),V.Vb(127,"mat-slide-toggle",72),V.cc("change",function(e){return V.Ec(n),V.gc(3).sortByTimeDESC(e)}),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(128,"div",73),V.Vb(129,"div",16),V.Vb(130,"div",74),V.Vb(131,"div",18),V.Vb(132,"p",19),V.Tc(133),V.Ub(),V.Ub(),V.Ub(),V.Vb(134,"div",75),V.Vb(135,"div",21),V.Vb(136,"button",22),V.cc("click",function(){return V.Ec(n),V.gc(3).showCopySuccess()}),V.Vb(137,"mat-icon",23),V.Tc(138,"file_copy "),V.Ub(),V.Tc(139," Copy link "),V.Ub(),V.Ub(),V.Ub(),V.Vb(140,"div",76),V.Qb(141,"azt-download-qr-code",25),V.Ub(),V.Ub(),V.Vb(142,"div",16),V.Vb(143,"div",77),V.Vb(144,"div",18),V.Vb(145,"p",26),V.Tc(146),V.hc(147,"mytranslate"),V.hc(148,"date"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(149,"div",16),V.Vb(150,"div",78),V.Vb(151,"div",18),V.Rc(152,te,4,7,"p",27),V.Rc(153,ne,3,3,"p",27),V.Ub(),V.Ub(),V.Vb(154,"div",79),V.Vb(155,"div",80),V.Rc(156,oe,7,11,"a",81),V.hc(157,"editPermission"),V.Rc(158,ie,6,3,"a",82),V.hc(159,"deletePermission"),V.Ub(),V.Ub(),V.Vb(160,"div",77),V.Qb(161,"azt-share",28),V.Ub(),V.Ub(),V.Rc(162,se,2,2,"ng-template",29),V.Vb(163,"div",16),V.Vb(164,"div",77),V.Vb(165,"div",30),V.Rc(166,le,3,0,"a",31),V.Rc(167,de,3,0,"a",31),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Rc(168,be,47,30,"div",83),V.Vb(169,"div",84),V.Rc(170,ue,4,3,"div",85),V.Rc(171,me,38,34,"ng-template",null,86,V.Sc),V.Ub(),V.Rc(173,he,5,3,"div",87),V.Rc(174,ge,1,0,"azt-loading-effect",3),V.Rc(175,pe,1,7,"ng-template",29),V.Ub(),V.Qb(176,"app-excel-export",88),V.Ub(),V.Ub()}if(2&e){var o=V.Ac(69),i=V.Ac(105),a=V.Ac(172),c=V.gc(3);V.nc("hasBackdrop",c.hasBackdrop),V.Db(1),V.oc("opened",c.isOpenSideNav?"true":"false"),V.nc("mode",c.mode)("ngClass",V.uc(133,fe,c.isMobile,!c.isMobile)),V.Db(7),V.Uc(c.homeworkObj.name),V.Db(3),V.nc("cdkCopyToClipboard",c.copylinkToClipboard(c.homeworkObj.hashId?c.homeworkObj.hashId:"")),V.Db(5),V.nc("fileName","azota_score_list_qrcode_"+c.homeworkObj.hashId)("linkUrl",c.copylinkToClipboard(c.homeworkObj.hashId?c.homeworkObj.hashId:"")),V.Db(3),V.Wc("",V.ic(20,79,"lang_homework_homework_score_list_create_date"),": ",V.jc(21,81,c.homeworkObj.createdAt,"dd/MM/yyyy HH:mm"),""),V.Db(4),V.nc("ngIf",c.hasDeadline),V.Db(1),V.nc("ngIf",!c.hasDeadline),V.Db(2),V.nc("type",2)("typeObj","HOMEWORK")("id",c.homeworkObj.id)("permissionObj",c.homeworkObj.permissionObj),V.Db(1),V.nc("ngIf",c.isShowActions),V.Db(2),V.nc("ngIf",!c.isShowActions),V.Db(1),V.nc("ngIf",c.isShowActions),V.Db(2),V.nc("ngClass",V.tc(136,ve,c.isMobile)),V.Db(3),V.nc("ngClass",V.tc(138,ke,c.isMobile)),V.Db(2),V.nc("hidden",1==c.isMobile),V.Db(2),V.nc("ngIf",!c.isOpenSideNav||c.isMobile),V.Db(1),V.nc("ngIf",c.isOpenSideNav&&!c.isMobile),V.Db(2),V.oc("matTooltip",c.classObj.name),V.nc("routerLink",V.tc(140,J,V.ic(43,84,"/admin/student/class-details/"+c.classId))),V.Db(2),V.Vc("",c.classObj.name&&c.classObj.name.length>20?V.kc(45,86,c.classObj.name,0,20)+"..":c.classObj.name," "),V.Db(4),V.oc("matTooltip",c.homeworkObj.name),V.Db(1),V.Vc(" ",c.homeworkObj.name&&c.homeworkObj.name.length>40?V.kc(50,90,c.homeworkObj.name,0,40)+"..":c.homeworkObj.name," "),V.Db(5),V.nc("formGroup",c.form),V.Db(1),V.oc("placeholder",V.ic(56,94,"lang_homework_homework_score_list_search")),V.Db(7),V.nc("matMenuTriggerFor",o),V.Db(2),V.Uc(V.ic(65,96,"lang_homework_homework_score_list_sort")),V.Db(8),V.Vc(" ",V.ic(73,98,"lang_homework_homework_score_list_sort_student_not_marking")," "),V.Db(2),V.nc("checked",c.isSubmitted),V.Db(3),V.Vc(" ",V.ic(78,100,"lang_homework_homework_score_list_sort_student_not_yet_paid")," "),V.Db(2),V.nc("checked",c.isNotSubmit),V.Db(3),V.Vc(" ",V.ic(83,102,"lang_homework_homework_score_list_sort_mark")," "),V.Db(2),V.nc("checked",c.isMarked),V.Db(3),V.Vc(" ",V.ic(88,104,"lang_homework_homework_score_list_sort_student_resubmit")," "),V.Db(2),V.nc("checked",c.mustReSubmit),V.Db(4),V.Vc(" ",V.ic(94,106,"lang_buttom_agree")," "),V.Db(4),V.Vc(" ",V.ic(98,108,"lang_buttom_delete"),""),V.Db(4),V.nc("matMenuTriggerFor",i),V.Db(8),V.oc("matTooltip",V.ic(110,110,"lang_homework_homework_score_list_export_excel")),V.Db(2),V.Vc(" ",V.ic(112,112,"lang_homework_homework_score_list_export_excel"),""),V.Db(5),V.oc("matTooltip",V.ic(117,114,"lang_homework_homework_score_list_export_pdf")),V.Db(2),V.Vc(" ",V.ic(119,116,"lang_homework_homework_score_list_export_pdf"),""),V.Db(5),V.oc("matTooltip",V.ic(124,118,"lang_homework_homework_score_list_sort_time_submit")),V.Db(2),V.Vc(" ",V.ic(126,120,"lang_homework_homework_score_list_sort_time_submit")," "),V.Db(2),V.nc("checked",c.isSortByTimeDESC),V.Db(1),V.nc("hidden",0==c.isMobile),V.Db(5),V.Uc(c.homeworkObj.name),V.Db(3),V.nc("cdkCopyToClipboard",c.copylinkToClipboard(c.homeworkObj.hashId?c.homeworkObj.hashId:"")),V.Db(5),V.nc("fileName","azota_score_list_qrcode_"+c.homeworkObj.hashId)("linkUrl",c.copylinkToClipboard(c.homeworkObj.hashId?c.homeworkObj.hashId:"")),V.Db(5),V.Wc("",V.ic(147,122,"lang_homework_homework_score_list_create_date"),": ",V.jc(148,124,c.homeworkObj.createdAt,"dd/MM/yyyy HH:mm"),""),V.Db(6),V.nc("ngIf",c.hasDeadline),V.Db(1),V.nc("ngIf",!c.hasDeadline),V.Db(3),V.nc("ngIf",V.jc(157,127,c.homeworkObj.permissionObj,"homework")),V.Db(2),V.nc("ngIf",V.jc(159,130,c.homeworkObj.permissionObj,"homework")),V.Db(3),V.nc("type",2)("typeObj","HOMEWORK")("id",c.homeworkObj.id)("permissionObj",c.homeworkObj.permissionObj),V.Db(1),V.nc("ngIf",c.isShowActions),V.Db(4),V.nc("ngIf",!c.isShowActions),V.Db(1),V.nc("ngIf",c.isShowActions),V.Db(1),V.nc("ngIf",c.isMobile),V.Db(2),V.nc("ngIf",0==c.isMobile)("ngIfElse",a),V.Db(3),V.nc("ngIf",c.isNullSearchData),V.Db(1),V.nc("ngIf",1==c.isLoadingSearch),V.Db(1),V.nc("ngIf",!c.isNullSearchData&&0==c.isLoadingSearch),V.Db(1),V.nc("studentList",c.dataListStudents)("homeworkObj",c.homeworkObj)("currentDate",c.currentDate)("typeTable","homework")}}function we(e,t){1&e&&V.Qb(0,"div",128)}function ye(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Rc(1,E,1,1,"app-delete-homework",4),V.Rc(2,H,2,1,"div",3),V.Vb(3,"div",5),V.cc("resize",function(e){return V.Ec(n),V.gc(2).onResize(e)},!1,V.Dc),V.Rc(4,F,5,6,"div",6),V.Rc(5,_e,177,142,"mat-drawer-container",7),V.Ub(),V.Rc(6,we,1,0,"div",8),V.Ub()}if(2&e){var o=V.gc(2);V.Db(1),V.nc("ngIf",o.deleteHomeworkData.isShow),V.Db(1),V.nc("ngIf",o.isShowPreviewFile),V.Db(2),V.nc("ngIf",""!=o.errorMessage),V.Db(1),V.nc("ngIf",""==o.errorMessage),V.Db(1),V.nc("ngIf",1==o.isMobile)}}function xe(e,t){if(1&e&&V.Rc(0,ye,7,5,"div",3),2&e){var n=V.gc();V.nc("ngIf",n.homeworkObj)}}var Oe,Se=((Oe=function(e){m(o,e);var t=g(o);function o(e,n,i,a,c,r,d,b,u,m){var h;return l(this,o),(h=t.call(this,n)).dialog=e,h.commonService=n,h.localize=i,h.activeRoute=a,h.fb=c,h.answerService=r,h.zipdataService=d,h.sortService=b,h.browserStorageService=u,h.examFilterService=m,h.currentDate=new Date,h.homeworkId="",h.backLink="",h.classId=0,h.subscriptions=new x.a,h.form=new s.k({}),h.contentHeight=0,h.backUpHeight=0,h.backToLink="",h.hasBackdrop=!1,h.mode="side",h.isMobile=!1,h.isShowActions=!0,h.isOpenSideNav=!0,h.isHomeworkFlow=!0,h.isSortByTimeDESC=!1,h.isSubmitted=!1,h.isNotSubmit=!1,h.isMarked=!1,h.mustReSubmit=!1,h.isLoadingSearch=!1,h.deleteHomeworkData={homeworkObj:{},isShow:!1},h.homeworkUserList=[],h.studentObjs=[],h.homeworkObj={},h.classObj={},h.isNotTestedYet=!1,h.isNullSearchData=!1,h.hasDeadline=!1,h.isShowPreviewFile=!1,h.previewFile={},h.errorMessage="",h.keyFilter="",h.dataListStudents=[],h.homeworkHashId="",h}return b(o,[{key:"getData",value:function(){var e=this;this.initStatusObj(),this.subscriptions.add(this.answerService.apiAnswerGetStudentsHomeworkGet(Number(this.homeworkId),this.homeworkHashId,this.classId).subscribe(function(t){var n,o,i,a,c,r,s,l,d,b,u;if(1==t.success){if(e.errorMessage="",e.zipdataService.convertStudentsHomeworkObj(null===(n=t.data)||void 0===n?void 0:n.studentObjs),e.homeworkUserList=e.checkStatusStudent(null!==(i=null===(o=t.data)||void 0===o?void 0:o.studentObjs)&&void 0!==i?i:new Array),e.homeworkObj=e.parseHomeworkData(null!==(c=null===(a=t.data)||void 0===a?void 0:a.homeworkObj)&&void 0!==c?c:{}),e.classObj=null!==(s=null===(r=t.data)||void 0===r?void 0:r.classroomObj)&&void 0!==s?s:{},(null===(l=e.homeworkObj)||void 0===l?void 0:l.deadline)&&null!=e.homeworkObj.deadline&&""!=e.homeworkObj.deadline.toString()&&(e.hasDeadline=!0),0==e.homeworkUserList.length)return e.isNotTestedYet=!0,void e.errorStatusObj("NO_TESTED_YET");e.studentObjs=e.commonService.parseJson(JSON.stringify(e.homeworkUserList)),e.isNullSearchData=!1,setTimeout(function(){e.checkFilterValue()},0),e.getStatusSideNav();var m=e.browserStorageService.getSimpleStorage(e.homeworkId+"_azt_setting_sort_desc_submit_by_time");m&&"true"==m?(e.isSortByTimeDESC=!0,e.dataListStudents=e.checkSortListStudent(99,e.studentObjs)):(e.isSortByTimeDESC=!1,e.dataListStudents=e.checkSortListStudent(null!==(d=e.classObj.sortType)&&void 0!==d?d:0,e.studentObjs)),e.successStatusObj()}else e.errorMessage=null!==(b=t.message)&&void 0!==b?b:"",e.errorStatusObj(null!==(u=t.message)&&void 0!==u?u:"",!0)}))}},{key:"checkStatusStudent",value:function(e){for(var t,n,o=[],i=0;i<e.length;i++)o.push(Object.assign(Object.assign({},null==e?void 0:e[i]),{index:i})),e[i].confirmedAt&&e[i].confirmedAt&&o[i].index==i?o[i].isMarked=!0:null==e[i].answer||e[i].confirmedAt||o[i].index!=i?null==e[i].answer&&null!=e[i].answerHistory&&o[i].index==i?o[i].mustReSubmit=!0:o[i].isNotSubmit=!0:o[i].isSubmitted=!0,o[i].answerFileObjs=this.castJsonToObj(null!==(n=null===(t=e[i].answer)||void 0===t?void 0:t.files)&&void 0!==n?n:"");return o}},{key:"parseHomeworkData",value:function(e){var t=this.castObj(e);return(null==t?void 0:t.files)&&(t.fileObjs=this.commonService.parseJson(t.files)),this.zipdataService.convertHomeworkObj(null!=t?t:{}),t}},{key:"fillerArr",value:function(e,t){var n;t=this.commonService.convertVietnameseToEnglish(t);for(var o=[],i=0;i<e.length;i++)-1!=this.commonService.convertVietnameseToEnglish(null!==(n=e[i].fullName)&&void 0!==n?n:"").toLowerCase().indexOf(t.toLowerCase())&&o.push(e[i]);return o}},{key:"search",value:function(){var e,t;this.isLoadingSearch=!0;var n=this.commonService.getFormObj(this.form);if(""!=n.searchContent){var o=this.commonService.parseJson(JSON.stringify(this.checkSortListStudent(null!==(e=this.classObj.sortType)&&void 0!==e?e:0,this.studentObjs))),i=this.fillerArr(o,n.searchContent);this.dataListStudents=i,this.isLoadingSearch=!1}else this.isLoadingSearch=!1,this.homeworkUserList=this.studentObjs,this.dataListStudents=this.checkSortListStudent(null!==(t=this.classObj.sortType)&&void 0!==t?t:0,this.studentObjs),this.isNullSearchData=!1,this.errorStatusObj("NO_TESTED_YET")}},{key:"toggleFilterSubmitted",value:function(e){this.isSubmitted=!!e.checked}},{key:"toggleFilterNotSubmit",value:function(e){this.isNotSubmit=!!e.checked}},{key:"toggleFilterMarked",value:function(e){this.isMarked=!!e.checked}},{key:"toggleFilterReSubmit",value:function(e){this.mustReSubmit=!!e.checked}},{key:"confirmFilter",value:function(){var e,t=[],n=[],o=[],i=[];this.saveFilterValue(),this.isSubmitted&&(t=this.studentObjs.filter(function(e){return 1==e.isSubmitted})),this.isNotSubmit&&(n=this.studentObjs.filter(function(e){return 1==e.isNotSubmit})),this.isMarked&&(o=this.studentObjs.filter(function(e){return 1==e.isMarked})),this.mustReSubmit&&(i=this.studentObjs.filter(function(e){return 1==e.mustReSubmit})),this.isSubmitted||this.isNotSubmit||this.isMarked||this.mustReSubmit?this.homeworkUserList=this.sortIndex([].concat(a(t),a(n),a(o),a(i))):this.clearFilter();var c=this.homeworkUserList,r=this.browserStorageService.getSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time");this.dataListStudents=this.checkSortListStudent(r&&"true"==r?99:null!==(e=this.classObj.sortType)&&void 0!==e?e:0,c)}},{key:"clearFilter",value:function(){var e;this.isSubmitted=!1,this.isNotSubmit=!1,this.isMarked=!1,this.mustReSubmit=!1,this.homeworkUserList=this.studentObjs;var t=this.browserStorageService.getSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time");this.dataListStudents=this.checkSortListStudent(t&&"true"==t?99:null!==(e=this.classObj.sortType)&&void 0!==e?e:0,this.studentObjs),this.removeFilterStore()}},{key:"removeFilterStore",value:function(){this.examFilterService.removeCustomFilter("homework",this.homeworkId)}},{key:"exportToExcel",value:function(e){setTimeout(function(){var t;null===(t=document.getElementById("table_"+e))||void 0===t||t.click()},1e3)}},{key:"exportToPDF",value:function(){this.commonService.gaEvent("go_to_exp_pdf_homework");var e=this.localize.translateRoute("/admin/homework/export-homework")+"/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkHashId;window.open(e,"_blank")}},{key:"resizeImg",value:function(e,t,n){var o,i=document.getElementById("media_content_"+e),a=null!==(o=null==i?void 0:i.offsetWidth)&&void 0!==o?o:0;return i?a/t<=1?Math.round(n*(a/t)):Math.round(n):0}},{key:"sortIndex",value:function(e){return e.sort(function(e,t){return Number(e)-Number(t)})}},{key:"sortByName",value:function(){this.homeworkUserList=this.sortService.sortFirstNameStudents(this.studentObjs)}},{key:"onResize",value:function(e){var t;e.target.innerWidth<768?(this.contentHeight=(null===(t=this.boxContent)||void 0===t?void 0:t.nativeElement.offsetHeight)+45,this.isMobile=!0,this.mode="over",this.hasBackdrop=!0,this.isOpenSideNav=!1):(this.contentHeight=166,this.isMobile=!1,this.mode="side",this.hasBackdrop=!1,this.isOpenSideNav=!0)}},{key:"checkWidth",value:function(){window.innerWidth<768?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1)}},{key:"getFileName",value:function(e){var t;return"object"==typeof e&&e.hasOwnProperty("name")&&null!==(t=e.name)&&void 0!==t?t:""}},{key:"sortByTimeDESC",value:function(e){var t;e.checked?(this.isSortByTimeDESC=e.checked,this.dataListStudents=this.checkSortListStudent(99,this.commonService.myClone(this.studentObjs)),this.browserStorageService.saveSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time",e.checked.toString())):(this.isSortByTimeDESC=e.checked,this.dataListStudents=this.checkSortListStudent(null!==(t=this.classObj.sortType)&&void 0!==t?t:0,this.studentObjs),this.browserStorageService.saveSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time",e.checked.toString()))}},{key:"goToTestReview",value:function(e){var t;this.backToLink="/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkHashId,this.commonService.myNavigationWithQueryString("/admin/homework/mark-exercise/"+(null===(t=e.answer)||void 0===t?void 0:t.id)+"/"+this.homeworkHashId,"?backto="+encodeURIComponent(this.backToLink))}},{key:"goToEditHomework",value:function(){var e;this.commonService.myNavigation("/admin/homework/add-new-homework/"+(null===(e=this.homeworkObj)||void 0===e?void 0:e.id)+"/"+this.homeworkHashId)}},{key:"disableScroll",value:function(){var e=window.pageYOffset||document.documentElement.scrollLeft,t=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=function(){window.scrollTo(e,t)}}},{key:"enableScroll",value:function(){window.onscroll=function(){}}},{key:"deleteHomework",value:function(){this.deleteHomeworkData={homeworkObj:this.homeworkObj,isShow:!0}}},{key:"closeDeleteHomework",value:function(e){e?(this.deleteHomeworkData={homeworkObj:{},isShow:!1},this.commonService.myNavigation("/admin/homework/homework-list/"+this.classObj.id)):this.deleteHomeworkData={homeworkObj:{},isShow:!1}}},{key:"onFileClose",value:function(){this.enableScroll(),this.isShowPreviewFile=!1,this.previewFile={}}},{key:"onShowFile",value:function(e,t){this.isShowPreviewFile=!0,this.disableScroll(),this.previewFile=Object.assign(Object.assign({},e),{index:t})}},{key:"toggleDrawer",value:function(){var e;null===(e=this.drawer)||void 0===e||e.toggle(),this.isOpenSideNav=!this.isOpenSideNav}},{key:"openDrawer",value:function(){var e;null===(e=this.drawer)||void 0===e||e.open(),this.isOpenSideNav=!0,this.saveStatusSideNav()}},{key:"closeDrawer",value:function(){var e;null===(e=this.drawer)||void 0===e||e.close(),this.isOpenSideNav=!1,this.saveStatusSideNav()}},{key:"saveStatusSideNav",value:function(){this.examFilterService.saveStatusSideNav("homework",this.isOpenSideNav)}},{key:"removeStatusSideNav",value:function(){this.examFilterService.removeStatusSideNav("homework")}},{key:"getStatusSideNav",value:function(){if(window.innerWidth>768){var e=this.examFilterService.getStatusSideNav("homework");this.isOpenSideNav=!e||"close"!=e}else this.isOpenSideNav=!1}},{key:"toggleShowActions",value:function(){this.isShowActions=!this.isShowActions,this.isMobile&&(this.contentHeight=0==this.isShowActions?200:this.backUpHeight)}},{key:"showCopySuccess",value:function(){this.showSuccessSnack("Sao ch\xe9p th\xe0nh c\xf4ng \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i")}},{key:"copylinkToClipboard",value:function(e){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/bai-tap/").concat(e)}},{key:"goToStudentList",value:function(){this.commonService.myNavigation("/admin/student/manage-class/0")}},{key:"checkSortListStudent",value:function(e,t){return 0==e?this.sortService.sortFirstNameStudents(this.commonService.myClone(t)):99==e?this.sortService.sortTimeDESC(this.commonService.myClone(t)):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(t),"pos","id")}},{key:"saveFilterValue",value:function(){var e={};this.isMarked&&(e.isMarked=!0),this.isSubmitted&&(e.isSubmitted=!0),this.isNotSubmit&&(e.isNotSubmit=!0),this.mustReSubmit&&(e.mustReSubmit=!0),this.examFilterService.setCustomFilter(e,"homework",this.homeworkId)}},{key:"checkFilterValue",value:function(){var e=this.examFilterService.getCustomFilter("homework",this.homeworkId);null!=e&&""!=e&&(e.includes("isMarked")&&(this.isMarked=!0),e.includes("isSubmitted")&&(this.isSubmitted=!0),e.includes("isNotSubmit")&&(this.isNotSubmit=!0),e.includes("mustReSubmit")&&(this.mustReSubmit=!0),this.confirmFilter())}},{key:"ngOnInit",value:function(){var e=this;Object(O.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){var o,i,a,c;n(t),e.homeworkId=null!==(o=e.activeRoute.snapshot.paramMap.get("id"))&&void 0!==o?o:"",e.homeworkHashId=null!==(i=e.commonService.getMyParam(e.activeRoute,"hash_id"))&&void 0!==i?i:"",e.classId=null!==(a=Number(e.activeRoute.snapshot.paramMap.get("class_id")))&&void 0!==a?a:0,e.backLink=e.commonService.getMyQueryParam("backTo")?null!==(c=e.commonService.getMyQueryParam("backTo"))&&void 0!==c?c:"":"/admin/homework/classes/1",e.backToLink="/admin/homework/score-list/"+e.classId+"/"+e.homeworkId+"/"+e.homeworkHashId,e.form=e.fb.group({searchContent:new s.h("",s.z.required)}),e.initStatusObj(),e.getData(),e.checkWidth()}),this.commonService.translateMetaData({title:"lang_cms_homework_submit_list_title",description:"lang_cms_homework_submit_list_description",image:"lang_cms_homework_image"}),this.commonService.gaEvent("teacher_homework_score"),u(v(o.prototype),"ngOnInit",this).call(this)}},{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){var t,n;e.isMobile?(e.contentHeight=(null===(t=e.boxContent)||void 0===t?void 0:t.nativeElement.offsetHeight)+45,e.backUpHeight=(null===(n=e.boxContent)||void 0===n?void 0:n.nativeElement.offsetHeight)+45):e.contentHeight=166},1e3)}}]),o}(U.a)).\u0275fac=function(e){return new(e||Oe)(V.Pb(d.b),V.Pb(j.a),V.Pb(C.e),V.Pb(h.a),V.Pb(s.g),V.Pb(D.a),V.Pb(T.a),V.Pb(P.a),V.Pb(I.a),V.Pb(M.a))},Oe.\u0275cmp=V.Jb({type:Oe,selectors:[["app-homework-submit-list"]],viewQuery:function(e,t){var n;1&e&&(V.cd(R,!0),V.cd(A,!0)),2&e&&(V.zc(n=V.dc())&&(t.drawer=n.first),V.zc(n=V.dc())&&(t.boxContent=n.first))},features:[V.Ab],decls:4,vars:4,consts:[[3,"headerTitle","back_link","removeFilter"],[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"container-fluid","py-3","mt-md-3",3,"resize"],["class","alert alert-danger",4,"ngIf"],["class","tested_list_container","style","border-radius: 5px;",3,"hasBackdrop",4,"ngIf"],["class","py-4",4,"ngIf"],[3,"data","closeDialog"],[3,"fileOption","closePreview"],[1,"alert","alert-danger"],[1,"tested_list_container",2,"border-radius","5px",3,"hasBackdrop"],[1,"test",2,"background-color","#ecf0f5","border","none",3,"mode","opened","ngClass"],["drawer",""],[1,"container-fluid","box-content","pt-2","pb-2"],[1,"row"],[1,"col-md-7"],[1,"text-left"],[1,"homework_title","mt-2","mb-2"],[1,"col-md-4","block-btn"],[1,"d-flex","justify-content-end","align-self-end"],["tabindex","-1","mat-button","",1,"btn",2,"font-size","10px","padding-top","0","color","#0eafc0",3,"cdkCopyToClipboard","click"],[2,"font-size","12px","padding-top","5px"],[1,"col-md-1","p-0","d-flex"],[1,"m-auto",3,"fileName","linkUrl"],[1,"mb-1",2,"font-size","14px","color","#8E8E8E"],["class","mb-1","style","font-size: 14px; color: #0EAFC0;",4,"ngIf"],[3,"type","typeObj","id","permissionObj"],[3,"ngIf"],[1,"text-center"],["class","clickable","style","user-select: none;",3,"click",4,"ngIf"],[2,"background-color","#ecf0f5","overflow","hidden"],[1,"container-fluid","content-zone",2,"background-color","#ecf0f5",3,"ngClass"],[1,"box-content","py-2"],["boxContent",""],[1,"row","pl-0","pr-0","ml-0","mr-0",3,"ngClass"],[1,"col-md-12","pl-0","pr-0"],[1,"row","pl-0","pr-0","ml-0","mr-0","justify-content-between",3,"hidden"],[1,"col-sm-6","d-flex"],["class","clickable",3,"matTooltip","click",4,"ngIf"],[1,"mb-0","ml-3","align-self-center"],[1,"clickable","link-stu",2,"vertical-align","middle",3,"routerLink","matTooltip"],[2,"vertical-align","middle","color","#646464a1","height","20px","font-size","20px","width","20px"],[1,"truncate_custom",2,"vertical-align","middle",3,"matTooltip"],[1,"col-sm-6","align-self-center"],[1,"d-flex","justify-content-end"],[1,"col-6","pl-0","pr-0","text-right"],[2,"position","relative",3,"formGroup"],["type","text","formControlName","searchContent",1,"input-search",3,"placeholder","keyup.enter"],[1,"search-icon","clickable",3,"click"],[1,"search-ver",2,"vertical-align","middle","font-size","18px","height","16px","width","18px"],[1,"ml-2","mr-2","text-center"],[1,"filter_btn"],["mat-button","",1,"menu-button",3,"matMenuTriggerFor"],[2,"vertical-align","middle","color","#828282"],[2,"font-size","16px","height","16px"],["xPosition","before"],["beforeMenu","matMenu"],["mat-menu-item","",1,"cursorDefault","mb-2",2,"height","30px","line-height","30px",3,"click"],[2,"vertical-align","middle"],["color","primary",2,"vertical-align","middle","margin-left","5px",3,"checked","change"],[1,"d-flex","justify-content-end","px-2"],["mat-menu-item","",1,"clickable",2,"height","30px","line-height","30px",3,"click"],[2,"vertical-align","middle","color","#0EAFC0"],[1,"filter_btn","bg-light"],["mat-button","",1,"menu-button","pl-0","pr-0","pb-0",2,"min-width","auto",3,"matMenuTriggerFor"],[2,"vertical-align","middle","color","#333333"],["menu","matMenu"],["mat-menu-item","",1,"clickable","mb-2",2,"height","30px","line-height","30px",3,"click"],[1,"menu-icon"],[2,"vertical-align","middle","color","#828282",3,"matTooltip"],["color","primary",2,"vertical-align","middle","margin-left","10px",3,"checked","change"],[1,"col-12",3,"hidden"],[1,"col-6"],[1,"col-5","block-btn"],[1,"col-1","p-0","d-flex"],[1,"col-12"],[1,"col-8"],[1,"col-4"],[1,"d-flex","justify-content-end","align-self-center"],["class","clickable d-flex align-items-center","style","user-select: none; font-size: 16px;",3,"routerLink","queryParams",4,"ngIf"],["class","clickable ml-3 d-flex align-items-center","style","user-select: none; font-size: 16px;",3,"click",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3","ml-0","mr-0",2,"width","100%"],["class","col-12",4,"ngIf","ngIfElse"],["dd",""],["class","box-content py-2",4,"ngIf"],[3,"studentList","homeworkObj","currentDate","typeTable"],[1,"mb-1",2,"font-size","14px","color","#0EAFC0"],["class","row ml-0 mr-0 files_zone mt-3",4,"ngIf"],["id","description_content","class","description text-left align-self-center py-2 px-3",3,"innerHTML",4,"ngIf"],[1,"d-flex","justify-content-end","align-self-center","mt-2"],["class","clickable","style","user-select: none; font-size: 16px;",3,"routerLink","queryParams",4,"ngIf"],["class","clickable ml-3","style","user-select: none; font-size: 16px;",3,"click",4,"ngIf"],[1,"row","ml-0","mr-0","files_zone","mt-3"],["class","col-12 col-sm-12 col-md-12 align-self-center",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-12","align-self-center"],[1,"file_obj","d-flex","text-left","py-2","clickable",3,"click"],[2,"font-size","18px","vertical-align","middle","color","#3C8DBC","margin-right","3px","height","20px","width","20px"],[1,"truncate",2,"vertical-align","middle","color","#3C8DBC",3,"matTooltip"],["id","description_content",1,"description","text-left","align-self-center","py-2","px-3",3,"innerHTML"],[1,"clickable",2,"user-select","none","font-size","16px",3,"routerLink","queryParams"],[2,"vertical-align","middle","color","#8E8E8E"],[2,"vertical-align","middle","color","#8E8E8E","font-size","14px"],[1,"clickable","ml-3",2,"user-select","none","font-size","16px",3,"click"],[1,"clickable",2,"user-select","none",3,"click"],[1,"clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#646464","transform","rotateY(180deg)"],[2,"vertical-align","middle","color","#646464"],[1,"clickable","d-flex","align-items-center",2,"user-select","none","font-size","16px",3,"routerLink","queryParams"],[2,"vertical-align","middle","color","#8E8E8E","font-size","19px"],[1,"clickable","ml-3","d-flex","align-items-center",2,"user-select","none","font-size","16px",3,"click"],[2,"vertical-align","middle","color","#bd3737","font-size","19px"],[2,"vertical-align","middle","color","#bd3737","font-size","14px"],["class","row ml-0 mr-0  files_zone mt-3",4,"ngIf"],["class","description text-left align-self-center py-2 px-3",3,"innerHTML",4,"ngIf"],[1,"description","text-left","align-self-center","py-2","px-3",3,"innerHTML"],[1,"row","mt-3"],[1,"col-4","pl-0"],["mat-button","",1,"menu-button","menu-button-mb",3,"matMenuTriggerFor"],[1,"mb-1","h6",2,"font-weight","400","font-size","14px"],[1,"row","align-items-center","mx-auto",2,"width","100%"],[1,"col-10","p-0","text-left"],[1,"col-2","p-0","pb-2","d-flex","justify-content-end"],[1,"text-center","mt-3"],[1,"h4"],[3,"isSortByTime","backToLink","searchKey","studentLists","isNotTestedYet","isOpenSideNav","obj","goToResult"],[1,"py-4"]],template:function(e,t){if(1&e&&(V.Vb(0,"header-backend",0),V.cc("removeFilter",function(){return t.removeFilterStore()}),V.Ub(),V.Rc(1,N,1,0,"azt-loading-effect",1),V.Rc(2,xe,1,1,"ng-template",null,2,V.Sc)),2&e){var n=V.Ac(3);V.nc("headerTitle",(null==t.homeworkObj?null:t.homeworkObj.name)||"")("back_link",t.backLink),V.Db(1),V.nc("ngIf",t.statusObj.loading)("ngIfElse",n)}},styles:[".tested_list_container[_ngcontent-%COMP%]{overflow:hidden;height:calc(100vh - 77px - .5rem)}  .mat-drawer-inner-container::-webkit-scrollbar{width:8px;margin:5px}  .mat-drawer-inner-container::-webkit-scrollbar-thumb{background:#cfcece;border-radius:10px}  .mat-drawer-inner-container{overflow:auto!important}.link-stu[_ngcontent-%COMP%]{color:#000}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none}.exam_info[_ngcontent-%COMP%]{padding:8px 16px}.exam_title[_ngcontent-%COMP%]{font-size:16px;color:#646464}.w-30[_ngcontent-%COMP%]{width:30%}.w-60[_ngcontent-%COMP%]{width:60%}.search-icon[_ngcontent-%COMP%]{position:absolute;right:5px;top:2px;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:1px solid hsla(0,0%,91.8%,.8901960784313725);padding:.1rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:1px solid #0eafc0;outline:none}.btn_action[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;box-sizing:border-box;border:1px solid #f1f1f1;border-radius:0;box-shadow:none}.filter_btn[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{font-size:12px;font-weight:400!important;border:1px solid hsla(0,0%,91.8%,.8901960784313725);border-radius:3px;text-transform:none;padding-right:6px;padding-bottom:3px;color:#414141;line-height:20px}.content-zone[_ngcontent-%COMP%]{height:100%}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 466px);overflow-y:scroll;padding-bottom:80px!important}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%]{display:flex}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.truncate_custom[_ngcontent-%COMP%]{max-width:80%;display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.homework_title[_ngcontent-%COMP%]{font-size:16px;color:#646464;word-break:break-word}.description[_ngcontent-%COMP%], .files_zone[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;box-sizing:border-box;border:1px solid #f1f1f1;border-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;font-size:13px;word-break:break-word}.cursorDefault[_ngcontent-%COMP%]{cursor:default}@media (max-width:756px){.tested_list_container[_ngcontent-%COMP%]{height:auto}.truncate_custom[_ngcontent-%COMP%]{max-width:70%}}.input-search-mb[_ngcontent-%COMP%]{width:100%;padding:2px}.menu-button-mb[_ngcontent-%COMP%]{text-align:center;width:100%}  .truncate{word-break:break-word!important;white-space:unset!important}"]}),Oe),Ue=c("wccm"),Ve=c("mrSG"),je=c("n1FK"),Ce=c("tk/3"),De=c("1yaQ"),Te=c("FKr1"),Pe=c("bWEQ"),Ie=c("BTbT"),Me=c("Bjt4"),Re=c("K3fS"),Ae=c("VMFx"),Ne=c("f4AX"),Ee=c("nzN9"),He=c("kmnG"),Fe=c("qFsG"),Le=c("bTqV"),ze=c("NFeN"),Be=c("Qu3c"),We=c("bSwM"),Ge=c("hZBc"),Je=c("wAhq"),Qe=c("iWHX");function qe(e,t){1&e&&V.Qb(0,"azt-loading-effect")}function $e(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Vb(1,"header-backend",56),V.cc("MenuEvent",function(e){return V.Ec(n),V.gc(2).callbackMenuEvent(e)}),V.hc(2,"mytranslate"),V.Ub(),V.Ub()}if(2&e){var o=V.gc(2);V.Db(1),V.nc("menu_objs",o.menuObjs)("headerTitle",V.ic(2,3,"lang_homework_add_home_work_add_home_work"))("back_link","/admin/homework/classes/1")}}function Ye(e,t){if(1&e){var n=V.Wb();V.Vb(0,"header-backend",57),V.cc("MenuEvent",function(e){return V.Ec(n),V.gc(2).callbackMenuEvent(e)})("RedirectToLink",function(){return V.Ec(n),V.gc(2).redirectToBackLink()}),V.hc(1,"mytranslate"),V.Ub()}if(2&e){var o=V.gc(2);V.nc("menu_objs",o.menuObjs)("headerTitle",V.ic(1,3,"lang_homework_add_home_work_update_home_work"))("checkUrlFunction",!0)}}function Ke(e,t){1&e&&(V.Vb(0,"div"),V.Tc(1),V.hc(2,"mytranslate"),V.Ub()),2&e&&(V.Db(1),V.Vc("** ",V.ic(2,1,"lang_homework_add_home_work_validate_enter_null_name_homework"),"."))}function Xe(e,t){1&e&&(V.Vb(0,"div"),V.Tc(1),V.hc(2,"mytranslate"),V.Ub()),2&e&&(V.Db(1),V.Vc("** ",V.ic(2,1,"lang_homework_add_home_work_validate_enter_name_homework"),"."))}function Ze(e,t){if(1&e&&(V.Vb(0,"div",58),V.Vb(1,"div"),V.Vb(2,"div",59),V.Vb(3,"div",60),V.Rc(4,Ke,3,3,"div",55),V.Rc(5,Xe,3,3,"div",55),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Db(4),V.nc("ngIf",n.form.controls.nameExam.errors.required),V.Db(1),V.nc("ngIf",n.form.controls.nameExam.errors.maxlength)}}function et(e,t){1&e&&(V.Vb(0,"span"),V.Tc(1,"OK"),V.Ub())}function tt(e,t){1&e&&(V.Vb(0,"div",61),V.Vb(1,"div",62),V.Vb(2,"span",63),V.Tc(3,"Loading..."),V.Ub(),V.Ub(),V.Ub())}function nt(e,t){1&e&&(V.Vb(0,"div",64),V.Tc(1,"Ch\u1ee5p \u1ea3nh b\xe0i t\u1eadp ho\u1eb7c ch\u1ecdn file word, pdf, audio, video c\xf3 s\u1eb5n"),V.Ub())}function ot(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Vb(1,"div"),V.Vb(2,"button",65),V.cc("click",function(){V.Ec(n);var e=t.index,o=V.gc(2);return!!o.formHomework.files&&o.formHomework.files.splice(e,1)}),V.Vb(3,"mat-icon",66),V.Tc(4,"close"),V.Ub(),V.Ub(),V.Vb(5,"a",67),V.cc("click",function(){V.Ec(n);var e=t.$implicit;return V.gc(2).onShowFile(e,-1)}),V.Vb(6,"span",68),V.Tc(7),V.Ub(),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=t.$implicit;V.Db(6),V.nc("title",o.name),V.Db(1),V.Uc(o.name)}}function it(e,t){if(1&e&&(V.Vb(0,"div",69),V.Tc(1),V.hc(2,"mytranslate"),V.Vb(3,"span",70),V.Tc(4),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Db(1),V.Vc(" ",V.ic(2,2,"lang_homework_add_home_work_edit_homework"),": "),V.Db(3),V.Vc(" ",n.classroomObjByHomework.name,"")}}function at(e,t){1&e&&(V.Vb(0,"div",69),V.Tc(1),V.hc(2,"mytranslate"),V.Ub()),2&e&&(V.Db(1),V.Uc(V.ic(2,1,"lang_homework_add_home_work_select_class")))}function ct(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Vb(1,"a",73),V.cc("click",function(){return V.Ec(n),V.gc(3).checkAllCheckBox()}),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Ub()}2&e&&(V.Db(2),V.Vc(" ",V.ic(3,1,"lang_homework_add_home_work_select_all")," "))}function rt(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",73),V.cc("click",function(){return V.Ec(n),V.gc(3).clearAllCheckBox()}),V.Tc(1),V.hc(2,"mytranslate"),V.Ub()}2&e&&(V.Db(1),V.Vc(" ",V.ic(2,1,"lang_homework_add_home_work_clear_select_all")," "))}function st(e,t){if(1&e&&(V.Vb(0,"div",71),V.Rc(1,ct,4,3,"div",0),V.Rc(2,rt,3,3,"ng-template",null,72,V.Sc),V.Ub()),2&e){var n=V.Ac(3),o=V.gc(2);V.Db(1),V.nc("ngIf",0==o.isCheckAll)("ngIfElse",n)}}function lt(e,t){if(1&e&&(V.Vb(0,"span",80),V.Tc(1),V.hc(2,"slice"),V.Ub()),2&e){var n=V.gc().index,o=V.gc(3);V.oc("matTooltip",o.classroomObjs[n].name),V.Db(1),V.Uc(V.kc(2,2,o.classroomObjs[n].name,0,25)+"..")}}function dt(e,t){if(1&e&&(V.Vb(0,"span"),V.Tc(1),V.Ub()),2&e){var n=V.gc().index,o=V.gc(3);V.Db(1),V.Uc(o.classroomObjs[n].name)}}function bt(e,t){1&e&&(V.Vb(0,"span",81),V.Tc(1,"Chia s\u1ebb"),V.Ub())}function ut(e,t){if(1&e&&(V.Vb(0,"div",76),V.Vb(1,"mat-checkbox",77),V.hc(2,"createPermission"),V.Rc(3,lt,3,6,"span",78),V.Rc(4,dt,2,1,"span",55),V.Rc(5,bt,2,0,"span",79),V.hc(6,"fullPermission"),V.Ub(),V.Ub()),2&e){var n=t.index,o=V.gc(3);V.Db(1),V.oc("value",o.classroomObjs[n].id),V.nc("formControlName",n)("disabled",o.checkPermissionObj(V.jc(2,6,o.classroomObjs[n].permissionObj,"homework"))),V.Db(2),V.nc("ngIf",o.getClassroomNameLength(o.classroomObjs[n])>25),V.Db(1),V.nc("ngIf",o.getClassroomNameLength(o.classroomObjs[n])<=25),V.Db(1),V.nc("ngIf",o.checkPermissionObj(V.jc(6,9,o.classroomObjs[n].permissionObj,"classroom")))}}function mt(e,t){if(1&e&&(V.Vb(0,"div",74),V.Rc(1,ut,7,12,"div",75),V.Ub()),2&e){var n=V.gc(2);V.Db(1),V.nc("ngForOf",n.form.controls.classroomIds.controls)}}function ht(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Vb(1,"a",82),V.cc("click",function(){return V.Ec(n),V.gc(2).redirectClasses()}),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Vb(4,"button",83),V.cc("click",function(){return V.Ec(n),V.gc(2).saveHomeworkProgress()}),V.Tc(5),V.hc(6,"mytranslate"),V.Ub(),V.Ub()}if(2&e){var o=V.gc(2);V.Db(2),V.Uc(V.ic(3,3,"lang_buttom_cancel")),V.Db(2),V.nc("disabled",o.form.invalid),V.Db(1),V.Uc(V.ic(6,5,"lang_buttom_save"))}}function gt(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",82),V.cc("click",function(){return V.Ec(n),V.gc(2).redirectBack()}),V.Tc(1),V.hc(2,"mytranslate"),V.Ub(),V.Vb(3,"button",83),V.cc("click",function(){return V.Ec(n),V.gc(2).updateHomeworkProgress()}),V.Tc(4),V.hc(5,"mytranslate"),V.Ub()}if(2&e){var o=V.gc(2);V.Db(1),V.Uc(V.ic(2,3,"lang_buttom_cancel")),V.Db(2),V.nc("disabled",o.form.controls.nameExam.errors),V.Db(1),V.Uc(V.ic(5,5,"lang_buttom_update"))}}function pt(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Vb(1,"azt-preview-media",84),V.cc("closePreview",function(){return V.Ec(n),V.gc(2).onFileClose()}),V.Ub(),V.Ub()}if(2&e){var o=V.gc(2);V.Db(1),V.nc("fileOption",o.previewFile)}}var ft=function(){return{standalone:!0}},vt=function(){return[]},kt=function(e){return{height:250,menubar:!1,plugins:e,toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify"}};function _t(e,t){if(1&e){var n=V.Wb();V.Rc(0,$e,3,5,"div",0),V.Rc(1,Ye,2,5,"ng-template",null,2,V.Sc),V.Vb(3,"form",3),V.Vb(4,"div",4),V.Vb(5,"div",5),V.Vb(6,"div",6),V.Vb(7,"div",7),V.Vb(8,"div",8),V.Vb(9,"p",9),V.Tc(10),V.hc(11,"mytranslate"),V.Ub(),V.Ub(),V.Vb(12,"div",10),V.Qb(13,"input",11),V.Ub(),V.Vb(14,"div",12),V.Rc(15,Ze,6,2,"div",13),V.Ub(),V.Ub(),V.Vb(16,"div",7),V.Vb(17,"div",8),V.Vb(18,"p",9),V.Tc(19),V.hc(20,"mytranslate"),V.Ub(),V.Ub(),V.Vb(21,"div",14),V.Vb(22,"div",15),V.Vb(23,"div",16),V.Vb(24,"div",17),V.Vb(25,"mat-form-field",18),V.Vb(26,"input",19),V.cc("click",function(){return V.Ec(n),V.Ac(31).open()}),V.Ub(),V.Vb(27,"button",20),V.cc("click",function(e){return V.Ec(n),V.Ac(31).open(),e.stopPropagation()}),V.Vb(28,"mat-icon"),V.Tc(29,"today"),V.Ub(),V.Ub(),V.Vb(30,"ngx-mat-datetime-picker",null,21),V.Rc(32,et,2,0,"ng-template"),V.Ub(),V.Ub(),V.Ub(),V.Vb(33,"div",22),V.Vb(34,"div",23),V.Vb(35,"div"),V.Vb(36,"a",24),V.cc("click",function(){return V.Ec(n),V.gc().clearTime()}),V.hc(37,"mytranslate"),V.Vb(38,"mat-icon",25),V.Tc(39,"cancel"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(40,"div",26),V.Tc(41),V.hc(42,"mytranslate"),V.Ub(),V.Ub(),V.Vb(43,"div",27),V.Vb(44,"div",28),V.Vb(45,"div",12),V.Vb(46,"div",29),V.Vb(47,"input",30,31),V.cc("change",function(e){return V.Ec(n),V.gc().onFileSelected(e)}),V.Ub(),V.Vb(49,"a",32),V.cc("click",function(){return V.Ec(n),V.Ac(48).click()}),V.Vb(50,"span"),V.Tc(51),V.hc(52,"mytranslate"),V.Ub(),V.Ub(),V.Rc(53,tt,4,0,"div",33),V.Rc(54,nt,2,0,"div",34),V.Rc(55,ot,8,2,"div",35),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(56,"div",36),V.Vb(57,"editor",37),V.cc("ngModelChange",function(e){return V.Ec(n),V.gc().formHomework.content=e}),V.Ub(),V.Ub(),V.Vb(58,"div",38),V.Vb(59,"div",29),V.Vb(60,"mat-checkbox",39),V.Tc(61),V.hc(62,"mytranslate"),V.Ub(),V.Ub(),V.Vb(63,"div",40),V.Vb(64,"mat-checkbox",41),V.Tc(65),V.hc(66,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Vb(67,"div",38),V.Vb(68,"div",42),V.Vb(69,"div",12),V.Rc(70,it,5,4,"div",43),V.Rc(71,at,3,3,"div",43),V.Rc(72,st,4,2,"div",44),V.Ub(),V.Ub(),V.Rc(73,mt,2,1,"div",45),V.Ub(),V.Vb(74,"div",46),V.Vb(75,"div",47),V.Rc(76,ht,7,7,"div",0),V.Rc(77,gt,6,7,"ng-template",null,48,V.Sc),V.Ub(),V.Ub(),V.Ub(),V.Vb(79,"div",49),V.Vb(80,"div",50),V.Vb(81,"div",51),V.Vb(82,"p",52),V.Tc(83),V.hc(84,"mytranslate"),V.Ub(),V.Vb(85,"small"),V.Tc(86),V.hc(87,"mytranslate"),V.Ub(),V.Ub(),V.Vb(88,"div",53),V.Vb(89,"p",54),V.Tc(90),V.hc(91,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Rc(92,pt,2,1,"div",55)}if(2&e){var o=V.Ac(2),i=V.Ac(31),a=V.Ac(78),c=V.gc();V.nc("ngIf",0==c.isCheckUpdate)("ngIfElse",o),V.Db(3),V.nc("formGroup",c.form),V.Db(7),V.Uc(V.ic(11,29,"lang_homework_add_home_work_name_home_work")),V.Db(5),V.nc("ngIf",c.form.controls.nameExam.errors&&(c.form.controls.nameExam.touched||c.form.controls.nameExam.dirty)),V.Db(4),V.Uc(V.ic(20,31,"lang_homework_add_home_work_deadline")),V.Db(7),V.nc("ngxMatDatetimePicker",i),V.Db(10),V.oc("matTooltip",V.ic(37,33,"lang_homework_add_home_work_reset_time")),V.Db(5),V.Vc("* ",V.ic(42,35,"lang_homework_add_home_work_tutorial_enter_time"),""),V.Db(6),V.nc("ngModelOptions",V.sc(49,ft)),V.Db(4),V.Vc("+ ",V.ic(52,37,"lang_homework_add_home_work_add_file_homework"),""),V.Db(2),V.nc("ngIf",c.loadingUpload),V.Db(1),V.nc("ngIf",!c.formHomework.files||0==c.formHomework.files.length),V.Db(1),V.nc("ngForOf",c.formHomework.files),V.Db(2),V.nc("ngModel",c.formHomework.content)("ngModelOptions",V.sc(50,ft))("init",V.tc(52,kt,V.sc(51,vt))),V.Db(4),V.Vc(" ",V.ic(62,39,"lang_homework_add_home_work_request_login")," "),V.Db(4),V.Vc(" ",V.ic(66,41,"lang_homework_add_home_work_dont_view_point")," "),V.Db(5),V.nc("ngIf",1==c.isCheckUpdate),V.Db(1),V.nc("ngIf",0==c.isCheckUpdate),V.Db(1),V.nc("ngIf",0==c.isCheckUpdate),V.Db(1),V.nc("ngIf",0==c.isCheckUpdate),V.Db(3),V.nc("ngIf",0==c.isCheckUpdate)("ngIfElse",a),V.Db(7),V.Uc(V.ic(84,43,"lang_homework_add_home_work_library_homework")),V.Db(3),V.Vc(" ",V.ic(87,45,"lang_homework_add_home_work_tutorial_upload_file")," "),V.Db(4),V.Vc("",V.ic(91,47,"lang_developing"),"."),V.Db(2),V.nc("ngIf",c.isShowPreviewFile)}}var wt,yt={parse:{dateInput:"l, LTS"},display:{dateInput:"DD-MM-YYYY HH:mm:00",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}},xt=((wt=function(e){m(o,e);var t=g(o);function o(e,n,i,a,c,r,d,b,u){var m;return l(this,o),(m=t.call(this,n)).activeRoute=e,m.commonService=n,m.myPdfService=i,m.fb=a,m.homeworkService=c,m.classroomService=r,m.apiUploadService=d,m.zipdataService=b,m.userService=u,m.form=new s.k({}),m.formHomework={files:[],content:""},m.isShowPreviewFile=!1,m.uploadProgress=-1,m.LogErrorsRequest="",m.menuObjs=[],m.classroomObjs=[],m.isCheckAll=!1,m.homeworkId=0,m.homeworkData={},m.homeworkDatas=[],m.prevData="",m.isCheckUpdate=!1,m.classObj={},m.classId=0,m.backLink="",m.backToLink="",m.listIds="",m.classroomObjByHomework={},m.loadingUpload=!1,m.contentBase64Count=0,m.homeWorkContent="",m.newListUrls=[],m.homeworkHashId="",m.convertBlobToBase64=function(e){return Object(Ve.a)(f(m),void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){var n=new Image;n.crossOrigin="Anonymous",n.addEventListener("load",function(){var e=document.createElement("canvas"),o=e.getContext("2d");e.width=this.width,e.height=this.height,null==o||o.drawImage(n,0,0);var i=e.toDataURL("image/png");t(i)},!1),n.src=e}));case 1:case"end":return t.stop()}},t)}))},m.minSelectedCheckboxes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return t.controls.map(function(e){return e.value}).reduce(function(e,t){return t?e+t:e},0)>=e?null:{required:!0}}},m}return b(o,[{key:"disableScroll",value:function(){var e=window.pageYOffset||document.documentElement.scrollLeft,t=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=function(){window.scrollTo(e,t)}}},{key:"enableScroll",value:function(){window.onscroll=function(){}}},{key:"onFileClose",value:function(){this.enableScroll(),this.isShowPreviewFile=!1,this.previewFile=void 0}},{key:"onShowFile",value:function(e,t){this.isShowPreviewFile=!0,this.disableScroll(),this.previewFile=Object.assign(Object.assign({},e),{index:t})}},{key:"callbackMenuEvent",value:function(e){}},{key:"convertFullNumber",value:function(e){return e>=10?e:"0"+e}},{key:"findAllSubString",value:function(e,t){for(var n=0,o=0,i=[];e.indexOf(t,n)>-1;)o=e.indexOf(t,n),i.push(o),n=o+t.length;return i}},{key:"getTypeFile",value:function(e){var t=e.indexOf(";");return e.substring(5,t)}},{key:"getFileName",value:function(e){var t=e.split("").reverse().join(""),n=t.indexOf(";"),o=t.indexOf("/",n);return t.substring(n,o).split("").reverse().join("")}},{key:"onFileSelected",value:function(e){var t=this,n=e.target,o=n.files,i=!!o&&o[0];0!=i&&(Object(Ie.j)(i.type)?Object(Ie.f)(i.type)?this.showErrorSnack("File g\u1eb7p l\u1ed7i: "+i.name+". Ki\u1ec3u: "+i.type+". Ch\u01b0a h\u1ed7 tr\u1ee3 \u0111\u1ecbnh d\u1ea1ng video .wmv! Vui l\xf2ng th\u1eed l\u1ea1i."):(this.loadingUpload=!0,this.uploadProgress=0,Object(Ie.a)(i).then(function(e){t.apiUploadService.uploadToCdnForHomework(e).subscribe(function(e){var n;e.type!=Ce.d.UploadProgress&&(1==e.success?(t.formHomework.files&&!Array.isArray(t.formHomework.files)&&(t.formHomework.files=[]),null===(n=t.formHomework.files)||void 0===n||n.push(Object.assign({},e.data)),t.loadingUpload=!1,t.uploadProgress=-1):(t.loadingUpload=!1,t.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+e.message)))})})):this.showErrorSnack("Vui l\xf2ng ch\u1ec9 t\u1ea3i l\xean \u0111\u1ecbnh d\u1ea1ng file \u1ea3nh, pdf, audio v\xe0 video")),n.files=null}},{key:"redirectBack",value:function(){this.commonService.myNavigation(this.backLink)}},{key:"clearAllCheckBox",value:function(){this.form.get("classroomIds").controls.forEach(function(e){e.setValue(!1)}),this.isCheckAll=!1}},{key:"checkAllCheckBox",value:function(){this.form.get("classroomIds").controls.forEach(function(e){e.setValue(!0)}),this.isCheckAll=!0}},{key:"checkIsChosen",value:function(e,t){if(null==t)for(var n=0;n<e.length;n++)this.addNewCheckBox(!1);else for(n=0;n<e.length;n++){for(var o=!1,i=0;i<t.length;i++)e[n].id==t[i].classroomId&&(o=!0);this.addNewCheckBox(o)}}},{key:"redirectClasses",value:function(){this.commonService.myNavigation("/admin/homework/classes/1")}},{key:"redirectToSuccess",value:function(e){this.commonService.myNavigation("/admin/homework/create-homework-success/"+e)}},{key:"addNewCheckBox",value:function(e){var t=new s.h(e);this.form.get("classroomIds").push(t)}},{key:"clearTime",value:function(){this.form.controls.deadlineHomework.setValue("")}},{key:"startUploadBlobFile",value:function(e,t){var n=this;if(t&&""!=t){var o=this.getTypeFile(t),i=this.myPdfService.b64toFile(t,this.getFileName(o),o);Object(Ie.a)(i).then(function(t){n.apiUploadService.uploadToCdnForHomework(t).subscribe(function(t){var o,i;if(t.type!=Ce.d.UploadProgress)if(1==t.success){var a=Object.assign(Object.assign({},e),{newUrl:null!==(i=null===(o=t.data)||void 0===o?void 0:o.url)&&void 0!==i?i:""});n.newListUrls.push(a),n.contentBase64Count-=1,0==n.contentBase64Count&&n.changeContent()}else n.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+t.message),n.stopStatusObj()})})}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!"),this.stopStatusObj()}},{key:"reUploadBlobFile",value:function(e){var t,n=this;if(e&&e.length>0){this.contentBase64Count=e.length;for(var o=function(){new FileReader;var o=e[i],a=null===(t=null==o?void 0:o.oldUrl)||void 0===t?void 0:t.substring(0,o.oldUrl.length-1);n.convertBlobToBase64(null!=a?a:"").then(function(e){n.startUploadBlobFile(o,e)})},i=0;i<e.length;i++)o()}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!"),this.stopStatusObj()}},{key:"reUploadBase64File",value:function(e){var t,n=this;if(e&&e.length>0){this.contentBase64Count=e.length;for(var o=function(){var o=e[i],r=null===(t=o.oldUrl)||void 0===t?void 0:t.substring(0,o.oldUrl.length-1);a=n.getTypeFile(null!=r?r:""),c=n.myPdfService.b64toFile(null!=r?r:"",n.getFileName(a),a),Object(Ie.a)(c).then(function(e){n.apiUploadService.uploadToCdnForHomework(e).subscribe(function(e){var t,i;if(e.type!=Ce.d.UploadProgress)if(1==e.success){var a=Object.assign(Object.assign({},o),{newUrl:null!==(i=null===(t=e.data)||void 0===t?void 0:t.url)&&void 0!==i?i:""});n.newListUrls.push(a),n.contentBase64Count-=1,0==n.contentBase64Count&&n.changeContent()}else n.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+e.message),n.stopStatusObj()})})},i=0;i<e.length;i++){var a,c;o()}}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!"),this.stopStatusObj()}},{key:"foundImgInContent",value:function(e){var t=this.findAllSubString(e,"<img"),n=[],o=[];t.forEach(function(t){var i=e.indexOf("src=",t),a=e.indexOf('"',Number(i)+5),c=e.substring(Number(i)+5,Number(a)+1);c.includes(";base64")?n.push({oldUrl:c}):c.includes("blob:")&&o.push({oldUrl:c})}),n.length>0?this.reUploadBase64File(n):o.length>0?this.reUploadBlobFile(o):this.changeContent()}},{key:"changeContent",value:function(){var e=this;this.newListUrls.length>0&&this.newListUrls.forEach(function(t){var n,o=e.homeWorkContent.replace(null!==(n=t.oldUrl)&&void 0!==n?n:"  ",t.newUrl+'" class="w-100 img-fluid"');e.homeWorkContent=o}),this.isCheckUpdate?this.updateHomeWork():this.saveHomework()}},{key:"saveHomeworkProgress",value:function(){this.initStatusObj(),null==this.formHomework.content||null==this.formHomework.content?(this.homeWorkContent="",this.saveHomework()):(this.homeWorkContent=this.formHomework.content,this.homeWorkContent.includes("<img ")?this.foundImgInContent(this.homeWorkContent):this.saveHomework())}},{key:"updateHomeworkProgress",value:function(){this.initStatusObj(),null==this.formHomework.content||null==this.formHomework.content?(this.homeWorkContent="",this.updateHomeWork()):(this.homeWorkContent=this.formHomework.content,this.homeWorkContent.includes("<img ")?this.foundImgInContent(this.formHomework.content):this.updateHomeWork())}},{key:"saveHomework",value:function(){var e=this,t=this.commonService.getFormObj(this.form);t.deadlineHomework=""===t.deadlineHomework||null===t.deadlineHomework?null:Object(r.x)(t.deadlineHomework,"yyyy-MM-ddTHH:mm:00","en_vn"),t.isCheckLogin=1!=t.isCheckLogin?0:1,t.dontShowMark=1!=t.dontShowMark?0:1,t.whenShowAnswer=1!=t.whenShowAnswer?0:1;var n=t.classroomIds.map(function(t,n){return t?e.classroomObjs[n].id:null}).filter(function(e){return null!==e});this.homeWorkContent=this.zipdataService.convertContentGzip(this.homeWorkContent);var o=this.userService.getUserObj(),i=JSON.stringify({type:"homework",id:this.homeworkId,user:o.id}),a={name:t.nameExam,content:this.homeWorkContent,deadline:t.deadlineHomework,testbankExams:"",files:JSON.stringify(this.formHomework.files),mustVerified:t.isCheckLogin,dontShowMark:t.dontShowMark,whenShowAnswer:t.whenShowAnswer,globalSetting:0,classroomIds:n};this.subscriptions.add(this.homeworkService.apiHomeworkSaveObjPost(a,i).subscribe(function(t){var n,o,i;if(1==t.success){e.showSuccessSnack("T\u1ea1o b\xe0i t\u1eadp th\xe0nh c\xf4ng.");var a=[];if(null===(n=t.data)||void 0===n?void 0:n.objs)for(var c=0;c<t.data.objs.length;c++)a.push(null===(o=t.data)||void 0===o?void 0:o.objs[c].hashId);e.listIds=JSON.stringify(a),e.redirectToSuccess(e.listIds),e.successStatusObj()}else e.errorStatusObj(null!==(i=t.message)&&void 0!==i?i:"",!0)}))}},{key:"updateHomeWork",value:function(){var e=this,t=this.commonService.getFormObj(this.form);t.deadlineHomework=""===t.deadlineHomework||null===t.deadlineHomework?null:Object(r.x)(t.deadlineHomework,"yyyy-MM-ddTHH:mm:00 Z","en_vn"),t.isCheckLogin=1!=t.isCheckLogin?0:1,t.dontShowMark=1!=t.dontShowMark?0:1,t.whenShowAnswer=1!=t.whenShowAnswer?0:1,this.homeWorkContent=this.zipdataService.convertContentGzip(this.homeWorkContent);var n=this.userService.getUserObj(),o=JSON.stringify({type:"homework",id:this.homeworkId,user:n.id}),i={id:this.homeworkId,homeworkHashId:this.homeworkHashId,name:t.nameExam,content:this.homeWorkContent,deadline:t.deadlineHomework,testbankExams:"",files:JSON.stringify(this.formHomework.files),mustVerified:t.isCheckLogin,dontShowMark:t.dontShowMark,whenShowAnswer:t.whenShowAnswer,globalSetting:0};this.subscriptions.add(this.homeworkService.apiHomeworkUpdateObjPost(i,o).subscribe(function(t){var n;1==t.success?(e.showSuccessSnack("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng."),e.redirectToBackLink(),e.successStatusObj()):e.errorStatusObj(null!==(n=t.message)&&void 0!==n?n:"",!0)}))}},{key:"getDataClass",value:function(e){var t=this;this.subscriptions.add(this.classroomService.apiClassroomGetAllClassroomObjsGet().subscribe(function(n){var o,i,a;1==n.success?(t.classroomObjs=null!==(i=null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:new Array,t.checkIsChosen(t.classroomObjs,t.homeworkDatas),e(!0)):(t.errorStatusObj(null!==(a=n.message)&&void 0!==a?a:"",!0),e(!1))}))}},{key:"getHomework",value:function(e){var t=this;this.initStatusObj(),this.isCheckUpdate=null!=e&&0!=e&&null!=e,this.getDataClass(function(e){e&&t.isCheckUpdate?t.subscriptions.add(t.homeworkService.apiHomeworkGetObjGet(t.homeworkHashId).subscribe(function(e){var n,o,i,a,c,r,s,l,d,b,u,m,h,g,p,f,v,k;1==e.success?(t.formHomework.files=(null===(o=null===(n=e.data)||void 0===n?void 0:n.homeworkObj)||void 0===o?void 0:o.files)?t.commonService.parseJson(null===(a=null===(i=e.data)||void 0===i?void 0:i.homeworkObj)||void 0===a?void 0:a.files):[],t.formHomework.content=(null===(r=null===(c=e.data)||void 0===c?void 0:c.homeworkObj)||void 0===r?void 0:r.content)?t.zipdataService.decodeContentGzip(null===(l=null===(s=e.data)||void 0===s?void 0:s.homeworkObj)||void 0===l?void 0:l.content):"",t.homeworkDatas=(null===(d=null==e?void 0:e.data)||void 0===d?void 0:d.homeworkObj)?[null===(b=null==e?void 0:e.data)||void 0===b?void 0:b.homeworkObj]:new Array,t.classroomObjByHomework=null!==(m=null===(u=null==e?void 0:e.data)||void 0===u?void 0:u.classroomObj)&&void 0!==m?m:{},t.homeworkData=null!==(g=null===(h=null==e?void 0:e.data)||void 0===h?void 0:h.homeworkObj)&&void 0!==g?g:{},t.classId=null!==(v=null===(f=null===(p=null==e?void 0:e.data)||void 0===p?void 0:p.classroomObj)||void 0===f?void 0:f.id)&&void 0!==v?v:0,t.backLink="/admin/homework/score-list/"+t.classId+"/"+t.homeworkId+"/"+t.homeworkData.hashId,t.form.patchValue({nameExam:t.homeworkData.name,deadlineHomework:null!=t.homeworkData.deadline?t.homeworkData.deadline:"",isCheckLogin:0!=t.homeworkData.mustVerified,dontShowMark:0!=t.homeworkData.dontShowMark,whenShowAnswer:0!=t.homeworkData.whenShowAnswer}),t.successStatusObj()):t.errorStatusObj(null!==(k=e.message)&&void 0!==k?k:"",!0)})):t.stopStatusObj()})}},{key:"redirectToBackLink",value:function(){return this.commonService.myNavigationWithQueryString("/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkData.hashId,"?backTo="+encodeURIComponent(this.backToLink))}},{key:"checkPermissionObj",value:function(e){return 1!=e}},{key:"getClassroomNameLength",value:function(e){return e&&e.name?e.name.length:0}},{key:"ngOnInit",value:function(){var e=this;Object(O.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){var o,i,a;n(t),e.homeworkId=null!==(o=Number(e.commonService.getMyParam(e.activeRoute,"id")))&&void 0!==o?o:0,e.homeworkHashId=null!==(i=e.commonService.getMyParam(e.activeRoute,"hash_id"))&&void 0!==i?i:"",e.backToLink=null!==(a=e.commonService.getMyQueryParam("backTo"))&&void 0!==a?a:"",e.getHomework(e.homeworkId)}),this.form=this.fb.group({nameExam:new s.h("",[s.z.required,s.z.maxLength(180)]),deadlineHomework:new s.h(""),isCheckLogin:new s.h(""),contentHomework:new s.h,dontShowMark:new s.h(""),whenShowAnswer:new s.h(""),classroomIds:this.fb.array([],this.minSelectedCheckboxes(1))}),this.form.valueChanges.subscribe(function(t){var n=JSON.stringify(t);n!=e.prevData&&(e.prevData=n,e.form.patchValue(t))}),this.commonService.translateMetaData({title:"lang_cms_homework_add_exercise_title",description:"lang_cms_homework_add_exercise_description",image:"lang_cms_test_image"})}}]),o}(U.a)).\u0275fac=function(e){return new(e||wt)(V.Pb(h.a),V.Pb(j.a),V.Pb(Me.a),V.Pb(s.g),V.Pb(Re.a),V.Pb(S.g),V.Pb(Ae.a),V.Pb(T.a),V.Pb(Ne.a))},wt.\u0275cmp=V.Jb({type:wt,selectors:[["app-add-home-work"]],features:[V.Cb([{provide:je.b,useClass:Pe.a,deps:[Te.f,De.a]},{provide:je.a,useValue:yt}]),V.Ab],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["header",""],[1,"p-3",3,"formGroup"],[1,"container","pb-80"],[1,"row","py-md-4"],[1,"col-md-8","add-homework--form"],[1,"row","m-0","pb-3"],[1,"col-4","col-md-3","add-homework--form__label","text-md-right"],[1,"p-0","m-0"],[1,"col-8","col-md-9","pl-0","pr-0"],["type","text","formControlName","nameExam","placeholder","",1,"form-control","add-homework--form__input"],[1,"row"],["class","col-12 pt-1",4,"ngIf"],[1,"col-8","col-md-9","pl-0","pr-0","add-homework--form__padding"],[1,"add-homework--form__border","d-flex","align-items-center"],[1,"row","m-0","p-0","align-items-center","justify-content-around","homework-box",2,"width","100%"],[1,"col-9","col-md-10","pr-0","pl-0",2,"border","1px solid #ced4da","border-radius","3px"],[1,"myTimePicker","pt-0"],["matInput","","readonly","","formControlName","deadlineHomework",3,"ngxMatDatetimePicker","click"],["mat-icon-button","","matSuffix","",2,"font-size","18px",3,"click"],["durationTime",""],[1,"col-2","col-md-1","pl-0","pr-0"],[1,"pl-1","d-flex","align-items-center","justify-content-center",2,"padding-top","3px"],[1,"clickable",2,"color","#3f51b5",3,"matTooltip","click"],[2,"vertical-align","middle"],[1,"clearfix","pt-1"],[1,"row","pt-4","m-0"],[1,"col-12","add-homework--form__title","none-top__border","none-bottom__border"],[1,"col-md-12"],["type","file","name","fileHomework",2,"display","none",3,"ngModelOptions","change"],["formChoseFile",""],[1,"d-flex","align-items-center",2,"color","#3c8dbc",3,"click"],["class","d-flex justify-content-center my-2",4,"ngIf"],["style","color: #747373; font-size: 10px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-12","p-0","mh-250"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","ngModelOptions","init","ngModelChange"],[1,"row","m-0","pt-3"],["color","primary","formControlName","isCheckLogin"],[1,"col-md-6"],["color","primary","formControlName","whenShowAnswer"],[1,"col-12","add-homework--form__title","none-bottom__border"],["class","col-9",4,"ngIf"],["class","col-3 text-right",4,"ngIf"],["class","row m-0 p-0 add-homework--form__content none-top__border","style","width: 100%",4,"ngIf"],[1,"row","m-0","pt-4","pb-3"],[1,"col-12","text-right"],["button",""],[1,"col-md-4","px-00"],[1,"library"],[1,"py-3","text-center"],[1,"m-0","font-weight-bold"],[1,"d-flex","library--content","align-items-center","justify-content-center"],[1,"font-weight-bold","m-0","p-0"],[4,"ngIf"],[3,"menu_objs","headerTitle","back_link","MenuEvent"],[3,"menu_objs","headerTitle","checkUrlFunction","MenuEvent","RedirectToLink"],[1,"col-12","pt-1"],[1,"text-left"],[1,"text-danger"],[1,"d-flex","justify-content-center","my-2"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],[2,"color","#747373","font-size","10px"],[1,"btn","btn-sm",3,"click"],[2,"font-size","15px","padding-top","5px"],[3,"click"],[2,"color","gray","word-wrap","break-word",3,"title"],[1,"col-9"],[2,"color","black","font-weight","bold"],[1,"col-3","text-right"],["chosen",""],[1,"clickable",2,"color","#3c8dbc",3,"click"],[1,"row","m-0","p-0","add-homework--form__content","none-top__border",2,"width","100%"],["class","col-sm-6 text-left pl-3 pt-2","formArrayName","classroomIds",4,"ngFor","ngForOf"],["formArrayName","classroomIds",1,"col-sm-6","text-left","pl-3","pt-2"],["color","primary",3,"value","formControlName","disabled"],[3,"matTooltip",4,"ngIf"],["class","badge badge-info","style","margin-left: 5px",4,"ngIf"],[3,"matTooltip"],[1,"badge","badge-info",2,"margin-left","5px"],[1,"button-cancel",3,"click"],[1,"button-save",3,"disabled","click"],[3,"fileOption","closePreview"]],template:function(e,t){if(1&e&&(V.Rc(0,qe,1,0,"azt-loading-effect",0),V.Rc(1,_t,93,54,"ng-template",null,1,V.Sc)),2&e){var n=V.Ac(2);V.nc("ngIf",1==t.statusObj.loading)("ngIfElse",n)}},directives:[r.m,Ee.a,s.B,s.s,s.l,s.d,s.r,s.j,He.d,Fe.b,je.c,Le.b,He.h,ze.a,je.d,Be.a,r.l,p.a,s.u,We.a,Ge.a,s.f,Je.a],pipes:[Qe.q,Qe.g,Qe.m,r.u],styles:["body[_ngcontent-%COMP%]{overflow-y:auto}.add-homework--form[_ngcontent-%COMP%]{background-color:#fff;padding:10px 8px;border:1px solid #ececec;border-radius:5px}.add-homework--form__label[_ngcontent-%COMP%]{border:1px solid #ced4da;border-bottom-left-radius:.25rem;border-top-left-radius:.25rem}.add-homework--form__label[_ngcontent-%COMP%], .add-homework--form__title[_ngcontent-%COMP%]{padding:.75rem;align-self:center;font-weight:400;line-height:1.5;color:#495057;font-size:1rem;background-color:#e9ecef}.add-homework--form__title[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px}.add-homework--form__input[_ngcontent-%COMP%]{height:100%;border-left:0;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__border[_ngcontent-%COMP%]{border-radius:4px;height:100%;border:1px solid #ced4da;border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #f4f4f4;border-radius:3px;padding:10px}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.mh-250[_ngcontent-%COMP%]{min-height:250px}.none-top__border[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.none-bottom__border[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:4px 16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:4px 2px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}.files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;box-shadow:none;margin:0 -24px}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}.files-custom[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]:disabled{background-color:rgba(0,0,0,.12)!important;border-color:rgba(0,0,0,.12)!important}.library[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none;padding:10px}.library--breadcum[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;border:1px solid #f1f1f1;border-bottom:0;border-radius:3px;border-bottom-right-radius:0;border-bottom-left-radius:0}.library--breadcum[_ngcontent-%COMP%], .library--content[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:none}.library--content[_ngcontent-%COMP%]{height:100px;background:inherit;background-color:#fff;border:1px solid #f4f4f4;border-radius:3px;border-top-left-radius:0;border-top-right-radius:0;padding:10px}  .mat-checkbox-layout{white-space:normal!important}@media screen and (max-width:768px){.px-00[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin-top:12px}}@media screen and (max-width:576px){.button-cancel[_ngcontent-%COMP%], .button-save[_ngcontent-%COMP%]{padding:8px 16px}}.mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],  .mat-checkbox-checked.mat-accent.mat-checkbox-disabled .mat-checkbox-background{background-color:#3f51b5!important}"]}),wt),Ot=c("UXJo");function St(e,t){if(1&e&&(V.Vb(0,"div",3),V.Vb(1,"h5",7),V.Tc(2),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(1),V.oc("matTooltip",n.className),V.Db(1),V.Uc(n.className)}}function Ut(e,t){1&e&&(V.Vb(0,"span",20),V.Tc(1,"M\u1edbi T\u1ea1o"),V.Ub())}function Vt(e,t){1&e&&(V.Vb(0,"span",21),V.Tc(1,"M\u1edbi T\u1ea1o"),V.Ub())}var jt,Ct=function(e){return[e]},Dt=function(e){return{backTo:e}},Tt=((jt=function(e){m(n,e);var t=g(n);function n(e){var o;return l(this,n),(o=t.call(this,e)).commonService=e,o.isMobile=!1,o.classId="0",o.backLink="",o.name="",o.className="",o.totalStudent=0,o.totalTakeTest=0,o.homeworkId=0,o.hashId="",o.isNew=0,o.redirectId=new V.o,o}return b(n,[{key:"handleRedirect",value:function(e){this.redirectId.emit(e)}},{key:"checkWidth",value:function(){this.isMobile=window.innerWidth<768}},{key:"copyLinkToClipboard",value:function(){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/bai-tap/").concat(this.hashId)}},{key:"showCopySuccess",value:function(){this.showSuccessSnack("Sao ch\xe9p \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i th\xe0nh c\xf4ng")}},{key:"onResize",value:function(e){this.isMobile=e.target.innerWidth<768}},{key:"ngOnInit",value:function(){this.checkWidth(),u(v(n.prototype),"ngOnInit",this).call(this)}}]),n}(U.a)).\u0275fac=function(e){return new(e||jt)(V.Pb(j.a))},jt.\u0275cmp=V.Jb({type:jt,selectors:[["azt-home-work-file"]],inputs:{classId:"classId",backLink:"backLink",name:"name",className:"className",dateCreated:"dateCreated",deadLine:"deadLine",totalStudent:"totalStudent",totalTakeTest:"totalTakeTest",homeworkId:"homeworkId",hashId:"hashId",isNew:"isNew"},outputs:{redirectId:"redirectId"},features:[V.Ab],decls:33,vars:24,consts:[[1,"row","mx-0","home-work-file","align-items-center","my-2",3,"resize"],[1,"col-9","pr-0","ellipsis-text",3,"click"],[1,"link-text",3,"routerLink","queryParams"],[1,"d-flex","align-items-center"],[1,"align-items-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/u416.svg"],[1,"p-2","align-items-center","ellipsis-text"],[1,"home-work-name","font-size-12","ellipsis-text",3,"matTooltip"],["class","d-flex align-items-center",4,"ngIf"],[1,"font-size-12","m-0",2,"color","#000"],["class","badge badge-success ml-2",4,"ngIf"],[1,"p-0","m-0","font-size-12",2,"color","#0EAFC0"],[1,"col-3",2,"cursor","default"],[1,"d-flex","flex-column","text-center"],["class","badge badge-success",4,"ngIf"],[1,"p-0","m-0","home-work-text"],[1,"p-0","m-0"],[1,"d-flex","justify-content-center"],["matTooltip","Copy link",1,"btn-copy",3,"cdkCopyToClipboard","click"],[2,"font-size","16px","color","#3c8dbc"],[1,"badge","badge-success","ml-2"],[1,"badge","badge-success"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.cc("resize",function(e){return t.onResize(e)},!1,V.Dc),V.Vb(1,"div",1),V.cc("click",function(){return t.handleRedirect(t.homeworkId)}),V.Vb(2,"a",2),V.hc(3,"mylocalize"),V.Vb(4,"div",3),V.Vb(5,"div",4),V.Qb(6,"img",5),V.Ub(),V.Vb(7,"div",6),V.Vb(8,"h4",7),V.Tc(9),V.Ub(),V.Rc(10,St,3,2,"div",8),V.Vb(11,"div",3),V.Vb(12,"p",9),V.Tc(13),V.hc(14,"date"),V.Ub(),V.Rc(15,Ut,2,0,"span",10),V.Ub(),V.Vb(16,"p",11),V.Tc(17),V.hc(18,"date"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(19,"div",12),V.Vb(20,"div",13),V.Vb(21,"div"),V.Rc(22,Vt,2,0,"span",14),V.Ub(),V.Vb(23,"div"),V.Vb(24,"h4",15),V.Tc(25,"\u0110\xe3 n\u1ed9p"),V.Ub(),V.Ub(),V.Vb(26,"div"),V.Vb(27,"p",16),V.Tc(28),V.Ub(),V.Ub(),V.Vb(29,"div",17),V.Vb(30,"button",18),V.cc("click",function(){return t.showCopySuccess()}),V.Vb(31,"mat-icon",19),V.Tc(32,"file_copy"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(2),V.nc("routerLink",V.tc(20,Ct,V.ic(3,12,"/admin/homework/score-list/"+t.classId+"/"+t.homeworkId+"/"+t.hashId)))("queryParams",V.tc(22,Dt,t.backLink)),V.Db(6),V.oc("matTooltip",t.name),V.Db(1),V.Uc(t.name),V.Db(1),V.nc("ngIf",null!=t.className&&""!=t.className),V.Db(3),V.Vc("Ng\xe0y t\u1ea1o : ",V.jc(14,14,t.dateCreated,"dd/MM/yyyy HH:mm"),""),V.Db(2),V.nc("ngIf",1==t.isNew&&0==t.isMobile),V.Db(2),V.Vc("H\u1ea1n n\u1ed9p : ",null!==t.deadLine?V.jc(18,17,t.deadLine,"dd/MM/yyyy HH:mm"):"Kh\xf4ng th\u1eddi h\u1ea1n"," "),V.Db(5),V.nc("ngIf",1==t.isNew&&1==t.isMobile),V.Db(6),V.Wc("",null!=t.totalTakeTest?t.totalTakeTest:0,"/",null!=t.totalStudent?t.totalStudent:0,""),V.Db(2),V.nc("cdkCopyToClipboard",t.copyLinkToClipboard()))},directives:[h.k,Be.a,r.m,Ot.a,ze.a],pipes:[Qe.p,r.e],styles:[".home-work-file[_ngcontent-%COMP%]{background-color:#fff;box-shadow:none;border:1px solid #ececec;border-radius:5px;cursor:pointer}.home-work-name[_ngcontent-%COMP%]{font-weight:500;margin:0!important}.home-work-text[_ngcontent-%COMP%]{color:#a2a2a2;font-size:12px}.font-size-12[_ngcontent-%COMP%]{font-size:12px}.btn-copy[_ngcontent-%COMP%]{padding:0;border:none;background-color:#fff;text-transform:inherit;margin:2px 0 0}.ellipsis-text[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:99%;white-space:nowrap}.block-home[_ngcontent-%COMP%]{position:relative}@media screen and (max-width:480px){.home-copy[_ngcontent-%COMP%]{display:none}}"]}),jt);function Pt(e,t){1&e&&V.Qb(0,"azt-loading-effect")}function It(e,t){1&e&&(V.Vb(0,"span",22),V.Tc(1,"Chia s\u1ebb"),V.Ub())}function Mt(e,t){1&e&&(V.Vb(0,"div"),V.Vb(1,"div",23),V.Vb(2,"div",24),V.Vb(3,"p",25),V.Tc(4),V.hc(5,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.Db(4),V.Uc(V.ic(5,1,"lang_homework_class_list_not_found_homework")))}function Rt(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Vb(1,"azt-home-work-file",27),V.cc("redirectId",function(e){V.Ec(n);var o=t.$implicit,i=V.gc(2).$implicit;return V.gc(3).redirectHomework(e,i.id&&"share"!=i.id?i.id:o.classroomId?o.classroomId.toString():"0",o.hashId?o.hashId:"")}),V.Ub(),V.Ub()}if(2&e){var o=t.$implicit,i=V.gc(2).$implicit,a=V.gc(3);V.Db(1),V.nc("classId","share"!=i.id?i.id:null==o.classroomId?null:o.classroomId.toString())("name",o.name?o.name:"")("dateCreated",o.createdAt)("deadLine",o.deadline)("totalTakeTest",o.count?o.count:0)("totalStudent",o.countStudents?o.countStudents:0)("hashId",o.hashId?o.hashId:"")("homeworkId",o.id?o.id:0)("className","share"==i.id&&o.className?o.className:"")("backLink",a.backLink)}}function At(e,t){if(1&e&&(V.Vb(0,"div"),V.Rc(1,Rt,2,10,"div",26),V.Ub()),2&e){var n=V.gc().$implicit;V.Db(1),V.nc("ngForOf",n.homeworks)}}function Nt(e,t){1&e&&V.Qb(0,"div",29)}function Et(e,t){if(1&e){var n=V.Wb();V.Tb(0),V.Vb(1,"button",30),V.cc("click",function(){V.Ec(n);var e=V.gc(2).$implicit;return V.gc(3).getClassroomHomeworkInArchive(e)}),V.hc(2,"mytranslate"),V.Vb(3,"mat-icon"),V.Tc(4,"keyboard_arrow_down"),V.Ub(),V.Ub(),V.Sb()}if(2&e){var o=V.gc(2).$implicit;V.Db(1),V.oc("matTooltip",V.ic(2,2,"lang_homework_class_list_see_more_old")),V.nc("disabled",!o.nextPage)}}function Ht(e,t){if(1&e&&(V.Vb(0,"div",28),V.Rc(1,Nt,1,0,"div",11),V.Rc(2,Et,5,4,"ng-container",12),V.Ub()),2&e){var n=V.gc().$implicit;V.Db(1),V.nc("ngIf",n.isLoadingPage),V.Db(1),V.nc("ngIf",!n.isLoadingPage)}}var Ft=function(e){return{"pb-0":e}},Lt=function(e){return[e]};function zt(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",13),V.Vb(1,"div",14),V.Vb(2,"div",15),V.Vb(3,"div",16),V.Vb(4,"p",17),V.cc("click",function(){V.Ec(n);var e=t.$implicit;return V.gc(3).goToStudentList(e.id?e.id:"0")}),V.Tc(5),V.Ub(),V.Rc(6,It,2,0,"span",18),V.hc(7,"fullPermission"),V.Ub(),V.Vb(8,"div",19),V.Vb(9,"a",20),V.hc(10,"localize"),V.Tc(11,"Xem t\u1ea5t c\u1ea3"),V.Ub(),V.Ub(),V.Ub(),V.Rc(12,Mt,6,3,"div",12),V.Rc(13,At,2,1,"div",12),V.Rc(14,Ht,3,2,"div",21),V.Ub(),V.Ub()}if(2&e){var o=t.$implicit,i=V.gc(3);V.Db(1),V.nc("ngClass",V.tc(13,Ft,1==(null==o.homeworks?null:o.homeworks.length))),V.Db(3),V.oc("matTooltip",o.name),V.Db(1),V.Vc(" ",o.name," "),V.Db(1),V.nc("ngIf",0==i.checkPermissionObj(V.jc(7,8,o.permissionObj,"classroom"))),V.Db(3),V.nc("routerLink",V.tc(15,Lt,V.ic(10,11,"/admin/homework/homework-list/"+o.id))),V.Db(3),V.nc("ngIf",0==(null==o.homeworks?null:o.homeworks.length)&&!o.nextPage),V.Db(1),V.nc("ngIf",o.homeworks&&o.homeworks.length>0),V.Db(1),V.nc("ngIf",o.homeworks&&o.homeworks.length<2)}}function Bt(e,t){1&e&&V.Qb(0,"div",29)}function Wt(e,t){if(1&e){var n=V.Wb();V.Tb(0),V.Vb(1,"button",31),V.cc("click",function(){return V.Ec(n),V.gc(3).seeMore()}),V.hc(2,"mytranslate"),V.Vb(3,"mat-icon"),V.Tc(4,"keyboard_arrow_down"),V.Ub(),V.Ub(),V.Sb()}if(2&e){var o=V.gc(3);V.Db(1),V.oc("matTooltip",V.ic(2,2,"lang_buttom_see_more")),V.nc("disabled",!o.nextPage)}}function Gt(e,t){if(1&e&&(V.Vb(0,"div",5),V.Vb(1,"div",6),V.Vb(2,"div",7),V.Vb(3,"a",8),V.hc(4,"localize"),V.Tc(5),V.hc(6,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Vb(7,"div",6),V.Rc(8,zt,15,17,"div",9),V.Ub(),V.Vb(9,"div",10),V.Rc(10,Bt,1,0,"div",11),V.Rc(11,Wt,5,4,"ng-container",12),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Db(3),V.nc("routerLink",V.tc(9,Lt,V.ic(4,5,"/admin/homework/add-new-homework/0"))),V.Db(2),V.Vc("+ ",V.ic(6,7,"lang_homework_class_list_create_homework"),""),V.Db(3),V.nc("ngForOf",n.classObjs),V.Db(2),V.nc("ngIf",1==n.loadingMore),V.Db(1),V.nc("ngIf",0==n.loadingMore)}}function Jt(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",32),V.Tc(1),V.hc(2,"mytranslate"),V.Vb(3,"a",33),V.cc("click",function(){return V.Ec(n),V.gc(2).redirectToClassList()}),V.Tc(4),V.hc(5,"mytranslate"),V.Ub(),V.Tc(6),V.hc(7,"mytranslate"),V.Ub()}2&e&&(V.Db(1),V.Vc(" ",V.ic(2,3,"lang_homework_class_list_tutorial_header"),' "'),V.Db(3),V.Vc(" ",V.ic(5,5,"lang_homework_class_list_tutorial_center")," "),V.Db(2),V.Vc('" ',V.ic(7,7,"lang_homework_class_list_tutorial_end"),". "))}function Qt(e,t){if(1&e&&(V.Rc(0,Gt,12,11,"div",3),V.Rc(1,Jt,8,9,"ng-template",null,4,V.Sc)),2&e){var n=V.Ac(2),o=V.gc();V.nc("ngIf",o.classObjs.length&&o.classObjs.length>1)("ngIfElse",n)}}var qt,$t=((qt=function(e){m(o,e);var t=g(o);function o(e,n,i,a,c){var r;return l(this,o),(r=t.call(this,n)).activeRoute=e,r.commonService=n,r.classroomService=i,r.homeworkService=a,r.browserStorageService=c,r.classObjs=[],r.nextPage="",r.loadingMore=!1,r.curPage=1,r.backLink="/admin/homework/classes/"+r.curPage,r}return b(o,[{key:"getAllClass",value:function(){var e=this;this.subscriptions.add(this.classroomService.apiClassroomGetInfoForClassroomObjsGet(this.nextPage).subscribe(function(t){var n,o,i,a,c;if(1===t.success){e.classObjs=e.classObjs.concat(null!==(o=null===(n=t.data)||void 0===n?void 0:n.classObjs)&&void 0!==o?o:[]);for(var r=0;r<e.classObjs.length;r++)e.classObjs[r].isLoadingPage=!1;e.nextPage=null!==(a=null===(i=t.data)||void 0===i?void 0:i.nextPage)&&void 0!==a?a:"",e.successStatusObj()}else e.errorStatusObj(null!==(c=t.message)&&void 0!==c?c:"",!0);e.loadingMore=!1}))}},{key:"getClassroomHomeworkInArchive",value:function(e){var t,n,o=this;e.isLoadingPage=!0,this.subscriptions.add(this.homeworkService.apiHomeworkGetObjsAndPermissionsByClassroomGet(null!==(t=e.id)&&void 0!==t?t:"0",null!==(n=e.nextPage)&&void 0!==n?n:"").subscribe(function(t){var n,i,a,c;if(1==t.success)for(var r=0;r<o.classObjs.length;r++)o.classObjs[r].id==e.id&&(o.classObjs[r].nextPage=null===(n=t.data)||void 0===n?void 0:n.nextPage,o.classObjs[r].homeworks=(null!==(i=o.classObjs[r].homeworks)&&void 0!==i?i:[]).concat(null!==(c=null===(a=t.data)||void 0===a?void 0:a.homeworkObjs)&&void 0!==c?c:[]));e.isLoadingPage=!1}))}},{key:"redirectToClassList",value:function(){this.commonService.myNavigation("/admin/student/manage-class/0")}},{key:"redirectHomework",value:function(e,t,n){this.commonService.myNavigation("/admin/homework/score-list/"+t+"/"+e+"/"+n)}},{key:"goToStudentList",value:function(e){"share"!=e&&this.commonService.myNavigation("/admin/student/class-details/"+e)}},{key:"redirectToStudentList",value:function(e){this.commonService.myNavigation("/admin/student/class-details/"+e)}},{key:"checkPermissionObj",value:function(e){return e}},{key:"seeMore",value:function(){this.loadingMore=!0,this.curPage=this.curPage+1,this.getAllClass()}},{key:"ngOnInit",value:function(){var e=this;Object(O.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){n(t);var o=Number(e.commonService.getMyParam(e.activeRoute,"page"));e.backLink="/admin/homework/classes/"+o,e.initStatusObj(),e.getAllClass()}),this.commonService.translateMetaData({title:"lang_cms_homework_class_list_title",description:"lang_cms_homework_class_list_description",image:"lang_cms_test_image"}),u(v(o.prototype),"ngOnInit",this).call(this)}},{key:"ngOnDestroy",value:function(){this.browserStorageService.clearSimpleSessionStorage(),u(v(o.prototype),"ngDestroy",this).call(this)}}]),o}(U.a)).\u0275fac=function(e){return new(e||qt)(V.Pb(h.a),V.Pb(j.a),V.Pb(S.g),V.Pb(S.J),V.Pb(I.a))},qt.\u0275cmp=V.Jb({type:qt,selectors:[["app-classes"]],features:[V.Ab],decls:5,vars:6,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","container my-3 pb-80",4,"ngIf","ngIfElse"],["noData",""],[1,"container","my-3","pb-80"],[1,"row"],[1,"col-12","text-right"],[1,"btn","btn-success",3,"routerLink"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","mt-2"],["class","spinner-border text-secondary","role","status",4,"ngIf"],[4,"ngIf"],[1,"col-md-4"],[1,"classes-remake","height-default",3,"ngClass"],[1,"row","m-0","p-0","align-items-center"],[1,"col-8","text-left","text-ellipsis"],[1,"m-0","p-0","text-ellipsis","clickable",2,"vertical-align","middle",3,"matTooltip","click"],["class","ml-2 badge badge-info","style","vertical-align: middle; margin-bottom: 2px;",4,"ngIf"],[1,"col-4","text-right"],[1,"text-right","m-0","p-0",3,"routerLink"],["class","clickable center-pos",4,"ngIf"],[1,"ml-2","badge","badge-info",2,"vertical-align","middle","margin-bottom","2px"],[1,"row","text-center","block-null"],[1,"col-12"],[1,"p-0","m-0"],[4,"ngFor","ngForOf"],[3,"classId","name","dateCreated","deadLine","totalTakeTest","totalStudent","hashId","homeworkId","className","backLink","redirectId"],[1,"clickable","center-pos"],["role","status",1,"spinner-border","text-secondary"],["mat-button","",3,"matTooltip","disabled","click"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"],[1,"text-center","p-5"],[2,"color","#2361ae","font-weight","bold",3,"click"]],template:function(e,t){if(1&e&&(V.Qb(0,"header-backend",0),V.hc(1,"mytranslate"),V.Rc(2,Pt,1,0,"azt-loading-effect",1),V.Rc(3,Qt,3,2,"ng-template",null,2,V.Sc)),2&e){var n=V.Ac(4);V.nc("headerTitle",V.ic(1,4,"lang_homework_class_list_header_title"))("back_link","/admin/testbank/dashboard"),V.Db(2),V.nc("ngIf",t.statusObj.loading&&0==t.loadingMore)("ngIfElse",n)}},directives:[Ge.a,r.m,Ee.a,h.k,r.l,r.k,Be.a,Tt,Le.b,ze.a],pipes:[Qe.q,C.d,Qe.m],styles:[".classes-remake[_ngcontent-%COMP%]{box-shadow:0 0 5px rgba(0,0,0,.08);border-radius:5px;background-color:#f3f3f3;padding:10px;margin-bottom:15px;margin-top:15px}.pb-0[_ngcontent-%COMP%]{padding-bottom:.5px!important}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.block-else[_ngcontent-%COMP%]{height:50vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.center-pos[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translateX(-50%)}.block-null[_ngcontent-%COMP%]{height:200px;align-items:center}.height-default[_ngcontent-%COMP%]{min-height:240px;position:relative}.block-else-text[_ngcontent-%COMP%]{font-size:19px;margin-bottom:25px}.text-ellipsis[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:70%;white-space:nowrap}@media screen and (max-width:768px){.block-null[_ngcontent-%COMP%]{height:86px}.height-default[_ngcontent-%COMP%]{height:auto}}.btn-all-add[_ngcontent-%COMP%]{margin:auto;background-color:#fff}"]}),qt),Yt=c("5HcS"),Kt=c("d3UM"),Xt=c("5ete"),Zt=c("1ffk");function en(e,t){if(1&e&&(V.Vb(0,"span"),V.Tc(1),V.Ub()),2&e){var n=V.gc(2);V.Db(1),V.Xc(" ",n.user_obj.id,".",n.user_obj.fullName,".Zalo:",n.user_obj.zaloId," ")}}function tn(e,t){if(1&e&&(V.Vb(0,"span"),V.Tc(1),V.hc(2,"anonymousFullName"),V.hc(3,"anonymousPhone"),V.Ub()),2&e){var n=V.gc(2);V.Db(1),V.Xc(" ",n.user_obj.id,".",V.ic(2,3,n.user_obj),".",n.user_obj.phone?n.user_obj.phone:V.ic(3,5,"")," ")}}var nn=function(e){return[e]};function on(e,t){if(1&e&&(V.Vb(0,"div",1),V.Vb(1,"p"),V.Vb(2,"a",2),V.hc(3,"localize"),V.Tc(4),V.hc(5,"mytranslate"),V.Ub(),V.Ub(),V.Vb(6,"p"),V.Tc(7),V.hc(8,"mytranslate"),V.Rc(9,en,2,3,"span",3),V.Rc(10,tn,4,7,"span",3),V.Ub(),V.Vb(11,"p"),V.Tc(12),V.hc(13,"mytranslate"),V.Vb(14,"a",4),V.Tc(15,"https://facebook.com/groups/azota.vn"),V.Ub(),V.Ub(),V.Vb(16,"p"),V.Vb(17,"a",5),V.Qb(18,"img",6),V.Ub(),V.Vb(19,"a",7),V.Qb(20,"img",8),V.Ub(),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(2),V.nc("routerLink",V.tc(14,nn,V.ic(3,6,"/student/dashboard/0"))),V.Db(2),V.Uc(V.ic(5,8,"lang_homework_utils_footer_go_to_student")),V.Db(3),V.Vc(" ",V.ic(8,10,"lang_homework_utils_footer_account"),": "),V.Db(2),V.nc("ngIf",n.user_obj.zaloId),V.Db(1),V.nc("ngIf",!n.user_obj.zaloId),V.Db(2),V.Vc("",V.ic(13,12,"lang_homework_utils_footer_join_group"),": ")}}var an,cn=((an=function(e){m(n,e);var t=g(n);function n(e,o,i){var a;return l(this,n),(a=t.call(this,o)).baseApiService=e,a.commonService=o,a.globalService=i,a.user_obj={},a}return b(n,[{key:"ngOnInit",value:function(){var e=this;this.user_obj=this.baseApiService.getUserObj(),this.globalService.loginMessage.subscribe(function(t){e.user_obj=e.baseApiService.getUserObj()}),u(v(n.prototype),"ngOnInit",this).call(this)}}]),n}(U.a)).\u0275fac=function(e){return new(e||an)(V.Pb(Xt.a),V.Pb(j.a),V.Pb(Zt.a))},an.\u0275cmp=V.Jb({type:an,selectors:[["homework-backend-footer"]],features:[V.Ab],decls:1,vars:1,consts:[["class","text-center mt-3",4,"ngIf"],[1,"text-center","mt-3"],[3,"routerLink"],[4,"ngIf"],["href","https://www.facebook.com/groups/azota.vn","target","_blank"],["href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener"],["alt","Get it on Google Play","src","https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png","width","150px",1,"play-store-badge"],["href","https://apps.apple.com/ua/app/azota/id1556025594","target","_blank","rel","noopener"],["alt","Download on the App Store","src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/2928664.svg","width","130px",1,"app-store-badge"]],template:function(e,t){1&e&&V.Rc(0,on,21,16,"div",0),2&e&&V.nc("ngIf",0!=t.user_obj.id)},directives:[r.m,h.k],pipes:[C.d,Qe.q,Qe.a,Qe.b],encapsulation:2}),an),rn=c("35wy");function sn(e,t){if(1&e&&(V.Vb(0,"mat-option",15),V.Tc(1),V.Ub()),2&e){var n=t.$implicit;V.nc("value",n.id),V.Db(1),V.Vc(" ",n.name," ")}}function ln(e,t){1&e&&V.Qb(0,"azt-loading-effect")}function dn(e,t){1&e&&(V.Vb(0,"div",18),V.Vb(1,"span",19),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Ub()),2&e&&(V.Db(2),V.Vc("",V.ic(3,1,"lang_homework_content_store_not_found_search"),"!"))}function bn(e,t){1&e&&(V.Vb(0,"span",33),V.Tc(1),V.hc(2,"mytranslate"),V.Ub()),2&e&&(V.Db(1),V.Uc(V.ic(2,1,"lang_homework_content_store_free")))}function un(e,t){if(1&e&&(V.Vb(0,"span",34),V.Tc(1),V.hc(2,"number"),V.Ub()),2&e){var n=V.gc().$implicit;V.Db(1),V.Vc("",V.ic(2,1,n.amount)," Azo")}}function mn(e,t){1&e&&(V.Vb(0,"span",35),V.Tc(1),V.hc(2,"mytranslate"),V.Ub()),2&e&&(V.Db(1),V.Uc(V.ic(2,1,"lang_homework_content_store_bought")))}function hn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",36),V.cc("click",function(){V.Ec(n);var e=V.gc().$implicit;return V.gc(3).downloadFrontFileContent(e.id?e.id:0)}),V.Vb(1,"mat-icon",37),V.Tc(2,"save_alt"),V.Ub(),V.Tc(3),V.hc(4,"mytranslate"),V.Ub()}2&e&&(V.Db(3),V.Vc(" ",V.ic(4,1,"lang_homework_content_store_download")," "))}function gn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"a",38),V.cc("click",function(){V.Ec(n);var e=V.gc().$implicit,t=V.gc(3);return t.openBuyContentDialog(e,t.userObj&&t.userObj.amount?t.userObj.amount:0)}),V.Vb(1,"mat-icon",37),V.Tc(2,"shopping_cart"),V.Ub(),V.Tc(3),V.hc(4,"mytranslate"),V.Ub()}2&e&&(V.Db(3),V.Vc(" ",V.ic(4,1,"lang_buttom_buy")," "))}function pn(e,t){if(1&e&&(V.Vb(0,"div",22),V.Vb(1,"div",23),V.Qb(2,"img",24),V.hc(3,"mycdn"),V.Vb(4,"div",25),V.Vb(5,"p",26),V.Tc(6),V.Ub(),V.Vb(7,"div",27),V.Rc(8,bn,3,3,"span",28),V.Rc(9,un,3,3,"span",29),V.Rc(10,mn,3,3,"span",30),V.Rc(11,hn,5,3,"a",31),V.Rc(12,gn,5,3,"a",32),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e){var n=t.$implicit;V.Db(2),V.oc("src",V.ic(3,7,n.thumb),V.Ic),V.Db(4),V.Uc(n.name),V.Db(2),V.nc("ngIf",0==n.amount),V.Db(1),V.nc("ngIf",0!=n.amount&&-1!=n.amount),V.Db(1),V.nc("ngIf",-1==n.amount),V.Db(1),V.nc("ngIf",0==n.amount||-1==n.amount),V.Db(1),V.nc("ngIf",(n&&n.amount?n.amount:0)>0)}}function fn(e,t){if(1&e&&(V.Vb(0,"div",20),V.Rc(1,pn,13,9,"div",21),V.Ub()),2&e){var n=V.gc(2);V.Db(1),V.nc("ngForOf",n.objs)}}function vn(e,t){if(1&e&&(V.Rc(0,dn,4,3,"div",16),V.Rc(1,fn,2,1,"ng-template",null,17,V.Sc)),2&e){var n=V.Ac(2),o=V.gc();V.nc("ngIf",o.isNullData)("ngIfElse",n)}}function kn(e,t){if(1&e&&(V.Vb(0,"div",12),V.Vb(1,"p",13),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Vb(4,"p"),V.Vb(5,"span",5),V.Tc(6),V.Ub(),V.Ub(),V.Vb(7,"span",14),V.Tc(8),V.hc(9,"mytranslate"),V.Vb(10,"span",15),V.Tc(11),V.hc(12,"number"),V.Ub(),V.Tc(13),V.hc(14,"mytranslate"),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(2),V.Uc(V.ic(3,5,"lang_homework_content_store_definitely_want_to_buy")),V.Db(4),V.Vc(" ",n.content.name,""),V.Db(2),V.Vc(" ",V.ic(9,7,"lang_homework_content_store_with_price")," "),V.Db(3),V.Vc("",V.ic(12,9,n.content.amount)," Azo"),V.Db(2),V.Vc(" ",V.ic(14,11,"lang_homework_content_store_not"),"?")}}function _n(e,t){if(1&e&&(V.Vb(0,"div",12),V.Vb(1,"p",13),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Vb(4,"p"),V.Vb(5,"span",5),V.Tc(6),V.Ub(),V.Ub(),V.Vb(7,"span",14),V.Tc(8),V.hc(9,"mytranslate"),V.Vb(10,"span",15),V.Tc(11),V.hc(12,"number"),V.Ub(),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(2),V.Uc(V.ic(3,4,"lang_homework_content_store_not_enough_azo")),V.Db(4),V.Vc(" ",n.content.name,""),V.Db(2),V.Vc(" ",V.ic(9,6,"lang_homework_content_store_with_price")," "),V.Db(3),V.Vc("",V.ic(12,8,n.content.amount)," Azo")}}function wn(e,t){1&e&&(V.Vb(0,"div",4),V.Vb(1,"span",16),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Ub()),2&e&&(V.Db(2),V.Vc(" ",V.ic(3,1,"lang_homework_content_store_please"),"!"))}function yn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",17),V.cc("click",function(){return V.Ec(n),V.gc().buyContent()}),V.Vb(1,"mat-icon",18),V.Tc(2,"shopping_cart"),V.Ub(),V.Tc(3),V.hc(4,"mytranslate"),V.Ub()}2&e&&(V.Db(3),V.Vc(" ",V.ic(4,1,"lang_buttom_buy")," "))}function xn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"button",17),V.cc("click",function(){return V.Ec(n),V.gc().gotoPack()}),V.Vb(1,"mat-icon",18),V.Tc(2,"account_balance_wallet"),V.Ub(),V.Tc(3),V.hc(4,"mytranslate"),V.Ub()}2&e&&(V.Db(3),V.Vc(" ",V.ic(4,1,"lang_homework_content_store_recharge")," "))}var On,Sn,Un=((Sn=function(e){m(o,e);var n=g(o);function o(e,t,i,a,c,r){var d;return l(this,o),(d=n.call(this,t)).activeRoute=e,d.commonService=t,d.authService=i,d.frontFileContentService=a,d.formBuilder=c,d.dialog=r,d.options={path:"https://assets8.lottiefiles.com/packages/lf20_eebdoe5f.json"},d.isNullData=!1,d.form=new s.k({}),d.subscriptions=new x.a,d.objs=[],d.categories=[],d.userObj={},d.selectedValue="",d}return b(o,[{key:"getData",value:function(){var e=this;this.initStatusObj(),this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet().subscribe(function(t){var n,o,i;1==t.success?(e.objs=null!==(o=null===(n=t.data)||void 0===n?void 0:n.objs)&&void 0!==o?o:new Array,e.successStatusObj()):e.errorStatusObj(null!==(i=t.message)&&void 0!==i?i:"")}))}},{key:"getInfo",value:function(){var e=this;this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthInfoGet().subscribe(function(t){var n,o;1==t.success?(e.userObj=null!==(n=t.data)&&void 0!==n?n:{},e.successStatusObj()):e.errorStatusObj(null!==(o=t.message)&&void 0!==o?o:"")}))}},{key:"getCategories",value:function(){var e=this;this.initStatusObj(),this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetCategoriesObjsGet().subscribe(function(t){var n,o,i;1==t.success?(e.categories=null!==(o=null===(n=t.data)||void 0===n?void 0:n.objs)&&void 0!==o?o:new Array,e.successStatusObj()):e.errorStatusObj(null!==(i=t.message)&&void 0!==i?i:"")}))}},{key:"openBuyContentDialog",value:function(e,t){this.openDialog(!(e.amount&&e.amount>t),e,t)}},{key:"openDialog",value:function(e,t,n){this.dialog.open(Vn,{width:"380px",panelClass:"buyContentDialogBox",data:{status:e,content:t,userAmount:n}}).afterClosed().subscribe(function(e){})}},{key:"selectValue",value:function(e){var t=this;this.initStatusObj(),this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet(void 0,e).subscribe(function(e){var n,o,i,a,c;1==e.success?(null===(n=e.data)||void 0===n?void 0:n.objs)&&(null===(o=e.data)||void 0===o?void 0:o.objs.length)>0?(t.isNullData=!1,t.objs=null!==(a=null===(i=e.data)||void 0===i?void 0:i.objs)&&void 0!==a?a:new Array,t.successStatusObj()):(t.isNullData=!0,t.stopStatusObj()):t.errorStatusObj(null!==(c=e.message)&&void 0!==c?c:"")}))}},{key:"onSearch",value:function(){var e=this,t=this.commonService.getFormObj(this.form);this.initStatusObj(),""==t.searchContent?(this.isNullData=!1,this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet().subscribe(function(t){var n,o,i;1==t.success?(e.objs=null!==(o=null===(n=t.data)||void 0===n?void 0:n.objs)&&void 0!==o?o:new Array,e.successStatusObj()):e.errorStatusObj(null!==(i=t.message)&&void 0!==i?i:"")}))):this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet(t.searchContent).subscribe(function(t){var n,o,i,a,c;1==t.success?((null===(n=t.data)||void 0===n?void 0:n.objs)&&0==(null===(o=t.data)||void 0===o?void 0:o.objs.length)?e.isNullData=!0:e.objs=null!==(a=null===(i=t.data)||void 0===i?void 0:i.objs)&&void 0!==a?a:new Array,e.successStatusObj()):e.errorStatusObj(null!==(c=t.message)&&void 0!==c?c:"")}))}},{key:"downloadFrontFileContent",value:function(e){var t=this;this.frontFileContentService.apiFrontFileContentGetFileLinkGet(e).subscribe(function(e){var n,o;if(1==e.success){var i=document.createElement("a");document.body.appendChild(i),i.href=null!==(o=null===(n=e.data)||void 0===n?void 0:n.link)&&void 0!==o?o:"",i.click()}else t.showErrorSnack("T\u1ea3i v\u1ec1 kh\xf4ng th\xe0nh c\xf4ng")})}},{key:"ngOnInit",value:function(){var e=this;Object(O.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(n){var o=t(n,2);o[0],o[1],e.getData(),e.getInfo(),e.getCategories()}),this.form=this.formBuilder.group({searchContent:new s.h("",s.z.required)}),this.commonService.translateMetaData({title:"lang_cms_homework_content_store_title",description:"lang_cms_homework_content_store_description",image:"lang_cms_test_image"}),u(v(o.prototype),"ngOnInit",this).call(this)}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),u(v(o.prototype),"ngDestroy",this).call(this)}}]),o}(U.a)).\u0275fac=function(e){return new(e||Sn)(V.Pb(h.a),V.Pb(j.a),V.Pb(S.d),V.Pb(Yt.a),V.Pb(s.g),V.Pb(d.b))},Sn.\u0275cmp=V.Jb({type:Sn,selectors:[["app-content-store"]],features:[V.Ab],decls:22,vars:14,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","W1200","m-auto","mt-3"],[3,"formGroup"],[1,"row","justify-content-between"],[1,"col-md-8","mt-2"],[1,"search-bar","form-group"],[1,"input-group-append"],["type","text","formControlName","searchContent",1,"form-control",3,"placeholder","keyup.enter"],["id","basic-addon2",1,"input-group-text",3,"click"],[1,"col-md-4","content-store-select"],["appearance","fill"],["name","category",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"value"],["class","text-center mt-3 mb-3",4,"ngIf","ngIfElse"],["HasData",""],[1,"text-center","mt-3","mb-3"],[1,"h3"],[1,"row","mt-2"],["class","col-12 col-sm-4 col-md-4 col-lg-4 mb-2",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","col-md-4","col-lg-4","mb-2"],[1,"card"],["alt","thumbnail",1,"card-img-top",3,"src"],[1,"card-body"],[1,"truncate","card-text"],[1,"d-flex","justify-content-between","actionZone"],["class","azo-price text-warning",4,"ngIf"],["class","azo-price text-danger",4,"ngIf"],["class","azo-price ",4,"ngIf"],["class","actionBtn clickable",3,"click",4,"ngIf"],["class","actionBtn","style","cursor: pointer;",3,"click",4,"ngIf"],[1,"azo-price","text-warning"],[1,"azo-price","text-danger"],[1,"azo-price"],[1,"actionBtn","clickable",3,"click"],[2,"vertical-align","sub"],[1,"actionBtn",2,"cursor","pointer",3,"click"]],template:function(e,t){if(1&e&&(V.Qb(0,"header-backend",0),V.hc(1,"mytranslate"),V.Vb(2,"div",1),V.Vb(3,"form",2),V.Vb(4,"div",3),V.Vb(5,"div",4),V.Vb(6,"div",5),V.Vb(7,"div",6),V.Vb(8,"input",7),V.cc("keyup.enter",function(){return t.onSearch()}),V.hc(9,"mytranslate"),V.Ub(),V.Vb(10,"button",8),V.cc("click",function(){return t.onSearch()}),V.Vb(11,"mat-icon"),V.Tc(12,"search"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(13,"div",9),V.Vb(14,"mat-form-field",10),V.Vb(15,"mat-select",11),V.cc("selectionChange",function(e){return t.selectValue(e.value)}),V.hc(16,"mytranslate"),V.Rc(17,sn,2,2,"mat-option",12),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Rc(18,ln,1,0,"azt-loading-effect",13),V.Rc(19,vn,3,2,"ng-template",null,14,V.Sc),V.Ub(),V.Qb(21,"homework-backend-footer")),2&e){var n=V.Ac(20);V.nc("headerTitle",V.ic(1,8,"lang_homework_content_store_content_bank"))("back_link","/admin/homework/classes/1"),V.Db(3),V.nc("formGroup",t.form),V.Db(5),V.oc("placeholder",V.ic(9,10,"lang_homework_content_store_search")),V.Db(7),V.oc("placeholder",V.ic(16,12,"lang_homework_content_store_all")),V.Db(2),V.nc("ngForOf",t.categories),V.Db(1),V.nc("ngIf",t.statusObj.loading)("ngIfElse",n)}},directives:[Ge.a,s.B,s.s,s.l,s.d,s.r,s.j,ze.a,He.d,Kt.a,r.l,r.m,cn,Te.n,Ee.a],pipes:[Qe.q,Qe.o,r.f],styles:[".dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;border-radius:5px}.border-test[_ngcontent-%COMP%]{border:1px solid red;min-height:50px}.azo-price[_ngcontent-%COMP%]{padding-top:5px;font-weight:500;font-size:1.2rem}.content-store-select[_ngcontent-%COMP%]{margin-top:5px}.card-text[_ngcontent-%COMP%]{display:block!important;max-width:245px!important}.content-header[_ngcontent-%COMP%]{background:inherit;background-color:#0089a7;padding:20px 0}.user_amount[_ngcontent-%COMP%]{background:inherit;background-color:#009cbe;border:none;border-radius:5px;padding:10px;box-shadow:none}.user_amount[_ngcontent-%COMP%]:hover{text-decoration:none}.mat-card-avatar[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;flex-shrink:0;object-fit:cover}@media (max-width:992px){.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px;border-radius:0}}@media (max-width:768px){.azo-price[_ngcontent-%COMP%]{padding-top:5px;font-weight:400;font-size:14px;text-align:center;position:absolute;left:20px}.actionZone[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center!important}.card-text[_ngcontent-%COMP%]{display:block!important;max-width:120px}.header-col-center[_ngcontent-%COMP%]{text-align:center!important;display:block!important}.header-col-center[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important;margin-bottom:10px!important;text-align:center!important;display:inline-flex!important}.user_amount[_ngcontent-%COMP%]{margin-left:0!important;margin-bottom:10px!important}.content-header[_ngcontent-%COMP%]{padding:20px 0 0}}"]}),Sn),Vn=((On=function(e){m(n,e);var t=g(n);function n(e,o,i,a){var c;return l(this,n),(c=t.call(this,i)).dialogRef=e,c.paymentService=o,c.commonService=i,c.data=a,c.subscriptions=new x.a,c.content={},c}return b(n,[{key:"getData",value:function(){this.initStatusObj(),this.data.content?(this.content=this.data.content,this.successStatusObj()):this.errorStatusObj("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u")}},{key:"buyContent",value:function(){var e=this;this.initStatusObj(),this.subscriptions.add(this.paymentService.apiPaymentBuyFileContentByAzoPost(this.content.id).subscribe(function(t){var n;1==t.success?(e.successStatusObj(),e.showSuccessSnack("B\u1ea1n \u0111\xe3 mua th\xe0nh c\xf4ng!"),e.onNoClick(),setTimeout(function(){document.location.reload()},3e3)):(e.errorStatusObj(null!==(n=t.message)&&void 0!==n?n:"",!0),e.showErrorSnack("Thanh to\xe1n kh\xf4ng th\xe0nh c\xf4ng!"),e.onNoClick(),setTimeout(function(){document.location.reload()},3e3))}))}},{key:"gotoPack",value:function(){this.onNoClick(),this.commonService.myNavigation("/payment/azo-pack")}},{key:"ngOnInit",value:function(){this.getData(),u(v(n.prototype),"ngOnInit",this).call(this)}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),u(v(n.prototype),"ngDestroy",this).call(this)}}]),n}(U.a)).\u0275fac=function(e){return new(e||On)(V.Pb(d.g),V.Pb(rn.a),V.Pb(j.a),V.Pb(d.a))},On.\u0275cmp=V.Jb({type:On,selectors:[["buy-content-dialog"]],features:[V.Ab],decls:21,vars:16,consts:[[3,"hidden"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"text-center"],[1,"h5"],["class","text-left","style","border: 1px dashed red; padding: 10px 5px; border-radius: 5px;",4,"ngIf"],["class","text-center",4,"ngIf"],["mat-dialog-actions","",1,"float-right"],[1,"azt-block-button"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-secondary",2,"margin-left","15px",3,"click"],[1,"text-left",2,"border","1px dashed red","padding","10px 5px","border-radius","5px"],[1,"h5","text-danger"],[1,"h5","mt-1"],[1,"text-danger"],[1,"h6","mt-2","mb-1"],[1,"btn","btn-primary",3,"click"],[2,"font-size","23px","vertical-align","sub"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"div",1),V.Vb(2,"div",2),V.Vb(3,"span",3),V.Tc(4,"..."),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(5,"div",0),V.Vb(6,"div",4),V.Vb(7,"p",5),V.Tc(8),V.hc(9,"mytranslate"),V.hc(10,"number"),V.Ub(),V.Ub(),V.Rc(11,kn,15,13,"div",6),V.Rc(12,_n,13,10,"div",6),V.Rc(13,wn,4,3,"div",7),V.Ub(),V.Vb(14,"div",8),V.Vb(15,"div",9),V.Rc(16,yn,5,3,"button",10),V.Rc(17,xn,5,3,"button",10),V.Ub(),V.Vb(18,"button",11),V.cc("click",function(){return t.onNoClick()}),V.Tc(19),V.hc(20,"mytranslate"),V.Ub(),V.Ub()),2&e&&(V.nc("hidden",!t.statusObj.loading),V.Db(5),V.nc("hidden",t.statusObj.loading),V.Db(3),V.Wc("",V.ic(9,10,"lang_homework_content_store_having")," ",V.ic(10,12,t.data.userAmount)," Azo"),V.Db(3),V.nc("ngIf",t.data.status),V.Db(1),V.nc("ngIf",!t.data.status),V.Db(1),V.nc("ngIf",!t.data.status),V.Db(3),V.nc("ngIf",t.data.status),V.Db(1),V.nc("ngIf",!t.data.status),V.Db(2),V.Uc(V.ic(20,14,"lang_buttom_cancel")))},directives:[r.m,d.c,ze.a],pipes:[Qe.q,r.f],encapsulation:2}),On);function jn(e,t){if(1&e&&(V.Vb(0,"span",14),V.Tc(1),V.Ub()),2&e){var n=V.gc().$implicit;V.Db(1),V.Vc("",n.className,", ")}}function Cn(e,t){if(1&e&&(V.Vb(0,"span",14),V.Tc(1),V.Ub()),2&e){var n=V.gc().$implicit;V.Db(1),V.Vc(" ",n.className," ")}}function Dn(e,t){if(1&e&&(V.Vb(0,"span",7),V.Rc(1,jn,2,1,"span",13),V.Rc(2,Cn,2,1,"span",13),V.Ub()),2&e){var n=t.index,o=V.gc();V.Db(1),V.nc("ngIf",n<o.listHomework.length-1),V.Db(1),V.nc("ngIf",n==o.listHomework.length-1)}}function Tn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",17),V.Vb(1,"p",18),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Vb(4,"div",19),V.Vb(5,"button",20),V.cc("click",function(){return V.Ec(n),V.gc(2).showCopySuccess()}),V.Vb(6,"span",21),V.Vb(7,"mat-icon",22),V.Tc(8,"file_copy"),V.Ub(),V.Tc(9," \xa0Copy link "),V.Ub(),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=t.$implicit,i=V.gc(2);V.Db(1),V.oc("matTooltip",o.className),V.Db(1),V.Wc("",V.ic(3,4,"lang_homework_create_homework_success_class")," : ",o.className,""),V.Db(3),V.nc("cdkCopyToClipboard",i.copylinkToClipboard(o.hashId?o.hashId:""))}}function Pn(e,t){if(1&e&&(V.Vb(0,"div",15),V.Rc(1,Tn,10,6,"div",16),V.Ub()),2&e){var n=V.gc();V.Db(1),V.nc("ngForOf",n.listHomework)}}function In(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",24),V.Vb(1,"p",25),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Vb(4,"div",19),V.Vb(5,"button",20),V.cc("click",function(){return V.Ec(n),V.gc(2).showCopySuccess()}),V.Vb(6,"span",21),V.Vb(7,"mat-icon",22),V.Tc(8,"file_copy"),V.Ub(),V.Tc(9," \xa0Copy link "),V.Ub(),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=t.$implicit,i=V.gc(2);V.Db(1),V.oc("matTooltip",o.className),V.Db(1),V.Wc("",V.ic(3,4,"lang_homework_create_homework_success_class")," : ",o.className,""),V.Db(3),V.nc("cdkCopyToClipboard",i.copylinkToClipboard(o.hashId?o.hashId:""))}}function Mn(e,t){if(1&e&&(V.Vb(0,"div",15),V.Rc(1,In,10,6,"div",23),V.Ub()),2&e){var n=V.gc();V.Db(1),V.nc("ngForOf",n.listHomework)}}var Rn,An=((Rn=function(e){m(o,e);var t=g(o);function o(e,n,i){var a;return l(this,o),(a=t.call(this,i)).activeRoute=e,a.homeworkService=n,a.commonService=i,a.subscriptions=new x.a,a.menuObjs=[],a.nameExam="",a.lstHashIds=[],a.listHomework=[],a}return b(o,[{key:"getListHomeWork",value:function(e){var t=this;this.initStatusObj(),this.subscriptions.add(this.homeworkService.apiHomeworkGetSuccessHomeworkObjsPost({homeworkHashIds:e}).subscribe(function(e){var n,o,i,a;1==e.success?(t.listHomework=null!==(o=null===(n=e.data)||void 0===n?void 0:n.objs)&&void 0!==o?o:new Array,t.nameExam=null!==(i=t.listHomework[0].name)&&void 0!==i?i:"",t.successStatusObj()):t.errorStatusObj(null!==(a=e.message)&&void 0!==a?a:"",!0)}))}},{key:"callbackMenuEvent",value:function(e){}},{key:"showCopySuccess",value:function(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i","")}},{key:"copylinkToClipboard",value:function(e){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/bai-tap/").concat(e)}},{key:"redirectClasses",value:function(){this.commonService.myNavigation("/admin/homework/classes/1")}},{key:"ngOnInit",value:function(){var e=this;Object(O.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(t){n(t);var o,i=null!==(o=e.commonService.getMyParam(e.activeRoute,"hash_ids"))&&void 0!==o?o:"";e.lstHashIds=e.commonService.parseJson(i),e.getListHomeWork(e.lstHashIds)}),u(v(o.prototype),"ngOnInit",this).call(this)}}]),o}(U.a)).\u0275fac=function(e){return new(e||Rn)(V.Pb(h.a),V.Pb(S.J),V.Pb(j.a))},Rn.\u0275cmp=V.Jb({type:Rn,selectors:[["app-create-homework-success"]],features:[V.Ab],decls:29,vars:25,consts:[[3,"menu_objs","headerTitle","back_link","MenuEvent"],[1,"container","py-5"],[1,"row","p-0","m-0"],[1,"col-md-2","p-0","m-0"],[1,"col-md-8","p-0","m-0"],[1,"box--create"],[1,"text-center","mx-auto"],[1,"font-weight-bold"],["class","font-weight-bold",4,"ngFor","ngForOf"],["class","row p-0 m-0 pt-3",4,"ngIf"],[1,"row","p-0","m-0","pt-5"],[1,"col-12","text-center"],[1,"clickable","text--blue",3,"click"],["style","word-break: break-word;",4,"ngIf"],[2,"word-break","break-word"],[1,"row","p-0","m-0","pt-3"],["class","col-md-4 text-center pb-3 d-flex flex-col",4,"ngFor","ngForOf"],[1,"col-md-4","text-center","pb-3","d-flex","flex-col"],[1,"text--over","m-0","pb-2",3,"matTooltip"],[1,"width-100"],[1,"button--copy",3,"cdkCopyToClipboard","click"],[1,"d-flex",2,"vertical-align","middle","align-items","center"],[2,"font-size","24px","color","#3c8dbc"],["class","col-md-12 text-center pb-3 d-flex flex-col",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","pb-3","d-flex","flex-col"],[1,"m-0","pb-2",3,"matTooltip"]],template:function(e,t){1&e&&(V.Vb(0,"header-backend",0),V.cc("MenuEvent",function(e){return t.callbackMenuEvent(e)}),V.hc(1,"mytranslate"),V.Ub(),V.Vb(2,"div",1),V.Vb(3,"div",2),V.Qb(4,"div",3),V.Vb(5,"div",4),V.Vb(6,"div",5),V.Vb(7,"div",6),V.Vb(8,"h4",7),V.Tc(9),V.hc(10,"mytranslate"),V.Ub(),V.Ub(),V.Vb(11,"p"),V.Tc(12),V.hc(13,"mytranslate"),V.Vb(14,"span",7),V.Tc(15),V.Ub(),V.Tc(16),V.hc(17,"mytranslate"),V.Rc(18,Dn,3,2,"span",8),V.Tc(19),V.hc(20,"mytranslate"),V.Ub(),V.Rc(21,Pn,2,1,"div",9),V.Rc(22,Mn,2,1,"div",9),V.Vb(23,"div",10),V.Vb(24,"div",11),V.Vb(25,"div",12),V.cc("click",function(){return t.redirectClasses()}),V.Tc(26),V.hc(27,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Qb(28,"div",3),V.Ub(),V.Ub()),2&e&&(V.nc("menu_objs",t.menuObjs)("headerTitle",V.ic(1,13,"lang_homework_create_homework_success_add_homework_success"))("back_link","/admin/homework/classes/1"),V.Db(9),V.Wc("",V.ic(10,15,"lang_homework_create_homework_success_create_success")," ",t.nameExam," "),V.Db(3),V.Vc(" ",V.ic(13,17,"lang_homework_create_homework_success_teacher_create_success")," "),V.Db(3),V.Vc("",t.nameExam," "),V.Db(1),V.Vc("",V.ic(17,19,"lang_homework_create_homework_success_assigned_class")," "),V.Db(2),V.nc("ngForOf",t.listHomework),V.Db(1),V.Vc(". ",V.ic(20,21,"lang_homework_create_homework_success_tutorial"),". "),V.Db(2),V.nc("ngIf",(t.listHomework?t.listHomework.length:0)>1),V.Db(1),V.nc("ngIf",1==(null==t.listHomework?null:t.listHomework.length)),V.Db(4),V.Uc(V.ic(27,23,"lang_homework_create_homework_success_back_list_homework")))},directives:[Ge.a,r.l,r.m,Be.a,Ot.a,ze.a],pipes:[Qe.q],styles:[".box--create[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ececec;border-radius:5px;padding:20px}.button--copy[_ngcontent-%COMP%]{background-color:#f7f7f7;border:1px solid #e8e8e8;border-radius:5px;cursor:pointer;padding:8px 18px;font-size:13px;text-transform:capitalize;color:#3c8dbc;align-items:center;vertical-align:middle}.box-class[_ngcontent-%COMP%], .flex-col[_ngcontent-%COMP%]{flex-direction:column}.flex-col[_ngcontent-%COMP%]{justify-content:center}.text--blue[_ngcontent-%COMP%]{color:#3c8dbc}.text--over[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:99%;white-space:nowrap}@media screen and (max-width:767px){.width-100[_ngcontent-%COMP%]{width:100%;max-width:100%}.button--copy[_ngcontent-%COMP%]{width:100%}}"]}),Rn),Nn=c("Iab2"),En=c("xOOu"),Hn=c("unp7"),Fn=c("Tro7"),Ln=c("NGVo"),zn=c("loSA");function Bn(e,t){1&e&&V.Qb(0,"azt-loading-effect")}function Wn(e,t){1&e&&V.Qb(0,"span",29)}function Gn(e,t){if(1&e&&(V.Vb(0,"div",11),V.Rc(1,Wn,1,0,"span",28),V.Tc(2),V.hc(3,"mytranslate"),V.Ub()),2&e){var n=V.gc(4);V.Db(1),V.nc("ngIf",n.countDonePdf<((null==n.curExportArr?null:n.curExportArr.length)||-1)),V.Db(1),V.Xc(" ",V.ic(3,4,"lang_homework_export_homework_request"),"",n.countDonePdf," / ",null==n.curExportArr?null:n.curExportArr.length," ")}}function Jn(e,t){if(1&e&&(V.Vb(0,"div",11),V.Vb(1,"mat-icon",30),V.Tc(2," check_circle "),V.Ub(),V.Tc(3),V.hc(4,"mytranslate"),V.Ub()),2&e){var n=V.gc(4);V.Db(3),V.Xc(" ",V.ic(4,3,"lang_homework_export_homework_complete")," ",n.countDonePdf," / ",(null==n.curExportArr?null:n.curExportArr.length)||0," ")}}var Qn=function(){return{fontFamily:"font_chu_dam"}};function qn(e,t){if(1&e&&(V.Vb(0,"div",31),V.Vb(1,"span",32),V.Qb(2,"azt-check-mark",33),V.Ub(),V.Vb(3,"span",26),V.Tc(4),V.hc(5,"mytranslate"),V.Ub(),V.Ub()),2&e){var n=V.gc(4);V.nc("ngClass",n.curAnswer.resultParse.hideMark?"":"display")("hidden",n.curAnswer.resultParse.hideMark),V.Db(1),V.nc("ngStyle",V.sc(7,Qn)),V.Db(1),V.nc("mark",n.curAnswer.resultParse.point),V.Db(2),V.Uc(V.ic(5,5,"lang_point"))}}var $n=function(e){return{"font-family":e}};function Yn(e,t){if(1&e&&V.Qb(0,"div",34),2&e){var n=V.gc(4);V.nc("ngStyle",V.tc(2,$n,null!=n.curAnswer.resultParse&&null!=n.curAnswer.resultParse.staticTextConfig&&n.curAnswer.resultParse.staticTextConfig.txtCommentFont?null==n.curAnswer.resultParse||null==n.curAnswer.resultParse.staticTextConfig?null:n.curAnswer.resultParse.staticTextConfig.txtCommentFont:"font_chu_dep"))("innerHtml",null==n.curAnswer.resultParse?null:n.curAnswer.resultParse.comment,V.Fc)}}function Kn(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",5),V.Vb(1,"div",6),V.Vb(2,"div",7),V.Vb(3,"div",8),V.Vb(4,"div",9),V.Vb(5,"h1",10),V.Tc(6),V.hc(7,"mytranslate"),V.Ub(),V.Vb(8,"div",11),V.Tc(9),V.hc(10,"mytranslate"),V.Ub(),V.Vb(11,"div",11),V.Vb(12,"button",12),V.cc("click",function(){V.Ec(n);var e=V.gc(3);return e.openDialog(e.submitedStudents)}),V.Tc(13),V.hc(14,"mytranslate"),V.Ub(),V.Ub(),V.Rc(15,Gn,4,6,"div",13),V.Rc(16,Jn,5,5,"div",13),V.Vb(17,"div",14),V.Vb(18,"div",15),V.Vb(19,"h2",16),V.Vb(20,"span"),V.Tc(21),V.hc(22,"mytranslate"),V.Ub(),V.Ub(),V.Vb(23,"div",17),V.Vb(24,"div",18),V.Vb(25,"h3",19),V.Tc(26),V.hc(27,"mytranslate"),V.Ub(),V.Vb(28,"h3",19),V.Tc(29),V.hc(30,"mytranslate"),V.Ub(),V.Ub(),V.Vb(31,"div",20),V.Vb(32,"h3",19),V.Tc(33),V.hc(34,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Vb(35,"div",21),V.Vb(36,"div",22),V.Rc(37,qn,6,8,"div",23),V.Vb(38,"div",24),V.Rc(39,Yn,1,4,"div",25),V.Vb(40,"span",26),V.Tc(41),V.hc(42,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Qb(43,"azt-export-essay-template",27),V.hc(44,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=V.gc(3);V.Db(6),V.Uc(V.ic(7,19,"lang_homework_export_homework_export_pdf")),V.Db(3),V.Wc(" ",V.ic(10,21,"lang_homework_export_homework_number_student_dotted"),": ",o.submitedStudents.length," "),V.Db(4),V.Vc(" ",V.ic(14,23,"lang_homework_export_homework_continue"),""),V.Db(2),V.nc("ngIf",o.isProcessingPdf),V.Db(1),V.nc("ngIf",((null==o.curExportArr?null:o.curExportArr.length)||-1)>0&&o.countDonePdf===((null==o.curExportArr?null:o.curExportArr.length)||0)),V.Db(5),V.Wc("",V.ic(22,25,"lang_first_and_last_name"),": ",null==o.curAnswer?null:o.curAnswer.fullName,""),V.Db(5),V.Wc("",V.ic(27,27,"lang_homework_export_homework_class"),": ",null==o.data.classroomObj?null:o.data.classroomObj.name,""),V.Db(3),V.Wc("",V.ic(30,29,"lang_homework_export_homework_home_work"),": ",null==o.data.homeworkObj?null:o.data.homeworkObj.name,""),V.Db(4),V.Wc("",V.ic(34,31,"lang_homework_export_homework_code"),": ",null==o.curAnswer?null:o.curAnswer.id,""),V.Db(4),V.nc("ngIf",o.curAnswer.resultParse),V.Db(2),V.nc("ngIf",null==o.curAnswer.resultParse?null:o.curAnswer.resultParse.comment),V.Db(2),V.Uc(V.ic(42,33,"lang_homework_export_homework_comment_of_teacher")),V.Db(2),V.nc("title",V.ic(44,35,"lang_homework_export_homework_assignment"))("result",null==o.curAnswer?null:o.curAnswer.resultParse)}}function Xn(e,t){1&e&&(V.Vb(0,"div",35),V.Vb(1,"div",36),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Ub()),2&e&&(V.Db(2),V.Uc(V.ic(3,1,"lang_homework_export_homework_request_marking")))}function Zn(e,t){if(1&e&&(V.Rc(0,Kn,45,37,"div",3),V.Rc(1,Xn,4,3,"ng-template",null,4,V.Sc)),2&e){var n=V.Ac(2),o=V.gc(2);V.nc("ngIf",o.submitedStudents.length>0)("ngIfElse",n)}}function eo(e,t){if(1&e&&(V.Tb(0),V.Rc(1,Bn,1,0,"azt-loading-effect",0),V.Rc(2,Zn,3,2,"ng-template",null,2,V.Sc),V.Sb()),2&e){var n=V.Ac(3),o=V.gc();V.Db(1),V.nc("ngIf",o.statusObj.loading)("ngIfElse",n)}}function to(e,t){1&e&&(V.Vb(0,"div",37),V.Tc(1),V.hc(2,"mytranslate"),V.Ub()),2&e&&(V.Db(1),V.Uc(V.ic(2,1,"lang_homework_export_homework_request_browser")))}function no(e,t){if(1&e&&(V.Vb(0,"mat-checkbox",10),V.Tc(1),V.Ub()),2&e){var n=t.index,o=V.gc();V.nc("checked",o.form.value.exports[n])("formControlName",n),V.Db(1),V.Wc(" ",n+1,". ",o.data.resultsArr[n].fullName," ")}}var oo,io,ao=function(e){return{selects:e}},co=((io=function(t){m(o,t);var n=g(o);function o(e,t,i,a,c,r,s,d){var b;return l(this,o),(b=n.call(this,a)).cdr=e,b.answerService=t,b.dialog=i,b.commonService=a,b.activeRoute=c,b.exportPdfService=r,b.newPdfExportService=s,b.zipdataService=d,b.curAnswer={},b.data={},b.submitedStudents=[],b.countDonePdf=0,b.myZip=new En,b.isProcessingPdf=!1,b.homeworkHashId="",b}return b(o,[{key:"getJson",value:function(e){return this.commonService.parseJson(e)}},{key:"openDialog",value:function(e){var t=this;this.dialog.open(ro,{width:"1100px",data:{resultsArr:e}}).afterClosed().subscribe(function(n){if(n){for(var o=[],i=0;i<n.selects.length;i++)n.selects[i]&&o.push(e[i]);t.zipAll(o)}})}},{key:"finalSaveAll",value:function(){var e=this;this.myZip.generateAsync({type:"blob"}).then(function(t){var n,o,i,a;e.countDonePdf++;var c=e.commonService.createFileNameExportFile([null!==(o=null===(n=e.data.classroomObj)||void 0===n?void 0:n.name)&&void 0!==o?o:"",null!==(a=null===(i=e.data.homeworkObj)||void 0===i?void 0:i.name)&&void 0!==a?a:""])+"_homework_result.zip";Object(Nn.saveAs)(t,c),console.log("after save"),e.isProcessingPdf=!1,e.cdr.detectChanges()},function(e){console.log(e)})}},{key:"zipAll",value:function(t){var n,o,i,a,c,r;return Object(Ve.a)(this,void 0,void 0,regeneratorRuntime.mark(function s(){var l,d,b,u,m,h;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:this.isProcessingPdf=!0,this.countDonePdf=0,this.curExportArr=t,this.myZip=new En,l=e(t),s.prev=2,l.s();case 4:if((d=l.n()).done){s.next=38;break}return b=d.value,s.next=8,this.answerService.apiAnswerGetObjGet(this.homeworkHashId,null===(n=b.answer)||void 0===n?void 0:n.id).toPromise();case 8:if(1!=(u=s.sent).success){s.next=35;break}if(this.zipdataService.convertSubmittedAnswersObj(null===(o=u.data)||void 0===o?void 0:o.answerObj),m=this.castObj(null===(i=u.data)||void 0===i?void 0:i.answerObj),this.curAnswer=null!=m?m:{},this.curAnswer.fullName=null!==(c=this.commonService.convertVietnameseToEnglish(null!==(a=b.fullName)&&void 0!==a?a:""))&&void 0!==c?c:"",s.t0=this.curAnswer.result,!s.t0){s.next=20;break}return s.next=18,this.exportPdfService.processUserResult(this.curAnswer.result);case 18:this.curAnswer.resultParse=s.sent,console.log("%cMyProject%cline:97%cthis.curAnswer.resultParse","color:#fff;background:#ee6f57;padding:3px;border-radius:2px","color:#fff;background:#1f3c88;padding:3px;border-radius:2px","color:#fff;background:rgb(118, 77, 57);padding:3px;border-radius:2px",this.curAnswer.resultParse);case 20:return s.prev=20,s.next=23,this.exportPdfService.asyncTimeout(3e3);case 23:return s.next=25,this.newPdfExportService.homeworkToPdf();case 25:h=s.sent,this.myZip.file("results/".concat(this.commonService.convertVietnameseToEnglish(this.curAnswer.fullName),"_").concat(this.curAnswer.id,".pdf"),h),s.next=32;break;case 29:s.prev=29,s.t1=s.catch(20),console.log(s.t1);case 32:this.countDonePdf<t.length-1&&this.countDonePdf++,s.next=36;break;case 35:this.errorStatusObj(null!==(r=u.message)&&void 0!==r?r:"",!0);case 36:s.next=4;break;case 38:s.next=43;break;case 40:s.prev=40,s.t2=s.catch(2),l.e(s.t2);case 43:return s.prev=43,l.f(),s.finish(43);case 46:this.finalSaveAll();case 47:case"end":return s.stop()}},s,this,[[2,40,43,46],[20,29]])}))}},{key:"getData",value:function(){var e=this;this.class_id&&this.homework_id?this.answerService.apiAnswerGetStudentsHomeworkGet(parseInt(this.homework_id,10),this.homeworkHashId,parseInt(this.class_id,10)).subscribe(function(t){var n,o,i,a,c,r,s,l;1==t.success?(e.zipdataService.convertStudentsHomeworkObj(null===(n=t.data)||void 0===n?void 0:n.studentObjs),e.data=null!==(o=t.data)&&void 0!==o?o:{},e.submitedStudents=t.data&&Array.isArray(null===(i=t.data)||void 0===i?void 0:i.studentObjs)?null===(a=t.data)||void 0===a?void 0:a.studentObjs.filter(function(e){return e.confirmedAt}):new Array,e.submitedStudents.length>0?e.answerService.apiAnswerGetObjGet(e.homeworkHashId,null!==(s=null===(r=null===(c=e.submitedStudents[0])||void 0===c?void 0:c.answer)||void 0===r?void 0:r.id)&&void 0!==s?s:0).subscribe(function(n){var o,i,a,c;if(1==n.success){e.zipdataService.convertSubmittedAnswersObj(null===(o=n.data)||void 0===o?void 0:o.answerObj);var r=e.castObj(null===(i=n.data)||void 0===i?void 0:i.answerObj);e.curAnswer=null!=r?r:{},e.curAnswer.fullName=e.submitedStudents[0].fullName,e.curAnswer.result&&(e.curAnswer.resultParse=e.commonService.parseJson(null!==(a=e.curAnswer.result)&&void 0!==a?a:"")),e.successStatusObj()}else e.errorStatusObj(null!==(c=t.message)&&void 0!==c?c:"",!0)}):e.stopStatusObj()):e.errorStatusObj(null!==(l=t.message)&&void 0!==l?l:"",!0)}):(this.stopStatusObj(),this.showErrorSnack("Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin l\u1edbp h\u1ecdc, b\xe0i t\u1eadp"))}},{key:"ngOnInit",value:function(){var e,t=this;this.homeworkHashId=null!==(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==e?e:"",this.isSupportedBrowswer=this.exportPdfService.isSupportedBrowswer(),this.isSupportedBrowswer&&(this.initStatusObj(),this.commonService.loadScriptPromises([{source:"https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/js/html2pdf.bundle.js?v=28092021",name:"html2pdf.bundle.js"}]).then(function(){t.commonService.translateMetaData({title:"Xu\u1ea5t PDF b\xe0i t\u1eadp",description:"Xu\u1ea5t pdf b\xe0i t\u1eadp",image:"lang_cms_test_image"}),t.getData()})),u(v(o.prototype),"ngOnInit",this).call(this)}},{key:"class_id",get:function(){var e;return null!==(e=this.activeRoute.snapshot.paramMap.get("class_id"))&&void 0!==e?e:""}},{key:"homework_id",get:function(){var e;return null!==(e=this.activeRoute.snapshot.paramMap.get("id"))&&void 0!==e?e:""}}]),o}(U.a)).\u0275fac=function(e){return new(e||io)(V.Pb(V.h),V.Pb(D.a),V.Pb(d.b),V.Pb(j.a),V.Pb(h.a),V.Pb(Hn.a),V.Pb(Fn.a),V.Pb(T.a))},io.\u0275cmp=V.Jb({type:io,selectors:[["app-export-homework"]],features:[V.Ab],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notBrowserSupport",""],["doneLoading",""],["id","test_review_container","class","container-fluid mt-2",4,"ngIf","ngIfElse"],["noSubmit",""],["id","test_review_container",1,"container-fluid","mt-2"],["id","tabRowExam",1,"row",2,"margin-bottom","10px"],["id","test_review_area",1,"col"],["id","col_examContent_wrap",2,"width","1100px!important","margin","0 auto"],["id","mbTestContent"],[1,"text-center"],[1,"buttons-area","mb-3","text-center"],[1,"btn","btn-info",3,"click"],["class","buttons-area mb-3 text-center",4,"ngIf"],["id","multipleChoiceWrap",1,"exportPdfModeIndex",2,"padding","30px"],["id","multipleChoiceWrapHeader"],["id","mainTitle",1,"mb-1","text-center"],["id","detailInfo",1,"d-flex","justify-content-between"],["id","colLeftInfo"],[1,"mb-0"],["id","colRightInfo"],["id","teacherMessage",1,"pt-5"],[1,"contentNote"],["class","box-point",3,"ngClass","hidden",4,"ngIf"],[1,"box-msg"],["class","note",3,"ngStyle","innerHtml",4,"ngIf"],[1,"cap"],[3,"title","result"],["style","color: darkgrey;","class","spinner-border spinner-border-sm","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","darkgrey"],[2,"color","green","vertical-align","bottom"],[1,"box-point",3,"ngClass","hidden"],[1,"point",3,"ngStyle"],[3,"mark"],[1,"note",3,"ngStyle","innerHtml"],[2,"padding","50px"],[1,"alert","alert-info"],[1,"p-5","text-center","alert","alert-danger"]],template:function(e,t){if(1&e&&(V.Rc(0,eo,4,2,"ng-container",0),V.Rc(1,to,3,3,"ng-template",null,1,V.Sc)),2&e){var n=V.Ac(2);V.nc("ngIf",t.isSupportedBrowswer)("ngIfElse",n)}},directives:[r.m,Ee.a,Ln.a,ze.a,r.k,r.n,zn.a],pipes:[Qe.q],styles:["#test_review_container[_ngcontent-%COMP%]{background:#ecf0f5;flex:auto;padding-top:15px}#tester-info[_ngcontent-%COMP%]{width:300px;padding:15px;background-color:#fff;margin:0 auto;position:sticky;top:10px;max-height:calc(100vh - 10px);display:flex;flex-direction:column;max-width:100%;border-radius:3px;border:1px solid #f1f1f1}#short_cut_mobile[_ngcontent-%COMP%]{display:none}#fullPoint[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #f1f1f1;background-color:#fafafa;padding:10px;margin-top:15px;align-items:center}#fullPoint[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{font-weight:500;font-size:130%}.tested-times[_ngcontent-%COMP%]{margin-top:15px}.tested-times[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{border:1px solid #f1f1f1;background-color:#fafafa;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;border:1px solid #f1f1f1;border-top:none;margin-bottom:0;background-color:#fff;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select[_ngcontent-%COMP%]{font-weight:500}.tested-times[_ngcontent-%COMP%]:last-child{flex:auto;overflow:auto}#multipleChoiceWrapHeader[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}.exportPdfModeIndex[_ngcontent-%COMP%]{background-color:#fff;padding-top:30px;padding-bottom:30px}#unsupportFallback[_ngcontent-%COMP%]{width:750px;height:350px;border:1px solid grey;border-radius:3px;display:flex;align-items:center;justify-content:center}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]{display:flex}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{position:absolute;top:-30px;font-family:font_chu_dep;font-weight:700;font-size:25px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-point[_ngcontent-%COMP%]{width:200px;min-width:200px;min-height:200px;border:2px solid #333;border-right:none;position:relative;display:flex;align-items:center;justify-content:center;padding:15px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-point[_ngcontent-%COMP%]   span.point[_ngcontent-%COMP%]{color:red;font-size:60px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]{border:2px solid #333;padding:15px;position:relative;flex:auto;min-height:200px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{width:100%;height:100%;border:none;color:red;font-size:24px;line-height:1.5}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{left:300px}.fading_layer[_ngcontent-%COMP%]{position:absolute;z-index:9;background-color:hsla(0,0%,100%,.8901960784313725);width:100%;height:100%;top:0;left:0;padding-top:200px;text-align:center;color:#a9a9a9;font-size:16px}#filterWrap[_ngcontent-%COMP%]{position:absolute;right:0;top:-4px;z-index:2}.viewRight[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%], .viewWrong[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{display:none}#col_examContent_wrap[_ngcontent-%COMP%]{width:1100px;margin:0 auto}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{position:fixed;right:5px;top:50%;z-index:3;font-size:35px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:hsla(0,0%,78.8%,.47843137254901963);border-radius:50%;color:#fff;margin-top:-20px}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon.prev_icon[_ngcontent-%COMP%]{left:5px}#mbTestContent[_ngcontent-%COMP%]{position:relative}#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:none;position:absolute;top:12px;color:#646464;z-index:100}#test_review_container.toggleNavInfo[_ngcontent-%COMP%]   #col_std_info[_ngcontent-%COMP%]{left:0}#close_button[_ngcontent-%COMP%]{color:red;position:absolute;right:5px;top:5px}@media screen and (max-width:320px){#tester-info[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:480px){#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:inline-block}#test_review_container[_ngcontent-%COMP%]{padding-top:0}#col_std_info[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;z-index:99999;background:rgba(0,0,0,.611764705882353);bottom:0;padding:0;transition:all .5s}#short_cut_mobile[_ngcontent-%COMP%]{display:flex;font-weight:500;font-size:18px;justify-content:space-between;color:#4a4a4a}#header-app-component[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{padding-left:0!important}#tester-info[_ngcontent-%COMP%]{margin:0;position:relative;height:100%;max-height:unset;top:0}#multipleChoiceWrap[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px;padding-top:5px}}.buttons-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none!important}@media screen and (max-width:1600px){#col_examContent_wrap[_ngcontent-%COMP%]{width:100%}}"]}),io),ro=((oo=function(e){m(n,e);var t=g(n);function n(e,o,i,a){var c;return l(this,n),(c=t.call(this,o)).dialogRef=e,c.commonService=o,c.fb=i,c.data=a,c.form=new s.k({}),c.isSelectAll=new s.h(!1),c}return b(n,[{key:"selectAll",value:function(){var e=this,t=[];this.data.resultsArr.forEach(function(){t.push(e.isSelectAll.value)}),this.form.controls.exports.setValue(t)}},{key:"ngOnInit",value:function(){var e=this;this.form=this.fb.group({exports:new s.e([],so(1))}),this.data.resultsArr.forEach(function(){e.exportsFormArray.push(new s.h(!1))}),u(v(n.prototype),"ngOnInit",this).call(this)}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"exportsFormArray",get:function(){return this.form.controls.exports}},{key:"countSelected",get:function(){return this.exportsFormArray.value.filter(function(e){return!0===e}).length}}]),n}(U.a)).\u0275fac=function(e){return new(e||oo)(V.Pb(d.g),V.Pb(j.a),V.Pb(s.g),V.Pb(d.a))},oo.\u0275cmp=V.Jb({type:oo,selectors:[["what-export-dialog"]],features:[V.Ab],decls:24,vars:28,consts:[[1,"text-center","mb-2"],[1,"h4"],[1,"clickable","d-flex","align-items-center",2,"font-weight","500"],["color","primary",1,"example-margin",3,"formControl","change"],["mat-dialog-content","",1,"mt-3"],[3,"formGroup"],["formArrayName","exports","ngFor","",3,"ngForOf"],[1,"text-right"],["mat-raised-button","",1,"mr-2",3,"click"],["mat-raised-button","","color","warn",3,"disabled","mat-dialog-close"],["color","primary",1,"mr-2","mb-2",3,"checked","formControlName"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"span",1),V.Tc(2),V.hc(3,"mytranslate"),V.Ub(),V.Ub(),V.Vb(4,"p"),V.Vb(5,"i"),V.Tc(6),V.hc(7,"mytranslate"),V.hc(8,"mytranslate"),V.Ub(),V.Ub(),V.Vb(9,"span",2),V.Vb(10,"mat-checkbox",3),V.cc("change",function(){return t.selectAll()}),V.Tc(11),V.hc(12,"mytranslate"),V.hc(13,"mytranslate"),V.Ub(),V.Ub(),V.Vb(14,"div",4),V.Vb(15,"form",5),V.Rc(16,no,2,4,"ng-template",6),V.Ub(),V.Ub(),V.Vb(17,"div",7),V.Vb(18,"button",8),V.cc("click",function(){return t.onNoClick()}),V.Tc(19),V.hc(20,"mytranslate"),V.Ub(),V.Vb(21,"button",9),V.Tc(22),V.hc(23,"mytranslate"),V.Ub(),V.Ub()),2&e&&(V.Db(2),V.Vc(" ",V.ic(3,12,"lang_homework_export_homework_select_students_export_pdf"),"!"),V.Db(4),V.Xc("*** ",V.ic(7,14,"lang_homework_export_homework_tutorial")," (",V.ic(8,16,"lang_homework_export_homework_choose"),": ",t.countSelected,")"),V.Db(4),V.nc("formControl",t.isSelectAll),V.Db(1),V.Uc(t.isSelectAll.value?V.ic(12,18,"lang_homework_export_homework_clear_select_all"):V.ic(13,20,"lang_homework_export_homework_select_all")),V.Db(4),V.nc("formGroup",t.form),V.Db(1),V.nc("ngForOf",t.exportsFormArray.controls),V.Db(3),V.Uc(V.ic(20,22,"lang_buttom_cancel_clear")),V.Db(2),V.nc("disabled",!t.form.valid)("mat-dialog-close",V.tc(26,ao,t.exportsFormArray.value)),V.Db(1),V.Uc(V.ic(23,24,"lang_buttom_agree")))},directives:[We.a,s.r,s.i,d.e,s.B,s.s,s.l,s.f,r.l,Le.b,d.d,s.j],pipes:[Qe.q],encapsulation:2}),oo);function so(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return t.controls.map(function(e){return e.value}).reduce(function(e,t){return t?e+t:e},0)>=e?null:{required:!0}}}var lo=c("EUZL"),bo=c("k9IB");function uo(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",14),V.Vb(1,"azt-home-work-file",15),V.cc("redirectId",function(e){V.Ec(n);var o=t.$implicit,i=V.gc(3);return i.redirectHomework(e,"share"!=i.classroomId?i.classroomId:o.classroomId?o.classroomId.toString():"0",o.hashId?o.hashId:"")}),V.Ub(),V.Ub()}if(2&e){var o=t.$implicit,i=V.gc(3);V.Db(1),V.nc("classId","share"!=i.classroomId?i.classroomId:null==o.classroomId?null:o.classroomId.toString())("name",o.name?o.name:"")("dateCreated",o.createdAt)("deadLine",o.deadline)("totalTakeTest",o.count?o.count:0)("totalStudent",o.countStudents?o.countStudents:0)("homeworkId",o.id?o.id:0)("isNew",o.isNew?o.isNew:0)("hashId",o.hashId?o.hashId:"")("className","share"==i.classroomId&&o.className?o.className:"")("backLink",i.backLink)}}function mo(e,t){if(1&e&&(V.Vb(0,"div"),V.Vb(1,"div",12),V.Rc(2,uo,2,11,"div",13),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Db(2),V.nc("ngForOf",n.homeworkObjs)}}function ho(e,t){if(1&e&&(V.Vb(0,"div"),V.Vb(1,"div",16),V.Vb(2,"div",17),V.Vb(3,"p",18),V.Tc(4),V.hc(5,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e){var n=V.gc(2);V.Db(4),V.Uc(n.checkDataHomeworkObjsSearch?V.ic(5,1,"lang_homework_homework_list_not_found"):"lang_homework_homework_list_not_assigned")}}function go(e,t){1&e&&V.Qb(0,"div",19)}function po(e,t){if(1&e){var n=V.Wb();V.Tb(0),V.Vb(1,"button",20),V.cc("click",function(){return V.Ec(n),V.gc(2).seeMore()}),V.hc(2,"mytranslate"),V.Vb(3,"mat-icon"),V.Tc(4,"keyboard_arrow_down"),V.Ub(),V.Ub(),V.Sb()}if(2&e){var o=V.gc(2);V.Db(1),V.oc("matTooltip",V.ic(2,2,"lang_homework_homework_list_see_more")),V.nc("disabled",!o.nextPage)}}function fo(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",2),V.Vb(1,"div",3),V.Vb(2,"div",4),V.Vb(3,"div",5),V.Vb(4,"div",6),V.Vb(5,"input",7),V.cc("change",function(){return V.Ec(n),V.gc().changeValueSearch()})("keyup.enter",function(){return V.Ec(n),V.gc().changeValueSearch()}),V.hc(6,"mytranslate"),V.Ub(),V.Vb(7,"mat-icon",8),V.cc("click",function(){return V.Ec(n),V.gc().changeValueSearch()}),V.Tc(8,"search"),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Rc(9,mo,3,1,"div",9),V.Rc(10,ho,6,3,"div",9),V.Vb(11,"div",10),V.Rc(12,go,1,0,"div",11),V.Rc(13,po,5,4,"ng-container",9),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=V.gc();V.Db(5),V.oc("placeholder",V.ic(6,6,"lang_homework_homework_list_search")),V.nc("formControl",o.searchText),V.Db(4),V.nc("ngIf",o.homeworkObjs.length>0),V.Db(1),V.nc("ngIf",0==o.homeworkObjs.length&&!o.loadingMore),V.Db(2),V.nc("ngIf",!0===o.loadingMore),V.Db(1),V.nc("ngIf",!1===o.loadingMore&&0==o.checkDataHomeworkObjsSearch)}}var vo,ko,_o,wo=((_o=function(e){m(o,e);var t=g(o);function o(e,n,i,a,c,r,d){var b;return l(this,o),(b=t.call(this,n)).activeRoute=e,b.commonService=n,b.homeworkService=i,b.classroomService=a,b.zipdataService=c,b.timeService=r,b.sortService=d,b.classroomId="0",b.menuObjs=[],b.classroomObj={},b.rawHomeworkObjs=[],b.homeworkObjs=[],b.checkNew=!1,b.nextPage="",b.ParamNextPage="",b.checkDataHomeworkObjsSearch=!1,b.loadingMore=!1,b.searchText=new s.h(""),b.backLink="",b}return b(o,[{key:"changeValueSearch",value:function(){if(""!=this.searchText.value){this.checkDataHomeworkObjsSearch=!0;var e=this.commonService.searchArray(this.rawHomeworkObjs,this.searchText.value);this.homeworkObjs=Array.isArray(e)?e:[]}else this.homeworkObjs=this.rawHomeworkObjs}},{key:"getData",value:function(){var e=this;this.initStatusObj(),this.loadingMore=!0,this.subscriptions.add(this.homeworkService.apiHomeworkGetObjsAndPermissionsByClassroomGet(this.classroomId.toString(),this.ParamNextPage).subscribe(function(t){var n,o,i,a,c,r,s,l,d;1==t.success?(e.nextPage=null!==(o=null===(n=t.data)||void 0===n?void 0:n.nextPage)&&void 0!==o?o:"",0==(null===(a=null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.homeworkObjs)||void 0===a?void 0:a.length)&&e.nextPage?e.seeMore():(e.classroomObj=null!==(r=null===(c=t.data)||void 0===c?void 0:c.classroomObj)&&void 0!==r?r:{},e.rawHomeworkObjs=e.rawHomeworkObjs.concat(null!==(l=null===(s=t.data)||void 0===s?void 0:s.homeworkObjs)&&void 0!==l?l:new Array),e.homeworkObjs=e.rawHomeworkObjs,"share"!=e.classroomId&&(e.menuObjs=[{code:"logPoidClass",name:"Xu\u1ea5t b\u1ea3ng \u0111i\u1ec3m l\u1edbp h\u1ecdc"}]),e.successStatusObj(),e.loadingMore=!1)):(e.errorStatusObj(null!==(d=t.message)&&void 0!==d?d:""),e.showErrorSnack("L\u1ed7i: kh\xf4ng load \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u l\u1edbp h\u1ecdc"),e.loadingMore=!1)}))}},{key:"seeMore",value:function(){this.ParamNextPage=this.nextPage,this.getData()}},{key:"redirectHomework",value:function(e,t,n){this.commonService.myNavigation("/admin/homework/score-list/"+t+"/"+e+"/"+n)}},{key:"changePermission",value:function(){this.getData()}},{key:"callbackMenuEvent",value:function(e){var t=this;if("logPoidClass"==e){var n=["STT","H\u1ecd v\xe0 t\xean","M\xe3 h\u1ecdc sinh","Gi\u1edbi t\xednh","Ng\xe0y sinh"];this.subscriptions.add(this.classroomService.apiClassroomExportDataGet(Number(this.classroomId)).subscribe(function(e){var o,i,a,c;if(1==e.success){var r=[],s=[],l=t.sortService.sortFirstNameStudents(null!==(i=null===(o=e.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:[]),d=0;l.forEach(function(e){var o;d+=1;var i={},a={};null===(o=e.dataHomework)||void 0===o||o.forEach(function(e){for(var o,c,r,s=t.timeService.getFormatDate(null!==(o=e.createdAt)&&void 0!==o?o:"")+" (".concat(e.name,")"),l=1;i[""+s];)l++,s="".concat(t.timeService.getFormatDate(null!==(c=e.createdAt)&&void 0!==c?c:"")," (").concat(e.name,") (").concat(l,")");switch(e.point){case 1e3:i[""+s]="\u0110\u1ea1t";break;case 1001:i[""+s]="Ch\u01b0a \u0110\u1ea1t";break;case 2e3:i[""+s]="Ho\xe0n Th\xe0nh";break;case 2001:i[""+s]="Ch\u01b0a Ho\xe0n Th\xe0nh";break;case 3e3:i[""+s]="Ho\xe0n Th\xe0nh T\u1ed1t";break;default:i[""+s]=""+e.point}var b=t.commonService.parseJson(t.zipdataService.decodeContentGzip(null!==(r=e.result)&&void 0!==r?r:""));a[""+s]=null==b?"":b.comment,1===d&&n.push(s)}),r.push(Object.assign({STT:d,"H\u1ecd v\xe0 t\xean":e.fullname,"M\xe3 h\u1ecdc sinh":e.code,"Gi\u1edbi t\xednh":e.gender,"Ng\xe0y sinh":null!=e.birthday?t.timeService.getFormatDate(e.birthday):""},i)),s.push(Object.assign({STT:d,"H\u1ecd v\xe0 t\xean":e.fullname,"M\xe3 h\u1ecdc sinh":e.code,"Gi\u1edbi t\xednh":e.gender,"Ng\xe0y sinh":null!=e.birthday?t.timeService.getFormatDate(e.birthday):""},a))});var b=t.commonService.createFileNameExportFile(["T\u1ed5ng k\u1ebft \u0111i\u1ec3m L\u1edbp",null!==(a=t.classroomObj.name)&&void 0!==a?a:""]),u=lo.utils.aoa_to_sheet([["Danh s\xe1ch \u0111i\u1ec3m - "+t.classroomObj.name],n]);lo.utils.sheet_add_json(u,r,{origin:-1,header:n,skipHeader:!0});var m=lo.utils.aoa_to_sheet([["Danh s\xe1ch nh\u1eadn x\xe9t - "+t.classroomObj.name],n]);lo.utils.sheet_add_json(m,s,{origin:-1,header:n,skipHeader:!0});var h=lo.write({Sheets:{"B\u1ea3ng \u0111i\u1ec3m":u,"Nh\u1eadn x\xe9t":m},SheetNames:["B\u1ea3ng \u0111i\u1ec3m","Nh\u1eadn x\xe9t"]},{bookType:"xlsx",type:"array"}),g=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});Nn.saveAs(g,b+".xlsx")}else t.errorStatusObj(null!==(c=e.message)&&void 0!==c?c:"",!0)}))}}},{key:"ngOnInit",value:function(){var e,t=this;this.ParamNextPage=null!==(e=this.commonService.getMyQueryParam("nextPage"))&&void 0!==e?e:"",Object(O.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(e){var o;n(e),t.classroomId=null!==(o=t.commonService.getMyParam(t.activeRoute,"id"))&&void 0!==o?o:"0",t.backLink="/admin/homework/homework-list/"+t.classroomId,t.getData()}),this.commonService.translateMetaData({title:"lang_cms_homework_list_exercise_title",description:"lang_cms_homework_list_exercise_description",image:"lang_cms_test_image"}),this.commonService.gaEvent("teacher_homework_list"),u(v(o.prototype),"ngOnInit",this).call(this)}}]),o}(U.a)).\u0275fac=function(e){return new(e||_o)(V.Pb(h.a),V.Pb(j.a),V.Pb(S.J),V.Pb(S.g),V.Pb(T.a),V.Pb(bo.a),V.Pb(P.a))},_o.\u0275cmp=V.Jb({type:_o,selectors:[["list-homework"]],features:[V.Ab],decls:2,vars:4,consts:[[3,"menu_objs","headerTitle","back_link","MenuEvent"],["class","mb-2 mt-3 pb-80","style","max-width: 1400px; margin: auto;",4,"ngIf"],[1,"mb-2","mt-3","pb-80",2,"max-width","1400px","margin","auto"],[1,"header-box","mt-3","pl-2","pr-2"],[1,"row"],[1,"col-md-12"],[1,"search-block"],["type","text",1,"search-input",3,"formControl","placeholder","change","keyup.enter"],[1,"search-icon",2,"padding-top","2px",3,"click"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["class","spinner-border text-secondary my-3","role","status",4,"ngIf"],[1,"row",2,"min-height","80px"],["class","col-md-6 col-xl-4 col-12",4,"ngFor","ngForOf"],[1,"col-md-6","col-xl-4","col-12"],[1,"relative",3,"classId","name","dateCreated","deadLine","totalTakeTest","totalStudent","homeworkId","isNew","hashId","className","backLink","redirectId"],[1,"row","text-center","py-5"],[1,"col-12"],[1,"p-0","m-0"],["role","status",1,"spinner-border","text-secondary","my-3"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"]],template:function(e,t){1&e&&(V.Vb(0,"header-backend",0),V.cc("MenuEvent",function(e){return t.callbackMenuEvent(e)}),V.Ub(),V.Rc(1,fo,14,8,"div",1)),2&e&&(V.nc("menu_objs",t.menuObjs)("headerTitle",t.classroomObj.name?"Danh s\xe1ch b\xe0i t\u1eadp - "+t.classroomObj.name:"")("back_link","/admin/homework/classes/1"),V.Db(1),V.nc("ngIf",t.classroomObj))},directives:[Ge.a,r.m,s.d,s.r,s.i,ze.a,r.l,Tt,Le.b,Be.a],pipes:[Qe.q],styles:[".header-box[_ngcontent-%COMP%]{border:1px solid #dfdfdf;background-color:#f3f3f3;border-radius:5px;margin:0 15px}.page-item[_ngcontent-%COMP%]{margin:0 3px}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.btn-pag[_ngcontent-%COMP%]{padding:5px 8px}.btn-add-teacher[_ngcontent-%COMP%]{border:1px solid #ececec}.relative[_ngcontent-%COMP%]{position:relative}.absolute[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.content-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}.break[_ngcontent-%COMP%]{flex-basis:100%;width:0}.block-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:120px;width:100%;font-weight:700}.search-block[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:5px;display:flex;justify-content:flex-end;position:relative}.search-input[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,91.8%,.8901960784313725);border-radius:3px;padding:2px 30px 2px 5px;font-size:12px}.search-input[_ngcontent-%COMP%]:focus{border:1px solid #0eafc0;outline:none}.search-icon[_ngcontent-%COMP%]{position:absolute;transition:all .5s;height:100%;border-left:none;cursor:pointer!important;color:#0eafc0}.search-icon[_ngcontent-%COMP%]:hover{background:#d7d7d7;border-radius:3px;cursor:pointer}.btn-all-add[_ngcontent-%COMP%]{background:transparent;margin:15px}"]}),_o),yo=((ko=function(e){m(n,e);var t=g(n);function n(e,o,i,a,c,r){var d;return l(this,n),(d=t.call(this,c)).dialogRef=e,d.answerService=o,d.activeRoute=i,d.fb=a,d.commonService=c,d.data=r,d.subscriptions=new x.a,d.form=new s.k({}),d.result=!1,d.homeworkHashId="",d}return b(n,[{key:"getData",value:function(){this.initStatusObj(),this.data.status?this.successStatusObj():this.stopStatusObj()}},{key:"cleanResult",value:function(){var e=this,t=this.commonService.getFormObj(this.form),n={homeworkHashId:this.data.itemHomework.hashId,id:this.data.ans_id,resendNote:t.reason};this.initStatusObj(),this.subscriptions.add(this.answerService.apiAnswerResendAnswerPost(n).subscribe(function(t){var n;1==t.success?(e.showSuccessSnack("G\u1eedi y\xeau c\u1ea7u th\xe0nh c\xf4ng"),e.result=!0,e.onSubmit({result:e.result,id:e.data.ans_id,itemHomework:e.data.itemHomework}),e.data.redirect&&e.commonService.myNavigation("/admin/homework/score-list/"+e.data.classID+"/"+e.data.itemHomework.id+"/"+e.homeworkHashId),e.successStatusObj()):(e.showErrorSnack("G\u1eedi y\xeau c\u1ea7u kh\xf4ng th\xe0nh c\xf4ng"),e.result=!1,e.onSubmit({result:e.result,id:e.data.ans_id,itemHomework:e.data.itemHomework}),e.errorStatusObj(null!==(n=t.message)&&void 0!==n?n:""))}))}},{key:"ngOnInit",value:function(){var e;this.homeworkHashId=null!==(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==e?e:"",this.getData(),this.form=this.fb.group({reason:new s.h("",s.z.required)}),u(v(n.prototype),"ngOnInit",this).call(this)}},{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"onSubmit",value:function(e){this.dialogRef.close(e)}}]),n}(U.a)).\u0275fac=function(e){return new(e||ko)(V.Pb(d.g),V.Pb(S.a),V.Pb(h.a),V.Pb(s.g),V.Pb(j.a),V.Pb(d.a))},ko.\u0275cmp=V.Jb({type:ko,selectors:[["clean-result-dialog"]],features:[V.Ab],decls:40,vars:32,consts:[[3,"hidden"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["enctype","multipart/form-data",1,"form-horizontal","text-center",3,"formGroup"],[1,"text-center"],[1,"h5"],[1,"text-left",2,"border","1px dashed red","padding","10px 5px","border-radius","5px"],[1,"h5","text-danger","text-center"],[1,"h5","mb-1"],[1,"text-danger"],[1,"h5","text-danger","mt-1","mb-1"],["type","text","id","reason","formControlName","reason",1,"form-control"],["mat-dialog-actions","",1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",2,"margin-left","15px",3,"click"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"div",1),V.Vb(2,"div",2),V.Vb(3,"span",3),V.Tc(4,"..."),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Vb(5,"div",0),V.Vb(6,"form",4),V.Vb(7,"div",5),V.Vb(8,"p",6),V.Tc(9),V.hc(10,"mytranslate"),V.Ub(),V.Ub(),V.Vb(11,"div",7),V.Vb(12,"p",8),V.Tc(13),V.hc(14,"mytranslate"),V.Ub(),V.Vb(15,"p",9),V.Tc(16),V.hc(17,"mytranslate"),V.Vb(18,"span",10),V.Tc(19),V.Ub(),V.Tc(20),V.hc(21,"mytranslate"),V.Vb(22,"span",10),V.Tc(23),V.hc(24,"date"),V.Ub(),V.Tc(25),V.hc(26,"mytranslate"),V.Ub(),V.Qb(27,"hr"),V.Vb(28,"p",11),V.Tc(29),V.hc(30,"mytranslate"),V.Ub(),V.Qb(31,"input",12),V.Ub(),V.Ub(),V.Ub(),V.Vb(32,"div",13),V.Vb(33,"div",14),V.Vb(34,"button",15),V.cc("click",function(){return t.cleanResult()}),V.Tc(35),V.hc(36,"mytranslate"),V.Ub(),V.Ub(),V.Vb(37,"button",16),V.cc("click",function(){return t.onNoClick()}),V.Tc(38),V.hc(39,"mytranslate"),V.Ub(),V.Ub()),2&e&&(V.nc("hidden",!t.statusObj.loading),V.Db(5),V.nc("hidden",t.statusObj.loading),V.Db(1),V.nc("formGroup",t.form),V.Db(3),V.Uc(V.ic(10,13,"lang_homework_mark_exercise_utils_request_resubmit")),V.Db(4),V.Vc("(*) ",V.ic(14,15,"lang_homework_mark_exercise_utils_note"),":"),V.Db(3),V.Vc("",V.ic(17,17,"lang_homework_mark_exercise_utils_request")," "),V.Db(3),V.Vc(" ",t.data.name," "),V.Db(1),V.Vc(" ",V.ic(21,19,"lang_homework_mark_exercise_utils_in_homework"),"\xa0"),V.Db(3),V.Uc(V.jc(24,21,t.data.deadline?t.data.deadline:t.data.itemHomework.createdAt,"dd/MM/yyyy")),V.Db(2),V.Vc("\xa0",V.ic(26,24,"lang_homework_mark_exercise_utils_will_be_deleted"),"!"),V.Db(4),V.Uc(V.ic(30,26,"lang_homework_mark_exercise_utils_coment_request_resubmit")),V.Db(6),V.Vc(" ",V.ic(36,28,"lang_buttom_confirm")," "),V.Db(3),V.Uc(V.ic(39,30,"lang_buttom_cancel")))},directives:[s.B,s.s,s.l,s.d,s.r,s.j,d.c],pipes:[Qe.q,r.e],encapsulation:2}),ko),xo=((vo=function(e){m(n,e);var t=g(n);function n(e,o,i,a){var c;return l(this,n),(c=t.call(this,i)).dialogRef=e,c.answerService=o,c.commonService=i,c.data=a,c.success=!1,c}return b(n,[{key:"ngOnInit",value:function(){this.success=this.data.status}},{key:"checkNextAns",value:function(){var e=this;this.answerService.apiAnswerGetNextObjByHomeworkGet(this.data.homeworkHashId).subscribe(function(t){var n,o;0!=t.success?(e.dialogRef.close(),e.commonService.myNavigationWithQueryString("/admin/homework/mark-exercise/"+(null===(o=null===(n=t.data)||void 0===n?void 0:n.obj)||void 0===o?void 0:o.id)+"/"+e.data.homeworkHashId,"?backto="+encodeURIComponent(e.data.backtoLink)),setTimeout(function(){document.location.reload()},500)):(e.dialogRef.close(),e.commonService.myNavigation("/admin/homework/score-list/"+e.data.classID+"/"+e.data.homeWorkID+"/"+e.data.homeworkHashId))})}},{key:"onNoClick",value:function(){this.dialogRef.close()}}]),n}(U.a)).\u0275fac=function(e){return new(e||vo)(V.Pb(d.g),V.Pb(D.a),V.Pb(j.a),V.Pb(d.a))},vo.\u0275cmp=V.Jb({type:vo,selectors:[["notice-dialog"]],features:[V.Ab],decls:16,vars:10,consts:[["mat-dialog-title","",1,"d-flex","align-items-center",2,"color","#6d6d6d"],[1,"mr-1",2,"color","green"],["mat-dialog-content",""],[2,"color","red","font-size","120%","font-weight","500"],[3,"mark"],[1,"d-flex","float-right","mt-3"],["id","ok","mat-raised-button","",3,"click"],["id","next","mat-raised-button","",1,"ml-2",2,"background-color","#2361ae","color","#fff",3,"click"]],template:function(e,t){1&e&&(V.Vb(0,"h2",0),V.Vb(1,"mat-icon",1),V.Tc(2,"check_circle"),V.Ub(),V.Tc(3),V.hc(4,"mytranslate"),V.Ub(),V.Vb(5,"div",2),V.Tc(6),V.hc(7,"mytranslate"),V.Vb(8,"span",3),V.Qb(9,"azt-check-mark",4),V.Ub(),V.Ub(),V.Vb(10,"div",5),V.Vb(11,"button",6),V.cc("click",function(){return t.onNoClick()}),V.Tc(12,"Ok"),V.Ub(),V.Vb(13,"button",7),V.cc("click",function(){return t.checkNextAns()}),V.Tc(14),V.hc(15,"mytranslate"),V.Ub(),V.Ub()),2&e&&(V.Db(3),V.Vc(" ",V.ic(4,4,"lang_homework_mark_exercise_utils_mark_success"),""),V.Db(3),V.Vc(" ",V.ic(7,6,"lang_homework_mark_exercise_utils_assignment_marking")," "),V.Db(3),V.nc("mark",t.data.score),V.Db(5),V.Uc(V.ic(15,8,"lang_homework_mark_exercise_utils_mark_continue")))},directives:[d.h,ze.a,d.e,zn.a,Le.b],pipes:[Qe.q],styles:["#ok[_ngcontent-%COMP%]:hover {background-color: rgb(231, 231, 231); } #next[_ngcontent-%COMP%]:hover{background-color: #1e579d!important}"]}),vo),Oo=c("VxG0"),So=c("qJLG"),Uo=c("lbRm"),Vo=c("STbY"),jo=c("IU+r");function Co(e,t){if(1&e&&(V.Vb(0,"button",13),V.hc(1,"mytranslate"),V.Vb(2,"mat-icon"),V.Tc(3,"history"),V.Ub(),V.Ub()),2&e){V.gc();var n=V.Ac(8);V.oc("matTooltip",V.ic(1,2,"lang_homework_mark_exercise_history_submit")),V.nc("matMenuTriggerFor",n)}}function Do(e,t){if(1&e){var n=V.Wb();V.Tb(0),V.Vb(1,"button",6),V.cc("click",function(){V.Ec(n);var e=t.$implicit;return V.gc().getDataHistory(e.id?e.id.toString():"")}),V.Vb(2,"span"),V.Tc(3),V.hc(4,"mytranslate"),V.hc(5,"date"),V.Ub(),V.Ub(),V.Sb()}if(2&e){var o=t.$implicit,i=t.index;V.Db(3),V.Xc("",V.ic(4,3,"lang_homework_mark_exercise_times")," ",i+1," - ",V.jc(5,5,o.createdAt,"dd/MM/yyyy HH:mm:ss"),"")}}function To(e,t){if(1&e&&(V.Vb(0,"span"),V.Qb(1,"azt-create-avatar",15),V.hc(2,"mytranslate"),V.Ub()),2&e){var n=V.gc(2);V.Db(1),V.qc("matTooltip","",V.ic(2,5,"lang_homework_mark_exercise_teacher_mark")," ",": "+n.markedByObj.fullName,""),V.nc("nameCreateAvatar",n.markedByObj.fullName)("size",25)("linkAvatar",n.markedByObj.avatar)}}function Po(e,t){if(1&e&&(V.Vb(0,"h4",14),V.Rc(1,To,3,7,"span",11),V.Tc(2),V.Ub()),2&e){var n=V.gc();V.Db(1),V.nc("ngIf",n.isMarked),V.Db(1),V.Wc(" ",n.studentObj.fullName,", ",n.classroomObj.name," ")}}function Io(e,t){1&e&&(V.Qb(0,"azt-loading-effect",16),V.hc(1,"mytranslate")),2&e&&V.nc("customText",V.ic(1,1,"lang_homework_mark_exercise_loading_data_mark"))}function Mo(e,t){if(1&e&&(V.Vb(0,"div"),V.Vb(1,"div",17),V.Vb(2,"div",18),V.Vb(3,"div",19),V.Tc(4),V.hc(5,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(4),V.Uc(V.ic(5,1,n.errorMessage))}}function Ro(e,t){if(1&e&&(V.Vb(0,"div",20),V.Qb(1,"iframe",21),V.hc(2,"safe"),V.Ub()),2&e){var n=V.gc();V.Db(1),V.nc("src",V.ic(2,1,n.iframeSrc),V.Gc)}}var Ao,No,Eo,Ho=((Ao=function(e){m(n,e);var t=g(n);function n(e,o,i,a,c,r,s,d,b,u){var m;return l(this,n),(m=t.call(this,a)).activeRoute=e,m.answerService=o,m.baseApiService=i,m.commonService=a,m.permissionService=c,m.dialog=r,m.cdnService=s,m.zipdataService=d,m.envService=b,m.apiUploadService=u,m.subscriptions=new x.a,m.result={},m.answerId=0,m.homeworkID="",m.historyId="",m.iframeSrc="",m.isMarked=!1,m.jsonData={},m.errorMessage="",m.files=[],m.classID="",m.homeworkObj={},m.studentName="",m.markedByObj={},m.studentObj={},m.classroomObj={},m.score=0,m.mnoteJsonData={},m.pagesCount=0,m.backtoLink="",m.hasSendDataToIframe=!1,m.hasLoadedData=!1,m.historyAnwerObjs=[],m.countLoad=1,m.homeworkHashId="",m.handleIframe=function(e){var t;"MNoteJson"==e.data.cmd&&(m.initStatusObj(),m.mnoteJsonData=e.data.data,m.uploadAll(null!==(t=m.mnoteJsonData.pages)&&void 0!==t?t:[],e.data.data.point)),"MNoteReSubmit"==e.data.cmd&&(console.log("listend res submit"),m.handleOpenReSubmit()),"MNoteLoadComplete"==e.data&&(m.hasLoadedData?(m.hasSendDataToIframe=!0,""==m.historyId?m.sendDataToIframe():m.sendDataToIframeHistory()):m.hasSendDataToIframe=!1)},m}return b(n,[{key:"onPopState",value:function(e){this.goBack()}},{key:"uploadDrawBase64ToCDN",value:function(e,t,n){var o=this,i=this.baseApiService.dataURItoBlob(e);this.apiUploadService.commonUploadForMarkResult(i,"essay_note_".concat(t,"_").concat(this.answerId,".png"),"image/png",1e4).subscribe(function(e){var i,a;e.type!=Ce.d.UploadProgress&&(1==e.success?((null===(i=o.mnoteJsonData.pages)||void 0===i?void 0:i[t])&&(o.mnoteJsonData.pages[t].draw=null===(a=e.data)||void 0===a?void 0:a.url),o.pagesCount--,0==o.pagesCount&&o.remark(o.answerId,n,o.mnoteJsonData)):(o.showErrorSnack("L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!"),o.stopStatusObj()))})}},{key:"uploadAll",value:function(e,t){this.pagesCount=0;for(var n=0;n<e.length;n++)e[n].draw&&this.pagesCount++;if(0==this.pagesCount)this.remark(this.answerId,t,this.mnoteJsonData);else for(var o=0;o<e.length;o++)e[o].draw&&this.uploadDrawBase64ToCDN(e[o].draw,o,t)}},{key:"reloadPage",value:function(){location.reload()}},{key:"sendDataToIframe",value:function(){var e,t,n,o,i,a,c,r,s,l,d,b,u,m,h,g=document.getElementById("mNote"),p=g?g.contentWindow:null;if(null!==p){var f=this.result.hasOwnProperty("answerObj")&&null!==(e=this.castObj(this.result.answerObj))&&void 0!==e?e:{};if(this.result.hasOwnProperty("answerObj")){var v=this.commonService.parseJson(null!==(t=f.result)&&void 0!==t?t:"");if(null!=v){for(var k=null!==(o=null===(n=v.pages)||void 0===n?void 0:n.length)&&void 0!==o?o:0,_=0;_<k;_++)(null===(i=null==v?void 0:v.pages)||void 0===i?void 0:i[_].backgroundImage)&&(v.pages[_].backgroundImage=this.cdnService.getMyCdn(null!==(a=v.pages[_].backgroundImage)&&void 0!==a?a:"")),(null===(c=v.pages)||void 0===c?void 0:c[_].draw)&&(v.pages[_].draw=this.cdnService.getMyCdn(v.pages[_].draw));v=JSON.stringify(v),f.result=v}var w=this.commonService.parseJson(null!==(r=f.files)&&void 0!==r?r:"");if(null!=w){for(var y=0;y<w.length;y++)w[y].url&&(w[y].url=this.cdnService.getMyCdn(w[y].url)),w[y].thumb&&(w[y].thumb=this.cdnService.getMyCdn(w[y].thumb));w=JSON.stringify(w),f.files=w}}var x=this.result.hasOwnProperty("studentObj")?this.result.studentObj:{},O=this.result.hasOwnProperty("classroomObj")?this.result.classroomObj:{},S=this.result.hasOwnProperty("homeworkObj")?this.result.homeworkObj:{},U=this.commonService.parseJson(null!==(s=f.result)&&void 0!==s?s:"");if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(var V=0;V<(null!==(d=null===(l=this.jsonData.pages)||void 0===l?void 0:l.length)&&void 0!==d?d:0);V++)(null===(b=this.jsonData.pages)||void 0===b?void 0:b[V].hasOwnProperty("backgroundImage"))&&(this.jsonData.pages[V].backgroundImage=this.cdnService.getMyCdn(null!==(u=this.jsonData.pages[V].backgroundImage)&&void 0!==u?u:"")),(null===(m=this.jsonData.pages)||void 0===m?void 0:m[V].hasOwnProperty("draw"))&&(this.jsonData.pages[V].draw=this.cdnService.getMyCdn(null!==(h=this.jsonData.pages[V].draw)&&void 0!==h?h:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="edit",this.jsonData.answer_obj=f,this.jsonData.student_obj=x,this.jsonData.classroom_obj=O,this.jsonData.homework_obj=S,U&&U.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=U.hideMark),p.postMessage(this.jsonData,"*");else{var j=[];this.files.forEach(function(e){j.push({backgroundImage:e.url})});var C={cmd:"initMNote",mode:"edit",pages:j,answer_obj:f,student_obj:x,classroom_obj:O,homework_obj:S};U&&U.hasOwnProperty("hideMark")&&(C.hideMark=U.hideMark),p.postMessage(C,"*")}}}},{key:"sendDataToIframeHistory",value:function(){var e,t,n,o,i,a,c,r,s,l,d=document.getElementById("mNote");d&&1==this.countLoad&&(d.src+="");var b=d?d.contentWindow:null;if(null!==b){var u=this.result.hasOwnProperty("answerObj")&&null!==(e=this.castObj(this.result.answerObj))&&void 0!==e?e:{};if(this.result.hasOwnProperty("answerObj")){var m=this.commonService.parseJson(null!==(t=u.result)&&void 0!==t?t:"");if(null!=m){for(var h=0;h<m.pages.length;h++)m.pages[h].backgroundImage&&(m.pages[h].backgroundImage=this.cdnService.getMyCdn(m.pages[h].backgroundImage)),m.pages[h].draw&&(m.pages[h].draw=this.cdnService.getMyCdn(m.pages[h].draw));m=JSON.stringify(m),u.result=m}var g=this.commonService.parseJson(null!==(n=u.files)&&void 0!==n?n:"");if(null!=g){for(var p=0;p<g.length;p++)g[p].url&&(g[p].url=this.cdnService.getMyCdn(g[p].url)),g[p].thumb&&(g[p].thumb=this.cdnService.getMyCdn(g[p].thumb));g=JSON.stringify(g),u.files=g}}var f=this.studentObj,v=this.classroomObj,k=this.homeworkObj,_=this.commonService.parseJson(null!==(o=u.result)&&void 0!==o?o:"");if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(var w=0;w<(null!==(a=null===(i=this.jsonData.pages)||void 0===i?void 0:i.length)&&void 0!==a?a:0);w++)(null===(c=this.jsonData.pages)||void 0===c?void 0:c[w].hasOwnProperty("backgroundImage"))&&(this.jsonData.pages[w].backgroundImage=this.cdnService.getMyCdn(null!==(r=this.jsonData.pages[w].backgroundImage)&&void 0!==r?r:"")),(null===(s=this.jsonData.pages)||void 0===s?void 0:s[w].hasOwnProperty("draw"))&&(this.jsonData.pages[w].draw=this.cdnService.getMyCdn(null!==(l=this.jsonData.pages[w].draw)&&void 0!==l?l:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=u,this.jsonData.student_obj=f,this.jsonData.classroom_obj=v,this.jsonData.homework_obj=k,_&&_.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=_.hideMark),b.postMessage(this.jsonData,"*");else{var y=[];this.files.forEach(function(e){y.push({backgroundImage:e.url})});var x={cmd:"initMNote",mode:"view",pages:y,answer_obj:u,student_obj:f,classroom_obj:v,homework_obj:k};_&&_.hasOwnProperty("hideMark")&&(x.hideMark=_.hideMark),b.postMessage(x,"*")}}}},{key:"goBack",value:function(){this.commonService.myNavigation(this.backtoLink?this.backtoLink:"/admin/homework/score-list/"+this.classID+"/"+this.homeworkID+"/"+this.homeworkObj.hashId);var e=document.body,t=document.getElementById("azota-app-html");null==t||t.classList.remove("overflow-hidden"),null==t||t.classList.remove("height-100"),e.classList.remove("overflow-hidden"),e.classList.remove("height-100")}},{key:"getHistoryObjs",value:function(e){var t=this;this.initStatusObj(),this.answerService.apiAnswerGetHistoryObjsGet(this.homeworkHashId,e).subscribe(function(e){var n,o,i;1==e.success?t.historyAnwerObjs=null!==(o=null===(n=e.data)||void 0===n?void 0:n.objs)&&void 0!==o?o:new Array:t.errorMessage=null!==(i=e.message)&&void 0!==i?i:"",t.stopStatusObj()})}},{key:"getDataHistory",value:function(e){var t=this;this.historyId=e,this.errorMessage="",this.countLoad=1,this.answerService.apiAnswerGetHistoryObjGet(this.homeworkHashId,this.answerId,parseInt(e,10)).subscribe(function(e){var n,o,i,a,c,r,s,l,d,b,u,m,h,g,p;if(1==e.success){if(t.zipdataService.convertSubmittedAnswersHistoryObj(null===(n=e.data)||void 0===n?void 0:n.answerObj),t.result=null!==(o=e.data)&&void 0!==o?o:{},t.markedByObj=null!==(a=null===(i=e.data)||void 0===i?void 0:i.markedByObj)&&void 0!==a?a:{},t.score=null!==(s=null===(r=null===(c=e.data)||void 0===c?void 0:c.answerObj)||void 0===r?void 0:r.point)&&void 0!==s?s:0,t.files=t.commonService.parseJson(null!==(b=null===(d=null===(l=e.data)||void 0===l?void 0:l.answerObj)||void 0===d?void 0:d.files)&&void 0!==b?b:""),null!=t.files)for(var f=0;f<t.files.length;f++)t.files[f].url=t.cdnService.getMyCdn(null!==(m=null===(u=t.files)||void 0===u?void 0:u[f].url)&&void 0!==m?m:""),t.files[f].thumb=t.cdnService.getMyCdn(null!==(g=null===(h=t.files)||void 0===h?void 0:h[f].thumb)&&void 0!==g?g:"");t.handleJsonData(),t.hasLoadedData=!0,1==t.countLoad&&(t.hasSendDataToIframe=!1),0==t.hasSendDataToIframe&&(t.hasSendDataToIframe=!0,t.sendDataToIframeHistory()),t.successStatusObj(),t.countLoad++}else t.errorMessage=null!==(p=e.message)&&void 0!==p?p:"",t.stopStatusObj()})}},{key:"handleJsonData",value:function(){var e,t,n,o,i,a,c;this.jsonData={},(null===(t=null===(e=this.result)||void 0===e?void 0:e.answerObj)||void 0===t?void 0:t.confirmedAt)||(null===(o=null===(n=this.result)||void 0===n?void 0:n.answerObj)||void 0===o?void 0:o.result)||(this.isMarked=!1),(null===(i=this.result.answerObj)||void 0===i?void 0:i.confirmedAt)&&(this.isMarked=!0,this.jsonData=this.commonService.parseJson(null!==(c=null===(a=this.result.answerObj)||void 0===a?void 0:a.result)&&void 0!==c?c:""),null==this.jsonData&&(this.isMarked=!1))}},{key:"getData",value:function(e){var t=this;this.initStatusObj(),this.errorMessage="",this.answerId=e,this.answerService.apiAnswerGetObjGet(this.homeworkHashId,e).subscribe(function(e){var n,o,i,a,c,r,s,l,d,b,u,m,h,g,p,f,v,k,_,w,y;if(1==e.success)if(t.zipdataService.convertSubmittedAnswersObj(null===(n=e.data)||void 0===n?void 0:n.answerObj),(null===(o=e.data)||void 0===o?void 0:o.hasOwnProperty("studentObj"))&&null!=(null===(i=e.data)||void 0===i?void 0:i.studentObj)){if(t.result=e.data,t.markedByObj=null!==(a=e.data.markedByObj)&&void 0!==a?a:{},t.score=null!==(s=null===(r=null===(c=e.data)||void 0===c?void 0:c.answerObj)||void 0===r?void 0:r.point)&&void 0!==s?s:0,t.homeworkID=null!==(d=null===(l=e.data.homeworkObj)||void 0===l?void 0:l.id)&&void 0!==d?d:0,t.classID=null!==(u=null===(b=e.data.classroomObj)||void 0===b?void 0:b.id)&&void 0!==u?u:0,t.files=t.commonService.parseJson(null!==(h=null===(m=e.data.answerObj)||void 0===m?void 0:m.files)&&void 0!==h?h:""),t.studentObj=e.data.studentObj,t.classroomObj=null!==(g=e.data.classroomObj)&&void 0!==g?g:{},null!=t.files)for(var x=0;x<t.files.length;x++)t.files[x].url=t.cdnService.getMyCdn(null!==(f=null===(p=t.files)||void 0===p?void 0:p[x].url)&&void 0!==f?f:""),t.files[x].thumb=t.cdnService.getMyCdn(null!==(k=null===(v=t.files)||void 0===v?void 0:v[x].thumb)&&void 0!==k?k:"");t.homeworkObj=null!==(_=e.data.homeworkObj)&&void 0!==_?_:{},t.studentName=null!==(w=e.data.studentObj.fullName)&&void 0!==w?w:"",t.handleJsonData(),t.hasLoadedData=!0,0==t.hasSendDataToIframe&&(t.hasSendDataToIframe=!0,t.sendDataToIframe()),t.successStatusObj()}else t.errorMessage="lang_core_not_found_student",t.stopStatusObj();else t.errorMessage=null!==(y=e.message)&&void 0!==y?y:"",t.stopStatusObj()})}},{key:"openDialog",value:function(e,t){this.dialog.open(xo,{width:"280px",autoFocus:!1,data:{score:t,status:e,homeWorkID:this.homeworkID,homeworkHashId:this.homeworkHashId,classID:this.classID,backtoLink:this.backtoLink}}).afterClosed().subscribe(function(e){})}},{key:"handleOpenReSubmit",value:function(){var e;this.openDialogReSubmit(!0,null!==(e=this.homeworkObj.deadline)&&void 0!==e?e:void 0,this.homeworkObj,this.answerId,this.studentName)}},{key:"openDialogReSubmit",value:function(e,t,n,o,i){this.dialog.open(yo,{width:"380px",panelClass:"cleanResultDialogBox",data:{status:e,deadline:t,itemHomework:n,ans_id:o,name:i,redirect:!0,classID:this.classID}}).afterClosed().subscribe(function(e){})}},{key:"remark",value:function(e,t,n){var o=this,i=JSON.stringify({type:"homework",id:this.homeworkObj.id,user:this.homeworkObj.tenantId});if(""==this.historyId)if(1==this.permissionService.hasMarkPointPermission("homework",this.homeworkObj.permissionObj)){var a={id:e,comment:n.comment,hideMark:n.hideMark?1:0,point:t?parseFloat(t.replace(",",".")):0,result:this.zipdataService.convertContentGzip(JSON.stringify(n)),homeworkHashId:this.homeworkHashId};this.answerService.apiAnswerSaveResultPost(a,i).subscribe(function(e){var t,n;1==e.success?(o.openDialog(!0,null===(n=null===(t=e.data)||void 0===t?void 0:t.obj)||void 0===n?void 0:n.point),o.successStatusObj()):(o.stopStatusObj(),o.showErrorSnack("Ch\u1ea5m \u0111i\u1ec3m kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i"))})}else this.showErrorSnack("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n ch\u1ea5m b\xe0i t\u1eadp n\xe0y!"),this.stopStatusObj();else this.stopStatusObj(),this.showErrorSnack("B\u1ea1n kh\xf4ng th\u1ec3 ch\u1ea5m l\u1ea1i l\u1ecbch s\u1eed l\xe0m b\xe0i c\u1ee7a h\u1ecdc sinh")}},{key:"ngOnInit",value:function(){var e,t,o,i,a=document.body,c=document.getElementById("azota-app-html");null==c||c.classList.add("overflow-hidden"),null==c||c.classList.add("height-100"),a.classList.add("overflow-hidden"),a.classList.add("height-100"),this.iframeSrc=null!==(e=this.envService.getEnvValue("classliveUrl"))&&void 0!==e?e:"";var r=this.commonService.getMyParam(this.activeRoute,"id")?Number(this.commonService.getMyParam(this.activeRoute,"id")):0,s=null!==(t=this.commonService.getMyParam(this.activeRoute,"historyId"))&&void 0!==t?t:"";this.homeworkHashId=null!==(o=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==o?o:"",this.backtoLink=null!==(i=this.commonService.getMyQueryParam("backto"))&&void 0!==i?i:"",this.getData(r),this.getHistoryObjs(r),s&&this.getDataHistory(s),this.commonService.translateMetaData({title:"lang_cms_homework_mark_exercise_title",description:"lang_cms_homework_mark_exercise_description",image:"lang_cms_test_image"}),u(v(n.prototype),"ngOnInit",this).call(this)}},{key:"ngAfterViewInit",value:function(){window.addEventListener("message",this.handleIframe)}},{key:"ngOnDestroy",value:function(){this.goBack(),window.removeEventListener("message",this.handleIframe),u(v(n.prototype),"ngDestroy",this).call(this)}}]),n}(U.a)).\u0275fac=function(e){return new(e||Ao)(V.Pb(h.a),V.Pb(D.a),V.Pb(Xt.a),V.Pb(j.a),V.Pb(Oo.a),V.Pb(d.b),V.Pb(So.a),V.Pb(T.a),V.Pb(Uo.a),V.Pb(Ae.a))},Ao.\u0275cmp=V.Jb({type:Ao,selectors:[["app-mark-exericse"]],hostBindings:function(e,t){1&e&&V.cc("popstate",function(e){return t.onPopState(e)},!1,V.Dc)},features:[V.Ab],decls:19,vars:13,consts:[["id","markContainer",1,"maxW1000"],["id","titleRow"],[1,"block-left"],["mat-button","",3,"title","click"],["mat-icon-button","",3,"matTooltip","matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngFor","ngForOf"],["class","studentInfo","style","padding-right: 10px; color: #fff",4,"ngIf"],[3,"customText",4,"ngIf"],[3,"hidden"],[4,"ngIf"],["class","card-box listPhotos",4,"ngIf"],["mat-icon-button","",3,"matTooltip","matMenuTriggerFor"],[1,"studentInfo",2,"padding-right","10px","color","#fff"],[2,"cursor","pointer",3,"matTooltip","nameCreateAvatar","size","linkAvatar"],[3,"customText"],[1,"row","justify-content-center","py-5"],[1,"col-12","text-center"],[1,"alert","alert-danger"],[1,"card-box","listPhotos"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Vb(1,"div",1),V.Vb(2,"div",2),V.Vb(3,"mat-icon",3),V.cc("click",function(){return t.goBack()}),V.hc(4,"mytranslate"),V.Tc(5,"keyboard_arrow_left"),V.Ub(),V.Rc(6,Co,4,4,"button",4),V.Vb(7,"mat-menu",null,5),V.Vb(9,"button",6),V.cc("click",function(){return t.reloadPage()}),V.Vb(10,"span"),V.Tc(11),V.hc(12,"mytranslate"),V.Ub(),V.Ub(),V.Rc(13,Do,6,8,"ng-container",7),V.Ub(),V.Ub(),V.Rc(14,Po,3,3,"h4",8),V.Ub(),V.Rc(15,Io,2,3,"azt-loading-effect",9),V.Vb(16,"div",10),V.Rc(17,Mo,6,3,"div",11),V.Rc(18,Ro,3,3,"div",12),V.Ub(),V.Ub()),2&e&&(V.Db(3),V.oc("title",V.ic(4,9,"lang_buttom_back")),V.Db(3),V.nc("ngIf",null!=t.historyAnwerObjs&&t.historyAnwerObjs.length>0),V.Db(5),V.Uc(V.ic(12,11,"lang_homework_mark_exercise_last")),V.Db(2),V.nc("ngForOf",t.historyAnwerObjs),V.Db(1),V.nc("ngIf",t.classroomObj),V.Db(1),V.nc("ngIf",t.statusObj.loading),V.Db(1),V.nc("hidden",t.statusObj.loading),V.Db(1),V.nc("ngIf",""!=t.errorMessage),V.Db(1),V.nc("ngIf",""==t.errorMessage))},directives:[ze.a,r.m,Vo.a,Vo.b,r.l,Le.b,Be.a,Vo.d,jo.a,Ee.a],pipes:[Qe.q,r.e,Qe.t],styles:["#markContainer[_ngcontent-%COMP%], #titleRow[_ngcontent-%COMP%]{position:relative}#titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;align-items:center;display:flex;justify-content:space-between;color:#fff}#titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}#titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}#titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}.block-left[_ngcontent-%COMP%]{display:flex;align-items:center}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width:1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),Ao),Fo=[{path:"",component:(No=function(e){m(n,e);var t=g(n);function n(e){var o;return l(this,n),(o=t.call(this,e)).commonService=e,o}return b(n,[{key:"ngOnInit",value:function(){u(v(n.prototype),"ngOnInit",this).call(this)}}]),n}(U.a),No.\u0275fac=function(e){return new(e||No)(V.Pb(j.a))},No.\u0275cmp=V.Jb({type:No,selectors:[["homework-master-page"]],features:[V.Ab],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Qb(1,"router-outlet"),V.Ub())},directives:[h.m],styles:[""]}),No),canActivate:[Ue.a],children:[{path:"",canActivateChild:[Ue.a],children:[{path:"classes",component:$t},{path:"classes/:page",component:$t},{path:"homework-list/:id",component:wo},{path:"add-new-homework/:id",component:xt},{path:"add-new-homework/:id/:hash_id",component:xt},{path:"score-list/:class_id/:id/:hash_id",component:Se},{path:"export-homework/:class_id/:id/:hash_id",component:co},{path:"mark-exercise/:id/:hash_id",component:Ho},{path:"create-homework-success/:hash_ids",component:An},{path:"content-store",component:Un},{path:"",component:$t}]}]}],Lo=((Eo=function e(){l(this,e)}).\u0275mod=V.Nb({type:Eo}),Eo.\u0275inj=V.Mb({factory:function(e){return new(e||Eo)},imports:[[h.l.forChild(Fo)],h.l,C.c]}),Eo);function zo(e,t){1&e&&(V.Vb(0,"span"),V.Qb(1,"span",12),V.Tc(2,"\xa0"),V.Ub())}function Bo(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",1),V.Vb(1,"div",2),V.Vb(2,"div",3),V.Vb(3,"p",4),V.Tc(4),V.hc(5,"mytranslate"),V.Ub(),V.Vb(6,"p",5),V.Vb(7,"span",6),V.Tc(8),V.Ub(),V.Ub(),V.Ub(),V.Vb(9,"div",7),V.Vb(10,"div",8),V.Vb(11,"button",9),V.cc("click",function(){return V.Ec(n),V.gc().btnCloseDialog()}),V.Tc(12),V.hc(13,"mytranslate"),V.Ub(),V.Ub(),V.Vb(14,"button",10),V.cc("click",function(){return V.Ec(n),V.gc().confirmDelete()}),V.Rc(15,zo,3,0,"span",11),V.Tc(16),V.hc(17,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=V.gc();V.Db(4),V.Vc(" ",V.ic(5,7,"lang_homework_utils_delete_homework_dialog_title"),":"),V.Db(3),V.oc("matTooltip",o.data.homeworkObj?o.data.homeworkObj.name:""),V.Db(1),V.Uc(o.data.homeworkObj?o.data.homeworkObj.name:""),V.Db(4),V.Vc(" ",V.ic(13,9,"lang_cms_common_close_btn")," "),V.Db(2),V.nc("disabled",o.statusObj.loading),V.Db(1),V.nc("ngIf",!0===o.statusObj.loading),V.Db(1),V.Vc(" ",V.ic(17,11,"lang_cms_common_confirm_btn")," ")}}var Wo,Go=((Wo=function(e){m(n,e);var t=g(n);function n(e,o){var i;return l(this,n),(i=t.call(this,e)).commonService=e,i.homeworkService=o,i.data={homeworkObj:{},isShow:!1},i.closeDialog=new V.o,i.subscriptions=new x.a,i.form=new s.k({}),i.type=0,i}return b(n,[{key:"confirmDelete",value:function(){var e,t=this;this.initStatusObj(),this.subscriptions.add(this.homeworkService.apiHomeworkDeleteObjGet(null===(e=this.data.homeworkObj)||void 0===e?void 0:e.hashId).subscribe(function(e){var n;1==e.success?(t.closeDialog.emit(!0),t.successStatusObj(),t.showSuccessSnack("X\xf3a b\xe0i t\u1eadp th\xe0nh c\xf4ng")):(t.btnCloseDialog(),t.errorStatusObj(null!==(n=e.message)&&void 0!==n?n:"",!0))}))}},{key:"btnCloseDialog",value:function(){this.closeDialog.emit(!1)}},{key:"ngOnInit",value:function(){u(v(n.prototype),"ngOnInit",this).call(this)}}]),n}(U.a)).\u0275fac=function(e){return new(e||Wo)(V.Pb(j.a),V.Pb(S.J))},Wo.\u0275cmp=V.Jb({type:Wo,selectors:[["app-delete-homework"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[V.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[1,"h5","mb-1"],[1,"h5","text-danger",2,"padding-bottom","21px","border-bottom","1px solid #b2b4b7"],[1,"truncate",3,"matTooltip"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&V.Rc(0,Bo,18,13,"div",0),2&e&&V.nc("ngIf",t.data.isShow)},directives:[r.m,Be.a,Le.b],pipes:[Qe.q],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),Wo),Jo=["TABLE"],Qo=function(){return{}};function qo(e,t){if(1&e&&(V.Vb(0,"tr"),V.Vb(1,"td",4),V.Tc(2),V.Ub(),V.Vb(3,"td",4),V.Tc(4),V.hc(5,"date"),V.Ub(),V.Vb(6,"td",4),V.Tc(7),V.Ub(),V.Vb(8,"td",4),V.Tc(9),V.hc(10,"mytranslate"),V.Ub(),V.Vb(11,"td",4),V.Tc(12),V.Ub(),V.Ub()),2&e){var n=t.$implicit,o=V.gc();V.Db(2),V.Uc(n.fullName),V.Db(2),V.Uc(V.jc(5,5,n.birthday,"dd/MM/yyyy")),V.Db(3),V.Uc(n.code),V.Db(2),V.Uc(n.isMarked?o.checkPoint(n.point?n.point:0):V.ic(10,8,"lang_homework_utils_excel_table_export_not_point")),V.Db(3),V.Uc(o.getComment(n.answer?n.answer:V.sc(10,Qo)))}}var $o,Yo=(($o=function(e){m(n,e);var t=g(n);function n(e){var o;return l(this,n),(o=t.call(this,e)).commonService=e,o.studentList=[],o.homeworkObj={},o.currentDate=new Date,o.tableType="homework",o}return b(n,[{key:"ExportTOExcel",value:function(){var e,t,n=lo.utils.table_to_sheet(null===(e=this.TABLE)||void 0===e?void 0:e.nativeElement,{raw:!0}),o=lo.utils.book_new();lo.utils.book_append_sheet(o,n,"Sheet1"),this.homeworkObj.hasOwnProperty("name")?lo.writeFile(o,this.commonService.createFileNameExportFile([null!==(t=this.homeworkObj.name)&&void 0!==t?t:""])+"-ScoreSheet.xlsx"):lo.writeFile(o,this.commonService.createFileNameExportFile(["ScoreSheet"])+".xlsx")}},{key:"checkPoint",value:function(e){switch(e){case 1e3:return"\u0110\u1ea1t";case 1001:return"Ch\u01b0a \u0110\u1ea1t";case 2e3:return"Ho\xe0n Th\xe0nh";case 2001:return"Ch\u01b0a Ho\xe0n Th\xe0nh";case 3e3:return"Ho\xe0n Th\xe0nh T\u1ed1t";default:return e}}},{key:"getComment",value:function(e){var t="";return null!=e&&e.result&&(t=this.commonService.parseJson(e.result).comment),t}},{key:"ngOnInit",value:function(){u(v(n.prototype),"ngOnInit",this).call(this)}}]),n}(U.a)).\u0275fac=function(e){return new(e||$o)(V.Pb(j.a))},$o.\u0275cmp=V.Jb({type:$o,selectors:[["app-excel-export"]],viewQuery:function(e,t){var n;1&e&&V.cd(Jo,!0),2&e&&V.zc(n=V.dc())&&(t.TABLE=n.first)},inputs:{studentList:"studentList",homeworkObj:"homeworkObj",currentDate:"currentDate",tableType:"tableType"},features:[V.Ab],decls:44,vars:31,consts:[[1,"table","table-bordered","d-none",3,"id","click"],["TABLE",""],[1,"thead-dark"],["colspan","10"],[1,"border-table"],[4,"ngFor","ngForOf"],["colspan","2"]],template:function(e,t){1&e&&(V.Vb(0,"table",0,1),V.cc("click",function(){return t.ExportTOExcel()}),V.Vb(2,"thead",2),V.Vb(3,"tr"),V.Vb(4,"th",3),V.Tc(5),V.hc(6,"mytranslate"),V.Ub(),V.Ub(),V.Vb(7,"tr"),V.Qb(8,"th"),V.Ub(),V.Vb(9,"tr"),V.Vb(10,"th",3),V.Tc(11),V.hc(12,"mytranslate"),V.hc(13,"date"),V.Ub(),V.Ub(),V.Vb(14,"tr"),V.Qb(15,"th"),V.Ub(),V.Vb(16,"tr"),V.Vb(17,"th",4),V.Tc(18),V.hc(19,"mytranslate"),V.Ub(),V.Vb(20,"th",4),V.Tc(21),V.hc(22,"mytranslate"),V.Ub(),V.Vb(23,"th",4),V.Tc(24),V.hc(25,"mytranslate"),V.Ub(),V.Vb(26,"th",4),V.Tc(27),V.hc(28,"mytranslate"),V.Ub(),V.Vb(29,"th",4),V.Tc(30),V.hc(31,"mytranslate"),V.Ub(),V.Ub(),V.Ub(),V.Vb(32,"tbody"),V.Rc(33,qo,13,11,"tr",5),V.Qb(34,"tr"),V.Vb(35,"tr"),V.Qb(36,"td"),V.Qb(37,"td"),V.Qb(38,"td"),V.Qb(39,"td"),V.Vb(40,"td",6),V.Tc(41),V.hc(42,"mytranslate"),V.Ub(),V.Qb(43,"td"),V.Ub(),V.Ub(),V.Ub()),2&e&&(V.pc("id","table_",t.tableType,""),V.Db(5),V.Wc("",V.ic(6,12,"lang_homework_utils_excel_table_export_homework"),": ",t.homeworkObj.name,""),V.Db(6),V.Wc("",V.ic(12,14,"lang_homework_utils_excel_table_export_time_export_result"),": ",V.jc(13,16,t.currentDate,"dd/MM/yyyy"),""),V.Db(7),V.Uc(V.ic(19,19,"lang_first_and_last_name")),V.Db(3),V.Uc(V.ic(22,21,"lang_birthday")),V.Db(3),V.Uc(V.ic(25,23,"lang_number_code")),V.Db(3),V.Uc(V.ic(28,25,"lang_point")),V.Db(3),V.Uc(V.ic(31,27,"lang_homework_utils_excel_table_export_comment")),V.Db(3),V.nc("ngForOf",t.studentList),V.Db(8),V.Vc("",V.ic(42,29,"lang_homework_utils_excel_table_export_verifil_teacher"),": "))},directives:[r.l],pipes:[Qe.q,r.e],encapsulation:2}),$o),Ko=c("XhcP"),Xo=c("CB8n"),Zo=c("EXc1"),ei=c("1jcm");function ti(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div"),V.Vb(1,"div",3),V.Vb(2,"p",4),V.Tc(3,"Ch\u01b0a c\xf3 h\u1ecdc sinh n\xe0o n\u1ed9p b\xe0i t\u1eadp"),V.Ub(),V.Vb(4,"a",5),V.cc("click",function(){return V.Ec(n),V.gc().showCopySuccess()}),V.Vb(5,"mat-icon",6),V.Tc(6,"share"),V.Ub(),V.Vb(7,"span",6),V.Tc(8,"\xa0Copy link b\xe0i t\u1eadp"),V.Ub(),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=V.gc();V.Db(4),V.nc("cdkCopyToClipboard",o.copyLinkHomeWorkToClipboard())}}function ni(e,t){1&e&&(V.Vb(0,"p",28),V.Tc(1," Ch\u01b0a ch\u1ea5m "),V.Ub())}function oi(e,t){1&e&&(V.Vb(0,"p",29),V.Tc(1," Ch\u01b0a n\u1ed9p "),V.Ub())}function ii(e,t){1&e&&(V.Vb(0,"p",29),V.Tc(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),V.Ub())}function ai(e,t){if(1&e&&(V.Vb(0,"p",30),V.Tc(1," \u0110i\u1ec3m: "),V.Vb(2,"b"),V.Qb(3,"azt-check-mark",31),V.Ub(),V.Ub()),2&e){var n=V.gc(2).$implicit;V.Db(3),V.nc("mark",n.point)}}function ci(e,t){if(1&e&&(V.Vb(0,"p",32),V.Tc(1),V.Ub()),2&e){var n=V.gc(2).$implicit,o=V.gc(2);V.Db(1),V.Vc(" ",o.calculationTime(n.createdAt)," tr\u01b0\u1edbc ")}}function ri(e,t){if(1&e&&(V.Vb(0,"div",22),V.Vb(1,"p",32),V.Tc(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),V.Ub(),V.Vb(3,"p",32),V.Tc(4),V.Ub(),V.Ub()),2&e){var n=V.gc(2).$implicit;V.Db(4),V.Vc(" ",(null==n.answerFileObjs?null:n.answerFileObjs.length)||0," ")}}var si=function(e){return[e]},li=function(e){return{backto:e}},di=function(e){return{disableClick:e}};function bi(e,t){if(1&e&&(V.Vb(0,"div"),V.Vb(1,"a",13),V.hc(2,"mylocalize"),V.Vb(3,"div",14),V.Vb(4,"div",15),V.Vb(5,"span",16),V.Qb(6,"azt-create-avatar",17),V.Ub(),V.Vb(7,"div",18),V.Vb(8,"div",19),V.Vb(9,"span",20),V.Vb(10,"span",21),V.Tc(11),V.Ub(),V.Ub(),V.Ub(),V.Vb(12,"div",22),V.Rc(13,ni,2,0,"p",23),V.Rc(14,oi,2,0,"p",24),V.Rc(15,ii,2,0,"p",24),V.Rc(16,ai,4,1,"p",25),V.Rc(17,ci,2,1,"p",26),V.Ub(),V.Rc(18,ri,5,1,"div",27),V.Ub(),V.Ub(),V.Ub(),V.Ub(),V.Ub()),2&e){var n=V.gc().$implicit,o=V.gc(2);V.Db(1),V.nc("routerLink",V.tc(15,si,V.ic(2,13,"/admin/homework/mark-exercise/"+n.answer.id+"/"+o.obj.hashId)))("queryParams",V.tc(17,li,o.backToLink)),V.Db(2),V.nc("ngClass",V.tc(19,di,n.isNotSubmit||n.mustReSubmit)),V.Db(3),V.nc("linkAvatar",n.avatar)("nameCreateAvatar",n.fullName)("size",30),V.Db(5),V.Uc(n.fullName),V.Db(2),V.nc("ngIf",n.isSubmitted),V.Db(1),V.nc("ngIf",n.isNotSubmit),V.Db(1),V.nc("ngIf",n.mustReSubmit),V.Db(1),V.nc("ngIf",n.isMarked),V.Db(1),V.nc("ngIf",null!=n.createdAt),V.Db(1),V.nc("ngIf",n.isMarked||n.isSubmitted)}}function ui(e,t){1&e&&(V.Vb(0,"p",28),V.Tc(1," Ch\u01b0a ch\u1ea5m "),V.Ub())}function mi(e,t){1&e&&(V.Vb(0,"p",29),V.Tc(1," Ch\u01b0a n\u1ed9p "),V.Ub())}function hi(e,t){1&e&&(V.Vb(0,"p",29),V.Tc(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),V.Ub())}function gi(e,t){if(1&e&&(V.Vb(0,"p",30),V.Tc(1," \u0110i\u1ec3m: "),V.Vb(2,"b"),V.Tc(3),V.Ub(),V.Ub()),2&e){var n=V.gc(2).$implicit;V.Db(3),V.Uc(n.point)}}function pi(e,t){if(1&e&&(V.Vb(0,"p",32),V.Tc(1),V.Ub()),2&e){var n=V.gc(2).$implicit,o=V.gc(2);V.Db(1),V.Vc(" ",o.calculationTime(n.createdAt)," tr\u01b0\u1edbc ")}}function fi(e,t){1&e&&(V.Vb(0,"div",22),V.Vb(1,"p",32),V.Tc(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),V.Ub(),V.Vb(3,"p",32),V.Tc(4," 0 "),V.Ub(),V.Ub())}function vi(e,t){if(1&e){var n=V.Wb();V.Vb(0,"div",14),V.Vb(1,"div",15),V.Vb(2,"span",16),V.Qb(3,"azt-create-avatar",17),V.Ub(),V.Vb(4,"div",33),V.cc("click",function(){V.Ec(n);var e=V.gc().$implicit;return V.gc(2).goToResultReview(e)}),V.Vb(5,"div",19),V.Vb(6,"span",20),V.Vb(7,"span",21),V.Tc(8),V.Ub(),V.Ub(),V.Ub(),V.Vb(9,"div",22),V.Rc(10,ui,2,0,"p",23),V.Rc(11,mi,2,0,"p",24),V.Rc(12,hi,2,0,"p",24),V.Rc(13,gi,4,1,"p",25),V.Rc(14,pi,2,1,"p",26),V.Ub(),V.Rc(15,fi,5,0,"div",27),V.Ub(),V.Ub(),V.Ub()}if(2&e){var o=V.gc().$implicit;V.nc("ngClass",V.tc(11,di,o.isNotSubmit||o.mustReSubmit)),V.Db(3),V.nc("linkAvatar",o.avatar)("nameCreateAvatar",o.fullName)("size",30),V.Db(5),V.Uc(o.fullName),V.Db(2),V.nc("ngIf",o.isSubmitted),V.Db(1),V.nc("ngIf",o.isNotSubmit),V.Db(1),V.nc("ngIf",o.mustReSubmit),V.Db(1),V.nc("ngIf",o.isMarked),V.Db(1),V.nc("ngIf",null!=o.createdAt),V.Db(1),V.nc("ngIf",o.isMarked||o.isSubmitted)}}var ki=function(e){return{"col-lg-4":e}};function _i(e,t){if(1&e&&(V.Vb(0,"div",10),V.Rc(1,bi,19,21,"div",11),V.Rc(2,vi,16,13,"ng-template",null,12,V.Sc),V.Ub()),2&e){var n=t.$implicit,o=V.Ac(3),i=V.gc(2);V.nc("ngClass",V.tc(3,ki,i.isOpenSideNav)),V.Db(1),V.nc("ngIf",n.answer)("ngIfElse",o)}}function wi(e,t){if(1&e&&(V.Vb(0,"div",7),V.Vb(1,"div",8),V.Rc(2,_i,4,5,"div",9),V.Ub(),V.Ub()),2&e){var n=V.gc();V.Db(2),V.nc("ngForOf",n.studentLists)}}var yi,xi,Oi=((xi=function(e){m(n,e);var t=g(n);function n(e,o){var i;return l(this,n),(i=t.call(this,e)).commonService=e,i.timeService=o,i.isSortByTime=!1,i.backToLink="",i.searchKey="",i.studentLists=[],i.isNotTestedYet=!1,i.isOpenSideNav=!0,i.obj={},i.goToResult=new V.o,i}return b(n,[{key:"goToResultReview",value:function(e){e.isNotSubmit||e.mustReSubmit||this.goToResult.emit(e)}},{key:"copyLinkHomeWorkToClipboard",value:function(){return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/bai-tap/").concat(this.obj.hashId)}},{key:"showCopySuccess",value:function(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}},{key:"calculationTime",value:function(e,t){return this.timeService.calculationTime(e,t)}}]),n}(U.a)).\u0275fac=function(e){return new(e||xi)(V.Pb(j.a),V.Pb(bo.a))},xi.\u0275cmp=V.Jb({type:xi,selectors:[["app-student-homework-result"]],inputs:{isSortByTime:"isSortByTime",backToLink:"backToLink",searchKey:"searchKey",studentLists:"studentLists",isNotTestedYet:"isNotTestedYet",isOpenSideNav:"isOpenSideNav",obj:"obj"},outputs:{goToResult:"goToResult"},features:[V.Ab],decls:3,vars:2,consts:[[1,"box-content","py-2","scrollable-content"],[4,"ngIf"],["class","pt-0 pb-2 px-3 ",4,"ngIf"],[1,"text-center","mt-3"],[1,"h5"],[1,"clickable",2,"user-select","none",3,"cdkCopyToClipboard","click"],[2,"vertical-align","middle","color","#333333"],[1,"pt-0","pb-2","px-3"],[1,"row","ml-0","mr-0","pl-0","pr-0","mt-2"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2",3,"ngClass"],[4,"ngIf","ngIfElse"],["answerIdNull",""],[3,"routerLink","queryParams"],[1,"box-item",3,"ngClass"],[1,"student-item"],[1,"stdimg","align-self-center"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"stdinfo"],[1,"stdinfo-fullname"],[2,"vertical-align","middle"],[2,"vertical-align","middle","color","#333333","font-weight","400","font-size","15px","word-break","break-word"],[1,"d-flex","justify-content-between"],["style","color: #F39C12; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","color: #9F0000; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px; color: #9C9C9C",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[2,"color","#F39C12","font-size","13px","margin-bottom","2px"],[2,"color","#9F0000","font-size","13px","margin-bottom","2px"],[2,"font-size","13px","margin-bottom","2px"],[3,"mark"],[2,"font-size","13px","margin-bottom","2px","color","#9C9C9C"],[1,"stdinfo",3,"click"]],template:function(e,t){1&e&&(V.Vb(0,"div",0),V.Rc(1,ti,9,1,"div",1),V.Rc(2,wi,3,1,"div",2),V.Ub()),2&e&&(V.Db(1),V.nc("ngIf",t.isNotTestedYet),V.Db(1),V.nc("ngIf",!t.isNotTestedYet))},directives:[r.m,Ot.a,ze.a,r.l,r.k,h.k,jo.a,zn.a],pipes:[Qe.p],styles:[".box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none}a[_ngcontent-%COMP%]{color:#000}.disableClick[_ngcontent-%COMP%]{cursor:default!important}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 166px);overflow-y:scroll}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;margin:5px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #cecece;border-radius:10px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cfcece;border-radius:10px}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;cursor:pointer;position:relative}.badge-testing[_ngcontent-%COMP%]{position:absolute;top:0;right:6px;border-radius:4px;padding:0 3px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.link-stu[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%]{display:flex}.link-stu[_ngcontent-%COMP%]{align-items:center}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.create-avatar[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin-top:2px;border-radius:50%;width:30px;text-transform:uppercase;height:30px;background:#ddd;text-align:center;padding-top:5px}@media screen and (max-width:750px){.scrollable-content[_ngcontent-%COMP%]{min-height:calc(100vh - 170px);height:auto;overflow-y:inherit}.tested_list_container[_ngcontent-%COMP%]{height:auto}}"]}),xi),Si=((yi=function e(){l(this,e)}).\u0275mod=V.Nb({type:yi}),yi.\u0275inj=V.Mb({factory:function(e){return new(e||yi)},imports:[[h.l,r.c,y.a,p.b,Lo,s.m,s.x,d.f,w.a,k.b,_.a]]}),yi);V.Kc(Se,[Ge.a,r.m,Ee.a,Go,Je.a,Ko.b,Ko.a,r.k,Le.b,Ot.a,ze.a,Xo.a,Zo.a,r.l,Be.a,h.k,Ko.c,s.B,s.s,s.l,s.d,s.r,s.j,Vo.d,Vo.a,Vo.b,ei.a,Oi,Yo],[Qe.q,r.e,Qe.p,Qe.i,Qe.h,r.u])},loSA:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n("gm2p"),i=n("fXoL"),a=n("ofXK"),c=n("Qu3c");function r(e,t){1&e&&(i.Vb(0,"span",6),i.Tc(1,"\u0110"),i.Ub())}function s(e,t){1&e&&(i.Vb(0,"span",7),i.Tc(1,"C\u0110"),i.Ub())}function d(e,t){1&e&&(i.Vb(0,"span",8),i.Tc(1,"HT"),i.Ub())}function b(e,t){1&e&&(i.Vb(0,"span",9),i.Tc(1,"CHT"),i.Ub())}function u(e,t){1&e&&(i.Vb(0,"span",10),i.Tc(1,"HTT"),i.Ub())}function h(e,t){if(1&e&&(i.Vb(0,"span",11),i.Tc(1),i.Ub()),2&e){var n=i.gc();i.Db(1),i.Uc(n.mark)}}var p=function(){var e=function(e){m(n,e);var t=g(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).mark=0,e}return n}(o.a);return e.\u0275fac=function(t){return f(t||e)},e.\u0275cmp=i.Jb({type:e,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[i.Ab],decls:6,vars:6,consts:[["class","text-mark mb-0","matTooltip","\u0110\u1ea1t",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ch\u01b0a \u0110\u1ea1t",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ho\xe0n Th\xe0nh",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ch\u01b0a Ho\xe0n Th\xe0nh",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ho\xe0n Th\xe0nh T\u1ed1t",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],["matTooltip","\u0110\u1ea1t",1,"text-mark","mb-0"],["matTooltip","Ch\u01b0a \u0110\u1ea1t",1,"text-mark","mb-0"],["matTooltip","Ho\xe0n Th\xe0nh",1,"text-mark","mb-0"],["matTooltip","Ch\u01b0a Ho\xe0n Th\xe0nh",1,"text-mark","mb-0"],["matTooltip","Ho\xe0n Th\xe0nh T\u1ed1t",1,"text-mark","mb-0"],[1,"text-mark","mb-0"]],template:function(e,t){1&e&&(i.Rc(0,r,2,0,"span",0),i.Rc(1,s,2,0,"span",1),i.Rc(2,d,2,0,"span",2),i.Rc(3,b,2,0,"span",3),i.Rc(4,u,2,0,"span",4),i.Rc(5,h,2,1,"span",5)),2&e&&(i.nc("ngIf","1000"==t.mark),i.Db(1),i.nc("ngIf","1001"==t.mark),i.Db(1),i.nc("ngIf","2000"==t.mark),i.Db(1),i.nc("ngIf","2001"==t.mark),i.Db(1),i.nc("ngIf","3000"==t.mark),i.Db(1),i.nc("ngIf","2001"!=t.mark&&"2000"!=t.mark&&"1001"!=t.mark&&"1000"!=t.mark&&"3000"!=t.mark))},directives:[a.m,c.a],encapsulation:2}),e}(),f=i.Xb(p)}}])}();