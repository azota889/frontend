(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{CB8n:function(t,e,i){"use strict";i.d(e,"a",function(){return r});var n=i("gm2p"),o=i("fXoL"),s=i("NFeN"),c=i("Qu3c"),a=i("STbY");let r=(()=>{class t extends n.a{constructor(){super(...arguments),this.linkUrl="",this.id="",this.fileName=""}bindUrlToQrCode(){let t=document.getElementById("qrcode_making"+this.id);t&&(t.textContent=""),this.qrcode=this.commonService.createObjectQrcode(this.linkUrl,128,128,"url",!1,"qrcode_making"+this.id)}downloadQrCode(){var t=this.qrcode._oDrawing.dataURL,e=document.createElement("a");document.body.appendChild(e),e.setAttribute("href",t),e.setAttribute("download",""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg"),e.click()}}return t.\u0275fac=function(e){return l(e||t)},t.\u0275cmp=o.Jb({type:t,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",id:"id",fileName:"fileName"},features:[o.Ab],decls:10,vars:2,consts:[["matTooltip","Qu\xe9t ho\u1eb7c t\u1ea3i m\xe3 QR code",1,"clickable",2,"font-size","19px","height","19px","width","19px",3,"matMenuTriggerFor","click"],["showQrCode","matMenu"],[1,"content",3,"click"],[1,"upload-qr-box-item-content-qr",3,"id"],[1,"pt-2","clickable",2,"color","#007bff","align-items","center","display","flex","justify-content","center",3,"click"]],template:function(t,e){if(1&t&&(o.Vb(0,"mat-icon",0),o.cc("click",function(){return e.bindUrlToQrCode()}),o.Tc(1,"qr_code"),o.Ub(),o.Vb(2,"mat-menu",null,1),o.Vb(4,"div",2),o.cc("click",function(t){return t.stopPropagation()}),o.Qb(5,"div",3),o.Vb(6,"div",4),o.cc("click",function(){return e.downloadQrCode()}),o.Vb(7,"mat-icon"),o.Tc(8,"save_alt"),o.Ub(),o.Tc(9," T\u1ea3i v\u1ec1 m\xe1y"),o.Ub(),o.Ub(),o.Ub()),2&t){const t=o.Ac(3);o.nc("matMenuTriggerFor",t),o.Db(5),o.pc("id","qrcode_making",e.id,"")}},directives:[s.a,c.a,a.d,a.a],styles:[".upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:#fff;padding:5px;border-radius:5px}.content[_ngcontent-%COMP%]{margin:0 20px}"]}),t})();const l=o.Xb(r)},SKNz:function(t,e,i){"use strict";i.r(e),i.d(e,"TestFrontModule",function(){return Mr});var n=i("ofXK"),o=i("3Pt+"),s=i("0IaG"),c=i("tyNb"),a=i("fB2i"),r=i("IkSl"),l=i("rIor"),b=i("Zhhu"),d=i("sOeQ"),u=i("vvyD"),h=i("Avyq"),m=i("gm2p"),g=i("fXoL"),f=i("oUVn");let p=(()=>{class t extends m.a{constructor(t,e){super(e),this.activeRoute=t,this.commonService=e}ngOnInit(){var t=this.commonService.getMyParam(this.activeRoute,"hash_id");this.commonService.myNavigation("/de-thi/"+t)}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(c.a),g.Pb(f.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["page-redirect-support"]],features:[g.Ab],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();var v=i("6Fp8"),x=i("itXk"),w=i("AkFM"),_=i("PYj7"),y=i("k3bj"),S=i("nzN9"),U=i("Q0Xt");function O(t,e){1&t&&g.Qb(0,"azt-loading-effect")}function I(t,e){if(1&t&&g.Qb(0,"azt-test-review",3),2&t){const t=g.gc();g.nc("initDataAnswer",t.initDataAnswerTest)("isBackEnd",!1)}}let V=(()=>{class t extends m.a{constructor(t,e,i,n){super(t),this.commonService=t,this.activeRoute=e,this.browserStorageService=i,this.frontExamResultService=n,this.headerTitle="",this.initDataAnswerTest={}}redirectToBackLink(){var t;let e=null!==(t=this.commonService.getMyQueryParam("backto"))&&void 0!==t?t:"",i=this.activeRoute.snapshot.paramMap.get("hash_id");return this.commonService.getMyQueryParam("offline")?this.myNavigationBySpecialQueryString(null!=e?e:"/student/dashboard/0"):e.includes("enter-question")?this.commonService.myNavigation(e):this.commonService.myNavigationWithQueryString("/de-thi/"+i,"?backto="+encodeURIComponent(e))}translateMetaTitle(t){this.commonService.translateMetaData({title:"K\u1ebft qu\u1ea3: "+t,description:"K\u1ebft qu\u1ea3: "+t,image:"lang_cms_test_image"})}getAndProcessDataForStudent(){this.initStatusObj(),Object(x.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var t,e,i=null===(t=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===t?void 0:t.toString();let n=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),o=null!==(e=this.commonService.getMyQueryParam("offline"))&&void 0!==e?e:"";var s=this.browserStorageService.getSimpleSessionStorageWithExpired("test_result_v2_"+i+"_"+n);s?(this.initDataAnswerTest.data=s,this.headerTitle="K\u1ebft qu\u1ea3: "+s.examObj.name,this.translateMetaTitle(s.examObj.name),this.successStatusObj()):this.frontExamResultService.apiFrontExamResultGetExamWithExamAnswerV2Get(i,n,o).subscribe(t=>{var e,i,n,o,s;1==t.success?(this.initDataAnswerTest=t,this.headerTitle="K\u1ebft qu\u1ea3: "+(null===(i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.examObj)||void 0===i?void 0:i.name),this.translateMetaTitle(null===(o=null===(n=t.data)||void 0===n?void 0:n.examObj)||void 0===o?void 0:o.name),this.successStatusObj()):this.errorStatusObj(null!==(s=t.message)&&void 0!==s?s:"",!0)})})}ngOnInit(){this.commonService.gaEvent("FrontExam_ViewFullResult"),this.getAndProcessDataForStudent(),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a),g.Pb(c.a),g.Pb(w.a),g.Pb(_.C))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-student-list"]],features:[g.Ab],decls:4,vars:4,consts:[[3,"headerTitle","checkUrlFunction","RedirectToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"initDataAnswer","isBackEnd"]],template:function(t,e){if(1&t&&(g.Vb(0,"header-frontend",0),g.cc("RedirectToLink",function(){return e.redirectToBackLink()}),g.Ub(),g.Rc(1,O,1,0,"azt-loading-effect",1),g.Rc(2,I,1,2,"ng-template",null,2,g.Sc)),2&t){const t=g.Ac(3);g.nc("headerTitle",e.headerTitle)("checkUrlFunction",!0),g.Db(1),g.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}},directives:[y.a,n.m,S.a,U.a],encapsulation:2}),t})();var C=i("quSY"),T=i("7m15"),k=i("Wp6s"),D=i("NFeN");function M(t,e){1&t&&g.Qb(0,"azt-loading-effect")}function P(t,e){1&t&&(g.Vb(0,"div"),g.Vb(1,"div",6),g.Vb(2,"span"),g.Tc(3,"C\xf3 l\u1ed7i khi t\u1ea3i k\u1ebft qu\u1ea3. Vui l\xf2ng t\u1ea3i l\u1ea1i trang ho\u1eb7c th\u1eed l\u1ea1i sau!"),g.Ub(),g.Ub(),g.Ub())}function E(t,e){if(1&t&&(g.Vb(0,"span"),g.Tc(1,"S\u1ed1 l\u01b0\u1ee3ng \u0111\xfang: "),g.Vb(2,"span"),g.Tc(3),g.Ub(),g.Ub()),2&t){const t=g.gc(3);g.Db(3),g.Wc("",t.examResultObj.rightAnswer," / ",t.examResultObj.totalQuestion,"")}}function j(t,e){if(1&t&&(g.Vb(0,"span"),g.Tc(1),g.Ub()),2&t){const t=g.gc(3);g.Db(1),g.Vc("S\u1ed1 c\xe2u h\u1ecfi: ",t.examResultObj.totalQuestion,"")}}function R(t,e){if(1&t&&(g.Vb(0,"h2",27),g.Tc(1),g.Ub()),2&t){const t=g.gc(5);g.Db(1),g.Uc(t.examResultObj.mark)}}function F(t,e){if(1&t&&(g.Vb(0,"div",24),g.Vb(1,"h2",25),g.Tc(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Ub(),g.Vb(3,"div",22),g.Rc(4,R,2,1,"h2",26),g.Ub(),g.Ub()),2&t){const t=g.gc(4);g.Db(4),g.nc("ngIf",null!=t.examResultObj.mark)}}function A(t,e){1&t&&(g.Vb(0,"h2",25),g.Tc(1," \u0110i\u1ec3m tr\u1eafc nghi\u1ec7m c\u1ee7a b\u1ea1n: "),g.Ub())}function q(t,e){1&t&&(g.Vb(0,"h2",25),g.Tc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Ub())}function L(t,e){if(1&t&&(g.Vb(0,"h2",27),g.Tc(1),g.Ub()),2&t){const t=g.gc(5);g.Db(1),g.Uc(t.examResultObj.mark)}}function z(t,e){if(1&t&&(g.Vb(0,"div",24),g.Rc(1,A,2,0,"h2",28),g.Rc(2,q,2,0,"h2",28),g.Vb(3,"div",22),g.Rc(4,L,2,1,"h2",26),g.Ub(),g.Ub()),2&t){const t=g.gc(4);g.Db(1),g.nc("ngIf",null==t.examResultObj.essayMark),g.Db(1),g.nc("ngIf",null!=t.examResultObj.essayMark),g.Db(2),g.nc("ngIf",null!=t.examResultObj.mark)}}function Q(t,e){1&t&&(g.Vb(0,"h2",25),g.Tc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Ub())}function $(t,e){if(1&t&&(g.Vb(0,"h2",27),g.Tc(1),g.Ub()),2&t){const t=g.gc(5);g.Db(1),g.Vc(" ",t.examResultObj.mark,"")}}function N(t,e){1&t&&(g.Vb(0,"h2",29),g.Tc(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),g.Ub())}function W(t,e){if(1&t&&(g.Vb(0,"div",24),g.Rc(1,Q,2,0,"h2",28),g.Vb(2,"div",22),g.Rc(3,$,2,1,"h2",26),g.Rc(4,N,2,0,"h2",23),g.Ub(),g.Ub()),2&t){const t=g.gc(4);g.Db(1),g.nc("ngIf",null!=t.examResultObj.essayMark),g.Db(2),g.nc("ngIf",null!=t.examResultObj.mark&&null!=t.examResultObj.essayMark),g.Db(1),g.nc("ngIf",null==t.examResultObj.essayMark)}}function B(t,e){1&t&&(g.Vb(0,"h2",29),g.Tc(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),g.Ub())}function H(t,e){if(1&t&&(g.Vb(0,"div",20),g.Rc(1,F,5,1,"div",21),g.Rc(2,z,5,3,"div",21),g.Rc(3,W,5,3,"div",21),g.Vb(4,"div",22),g.Rc(5,B,2,0,"h2",23),g.Ub(),g.Ub()),2&t){const t=g.gc(3);g.Db(1),g.nc("ngIf",1==t.examObj.examType||0==t.examObj.examType),g.Db(1),g.nc("ngIf",11==t.examObj.examType||10==t.examObj.examType),g.Db(1),g.nc("ngIf",20==t.examObj.examType||21==t.examObj.examType),g.Db(2),g.nc("ngIf",null==t.examResultObj.mark)}}function G(t,e){1&t&&(g.Vb(0,"h2",25),g.Tc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Ub())}function J(t,e){if(1&t&&(g.Vb(0,"div",20),g.Vb(1,"div",24),g.Rc(2,G,2,0,"h2",28),g.Ub(),g.Vb(3,"div",22),g.Vb(4,"h2",29),g.Tc(5,"Ch\u01b0a \u0111\u01b0\u1ee3c xem \u0111i\u1ec3m"),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(3);g.Db(2),g.nc("ngIf",null==t.examResultObj.essayMark)}}function X(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",30),g.Vb(1,"button",31),g.cc("click",function(){return g.Ec(t),g.gc(3).redirectToAnswerTest()}),g.Tc(2,"xem \u0111\xe1p \xe1n chi ti\u1ebft"),g.Ub(),g.Ub()}}function K(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",30),g.Vb(1,"button",31),g.cc("click",function(){return g.Ec(t),g.gc(3).redirectToAnswerTest()}),g.Tc(2,"xem b\xe0i l\xe0m chi ti\u1ebft"),g.Ub(),g.Ub()}}function Y(t,e){if(1&t&&(g.Vb(0,"div",7),g.Vb(1,"b"),g.Vb(2,"h2"),g.Tc(3,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i"),g.Ub(),g.Ub(),g.Ub(),g.Vb(4,"div",8),g.Vb(5,"div",9),g.Vb(6,"mat-card",10),g.Vb(7,"div",11),g.Vb(8,"div",12),g.Vb(9,"div",13),g.Vb(10,"div",14),g.Vb(11,"span",15),g.Vb(12,"mat-icon"),g.Tc(13,"access_time"),g.Ub(),g.Ub(),g.Vb(14,"span",16),g.Tc(15," Th\u1eddi gian l\xe0m b\xe0i: "),g.Vb(16,"span"),g.Tc(17),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(18,"div",13),g.Vb(19,"div",14),g.Vb(20,"span",15),g.Vb(21,"mat-icon"),g.Tc(22,"help_outline"),g.Ub(),g.Ub(),g.Vb(23,"span",16),g.Rc(24,E,4,2,"span",17),g.Rc(25,j,2,1,"span",17),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(26,"div",7),g.Rc(27,H,6,4,"div",18),g.Rc(28,J,6,1,"div",18),g.Ub(),g.Rc(29,X,3,0,"div",19),g.Rc(30,K,3,0,"div",19),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(2);g.Db(17),g.Yc("",t.days," ",t.hours," ",t.minutes," ",t.seconds,""),g.Db(7),g.nc("ngIf",null!=t.examResultObj.rightAnswer),g.Db(1),g.nc("ngIf",null==t.examResultObj.rightAnswer),g.Db(2),g.nc("ngIf",2!=t.examObj.whenShowResult),g.Db(1),g.nc("ngIf",2==t.examObj.whenShowResult),g.Db(1),g.nc("ngIf",2!=t.examObj.whenShowAnswer),g.Db(1),g.nc("ngIf",2==t.examObj.whenShowAnswer)}}function Z(t,e){if(1&t&&(g.Vb(0,"div",3),g.Vb(1,"div",4),g.Rc(2,P,4,0,"div",1),g.Rc(3,Y,31,10,"ng-template",null,5,g.Sc),g.Ub(),g.Ub()),2&t){const t=g.Ac(4),e=g.gc();g.Db(2),g.nc("ngIf",""!=e.statusObj.errorMessage)("ngIfElse",t)}}let tt=(()=>{class t extends m.a{constructor(t,e,i,n){super(i),this.activeRoute=t,this.frontExamResultService=e,this.commonService=i,this.browserStorageService=n,this.subscriptions=new C.a,this.hashId="",this.resultId=0,this.tenantId=0,this.cur_cateId=0,this.examObj={},this.examResultObj={},this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.back_link="",this.backtoLink=""}getExamResult(){var t,e,i,n;this.initStatusObj();var o=this.browserStorageService.getSimpleSessionStorage("tsest_result_"+this.hashId+"_"+this.resultId);if(o){var s=this.commonService.parseJson(o);this.examObj=null!==(t=s.data.examObj)&&void 0!==t?t:{},this.examResultObj=null!==(e=s.data.examResultObj)&&void 0!==e?e:{};var c=new Date(null!==(i=this.examResultObj.startedTest)&&void 0!==i?i:""),a=new Date(null!==(n=this.examResultObj.createdAt)&&void 0!==n?n:"").getTime()-c.getTime(),r=Math.floor(a/864e5),l=Math.floor(a/36e5)-24*r,b=Math.floor(a/6e4)-(24*r*60+60*l),d=Math.floor(a/1e3)-(24*r*60*60+60*l*60+60*b);0!=r&&(this.days=r+" ng\xe0y "),0!=l&&(this.hours=l+" gi\u1edd "),0!=b&&(this.minutes=b+" ph\xfat "),0!=d&&(this.seconds=d+" gi\xe2y"),this.commonService.translateMetaData({title:"N\u1ed9p b\xe0i: "+this.examObj.name,description:this.examObj.name}),this.stopStatusObj()}else this.subscriptions.add(this.frontExamResultService.apiFrontExamResultGetObjGet(this.hashId,this.resultId).subscribe(t=>{var e,i,n,o,s,c,a,r,u,h,m;if(1==t.success){this.hasErrorMessage=(null==t?void 0:t.hasOwnProperty("message"))&&t.message?t.message:"",this.examObj=null!==(i=null===(e=t.data)||void 0===e?void 0:e.examObj)&&void 0!==i?i:{},this.examResultObj=null!==(o=null===(n=t.data)||void 0===n?void 0:n.examResultObj)&&void 0!==o?o:{};var g=new Date(null!==(a=null===(c=null===(s=t.data)||void 0===s?void 0:s.examResultObj)||void 0===c?void 0:c.startedTest)&&void 0!==a?a:""),f=new Date(null!==(h=null===(u=null===(r=t.data)||void 0===r?void 0:r.examResultObj)||void 0===u?void 0:u.createdAt)&&void 0!==h?h:"").getTime()-g.getTime(),p=Math.floor(f/864e5),v=Math.floor(f/36e5)-24*p,x=Math.floor(f/6e4)-(24*p*60+60*v),w=Math.floor(f/1e3)-(24*p*60*60+60*v*60+60*x);0!=p&&(this.days=p+" ng\xe0y "),0!=l&&(this.hours=v+" gi\u1edd "),0!=b&&(this.minutes=x+" ph\xfat "),0!=d&&(this.seconds=w+" gi\xe2y"),this.commonService.translateMetaData({title:"N\u1ed9p b\xe0i: "+this.examObj.name,description:this.examObj.name}),this.successStatusObj()}else this.errorStatusObj(null!==(m=t.message)&&void 0!==m?m:"",!0)}))}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.cur_cateId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.backtoLink))}ngOnInit(){var t;Object(x.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var t,e=null===(t=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===t?void 0:t.toString();this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=e||"",this.getExamResult()}),this.back_link="/student/dashboard/0",this.backtoLink=null!==(t=this.commonService.getMyQueryParam("backto"))&&void 0!==t?t:"",this.commonService.getMyQueryParam("backto")&&(this.back_link=this.backtoLink),this.commonService.gaEvent("FrontExam_ViewShortResult"),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(c.a),g.Pb(T.a),g.Pb(f.a),g.Pb(w.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-student-list"]],features:[g.Ab],decls:4,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"mw-640","app","mt-3"],[1,"view-full-screen"],["Normal",""],[1,"alert","alert-danger"],[1,"title-header"],[1,"row","m-0"],[1,"col-md-12",2,"margin","0 auto","padding-top","10px","padding-bottom","5px"],[1,"text-center"],[1,"card-info"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","point-view",4,"ngIf"],[1,"col-md-12"],["style","display: inline-block;",4,"ngIf"],[1,"point-view-score"],["class","text-danger mr-3",4,"ngIf"],[2,"display","inline-block"],[1,"score-text"],["class","score",4,"ngIf"],[1,"score"],["class","score-text",4,"ngIf"],[1,"text-danger","mr-3"],[1,"point-view"],[1,"btn","btn-warning",2,"color","white","font-size","14px",3,"click"]],template:function(t,e){if(1&t&&(g.Qb(0,"header-frontend",0),g.Rc(1,M,1,0,"azt-loading-effect",1),g.Rc(2,Z,5,2,"ng-template",null,2,g.Sc)),2&t){const t=g.Ac(3);g.nc("headerTitle","N\u1ed9p b\xe0i")("back_link",e.back_link),g.Db(1),g.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}},directives:[y.a,n.m,S.a,k.a,D.a],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.view-full-screen[_ngcontent-%COMP%]{margin-top:20px}.title-header[_ngcontent-%COMP%]{text-align:center;padding-top:30px}.title-content[_ngcontent-%COMP%]{justify-content:center;padding:30px 0 0}.point-view[_ngcontent-%COMP%]{text-align:center;padding-bottom:30px}.point-view[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700;padding-bottom:20px}.score-text[_ngcontent-%COMP%]{font-weight:600}.point-view-score[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700}.box-slide-show[_ngcontent-%COMP%]{width:100%;background:inherit;background-color:#fff;border:1px solid #e7e7e7;border-radius:5px}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}@media screen and (max-width:576px){.box[_ngcontent-%COMP%]{justify-content:flex-start}}"]}),t})();var et=i("W8E8"),it=i("AytR"),nt=i("mrSG"),ot=i("tk/3"),st=i("BTbT"),ct=i("sYmb"),at=i("Bjt4"),rt=i("VMFx"),lt=i("luLc"),bt=i("bTqV"),dt=i("Qu3c"),ut=i("UXJo"),ht=i("iWHX");const mt=["customCard"],gt=["fileSelect"];function ft(t,e){1&t&&(g.Vb(0,"p",16),g.Tc(1,"B\xe0i l\xe0m \u0111ang \u0111\u01b0\u1ee3c t\u1ea3i l\xean. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),g.Ub())}function pt(t,e){1&t&&(g.Vb(0,"p",16),g.Tc(1,"\u0110ang \u0111\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!"),g.Ub())}function vt(t,e){if(1&t&&(g.Vb(0,"div",13),g.Vb(1,"span"),g.Qb(2,"span",14),g.Ub(),g.Qb(3,"br"),g.Rc(4,ft,2,0,"p",15),g.Rc(5,pt,2,0,"p",15),g.Ub()),2&t){const t=g.gc(2);g.Db(4),g.nc("ngIf",!t.Tmploading),g.Db(1),g.nc("ngIf",t.Tmploading)}}const xt=function(t){return{"width.%":t}};function wt(t,e){if(1&t&&(g.Vb(0,"div",19),g.Vb(1,"p",20),g.Tc(2),g.Ub(),g.Vb(3,"div",21),g.Qb(4,"div",22),g.Ub(),g.Ub()),2&t){const t=e.$implicit;g.Db(2),g.Uc(t.fileName),g.Db(2),g.nc("ngStyle",g.tc(2,xt,t.uploadProgress))}}function _t(t,e){if(1&t&&(g.Vb(0,"div",17),g.Rc(1,wt,5,4,"div",18),g.Ub()),2&t){const t=g.gc(2);g.Db(1),g.nc("ngForOf",t.convertObjToArray(t.fileUploadQueue))}}function yt(t,e){if(1&t&&(g.Vb(0,"div"),g.Qb(1,"img",33),g.hc(2,"safe"),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.nc("src",g.ic(2,1,t.url||""),g.Ic)}}function St(t,e){if(1&t&&(g.Qb(0,"img",33),g.hc(1,"safe")),2&t){const t=g.gc().$implicit;g.nc("src",g.ic(1,1,t.thumb||""),g.Ic)}}function Ut(t,e){if(1&t){const t=g.Wb();g.Vb(0,"span",34),g.cc("click",function(){g.Ec(t);const e=g.gc().$implicit;return g.gc(3).removeImg(e.url||"")}),g.Vb(1,"mat-icon"),g.Tc(2,"cancel"),g.Ub(),g.Ub()}}function Ot(t,e){1&t&&(g.Vb(0,"span",35),g.Vb(1,"mat-icon",36),g.Tc(2,"check_box_outline"),g.Ub(),g.Ub())}function It(t,e){if(1&t&&(g.Vb(0,"div",25),g.Rc(1,yt,3,3,"div",26),g.Rc(2,St,2,3,"ng-template",null,27,g.Sc),g.Vb(4,"a",28),g.Vb(5,"mat-icon",29),g.Tc(6,"attach_file"),g.Ub(),g.Vb(7,"span",30),g.Tc(8),g.Ub(),g.Ub(),g.Rc(9,Ut,3,0,"span",31),g.Rc(10,Ot,3,0,"span",32),g.Ub()),2&t){const t=e.$implicit,i=g.Ac(3),n=g.gc(3);g.Db(1),g.nc("ngIf",0==n.isVideo(t.mimes||""))("ngIfElse",i),g.Db(6),g.nc("matTooltip",t.name||""),g.Db(1),g.Uc(t.name),g.Db(1),g.nc("ngIf",1!=n.isSuccess),g.Db(1),g.nc("ngIf",n.isSuccess)}}function Vt(t,e){if(1&t&&(g.Vb(0,"div",23),g.Rc(1,It,11,6,"div",24),g.Ub()),2&t){const t=g.gc(2);g.Db(1),g.nc("ngForOf",t.uploadFiles)}}function Ct(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",37),g.cc("click",function(){return g.Ec(t),g.gc(2).openSelectFile()}),g.Vb(1,"a",38),g.Vb(2,"mat-icon"),g.Tc(3,"upload_file"),g.Ub(),g.Ub(),g.Qb(4,"br"),g.Vb(5,"span"),g.Tc(6,"Upload file b\xe0i l\xe0m c\u1ee7a b\u1ea1n"),g.Ub(),g.Qb(7,"br"),g.Vb(8,"span"),g.Tc(9,"(H\u1ed7 tr\u1ee3 \u1ea2nh, Video, Audio ho\u1eb7c File PDF)"),g.Ub(),g.Vb(10,"form",39),g.Vb(11,"input",40,41),g.cc("change",function(e){return g.Ec(t),g.gc(2).selectFile(e)}),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(2);g.Db(10),g.nc("formGroup",t.form)}}function Tt(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",42),g.Qb(1,"hr"),g.Vb(2,"div",43),g.Vb(3,"div",44),g.Tc(4,"Ho\u1eb7c n\u1ed9p b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i"),g.Ub(),g.Ub(),g.Vb(5,"p",45),g.Tc(6," **(Vui l\xf2ng kh\xf4ng t\u1eaft b\u1ea3ng n\xe0y khi n\u1ed9p b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i)** "),g.Ub(),g.Vb(7,"div",46),g.Vb(8,"div",47),g.Vb(9,"p",48),g.Vb(10,"strong"),g.Tc(11,"C\xe1ch 1:"),g.Ub(),g.Tc(12," S\u1eed d\u1ee5ng \u0111i\u1ec7n tho\u1ea1i qu\xe9t m\xe3 QRcode d\u01b0\u1edbi \u0111\xe2y \u0111\u1ec3 t\u1ea3i b\xe0i thi t\u1ef1 lu\u1eadn l\xean "),g.Ub(),g.Qb(13,"div",49),g.Ub(),g.Ub(),g.Vb(14,"div",50),g.Vb(15,"p",48),g.Vb(16,"strong"),g.Tc(17,"C\xe1ch 2:"),g.Ub(),g.Tc(18," V\xe0o tr\xecnh duy\u1ec7t b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i. Truy c\u1eadp \u0111\u01b0\u1eddng d\u1eabn sau \u0111\u1ec3 t\u1ea3i b\xe0i thi t\u1ef1 lu\u1eadn l\xean"),g.Ub(),g.Vb(19,"p",51),g.Vb(20,"span",52),g.Tc(21),g.Ub(),g.Vb(22,"mat-icon",53),g.cc("click",function(){return g.Ec(t),g.gc(2).clickCopyLink()}),g.Tc(23,"file_copy"),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(2);g.Db(21),g.Uc(t.urlUploadImage),g.Db(1),g.nc("cdkCopyToClipboard",t.copylinkToClipboard(t.urlUploadImage))}}function kt(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",14),g.Tc(2,"\xa0"),g.Ub())}function Dt(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",1),g.Vb(1,"div",null,2),g.Vb(3,"div",3),g.cc("click",function(){return g.Ec(t),g.gc().saveFileConf()}),g.Ub(),g.Vb(4,"mat-card",4),g.Vb(5,"mat-card-content"),g.Rc(6,vt,6,2,"div",5),g.Rc(7,_t,2,1,"div",6),g.Rc(8,Vt,2,1,"div",7),g.Rc(9,Ct,13,1,"div",8),g.Rc(10,Tt,24,2,"div",9),g.Vb(11,"div",10),g.Vb(12,"button",11),g.cc("click",function(){return g.Ec(t),g.gc().saveFileConf()}),g.Rc(13,kt,3,0,"span",12),g.Tc(14," X\xc1C NH\u1eacN "),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc();g.Db(6),g.nc("ngIf",t.statusObj.loading),g.Db(1),g.nc("ngIf",t.convertObjToArray(t.fileUploadQueue).length>0),g.Db(1),g.nc("ngIf",t.uploadFiles.length>0),g.Db(1),g.nc("ngIf",!t.statusObj.loading),g.Db(1),g.nc("ngIf",!t.data.isMobile),g.Db(2),g.nc("disabled",t.statusObj.loading||t.convertObjToArray(t.fileUploadQueue).length>0),g.Db(1),g.nc("ngIf",t.statusObj.loading)}}let Mt=(()=>{class t extends m.a{constructor(t,e,i,n,s,c,a,r){super(e),this.fb=t,this.commonService=e,this.translate=i,this.myPdfService=n,this.apiUploadService=s,this.frontExamService=c,this.frontExamResultUploadService=a,this.homeworkExamService=r,this.data={},this.hashCode="",this.isOnSelectFile=new g.o,this.closeDialog=new g.o,this.addFileMobile=new g.o,this.subscriptions=new C.a,this.form=new o.k({}),this.uploadFiles=[],this.files=[],this.timeCount=0,this.isSubmit=!1,this.isSuccess=!1,this.onSelectFile=!1,this.isCallFullScreenOnce=!1,this.fileUploadQueue={},this.uploadCount=0,this.urlUploadImage="",this.userAgent="",this.cur_language=this.translate.currentLang,this.intervalGetInfoUpload=0,this.isUploadedPdf=!1,this.isOnSync=!1,this.Tmploading=!1,this.uploadFile=(t,e)=>{this.isSubmit=!1,(Object(st.f)(t.type)||Object(st.m)(t.type)||Object(st.d)(t.type)||Object(st.i)(t.type)||Object(st.h)(t.type))&&Object(st.a)(t).then(i=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(i).subscribe(i=>{var n,o;if(i.type!=ot.d.UploadProgress)1==i.success?(delete this.fileUploadQueue[e],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},i.data)),this.stopStatusObj(),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh (T\xean: "+t.name+")! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+i.message),this.commonService.gaEvent("FrontExam_UploadError"));else{var s=Math.round(null!==(n=i.loaded)&&void 0!==n?n:0/(null!==(o=i.total)&&void 0!==o?o:1)*100);this.fileUploadQueue.hasOwnProperty(e)?(this.fileUploadQueue[e].uploadProgress=s,this.fileUploadQueue[e].fileName=t.name):this.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}}})})},this.selectFile=t=>Object(nt.a)(this,void 0,void 0,function*(){let e=t.target.files;try{for(var i in e)if("length"!=i&&"item"!=i)if(Object(st.l)(e[i].type))if(Object(st.b)(e[i].size)<=200)if(this.answerFile=e?e[i]:this.answerFile,Object(st.i)(e[i].type)){this.isUploadedPdf=!0,this.initStatusObj();var n=yield this.myPdfService.getImageWithPdf(e[i]);this.answerFile=e?e[i]:this.answerFile,this.uploadFilesFunc(n,this.uploadCount),this.uploadCount+=1}else this.answerFile&&(this.isSuccess=!1,this.initStatusObj(),Object(st.m)(e[i].type)?this.uploadFileVideo(this.answerFile,this.uploadCount):this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.showErrorSnack("File g\u1eb7p l\u1ed7i: "+e[i].name+". Size: "+Object(st.b)(e[i].size)+" MB. Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB");else this.showErrorSnack("File g\u1eb7p l\u1ed7i: "+e[i].name+". Ki\u1ec3u: "+e[i].type+". Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF");t.target.setAttribute("value",""),this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1)}catch(o){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+o),this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1)}}),this.uploadFileVideo=(t,e)=>Object(nt.a)(this,void 0,void 0,function*(){this.subscriptions.add(this.apiUploadService.uploadToVimeoProgress("front_exam",t,void 0).subscribe(i=>{var n;i.isOnProgress?this.fileUploadQueue.hasOwnProperty(e)?(this.fileUploadQueue[e].uploadProgress=Math.round(null!==(n=i.percentage)&&void 0!==n?n:0),this.fileUploadQueue[e].fileName=t.name):this.fileUploadQueue[e]={uploadProgress:0,fileName:t.name}:1==i.success?(delete this.fileUploadQueue[e],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.addFileWithProsess(Object.assign(Object.assign({},i.data),{lastModified:t.lastModified})),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin! Vui l\xf2ng th\u1eed l\u1ea1i sau!"))}))}),this.uploadFilesFunc=(t,e)=>Object(nt.a)(this,void 0,void 0,function*(){for(let i=0;i<t.length;i++){const n=t[i];yield Object(st.a)(n).then(n=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(n).subscribe(n=>{n.type!=ot.d.UploadProgress&&(1==n.success?(delete this.fileUploadQueue[e],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},n.data)),i===t.length-1&&this.updateFileUploadMobile(!1).then(()=>{this.successStatusObj(),this.isUploadedPdf=!1})):(this.stopStatusObj(),this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin! Vui l\xf2ng th\u1eed l\u1ea1i sau!")))})})}}),this.answerFile=null}copylinkToClipboard(t){return t}clickCopyLink(){this.showSuccessSnack("Copy link th\xe0nh c\xf4ng")}isOnSelectFileEmit(t){this.isOnSelectFile.emit(t)}goBackFullScreen(){const t=document.documentElement;let e=t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullscreen||t.msRequestFullscreen;e&&!this.isCallFullScreenOnce&&this.data.isMonitor&&(e.call(t),this.isCallFullScreenOnce=!0)}saveFile(){this.closeDialog.emit({isConfirm:!0,uploadFiles:this.uploadFiles})}saveFileConf(){!0===this.statusObj.loading||this.convertObjToArray(this.fileUploadQueue).length>0?this.commonService.snackWarning("\u0110ang \u0111\u1ed3ng b\u1ed9 b\xe0i l\xe0m t\u1ef1 lu\u1eadn l\xean h\u1ec7 th\u1ed1ng! Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t!",""):this.saveFile()}replaceRequestGetInfoUpload(t){var e=this,i=t;this.intervalGetInfoUpload=window.setInterval(()=>{!1===e.isUploadedPdf&&e.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e.hashCode).subscribe(t=>{var n,o,s,c,a,r;if(1==t.success){var l=null!=e.commonService.parseJson(null!==(s=null===(o=null===(n=t.data)||void 0===n?void 0:n.tmpObj)||void 0===o?void 0:o.files)&&void 0!==s?s:"")?e.commonService.parseJson(null!==(r=null===(a=null===(c=t.data)||void 0===c?void 0:c.tmpObj)||void 0===a?void 0:a.files)&&void 0!==r?r:""):new Array,b=!1;l.length!=e.uploadFiles.length?b=!0:l.length>0&&l.forEach(t=>{-1===e.uploadFiles.findIndex(e=>e.path==t.path)&&(b=!0)}),!0===b&&(0==e.isOnSync||i)&&e.addFileMobile.emit({files:l,keepOpen:!0}),i&&(e.uploadFiles=l,e.updateFileUploadMobile(!0),i=!1),e.Tmploading=!1,e.stopStatusObj()}else e.showErrorSnack("\u0110\u1ed3ng b\u1ed9 d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng. Vui l\xf2ng \u1ea5n F5 ho\u1eb7c t\u1ea3i l\u1ea1i trang!"),e.Tmploading=!1,e.stopStatusObj()})},3e3),this.commonService.gaEvent("FrontExam_GetTmpUploadObj")}updateFileUploadMobile(t){return new Promise(e=>{this.initStatusObj(),this.Tmploading=null!=t&&t,this.isOnSync=!0,this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost({hashCode:this.hashCode,files:JSON.stringify(this.uploadFiles)}).subscribe(t=>{1==t.success?(this.stopStatusObj(),this.Tmploading=!1,this.isOnSync=!1,e(!0)):(this.stopStatusObj(),this.Tmploading=!1)})})}openSelectFile(){var t;this.Tmploading||(this.isOnSelectFileEmit(!0),this.isCallFullScreenOnce=!1,this.onSelectFile=!0,null===(t=this.fileSelect)||void 0===t||t.nativeElement.click())}onFocus(t){this.onSelectFile&&(null!=this.answerFile&&0!=this.uploadFiles.length||(this.goBackFullScreen(),this.isCallFullScreenOnce=!1,this.onSelectFile=!1,this.isOnSelectFileEmit(!1)))}addFileWithProsess(t){t&&this.uploadFiles.push(t);for(let e=0;e<this.uploadFiles.length;e++)this.uploadFiles[e].lastModified||(this.uploadFiles[e].lastModified=(new Date).getTime()),this.uploadFiles[e].thumb||(this.uploadFiles[e].thumb=this.homeworkExamService.getThumbWithObj(this.uploadFiles[e]));this.uploadFiles.sort((t,e)=>{var i,n;return(null!==(i=t.lastModified)&&void 0!==i?i:0)-(null!==(n=e.lastModified)&&void 0!==n?n:0)})}bindUrlToQrCode(t){var e=`${location.protocol+"//"+location.host}/n/${t}`;this.urlUploadImage=e,this.commonService.createObjectQrcode(e,128,128,"url",!1,"qrcode_making")}onGlobalClick(t){var e;(null===(e=this.customCard)||void 0===e?void 0:e.nativeElement.contains(t.target))||this.closeDialog.emit(!1)}isVideo(t){return/^(?:video)/i.test(t)}convertObjToArray(t){var e=[];for(var i in t)e.push(t[i]);return e}removeImg(t){var e=this.uploadFiles.filter(e=>e.url!==t);this.uploadFiles=e,this.updateFileUploadMobile(!0)}ngOnChanges(){this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files)}ngOnInit(){setTimeout(()=>{this.data.isMobile||this.bindUrlToQrCode(this.hashCode),this.initStatusObj(),this.Tmploading=!0,this.replaceRequestGetInfoUpload(!0)},100),this.form=this.fb.group({file_data:new o.h("",o.A.required),file:new o.h("",o.A.required)}),this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files),this.data.isMobile&&(this.userAgent=navigator.userAgent),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.intervalGetInfoUpload&&clearInterval(this.intervalGetInfoUpload),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(o.g),g.Pb(f.a),g.Pb(ct.c),g.Pb(at.a),g.Pb(rt.a),g.Pb(_.E),g.Pb(_.D),g.Pb(lt.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-upload-image"]],viewQuery:function(t,e){if(1&t&&(g.cd(mt,!0),g.cd(gt,!0)),2&t){let t;g.zc(t=g.dc())&&(e.customCard=t.first),g.zc(t=g.dc())&&(e.fileSelect=t.first)}},hostBindings:function(t,e){1&t&&g.cc("focus",function(t){return e.onFocus(t)},!1,g.Dc)("mousedown",function(t){return e.onGlobalClick(t)},!1,g.Cc)},inputs:{data:"data",hashCode:"hashCode"},outputs:{isOnSelectFile:"isOnSelectFile",closeDialog:"closeDialog",addFileMobile:"addFileMobile"},features:[g.Ab,g.Bb],decls:1,vars:1,consts:[["class","uploadDialog",4,"ngIf"],[1,"uploadDialog"],["customCard",""],[1,"bg-overbackground",3,"click"],[1,"customCard"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container","style","padding-left: 15px;padding-right: 15px;",4,"ngIf"],["class","upload-box ml-auto mr-auto text-center clickable p-3 no-select",3,"click",4,"ngIf"],["class","upload-qr-box",4,"ngIf"],[1,"btn-conFirm","mt-2","text-center"],["mat-raised-button","",1,"save_btn",3,"disabled","click"],[4,"ngIf"],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],["class","h5",4,"ngIf"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container",2,"padding-left","15px","padding-right","15px"],["class","col-6 col-sm-6 col-md-4","style","border: 1px solid #e0e0e0;",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4",2,"border","1px solid #e0e0e0"],[4,"ngIf","ngIfElse"],["video",""],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[2,"width","80%",3,"src"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"],[1,"upload-box","ml-auto","mr-auto","text-center","clickable","p-3","no-select",3,"click"],["id","select-upload-file",1,"align-self-center","select","clickable"],[3,"formGroup"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"upload-qr-box"],[2,"display","flex","justify-content","center","align-items","center"],[2,"background","#eeeeee","margin-top","-33px","padding","0 10px","color","#44beb5","text-transform","uppercase","font-size","16px"],[1,"mb-0","pb-0",2,"font-size","14px","text-align","center","color","#ff0022d2"],[1,"upload-qr-box-item"],[1,"upload-qr-box-item-content"],[2,"font-size","14px"],["id","qrcode_making",1,"upload-qr-box-item-content-qr"],[1,"upload-qr-box-url"],[1,"upload-qr-box-url-link"],[2,"vertical-align","middle"],["matTooltip","COPY LINK",1,"clickable",2,"vertical-align","middle","float","right","height","20px","font-size","20px",3,"cdkCopyToClipboard","click"]],template:function(t,e){1&t&&g.Rc(0,Dt,15,7,"div",0),2&t&&g.nc("ngIf",e.data.isShow)},directives:[n.m,k.a,k.b,bt.b,n.l,n.n,D.a,dt.a,o.C,o.t,o.l,ut.a],pipes:[ht.D],styles:[".uploadDialog[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:89;right:10px;top:10px}.customCard[_ngcontent-%COMP%]{background:linear-gradient(180deg,#fff,#f2f2f2 0,#e4e4e4 100%,#fff 0);box-sizing:border-box;border:1px solid #e6e6e6;border-radius:5px;box-shadow:5px 5px 5px rgba(0,0,0,.35);height:97vh;overflow:auto}.file-input[_ngcontent-%COMP%]{visibility:hidden}.upload-box[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-radius:5px;background-color:#fff;max-width:70%;margin-bottom:1rem}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#fff;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8;height:200px;overflow-y:auto}.save_btn[_ngcontent-%COMP%]{background:inherit;background-color:#169bd5;border:none;border-radius:5px;box-shadow:none;color:#fff}@media (max-width:1200px){.uploadDialog[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:80%;margin-left:auto;border-radius:5px;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}}.upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:#fff;padding:5px;border-radius:5px}@media (max-width:1200px){.bg-overbackground[_ngcontent-%COMP%]{display:none}}.bg-overbackground[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:rgba(0,0,0,.6392156862745098)}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}"]}),t})();var Pt=i("5ete"),Et=i("DMu6"),jt=i("0pw4"),Rt=i("ciiX"),Ft=i("W5nQ"),At=i("qJLG"),qt=i("tY7v"),Lt=i("cyTR"),zt=i("ATyy"),Qt=i("k9IB"),$t=i("GIhc"),Nt=i("f4AX"),Wt=i("1ffk"),Bt=i("ukJ9");let Ht=(()=>{class t{constructor(t){this.answerTypeService=t}changeAnswerConfigVer2(t,e){var i=[];return this.answerTypeService.isFillAnswer(e.answerType)||this.answerTypeService.isEssayAnswer(e.answerType)?i=t:t.forEach(t=>{t=Object.assign(Object.assign({},t),{questionId:e.id,checked:!1}),i.push(t)}),i}changeAnswerConfigVer1(t,e){var i,n,o,s=[];if(this.answerTypeService.isFillAnswer(e.answerType)||this.answerTypeService.isEssayAnswer(e.answerType))s.push(t);else if(!Array.isArray(t)&&t.answer){let a=null!==(i=t.answerConfigV2)&&void 0!==i?i:[];for(var c=0;c<t.answer.length;c++)"string"==typeof t.answer[c]&&(a[c]={questionId:e.id,key:null!==(n=t.answer[c])&&void 0!==n?n:"",content:null!==(o=t.answer[c])&&void 0!==o?o:"",checked:!1});t.answerConfigV2=a,e.answerConfigParse=a,s.push(t)}else s.push(t);return s}}return t.\u0275fac=function(e){return new(e||t)(g.Zb(Bt.a))},t.\u0275prov=g.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Gt=i("bSwM"),Jt=i("QibW"),Xt=i("kmnG"),Kt=i("d3UM"),Yt=i("FKr1");const Zt=["myDialogSubmitInfo"];function te(t,e){if(1&t&&(g.Vb(0,"div"),g.Vb(1,"div",13),g.Vb(2,"div",14),g.Vb(3,"span",15),g.Tc(4),g.Ub(),g.Ub(),g.Qb(5,"input",16),g.Ub(),g.Ub()),2&t){const t=g.gc(),e=t.$implicit,i=t.index;g.Db(4),g.Uc(e.title),g.Db(1),g.pc("formControlName","infoType_0_field_",i,"")}}function ee(t,e){if(1&t&&(g.Vb(0,"div",22),g.Vb(1,"mat-checkbox",23),g.Vb(2,"span",24),g.Tc(3),g.Ub(),g.Ub(),g.Ub()),2&t){const t=e.$implicit,i=e.index,n=g.gc(2).index,o=g.gc(2);g.pc("formArrayName","infoType_1_field_",n,""),g.Db(1),g.nc("checked",o.form.value["infoType_1_field_"+n][i])("formControlName",i),g.Db(1),g.oc("matTooltip",t),g.Db(1),g.Uc(t)}}function ie(t,e){if(1&t&&(g.Vb(0,"div"),g.Vb(1,"div",17),g.Vb(2,"div",18),g.Vb(3,"span",19),g.Tc(4),g.Ub(),g.Ub(),g.Ub(),g.Vb(5,"div",20),g.Rc(6,ee,4,5,"div",21),g.Ub(),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(4),g.Uc(t.title),g.Db(2),g.nc("ngForOf",t.contents)}}function ne(t,e){if(1&t&&(g.Vb(0,"mat-radio-button",27),g.Vb(1,"span",24),g.Tc(2),g.Ub(),g.Ub()),2&t){const t=e.$implicit;g.nc("value",t),g.Db(1),g.oc("matTooltip",t),g.Db(1),g.Uc(t)}}function oe(t,e){if(1&t&&(g.Vb(0,"div"),g.Vb(1,"div",17),g.Vb(2,"div",18),g.Vb(3,"span",19),g.Tc(4),g.Ub(),g.Ub(),g.Vb(5,"mat-radio-group",25),g.Rc(6,ne,3,3,"mat-radio-button",26),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(),e=t.$implicit,i=t.index;g.Db(4),g.Uc(e.title),g.Db(1),g.pc("formControlName","infoType_2_field_",i,""),g.Db(1),g.nc("ngForOf",e.contents)}}function se(t,e){if(1&t&&(g.Vb(0,"mat-option",31),g.Tc(1),g.Ub()),2&t){const t=e.$implicit;g.oc("value",t),g.Db(1),g.Uc(t)}}function ce(t,e){if(1&t&&(g.Vb(0,"div"),g.Vb(1,"div",17),g.Vb(2,"div",18),g.Vb(3,"span",19),g.Tc(4),g.Ub(),g.Ub(),g.Vb(5,"mat-form-field",28),g.Vb(6,"mat-label"),g.Tc(7,"Ch\u1ecdn m\u1ed9t th\xf4ng tin"),g.Ub(),g.Vb(8,"mat-select",29),g.Rc(9,se,2,2,"mat-option",30),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(),e=t.$implicit,i=t.index;g.Db(4),g.Uc(e.title),g.Db(4),g.pc("formControlName","infoType_3_field_",i,""),g.Db(1),g.nc("ngForOf",e.contents)}}function ae(t,e){if(1&t&&(g.Tb(0),g.Rc(1,te,6,2,"div",12),g.Rc(2,ie,7,2,"div",12),g.Rc(3,oe,7,3,"div",12),g.Rc(4,ce,10,3,"div",12),g.Sb()),2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.type),g.Db(1),g.nc("ngIf",1==t.type),g.Db(1),g.nc("ngIf",2==t.type),g.Db(1),g.nc("ngIf",3==t.type)}}function re(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",32),g.Tc(2,"\xa0"),g.Ub())}function le(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",1),g.cc("click",function(e){return g.Ec(t),g.gc().onGlobalClick(e)}),g.Vb(1,"form",2),g.Vb(2,"div",3,4),g.Vb(4,"div",5),g.Vb(5,"div",6),g.Vb(6,"p",7),g.Tc(7,"Vui l\xf2ng nh\u1eadp th\xeam th\xf4ng tin \u0111\u1ec3 b\u1eaft \u0111\u1ea7u b\xe0i thi"),g.Ub(),g.Vb(8,"p",8),g.Tc(9,"Nh\u1eefng th\xf4ng tin n\xe0y s\u1ebd gi\xfap gi\xe1o vi\xean \u0111\u1ecbnh danh v\xe0 ch\u1ea5m \u0111i\u1ec3m cho b\u1ea1n"),g.Ub(),g.Ub(),g.Rc(10,ae,5,4,"ng-container",9),g.Vb(11,"div",10),g.Vb(12,"button",11),g.cc("click",function(){return g.Ec(t),g.gc().handleConfirm()}),g.Rc(13,re,3,0,"span",12),g.Tc(14," X\xe1c nh\u1eadn "),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc();g.Db(1),g.nc("formGroup",t.form),g.Db(9),g.nc("ngForOf",t.data.infoFields),g.Db(2),g.nc("disabled",!t.form.valid||t.statusObj.loading),g.Db(1),g.nc("ngIf",t.statusObj.loading)}}let be=(()=>{class t extends m.a{constructor(t,e,i){super(e),this.fb=t,this.commonService=e,this.browserStorageService=i,this.data={},this.closeDialog=new g.o,this.subscriptions=new C.a,this.form=new o.k({}),this.infoSubmit=[]}onGlobalClick(t){var e;(null===(e=this.myDialog)||void 0===e?void 0:e.nativeElement.contains(t.target))||this.form.valid&&this.handleConfirm()}handleConfirm(){var t,e,i;this.initStatusObj(),this.mapData(),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(e=null===(t=this.data.examId)||void 0===t?void 0:t.toString())&&void 0!==e?e:"",null!==(i=this.data.hashId)&&void 0!==i?i:""),this.browserStorageService.saveSimpleStorage("userInfoV3_"+this.data.hashId,JSON.stringify(this.infoSubmit));var n={success:!0,info:JSON.stringify(this.infoSubmit)};this.closeDialog.emit(n),this.successStatusObj()}mapData(){if(this.infoSubmit=[],Array.isArray(this.data.infoFields))for(let t=0;t<this.data.infoFields.length;t++){let e={contents:[]};switch(e.index=t,e.type=this.data.infoFields[t].type,e.title=this.data.infoFields[t].title,e.contents=[],this.data.infoFields[t].type){case 1:for(let i=0;i<this.form.value[`infoType_${this.data.infoFields[t].type}_field_${t}`].length;i++)this.form.value[`infoType_${this.data.infoFields[t].type}_field_${t}`][i]&&e.contents.push(this.data.infoFields[t].contents[i]);break;default:e.contents.push(this.form.value[`infoType_${this.data.infoFields[t].type}_field_${t}`])}this.infoSubmit.push(e)}}ngOnInit(){let t={};if(Array.isArray(this.data.infoFields)){for(let i=0;i<this.data.infoFields.length;i++)switch(this.data.infoFields[i].type){case 1:var e=[];this.data.infoFields[i].contents.forEach(t=>{e.push(new o.h(!1))}),t["infoType_1_field_"+i]=new o.e(e,de(1));break;case 2:t["infoType_2_field_"+i]=["",o.A.required];break;case 3:t["infoType_3_field_"+i]=["",o.A.required];break;default:t["infoType_0_field_"+i]=["",o.A.required]}this.form=this.fb.group(t)}super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(o.g),g.Pb(f.a),g.Pb(w.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-submit-info"]],viewQuery:function(t,e){if(1&t&&g.cd(Zt,!0),2&t){let t;g.zc(t=g.dc())&&(e.myDialog=t.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[g.Ab],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],["id","test-info-form",3,"formGroup"],[1,"school-info","p-4","scrollable-form"],["myDialogSubmitInfo",""],[1,"form-horizontal","text-center"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"h6","para_respon","text-info","font-weight-normal"],[4,"ngFor","ngForOf"],[1,"float-right","mt-3","pb-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"input-group","my-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text",1,"form-control",3,"formControlName"],[1,"input-group","mt-3"],[1,"input-group-prepend","w-100","text-center"],[1,"input-group-text","w-100","d-inline-block",2,"border-bottom-left-radius","0","border-top-right-radius","0.25rem","white-space","normal"],[1,"row","pt-2","pl-0","pr-0","ml-0","mr-0","border-row"],["class","col-12 col-sm-12 col-md-4 text-left mb-1",3,"formArrayName",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","text-left","mb-1",3,"formArrayName"],["color","primary",3,"checked","formControlName"],[1,"truncate",3,"matTooltip"],[1,"row","w-100","pt-3","pl-0","pr-0","ml-0","mr-0","border-row",3,"formControlName"],["color","primary","class","col-12 col-sm-12 col-md-4 text-left mb-1",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"col-12","col-sm-12","col-md-4","text-left","mb-1",3,"value"],["appearance","fill"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&g.Rc(0,le,15,4,"div",0),2&t&&g.nc("ngIf",e.data.isShow)},directives:[n.m,o.C,o.t,o.l,n.l,bt.b,o.d,o.s,o.j,o.f,Gt.a,dt.a,Jt.b,Jt.a,Xt.d,Xt.g,Kt.a,Yt.n],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:800px;max-width:800px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:150px;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.content-form[_ngcontent-%COMP%]{border:1px solid #bebaba;border-radius:5px}.scrollable-form[_ngcontent-%COMP%]{max-height:calc(100vh - 10%);overflow-y:auto}.form-field-custom[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.04);border:1px solid rgba(206,212,218,.6980392156862745);border-radius:.25rem;padding:5px 8px}.border-row[_ngcontent-%COMP%]{border:1px solid #ced4da;border-top:none;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}.truncate[_ngcontent-%COMP%]{max-width:350px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}.truncate[_ngcontent-%COMP%]{max-width:180px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();function de(t=1){return e=>e.controls.map(t=>t.value).reduce((t,e)=>e?t+e:t,0)>=t?null:{required:!0}}const ue=["myDialogMonitor"];function he(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",9),g.Tc(2,"\xa0"),g.Ub())}function me(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",1),g.cc("click",function(e){return g.Ec(t),g.gc().closeOutsideDialog(e)}),g.Vb(1,"div",2,3),g.Vb(3,"div",4),g.Vb(4,"p",5),g.Tc(5,'\u0110\xe2y l\xe0 b\xe0i thi \u0111\u01b0\u1ee3c "Gi\xe1m S\xe1t". Vui l\xf2ng b\u1ea5m "X\xe1c nh\u1eadn" \u0111\u1ec3 ti\u1ebfp t\u1ee5c b\xe0i thi!'),g.Ub(),g.Ub(),g.Vb(6,"div",6),g.Vb(7,"button",7),g.cc("click",function(){return g.Ec(t),g.gc().confirmQuit()}),g.Rc(8,he,3,0,"span",8),g.Tc(9," X\xe1c Nh\u1eadn "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc();g.Db(8),g.nc("ngIf",!0===t.statusObj.loading)}}let ge=(()=>{class t extends m.a{constructor(t){super(t),this.commonService=t,this.data={isShow:!1},this.closeDialog=new g.o,this.subscriptions=new C.a,this.form=new o.k({})}closeOutsideDialog(t){var e;(null===(e=this.myDialog)||void 0===e?void 0:e.nativeElement.contains(t.target))||this.closeDialog.emit(!0)}confirmQuit(){this.closeDialog.emit(!0)}ngOnInit(){super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-monitor-screen"]],viewQuery:function(t,e){if(1&t&&g.cd(ue,!0),2&t){let t;g.zc(t=g.dc())&&(e.myDialog=t.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[g.Ab],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogMonitor",""],[1,"text-center"],[1,"mb-0","h5"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&g.Rc(0,me,10,1,"div",0),2&t&&g.nc("ngIf",e.data.isShow)},directives:[n.m,bt.b],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();const fe=["myDialogCheckEssay"];function pe(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",10),g.Tc(2,"\xa0"),g.Ub())}function ve(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",1),g.cc("click",function(e){return g.Ec(t),g.gc().closeDialog(e)}),g.Vb(1,"div",2,3),g.Vb(3,"div",4),g.Vb(4,"p",5),g.Tc(5,"\u0110\xe2y l\xe0 b\xe0i thi h\u1ed7n h\u1ee3p c\xf3 T\u1ef1 lu\u1eadn. \u0110\u1ec3 tr\u1ea3 l\u1eddi c\xe2u h\u1ecfi t\u1ef1 lu\u1eadn: "),g.Ub(),g.Vb(6,"p",6),g.Tc(7,'B\u1ea1n c\xf3 th\u1ec3 l\xe0m tr\u1ef1c ti\u1ebfp tr\xean h\u1ec7 th\u1ed1ng ho\u1eb7c l\xe0m ra gi\u1ea5y, ch\u1ee5p \u1ea3nh r\u1ed3i g\u1eedi qua "File \u0110\xednh K\xe8m"'),g.Ub(),g.Ub(),g.Vb(8,"div",7),g.Vb(9,"button",8),g.cc("click",function(){return g.Ec(t),g.gc().confirmQuit()}),g.Rc(10,pe,3,0,"span",9),g.Tc(11," T\xf4i \u0111\xe3 hi\u1ec3u "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc();g.Db(10),g.nc("ngIf",!0===t.statusObj.loading)}}let xe=(()=>{class t extends m.a{constructor(t){super(t),this.commonService=t,this.data={isShow:!1},this.closeEssayDialog=new g.o,this.subscriptions=new C.a,this.form=new o.k({})}closeDialog(t){var e;(null===(e=this.myDialog)||void 0===e?void 0:e.nativeElement.contains(t.target))||this.closeEssayDialog.emit(!0)}confirmQuit(){this.closeEssayDialog.emit(!0)}ngOnInit(){super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-check-essay"]],viewQuery:function(t,e){if(1&t&&g.cd(fe,!0),2&t){let t;g.zc(t=g.dc())&&(e.myDialog=t.first)}},inputs:{data:"data"},outputs:{closeEssayDialog:"closeEssayDialog"},features:[g.Ab],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogCheckEssay",""],[1,"text-center"],[1,"mb-2","h5"],[1,"mb-0","h5","text-info"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&g.Rc(0,ve,12,1,"div",0),2&t&&g.nc("ngIf",e.data.isShow)},directives:[n.m,bt.b],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();var we=i("wAhq"),_e=i("wZkO"),ye=i("Vwpm");function Se(t,e){if(1&t){const t=g.Wb();g.Vb(0,"span",20),g.cc("click",function(){g.Ec(t);const e=g.gc().$implicit;return g.gc(2).removeImg(e.url)}),g.Vb(1,"mat-icon"),g.Tc(2,"cancel"),g.Ub(),g.Tc(3,"\xa0\xa0\xa0\xa0\xa0\xa0 "),g.Ub()}}function Ue(t,e){1&t&&(g.Vb(0,"span",21),g.Vb(1,"mat-icon",22),g.Tc(2,"check_box"),g.Ub(),g.Ub())}function Oe(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",4),g.Vb(1,"a",5),g.Vb(2,"div",6),g.Vb(3,"div",7),g.Vb(4,"img",8),g.cc("click",function(i){g.Ec(t);const n=e.$implicit;return g.gc(2).onShowFile(i,n,-1)}),g.hc(5,"mycdn"),g.Ub(),g.Ub(),g.Vb(6,"div",9),g.Vb(7,"div",10),g.Vb(8,"mat-icon",11),g.cc("click",function(){g.Ec(t);const i=e.index,n=g.gc(2);return n.switchAttributeArray(n.answerFiles,i,i-1)}),g.Tc(9,"keyboard_arrow_left"),g.Ub(),g.Vb(10,"mat-icon",12),g.cc("click",function(){g.Ec(t);const i=e.index,n=g.gc(2);return n.switchAttributeArray(n.answerFiles,i,i-1)}),g.Tc(11,"arrow_upward"),g.Ub(),g.Ub(),g.Vb(12,"div",13),g.Tc(13," Trang "),g.Vb(14,"input",14),g.cc("keyup.enter",function(i){g.Ec(t);const n=e.index;return g.gc(2).switchAttributeArrayInput(n,i)})("change",function(i){g.Ec(t);const n=e.index;return g.gc(2).switchAttributeArrayInput(n,i)}),g.Ub(),g.Ub(),g.Vb(15,"div",15),g.Vb(16,"mat-icon",16),g.cc("click",function(){g.Ec(t);const i=e.index,n=g.gc(2);return n.switchAttributeArray(n.answerFiles,i,i+1)}),g.Tc(17,"keyboard_arrow_right"),g.Ub(),g.Vb(18,"mat-icon",17),g.cc("click",function(){g.Ec(t);const i=e.index,n=g.gc(2);return n.switchAttributeArray(n.answerFiles,i,i+1)}),g.Tc(19,"arrow_downward"),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Rc(20,Se,4,0,"span",18),g.Rc(21,Ue,3,0,"span",19),g.Ub()}if(2&t){const t=e.$implicit,i=e.index,n=g.gc(2);g.Db(4),g.nc("src",g.ic(5,6,n.checkLinkThumb(t)),g.Ic),g.Db(10),g.oc("id","input_page_"+i),g.oc("max",n.answerFiles.length+1),g.oc("value",i+1),g.Db(6),g.nc("ngIf",!t.uploadSuccess),g.Db(1),g.nc("ngIf",t.uploadSuccess)}}function Ie(t,e){if(1&t&&(g.Vb(0,"div",2),g.Rc(1,Oe,22,8,"div",3),g.Ub()),2&t){const t=g.gc();g.Db(1),g.nc("ngForOf",t.answerFiles)}}const Ve=function(t){return{"custom-width-list":t}};let Ce=(()=>{class t extends m.a{constructor(t,e,i,n,s){super(i),this.fb=t,this.myPdfService=e,this.commonService=i,this.homeworkExamService=n,this.cdnService=s,this.answerFiles=[],this.isTesting=!1,this.onMobile=!1,this.showList=!1,this.emitDataBack=new g.o,this.changesPosImg=new g.o,this.previewFile=new g.o,this.removeFile=new g.o,this.form=new o.k({}),this.uploadCount=0,this.answerFile=[],this.countUpload=1,this.selectFile=t=>Object(nt.a)(this,void 0,void 0,function*(){let e=t.target.files;try{for(var i in e)"length"!=i&&"item"!=i&&(Object(st.j)(e[i].type)?Object(st.b)(e[i].size)<=200?(this.initStatusObj(),Object(st.i)(e[i].type)?(this.answerFile=e?e[i]:this.answerFile,this.uploadCount+=1):(this.answerFile=e?e[i]:this.answerFile,this.answerFile&&(this.stopStatusObj(),Object(st.m)(e[i].type)&&(this.countUpload=0),this.uploadCount+=1))):this.commonService.snackError("Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB",""):this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF",""));t.target.value=""}catch(n){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+n)}})}addFileWithProsess(){for(let t=0;t<this.answerFiles.length;t++)this.answerFiles[t].lastModified||(this.answerFiles[t].lastModified=(new Date).getTime()),this.answerFiles[t].thumb||(this.answerFiles[t].thumb=this.homeworkExamService.getThumbWithObj(this.answerFiles[t]));this.answerFiles.sort((t,e)=>t.lastModified&&e.lastModified?t.lastModified-e.lastModified:0)}removeImg(t){var e=this.answerFiles.filter(e=>e.url!==t);this.answerFiles=e,this.removeFile.emit(t)}onShowFile(t,e,i){this.previewFile.emit({ev:t,file:e,index:i})}switchAttributeArray(t,e,i){if(!(this.answerFiles.length<=e||this.answerFiles.length<=i||e<0||i<0)){var n=this.commonService.myClone(this.answerFiles[e]);this.answerFiles[e]=this.commonService.myClone(this.answerFiles[i]),this.answerFiles[i]=this.commonService.myClone(n),this.changesPosImg.emit(this.answerFiles)}}switchAttributeArrayInput(t,e){var i=Number(e.target.value)-1;i<=0?i=0:i>=this.answerFiles.length&&(i=this.answerFiles.length),this.answerFiles.splice(i,0,this.answerFiles.splice(t,1)[0]),this.changesPosImg.emit(this.answerFiles)}checkLinkThumb(t){switch(this.getFileTypeString(t.extension)){case"officeapps":return this.cdnService.convertLinkCdn("azota_assets/images/file.png");default:return t.thumb}}getFileTypeString(t){if(t){if(Object(st.f)(t))return"image";if(Object(st.i)(t))return"pdf";if(Object(st.m)(t))return"video";if(Object(st.d)(t))return"audio"}return"image"}ngOnChanges(){this.answerFiles&&this.addFileWithProsess()}ngOnInit(){this.form=this.fb.group({file_data:new o.h("",o.A.required),file_capture:new o.h("",o.A.required),file:new o.h("",o.A.required)}),this.addFileWithProsess()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(o.g),g.Pb(at.a),g.Pb(f.a),g.Pb(lt.a),g.Pb(At.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-upload-ui"]],inputs:{answerFiles:"answerFiles",isTesting:"isTesting",onMobile:"onMobile",showList:"showList"},outputs:{emitDataBack:"emitDataBack",changesPosImg:"changesPosImg",previewFile:"previewFile",removeFile:"removeFile"},features:[g.Ab,g.Bb],decls:2,vars:5,consts:[[1,"form-horizontal","text-center",3,"formGroup","ngClass"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-12 col-sm-12 col-md-4 col-xl-3 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-xl-3","col-lg-3"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px"],[1,"box_image_answer"],[1,"box_image_answer_content"],[2,"image-orientation","from-image",3,"src","click"],[1,"box_image_answer_control"],[1,"icon-prev"],["matTooltip","Di chuy\u1ec3n ra ph\xeda tr\u01b0\u1edbc","matTooltipPosition","below",1,"box_image_answer_pc",3,"click"],["matTooltip","Di chuy\u1ec3n l\xean ph\xeda tr\xean","matTooltipPosition","below",1,"box_image_answer_mobile",3,"click"],[1,"page-number"],["type","number","min","1",1,"input-page","text-center",3,"id","max","value","keyup.enter","change"],[1,"icon-next"],["matTooltip","Di chuy\u1ec3n ra ph\xeda sau","matTooltipPosition","below",1,"box_image_answer_pc",3,"click"],["matTooltip","Di chuy\u1ec3n xu\u1ed1ng ph\xeda d\u01b0\u1edbi","matTooltipPosition","below",1,"box_image_answer_mobile",3,"click"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge notify-suss",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge","notify-suss"],[2,"color","rgb(26, 188, 0)"]],template:function(t,e){1&t&&(g.Vb(0,"form",0),g.Rc(1,Ie,2,1,"div",1),g.Ub()),2&t&&(g.nc("formGroup",e.form)("ngClass",g.tc(3,Ve,e.isTesting&&!e.onMobile&&e.showList)),g.Db(1),g.nc("ngIf",e.answerFiles.length>0))},directives:[o.C,o.t,o.l,n.k,n.m,n.l,D.a,dt.a],pipes:[ht.x],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0;border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.files[_ngcontent-%COMP%]{cursor:pointer}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px;line-height:1}.input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.custom-width-list[_ngcontent-%COMP%]{max-width:83%}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s;width:100%}.box_image_answer_content[_ngcontent-%COMP%]{min-height:288px;border:1px solid #03a7d0}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.box_image_answer_control[_ngcontent-%COMP%]{background:#fff;width:100%;border:1px solid #03a7d0;border-top:none;display:flex;justify-content:space-evenly;align-items:center;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:5px 30px;border-left:1px solid #03a7d0;border-right:1px solid #03a7d0;background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width:768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]}),t})();const Te=["myDialogExitExam"];function ke(t,e){if(1&t&&(g.Vb(0,"div",10),g.Vb(1,"p",11),g.Tc(2,"Th\u1eddi gian l\xe0m b\xe0i c\u1ee7a b\u1ea1n c\xf2n"),g.Ub(),g.Vb(3,"p",12),g.Vb(4,"span",13),g.Tc(5),g.Ub(),g.Tc(6," : "),g.Vb(7,"span",13),g.Tc(8),g.Ub(),g.Tc(9," : "),g.Vb(10,"span",13),g.Tc(11),g.Ub(),g.Ub(),g.Vb(12,"p",14),g.Tc(13," B\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c ghi nh\u1eadn. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n tho\xe1t b\xe0i thi? "),g.Ub(),g.Ub()),2&t){const t=g.gc(2);g.Db(5),g.Vc(" ",(t.timeCount.hour||0)>9?t.timeCount.hour:"0"+t.timeCount.hour," "),g.Db(3),g.Vc(" ",(t.timeCount.minute||0)>9?t.timeCount.minute:"0"+t.timeCount.minute," "),g.Db(3),g.Vc(" ",(t.timeCount.second||0)>9?t.timeCount.second:"0"+t.timeCount.second," ")}}function De(t,e){1&t&&(g.Vb(0,"div",10),g.Vb(1,"p",12),g.Tc(2," H\u1ebft gi\u1edd! Nh\u1ea5n v\xe0o 'Ho\xe0n th\xe0nh' \u0111\u1ec3 g\u1eedi b\xe0i thi c\u1ee7a b\u1ea1n. "),g.Ub(),g.Ub())}function Me(t,e){1&t&&(g.Vb(0,"div",10),g.Vb(1,"p",12),g.Tc(2," B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),g.Ub(),g.Ub())}function Pe(t,e){1&t&&(g.Vb(0,"div",10),g.Vb(1,"p",12),g.Tc(2," B\xe0i thi n\xe0y ch\u1ec9 \u0111\u01b0\u1ee3c thi m\u1ed9t l\u1ea7n! "),g.Ub(),g.Ub())}function Ee(t,e){1&t&&(g.Vb(0,"p",15),g.Tc(1," B\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 s\u1ebd kh\xf4ng \u0111\u01b0\u1ee3c ghi nh\u1eadn. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n tho\xe1t b\xe0i thi? "),g.Ub())}function je(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",16),g.Vb(1,"button",17),g.cc("click",function(){return g.Ec(t),g.gc(2).btnCloseDialog()}),g.Tc(2," H\u1ee7y "),g.Ub(),g.Ub()}}function Re(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",18),g.Tc(2,"\xa0"),g.Ub())}function Fe(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",1),g.cc("click",function(e){return g.Ec(t),g.gc().onGlobalClick(e)}),g.Vb(1,"div",2,3),g.Rc(3,ke,14,3,"div",4),g.Rc(4,De,3,0,"div",4),g.Rc(5,Me,3,0,"div",4),g.Rc(6,Pe,3,0,"div",4),g.Rc(7,Ee,2,0,"ng-template",null,5,g.Sc),g.Vb(9,"div",6),g.Rc(10,je,3,0,"div",7),g.Vb(11,"button",8),g.cc("click",function(){return g.Ec(t),g.gc().confirmQuit()}),g.Rc(12,Re,3,0,"span",9),g.Tc(13," X\xe1c Nh\u1eadn "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc();g.Db(3),g.nc("ngIf",(t.data.time||-1)>0&&!t.data.unLimitTime),g.Db(1),g.nc("ngIf",(t.data.time||1)<=0&&!t.data.unLimitTime),g.Db(1),g.nc("ngIf",t.data.time&&t.data.unLimitTime),g.Db(1),g.nc("ngIf",null==t.data.time),g.Db(4),g.nc("ngIf",(t.data.time||-1)>0||t.data.unLimitTime),g.Db(2),g.nc("ngIf",!0===t.statusObj.loading)}}let Ae=(()=>{class t extends m.a{constructor(t){super(t),this.commonService=t,this.data={},this.closeDialog=new g.o,this.redirectToHomepage=new g.o,this.subscriptions=new C.a,this.form=new o.k({}),this.timeCount={hour:0,minute:0,second:0}}onGlobalClick(t){var e;(null===(e=this.myDialog)||void 0===e?void 0:e.nativeElement.contains(t.target))||this.closeDialog.emit()}confirmQuit(){this.redirectToHomepage.emit(!0)}setTimeExam(t){const e=Math.floor(t/3600),i=Math.floor(t%3600/60);this.timeCount={hour:e,minute:i,second:t%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){var t;this.setTimeExam(null!==(t=this.data.time)&&void 0!==t?t:0),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-exit-exam"]],viewQuery:function(t,e){if(1&t&&g.cd(Te,!0),2&t){let t;g.zc(t=g.dc())&&(e.myDialog=t.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[g.Ab],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogExitExam",""],["class","text-center",4,"ngIf"],["unLimit",""],[1,"d-flex","float-right","mt-3"],["class","azt-block-button",4,"ngIf"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[1,"ng-binding"],[1,"h5","text-info",2,"padding-bottom","10px"],[1,"h5","text-danger",2,"padding-bottom","10px"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&g.Rc(0,Fe,14,6,"div",0),2&t&&g.nc("ngIf",e.data.isShow)},directives:[n.m,bt.b],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();const qe=["myDialogConfirmExam"];function Le(t,e){1&t&&(g.Vb(0,"span"),g.Tc(1,"\xa0"),g.Qb(2,"span",11),g.Ub())}function ze(t,e){if(1&t&&(g.Vb(0,"span",12),g.Tc(1),g.hc(2,"mytranslate"),g.Ub()),2&t){const t=g.gc(3);g.Db(1),g.Vc("L\u1ed7i: ",g.ic(2,1,t.data.messageError),"")}}function Qe(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",11),g.Tc(2,"\xa0"),g.Ub())}function $e(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",13),g.Vb(1,"div",14),g.Vb(2,"button",15),g.cc("click",function(){return g.Ec(t),g.gc(3).btnCloseDialog()}),g.Tc(3," \u0110\xf3ng "),g.Ub(),g.Ub(),g.Vb(4,"button",16),g.cc("click",function(){return g.Ec(t),g.gc(3).confirmFinish()}),g.Rc(5,Qe,3,0,"span",9),g.Tc(6," G\u1eedi l\u1ea1i "),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3);g.Db(4),g.nc("disabled",t.countTimeEnable),g.Db(1),g.nc("ngIf",t.statusObj.loading)}}function Ne(t,e){if(1&t&&(g.Vb(0,"div",7),g.Vb(1,"p",8),g.Tc(2," B\xe0i l\xe0m c\u1ee7a b\u1ea1n \u0111ang \u0111\u01b0\u1ee3c t\u1ef1 \u0111\u1ed9ng n\u1ed9p l\xean h\u1ec7 th\u1ed1ng. Vui l\xf2ng \u0111\u1ee3i trong gi\xe2y l\xe1t! "),g.Ub(),g.Rc(3,Le,3,0,"span",9),g.Rc(4,ze,3,3,"span",10),g.Qb(5,"br"),g.Rc(6,$e,7,2,"div",6),g.Ub()),2&t){const t=g.gc(2);g.Db(3),g.nc("ngIf",!t.data.saveFalse),g.Db(1),g.nc("ngIf",t.data.saveFalse&&t.data.messageError),g.Db(2),g.nc("ngIf",t.data.autoSubmit&&t.data.saveFalse)}}function We(t,e){1&t&&(g.Vb(0,"p",22),g.Tc(1," B\u1ea1n ch\u01b0a n\u1ed9p File t\u1ef1 lu\u1eadn n\xe0o. B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),g.Ub())}function Be(t,e){1&t&&(g.Vb(0,"p",23),g.Tc(1," B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),g.Ub())}function He(t,e){if(1&t&&(g.Vb(0,"div",7),g.Vb(1,"p",18),g.Tc(2,"Th\u1eddi gian l\xe0m b\xe0i c\u1ee7a b\u1ea1n c\xf2n"),g.Ub(),g.Vb(3,"p",8),g.Vb(4,"span",19),g.Tc(5),g.Ub(),g.Tc(6," : "),g.Vb(7,"span",19),g.Tc(8),g.Ub(),g.Tc(9," : "),g.Vb(10,"span",19),g.Tc(11),g.Ub(),g.Ub(),g.Rc(12,We,2,0,"p",20),g.Rc(13,Be,2,0,"ng-template",null,21,g.Sc),g.Ub()),2&t){const t=g.Ac(14),e=g.gc(3);g.Db(5),g.Vc(" ",(e.timeCount.hour||0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),g.Db(3),g.Vc(" ",(e.timeCount.minute||0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),g.Db(3),g.Vc(" ",(e.timeCount.second||0)>9?e.timeCount.second:"0"+e.timeCount.second," "),g.Db(1),g.nc("ngIf",e.data.notHasFiles)("ngIfElse",t)}}function Ge(t,e){1&t&&(g.Vb(0,"div",7),g.Vb(1,"p",8),g.Tc(2," H\u1ebft gi\u1edd! Nh\u1ea5n v\xe0o 'Ho\xe0n th\xe0nh' \u0111\u1ec3 g\u1eedi b\xe0i thi c\u1ee7a b\u1ea1n. "),g.Ub(),g.Ub())}function Je(t,e){1&t&&(g.Vb(0,"div",7),g.Vb(1,"p",8),g.Tc(2," B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n k\u1ebft th\xfac b\xe0i thi? "),g.Ub(),g.Ub())}function Xe(t,e){1&t&&(g.Vb(0,"div",7),g.Vb(1,"p",8),g.Tc(2," B\xe0i thi n\xe0y ch\u1ec9 \u0111\u01b0\u1ee3c thi m\u1ed9t l\u1ea7n! "),g.Ub(),g.Ub())}function Ke(t,e){if(1&t&&(g.Rc(0,He,15,5,"div",17),g.Rc(1,Ge,3,0,"div",17),g.Rc(2,Je,3,0,"div",17),g.Rc(3,Xe,3,0,"div",17)),2&t){const t=g.gc(2);g.nc("ngIf",(t.data.time||-1)>0&&!t.data.unLimitTime),g.Db(1),g.nc("ngIf",(t.data.time||1)<=0&&!t.data.unLimitTime),g.Db(1),g.nc("ngIf",t.data.time&&t.data.unLimitTime),g.Db(1),g.nc("ngIf",null==t.data.time)}}function Ye(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",14),g.Vb(1,"button",15),g.cc("click",function(){return g.Ec(t),g.gc(3).btnCloseDialog()}),g.Tc(2," H\u1ee7y "),g.Ub(),g.Ub()}}function Ze(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",11),g.Tc(2,"\xa0"),g.Ub())}function ti(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",13),g.Rc(1,Ye,3,0,"div",24),g.Vb(2,"button",16),g.cc("click",function(){return g.Ec(t),g.gc(2).confirmFinish()}),g.Rc(3,Ze,3,0,"span",9),g.Tc(4," Ho\xe0n Th\xe0nh "),g.Ub(),g.Ub()}if(2&t){const t=g.gc(2);g.Db(1),g.nc("ngIf",(t.data.time||-1)>0||t.data.unLimitTime),g.Db(1),g.nc("disabled",t.countTimeEnable),g.Db(1),g.nc("ngIf",t.statusObj.loading||t.data.notHasFiles&&t.countTimeEnable)}}function ei(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",1),g.cc("click",function(e){return g.Ec(t),g.gc().onGlobalClick(e)}),g.Vb(1,"div",2,3),g.Rc(3,Ne,7,3,"div",4),g.Rc(4,Ke,4,4,"ng-template",null,5,g.Sc),g.Rc(6,ti,5,3,"div",6),g.Ub(),g.Ub()}if(2&t){const t=g.Ac(5),e=g.gc();g.Db(3),g.nc("ngIf",e.data.autoSubmit)("ngIfElse",t),g.Db(3),g.nc("ngIf",!e.data.autoSubmit)}}let ii=(()=>{class t extends m.a{constructor(t){super(t),this.commonService=t,this.data={},this.closeDialog=new g.o,this.redirectToHomepage=new g.o,this.subscriptions=new C.a,this.form=new o.k({}),this.timeCount={hour:0,minute:0,second:0},this.countTimeEnable=!0}onGlobalClick(t){var e;(null===(e=this.myDialog)||void 0===e?void 0:e.nativeElement.contains(t.target))||this.data.autoSubmit||this.closeDialog.emit()}confirmFinish(){this.redirectToHomepage.emit({isConfirm:!0,isAutoSubmit:this.data.autoSubmit,isSaveFalse:this.data.saveFalse})}setTimeExam(t){const e=Math.floor(t/3600),i=Math.floor(t%3600/60);this.timeCount={hour:e,minute:i,second:t%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){var t;this.data.unLimitTime||(this.setTimeExam(null!==(t=this.data.time)&&void 0!==t?t:0),0!=this.data.time||this.data.autoSubmit||setTimeout(()=>{this.confirmFinish()},5e3)),this.data.notHasFiles?setTimeout(()=>{this.countTimeEnable=!1},3e3):this.countTimeEnable=!1,this.data.saveFalse&&setTimeout(()=>{this.countTimeEnable=!1},2e3),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-comfirm-exam"]],viewQuery:function(t,e){if(1&t&&g.cd(qe,!0),2&t){let t;g.zc(t=g.dc())&&(e.myDialog=t.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[g.Ab],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogConfirmExam",""],["class","text-center",4,"ngIf","ngIfElse"],["Normal",""],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[4,"ngIf"],["class","h5 text-danger",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5","text-danger"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],["class","text-center",4,"ngIf"],[1,"h5","para_respon","font-weight-normal"],[1,"ng-binding"],["class","h5 text-danger","style"," padding-bottom: 10px;",4,"ngIf","ngIfElse"],["normalConfirm",""],[1,"h5","text-danger",2,"padding-bottom","10px"],[1,"h5","text-info",2,"padding-bottom","10px"],["class","azt-block-button",4,"ngIf"]],template:function(t,e){1&t&&g.Rc(0,ei,7,3,"div",0),2&t&&g.nc("ngIf",e.data.isShow)},directives:[n.m,bt.b],pipes:[ht.z],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();var ni=i("atsk"),oi=i("clS4");const si=["myDialogSubmitName"];function ci(t,e){1&t&&(g.Vb(0,"p",10),g.Tc(1,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1ec3 l\xe0m b\xe0i thi!"),g.Ub())}function ai(t,e){1&t&&(g.Vb(0,"p",10),g.Tc(1,"B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1ec3 xem k\u1ebft qu\u1ea3 thi offline!"),g.Ub())}function ri(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",6),g.Rc(1,ci,2,0,"p",7),g.Rc(2,ai,2,0,"p",7),g.Vb(3,"a",8),g.cc("click",function(){return g.Ec(t),g.gc(2).goToRegister()}),g.Tc(4,"\u0110\u0103ng k\xfd"),g.Ub(),g.Vb(5,"p",9),g.Tc(6,"B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n?"),g.Ub(),g.Vb(7,"a",8),g.cc("click",function(){return g.Ec(t),g.gc(2).goToLogin()}),g.Tc(8,"\u0110\u0103ng nh\u1eadp"),g.Ub(),g.Ub()}if(2&t){const t=g.gc(2);g.Db(1),g.nc("ngIf",1==t.type),g.Db(1),g.nc("ngIf",2==t.type)}}function li(t,e){1&t&&(g.Vb(0,"div"),g.Tc(1," Y\xeau c\u1ea7u nh\u1eadp H\u1ecd t\xean! "),g.Ub())}function bi(t,e){if(1&t&&(g.Vb(0,"div",25),g.Rc(1,li,2,0,"div",24),g.Ub()),2&t){const t=g.gc(4);g.Db(1),g.nc("ngIf",t.getErrorType("fullName","required"))}}function di(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",26),g.Tc(2,"\xa0"),g.Ub())}function ui(t,e){if(1&t){const t=g.Wb();g.Vb(0,"form",12),g.Vb(1,"div",6),g.Vb(2,"p",13),g.Tc(3,"Vui l\xf2ng nh\u1eadp t\xean \u0111\u1ec3 ti\u1ebfp t\u1ee5c b\xe0i thi "),g.Ub(),g.Ub(),g.Vb(4,"div",14),g.Vb(5,"div",15),g.Vb(6,"div",16),g.Qb(7,"input",17),g.Ub(),g.Rc(8,bi,2,1,"div",18),g.Ub(),g.Ub(),g.Vb(9,"div",6),g.Vb(10,"p",19),g.Tc(11,"Ho\u1eb7c click v\xe0o "),g.Vb(12,"a",20),g.cc("click",function(){return g.Ec(t),g.gc(3).registerAccount()}),g.Tc(13,'"\u0110\u0103ng k\xfd"'),g.Ub(),g.Tc(14," \u0111\u1ec3 l\u01b0u l\u1ea1i l\u1ecbch s\u1eed l\xe0m \u0111\u1ec1 c\u1ee7a b\u1ea1n."),g.Ub(),g.Ub(),g.Vb(15,"div",21),g.Qb(16,"div",22),g.Vb(17,"button",23),g.cc("click",function(){return g.Ec(t),g.gc(3).submitName()}),g.Rc(18,di,3,0,"span",24),g.Tc(19," X\xe1c nh\u1eadn "),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3);g.nc("formGroup",t.form),g.Db(8),g.nc("ngIf",t.form.controls.fullName.invalid&&t.form.controls.fullName.dirty),g.Db(9),g.nc("disabled",t.statusObj.loading||t.form.invalid),g.Db(1),g.nc("ngIf",t.statusObj.loading)}}function hi(t,e){1&t&&(g.Vb(0,"div"),g.Tc(1," Y\xeau c\u1ea7u nh\u1eadp M\u1eadt kh\u1ea9u! "),g.Ub())}function mi(t,e){if(1&t&&(g.Vb(0,"div",25),g.Rc(1,hi,2,0,"div",24),g.Ub()),2&t){const t=g.gc(4);g.Db(1),g.nc("ngIf",t.getErrorType("password","required"))}}function gi(t,e){if(1&t&&(g.Vb(0,"div",31),g.Vb(1,"p",32),g.Tc(2),g.hc(3,"mytranslate"),g.Ub(),g.Ub()),2&t){const t=g.gc(4);g.Db(2),g.Vc(" ",g.ic(3,1,t.data.errorMessage)," ")}}function fi(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",26),g.Tc(2,"\xa0"),g.Ub())}function pi(t,e){if(1&t){const t=g.Wb();g.Vb(0,"form",12),g.Vb(1,"div",6),g.Vb(2,"p",27),g.Tc(3,"Y\xeau c\u1ea7u 'M\u1eadt kh\u1ea9u' \u0111\u1ec3 ti\u1ebfp t\u1ee5c b\xe0i thi"),g.Ub(),g.Vb(4,"p",28),g.Tc(5,"N\u1ebfu b\u1ea1n ch\u01b0a c\xf3 M\u1eadt kh\u1ea9u c\u1ee7a b\xe0i thi. Vui l\xf2ng li\xean h\u1ec7 gi\xe1o vi\xean c\u1ee7a b\u1ea1n! "),g.Ub(),g.Ub(),g.Vb(6,"div",14),g.Vb(7,"div",15),g.Vb(8,"div",16),g.Qb(9,"input",29),g.Ub(),g.Rc(10,mi,2,1,"div",18),g.Ub(),g.Ub(),g.Rc(11,gi,4,3,"div",30),g.Vb(12,"div",21),g.Qb(13,"div",22),g.Vb(14,"button",23),g.cc("click",function(){return g.Ec(t),g.gc(3).submitName()}),g.Rc(15,fi,3,0,"span",24),g.Tc(16," X\xe1c nh\u1eadn "),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3);g.nc("formGroup",t.form),g.Db(10),g.nc("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),g.Db(1),g.nc("ngIf",""!=t.data.errorMessage),g.Db(3),g.nc("disabled",t.statusObj.loading||t.form.invalid),g.Db(1),g.nc("ngIf",t.statusObj.loading)}}function vi(t,e){if(1&t&&(g.Rc(0,ui,20,4,"form",11),g.Rc(1,pi,17,5,"form",11)),2&t){const t=g.gc(2);g.nc("ngIf",!t.data.needPassword),g.Db(1),g.nc("ngIf",t.data.needPassword)}}function xi(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",1),g.cc("click",function(e){return g.Ec(t),g.gc().onGlobalClick(e)}),g.Vb(1,"div",2,3),g.Rc(3,ri,9,2,"div",4),g.Rc(4,vi,2,2,"ng-template",null,5,g.Sc),g.Ub(),g.Ub()}if(2&t){const t=g.Ac(5),e=g.gc();g.Db(3),g.nc("ngIf",e.data.notAnonymous)("ngIfElse",t)}}let wi=(()=>{class t extends m.a{constructor(t,e,i,n,s,c){super(i),this.authService=t,this.fb=e,this.commonService=i,this.router=n,this.redirectService=s,this.browserStorageService=c,this.data={},this.type=1,this.closeDialog=new g.o,this.subscriptions=new C.a,this.form=new o.k({}),this.password=""}onGlobalClick(t){var e;(null===(e=this.myDialog)||void 0===e?void 0:e.nativeElement.contains(t.target))||this.form.valid&&this.submitName()}submitName(){var t,e,i,n=this.commonService.getFormObj(this.form);if(this.data.needPassword)this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(e=null===(t=this.data.examId)||void 0===t?void 0:t.toString())&&void 0!==e?e:"",null!==(i=this.data.hashId)&&void 0!==i?i:""),this.browserStorageService.saveSimpleStorage("password_"+this.data.hashId,n.password.trim()),this.closeDialog.emit(!0);else{var o={id:0,name:n.fullName};this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthChangeNamePost(o).subscribe(t=>{var e;1==t.success?(this.closeDialog.emit(!0),this.successStatusObj()):this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"")}))}}getErrorType(t,e){var i,n;return!!(this.form.controls[t]&&this.form.controls[t].errors&&(null===(i=this.form.controls[t].errors)||void 0===i?void 0:i[e]))&&(null===(n=this.form.controls[t].errors)||void 0===n?void 0:n[e])}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToLogin(){let t=""+this.router.url;if(-1!==t.indexOf("?")){let e=t.slice(0,t.indexOf("?"));this.redirectService.redirectToLoginBackLinkWithFromRegister(e)}else this.redirectService.redirectToLoginBackLinkWithFromRegister(t)}registerAccount(){this.redirectService.redirectRegisterForStudent()}ngOnInit(){this.form=this.fb.group(this.data.needPassword?{password:new o.h("",[o.A.required,ni.a.noWhiteSpace])}:{fullName:new o.h("",[o.A.required,ni.a.noWhiteSpace])}),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(_.g),g.Pb(o.g),g.Pb(f.a),g.Pb(c.i),g.Pb(oi.a),g.Pb(w.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-submit-name"]],viewQuery:function(t,e){if(1&t&&g.cd(si,!0),2&t){let t;g.zc(t=g.dc())&&(e.myDialog=t.first)}},inputs:{data:"data",type:"type"},outputs:{closeDialog:"closeDialog"},features:[g.Ab],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogSubmitName",""],["class","text-center",4,"ngIf","ngIfElse"],["allowAnonymous",""],[1,"text-center"],["class","mb-2 h5",4,"ngIf"],[1,"mb-0","h4","text-info","clickable",3,"click"],[1,"mb-2","h5","mt-4"],[1,"mb-2","h5"],["class","form-horizontal text-center",3,"formGroup",4,"ngIf"],[1,"form-horizontal","text-center",3,"formGroup"],[1,"h5","para_respon"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"h6","mb-0","mt-1","font-weight-normal"],[1,"clickable","text-primary",3,"click"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5","para_respon","font-weight-normal"],[1,"h6","para_respon","font-weight-normal","text-danger"],["type","text","placeholder","M\u1eadt kh\u1ea9u b\xe0i thi","formControlName","password",1,"form-control"],["class","text-center mb-1",4,"ngIf"],[1,"text-center","mb-1"],[1,"h5","text-danger"]],template:function(t,e){1&t&&g.Rc(0,xi,6,2,"div",0),2&t&&g.nc("ngIf",e.data.isShow)},directives:[n.m,o.C,o.t,o.l,o.d,o.s,o.j,bt.b],pipes:[ht.z],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;background:#000;width:2px;display:block;height:35px;margin:0 10px -18px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();var _i=i("MDNF"),yi=i("6DXj"),Si=i("YTzd");function Ui(t,e){1&t&&(g.Vb(0,"span",9),g.Tc(1,"\xa0H\u1ebft l\u01b0\u1ee3t"),g.Ub())}function Oi(t,e){if(1&t){const t=g.Wb();g.Vb(0,"mat-icon",15),g.cc("click",function(){g.Ec(t);const e=g.gc().$implicit,i=g.gc(4);return i.playAudio(i.questionObj.id||-1,e.index||0)}),g.Tc(1,"play_arrow"),g.Ub()}}function Ii(t,e){if(1&t){const t=g.Wb();g.Vb(0,"mat-icon",16),g.cc("click",function(){g.Ec(t);const e=g.gc().$implicit,i=g.gc(4);return i.stopAudio(i.questionObj.id||-1,e.index||0)}),g.Tc(1,"delete"),g.Ub()}}function Vi(t,e){if(1&t&&(g.Vb(0,"span",10),g.Rc(1,Oi,2,0,"mat-icon",11),g.Rc(2,Ii,2,0,"mat-icon",12),g.Vb(3,"audio",13),g.Qb(4,"source",14),g.hc(5,"safe"),g.hc(6,"mycdn"),g.Ub(),g.Ub()),2&t){const t=e.$implicit,i=g.gc(4);g.nc("hidden",!t.status),g.Db(1),g.nc("ngIf",!i.checkAudioPlay(i.questionObj.id||-1,t.index||0)),g.Db(1),g.nc("ngIf",i.checkAudioPlay(i.questionObj.id||-1,t.index||0)),g.Db(1),g.oc("id",i.isShowList?"audio_list_"+i.questionObj.id+"_"+t.index:"audio_unit_"+i.questionObj.id+"_"+t.index),g.Db(1),g.nc("src",g.ic(5,5,g.ic(6,7,i.questionObj.attachmentsParse[0].url)),g.Ic)}}function Ci(t,e){if(1&t&&(g.Vb(0,"div",5),g.Vb(1,"span",6),g.Tc(2,"S\u1ed1 l\u01b0\u1ee3t nghe: "),g.Ub(),g.Rc(3,Ui,2,0,"span",7),g.Rc(4,Vi,7,9,"ng-template",8),g.Ub()),2&t){const t=g.gc(3);g.Db(3),g.nc("ngIf",t.questionObj.limitAudio==t.totalLimit),g.Db(1),g.nc("ngForOf",t.questionObj.audioLimitObjs)}}function Ti(t,e){if(1&t&&(g.Vb(0,"div",3),g.Rc(1,Ci,5,2,"div",4),g.Ub()),2&t){const t=g.gc(2);g.Db(1),g.nc("ngIf",(null!=t.questionObj.limitAudio?t.questionObj.limitAudio:t.totalLimit+1)<=t.totalLimit)}}function ki(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,Ti,2,1,"div",2),g.Ub()),2&t){const t=g.gc();g.Db(1),g.nc("ngIf",t.questionObj.attachmentsParse&&t.questionObj.attachmentsParse.length>0)}}function Di(t,e){if(1&t&&(g.Vb(0,"div",18),g.Vb(1,"audio",19),g.Qb(2,"source",14),g.hc(3,"safe"),g.hc(4,"mycdn"),g.Ub(),g.Ub()),2&t){const t=g.gc(2);g.Db(1),g.oc("id","audio_"+t.questionObj.id),g.Db(1),g.nc("src",g.ic(3,2,g.ic(4,4,t.questionObj.attachmentsParse[0].url)),g.Ic)}}function Mi(t,e){if(1&t&&g.Rc(0,Di,5,6,"div",17),2&t){const t=g.gc();g.nc("ngIf",t.questionObj.attachmentsParse&&t.questionObj.attachmentsParse.length>0)}}let Pi=(()=>{class t extends m.a{constructor(t){super(t),this.commonService=t,this.questionObj={questionContentParse:[],answerConfigParse:[],attachmentsParse:[],answerLabelsMockup:{}},this.totalLimit=0,this.isShowList=!0,this.sendAudioEmitter=new g.o,this.subscriptions=new C.a,this.form=new o.k({})}detectAllAudioPlaying(){var t=!1;let e=document.getElementsByTagName("audio");for(let i=0;i<e.length;i++)if(e[i].duration>0&&!e[i].paused){t=!0;break}return t}playAudio(t,e){var i=this.isShowList?document.getElementById("audio_list_"+t+"_"+e):document.getElementById("audio_unit_"+t+"_"+e);i&&(this.detectAllAudioPlaying()?this.commonService.snackWarning("File nghe \u0111ang \u0111\u01b0\u1ee3c ph\xe1t!",""):(this.sendAudioEmitter.emit({obj:this.questionObj,play:1,index:e}),i.play()))}stopAudio(t,e){var i=this.isShowList?document.getElementById("audio_list_"+t+"_"+e):document.getElementById("audio_unit_"+t+"_"+e);i&&i.duration>0&&!i.paused&&(i.pause(),i.currentTime=0,i.setAttribute("src",""),this.sendAudioEmitter.emit({obj:this.questionObj,play:0,index:e}))}checkAudioPlay(t,e){var i=this.isShowList?document.getElementById("audio_list_"+t+"_"+e):document.getElementById("audio_unit_"+t+"_"+e);return!!i&&(i.duration>0&&!i.paused||((i.ended||i.currentTime>0&&i.paused)&&(i.currentTime=0,i.setAttribute("src",""),this.sendAudioEmitter.emit({obj:this.questionObj,play:0,index:e})),!1))}ngOnInit(){super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["azt-test-audio-ui"]],inputs:{questionObj:"questionObj",totalLimit:"totalLimit",isShowList:"isShowList"},outputs:{sendAudioEmitter:"sendAudioEmitter"},features:[g.Ab],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["NormalAudio",""],["class","text-left ml-auto mr-auto",4,"ngIf"],[1,"text-left","ml-auto","mr-auto"],["class","limit_audio",4,"ngIf"],[1,"limit_audio"],[1,"mb-0",2,"font-size","14px","font-weight","400"],["class","mb-0","style","font-size: 14px; font-weight: 450;color: #da0522 ",4,"ngIf"],["ngFor","",3,"ngForOf"],[1,"mb-0",2,"font-size","14px","font-weight","450","color","#da0522"],[1,"audio-control",3,"hidden"],["style","vertical-align: middle; line-height: 1; color: #000","matTooltip","B\u1eaft \u0111\u1ea7u",3,"click",4,"ngIf"],["style","vertical-align: middle; line-height: 1; color: #da0522","matTooltip","K\u1ebft th\xfac",3,"click",4,"ngIf"],["preload","true",3,"id"],[3,"src"],["matTooltip","B\u1eaft \u0111\u1ea7u",2,"vertical-align","middle","line-height","1","color","#000",3,"click"],["matTooltip","K\u1ebft th\xfac",2,"vertical-align","middle","line-height","1","color","#da0522",3,"click"],["class","text-center ml-auto mr-auto",4,"ngIf"],[1,"text-center","ml-auto","mr-auto"],["controls","","preload","true",2,"margin-left","10px","margin-right","10px","max-width","70%",3,"id"]],template:function(t,e){if(1&t&&(g.Rc(0,ki,2,1,"div",0),g.Rc(1,Mi,1,1,"ng-template",null,1,g.Sc)),2&t){const t=g.Ac(2);g.nc("ngIf",e.totalLimit>0)("ngIfElse",t)}},directives:[n.m,n.l,D.a,dt.a],pipes:[ht.D,ht.x],styles:[".limit_audio[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;align-items:center}.audio-control[_ngcontent-%COMP%]{border-radius:50%;background-color:#f0f3f4;color:#000;padding:5px;height:35px;width:35px;margin-left:5px;cursor:pointer;text-align:center}"]}),t})();function Ei(t,e){if(1&t&&(g.Vb(0,"div",10),g.Vb(1,"p",11),g.Tc(2),g.Ub(),g.Vb(3,"div",12),g.Vb(4,"span"),g.Tc(5,"A."),g.Ub(),g.Vb(6,"span"),g.Tc(7,"B."),g.Ub(),g.Vb(8,"span"),g.Tc(9,"C."),g.Ub(),g.Vb(10,"span"),g.Tc(11,"D."),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(2).index;g.Db(2),g.Vc("C\xe2u ",t+1,": C\xe2u h\u1ecfi \u0111\u1ec1 thi offline")}}function ji(t,e){1&t&&(g.Vb(0,"p",22),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function Ri(t,e){if(1&t&&(g.Vb(0,"span",29),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.content," ")}}function Fi(t,e){if(1&t&&(g.Vb(0,"span",30),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.content," ")}}function Ai(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",26),g.cc("click",function(){g.Ec(t);const i=e.$implicit,n=e.index,o=g.gc(6),s=o.$implicit,c=o.index;return g.gc(2).setAnswer(s.id||-1,i,2,!0,n,i.alpha,i.key,c)}),g.Rc(1,Ri,2,1,"span",27),g.Rc(2,Fi,2,1,"span",28),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.checked),g.Db(1),g.nc("ngIf",1==t.checked)}}function qi(t,e){if(1&t&&(g.Vb(0,"div",23),g.Vb(1,"ul",24),g.Rc(2,Ai,3,2,"li",25),g.Ub(),g.Ub()),2&t){const t=g.gc(5).$implicit;g.Db(2),g.nc("ngForOf",t.answerConfigParse)}}function Li(t,e){1&t&&(g.Vb(0,"mat-icon",31),g.Tc(1," arrow_forward "),g.Ub())}function zi(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",16),g.Rc(1,ji,2,0,"p",17),g.Rc(2,qi,3,1,"div",18),g.Vb(3,"a",19),g.cc("click",function(){g.Ec(t);const e=g.gc(4),i=e.last,n=e.index,o=g.gc(2);return i?o.openSubmitExam():o.nextQuestion(n)}),g.Vb(4,"span",20),g.Tc(5),g.Ub(),g.Rc(6,Li,2,0,"mat-icon",21),g.Ub(),g.Ub()}if(2&t){const t=e.$implicit,i=g.gc(4),n=i.last,o=i.index,s=g.gc(2);g.Db(1),g.nc("ngIf",!s.isMobile),g.Db(1),g.nc("ngIf",1==t.type),g.Db(3),g.Xc("",n?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",o+1,"/",s.countQuestion,")"),g.Db(1),g.nc("ngIf",!n)}}function Qi(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,zi,7,6,"div",15),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("ngForOf",t.answerConfigParseVer1)}}function $i(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),g.Ub())}const Ni=function(t,e){return{"justify-content-between":t,"justify-content-center":e}},Wi=function(t){return{"w-100":t}},Bi=function(t){return{disabled:t}};function Hi(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",33),g.Rc(2,$i,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,1)})("keyup",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,1)})("change",function(e){g.Ec(t);const i=g.gc(3).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!0,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"div",38),g.Vb(7,"a",39),g.cc("click",function(){g.Ec(t);const e=g.gc(3).index;return g.gc(2).nextQuestion(e)}),g.Vb(8,"span",20),g.Tc(9),g.Ub(),g.Vb(10,"mat-icon",31),g.Tc(11," arrow_forward "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.nc("ngClass",g.uc(10,Ni,!o.isMobile,o.isMobile)),g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,o.isMobile)),g.Db(2),g.oc("id","answer-1-unit-"+e.id),g.nc("value",e.essayText),g.Eb("isImage",!0)("question_id",e.id),g.Db(2),g.nc("ngClass",g.tc(15,Bi,i)),g.Db(2),g.Wc("C\xe2u ti\u1ebfp (",n+1,"/",o.countQuestion,")")}}function Gi(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function Ji(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",33),g.Rc(2,Gi,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,1)})("keyup",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,1)})("change",function(e){g.Ec(t);const i=g.gc(3).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!0,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"div",38),g.Vb(7,"a",39),g.cc("click",function(){g.Ec(t);const e=g.gc(3).index;return g.gc(2).nextQuestion(e)}),g.Vb(8,"span",20),g.Tc(9),g.Ub(),g.Vb(10,"mat-icon",31),g.Tc(11," arrow_forward "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.nc("ngClass",g.uc(10,Ni,!o.isMobile,o.isMobile)),g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,o.isMobile)),g.Db(2),g.oc("id","answer-1-unit-"+e.id),g.nc("value",e.essayText),g.Eb("isImage",!0)("question_id",e.id),g.Db(2),g.nc("ngClass",g.tc(15,Bi,i)),g.Db(2),g.Wc("C\xe2u ti\u1ebfp (",n+1,"/",o.countQuestion,")")}}function Xi(t,e){if(1&t&&(g.Vb(0,"div",13),g.Rc(1,Qi,2,1,"div",0),g.hc(2,"isOneChoiceAnswer"),g.Rc(3,Hi,12,17,"div",14),g.hc(4,"isEssayAnswer"),g.Rc(5,Ji,12,17,"div",14),g.hc(6,"isFillAnswer"),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("ngIf",g.ic(2,3,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(4,5,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(6,7,t.answerType))}}function Ki(t,e){1&t&&(g.Vb(0,"p",22),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function Yi(t,e){if(1&t&&(g.Vb(0,"span",29),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.alpha?t.alpha:t.key," ")}}function Zi(t,e){if(1&t&&(g.Vb(0,"span",30),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.alpha?t.alpha:t.key," ")}}function tn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",26),g.cc("click",function(){g.Ec(t);const i=e.$implicit,n=e.index,o=g.gc(4),s=o.$implicit,c=o.index;return g.gc(2).setAnswer(s.id||-1,i,2,!1,n,i.alpha,i.key,c)}),g.Rc(1,Yi,2,1,"span",27),g.Rc(2,Zi,2,1,"span",28),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.checked),g.Db(1),g.nc("ngIf",1==t.checked)}}function en(t,e){1&t&&(g.Vb(0,"mat-icon",31),g.Tc(1," arrow_forward "),g.Ub())}function nn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div"),g.Vb(1,"div",16),g.Rc(2,Ki,2,0,"p",17),g.Vb(3,"div",23),g.Vb(4,"ul",41),g.Rc(5,tn,3,2,"li",42),g.Ub(),g.Ub(),g.Vb(6,"a",19),g.cc("click",function(){g.Ec(t);const e=g.gc(3),i=e.last,n=e.index,o=g.gc(2);return i?o.openSubmitExam():o.nextQuestion(n)}),g.Vb(7,"span",20),g.Tc(8),g.Ub(),g.Rc(9,en,2,0,"mat-icon",21),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(3),g.nc("ngForOf",e.answerConfigParse),g.Db(3),g.Xc("",i?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",n+1,"/",o.countQuestion,")"),g.Db(1),g.nc("ngIf",!i)}}function on(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),g.Ub())}function sn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",33),g.Rc(2,on,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,2)})("keyup",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,2)})("change",function(e){g.Ec(t);const i=g.gc(3).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!1,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"div",38),g.Vb(7,"a",39),g.cc("click",function(){g.Ec(t);const e=g.gc(3).index;return g.gc(2).nextQuestion(e)}),g.Vb(8,"span",20),g.Tc(9),g.Ub(),g.Vb(10,"mat-icon",31),g.Tc(11," arrow_forward "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.nc("ngClass",g.uc(10,Ni,!o.isMobile,o.isMobile)),g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,o.isMobile)),g.Db(2),g.oc("id","answer-0-unit-"+e.id),g.nc("value",e.essayText),g.Eb("isImage",!1)("question_id",e.id),g.Db(2),g.nc("ngClass",g.tc(15,Bi,i)),g.Db(2),g.Wc("C\xe2u ti\u1ebfp (",n+1,"/",o.countQuestion,")")}}function cn(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function an(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",33),g.Rc(2,cn,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,2)})("keyup",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,2)})("change",function(e){g.Ec(t);const i=g.gc(3).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!1,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"div",38),g.Vb(7,"a",39),g.cc("click",function(){g.Ec(t);const e=g.gc(3).index;return g.gc(2).nextQuestion(e)}),g.Vb(8,"span",20),g.Tc(9),g.Ub(),g.Vb(10,"mat-icon",31),g.Tc(11," arrow_forward "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.nc("ngClass",g.uc(10,Ni,!o.isMobile,o.isMobile)),g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,o.isMobile)),g.Db(2),g.oc("id","answer-0-unit-"+e.id),g.nc("value",e.essayText),g.Eb("isImage",!1)("question_id",e.id),g.Db(2),g.nc("ngClass",g.tc(15,Bi,i)),g.Db(2),g.Wc("C\xe2u ti\u1ebfp (",n+1,"/",o.countQuestion,")")}}function rn(t,e){if(1&t&&(g.Vb(0,"div",13),g.Rc(1,nn,10,6,"div",0),g.hc(2,"isOneChoiceAnswer"),g.Rc(3,sn,12,17,"div",14),g.hc(4,"isEssayAnswer"),g.Rc(5,an,12,17,"div",14),g.hc(6,"isFillAnswer"),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("ngIf",g.ic(2,3,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(4,5,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(6,7,t.answerType))}}function ln(t,e){if(1&t){const t=g.Wb();g.Tb(0),g.Vb(1,"div",4),g.Rc(2,Ei,12,1,"div",5),g.Rc(3,Xi,7,9,"div",6),g.Rc(4,rn,7,9,"div",6),g.Vb(5,"a",7),g.cc("click",function(){g.Ec(t);const e=g.gc().index;return g.gc(2).prevQuestion(e)}),g.Vb(6,"mat-icon",8),g.Tc(7,"arrow_back_ios_new"),g.Ub(),g.Ub(),g.Vb(8,"a",9),g.cc("click",function(){g.Ec(t);const e=g.gc().index;return g.gc(2).nextQuestion(e)}),g.Vb(9,"mat-icon",8),g.Tc(10,"arrow_forward_ios"),g.Ub(),g.Ub(),g.Ub(),g.Sb()}if(2&t){const t=g.gc(),e=t.index,i=t.$implicit,n=g.gc(2);g.Db(1),g.oc("id","question_"+e),g.nc("hidden",e>0),g.Db(1),g.nc("ngIf",1==i.isImage),g.Db(1),g.nc("ngIf",1==i.isImage&&!(null!=i.name&&i.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("ngIf",0==i.isImage||(null==i.name?null:i.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("hidden",0==e),g.Db(3),g.nc("hidden",e==n.questionList.length-1)}}function bn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"azt-test-audio-ui",52),g.cc("sendAudioEmitter",function(e){return g.Ec(t),g.gc(7).sendAudioEvent(e)}),g.Ub()}if(2&t){const t=g.gc(5).$implicit,e=g.gc(2);g.nc("questionObj",t)("isShowList",!1)("totalLimit",(e.exam_obj.limitAudio||-1)>0?e.exam_obj.limitAudio||-1:0)}}function dn(t,e){if(1&t&&(g.Vb(0,"div",55),g.Qb(1,"iframe",56),g.hc(2,"safe"),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("src",g.ic(2,1,t.url),g.Gc)}}function un(t,e){if(1&t&&g.Qb(0,"azt-loaded-img",57),2&t){const t=g.gc(2).$implicit;g.nc("imgSrc",t.url)}}function hn(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,dn,3,3,"div",53),g.Rc(2,un,1,1,"azt-loaded-img",54),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.nc("ngIf","mp4"==t.extension),g.Db(1),g.nc("ngIf","png"==t.extension||"jpg"==t.extension)}}function mn(t,e){if(1&t&&(g.Vb(0,"div",50),g.Rc(1,bn,1,3,"azt-test-audio-ui",51),g.Rc(2,hn,3,2,"div",0),g.Ub()),2&t){const t=e.$implicit,i=g.gc(4).$implicit;g.oc("id","media_content_"+i.id),g.Db(1),g.nc("ngIf",i.attachmentsParse&&i.attachmentsParse.length>0),g.Db(1),g.nc("ngIf",t.url&&""!=t.url)}}function gn(t,e){if(1&t&&(g.Vb(0,"div",48),g.Rc(1,mn,3,3,"div",49),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("ngForOf",t.questionContentParse)}}function fn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"azt-test-audio-ui",52),g.cc("sendAudioEmitter",function(e){return g.Ec(t),g.gc(6).sendAudioEvent(e)}),g.Ub()}if(2&t){const t=g.gc(4).$implicit,e=g.gc(2);g.nc("questionObj",t)("isShowList",!1)("totalLimit",(e.exam_obj.limitAudio||-1)>0?e.exam_obj.limitAudio||-1:0)}}function pn(t,e){if(1&t&&(g.Vb(0,"div",65),g.Vb(1,"span",66),g.Tc(2),g.Ub(),g.Tc(3,"\xa0 "),g.Qb(4,"div",67),g.Ub()),2&t){const t=e.$implicit;g.Db(2),g.Vc("",t.alpha?t.alpha:t.key,"."),g.Db(2),g.nc("innerHtml",t.content,g.Fc)}}function vn(t,e){if(1&t&&(g.Vb(0,"div",58),g.Vb(1,"div",59),g.Vb(2,"p",60),g.Tc(3),g.Ub(),g.Rc(4,fn,1,3,"azt-test-audio-ui",51),g.Vb(5,"div",61),g.Qb(6,"div",62),g.Ub(),g.Vb(7,"div",63),g.Rc(8,pn,5,2,"div",64),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(3),g.Vc("C\xe2u\xa0",(t.index||0)<9?"0"+((t.index||0)+1):(t.index||0)+1,":"),g.Db(1),g.nc("ngIf",t.attachmentsParse&&t.attachmentsParse.length>0),g.Db(2),g.nc("innerHtml",t.questionContentParse[0].content,g.Fc),g.Db(2),g.nc("ngForOf",t.answerConfigParse)}}function xn(t,e){if(1&t&&(g.Vb(0,"div",69),g.Qb(1,"azt-loaded-img",57),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("imgSrc",t.groupUrl)}}const wn=function(){return[]};function _n(t,e){if(1&t&&(g.Tb(0),g.Rc(1,xn,2,1,"div",68),g.Sb()),2&t){const t=g.gc().$implicit,e=g.gc(4).index,i=g.gc(2);g.Db(1),g.nc("ngIf",!i.checkHiddenGroup(t.firstInGroupIndexesParse||g.sc(1,wn),e))}}function yn(t,e){if(1&t&&(g.Vb(0,"div",55),g.Qb(1,"iframe",56),g.hc(2,"safe"),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("src",g.ic(2,1,t.url),g.Gc)}}function Sn(t,e){if(1&t&&g.Qb(0,"azt-loaded-img",57),2&t){const t=g.gc(3).$implicit;g.nc("imgSrc",t.url)}}function Un(t,e){if(1&t&&g.Rc(0,Sn,1,1,"azt-loaded-img",54),2&t){const t=g.gc(2).$implicit;g.nc("ngIf","png"==t.extension||"jpg"==t.extension)}}const On=function(t,e,i,n){return{"width.%":t,"height.%":e,"left.%":i,"top.%":n}};function In(t,e){if(1&t&&g.Qb(0,"div",74),2&t){const t=g.gc().$implicit,e=g.gc(3).$implicit,i=g.gc(4).$implicit;g.Gb("v2-label label-",t.alpha?t.alpha:t.key,""),g.nc("ngStyle",g.wc(4,On,t.alpha?i.answerLabelsMockup["label-"+t.alpha].width/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)||1)*100:i.answerLabelsMockup["label-"+t.key].width/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)||1)*100,t.alpha?i.answerLabelsMockup["label-"+t.alpha].height/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.height)||1)*100:i.answerLabelsMockup["label-"+t.key].height/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.height)||1)*100,t.alpha?i.answerLabelsMockup["label-"+t.alpha].left/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)||1)*100:i.answerLabelsMockup["label-"+t.key].left/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)||1)*100,t.alpha?i.answerLabelsMockup["label-"+t.alpha].top/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.height)||1)*100:i.answerLabelsMockup["label-"+t.key].top/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.height)||1)*100))}}function Vn(t,e){if(1&t&&(g.Tb(0),g.Rc(1,In,1,9,"div",73),g.Sb()),2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",t.checked)}}const Cn=function(t){return{"maxWidth.px":t}};function Tn(t,e){if(1&t&&(g.Tb(0),g.Vb(1,"div",71),g.Rc(2,Vn,2,1,"ng-container",1),g.Qb(3,"img",72),g.Ub(),g.Sb()),2&t){const t=g.gc(2).$implicit,e=g.gc(4),i=e.$implicit,n=e.index;g.Db(1),g.pc("id","v2_wrapper_question_",i.id,""),g.nc("ngStyle",g.tc(5,Cn,null==t.metaData||null==t.metaData.question?null:t.metaData.question.width)),g.Db(1),g.nc("ngForOf",i.answerConfigParse),g.Db(1),g.pc("id","questionPlaceholder_",n,""),g.oc("src",i.mixDataImg,g.Ic)}}function kn(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,yn,3,3,"div",53),g.Rc(2,Un,1,1,"ng-template",null,70,g.Sc),g.Rc(4,Tn,4,7,"ng-container",2),g.Ub()),2&t){const t=g.Ac(3),e=g.gc().$implicit,i=g.gc(4).$implicit;g.Db(1),g.nc("ngIf","mp4"==e.extension),g.Db(3),g.nc("ngIf",null==i.name?null:i.name.startsWith("[PDFv2]"))("ngIfElse",t)}}function Dn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",50),g.Rc(1,_n,2,2,"ng-container",0),g.Vb(2,"azt-test-audio-ui",52),g.cc("sendAudioEmitter",function(e){return g.Ec(t),g.gc(6).sendAudioEvent(e)}),g.Ub(),g.Rc(3,kn,5,3,"div",0),g.Ub()}if(2&t){const t=e.$implicit,i=g.gc(4).$implicit,n=g.gc(2);g.oc("id","media_content_"+i.id),g.Db(1),g.nc("ngIf",t.groupUrl),g.Db(1),g.nc("questionObj",i)("isShowList",!1)("totalLimit",(n.exam_obj.limitAudio||-1)>0?n.exam_obj.limitAudio||-1:0),g.Db(1),g.nc("ngIf",t.url&&""!=t.url)}}function Mn(t,e){if(1&t&&(g.Vb(0,"div",58),g.Rc(1,Dn,4,6,"div",49),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("ngForOf",t.questionContentParse)}}function Pn(t,e){1&t&&(g.Vb(0,"p",22),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function En(t,e){if(1&t&&(g.Vb(0,"span",29),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.content," ")}}function jn(t,e){if(1&t&&(g.Vb(0,"span",30),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.content," ")}}function Rn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",26),g.cc("click",function(){g.Ec(t);const i=e.$implicit,n=e.index,o=g.gc(7),s=o.$implicit,c=o.index;return g.gc(2).setAnswer(s.id||-1,i,2,!0,n,i.alpha,i.key,c)}),g.Rc(1,En,2,1,"span",27),g.Rc(2,jn,2,1,"span",28),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.checked),g.Db(1),g.nc("ngIf",1==t.checked)}}function Fn(t,e){if(1&t&&(g.Vb(0,"div",23),g.Vb(1,"ul",24),g.Rc(2,Rn,3,2,"li",25),g.Ub(),g.Ub()),2&t){const t=g.gc(6).$implicit;g.Db(2),g.nc("ngForOf",t.answerConfigParse)}}function An(t,e){1&t&&(g.Vb(0,"mat-icon",31),g.Tc(1," arrow_forward "),g.Ub())}function qn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",16),g.Rc(1,Pn,2,0,"p",17),g.Rc(2,Fn,3,1,"div",18),g.Vb(3,"a",19),g.cc("click",function(){g.Ec(t);const e=g.gc(5),i=e.last,n=e.index,o=g.gc(2);return i?o.openSubmitExam():o.nextQuestion(n)}),g.Vb(4,"span",20),g.Tc(5),g.Ub(),g.Rc(6,An,2,0,"mat-icon",21),g.Ub(),g.Ub()}if(2&t){const t=e.$implicit,i=g.gc(5),n=i.last,o=i.index,s=g.gc(2);g.Db(1),g.nc("ngIf",!s.isMobile),g.Db(1),g.nc("ngIf",1==t.type),g.Db(3),g.Xc("",n?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",o+1,"/",s.countQuestion,")"),g.Db(1),g.nc("ngIf",!n)}}function Ln(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,qn,7,6,"div",15),g.Ub()),2&t){const t=g.gc(4).$implicit;g.Db(1),g.nc("ngForOf",t.answerConfigParseVer1)}}function zn(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),g.Ub())}function Qn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",33),g.Rc(2,zn,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,1)})("keyup",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,1)})("change",function(e){g.Ec(t);const i=g.gc(4).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!0,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"div",38),g.Vb(7,"a",39),g.cc("click",function(){g.Ec(t);const e=g.gc(4).index;return g.gc(2).nextQuestion(e)}),g.Vb(8,"span",20),g.Tc(9),g.Ub(),g.Vb(10,"mat-icon",31),g.Tc(11," arrow_forward "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(4),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.nc("ngClass",g.uc(10,Ni,!o.isMobile,o.isMobile)),g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,o.isMobile)),g.Db(2),g.oc("id","answer-1-unit-"+e.id),g.nc("value",e.essayText),g.Eb("isImage",!0)("question_id",e.id),g.Db(2),g.nc("ngClass",g.tc(15,Bi,i)),g.Db(2),g.Wc("C\xe2u ti\u1ebfp (",n+1,"/",o.countQuestion,")")}}function $n(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function Nn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",33),g.Rc(2,$n,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,1)})("keyup",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,1)})("change",function(e){g.Ec(t);const i=g.gc(4).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!0,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"div",38),g.Vb(7,"a",39),g.cc("click",function(){g.Ec(t);const e=g.gc(4).index;return g.gc(2).nextQuestion(e)}),g.Vb(8,"span",20),g.Tc(9),g.Ub(),g.Vb(10,"mat-icon",31),g.Tc(11," arrow_forward "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(4),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.nc("ngClass",g.uc(10,Ni,!o.isMobile,o.isMobile)),g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,o.isMobile)),g.Db(2),g.oc("id","answer-1-unit-"+e.id),g.nc("value",e.essayText),g.Eb("isImage",!0)("question_id",e.id),g.Db(2),g.nc("ngClass",g.tc(15,Bi,i)),g.Db(2),g.Wc("C\xe2u ti\u1ebfp (",n+1,"/",o.countQuestion,")")}}function Wn(t,e){if(1&t&&(g.Vb(0,"div",13),g.Rc(1,Ln,2,1,"div",0),g.hc(2,"isOneChoiceAnswer"),g.Rc(3,Qn,12,17,"div",14),g.hc(4,"isEssayAnswer"),g.Rc(5,Nn,12,17,"div",14),g.hc(6,"isFillAnswer"),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("ngIf",g.ic(2,3,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(4,5,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(6,7,t.answerType))}}function Bn(t,e){1&t&&(g.Vb(0,"p",22),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function Hn(t,e){if(1&t&&(g.Vb(0,"span",29),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.alpha?t.alpha:t.key," ")}}function Gn(t,e){if(1&t&&(g.Vb(0,"span",30),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.alpha?t.alpha:t.key," ")}}function Jn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",26),g.cc("click",function(){g.Ec(t);const i=e.$implicit,n=e.index,o=g.gc(5),s=o.$implicit,c=o.index;return g.gc(2).setAnswer(s.id||-1,i,2,!1,n,i.alpha,i.key,c)}),g.Rc(1,Hn,2,1,"span",27),g.Rc(2,Gn,2,1,"span",28),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.checked),g.Db(1),g.nc("ngIf",1==t.checked)}}function Xn(t,e){1&t&&(g.Vb(0,"mat-icon",31),g.Tc(1," arrow_forward "),g.Ub())}function Kn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div"),g.Vb(1,"div",16),g.Rc(2,Bn,2,0,"p",17),g.Vb(3,"div",23),g.Vb(4,"ul",41),g.Rc(5,Jn,3,2,"li",42),g.Ub(),g.Ub(),g.Vb(6,"a",19),g.cc("click",function(){g.Ec(t);const e=g.gc(4),i=e.last,n=e.index,o=g.gc(2);return i?o.openSubmitExam():o.nextQuestion(n)}),g.Vb(7,"span",20),g.Tc(8),g.Ub(),g.Rc(9,Xn,2,0,"mat-icon",21),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(4),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(3),g.nc("ngForOf",e.answerConfigParse),g.Db(3),g.Xc("",i?"N\u1ed9p b\xe0i":"C\xe2u ti\u1ebfp","\xa0(",n+1,"/",o.countQuestion,")"),g.Db(1),g.nc("ngIf",!i)}}function Yn(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),g.Ub())}function Zn(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",33),g.Rc(2,Yn,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,2)})("keyup",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,2)})("change",function(e){g.Ec(t);const i=g.gc(4).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!1,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"div",38),g.Vb(7,"a",39),g.cc("click",function(){g.Ec(t);const e=g.gc(4).index;return g.gc(2).nextQuestion(e)}),g.Vb(8,"span",20),g.Tc(9),g.Ub(),g.Vb(10,"mat-icon",31),g.Tc(11," arrow_forward "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(4),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.nc("ngClass",g.uc(10,Ni,!o.isMobile,o.isMobile)),g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,o.isMobile)),g.Db(2),g.oc("id","answer-0-unit-"+e.id),g.nc("value",e.essayText),g.Eb("isImage",!1)("question_id",e.id),g.Db(2),g.nc("ngClass",g.tc(15,Bi,i)),g.Db(2),g.Wc("C\xe2u ti\u1ebfp (",n+1,"/",o.countQuestion,")")}}function to(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function eo(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",33),g.Rc(2,to,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,2)})("keyup",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,2)})("change",function(e){g.Ec(t);const i=g.gc(4).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!1,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(6,"div",38),g.Vb(7,"a",39),g.cc("click",function(){g.Ec(t);const e=g.gc(4).index;return g.gc(2).nextQuestion(e)}),g.Vb(8,"span",20),g.Tc(9),g.Ub(),g.Vb(10,"mat-icon",31),g.Tc(11," arrow_forward "),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(4),e=t.$implicit,i=t.last,n=t.index,o=g.gc(2);g.nc("ngClass",g.uc(10,Ni,!o.isMobile,o.isMobile)),g.Db(2),g.nc("ngIf",!o.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,o.isMobile)),g.Db(2),g.oc("id","answer-0-unit-"+e.id),g.nc("value",e.essayText),g.Eb("isImage",!1)("question_id",e.id),g.Db(2),g.nc("ngClass",g.tc(15,Bi,i)),g.Db(2),g.Wc("C\xe2u ti\u1ebfp (",n+1,"/",o.countQuestion,")")}}function io(t,e){if(1&t&&(g.Vb(0,"div",13),g.Rc(1,Kn,10,6,"div",0),g.hc(2,"isOneChoiceAnswer"),g.Rc(3,Zn,12,17,"div",14),g.hc(4,"isEssayAnswer"),g.Rc(5,eo,12,17,"div",14),g.hc(6,"isFillAnswer"),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("ngIf",g.ic(2,3,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(4,5,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(6,7,t.answerType))}}const no=function(t){return{"pb-2":t}};function oo(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",44),g.Vb(1,"div",45),g.Rc(2,gn,2,1,"div",46),g.Rc(3,vn,9,4,"div",47),g.Rc(4,Mn,2,1,"div",47),g.Ub(),g.Rc(5,Wn,7,9,"div",6),g.Rc(6,io,7,9,"div",6),g.Vb(7,"a",7),g.cc("click",function(){g.Ec(t);const e=g.gc(2).index;return g.gc(2).prevQuestion(e)}),g.Vb(8,"mat-icon",8),g.Tc(9,"arrow_back_ios_new"),g.Ub(),g.Ub(),g.Vb(10,"a",9),g.cc("click",function(){g.Ec(t);const e=g.gc(2).index;return g.gc(2).nextQuestion(e)}),g.Vb(11,"mat-icon",8),g.Tc(12,"arrow_forward_ios"),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(2),e=t.index,i=t.$implicit,n=g.gc(2);g.oc("id","question_"+e),g.nc("hidden",e>0),g.Db(1),g.nc("ngClass",g.tc(10,no,i.attachmentsParse&&i.attachmentsParse.length>0)),g.Db(1),g.nc("ngIf",1==i.isImage&&!(null!=i.name&&i.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("ngIf",0==i.isImage),g.Db(1),g.nc("ngIf",1==i.isImage&&(null==i.name?null:i.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("ngIf",1==i.isImage&&!(null!=i.name&&i.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("ngIf",0==i.isImage||(null==i.name?null:i.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("hidden",0==e),g.Db(3),g.nc("hidden",e==n.questionList.length-1)}}function so(t,e){if(1&t&&g.Rc(0,oo,13,12,"div",43),2&t){const t=g.gc().$implicit;g.nc("ngIf",null!=t.questionContentParse&&t.questionContentParse.length>0)}}function co(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,ln,11,7,"ng-container",2),g.Rc(2,so,1,1,"ng-template",null,3,g.Sc),g.Ub()),2&t){const t=g.Ac(3),e=g.gc(2);g.Db(1),g.nc("ngIf",e.exam_obj.orcLogId&&e.exam_obj.orcLogId<=0)("ngIfElse",t)}}function ao(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,co,4,2,"div",1),g.lc(2),g.Ub()),2&t){const t=g.gc();g.Db(1),g.nc("ngForOf",t.questionList)}}function ro(t,e){if(1&t&&g.Qb(0,"azt-loaded-img",79),2&t){const t=g.gc(2);g.nc("imgSrc",t.exam_obj.examHeader)}}function lo(t,e){if(1&t&&(g.Vb(0,"div",10),g.Vb(1,"p",11),g.Tc(2),g.Ub(),g.Vb(3,"div",12),g.Vb(4,"span"),g.Tc(5,"A."),g.Ub(),g.Vb(6,"span"),g.Tc(7,"B."),g.Ub(),g.Vb(8,"span"),g.Tc(9,"C."),g.Ub(),g.Vb(10,"span"),g.Tc(11,"D."),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(2).index;g.Db(2),g.Vc("C\xe2u ",t+1,": C\xe2u h\u1ecfi \u0111\u1ec1 thi offline")}}function bo(t,e){1&t&&(g.Vb(0,"p",22),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function uo(t,e){if(1&t&&(g.Vb(0,"span",29),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.content," ")}}function ho(t,e){if(1&t&&(g.Vb(0,"span",30),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.content," ")}}function mo(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",26),g.cc("click",function(){g.Ec(t);const i=e.$implicit,n=e.index,o=g.gc(6),s=o.$implicit,c=o.index;return g.gc(2).setAnswer(s.id||-1,i,2,!0,n,i.alpha,i.key,c)}),g.Rc(1,uo,2,1,"span",27),g.Rc(2,ho,2,1,"span",28),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.checked),g.Db(1),g.nc("ngIf",1==t.checked)}}const go=function(t){return{"list-answer-mobile":t}};function fo(t,e){if(1&t&&(g.Vb(0,"div",82),g.Vb(1,"ul",24),g.Rc(2,mo,3,2,"li",25),g.Ub(),g.Ub()),2&t){const t=g.gc(5).$implicit,e=g.gc(2);g.nc("ngClass",g.tc(2,go,e.isMobile)),g.Db(2),g.nc("ngForOf",t.answerConfigParse)}}function po(t,e){if(1&t&&(g.Vb(0,"div",16),g.Rc(1,bo,2,0,"p",17),g.Rc(2,fo,3,4,"div",81),g.Ub()),2&t){const t=e.$implicit,i=g.gc(6);g.Db(1),g.nc("ngIf",!i.isMobile),g.Db(1),g.nc("ngIf",1==t.type)}}function vo(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,po,3,2,"div",15),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("ngForOf",t.answerConfigParseVer1)}}function xo(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),g.Ub())}function wo(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",83),g.Rc(2,xo,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,3)})("keyup",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,3)})("change",function(e){g.Ec(t);const i=g.gc(3).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!0,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3).$implicit,e=g.gc(2);g.nc("ngClass",g.uc(8,Ni,!e.isMobile,e.isMobile)),g.Db(1),g.nc("ngClass",g.tc(11,go,e.isMobile)),g.Db(1),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,e.isMobile)),g.Db(2),g.oc("id","answer-1-all-"+t.id),g.nc("value",t.essayText),g.Eb("isImage",!0)("question_id",t.id)}}function _o(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function yo(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",83),g.Rc(2,_o,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,3)})("keyup",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,3)})("change",function(e){g.Ec(t);const i=g.gc(3).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!0,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3).$implicit,e=g.gc(2);g.nc("ngClass",g.uc(8,Ni,!e.isMobile,e.isMobile)),g.Db(1),g.nc("ngClass",g.tc(11,go,e.isMobile)),g.Db(1),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,e.isMobile)),g.Db(2),g.oc("id","answer-1-all-"+t.id),g.nc("value",t.essayText),g.Eb("isImage",!0)("question_id",t.id)}}function So(t,e){if(1&t&&(g.Vb(0,"div",13),g.Rc(1,vo,2,1,"div",0),g.hc(2,"isOneChoiceAnswer"),g.Rc(3,wo,6,15,"div",14),g.hc(4,"isEssayAnswer"),g.Rc(5,yo,6,15,"div",14),g.hc(6,"isFillAnswer"),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("ngIf",g.ic(2,3,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(4,5,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(6,7,t.answerType))}}function Uo(t,e){1&t&&(g.Vb(0,"p",22),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function Oo(t,e){if(1&t&&(g.Vb(0,"span",29),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.alpha?t.alpha:t.key," ")}}function Io(t,e){if(1&t&&(g.Vb(0,"span",30),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.alpha?t.alpha:t.key," ")}}function Vo(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",26),g.cc("click",function(){g.Ec(t);const i=e.$implicit,n=e.index,o=g.gc(4),s=o.$implicit,c=o.index;return g.gc(2).setAnswer(s.id||-1,i,2,!1,n,i.alpha,i.key,c)}),g.Rc(1,Oo,2,1,"span",27),g.Rc(2,Io,2,1,"span",28),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.checked),g.Db(1),g.nc("ngIf",1==t.checked)}}function Co(t,e){if(1&t&&(g.Vb(0,"div"),g.Vb(1,"div",16),g.Rc(2,Uo,2,0,"p",17),g.Vb(3,"div",82),g.Vb(4,"ul",24),g.Rc(5,Vo,3,2,"li",25),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(3).$implicit,e=g.gc(2);g.Db(2),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(3,go,e.isMobile)),g.Db(2),g.nc("ngForOf",t.answerConfigParse)}}function To(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),g.Ub())}function ko(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",83),g.Rc(2,To,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,4)})("keyup",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,4)})("change",function(e){g.Ec(t);const i=g.gc(3).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!1,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3).$implicit,e=g.gc(2);g.nc("ngClass",g.uc(8,Ni,!e.isMobile,e.isMobile)),g.Db(1),g.nc("ngClass",g.tc(11,go,e.isMobile)),g.Db(1),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,e.isMobile)),g.Db(2),g.oc("id","answer-0-all-"+t.id),g.nc("value",t.essayText),g.Eb("isImage",!1)("question_id",t.id)}}function Do(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function Mo(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",83),g.Rc(2,Do,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,4)})("keyup",function(){g.Ec(t);const e=g.gc(3).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,4)})("change",function(e){g.Ec(t);const i=g.gc(3).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!1,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3).$implicit,e=g.gc(2);g.nc("ngClass",g.uc(8,Ni,!e.isMobile,e.isMobile)),g.Db(1),g.nc("ngClass",g.tc(11,go,e.isMobile)),g.Db(1),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,e.isMobile)),g.Db(2),g.oc("id","answer-0-all-"+t.id),g.nc("value",t.essayText),g.Eb("isImage",!1)("question_id",t.id)}}function Po(t,e){if(1&t&&(g.Vb(0,"div",13),g.Rc(1,Co,6,5,"div",0),g.hc(2,"isOneChoiceAnswer"),g.Rc(3,ko,6,15,"div",14),g.hc(4,"isEssayAnswer"),g.Rc(5,Mo,6,15,"div",14),g.hc(6,"isFillAnswer"),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("ngIf",g.ic(2,3,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(4,5,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(6,7,t.answerType))}}function Eo(t,e){if(1&t&&(g.Tb(0),g.Vb(1,"div",80),g.Rc(2,lo,12,1,"div",5),g.Rc(3,So,7,9,"div",6),g.Rc(4,Po,7,9,"div",6),g.Ub(),g.Sb()),2&t){const t=g.gc(),e=t.index,i=t.$implicit;g.Db(1),g.oc("id","question_all_"+e),g.Db(1),g.nc("ngIf",1==i.isImage),g.Db(1),g.nc("ngIf",1==i.isImage&&!(null!=i.name&&i.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("ngIf",0==i.isImage||(null==i.name?null:i.name.startsWith("[PDFv2]")))}}function jo(t,e){if(1&t&&(g.Vb(0,"div",69),g.Qb(1,"azt-loaded-img",57),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("imgSrc",t.groupUrl)}}function Ro(t,e){if(1&t&&(g.Tb(0),g.Rc(1,jo,2,1,"div",68),g.Sb()),2&t){const t=g.gc().$implicit,e=g.gc(4).index,i=g.gc(2);g.Db(1),g.nc("ngIf",!i.checkHiddenGroup(t.firstInGroupIndexesParse||null,e))}}function Fo(t,e){if(1&t){const t=g.Wb();g.Vb(0,"azt-test-audio-ui",52),g.cc("sendAudioEmitter",function(e){return g.Ec(t),g.gc(7).sendAudioEvent(e)}),g.Ub()}if(2&t){const t=g.gc(5).$implicit,e=g.gc(2);g.nc("questionObj",t)("isShowList",!0)("totalLimit",(e.exam_obj.limitAudio||-1)>0?e.exam_obj.limitAudio||-1:0)}}function Ao(t,e){if(1&t&&(g.Vb(0,"div",55),g.Qb(1,"iframe",56),g.hc(2,"safe"),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("src",g.ic(2,1,t.url),g.Gc)}}function qo(t,e){if(1&t&&g.Qb(0,"azt-loaded-img",57),2&t){const t=g.gc(3).$implicit;g.nc("imgSrc",t.url)}}function Lo(t,e){if(1&t&&g.Rc(0,qo,1,1,"azt-loaded-img",54),2&t){const t=g.gc(2).$implicit;g.nc("ngIf","png"==t.extension||"jpg"==t.extension)}}const zo=function(t){return{"font-size.px":t}};function Qo(t,e){if(1&t&&(g.Vb(0,"div",74),g.Vb(1,"mat-icon",86),g.Tc(2,"adjust"),g.Ub(),g.Ub()),2&t){const t=g.gc().$implicit,e=g.gc(3).$implicit,i=g.gc(4).$implicit,n=g.gc(2);g.Gb("v2-label label-",t.alpha?t.alpha:t.key,""),g.nc("ngStyle",g.wc(5,On,t.alpha?i.answerLabelsMockup["label-"+t.alpha].width/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)||1)*100:i.answerLabelsMockup["label-"+t.key].width/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)||1)*100,t.alpha?i.answerLabelsMockup["label-"+t.alpha].height/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.height)||1)*100:i.answerLabelsMockup["label-"+t.key].height/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.height)||1)*100,t.alpha?i.answerLabelsMockup["label-"+t.alpha].left/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)||1)*100:i.answerLabelsMockup["label-"+t.key].left/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.width)||1)*100,t.alpha?i.answerLabelsMockup["label-"+t.alpha].top/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.height)||1)*100:i.answerLabelsMockup["label-"+t.key].top/((null==e.metaData||null==e.metaData.question?null:e.metaData.question.height)||1)*100)),g.Db(1),g.nc("ngStyle",g.tc(10,zo,n.isMobile?10:24))}}function $o(t,e){if(1&t&&(g.Tb(0),g.Rc(1,Qo,3,12,"div",73),g.Sb()),2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",t.checked)}}function No(t,e){if(1&t&&(g.Tb(0),g.Vb(1,"div",71),g.Rc(2,$o,2,1,"ng-container",1),g.Qb(3,"img",72),g.Ub(),g.Sb()),2&t){const t=g.gc(2).$implicit,e=g.gc(4),i=e.$implicit,n=e.index;g.Db(1),g.pc("id","v2_wrapper_question_",i.id,""),g.nc("ngStyle",g.tc(5,Cn,null==t.metaData||null==t.metaData.question?null:t.metaData.question.width)),g.Db(1),g.nc("ngForOf",i.answerConfigParse),g.Db(1),g.pc("id","questionPlaceholder_",n,""),g.oc("src",i.mixDataImg,g.Ic)}}function Wo(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,Ao,3,3,"div",53),g.Rc(2,Lo,1,1,"ng-template",null,70,g.Sc),g.Rc(4,No,4,7,"ng-container",2),g.Ub()),2&t){const t=g.Ac(3),e=g.gc().$implicit,i=g.gc(4).$implicit;g.Db(1),g.nc("ngIf","mp4"==e.extension),g.Db(3),g.nc("ngIf",null==i.name?null:i.name.startsWith("[PDFv2]"))("ngIfElse",t)}}function Bo(t,e){if(1&t&&(g.Vb(0,"div",50),g.Rc(1,Ro,2,1,"ng-container",0),g.Rc(2,Fo,1,3,"azt-test-audio-ui",51),g.Rc(3,Wo,5,3,"div",0),g.Ub()),2&t){const t=e.$implicit,i=g.gc(4).$implicit;g.oc("id","media_content_all_"+i.id),g.Db(1),g.nc("ngIf",t.groupUrl),g.Db(1),g.nc("ngIf",i.attachmentsParse&&i.attachmentsParse.length>0),g.Db(1),g.nc("ngIf",t.url&&""!=t.url)}}function Ho(t,e){if(1&t&&(g.Vb(0,"div",48),g.Rc(1,Bo,4,4,"div",49),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("ngForOf",t.questionContentParse)}}function Go(t,e){if(1&t){const t=g.Wb();g.Vb(0,"azt-test-audio-ui",52),g.cc("sendAudioEmitter",function(e){return g.Ec(t),g.gc(6).sendAudioEvent(e)}),g.Ub()}if(2&t){const t=g.gc(4).$implicit,e=g.gc(2);g.nc("questionObj",t)("isShowList",!0)("totalLimit",(e.exam_obj.limitAudio||-1)>0?e.exam_obj.limitAudio||-1:0)}}function Jo(t,e){if(1&t&&(g.Vb(0,"div",88),g.Vb(1,"span",66),g.Tc(2),g.Ub(),g.Tc(3,"\xa0 "),g.Qb(4,"div",67),g.Ub()),2&t){const t=e.$implicit;g.Db(2),g.Vc("",t.alpha?t.alpha:t.key,"."),g.Db(2),g.nc("innerHtml",t.content,g.Fc)}}function Xo(t,e){if(1&t&&(g.Vb(0,"div",58),g.Vb(1,"div",59),g.Vb(2,"p",60),g.Tc(3),g.Ub(),g.Rc(4,Go,1,3,"azt-test-audio-ui",51),g.Vb(5,"div",61),g.Qb(6,"div",62),g.Ub(),g.Vb(7,"div",63),g.Rc(8,Jo,5,2,"div",87),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(3),g.Vc("C\xe2u\xa0",(t.index||0)<9?"0"+((t.index||0)+1):(t.index||0)+1,":"),g.Db(1),g.nc("ngIf",t.attachmentsParse&&t.attachmentsParse.length>0),g.Db(2),g.nc("innerHtml",t.questionContentParse[0].content,g.Fc),g.Db(2),g.nc("ngForOf",t.answerConfigParse)}}function Ko(t,e){1&t&&(g.Vb(0,"p",22),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function Yo(t,e){if(1&t&&(g.Vb(0,"span",29),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.content," ")}}function Zo(t,e){if(1&t&&(g.Vb(0,"span",30),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.content," ")}}function ts(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",26),g.cc("click",function(){g.Ec(t);const i=e.$implicit,n=e.index,o=g.gc(7),s=o.$implicit,c=o.index;return g.gc(2).setAnswer(s.id||-1,i,2,!0,n,i.alpha,i.key,c)}),g.Rc(1,Yo,2,1,"span",27),g.Rc(2,Zo,2,1,"span",28),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.checked),g.Db(1),g.nc("ngIf",1==t.checked)}}function es(t,e){if(1&t&&(g.Vb(0,"div",82),g.Vb(1,"ul",24),g.Rc(2,ts,3,2,"li",25),g.Ub(),g.Ub()),2&t){const t=g.gc(6).$implicit,e=g.gc(2);g.nc("ngClass",g.tc(2,go,e.isMobile)),g.Db(2),g.nc("ngForOf",t.answerConfigParse)}}function is(t,e){if(1&t&&(g.Vb(0,"div",16),g.Rc(1,Ko,2,0,"p",17),g.Rc(2,es,3,4,"div",81),g.Ub()),2&t){const t=e.$implicit,i=g.gc(7);g.Db(1),g.nc("ngIf",!i.isMobile),g.Db(1),g.nc("ngIf",1==t.type)}}function ns(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,is,3,2,"div",15),g.Ub()),2&t){const t=g.gc(4).$implicit;g.Db(1),g.nc("ngForOf",t.answerConfigParseVer1)}}function os(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),g.Ub())}function ss(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",83),g.Rc(2,os,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,3)})("keyup",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,3)})("change",function(e){g.Ec(t);const i=g.gc(4).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!0,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(4).$implicit,e=g.gc(2);g.nc("ngClass",g.uc(8,Ni,!e.isMobile,e.isMobile)),g.Db(1),g.nc("ngClass",g.tc(11,go,e.isMobile)),g.Db(1),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,e.isMobile)),g.Db(2),g.oc("id","answer-1-all-"+t.id),g.nc("value",t.essayText),g.Eb("isImage",!0)("question_id",t.id)}}function cs(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function as(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",83),g.Rc(2,cs,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,3)})("keyup",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,3)})("change",function(e){g.Ec(t);const i=g.gc(4).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!0,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(4).$implicit,e=g.gc(2);g.nc("ngClass",g.uc(8,Ni,!e.isMobile,e.isMobile)),g.Db(1),g.nc("ngClass",g.tc(11,go,e.isMobile)),g.Db(1),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,e.isMobile)),g.Db(2),g.oc("id","answer-1-all-"+t.id),g.nc("value",t.essayText),g.Eb("isImage",!0)("question_id",t.id)}}function rs(t,e){if(1&t&&(g.Vb(0,"div",13),g.Rc(1,ns,2,1,"div",0),g.hc(2,"isOneChoiceAnswer"),g.Rc(3,ss,6,15,"div",14),g.hc(4,"isEssayAnswer"),g.Rc(5,as,6,15,"div",14),g.hc(6,"isFillAnswer"),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("ngIf",g.ic(2,3,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(4,5,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(6,7,t.answerType))}}function ls(t,e){1&t&&(g.Vb(0,"p",22),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function bs(t,e){if(1&t&&(g.Vb(0,"span",29),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.alpha?t.alpha:t.key," ")}}function ds(t,e){if(1&t&&(g.Vb(0,"span",30),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc(" ",t.alpha?t.alpha:t.key," ")}}function us(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",26),g.cc("click",function(){g.Ec(t);const i=e.$implicit,n=e.index,o=g.gc(5),s=o.$implicit,c=o.index;return g.gc(2).setAnswer(s.id||-1,i,2,!1,n,i.alpha,i.key,c)}),g.Rc(1,bs,2,1,"span",27),g.Rc(2,ds,2,1,"span",28),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.checked),g.Db(1),g.nc("ngIf",1==t.checked)}}function hs(t,e){if(1&t&&(g.Vb(0,"div"),g.Vb(1,"div",16),g.Rc(2,ls,2,0,"p",17),g.Vb(3,"div",82),g.Vb(4,"ul",24),g.Rc(5,us,3,2,"li",25),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(4).$implicit,e=g.gc(2);g.Db(2),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(3,go,e.isMobile)),g.Db(2),g.nc("ngForOf",t.answerConfigParse)}}function ms(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"B\xe0i l\xe0m c\u1ee7a b\u1ea1n: "),g.Ub())}function gs(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",83),g.Rc(2,ms,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,4)})("keyup",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,4)})("change",function(e){g.Ec(t);const i=g.gc(4).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!1,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(4).$implicit,e=g.gc(2);g.nc("ngClass",g.uc(8,Ni,!e.isMobile,e.isMobile)),g.Db(1),g.nc("ngClass",g.tc(11,go,e.isMobile)),g.Db(1),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,e.isMobile)),g.Db(2),g.oc("id","answer-0-all-"+t.id),g.nc("value",t.essayText),g.Eb("isImage",!1)("question_id",t.id)}}function fs(t,e){1&t&&(g.Vb(0,"p",40),g.Tc(1,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n: "),g.Ub())}function ps(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",32),g.Vb(1,"div",83),g.Rc(2,fs,2,0,"p",34),g.Vb(3,"div",35),g.Vb(4,"div",36),g.Vb(5,"textarea",37),g.cc("focus",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,4)})("keyup",function(){g.Ec(t);const e=g.gc(4).$implicit;return g.gc(2).autoResizeEssayAnswer(e.id||-1,4)})("change",function(e){g.Ec(t);const i=g.gc(4).$implicit;return g.gc(2).setAnswerType3(i.id||-1,e,3,!1,0)}),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(4).$implicit,e=g.gc(2);g.nc("ngClass",g.uc(8,Ni,!e.isMobile,e.isMobile)),g.Db(1),g.nc("ngClass",g.tc(11,go,e.isMobile)),g.Db(1),g.nc("ngIf",!e.isMobile),g.Db(1),g.nc("ngClass",g.tc(13,Wi,e.isMobile)),g.Db(2),g.oc("id","answer-0-all-"+t.id),g.nc("value",t.essayText),g.Eb("isImage",!1)("question_id",t.id)}}function vs(t,e){if(1&t&&(g.Vb(0,"div",13),g.Rc(1,hs,6,5,"div",0),g.hc(2,"isOneChoiceAnswer"),g.Rc(3,gs,6,15,"div",14),g.hc(4,"isEssayAnswer"),g.Rc(5,ps,6,15,"div",14),g.hc(6,"isFillAnswer"),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("ngIf",g.ic(2,3,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(4,5,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(6,7,t.answerType))}}function xs(t,e){if(1&t&&(g.Vb(0,"div",85),g.Vb(1,"div",45),g.Rc(2,Ho,2,1,"div",46),g.Rc(3,Xo,9,4,"div",47),g.Ub(),g.Rc(4,rs,7,9,"div",6),g.Rc(5,vs,7,9,"div",6),g.Ub()),2&t){const t=g.gc(2),e=t.$implicit;g.oc("id","question_all_"+t.index),g.Db(1),g.nc("ngClass",g.tc(6,no,e.attachmentsParse&&e.attachmentsParse.length>0)),g.Db(1),g.nc("ngIf",1==e.isImage),g.Db(1),g.nc("ngIf",0==e.isImage),g.Db(1),g.nc("ngIf",1==e.isImage&&!(null!=e.name&&e.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("ngIf",0==e.isImage||(null==e.name?null:e.name.startsWith("[PDFv2]")))}}function ws(t,e){if(1&t&&g.Rc(0,xs,6,8,"div",84),2&t){const t=g.gc().$implicit;g.nc("ngIf",null!=t.questionContentParse&&t.questionContentParse.length>0)}}function _s(t,e){if(1&t&&(g.Vb(0,"div"),g.Rc(1,Eo,5,4,"ng-container",2),g.Rc(2,ws,1,1,"ng-template",null,3,g.Sc),g.Ub()),2&t){const t=g.Ac(3),e=g.gc(2);g.Db(1),g.nc("ngIf",e.exam_obj.orcLogId&&e.exam_obj.orcLogId<=0)("ngIfElse",t)}}function ys(t,e){if(1&t&&(g.Vb(0,"span",29),g.Tc(1),g.Ub()),2&t){const t=g.gc().index;g.Db(1),g.Wc(" ",9>t?"0":"","",t+1," ")}}function Ss(t,e){if(1&t&&(g.Vb(0,"span",98),g.Tc(1),g.Ub()),2&t){const t=g.gc().index;g.Db(1),g.Wc(" ",9>t?"0":"","",t+1," ")}}function Us(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",96),g.cc("click",function(){g.Ec(t);const i=e.index;return g.gc(3).goToQuestionAll(i)}),g.Rc(1,ys,2,2,"span",27),g.Rc(2,Ss,2,2,"span",97),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.status),g.Db(1),g.nc("ngIf",1==t.status)}}const Os=function(){return{"right.px":20}};function Is(t,e){if(1&t&&(g.Vb(0,"div",89),g.Vb(1,"div",90),g.Vb(2,"div",91),g.Vb(3,"p",92),g.Tc(4,"Danh s\xe1ch c\xe2u h\u1ecfi"),g.Ub(),g.Vb(5,"div",93),g.Vb(6,"ul",94),g.Rc(7,Us,3,2,"li",95),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(2);g.nc("ngStyle",g.sc(2,Os)),g.Db(7),g.nc("ngForOf",t.questionList)}}function Vs(t,e){if(1&t&&(g.Vb(0,"div"),g.Vb(1,"div",75),g.Vb(2,"div",76),g.Rc(3,ro,1,1,"azt-loaded-img",77),g.Rc(4,_s,4,2,"div",1),g.Ub(),g.Rc(5,Is,8,3,"div",78),g.Ub(),g.Ub()),2&t){const t=g.gc();g.Db(3),g.nc("ngIf",t.exam_obj.examHeader),g.Db(1),g.nc("ngForOf",t.questionList),g.Db(1),g.nc("ngIf",!t.isMobile)}}const Cs=["*"];let Ts=(()=>{class t extends m.a{constructor(t){super(t),this.commonService=t,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.exam_obj={},this.firstInGroupIndexes=[],this.timeCount={},this.questionList=[],this.homeLink="",this.files=[],this.showUnit=!1,this.isMobile=!1,this.showList=!1,this.unLimitTime=!1,this.isShowSheet=!1,this.countQuestion=0,this.setAnswerEmitter=new g.o,this.setAnswerEssayEmitter=new g.o,this.setResultTracking=new g.o,this.removeImgEmitter=new g.o,this.openSubmitExamEmitter=new g.o,this.nextQuestionEmitter=new g.o,this.prevQuestionEmitter=new g.o,this.autoResizeEssayAnswerEmitter=new g.o,this.goToQuestionEmitter=new g.o,this.goToQuestionAllEmitter=new g.o,this.sendAudioEmitToParent=new g.o,this.subscriptions=new C.a,this.form=new o.k({})}sendAudioEvent(t){t&&this.sendAudioEmitToParent.emit(t)}goToQuestion(t){this.goToQuestionEmitter.emit(t)}goToQuestionAll(t){this.goToQuestionAllEmitter.emit(t)}autoResizeEssayAnswer(t,e){this.autoResizeEssayAnswerEmitter.emit({id:t,type:e})}removeImg(t){this.removeImgEmitter.emit(t)}checkHiddenGroup(t,e){return t?!t.includes(e):!this.firstInGroupIndexes.includes(e)}calcRight(){var t,e=0,i=window.outerWidth,n=null===(t=document.getElementById("container-content"))||void 0===t?void 0:t.offsetWidth;return n&&(e=(i-n)/2),e}resizeImg(t,e,i){var n,o=document.getElementById("media_content_"+t),s=null!==(n=null==o?void 0:o.offsetWidth)&&void 0!==n?n:0;return o?s/e<=1?Math.round(i*(s/e)):Math.round(i):0}nextQuestion(t){this.nextQuestionEmitter.emit(t)}prevQuestion(t){this.prevQuestionEmitter.emit(t)}openSubmitExam(){this.openSubmitExamEmitter.emit(!0)}setAnswer(t,e,i,n,o,s,c,a){var r,l,b={id:t,answerConfig:e,event:null,type:i,isImage:n,index:o},d=null!==(r=e.content)&&void 0!==r?r:"";(s||c)&&void 0!==a?(l=[a.toString(),null!=s?s:"",null!=c?c:"",t.toString()],this.setResultTracking.emit(l)):s||c||!d||void 0===a||(s=d,c=d,l=[a.toString(),null!=s?s:"",null!=c?c:"",t.toString()],this.setResultTracking.emit(l)),this.setAnswerEmitter.emit(b)}setAnswerType3(t,e,i,n,o){var s,c={id:t,answerConfig:null,event:e,type:i,isImage:n,index:o};this.showList?3==i&&(n?(s=document.getElementById("answer-1-unit-"+t))&&(s.value=e.target.value.trim()):(s=document.getElementById("answer-0-unit-"+t))&&(s.value=e.target.value.trim())):3==i&&(n?(s=document.getElementById("answer-1-all-"+t))&&(s.value=e.target.value.trim()):(s=document.getElementById("answer-0-all-"+t))&&(s.value=e.target.value.trim())),this.setAnswerEssayEmitter.emit(c)}ngOnInit(){window.setInputValueTextarea=t=>{var e=Number(t.target.getAttribute("question_id")),i=Boolean(t.target.getAttribute("isImage"));this.setAnswerType3(e,t,3,i,0)},super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),window.setInputValueTextarea=null,super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["azt-test-question-ui"]],inputs:{hasErrorMessage:"hasErrorMessage",hasEssayQuestion:"hasEssayQuestion",exam_obj:"exam_obj",firstInGroupIndexes:"firstInGroupIndexes",timeCount:"timeCount",questionList:"questionList",homeLink:"homeLink",files:"files",showUnit:"showUnit",isMobile:"isMobile",showList:"showList",unLimitTime:"unLimitTime",isShowSheet:"isShowSheet",countQuestion:"countQuestion"},outputs:{setAnswerEmitter:"setAnswerEmitter",setAnswerEssayEmitter:"setAnswerEssayEmitter",setResultTracking:"setResultTracking",removeImgEmitter:"removeImgEmitter",openSubmitExamEmitter:"openSubmitExamEmitter",nextQuestionEmitter:"nextQuestionEmitter",prevQuestionEmitter:"prevQuestionEmitter",autoResizeEssayAnswerEmitter:"autoResizeEssayAnswerEmitter",goToQuestionEmitter:"goToQuestionEmitter",goToQuestionAllEmitter:"goToQuestionAllEmitter",sendAudioEmitToParent:"sendAudioEmitToParent"},features:[g.Ab],ngContentSelectors:Cs,decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"question-unit-id",3,"id","hidden"],["class","bg-question",4,"ngIf"],["class","answer-box ml-auto mr-auto",4,"ngIf"],[1,"prev_question_btn","clickable",3,"hidden","click"],[1,"arrow_btn"],[1,"next_question_btn","clickable",3,"hidden","click"],[1,"bg-question"],[1,"question-offline-title"],[1,"question-offline-answer"],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content",3,"ngClass",4,"ngIf"],["class","answer-content",4,"ngFor","ngForOf"],[1,"answer-content"],["class","h5 mb-0 mr-2 text-white","style","align-self: center;",4,"ngIf"],["class","list-answer mt-auto mb-auto",4,"ngIf"],[1,"btn","btn-ans-result","ml-auto",3,"click"],[2,"vertical-align","middle","color","#fff"],["style","vertical-align: middle; color: #fff; font-weight: bold;",4,"ngIf"],[1,"h5","mb-0","mr-2","text-white",2,"align-self","center"],[1,"list-answer","mt-auto","mb-auto"],[1,"listda","mt-0","mb-0","pl-0"],["class","listli",3,"click",4,"ngFor","ngForOf"],[1,"listli",3,"click"],["class","no-answered","style","background: #fff; color: #111;",4,"ngIf"],["class","no-answered","style","background-color: rgba(243, 156, 18, 1);color: rgb(255, 255, 255);",4,"ngIf"],[1,"no-answered",2,"background","#fff","color","#111"],[1,"no-answered",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"vertical-align","middle","color","#fff","font-weight","bold"],[1,"answer-content",3,"ngClass"],[1,"list-answer","d-flex",2,"width","100%"],["class","h5 mb-1 mr-2 text-white","style","align-self: center;",4,"ngIf"],[1,"row",2,"width","75%",3,"ngClass"],[1,"col-sm-12","mb-1"],["oninput","setInputValueTextarea($event)",1,"form-control","ml-2","mt-1","mr-2",3,"id","value","focus","keyup","change"],[1,"text-right"],[1,"btn","btn-ans-result","ml-auto",3,"ngClass","click"],[1,"h5","mb-1","mr-2","text-white",2,"align-self","center"],[1,"listda","mt-0","pl-0","mb-0"],["class","listli ",3,"click",4,"ngFor","ngForOf"],["class","question-content mt-1 pl-0 pr-0",3,"id","hidden",4,"ngIf"],[1,"question-content","mt-1","pl-0","pr-0",3,"id","hidden"],[1,"box-slide-show",3,"ngClass"],["class","game-bar text-center pt-2",4,"ngIf"],["class","game-bar pt-2",4,"ngIf"],[1,"game-bar","text-center","pt-2"],["class","question-media",3,"id",4,"ngFor","ngForOf"],[1,"question-media",3,"id"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter",4,"ngIf"],[3,"questionObj","isShowList","totalLimit","sendAudioEmitter"],["class","embed-responsive embed-responsive-21by9",4,"ngIf"],[3,"imgSrc",4,"ngIf"],[1,"embed-responsive","embed-responsive-21by9"],[1,"embed-responsive-item",3,"src"],[3,"imgSrc"],[1,"game-bar","pt-2"],[2,"padding","5px 15px"],[2,"font-weight","450","font-size","24px"],[1,"contentDocx"],[1,"content-img",2,"font-size","21px","align-self","center","vertical-align","middle","line-height","2.2",3,"innerHtml"],[1,"row","mt-1","justify-content-around"],["class","col-sm-6 col-md-6 d-flex",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","d-flex"],[2,"vertical-align","middle","font-size","22px","font-weight","500","align-self","center"],[2,"font-size","21px","align-self","center","vertical-align","middle","line-height","1.4",3,"innerHtml"],["class","image_group mb-3",4,"ngIf"],[1,"image_group","mb-3"],["originalRender",""],[2,"position","relative","margin","0 auto",3,"ngStyle","id"],["alt","question media",1,"img-fluid","img_respon",3,"id","src"],["style","position: absolute; border-bottom: 2px solid #f39c12;",3,"class","ngStyle",4,"ngIf"],[2,"position","absolute","border-bottom","2px solid #f39c12",3,"ngStyle"],["id","question_ui",1,"row","justify-content-between","ml-0","mr-0","pl-0","pr-0","pb-3"],[1,"col-xl-10","pl-0","pr-0"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","col-xl-2 col-game-bar show-list",3,"ngStyle",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[3,"id"],["class","list-answer mt-auto mb-auto",3,"ngClass",4,"ngIf"],[1,"list-answer","mt-auto","mb-auto",3,"ngClass"],[1,"list-answer","d-flex",2,"width","100%",3,"ngClass"],["class","question-content mt-1 pl-0 pr-0",3,"id",4,"ngIf"],[1,"question-content","mt-1","pl-0","pr-0",3,"id"],["hidden","",2,"position","absolute","right","100%","width","100%","height","100%","color","#f39c12","display","flex","align-items","center","justify-content","center",3,"ngStyle"],["class","col-sm-12 col-md-6 d-flex",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","d-flex"],[1,"col-xl-2","col-game-bar","show-list",3,"ngStyle"],[1,"box-show-sheet","w-auto","mt-0"],[1,"show-sheet","text-center"],[1,"h5","mb-0","mt-3","disable-select"],[1,"sheet_content","sheet-Screen","mt-1"],[1,"listda",2,"padding-left","5px","margin-top","15px"],["class","listli","style","margin-bottom: 5px;",3,"click",4,"ngFor","ngForOf"],[1,"listli",2,"margin-bottom","5px",3,"click"],["class","no-answered","style","\n\t\t\t\t\t\t\t\t\t\tbackground-color: rgba(60, 141, 188, 1);\n\t\t\t\t\t\t\t\t\t\tcolor: rgb(255, 255, 255);\n\t\t\t\t\t\t\t\t\t",4,"ngIf"],[1,"no-answered",2,"background-color","rgba(60, 141, 188, 1)","color","rgb(255, 255, 255)"]],template:function(t,e){1&t&&(g.mc(),g.Rc(0,ao,3,1,"div",0),g.Rc(1,Vs,6,3,"div",0)),2&t&&(g.nc("ngIf",e.showUnit),g.Db(1),g.nc("ngIf",e.showList))},directives:[n.m,n.l,D.a,n.k,Pi,ye.a,n.n],pipes:[ht.u,ht.q,ht.r,ht.D],styles:[".box-slide-show[_ngcontent-%COMP%]{background:inherit;background-color:#fff;border-radius:3px 3px 0 0;padding-bottom:20px;padding-right:15px;padding-left:15px;border:1px solid #e7e7e7;border-bottom:none}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.col-game-bar[_ngcontent-%COMP%]{position:fixed;top:calc(2rem + 30px);right:calc(100vw - 90vw);max-width:180px}.sheet-Screen[_ngcontent-%COMP%]{max-height:calc(100vh - 140px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-Screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-show-sheet[_ngcontent-%COMP%]{margin-top:14px!important;width:75%;margin:auto;background:inherit;background-color:#fff;border:1px solid #e7e7e7;border-radius:5px}.disable-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.question-content[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{right:10px}.next_question_btn[_ngcontent-%COMP%], .prev_question_btn[_ngcontent-%COMP%]{position:absolute;top:35%;padding:.35rem .45rem;background-color:rgba(163,165,166,.4392156862745098);border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{left:10px}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important}.arrow_btn[_ngcontent-%COMP%], .button-note[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.button-note[_ngcontent-%COMP%]{position:relative;display:flex}.list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s ease 0s 1 both}.list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.note-box[_ngcontent-%COMP%]{display:none;background-color:#f7f3cf;margin-bottom:5px;min-height:30px}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{background:#00a7d0;border-radius:0 0 3px 3px;color:#fff;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}#examHeader[_ngcontent-%COMP%]{display:block;border:1px solid #e7e7e7;border-radius:3px;overflow:hidden}@media (max-width:768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}.bg-question[_ngcontent-%COMP%]{margin-top:15px;padding:15px 10px;background:#fff}.question-offline-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:15px}.question-offline-answer[_ngcontent-%COMP%]{max-width:300px;padding:10px;display:flex;justify-content:space-between;font-weight:500}.question-offline-answer[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500}"]}),t})();const ks=["modalSaveImageUpload"];function Ds(t,e){1&t&&g.Qb(0,"azt-loading-effect")}function Ms(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-submit-info",6),g.cc("closeDialog",function(e){return g.Ec(t),g.gc().closeShowInfo(e)}),g.Ub()}if(2&t){const t=g.gc();g.nc("data",t.showFormInfo)}}function Ps(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-monitor-screen",6),g.cc("closeDialog",function(e){return g.Ec(t),g.gc().closeAutoMonitor(e)}),g.Ub()}if(2&t){const t=g.gc();g.nc("data",t.dataMonitorAuto)}}function Es(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-check-essay",7),g.cc("closeEssayDialog",function(e){return g.Ec(t),g.gc().closeEssayDialog(e)}),g.Ub()}if(2&t){const t=g.gc();g.nc("data",t.dataEssayPopup)}}function js(t,e){if(1&t){const t=g.Wb();g.Vb(0,"azt-preview-media",13),g.cc("closePreview",function(){return g.Ec(t),g.gc(2).onFileClose()}),g.Ub()}if(2&t){const t=g.gc(2);g.nc("fileOption",t.previewFile)}}function Rs(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-upload-image",14),g.cc("closeDialog",function(e){return g.Ec(t),g.gc(2).conFirmUpload(e)})("addFileMobile",function(e){return g.Ec(t),g.gc(2).addFileMobileUpload(e)})("isOnSelectFile",function(e){return g.Ec(t),g.gc(2).onSelectFileEmit(e)}),g.Ub()}if(2&t){const t=g.gc(2);g.nc("hashCode",t.hashIdUpdate)("data",t.uploadImageData)}}function Fs(t,e){if(1&t&&(g.Vb(0,"p",24),g.Vb(1,"mat-icon",27),g.Tc(2,"schedule"),g.Ub(),g.Tc(3),g.hc(4,"date"),g.hc(5,"date"),g.Ub()),2&t){const t=g.gc(4);g.Db(3),g.Wc(" Th\u1eddi gian \u0111\u01b0\u1ee3c ph\xe9p v\xe0o thi: ",g.jc(4,2,t.exam_obj.startTime,"dd/MM/yy HH:mm")," - ",g.jc(5,5,t.exam_obj.endTime,"dd/MM/yy HH:mm"),"")}}function As(t,e){if(1&t&&(g.Vb(0,"div",37),g.Tc(1," H\xe3y ki\u1ec3m tra l\u1ea1i b\xe0i l\xe0m c\u1ee7a b\u1ea1n. H\u1ec7 th\u1ed1ng s\u1ebd t\u1ef1 \u0111\u1ed9ng n\u1ed9p b\xe0i sau: "),g.Vb(2,"span",38),g.Tc(3),g.Ub(),g.Tc(4," : "),g.Vb(5,"span",38),g.Tc(6),g.Ub(),g.Tc(7," : "),g.Vb(8,"span",38),g.Tc(9),g.Ub(),g.Tc(10," ho\u1eb7c b\u1ea1n c\xf3 th\u1ec3 n\u1ed9p b\xe0i ngay b\u1eb1ng c\xe1ch \u1ea5n n\xfat b\xean d\u01b0\u1edbi. "),g.Ub()),2&t){const t=g.gc(4);g.Db(3),g.Vc(" ",(t.timeCount.hour||0)>9?t.timeCount.hour:"0"+t.timeCount.hour," "),g.Db(3),g.Vc(" ",(t.timeCount.minute||0)>9?t.timeCount.minute:"0"+t.timeCount.minute," "),g.Db(3),g.Vc(" ",(t.timeCount.second||0)>9?t.timeCount.second:"0"+t.timeCount.second," ")}}function qs(t,e){1&t&&(g.Vb(0,"div",39),g.Vb(1,"mat-icon",27),g.Tc(2,"timer_off"),g.Ub(),g.Tc(3,' B\u1ea1n \u0111\xe3 h\u1ebft gi\u1edd l\xe0m b\xe0i thi! H\xe3y \u1ea5n n\xfat "N\u1ed9p b\xe0i" b\xean d\u01b0\u1edbi \u0111\u1ec3 g\u1eedi b\xe0i l\xean h\u1ec7 th\u1ed1ng. N\u1ebfu n\u1ed9p mu\u1ed9n, b\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ea5m \u0111i\u1ec3m, vui l\xf2ng li\xean h\u1ec7 gi\xe1o vi\xean \u0111\u1ec3 ph\xfac kh\u1ea3o! '),g.Ub())}function Ls(t,e){1&t&&(g.Vb(0,"div",39),g.Vb(1,"mat-icon",27),g.Tc(2,"timer_off"),g.Ub(),g.Tc(3,' B\u1ea1n \u0111\xe3 qu\xe1 gi\u1edd n\u1ed9p b\xe0i thi! H\xe3y \u1ea5n n\xfat "N\u1ed9p b\xe0i mu\u1ed9n" b\xean d\u01b0\u1edbi \u0111\u1ec3 g\u1eedi b\xe0i l\xean h\u1ec7 th\u1ed1ng. B\xe0i l\xe0m c\u1ee7a b\u1ea1n c\xf3 th\u1ec3 kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ea5m \u0111i\u1ec3m, vui l\xf2ng li\xean h\u1ec7 gi\xe1o vi\xean \u0111\u1ec3 ph\xfac kh\u1ea3o! '),g.Ub())}function zs(t,e){if(1&t&&(g.Vb(0,"div",52),g.Qb(1,"azt-loaded-img",53),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.nc("imgSrc",t.questionContentParse[0].groupUrl)}}function Qs(t,e){if(1&t&&(g.Qb(0,"azt-loaded-img",53),g.hc(1,"mycdn")),2&t){const t=g.gc(2).$implicit;g.nc("imgSrc",g.ic(1,1,t.questionContentParse[0].url))}}function $s(t,e){if(1&t&&(g.Vb(0,"div",54),g.Rc(1,Qs,2,3,"azt-loaded-img",55),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.nc("ngIf","png"==t.questionContentParse[0].extension||"jpg"==t.questionContentParse[0].extension)}}function Ns(t,e){if(1&t&&(g.Vb(0,"div",54),g.Qb(1,"img",56),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.oc("src",t.mixDataImg,g.Ic)}}function Ws(t,e){if(1&t&&(g.Vb(0,"div",63),g.Vb(1,"span",64),g.Tc(2),g.Ub(),g.Tc(3,"\xa0 "),g.Qb(4,"div",60),g.Ub()),2&t){const t=e.$implicit;g.Db(2),g.Vc("",t.alpha?t.alpha:t.key,"."),g.Db(2),g.nc("innerHtml",t.content,g.Fc)}}function Bs(t,e){if(1&t&&(g.Vb(0,"div",57),g.Vb(1,"p",58),g.Tc(2),g.Ub(),g.Vb(3,"div",59),g.Qb(4,"div",60),g.Ub(),g.Vb(5,"div",61),g.Rc(6,Ws,5,2,"div",62),g.Ub(),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(2),g.Vc("C\xe2u\xa0",(t.index||0)<9?"0"+((t.index||0)+1):(t.index||0)+1,":"),g.Db(2),g.nc("innerHtml",t.questionContentParse[0].content,g.Fc),g.Db(2),g.nc("ngForOf",t.answerConfigParse)}}function Hs(t,e){if(1&t&&(g.Vb(0,"span",69),g.Tc(1),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.Vc(" ",t.choseAnswer," ")}}function Gs(t,e){1&t&&(g.Vb(0,"span"),g.Vb(1,"b",70),g.Tc(2,"Ch\u01b0a tr\u1ea3 l\u1eddi"),g.Ub(),g.Ub())}function Js(t,e){if(1&t&&(g.Vb(0,"div",65),g.Vb(1,"p",66),g.Tc(2,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n:"),g.Ub(),g.Rc(3,Hs,2,1,"span",67),g.Rc(4,Gs,3,0,"span",68),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(3),g.nc("ngIf",t.choseAnswer&&""!=t.choseAnswer),g.Db(1),g.nc("ngIf",!t.choseAnswer||""==t.choseAnswer)}}function Xs(t,e){if(1&t){const t=g.Wb();g.Vb(0,"textarea",74),g.cc("focus",function(){g.Ec(t);const e=g.gc(2).$implicit;return g.gc(5).autoResizeEssayAnswer({id:e.id||0,type:4})}),g.Tc(1),g.Ub()}if(2&t){const t=g.gc(2).$implicit;g.oc("id","answer-0-all-"+t.id),g.Eb("question_id",t.id),g.Db(1),g.Vc("\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t",t.choseAnswer,"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t")}}function Ks(t,e){if(1&t){const t=g.Wb();g.Vb(0,"textarea",74),g.cc("focus",function(){g.Ec(t);const e=g.gc(2).$implicit;return g.gc(5).autoResizeEssayAnswer({id:e.id||0,type:4})}),g.Tc(1,"\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTh\xed sinh ch\u01b0a nh\u1eadp th\xf4ng tin\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t"),g.Ub()}if(2&t){const t=g.gc(2).$implicit;g.oc("id","answer-0-all-"+t.id),g.Eb("question_id",t.id)}}const Ys=function(t){return{"w-100":t}};function Zs(t,e){if(1&t&&(g.Vb(0,"div",65),g.Vb(1,"p",66),g.Tc(2,"\u0110\xe1p \xe1n c\u1ee7a b\u1ea1n:"),g.Ub(),g.Vb(3,"div",71),g.Vb(4,"div",72),g.Rc(5,Xs,2,3,"textarea",73),g.Rc(6,Ks,2,2,"textarea",73),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc().$implicit,e=g.gc(5);g.Db(3),g.nc("ngClass",g.tc(3,Ys,e.isMobile)),g.Db(2),g.nc("ngIf",t.choseAnswer&&""!=t.choseAnswer),g.Db(1),g.nc("ngIf",!t.choseAnswer||""==t.choseAnswer)}}function tc(t,e){if(1&t&&(g.Vb(0,"div",44),g.Vb(1,"div",45),g.Vb(2,"div",46),g.Rc(3,zs,2,1,"div",47),g.Rc(4,$s,2,1,"div",48),g.Rc(5,Ns,2,1,"div",48),g.Rc(6,Bs,7,3,"div",49),g.Ub(),g.Vb(7,"div",50),g.Rc(8,Js,5,2,"div",51),g.hc(9,"isOneChoiceAnswer"),g.Rc(10,Zs,7,5,"div",51),g.hc(11,"isEssayAnswer"),g.hc(12,"isFillAnswer"),g.Ub(),g.Ub(),g.Ub()),2&t){const t=e.$implicit;g.Db(3),g.nc("ngIf",t.questionContentParse[0].groupUrl),g.Db(1),g.nc("ngIf",1==t.isImage&&!(null!=t.name&&t.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("ngIf",1==t.isImage&&(null==t.name?null:t.name.startsWith("[PDFv2]"))),g.Db(1),g.nc("ngIf",0==t.isImage),g.Db(2),g.nc("ngIf",g.ic(9,6,t.answerType)),g.Db(2),g.nc("ngIf",g.ic(11,8,t.answerType)||g.ic(12,10,t.answerType))}}function ec(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",79),g.Vb(1,"a",34),g.cc("click",function(){return g.Ec(t),g.gc(6).openUploadImage()}),g.Tc(2),g.Ub(),g.Vb(3,"p",80),g.Tc(4,"(H\u1ed7 tr\u1ee3 \u1ea2nh, Video, Audio ho\u1eb7c File PDF)"),g.Ub(),g.Ub()}if(2&t){const t=g.gc(6);g.Db(2),g.Uc(t.files.length>0?"N\u1ed9p th\xeam":"N\u1ed9p t\u1ef1 lu\u1eadn")}}function ic(t,e){1&t&&(g.Vb(0,"div",81),g.Tc(1,'B\u1ea1n ch\u01b0a n\u1ed9p File n\xe0o l\xean h\u1ec7 th\u1ed1ng, h\xe3y \u1ea5n n\xfat "N\u1ed9p t\u1ef1 lu\u1eadn" \u0111\u1ec3 g\u1eedi File l\xean h\u1ec7 th\u1ed1ng.'),g.Ub())}function nc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"mat-tab",75),g.Rc(1,ec,5,1,"div",76),g.Rc(2,ic,2,0,"div",77),g.Vb(3,"app-upload-ui",78),g.cc("changesPosImg",function(e){return g.Ec(t),g.gc(5).changesPosImg(e)})("previewFile",function(e){return g.Ec(t),g.gc(5).onShowFile(e)})("removeFile",function(e){return g.Ec(t),g.gc(5).removeImg(e)}),g.Ub(),g.Ub()}if(2&t){const t=g.gc(5);g.oc("label","T\u1ef1 lu\u1eadn ("+(t.files&&t.files.length>0?t.files.length:0)+")"),g.Db(1),g.nc("ngIf",t.totalTime>-200),g.Db(1),g.nc("ngIf",0==t.files.length&&t.totalTime>-200),g.Db(1),g.nc("answerFiles",t.files)}}function oc(t,e){if(1&t&&(g.Vb(0,"mat-card",40),g.Vb(1,"mat-tab-group"),g.Vb(2,"mat-tab",41),g.Rc(3,tc,13,12,"div",42),g.Ub(),g.Rc(4,nc,4,4,"mat-tab",43),g.Ub(),g.Ub()),2&t){const t=g.gc(4);g.Db(3),g.nc("ngForOf",t.questionList),g.Db(1),g.nc("ngIf",t.hasEssayQuestion)}}function sc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",20),g.Vb(1,"mat-card",21),g.Vb(2,"mat-card-content"),g.Vb(3,"div",22),g.Vb(4,"p",23),g.Tc(5),g.Ub(),g.Vb(6,"p",24),g.Tc(7),g.Ub(),g.Vb(8,"div",25),g.Vb(9,"p",26),g.Vb(10,"mat-icon",27),g.Tc(11,"timer"),g.Ub(),g.Tc(12),g.Ub(),g.Vb(13,"p",24),g.Vb(14,"mat-icon",27),g.Tc(15,"help_outline"),g.Ub(),g.Tc(16),g.Ub(),g.Ub(),g.Rc(17,Fs,6,8,"p",28),g.Vb(18,"p",29),g.Tc(19),g.hc(20,"date"),g.Ub(),g.Ub(),g.Rc(21,As,11,3,"div",30),g.Ub(),g.Ub(),g.Rc(22,qs,4,0,"div",31),g.Rc(23,Ls,4,0,"div",31),g.Vb(24,"div",32),g.Vb(25,"a",33),g.cc("click",function(){return g.Ec(t),g.gc(3).endTimeBackBtn()}),g.Tc(26,"Tho\xe1t"),g.Ub(),g.Vb(27,"a",34),g.cc("click",function(){return g.Ec(t),g.gc(3).endTimeSubmitBtn()}),g.Tc(28),g.Ub(),g.Ub(),g.Vb(29,"div",35),g.Rc(30,oc,5,2,"mat-card",36),g.Ub(),g.Vb(31,"div",35),g.Vb(32,"a",33),g.cc("click",function(){return g.Ec(t),g.gc(3).endTimeBackBtn()}),g.Tc(33,"Tho\xe1t"),g.Ub(),g.Vb(34,"a",34),g.cc("click",function(){return g.Ec(t),g.gc(3).endTimeSubmitBtn()}),g.Tc(35),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3);g.Db(5),g.Uc(t.exam_obj.name),g.Db(2),g.Vc("M\xe3 \u0111\u1ec1: ",t.exam_obj.hashId,""),g.Db(5),g.Vc(" Th\u1eddi gian: ",t.exam_obj.minutes," ph\xfat"),g.Db(4),g.Vc(" S\u1ed1 c\xe2u: ",t.countQuestion,""),g.Db(1),g.nc("ngIf",t.exam_obj.startTime&&t.exam_obj.endTime),g.Db(2),g.Wc("Th\xed sinh: ",t.userObj.fullName," - V\xe0o thi l\xfac: ",g.jc(20,13,t.testingResultObj.startedTest,"dd/MM/yy HH:mm"),""),g.Db(2),g.nc("ngIf",t.totalTime>=-90&&t.totalTime<=0),g.Db(1),g.nc("ngIf",t.totalTime>=-300),g.Db(1),g.nc("ngIf",t.totalTime<-300),g.Db(5),g.Uc(t.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i"),g.Db(2),g.nc("ngIf",t.questionList.length>0),g.Db(5),g.Uc(t.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i")}}function cc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-exit-exam",85),g.cc("closeDialog",function(){return g.Ec(t),g.gc(5).closeQuitDialog()})("redirectToHomepage",function(e){return g.Ec(t),g.gc(5).redirectToHomepage(e)}),g.Ub()}if(2&t){const t=g.gc(5);g.nc("data",t.quitTestData)}}function ac(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-comfirm-exam",85),g.cc("closeDialog",function(){return g.Ec(t),g.gc(5).closeSubmitDialog()})("redirectToHomepage",function(e){return g.Ec(t),g.gc(5).confirmSubmit(e)}),g.Ub()}if(2&t){const t=g.gc(5);g.nc("data",t.submitData)}}function rc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-submit-name",6),g.cc("closeDialog",function(e){return g.Ec(t),g.gc(5).closeSubmitName(e)}),g.Ub()}if(2&t){const t=g.gc(5);g.nc("data",t.submitNameData)}}const lc=function(t){return{"time-almost-end":t}};function bc(t,e){if(1&t&&(g.Vb(0,"div",97),g.Vb(1,"span",38),g.Tc(2),g.Ub(),g.Tc(3," : "),g.Vb(4,"span",38),g.Tc(5),g.Ub(),g.Tc(6," : "),g.Vb(7,"span",38),g.Tc(8),g.Ub(),g.Ub()),2&t){const t=g.gc(7);g.nc("ngClass",g.tc(4,lc,t.timeCount.almostEnd)),g.Db(2),g.Vc(" ",(t.timeCount.hour||0)>9?t.timeCount.hour:"0"+t.timeCount.hour," "),g.Db(3),g.Vc(" ",(t.timeCount.minute||0)>9?t.timeCount.minute:"0"+t.timeCount.minute," "),g.Db(3),g.Vc(" ",(t.timeCount.second||0)>9?t.timeCount.second:"0"+t.timeCount.second," ")}}function dc(t,e){1&t&&(g.Vb(0,"div",98),g.Vb(1,"span",38),g.Tc(2," Kh\xf4ng gi\u1edbi h\u1ea1n "),g.Ub(),g.Ub())}function uc(t,e){if(1&t&&(g.Vb(0,"div",92),g.Vb(1,"div",93),g.Vb(2,"mat-icon",94),g.Tc(3,"access_time"),g.Ub(),g.Ub(),g.Rc(4,bc,9,6,"div",95),g.Rc(5,dc,3,0,"div",96),g.Ub()),2&t){const t=g.gc(6);g.Db(4),g.nc("ngIf",!t.unLimitTime),g.Db(1),g.nc("ngIf",t.unLimitTime)}}function hc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",99),g.cc("click",function(){return g.Ec(t),g.gc(6).routerBackSelectStudent()}),g.Vb(1,"div",93),g.Vb(2,"mat-icon",100),g.Tc(3,"arrow_back"),g.Ub(),g.Ub(),g.Vb(4,"div",101),g.Vb(5,"span",102),g.Tc(6,"Quay l\u1ea1i"),g.Ub(),g.Ub(),g.Ub()}}function mc(t,e){if(1&t&&(g.Vb(0,"p",105),g.Tc(1),g.Ub()),2&t){const t=g.gc(7);g.Db(1),g.Vc("Th\xed sinh: ",t.userObj.fullName,"")}}function gc(t,e){if(1&t&&(g.Vb(0,"div",103),g.Rc(1,mc,2,1,"p",104),g.Ub()),2&t){const t=g.gc(6);g.Db(1),g.nc("ngIf",!t.isEmpty(t.userObj)&&t.userObj)}}function fc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"a",116),g.cc("click",function(){return g.Ec(t),g.gc(7).goBackFullScreen()}),g.Tc(1,"To\xe0n m\xe0n h\xecnh"),g.Ub()}}function pc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"a",117),g.cc("click",function(){return g.Ec(t),g.gc(7).openUploadImage()}),g.Tc(1,"\u0110\xednh k\xe8m b\xe0i T\u1ef1 lu\u1eadn "),g.Ub()}}function vc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",106),g.Vb(1,"div",107),g.Rc(2,fc,2,0,"a",108),g.Vb(3,"div",109),g.Vb(4,"p",110),g.cc("click",function(){return g.Ec(t),g.gc(6).changeShowType(1)}),g.Vb(5,"mat-icon",111),g.Tc(6,"format_list_bulleted"),g.Ub(),g.Ub(),g.Vb(7,"p",112),g.cc("click",function(){return g.Ec(t),g.gc(6).changeShowType(2)}),g.Vb(8,"mat-icon",111),g.Tc(9,"view_compact"),g.Ub(),g.Ub(),g.Ub(),g.Vb(10,"div"),g.Vb(11,"a",113),g.cc("click",function(){return g.Ec(t),g.gc(6).openQuitDialog()}),g.Tc(12,"Tho\xe1t "),g.Ub(),g.Rc(13,pc,2,0,"a",114),g.Vb(14,"a",115),g.cc("click",function(){return g.Ec(t),g.gc(6).openSubmitExam(!0,!1)}),g.Tc(15,"N\u1ed9p b\xe0i"),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(6);g.Db(2),g.nc("ngIf",t.hasMonitorScreen),g.Db(11),g.nc("ngIf",t.hasEssayQuestion)}}const xc=function(t){return{"d-none":t}};function wc(t,e){if(1&t&&(g.Vb(0,"div",86),g.Vb(1,"div",87),g.Rc(2,uc,6,2,"div",88),g.Rc(3,hc,7,0,"div",89),g.Ub(),g.Rc(4,gc,2,1,"div",90),g.Rc(5,vc,16,2,"div",91),g.Ub()),2&t){const t=g.gc(5);g.nc("ngClass",g.tc(5,xc,t.isMobile&&!t.chooseChildData.isShow)),g.Db(2),g.nc("ngIf",!t.chooseChildData.isShow),g.Db(1),g.nc("ngIf",t.chooseChildData.isShow),g.Db(1),g.nc("ngIf",!t.chooseChildData.isShow),g.Db(1),g.nc("ngIf",!t.chooseChildData.isShow)}}function _c(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-select-classes",118),g.cc("selectClassroom",function(e){return g.Ec(t),g.gc(6).closeChooseStudent(e)}),g.Ub()}if(2&t){const t=g.gc(6);g.nc("dataClass",t.chooseChildData.classObjs)("isSearchTeacher",!1)("isMobile",t.isMobile)}}function yc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-send-request",121),g.cc("confirmSend",function(e){return g.Ec(t),g.gc(7).confirmSendRequest(e)})("closeDialog",function(){return g.Ec(t),g.gc(7).closeRequestDialog()}),g.Ub()}if(2&t){const t=g.gc(7);g.nc("data",t.sendRequestData)}}function Sc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-select-student",119),g.cc("selectChild",function(e){return g.Ec(t),g.gc(6).closeChooseStudent(e)})("approvedByName",function(e){return g.Ec(t),g.gc(6).approvedByName(e)})("backToClass",function(){return g.Ec(t),g.gc(6).backToClassList()}),g.Ub(),g.Rc(1,yc,1,1,"app-send-request",120)}if(2&t){const t=g.gc(6);g.nc("data",t.chooseChildData)("showAddStudent",null==t.chooseChildData.classObj?null:t.chooseChildData.classObj.showAddStudent)("isSearchTeacher",!1)("back_link",!0)("isMobile",t.isMobile),g.Db(1),g.nc("ngIf",t.sendRequestData.isShow)}}function Uc(t,e){if(1&t&&(g.Rc(0,_c,1,3,"ng-template",84),g.Rc(1,Sc,2,6,"ng-template",84)),2&t){const t=g.gc(5);g.nc("ngIf",t.selectClass),g.Db(1),g.nc("ngIf",t.selectStudent)}}function Oc(t,e){if(1&t&&(g.Vb(0,"span"),g.Tc(1),g.hc(2,"date"),g.Ub()),2&t){const t=g.gc(7);g.Db(1),g.Vc(" Vui l\xf2ng quay l\u1ea1i v\xe0o l\xfac: ",g.jc(2,1,t.exam_obj.startTime,"dd/MM/yyyy, HH:mm:ss")," ")}}function Ic(t,e){if(1&t){const t=g.Wb();g.Vb(0,"span",128),g.cc("click",function(){return g.Ec(t),g.gc(7).goToBuyExam()}),g.Vb(1,"span",129),g.Tc(2,"\u0110i mua"),g.Ub(),g.Vb(3,"mat-icon",130),g.Tc(4,"shopping_cart"),g.Ub(),g.Ub()}}const Vc=function(t){return[t]};function Cc(t,e){if(1&t&&(g.Vb(0,"div",123),g.Vb(1,"div",124),g.Tc(2),g.hc(3,"mytranslate"),g.Rc(4,Oc,3,4,"span",68),g.Rc(5,Ic,5,0,"span",125),g.Ub(),g.Vb(6,"div",126),g.Vb(7,"a",127),g.hc(8,"localize"),g.Tc(9," Quay l\u1ea1i trang ch\u1ee7 "),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(6);g.Db(2),g.Vc(" ",g.ic(3,4,t.hasErrorMessage)," "),g.Db(2),g.nc("ngIf","lang_core_time_smaller_than_start_time"==t.hasErrorMessage),g.Db(1),g.nc("ngIf","lang_core_doest_not_owner_exam"==t.hasErrorMessage),g.Db(2),g.nc("routerLink",g.tc(8,Vc,g.ic(8,6,t.homeLink)))}}function Tc(t,e){if(1&t&&(g.Vb(0,"span",146),g.Tc(1),g.Ub()),2&t){const t=g.gc().index;g.Db(1),g.Wc(" ",9>t?"0":"","",t+1," ")}}function kc(t,e){if(1&t&&(g.Vb(0,"span",147),g.Tc(1),g.Ub()),2&t){const t=g.gc().index;g.Db(1),g.Wc(" ",9>t?"0":"","",t+1," ")}}function Dc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",143),g.cc("click",function(){g.Ec(t);const i=e.index;return g.gc(9).goToQuestion(i)}),g.Rc(1,Tc,2,2,"span",144),g.Rc(2,kc,2,2,"span",145),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.status),g.Db(1),g.nc("ngIf",1==t.status)}}function Mc(t,e){if(1&t&&(g.Vb(0,"div",137),g.Vb(1,"div",138),g.Vb(2,"div",139),g.Vb(3,"p",140),g.Tc(4,"Danh s\xe1ch c\xe2u h\u1ecfi"),g.Ub(),g.Vb(5,"ul",141),g.Rc(6,Dc,3,2,"li",142),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(8);g.nc("hidden",t.isMobile),g.Db(6),g.nc("ngForOf",t.questionList)}}function Pc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"azt-test-question-ui",135),g.cc("setAnswerEmitter",function(e){return g.Ec(t),g.gc(7).setAnswerTrueFalse(e)})("setAnswerEssayEmitter",function(e){return g.Ec(t),g.gc(7).setAnswerEssay(e)})("setResultTracking",function(e){return g.Ec(t),g.gc(7).setResultTracking(e)})("removeImgEmitter",function(e){return g.Ec(t),g.gc(7).removeImg(e)})("openSubmitExamEmitter",function(e){return g.Ec(t),g.gc(7).openSubmitExam(e)})("nextQuestionEmitter",function(e){return g.Ec(t),g.gc(7).nextQuestion(e)})("prevQuestionEmitter",function(e){return g.Ec(t),g.gc(7).prevQuestion(e)})("autoResizeEssayAnswerEmitter",function(e){return g.Ec(t),g.gc(7).autoResizeEssayAnswer(e)})("goToQuestionEmitter",function(e){return g.Ec(t),g.gc(7).goToQuestion(e)})("goToQuestionAllEmitter",function(e){return g.Ec(t),g.gc(7).goToQuestionAll(e)})("sendAudioEmitToParent",function(e){return g.Ec(t),g.gc(7).sendAudioForQuestion(e)}),g.Rc(1,Mc,7,2,"div",136),g.Ub()}if(2&t){const t=g.gc(7);g.nc("hasErrorMessage",t.hasErrorMessage)("hasEssayQuestion",t.hasEssayQuestion)("exam_obj",t.exam_obj)("firstInGroupIndexes",t.firstInGroupIndexes)("timeCount",t.timeCount)("questionList",t.questionList)("homeLink",t.homeLink)("files",t.files)("showUnit",t.showUnit)("isMobile",t.isMobile)("showList",t.showList)("unLimitTime",t.unLimitTime)("isShowSheet",t.isShowSheet)("countQuestion",t.countQuestion),g.Db(1),g.nc("ngIf",!t.submitNameData.isShow)}}function Ec(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",172),g.Vb(1,"a",173),g.cc("click",function(){return g.Ec(t),g.gc(8).openUploadImage()}),g.Vb(2,"span",174),g.Tc(3,"\u0110\xednh k\xe8m t\u1ef1 lu\u1eadn"),g.Ub(),g.Ub(),g.Ub()}}function jc(t,e){if(1&t&&(g.Vb(0,"span",146),g.Tc(1),g.Ub()),2&t){const t=g.gc().index;g.Db(1),g.Wc(" ",9>t?"0":"","",t+1," ")}}function Rc(t,e){if(1&t&&(g.Vb(0,"span",147),g.Tc(1),g.Ub()),2&t){const t=g.gc().index;g.Db(1),g.Wc(" ",9>t?"0":"","",t+1," ")}}function Fc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",175),g.cc("click",function(){g.Ec(t);const i=e.index,n=g.gc(8);return n.showList?n.goToQuestionAll(i):n.goToQuestion(i)}),g.Rc(1,jc,2,2,"span",144),g.Rc(2,Rc,2,2,"span",145),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("ngIf",0==t.status),g.Db(1),g.nc("ngIf",1==t.status)}}function Ac(t,e){if(1&t&&(g.Vb(0,"span",165),g.Tc(1),g.Ub()),2&t){const t=g.gc(8);g.Db(1),g.Uc(t.userObj.fullName)}}const qc=function(t){return{"time-almost-end-mobile":t}};function Lc(t,e){if(1&t&&(g.Vb(0,"div",176),g.Vb(1,"mat-icon",177),g.Tc(2,"av_timer"),g.Ub(),g.Vb(3,"span",38),g.Tc(4),g.Ub(),g.Tc(5," : "),g.Vb(6,"span",38),g.Tc(7),g.Ub(),g.Tc(8," : "),g.Vb(9,"span",38),g.Tc(10),g.Ub(),g.Ub()),2&t){const t=g.gc(8);g.nc("ngClass",g.tc(4,qc,t.timeCount.almostEnd)),g.Db(4),g.Vc(" ",(t.timeCount.hour||0)>9?t.timeCount.hour:"0"+t.timeCount.hour," "),g.Db(3),g.Vc(" ",(t.timeCount.minute||0)>9?t.timeCount.minute:"0"+t.timeCount.minute," "),g.Db(3),g.Vc(" ",(t.timeCount.second||0)>9?t.timeCount.second:"0"+t.timeCount.second," ")}}function zc(t,e){1&t&&(g.Vb(0,"div",178),g.Vb(1,"mat-icon",179),g.Tc(2,"av_timer"),g.Ub(),g.Vb(3,"span",180),g.Tc(4," Kh\xf4ng gi\u1edbi h\u1ea1n "),g.Ub(),g.Ub())}const Qc=function(t){return{"col-6":t}};function $c(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div"),g.Vb(1,"div",148),g.Vb(2,"div",149),g.Vb(3,"div",150),g.Vb(4,"a",151),g.cc("click",function(){return g.Ec(t),g.gc(7).openQuitDialog()}),g.Vb(5,"mat-icon"),g.Tc(6,"power_settings_new"),g.Ub(),g.Ub(),g.Ub(),g.Rc(7,Ec,4,0,"div",152),g.Vb(8,"div",153),g.Vb(9,"a",151),g.cc("click",function(){return g.Ec(t),g.gc(7).openSubmitExam(!0,!1)}),g.Vb(10,"span",154),g.Tc(11,"N\u1ed9p b\xe0i"),g.Ub(),g.Vb(12,"mat-icon"),g.Tc(13,"chevron_right"),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(14,"div",155),g.Vb(15,"div",156),g.Vb(16,"div",157),g.Vb(17,"div",158),g.Vb(18,"div",159),g.Vb(19,"ul",160),g.Rc(20,Fc,3,2,"li",161),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(21,"div",162),g.cc("click",function(){return g.Ec(t),g.gc(7).showSheet(!1)}),g.Vb(22,"div",163),g.Vb(23,"p",164),g.cc("click",function(){return g.Ec(t),g.gc(7).showSheet(!0,1)}),g.Vb(24,"mat-icon",165),g.Tc(25,"format_list_bulleted"),g.Ub(),g.Ub(),g.Vb(26,"p",166),g.cc("click",function(){return g.Ec(t),g.gc(7).showSheet(!0,2)}),g.Vb(27,"mat-icon",165),g.Tc(28,"view_compact"),g.Ub(),g.Ub(),g.Ub(),g.Vb(29,"div",167),g.Vb(30,"p",168),g.Rc(31,Ac,2,1,"span",169),g.Ub(),g.Ub(),g.Rc(32,Lc,11,6,"div",170),g.Rc(33,zc,5,0,"div",171),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc(7);g.Db(7),g.nc("ngIf",t.hasEssayQuestion),g.Db(1),g.nc("ngClass",g.tc(7,Qc,!t.hasEssayQuestion)),g.Db(7),g.nc("hidden",!t.isShowSheet),g.Db(5),g.nc("ngForOf",t.questionList),g.Db(11),g.nc("ngIf",!t.isEmpty(t.userObj)&&t.userObj),g.Db(1),g.nc("ngIf",!t.unLimitTime),g.Db(1),g.nc("ngIf",t.unLimitTime)}}const Nc=function(t,e){return{"monitor-screen":t,"monitor-screen-mobile":e}};function Wc(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",123),g.Vb(1,"app-upload-ui",131),g.cc("changesPosImg",function(e){return g.Ec(t),g.gc(6).changesPosImg(e)})("previewFile",function(e){return g.Ec(t),g.gc(6).onShowFile(e)})("removeFile",function(e){return g.Ec(t),g.gc(6).removeImg(e)}),g.Ub(),g.Qb(2,"div",132,133),g.Rc(4,Pc,2,15,"azt-test-question-ui",134),g.Rc(5,$c,34,9,"div",68),g.Ub()}if(2&t){const t=g.gc(6);g.Db(1),g.nc("answerFiles",t.files)("isTesting",!0)("onMobile",t.isMobile)("showList",t.showList),g.Db(1),g.nc("ngClass",g.uc(7,Nc,!t.isMobile,t.isMobile)),g.Db(2),g.nc("ngIf",!t.submitNameData.isShow),g.Db(1),g.nc("ngIf",t.isMobile)}}function Bc(t,e){if(1&t&&(g.Rc(0,Cc,10,10,"div",122),g.Rc(1,Wc,6,10,"div",122)),2&t){const t=g.gc(5);g.nc("ngIf",""!=t.hasErrorMessage),g.Db(1),g.nc("ngIf",""==t.hasErrorMessage)}}function Hc(t,e){if(1&t&&(g.Tb(0),g.Rc(1,cc,1,1,"app-exit-exam",82),g.Rc(2,ac,1,1,"app-comfirm-exam",82),g.Rc(3,rc,1,1,"app-submit-name",3),g.Rc(4,wc,6,7,"div",83),g.Rc(5,Uc,2,2,"ng-template",84),g.Rc(6,Bc,2,2,"ng-template",84),g.Sb()),2&t){const t=g.gc(4);g.Db(1),g.nc("ngIf",t.quitTestData.isShow),g.Db(1),g.nc("ngIf",t.submitData.isShow),g.Db(1),g.nc("ngIf",t.submitNameData.isShow),g.Db(1),g.nc("ngIf",""==t.hasErrorMessage),g.Db(1),g.nc("ngIf",t.chooseChildData.isShow),g.Db(1),g.nc("ngIf",!t.chooseChildData.isShow)}}function Gc(t,e){if(1&t&&g.Rc(0,Hc,7,6,"ng-container",68),2&t){const t=g.gc(3);g.nc("ngIf",!t.errorLoadMixedAssets&&t.validForTakeTest)}}const Jc=function(t,e,i){return{"time-client-pc":t,"time-client-mobile":e,"time-client-notValid":i}};function Xc(t,e){if(1&t&&(g.Rc(0,sc,36,16,"div",15),g.Rc(1,Gc,1,1,"ng-template",null,16,g.Sc),g.Vb(3,"div",17),g.Vb(4,"p",18),g.Vb(5,"span",19),g.Tc(6),g.hc(7,"date"),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.Ac(2),e=g.gc(2);g.nc("ngIf",!e.validForTakeTest)("ngIfElse",t),g.Db(3),g.nc("ngClass",g.vc(7,Jc,!e.isMobile&&e.validForTakeTest,e.isMobile&&e.validForTakeTest,!e.validForTakeTest)),g.Db(3),g.Uc(g.jc(7,4,e.timeClient,"dd/MM/yy HH:mm"))}}function Kc(t,e){if(1&t&&g.Qb(0,"azt-loading-effect",181),2&t){const t=g.gc(2);g.nc("customText","\u0110ang t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi: "+t.loadMixedExamProgress+"%")}}function Yc(t,e){1&t&&(g.Vb(0,"div",182),g.Vb(1,"mat-icon",27),g.Tc(2,"error"),g.Ub(),g.Tc(3," C\xf3 l\u1ed7i khi t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi, h\xe3y th\u1eed l\u1ea1i b\u1eb1ng c\xe1ch t\u1ea3i l\u1ea1i trang web!"),g.Ub())}function Zc(t,e){if(1&t&&(g.Rc(0,js,1,1,"azt-preview-media",8),g.Rc(1,Rs,1,2,"app-upload-image",9),g.Rc(2,Xc,8,11,"ng-template",null,10,g.Sc),g.Rc(4,Kc,1,1,"azt-loading-effect",11),g.Rc(5,Yc,4,0,"div",12)),2&t){const t=g.Ac(3),e=g.gc();g.nc("ngIf",e.isShowPreviewFile),g.Db(1),g.nc("ngIf",e.uploadImageData.isShow),g.Db(3),g.nc("ngIf",e.isMixedService2&&!e.doneLoadMixedExamAssets&&!e.errorLoadMixedAssets)("ngIfElse",t),g.Db(1),g.nc("ngIf",e.errorLoadMixedAssets)}}const ta=function(t){return{"pb-5 pl-0 pr-0":t}};let ea=(()=>{class t extends m.a{constructor(t,e,i,s,c,a,r,l,b,d,u,h,m,g,f,p,v,x,w,_,y,S,U,O,I){super(i),this.fb=t,this.activeRoute=e,this.commonService=i,this.baseApiService=s,this.mixService=c,this.localStorageObjetct=a,this.mixService2=r,this.fireStoreService=l,this.cdnService=b,this.encryptService=d,this.docxService=u,this.zipdataService=h,this.timeService=m,this.monitorService=g,this.browserStorageService=f,this.userService=p,this.frontExamTrackService=v,this.frontStudentService=x,this.globalService=w,this.frontExamResultService=_,this.frontExamService=y,this.frontExamResultUploadService=S,this.customQuestionAnswerConfig=U,this.takeTestInterfaceService=O,this.answerTypeService=I,this.subscriptions=new C.a,this.form=new o.k({}),this.homeLink="",this.tenantId=1,this.curCateId=0,this.hashId="",this.userAgent="",this.backLink="",this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.exam_obj={},this.firstInGroupIndexes=[],this.testingResultObj={},this.userObj={},this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.startedTest=Object(n.x)(new Date,"yyyy-MM-ddTHH:mm:ss Z","en_vn"),this.countQuestion=0,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={datas:""},this.hasMonitorScreen=!1,this.onTypingAnswer=!1,this.chooseChildData={studentObjs:void 0,classObj:void 0,isPendingApproved:!1,isShow:!1},this.dataProcess={},this.password="",this.backtoLink="",this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.validForTakeTest=!0,this.sendingData=!1,this.acceptSendTrack=!0,this.isMixedService2=!1,this.doneLoadMixedExamAssets=!1,this.errorLoadMixedAssets=!1,this.subscription=new C.a,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.isShowPreviewFile=!1,this.previewFile={},this.oldScroll=0,this.checkTimeOutExam=!1,this.deviceId="",this.timeClient=Date.now(),this.customDocument=Object.assign({},document),this.browserName="",this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClass=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.curQuestion=0,this.showList=!0,this.showUnit=!1,this.isShowSheet=!1}get loadMixedExamProgress(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}timeOut(t){"done"==t&&location.reload()}getData(){var t=this.browserStorageService.getSimpleStorage("password_"+this.hashId),e=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.hashId);this.password=t||"",this.subscriptions.add(this.frontExamService.apiFrontExamGetObjV2Get(this.hashId,this.password,e||""!=this.tempStorageInfo?1:0,this.deviceId).subscribe(t=>{var e,i;(null===(e=t.data)||void 0===e?void 0:e.hasOwnProperty("errorMessage"))&&"lang_core_exam_password_invalid"==(null===(i=t.data)||void 0===i?void 0:i.errorMessage)?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(t)})),this.commonService.gaEvent("FrontExam_GetObj")}processData(t){var e,i,n,o,s,c,a,r,l,b,d,u,h,m,g,f,p,v,x,w,_,y,S,U,O,I,V,C,T,k,D,M,P,E,j;if(1==t.success)if(this.exam_obj=null!==(i=null===(e=t.data)||void 0===e?void 0:e.examObj)&&void 0!==i?i:{},this.testingResultObj=null!==(o=null===(n=t.data)||void 0===n?void 0:n.testingExamResultObj)&&void 0!==o?o:{},this.firstInGroupIndexes=this.exam_obj&&2==this.exam_obj.mixQuestion||(null!==(s=this.testingResultObj.mixquestionId)&&void 0!==s?s:-1)>0?this.mixService2.refindFirstInGroupIndexes(this.firstInGroupIndexes,null!==(a=null===(c=t.data)||void 0===c?void 0:c.questionObjs)&&void 0!==a?a:[]):this.commonService.parseJson(null!==(r=this.exam_obj.firstInGroupIndexes)&&void 0!==r?r:""),this.userObj=null!==(b=null===(l=t.data)||void 0===l?void 0:l.studentObj)&&void 0!==b?b:{},this.commonService.translateMetaData({title:"L\xe0m b\xe0i: "+((null===(u=null===(d=t.data)||void 0===d?void 0:d.examObj)||void 0===u?void 0:u.name)?t.data.examObj.name:""),description:(null===(m=null===(h=t.data)||void 0===h?void 0:h.examObj)||void 0===m?void 0:m.name)?t.data.examObj.name:""}),this.dataProcess=null!==(g=t.data)&&void 0!==g?g:{},this.baseApiService.isLogin()&&this.baseApiService.isAnonymousRole())if(0==(null===(p=null===(f=this.dataProcess)||void 0===f?void 0:f.examObj)||void 0===p?void 0:p.whoAllow)){var R=this.baseApiService.getUserObj();this.userService.isAnonymousName(R)?(this.stopStatusObj(),this.openSubmitName(!1)):(1==(null===(x=null===(v=t.data)||void 0===v?void 0:v.examObj)||void 0===x?void 0:x.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(q=this.commonService.parseJson(null!==(y=null===(_=null===(w=t.data)||void 0===w?void 0:w.examObj)||void 0===_?void 0:_.infoFieldsV2)&&void 0!==y?y:""))&&q.length>0&&""!=q?(this.openShowInfo(q),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(t),this.stopStatusObj())}else this.stopStatusObj(),this.openSubmitName(!0);else if(2==(null===(U=null===(S=this.dataProcess)||void 0===S?void 0:S.examObj)||void 0===U?void 0:U.whoAllow))if(this.dataProcess.hasOwnProperty("studentObj")&&!this.isEmpty(null!==(I=null===(O=this.dataProcess)||void 0===O?void 0:O.studentObj)&&void 0!==I?I:{})){var F=this.dataProcess.studentObj;1==(null==F?void 0:F.isVerified)?(1==(null===(C=null===(V=t.data)||void 0===V?void 0:V.examObj)||void 0===C?void 0:C.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(q=this.commonService.parseJson(null!==(T=t.data.examObj.infoFieldsV2)&&void 0!==T?T:""))&&q.length>0&&""!=q?(this.openShowInfo(q),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(t),this.stopStatusObj()):(this.stopStatusObj(),this.openChooseStudent({student:null!=F?F:null,chooseStudentData:null,responseFrontExam:null},3))}else if(this.dataProcess.hasOwnProperty("classroomObj")&&this.isEmpty(null!==(D=null===(k=this.dataProcess)||void 0===k?void 0:k.classroomObj)&&void 0!==D?D:{}))this.stopStatusObj(),this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1);else{this.stopStatusObj();var A=[];this.dataProcess.studentObjs&&this.dataProcess.studentObjs.length>0&&(A=this.dataProcess.studentObjs.filter(t=>{var e,i;return t.classroomId==(null!==(i=null===(e=this.dataProcess.classroomObj)||void 0===e?void 0:e.id)&&void 0!==i?i:0)})),this.openChooseStudent({chooseStudentData:{studentObjs:A,classroomObj:this.dataProcess.classroomObj,onlyOneClass:!0},student:null,responseFrontExam:null},2)}else{var q;1==(null===(P=null===(M=t.data)||void 0===M?void 0:M.examObj)||void 0===P?void 0:P.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(q=this.commonService.parseJson(null!==(E=t.data.examObj.infoFieldsV2)&&void 0!==E?E:""))&&q.length>0&&""!=q?(this.openShowInfo(q),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(t),this.stopStatusObj()}else this.showErrorSnack(null!==(j=t.message)&&void 0!==j?j:"")}changeQuestionContent(t){for(var e,i,n,o,s,c,a,r,l,b,d,u,h,m,g,f,p=[],v=this.commonService.parseJson(null!==(e=this.browserStorageService.getSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id))&&void 0!==e?e:""),x=0;x<t.length;x++){let e=t[x];if(e){if(t[x].answerConfig&&(this.customQuestionAnswerConfig.isPDFVer2Question(null!==(i=e.name)&&void 0!==i?i:"",null!==(n=e.isImage)&&void 0!==n?n:-1)||this.customQuestionAnswerConfig.isDocxQuestion(null!==(o=e.isImage)&&void 0!==o?o:-1)?e.answerConfigParse=this.customQuestionAnswerConfig.changeAnswerConfigVer2(null!==(c=this.commonService.castJsonToClassObjs(et.b,null!==(s=t[x].answerConfig)&&void 0!==s?s:""))&&void 0!==c?c:[],e,!1):e.answerConfigParseVer1=this.customQuestionAnswerConfig.changeAnswerConfigVer1(null!==(r=this.commonService.castJsonToClassObj(et.c,null!==(a=t[x].answerConfig)&&void 0!==a?a:""))&&void 0!==r?r:{},e,!1)),t[x].questionContent&&(e.questionContentParse=this.commonService.parseJson(null!==(l=t[x].questionContent)&&void 0!==l?l:""),e.questionContentParse&&(e.questionContentParse[0].firstInGroupIndexesParse=this.commonService.parseJson(null!==(d=null===(b=e.questionContentParse)||void 0===b?void 0:b[0].firstInGroupIndexes)&&void 0!==d?d:""))),t[x].attachments&&(e.attachmentsParse=this.commonService.parseJson(null!==(u=t[x].attachments)&&void 0!==u?u:"")),this.answerTypeService.isEssayAnswer(t[x].answerType)&&(e.essayText=""),this.answerTypeService.isFillAnswer(t[x].answerType)&&(e.essayText=""),(null!==(h=this.exam_obj.limitAudio)&&void 0!==h?h:-1)>0)if(v){var w=v.filter(e=>e.questionId==t[x].id);w&&w.length>0&&(e.limitAudio=w[0].limitTimes+w[0].limitPlay,e.limitPlay=0)}else e.attachmentsParse&&e.attachmentsParse.length>0&&(e.limitAudio=0,e.limitPlay=0);e=Object.assign(Object.assign({},e),{index:x,status:!1}),p.push(e)}}if(null!=p&&p.length>0&&(null===(m=p[0].name)||void 0===m?void 0:m.startsWith("[PDFv2]")))if(this.exam_obj.labelsUrl&&this.exam_obj.labelsUrl.startsWith("[")){this.isMixedService2=!0;let t=this.commonService.parseJson(this.exam_obj.labelsUrl);this.totalMixedExamAssets=t.length;let e=t.map(t=>!0),i={},n=[],o=0;for(let s=0;s<t.length;s++)i["index_"+s]=this.cdnService.getMyCdn(t[s]);for(const s in i)if(i.hasOwnProperty(s)){let c=new Image;c.crossOrigin="anonymous";let a=i[s],r=0;c.onload=()=>{this.countLoadedMixedAssets++,o++,n[parseInt(s.split("_")[1],10)]=c,o==t.length&&(this.mixService2.drawMixQuestionTS(n,p,this.exam_obj),setTimeout(()=>{this.doneLoadMixedExamAssets=!0},1e3))},c.onerror=()=>{r<2?setTimeout(()=>{let t="";switch(r){case 0:t=this.cdnService.isViettelCDN(t)?this.cdnService.getRawCdnLink(a)+"?t="+Date.now():this.cdnService.getRawCdnLink(a);break;default:t=this.cdnService.getRawCdnLink(a)+"?t="+Date.now()}c.src=t,r++},3e3):(e[parseInt(s.split("_")[1],10)]=!1,this.errorLoadMixedAssets=!0,this.mixService2.trackPdfV2Error(a))},c.src=a}}else this.mixService.drawMixQuestionTS(null!==(g=this.exam_obj.labelsUrl)&&void 0!==g?g:"",p,this.exam_obj);return(null!==(f=this.exam_obj.limitAudio)&&void 0!==f?f:-1)>0?this.removeNullContent(this.addAudioObjsToQuestion(p)):this.removeNullContent(p)}addAudioObjsToQuestion(t){var e=[];return t.forEach(t=>{var i,n;if(t.attachmentsParse&&t.attachmentsParse.length>0){t.audioLimitObjs=[];let e=(null!==(i=this.exam_obj.limitAudio)&&void 0!==i?i:0)-(null!==(n=t.limitAudio)&&void 0!==n?n:0);if(e>0)for(var o=0;o<e;o++)t.audioLimitObjs.push({index:o,status:!0})}e.push(t)}),e}sendAudioForQuestion(t){for(var e,i,n,o,s,c=0;c<this.questionList.length;c++)this.questionList[c].id==(null===(e=t.obj)||void 0===e?void 0:e.id)&&(1==t.play?this.questionList[c].limitPlay=(null!==(i=this.questionList[c].limitPlay)&&void 0!==i?i:0)+1:(this.questionList[c].limitPlay=(null!==(n=this.questionList[c].limitPlay)&&void 0!==n?n:0)-1,this.questionList[c].limitAudio=(null!==(o=this.questionList[c].limitAudio)&&void 0!==o?o:0)+1,null===(s=this.questionList[c].audioLimitObjs)||void 0===s||s.forEach(e=>{e.index==t.index&&(e.status=!1)})));this.saveAudioLimitStorage()}saveAudioLimitStorage(){var t,e,i=[];this.questionList.forEach(t=>{t.attachmentsParse&&t.attachmentsParse.length>0&&i.push({questionId:t.id,limitTimes:t.limitAudio,limitPlay:t.limitPlay})}),i.length>0&&(this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(e=null===(t=this.exam_obj.id)||void 0===t?void 0:t.toString())&&void 0!==e?e:"",this.hashId),this.browserStorageService.saveSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(i)))}compareContent(t,e){return t.key==e.content}compareContentPDF(t,e){return t.content==e.content}fillData(t){var e,i,n,o,s,c,a,r,l,b,d,u,h,m,g,f,p;this.checkResultTracking(),this.userObj=2==this.exam_obj.whoAllow&&null!==(i=null===(e=t.data)||void 0===e?void 0:e.studentObj)&&void 0!==i?i:this.baseApiService.getUserObj(),this.totalTime=null!==(o=null===(n=t.data)||void 0===n?void 0:n.countDownSecond)&&void 0!==o?o:0,this.startTestTime=null!==(c=null===(s=t.data)||void 0===s?void 0:s.startServerSecond)&&void 0!==c?c:0;var v=this.commonService.parseJson(null!==(a=this.browserStorageService.getSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id))&&void 0!==a?a:"");if(this.hashIdUpdate=null!==(l=null===(r=t.data)||void 0===r?void 0:r.hashCodeUpload)&&void 0!==l?l:"",this.sendHashIdUpdate(this.hashIdUpdate),(null===(b=t.data)||void 0===b?void 0:b.hasOwnProperty("errorMessage"))&&t.data.errorMessage)this.hasErrorMessage=t.data.errorMessage,"lang_core_exam_password_invalid"==this.hasErrorMessage?this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"):"lang_core_exam_password_invalid"==this.hasErrorMessage&&""==this.password&&(this.hasErrorMessage="lang_core_exam_password_needed",this.openSubmitName(!1,this.hashId,!0)),this.stopStatusObj();else{this.hasErrorMessage="",(null!==(h=null===(u=null===(d=t.data)||void 0===d?void 0:d.examObj)||void 0===u?void 0:u.minutes)&&void 0!==h?h:-1)>0?this.unLimitTime=!1:(this.unLimitTime=!0,this.totalTime=1),this.validForTakeTest=!((null!==(g=null===(m=t.data)||void 0===m?void 0:m.countDownSecond)&&void 0!==g?g:1)<=0&&!this.unLimitTime);let e=this.commonService.castJsonToClassObjs(et.d,JSON.stringify(null===(f=t.data)||void 0===f?void 0:f.questionObjs));if(this.questionList=this.changeQuestionContent(null!=e?e:[]),this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0),this.docxService.replaceCanvasBackgroundTS(this.questionList),this.countQuestion=this.questionList.length,this.hasEssayQuestion=this.checkEssay(),this.syncData&&this.syncData.hasOwnProperty("datas")&&""!=this.syncData.datas){var x=this.commonService.parseJson(this.syncData.datas);null==v?(this.answerList=null!=x.answers?x.answers:[],this.noteList=null!=x.notes?x.notes:[],this.files=null!=x.files?this.commonService.parseJson(x.files):[],this.questionList=this.reBindDataQuestion(this.answerList)):x.saveTime<v.saveTime?(this.answerList=v.answers,this.noteList=v.notes,this.files=this.commonService.parseJson(v.files),this.questionList=this.reBindDataQuestion(this.answerList)):(this.answerList=x.answers,this.noteList=x.notes,this.files=this.commonService.parseJson(x.files),this.questionList=this.reBindDataQuestion(this.answerList))}else v&&(this.answerList=v.answers,this.noteList=v.notes,this.files=this.commonService.parseJson(v.files),this.questionList=this.reBindDataQuestion(this.answerList));this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(null!==(p=this.globalService.plusGlobalInterval("exam"))&&void 0!==p?p:0,"exam")),this.saveToStorage(this.answerList,this.noteList,this.files),this.setTimeClient()}}takeAnswerForQuestion(t,e){e.forEach(e=>{t.forEach(t=>{var i,n,o;if(t.questionId==e.id)if(this.answerTypeService.isFillAnswer(e.answerType)||this.answerTypeService.isEssayAnswer(e.answerType))e.choseAnswer=t.answerContent[0].content;else if((this.answerTypeService.isOneChoiceAnswer(e.answerType)||this.answerTypeService.isMultipleChoiceAnswer(e.answerType))&&e.answerConfigParse){var s=t.answerContent[0].index;e.choseAnswer=1==e.isImage?(null===(i=e.name)||void 0===i?void 0:i.startsWith("[PDFv2]"))?e.answerConfigParse[s].alpha?e.answerConfigParse[s].alpha:e.answerConfigParse[s].key:null===(o=null===(n=e.answerConfigParseVer1)||void 0===n?void 0:n[0].answerConfigV2)||void 0===o?void 0:o[s].content:e.answerConfigParse[s].alpha?e.answerConfigParse[s].alpha:e.answerConfigParse[s].key}})})}checkHiddenGroup(t,e){return t?!t.includes(null!=e?e:0):!this.firstInGroupIndexes.includes(null!=e?e:0)}reBindDataQuestion(t){var e=[];return this.questionList.forEach(i=>{t.forEach(t=>{var e;if(t.questionId==i.id){if(0==i.isImage){if(this.answerTypeService.isEssayAnswer(i.answerType))(o=t.answerContent&&t.answerContent.length>0?t.answerContent[0].content:"")&&(i.essayText=o);else if(this.answerTypeService.isEssayAnswer(i.answerType))(o=t.answerContent&&t.answerContent.length>0?t.answerContent[0].content:"")&&(i.essayText=o);else if(i.answerConfigParse)for(var n=0;n<i.answerConfigParse.length;n++){if(this.compareContent(i.answerConfigParse[n],t.answerContent&&t.answerContent.length>0?t.answerContent[0]:{index:0,content:""})){i.answerConfigParse[n].checked=!0;break}i.answerConfigParse[n].checked=!1}}else if(1==i.isImage&&(null===(e=i.name)||void 0===e?void 0:e.startsWith("[PDFv2]"))){if(this.answerTypeService.isEssayAnswer(i.answerType))(o=t.answerContent&&t.answerContent.length>0?t.answerContent[0].content:"")&&(i.essayText=o);else if(this.answerTypeService.isFillAnswer(i.answerType))(o=t.answerContent&&t.answerContent.length>0?t.answerContent[0].content:"")&&(i.essayText=o);else if(i.answerConfigParse)for(n=0;n<i.answerConfigParse.length;n++){if(this.compareContent(i.answerConfigParse[n],t.answerContent&&t.answerContent.length>0?t.answerContent[0]:{index:0,content:""})){i.answerConfigParse[n].checked=!0;break}i.answerConfigParse[n].checked=!1}}else if(this.answerTypeService.isEssayAnswer(i.answerType))(o=t.answerContent[0].content)&&(i.essayText=o);else if(this.answerTypeService.isFillAnswer(i.answerType)){var o;(o=t.answerContent[0].content)&&(i.essayText=o)}else if(i.answerConfigParse)for(n=0;n<i.answerConfigParse.length;n++){if(this.compareContentPDF(i.answerConfigParse[n],t.answerContent?t.answerContent[0]:{index:0,content:""})){i.answerConfigParse[n].checked=!0;break}i.answerConfigParse[n].checked=!1}i.status=!0}}),e.push(i)}),e}reBindNote(){this.noteList.forEach(t=>{if(Array.isArray(t.noteContent)){var e=t.noteContent[0].content;jQuery("#note_box_"+t.questionId).val(e),jQuery("#note_box_all_"+t.questionId).val(e)}})}approvedByName(t){var e,i={fullName:t.nameEmit,examHashId:null===(e=this.dataProcess.examObj)||void 0===e?void 0:e.hashId,classroomId:t.classId?t.classId:0};this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForExamPost(i).subscribe(t=>{var e;1==t.success?(this.getData(),this.chooseChildData={isPendingApproved:!1,isShow:!1}):this.showErrorSnack(null!==(e=t.message)&&void 0!==e?e:"")}))}openChooseStudent(t,e){var i,n,o;t.responseFrontExam&&1==e?(this.selectStudent=!1,this.selectClass=!0,this.chooseChildData={studentObjs:void 0,classObjs:t.responseFrontExam.classroomObjs,isPendingApproved:!1,isShow:!0},t.responseFrontExam.classroomObjs&&1==(null===(i=t.responseFrontExam.classroomObjs)||void 0===i?void 0:i.length)&&this.closeChooseStudent({classObj:null!==(o=null===(n=t.responseFrontExam.classroomObjs)||void 0===n?void 0:n[0])&&void 0!==o?o:{},studentObj:{},type:1,onlyOneClass:!0})):t.chooseStudentData&&2==e?(this.selectClass=!1,this.selectStudent=!0,this.chooseChildData={studentObjs:t.chooseStudentData.studentObjs,classObj:t.chooseStudentData.classroomObj,onlyOneClass:t.chooseStudentData.onlyOneClass,isPendingApproved:!1,isShow:!0}):t.student&&(this.selectClass=!1,this.selectStudent=!0,this.chooseChildData={studentObj:t.student,isPendingApproved:!0,isShow:!0})}closeChooseStudent(t){var e,i;if(1==t.type){var n=this.dataProcess.studentObjs,o=[];n&&n.length>0&&(o=n.filter(e=>{var i,n;return e.classroomId==(null!==(n=null===(i=t.classObj)||void 0===i?void 0:i.id)&&void 0!==n?n:0)})),this.openChooseStudent({chooseStudentData:{studentObjs:o,classroomObj:t.classObj,onlyOneClass:t.onlyOneClass},student:null,responseFrontExam:null},2)}else{var s=null===(e=this.userService)||void 0===e?void 0:e.getUserObj();0==t.studentObj.isVerified||1==t.classObj.freeChooseName?this.frontStudentService.apiFrontStudentAddStudentToClassForExamGet(null===(i=this.dataProcess.examObj)||void 0===i?void 0:i.hashId,t.classId,t.studentObj.id?t.studentObj.id:0).subscribe(t=>{1==t.success?(this.getData(),this.isAfterChooseStudent=!0,this.chooseChildData={isPendingApproved:!1,isShow:!1}):(this.isAfterChooseStudent=!1,this.showErrorSnack("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u"))}):s.id==t.studentObj.parentId?(this.getData(),this.chooseChildData={isPendingApproved:!1,isShow:!1}):this.sendRequestData={studentObj:t.studentObj,classId:t.classId,isShow:!0}}}confirmSendRequest(t){t?(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showSuccessSnack("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi cho Gi\xe1o vi\xean!")):(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showErrorSnack("Ch\u01b0a th\u1ec3 g\u1eedi y\xeau c\u1ea7u! Vui l\xf2ng th\u1eed l\u1ea1i"))}closeRequestDialog(){this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1}}backToClassList(){this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1)}setTimeExam(){var t;if((null!==(t=this.exam_obj.minutes)&&void 0!==t?t:-1)>0){var e=this.globalService.plusGlobalInterval("exam");this.intervalExamTimeout=window.setInterval(()=>{try{if(e==this.globalService.getGlobalInterval("exam")){const t=Math.floor(this.totalTime/3600),i=Math.floor(this.totalTime%3600/60),n=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(null!=e?e:0,"exam")),clearInterval(this.intervalExamTimeout)):this.timeCount=0==t&&0==i?{hour:t,minute:i,second:n,almostEnd:!0}:{hour:t,minute:i,second:n,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(t){console.log(t)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}}getTimeServer(){var t=this.globalService.plusGlobalInterval("examServerTime");this.intervalGetTimeServer=window.setInterval(()=>{try{t==this.globalService.getGlobalInterval("examServerTime")?this.subscriptions.add(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(e=>{var i,n,o;if(1==e.success){var s=60*(null!==(i=this.exam_obj.minutes)&&void 0!==i?i:0),c=null!==(o=null===(n=e.data)||void 0===n?void 0:n.curServerTime)&&void 0!==o?o:0;this.totalTime=this.startTestTime+s-c,Math.floor(this.totalTime/3600),Math.floor(this.totalTime%3600/60),this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(null!=t?t:0,"examServerTime")),clearInterval(this.intervalGetTimeServer))}})):clearInterval(this.intervalGetTimeServer)}catch(e){console.log(e)}},1e3*this.randomIntFromInterval(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}randomIntFromInterval(t,e){return Math.floor(Math.random()*(e-t+1)+t)}setTimeAutoSubmit(t,e){var i=this.totalTime+90,n=this.globalService.plusGlobalInterval("autoSubmitTimeCount");this.intervalAutoSubmit=window.setInterval(()=>{try{if(n!=this.globalService.getGlobalInterval("autoSubmitTimeCount")||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const o=Math.floor(i/3600),s=Math.floor(i%3600/60),c=i%60;i<=0?(this.timeCount={hour:0,minute:0,second:0},n!=this.globalService.getGlobalInterval("autoSubmitTimeCount")&&t!=this.globalService.getGlobalInterval(e)||this.checkSubmit||this.submitTest(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:o,minute:s,second:c},i-=1}}catch(o){console.log(o)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var t=this.globalService.plusGlobalInterval("getTimeClient");this.intervalTimeClient=window.setInterval(()=>{try{t==this.globalService.getGlobalInterval("getTimeClient")?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(e){console.log(e)}},1e3*this.randomIntFromInterval(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}setNote(t,e,i,n){for(var o={questionId:t,noteContent:[{index:i,content:e.target.value}]},s=0;s<this.noteList.length;s++)o.questionId==this.noteList[s].questionId?this.noteList[s].noteContent=o.noteContent:this.noteList.push(o);1==n?jQuery("#note_box_"+t).val(e.target.value):jQuery("#note_box_all_"+t).val(e.target.value),this.saveToStorage(this.answerList,this.noteList,this.files)}setAnswerTrueFalse(t){var e,i,n,o,s=this.answerList.filter(e=>e.questionId==t.id);if(t.answerConfig&&null!=t.index&&1==t.type){var c={questionId:t.id,answerContent:[{index:t.index,content:t.isImage?null!==(e=t.answerConfig.content)&&void 0!==e?e:"":null!==(i=t.answerConfig.key)&&void 0!==i?i:""}]};if(s&&s.length>0)for(var a=0;a<this.answerList.length;a++)this.answerList[a].questionId==c.questionId&&this.answerList[a].answerContent.push(c.answerContent[0]);else this.answerList.push(c);this.changeStatusAnswer(c,t.index,!0,t.isImage,t)}else if(t.answerConfig&&null!=t.index&&2==t.type){var r={questionId:t.id,answerContent:[{index:t.index,content:t.isImage?null!==(n=t.answerConfig.content)&&void 0!==n?n:"":null!==(o=t.answerConfig.key)&&void 0!==o?o:""}]};if(s&&s.length>0)for(a=0;a<this.answerList.length;a++)this.answerList[a].questionId==r.questionId&&(this.answerList[a].answerContent=r.answerContent);else this.answerList.push(r);this.changeStatusAnswer(r,t.index,!1,t.isImage,t)}this.changeStatusQuestion(t.id)}setAnswerEssay(t){var e=!0,i=this.answerList.filter(e=>e.questionId==t.id);if(t.event&&null!=t.index&&3==t.type)if(this.onTypingAnswer=!0,null!=t.event.target.value){var n={questionId:t.id,answerContent:[{index:t.index,content:t.event.target.value.trim()}]};if(i&&i.length>0){for(var o=0;o<this.answerList.length;o++)if(this.answerList[o].questionId==n.questionId){for(var s=0;s<this.answerList[o].answerContent.length;s++)this.answerList[o].answerContent[s].index==n.answerContent[0].index&&(this.answerList[o].answerContent[s].content=n.answerContent[0].content);var c=this.answerList[o].answerContent.filter(t=>t.index==n.answerContent[0].index);c&&0==c.length&&this.answerList[o].answerContent.push(n.answerContent[0])}this.onTypingAnswer=!1}else this.answerList.push(n),this.onTypingAnswer=!1;if(""==t.event.target.value.trim()){e=!1;var a=this.answerList.filter(e=>e.questionId==t.id);if(a&&1==a.length){var r=this.answerList.indexOf(a[0]);this.answerList.splice(r,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else e=!1;e&&this.changeStatusQuestion(t.id)}setResultTracking(t){var e,i;this.resultTracks.push([...t,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(i=null===(e=this.exam_obj.id)||void 0===e?void 0:e.toString())&&void 0!==i?i:"",this.hashId),this.browserStorageService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id,JSON.stringify(this.resultTracks))}changeStatusQuestion(t){for(var e=0;e<this.questionList.length;e++)this.questionList[e].id==t&&(this.questionList[e].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}changeStatusAnswer(t,e,i,n,o){if(i);else try{this.questionList.forEach(i=>{var s;if(i.id==t.questionId)if(n){if((null===(s=i.answerConfigParseVer1)||void 0===s?void 0:s[0].answerConfigV2)&&i.answerConfigParseVer1[0].answerConfigV2.length>0){for(var c=0;c<i.answerConfigParseVer1[0].answerConfigV2.length;c++)i.answerConfigParseVer1[0].answerConfigV2[c].checked=!1;i.answerConfigParseVer1[0].answerConfigV2[e].checked=!0,this.isMobile&&o.answerConfig&&this.commonService.snackChoiceAnswer("C\xe2u "+((i.index||0)+1)+" - Ch\u1ecdn "+(o.answerConfig.alpha?o.answerConfig.alpha:o.answerConfig.key),"")}}else if(i.answerConfigParse&&i.answerConfigParse.length>0){for(c=0;c<i.answerConfigParse.length;c++)i.answerConfigParse[c].checked=!1;i.answerConfigParse[e].checked=!0,this.isMobile&&o.answerConfig&&this.commonService.snackChoiceAnswer("C\xe2u "+((i.index||0)+1)+" - Ch\u1ecdn "+(o.answerConfig.alpha?o.answerConfig.alpha:o.answerConfig.key),"")}})}catch(s){console.log(s)}}saveToStorage(t,e,i){var n,o;try{var s={autoSubmit:void 0,serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()},c=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),a={answers:t,notes:e,files:JSON.stringify(i),infors:c,trackInfos:JSON.stringify(s),saveTime:(new Date).getTime()};this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(o=null===(n=this.exam_obj.id)||void 0===n?void 0:n.toString())&&void 0!==o?o:"",this.hashId),this.browserStorageService.saveSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(a))}catch(r){}}checkFullScreen(){switch(this.browserName){case"chrome":return document.fullscreenElement;case"edge":case"opera":return this.customDocument.webkitFullscreenElement;case"firefox":return document.fullscreenElement;case"safari":case"trident":default:return this.customDocument.webkitFullscreenElement}}handleFullscreenEvent(t){if(!this.isMobile&&!this.onShowUpload&&this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.startedTimeSecond>0&&!this.onTypingAnswer)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var e={examId:this.exam_obj.id,name:"exit_full_screen",examResultId:this.testingResultObj.id};this.acceptSendTrack=!1,this.subscriptions.add(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(e).subscribe(t=>{1==t.success?(this.commonService.snackWarning("B\u1ea1n \u0111ang b\u1ecb gi\xe1m s\xe1t. H\xe3y tr\u1edf l\u1ea1i ch\u1ebf \u0111\u1ed9 to\xe0n m\xe0n h\xecnh!",""),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}}detectBrowserName(){const t=navigator.userAgent.toLowerCase();return t.match(/chrome|chromium|crios/i)?"chrome":t.match(/firefox|fxios/i)?"firefox":t.match(/safari/i)?"safari":t.match(/opr\//i)?"opera":t.match(/edg/i)?"edge":"other"}clickFromIframe(){this.clickedFromIframe||(this.clickedFromIframe=!0)}goBackFullScreen(){const t=document.documentElement;let e=t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullscreen||t.msRequestFullscreen;e&&e.call(t)}exitFullscreen(){const t=document;if(window.innerHeight==screen.height){let e=t.exitFullscreen||t.webkitExitFullscreen||t.msExitFullscreen;e&&e.call(t)}}removeNullContent(t){var e=[];return t.forEach(t=>{t.questionContent&&t.questionContent.length>0&&e.push(t)}),e}removeImg(t){var e=this.files.filter(e=>e.url!==t);this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng \u0111\xednh k\xe8m file t\u1ef1 lu\u1eadn")})}updateFileUploadMobile(){return new Promise(t=>{let e={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(e).subscribe(e=>{1==e.success&&t(!0)})})}calcRight(){var t,e=0,i=window.outerWidth,n=null===(t=document.getElementById("container-content"))||void 0===t?void 0:t.offsetWidth;return n&&(e=(i-n)/2),e}checkWitdh(){this.isMobile=window.innerWidth<1200}onResize(t){this.isMobile=t.target.innerWidth<1200,this.calcRight()}resizeImg(t,e,i){var n,o=document.getElementById("media_content_"+t),s=null!==(n=null==o?void 0:o.offsetWidth)&&void 0!==n?n:0;return o?s/e<=1?Math.round(i*(s/e)):Math.round(i):0}resizeImgAll(t,e,i){var n,o=document.getElementById("media_content_all_"+t),s=null!==(n=null==o?void 0:o.offsetWidth)&&void 0!==n?n:0;return o?s/e<=1?Math.round(i*(s/e)):Math.round(i):0}returnFalse(){return!1}autoResize(t,e){var i;1==e?(i=document.getElementById("note_box_"+t))&&setTimeout(()=>{i.style.cssText="height:auto;",i.style.cssText="height:"+(i.scrollHeight+30)+"px",i.style.maxHeight="350px"},0):(i=document.getElementById("note_box_all_"+t))&&setTimeout(()=>{i.style.cssText="height:auto;",i.style.cssText="height:"+(i.scrollHeight+30)+"px",i.style.maxHeight="350px"},0)}autoResizeEssayAnswer(t){if(1==t.type)(e=document.getElementById("answer-1-unit-"+t.id))&&setTimeout(()=>{e.style.cssText="height:auto;",e.style.cssText="height:"+(e.scrollHeight+30)+"px"},0);else if(2==t.type)(e=document.getElementById("answer-0-unit-"+t.id))&&setTimeout(()=>{e.style.cssText="height:auto;",e.style.cssText="height:"+(e.scrollHeight+30)+"px"},0);else if(3==t.type)(e=document.getElementById("answer-1-all-"+t.id))&&setTimeout(()=>{e.style.cssText="height:auto;",e.style.cssText="height:"+(e.scrollHeight+30)+"px"},0);else{var e;(e=document.getElementById("answer-0-all-"+t.id))&&setTimeout(()=>{e.style.cssText="height:"+(e.scrollHeight-50)+"px",e.style.cssText="height:"+(e.scrollHeight+30)+"px"},0)}}checkEssay(){var t=this.questionList.filter(t=>this.answerTypeService.isEssayAnswer(t.answerType));return!!(t&&t.length>0)&&(this.checkEssayPopup&&this.openEssayDialog(),!0)}isEmpty(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}routerBackSelectStudent(){this.commonService.myNavigation("/de-thi/"+this.hashId)}redirectToHomepage(t){this.quitTestData={id:0,time:0,isShow:!1},t&&this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backtoLink))}goToBuyExam(){this.commonService.myNavigation("/de-thi/"+this.exam_obj.hashId)}openSubmitName(t,e,i,n){this.submitNameData=!t&&e&&i?{needPassword:i,isShow:!0,examId:this.exam_obj.id,hashId:e,errorMessage:n||""}:{notAnonymous:t,isShow:!0}}closeSubmitName(t){t&&(this.getData(),this.submitNameData={isShow:!1})}openShowInfo(t){this.showFormInfo={infoFields:t,examId:this.exam_obj.id,hashId:this.exam_obj.hashId,isShow:!0}}closeShowInfo(t){t.success&&(this.initStatusObj(),this.tempStorageInfo=t.info,this.hasErrorMessage="",this.getData(),this.showFormInfo={infoFields:[],isShow:!1})}openAutoMonitor(){this.dataMonitorAuto={isShow:!0}}closeAutoMonitor(t){var e,i,n,o,s;if(t){this.dataMonitorAuto={isShow:!1};const t=document.documentElement;let l=t.requestFullscreen||t.webkitRequestFullscreen||t.mozRequestFullscreen||t.msRequestFullscreen;if(l&&l.call(t),this.startedTimeSecond=Math.floor(Date.now()/1e3),this.exam_obj.autoMonitor&&3==this.exam_obj.autoMonitor){if(this.isAfterChooseStudent){var c=this.baseApiService.getUserObj(),a=this.userObj,r={};r[null!==(e=a.id)&&void 0!==e?e:0]=(null===(i=null==c?void 0:c.id)||void 0===i?void 0:i.toString())+"_"+this.encryptService.createMd5((null!==(n=a.id)&&void 0!==n?n:0).toString()+(null===(o=null==c?void 0:c.id)||void 0===o?void 0:o.toString())).substring(6,9),this.fireStoreService.examSessions_writeUserMap(null!==(s=this.exam_obj.hashId)&&void 0!==s?s:"",r).subscribe(t=>{console.log("writeFirestore - success"+JSON.stringify(t))})}this.openVideoMonitor()}}}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(t){t&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1)}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(t,e,i){this.quitTestData.isShow||(this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:e,saveFalse:i}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:e,saveFalse:i})}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(t){var e;t.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),t.isConfirm&&!this.checkSubmit&&this.submitTest(null!==(e=t.isAutoSubmit)&&void 0!==e&&e)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backtoLink))}endTimeSubmitBtn(){this.submitTest(!0)}openUploadImage(){var t=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.checkMobile(),isShow:!0}:{id:this.exam_obj.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.checkMobile(),isShow:!0},t&&(t.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1)}conFirmUpload(t){var e,i=document.getElementById("monitorScreenTakeTest");"boolean"!=typeof t&&t.isConfirm?(this.files=null!==(e=t.uploadFiles)&&void 0!==e?e:[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.saveToStorage(this.answerList,this.noteList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.onShowUpload=!1),i&&(i.style.display="block")}onSelectFileEmit(t){this.onShowUpload=t}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(t){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},t.file),{index:t.index})}changesPosImg(t){t&&(this.files=t,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng \u0111\xednh k\xe8m file t\u1ef1 lu\u1eadn")}))}sendHashIdUpdate(t){t&&(this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(t).subscribe(t=>{var e,i,n,o,s,c;if(1==t.success&&this.commonService.isJson(null!==(n=null===(i=null===(e=t.data)||void 0===e?void 0:e.tmpObj)||void 0===i?void 0:i.files)&&void 0!==n?n:"")){var a=JSON.parse(null!==(c=null===(s=null===(o=t.data)||void 0===o?void 0:o.tmpObj)||void 0===s?void 0:s.files)&&void 0!==c?c:"");a.isNotNoti=!0,this.addFileMobileUpload({files:a})}}),this.commonService.gaEvent("FrontExam_GetTmpExamObj"))}addFileMobileUpload(t){var e;this.files=null!==(e=t.files)&&void 0!==e?e:[],this.uploadImageData={id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.checkMobile(),isShow:!!t.keepOpen}}submitTest(t){this.initStatusObj();var e=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),i=this.commonService.myClone(this.resultTracks);let n=JSON.stringify({type:"exam",id:this.exam_obj.id,user:this.exam_obj.tenantId});var o={autoSubmit:t,serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()};this.checkSubmit=!0;let s={answers:this.answerList,notes:null==this.noteList?[]:this.noteList,files:JSON.stringify(this.files),infors:e,trackInfos:JSON.stringify(o),resultTrack:this.zipdataService.convertContentGzip(JSON.stringify(i))};this.subscriptions.add(this.frontExamResultService.apiFrontExamResultSaveObjV2Post(s,n,this.hashId).subscribe(e=>{var i,n,o;if(1==e.success){this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.exam_obj.hashId+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.exam_obj.hashId+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.exam_obj.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.exam_obj.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.exam_obj.hashId+"_"+(null===(i=e.data)||void 0===i?void 0:i.id),JSON.stringify(e.data));try{this.localStorageObjetct.clearAllCache(),this.exitFullscreen(),aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession()}catch(s){}this.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+(null===(n=e.data)||void 0===n?void 0:n.id),"?backto="+encodeURIComponent(this.backtoLink))}else this.errorStatusObj(null!==(o=e.message)&&void 0!==o?o:"",!0),t&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,t,!0)),this.submitData.messageError=e.message,setTimeout(()=>{this.checkSubmit=!1},5e3)})),this.commonService.gaEvent("FrontExam_SaveObj")}clearAllInterval(){for(var t=this.globalService.getIntervalObjs(),e=0;e<t.length;e++)clearInterval(t[e]);this.globalService.emptyIntervalObjs()}changeShowType(t){1==t?(this.showUnit=!1,this.showList=!0):(this.showUnit=!0,this.showList=!1)}showSheet(t,e){t?this.changeShowType(1==e?1:2):this.isShowSheet=!this.isShowSheet}askBeforeCloseWindow(t){return t.returnValue=!1}toggleNoteBox(t){jQuery("#note_box_"+t).hasClass("d-block")?jQuery("#note_box_"+t).removeClass("d-block"):jQuery("#note_box_"+t).addClass("d-block")}toggleNoteBoxAll(t){jQuery("#note_box_all_"+t).hasClass("d-block")?jQuery("#note_box_all_"+t).removeClass("d-block"):jQuery("#note_box_all_"+t).addClass("d-block")}prevQuestion(t){var e=jQuery("#question_"+String(t)),i=jQuery("#question_"+String(t-1));void 0!==i.attr("hidden")&&!1!==i.attr("hidden")&&(e.attr("hidden",!0),i.removeAttr("hidden"),this.curQuestion=0==t?0:t-1)}nextQuestion(t){var e=jQuery("#question_"+String(t)),i=jQuery("#question_"+String(t+1));void 0!==i.attr("hidden")&&!1!==i.attr("hidden")&&(e.attr("hidden",!0),i.removeAttr("hidden"),this.curQuestion=t==this.questionList.length-1?t:t+1)}goToQuestion(t){var e=jQuery("#question_"+String(this.curQuestion)),i=jQuery("#question_"+String(t));void 0!==i.attr("hidden")&&!1!==i.attr("hidden")&&(e.attr("hidden",!0),i.removeAttr("hidden"),this.curQuestion=t)}goToQuestionAll(t){var e=document.getElementById("question_all_"+t),i=document.getElementById("question_ui");this.files&&this.files.length>0?window.scrollTo({top:Number(null==e?void 0:e.offsetTop)+Number(null==i?void 0:i.offsetTop)-5}):window.scrollTo({top:Number(null==e?void 0:e.offsetTop)-5})}checkResultTracking(){let t=this.browserStorageService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id);t&&(this.resultTracks=this.commonService.parseJson(t))}openVideoMonitor(){var t=this.baseApiService.getUserObj(),e=this.userObj;aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var i={user:{token:t.rememberToken,userid:t.id,username:t.fullName,studentid:e?e.id:0,studentname:e?e.fullName:null},config:{domainApi:it.a.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreenTakeTest",examconfig:this.exam_obj,examid:this.exam_obj.id,firebaseApp:this.fireStoreService,resultid:this.testingResultObj.id,isStarted:!0,clickFromIframeFunc:this.clickFromIframe,clickFromIframeFuncCaller:this};aztExam.MonitorStudent.getInstance().startSession(i)}}))}makeDeviceId(t=10){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=i.length,o=0;o<t;o++)e+=i.charAt(Math.floor(Math.random()*n));return e}getDeviceId(){var t=this.browserStorageService.getSimpleStorage("device_session");t?this.deviceId=t:(this.deviceId=this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId))}ngOnInit(){jQuery("#azota-app-html").addClass("azotaHtml"),this.form=this.fb.group({searchContent:new o.h("",o.A.required)}),this.checkWitdh(),this.browserName=this.detectBrowserName(),Object(x.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var t,e,i=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),n=null===(t=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===t?void 0:t.toString(),o=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));this.backtoLink=null!==(e=this.commonService.getMyQueryParam("backto"))&&void 0!==e?e:"",this.curCateId=i,this.hashId=n||"",this.tenantId=o,this.homeLink="/student/dashboard/0",this.getDeviceId(),this.initStatusObj(),this.getData(),this.isMobile&&(this.userAgent=navigator.userAgent),this.backLink=""}),super.ngOnInit()}ngOnDestroy(){this.mixService.cancelSubscription(),jQuery("#azota-app-html").removeClass("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient);for(var t=this.globalService.getIntervalObjs(),e=0;e<t.length;e++)clearInterval(t[e]);this.globalService.emptyIntervalObjs(),aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(o.g),g.Pb(c.a),g.Pb(f.a),g.Pb(Pt.a),g.Pb(Et.a),g.Pb(jt.a),g.Pb(Rt.a),g.Pb(Ft.a),g.Pb(At.a),g.Pb(qt.a),g.Pb(Lt.a),g.Pb(zt.a),g.Pb(Qt.a),g.Pb($t.a),g.Pb(w.a),g.Pb(Nt.a),g.Pb(_.F),g.Pb(_.L),g.Pb(Wt.a),g.Pb(_.C),g.Pb(_.E),g.Pb(_.D),g.Pb(et.a),g.Pb(Ht),g.Pb(Bt.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-student-list"]],viewQuery:function(t,e){if(1&t&&g.cd(ks,!0,Mt),2&t){let t;g.zc(t=g.dc())&&(e.modalSaveImageUpload=t.first)}},hostBindings:function(t,e){1&t&&g.cc("beforeunload",function(t){return e.askBeforeCloseWindow(t)},!1,g.Dc)},features:[g.Ab],decls:8,vars:8,consts:[[3,"resize","contextmenu"],["id","container-content",1,"container-fluid","MW-1400","pb-5",2,"position","relative",3,"ngClass","resize"],[4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],[3,"data","closeEssayDialog",4,"ngIf"],["doneLoading",""],[3,"data","closeDialog"],[3,"data","closeEssayDialog"],[3,"fileOption","closePreview",4,"ngIf"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"customText",4,"ngIf","ngIfElse"],["class","p-5 m-5 text-center alert alert-danger",4,"ngIf"],[3,"fileOption","closePreview"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],["style","padding-bottom: 50px",4,"ngIf","ngIfElse"],["NormalContent",""],[1,"time-client",3,"ngClass"],[1,"mb-0","text-center"],["matTooltip","\u0110\xe2y l\xe0 th\u1eddi gian hi\u1ec7n t\u1ea1i tr\xean thi\u1ebft b\u1ecb c\u1ee7a b\u1ea1n!",2,"vertical-align","middle","font-weight","450","color","grey"],[2,"padding-bottom","50px"],[1,"text-center","margin_question_bar","ml-3","mr-3","mb-3","pb-4"],[1,"text-center"],[1,"h4",2,"color","#111"],[1,"h5"],[1,"d-flex","justify-content-center"],[1,"h5","mr-3"],[2,"vertical-align","bottom"],["class","h5",4,"ngIf"],[2,"color","#111","font-size","14px","font-weight","450","margin-top","10px"],["class","p-3 m-2 text-center alert alert-warning",4,"ngIf"],["class","p-3 m-3 alert alert-danger",4,"ngIf"],[1,"text-center","mt-2"],[1,"btn","btn-light","mr-4",2,"color","#111","font-size","14px",3,"click"],[1,"btn","btn-warning",2,"color","white","font-size","14px",3,"click"],[1,"text-center","mt-3"],["class","mt-1 ml-3 mr-3",4,"ngIf"],[1,"p-3","m-2","text-center","alert","alert-warning"],[1,"ng-binding"],[1,"p-3","m-3","alert","alert-danger"],[1,"mt-1","ml-3","mr-3"],["label","Tr\u1eafc nghi\u1ec7m"],["class","mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mb-3","mt-2"],[1,"question-content"],[1,"box-slide-show","pt-2"],["class","image_group mb-3",4,"ngIf"],["class","game-bar text-center pt-2",4,"ngIf"],["class","game-bar pt-2",4,"ngIf"],[1,"answer-box","ml-auto","mr-auto"],["class","answer-content",4,"ngIf"],[1,"image_group","mb-3"],[3,"imgSrc"],[1,"game-bar","text-center","pt-2"],[3,"imgSrc",4,"ngIf"],["alt","question media",1,"img-fluid","img_respon",3,"src"],[1,"game-bar","pt-2"],[2,"font-weight","450","font-size","24px","text-align","left"],[1,"contentDocx","text-justify"],[2,"font-size","21px","align-self","center","vertical-align","middle","line-height","1.4",3,"innerHtml"],[1,"row","mt-1","justify-content-around"],["class","col-sm-6 col-md-6 d-flex",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-6","d-flex"],[2,"vertical-align","middle","font-size","22px","font-weight","500","align-self","center"],[1,"answer-content"],[1,"h5","mb-0","mr-2","text-white",2,"align-self","center"],["class","answer-review","style","background-color: rgba(243, 156, 18, 1); color: rgb(255, 255, 255)",4,"ngIf"],[4,"ngIf"],[1,"answer-review",2,"background-color","rgba(243, 156, 18, 1)","color","rgb(255, 255, 255)"],[2,"color","#cd1324","font-weight","450"],[1,"row",2,"width","80%",3,"ngClass"],[1,"col-sm-12","mb-1"],["class","form-control mt-1","readonly","",3,"id","focus",4,"ngIf"],["readonly","",1,"form-control","mt-1",3,"id","focus"],[3,"label"],["class","text-center mt-1 mb-1",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","previewFile","removeFile"],[1,"text-center","mt-1","mb-1"],[1,"h6","mb-1","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],["class","row pl-0 pr-0 top_toolBar pt-2",3,"ngClass",4,"ngIf"],[3,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],[1,"row","pl-0","pr-0","top_toolBar","pt-2",3,"ngClass"],[1,"col-12","col-md-3","col-lg-3","mb-1"],["class","row",4,"ngIf"],["class","row clickable",3,"click",4,"ngIf"],["class","col-12 col-md-3 col-lg-3 mb-1 text-center align-self-center",4,"ngIf"],["class","col-12 col-md-6 col-lg-6 mb-1",4,"ngIf"],[1,"row"],[2,"padding","6px 0px 5px 15px"],[2,"font-size","25px","color","rgba(0, 167, 208, 1)"],["style","padding: 10px",3,"ngClass",4,"ngIf"],["style","padding: 10px",4,"ngIf"],[2,"padding","10px",3,"ngClass"],[2,"padding","10px"],[1,"row","clickable",3,"click"],[2,"color","rgba(0, 167, 208, 1)"],[2,"align-self","center","margin-bottom","2px"],[2,"color","#347da5"],[1,"col-12","col-md-3","col-lg-3","mb-1","text-center","align-self-center"],["style","vertical-align: middle; margin: auto",4,"ngIf"],[2,"vertical-align","middle","margin","auto"],[1,"col-12","col-md-6","col-lg-6","mb-1"],[1,"d-flex","justify-content-end","toolBar"],["class","btn btn-info mr-2","style","font-size: 13px",3,"click",4,"ngIf"],[1,"mr-2","d-flex"],["matTooltip","Xem t\u1ea5t c\u1ea3 c\xe2u h\u1ecfi",1,"mb-auto","mt-auto","clickable",3,"click"],[2,"vertical-align","middle"],["matTooltip","Xem t\u1eebng c\xe2u \u0111\u01a1n",1,"ml-1","mb-auto","mt-auto","clickable",3,"click"],[1,"btn","btn-light","mr-1",2,"font-size","13px",3,"click"],["class","btn btn-info mr-1","style","font-size: 13px",3,"click",4,"ngIf"],[1,"btn","btn-warning",2,"color","white","font-size","13px",3,"click"],[1,"btn","btn-info","mr-2",2,"font-size","13px",3,"click"],[1,"btn","btn-info","mr-1",2,"font-size","13px",3,"click"],[3,"dataClass","isSearchTeacher","isMobile","selectClassroom"],[3,"data","showAddStudent","isSearchTeacher","back_link","isMobile","selectChild","approvedByName","backToClass"],[3,"data","confirmSend","closeDialog",4,"ngIf"],[3,"data","confirmSend","closeDialog"],["class","margin_question_bar pb-4",4,"ngIf"],[1,"margin_question_bar","pb-4"],[1,"alert","alert-danger"],[3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],[3,"routerLink"],[3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","previewFile","removeFile"],["id","monitorScreenTakeTest",1,"align-self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[3,"hasErrorMessage","hasEssayQuestion","exam_obj","firstInGroupIndexes","timeCount","questionList","homeLink","files","showUnit","isMobile","showList","unLimitTime","isShowSheet","countQuestion","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","removeImgEmitter","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","autoResizeEssayAnswerEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmitToParent",4,"ngIf"],[3,"hasErrorMessage","hasEssayQuestion","exam_obj","firstInGroupIndexes","timeCount","questionList","homeLink","files","showUnit","isMobile","showList","unLimitTime","isShowSheet","countQuestion","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","removeImgEmitter","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","autoResizeEssayAnswerEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmitToParent"],["class","box-show-sheet",3,"hidden",4,"ngIf"],[1,"box-show-sheet",3,"hidden"],[1,"show-sheet"],[1,"sheet_content","text-center","mt-3"],[1,"h5","mb-0","disable-select"],[1,"listda",2,"padding-left","5px","margin-top","15px"],["class","listli","style","margin-bottom: 5px",3,"click",4,"ngFor","ngForOf"],[1,"listli",2,"margin-bottom","5px",3,"click"],["class","no-answered","style","background: #fff; color: #111",4,"ngIf"],["class","no-answered","style","background-color: rgba(60, 141, 188, 1); color: rgb(255, 255, 255)",4,"ngIf"],[1,"no-answered",2,"background","#fff","color","#111"],[1,"no-answered",2,"background-color","rgba(60, 141, 188, 1)","color","rgb(255, 255, 255)"],[1,"top_action"],[1,"row","justify-content-between","ml-0","mr-0"],[1,"col-2","align-self-center"],[1,"clickable",2,"color","#fff",3,"click"],["class","col-6 text-center align-self-center pl-0 pr-0",4,"ngIf"],[1,"col-4","pl-0","pr-1","text-right","align-self-center",3,"ngClass"],[2,"vertical-align","top","line-height","1.8"],[1,"bottom_action"],[1,"collapse",3,"hidden"],[1,"card","card-body","mb-2",2,"padding","5px 0px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-1"],[1,"listda","mt-1","pl-1"],["class","listli mb-1",3,"click",4,"ngFor","ngForOf"],[1,"row","justify-content-between","clickable",3,"click"],[1,"col-3","d-flex","pr-1","menu-control"],["matTooltip","Xem t\u1ea5t c\u1ea3 c\xe2u h\u1ecfi",1,"mb-auto","mt-auto","mr-1","clickable",3,"click"],[2,"vertical-align","middle","color","#fff"],["matTooltip","Xem t\u1eebng c\xe2u \u0111\u01a1n",1,"ml-2","mb-auto","mt-auto","clickable",3,"click"],[1,"col-5","pl-0","pr-0","text-center","align-self-center"],[1,"mb-0","clickable"],["style","vertical-align: middle; color: #fff",4,"ngIf"],["class","col-4 text-right pl-0 align-self-center",3,"ngClass",4,"ngIf"],["class","col-6 text-center pl-0 pr-1 align-self-center",4,"ngIf"],[1,"col-6","text-center","align-self-center","pl-0","pr-0"],[1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],[1,"listli","mb-1",3,"click"],[1,"col-4","text-right","pl-0","align-self-center",3,"ngClass"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","16px","font-size","20px","font-weight","500","margin-right","5px"],[1,"col-6","text-center","pl-0","pr-1","align-self-center"],[1,"text-white","clickable",2,"vertical-align","middle","font-size","20px","font-weight","500","margin-right","2px"],[1,"ng-binding",2,"font-size","12px"],[3,"customText"],[1,"p-5","m-5","text-center","alert","alert-danger"]],template:function(t,e){if(1&t&&(g.Vb(0,"div",0),g.cc("resize",function(t){return e.handleFullscreenEvent(t)},!1,g.Dc)("contextmenu",function(){return e.returnFalse()}),g.Vb(1,"div",1),g.cc("resize",function(t){return e.onResize(t)},!1,g.Dc),g.Rc(2,Ds,1,0,"azt-loading-effect",2),g.Rc(3,Ms,1,1,"app-submit-info",3),g.Rc(4,Ps,1,1,"app-monitor-screen",3),g.Rc(5,Es,1,1,"app-check-essay",4),g.Rc(6,Zc,6,5,"ng-template",null,5,g.Sc),g.Ub(),g.Ub()),2&t){const t=g.Ac(7);g.Db(1),g.nc("ngClass",g.tc(6,ta,e.isMobile)),g.Db(1),g.nc("ngIf",e.statusObj.loading)("ngIfElse",t),g.Db(1),g.nc("ngIf",e.showFormInfo.isShow&&e.validForTakeTest),g.Db(1),g.nc("ngIf",e.dataMonitorAuto.isShow&&e.validForTakeTest),g.Db(1),g.nc("ngIf",e.dataEssayPopup.isShow&&e.validForTakeTest)}},directives:[n.k,n.m,S.a,be,ge,xe,we.a,Mt,dt.a,k.a,k.b,D.a,_e.b,_e.a,n.l,ye.a,Ce,Ae,ii,wi,_i.a,yi.a,Si.a,c.k,Ts],pipes:[n.e,ht.u,ht.q,ht.r,ht.x,ht.z,h.d],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.box-slide-show[_ngcontent-%COMP%]{background:inherit;background-color:#fff;border-radius:3px 3px 0 0;padding-bottom:20px;padding-right:15px;padding-left:15px;border:1px solid #e7e7e7;border-bottom:none}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin-left:0;margin-right:0;right:0;width:100%;background-color:#fff;z-index:3}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.col-game-bar[_ngcontent-%COMP%]{position:fixed;top:calc(2rem + 30px);right:calc(100vw - 90vw);max-width:180px}.sheet-Screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-Screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-show-sheet[_ngcontent-%COMP%]{margin-top:14px!important;width:75%;margin:auto;background:inherit;background-color:#fff;border:1px solid #e7e7e7;border-radius:5px}.disable-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.question-content[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{right:10px}.next_question_btn[_ngcontent-%COMP%], .prev_question_btn[_ngcontent-%COMP%]{position:absolute;top:35%;padding:.35rem .45rem;background-color:rgba(163,165,166,.4392156862745098);border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{left:10px}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important}.arrow_btn[_ngcontent-%COMP%], .button-note[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.button-note[_ngcontent-%COMP%]{position:relative;display:flex}.list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s ease 0s 1 both}.list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.note-box[_ngcontent-%COMP%]{display:none;background-color:#f7f3cf;margin-bottom:5px;min-height:30px}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{background:#00a7d0;border-radius:0 0 3px 3px;color:#fff;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:5px;right:5px}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:timeCount 1s}.answer-review[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid #347da5;display:flex;color:#fff;-webkit-user-select:none;user-select:none}.answer-review[_ngcontent-%COMP%], .time-client[_ngcontent-%COMP%]{align-items:center;justify-content:center;font-size:15px}.time-client[_ngcontent-%COMP%]{border-radius:5px;background-color:hsla(0,0%,100%,.3411764705882353);padding:2px 3px;max-width:200px;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:10px;left:75px}.time-client-mobile[_ngcontent-%COMP%]{bottom:54px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}@keyframes timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width:1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width:768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}"]}),t})();var ia=i("7Fxy"),na=i("r/3a");let oa=(()=>{class t{isInIframe(){try{return window.self!==window.top}catch(t){return!0}}sendMessageToParentIframe(t){try{window.parent.postMessage(t,"*")}catch(e){}}sendMessageToIFrame(t,e){const i=document.getElementById(t),n=i?i.contentWindow:null;null!=n&&n.postMessage(e,"*")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=g.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var sa=i("uZ1F");function ca(t,e){if(1&t&&g.Qb(0,"header-frontend",4),2&t){const t=g.gc();g.nc("headerTitle","Danh s\xe1ch \u0111\u1ec1 thi")("back_link",t.back_link)}}function aa(t,e){1&t&&g.Qb(0,"azt-loading-effect")}const ra=function(t,e){return{active:t,"text-primary":e}},la=function(t){return{clickable:t}},ba=function(t){return{"truncate-bread":t}};function da(t,e){if(1&t){const t=g.Wb();g.Vb(0,"li",17),g.Vb(1,"a",18),g.cc("click",function(){g.Ec(t);const i=e.$implicit;return g.gc(2).goBackParent(i.id?i.id:0)}),g.Vb(2,"span",19),g.Tc(3),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=e.$implicit,i=g.gc(2);g.nc("ngClass",g.uc(5,ra,t.id!=i.cur_cateId,t.id!=i.cur_cateId)),g.Db(1),g.nc("ngClass",g.tc(8,la,t.id!=i.cur_cateId)),g.Db(1),g.oc("matTooltip",t.name),g.nc("ngClass",g.tc(10,ba,t.id!=i.cur_cateId)),g.Db(1),g.Uc(t.name)}}function ua(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",20),g.cc("click",function(){g.Ec(t);const i=e.$implicit;return g.gc(2).cateDetail(i)}),g.Vb(1,"mat-card",21),g.Vb(2,"div",22),g.Vb(3,"div",23),g.Qb(4,"img",24),g.hc(5,"convertCdn"),g.Vb(6,"div",25),g.Vb(7,"p",26),g.Tc(8),g.hc(9,"slice"),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=e.$implicit;g.Db(4),g.nc("src",g.ic(5,2,"azota_assets/images/folder_img.png"),g.Ic),g.Db(4),g.Vc(" ",t.name&&t.name.length>100?g.kc(9,4,t.name,0,99)+"..":t.name,"")}}function ha(t,e){if(1&t&&(g.Vb(0,"div",35),g.Vb(1,"span",38),g.Tc(2," \u0110\u1ed9 kh\xf3: "),g.Vb(3,"span"),g.Tc(4),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(4),g.Uc(t.hardLevel)}}function ma(t,e){if(1&t&&(g.Vb(0,"div",35),g.Vb(1,"span",39),g.Tc(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Vb(3,"span"),g.Tc(4),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(4),g.Uc(t.mark)}}function ga(t,e){if(1&t){const t=g.Wb();g.Vb(0,"a",31),g.cc("click",function(){g.Ec(t);const e=g.gc().$implicit;return g.gc(2).redirectToExamDetail(e.hashId?e.hashId:"")}),g.Vb(1,"mat-card",21),g.Vb(2,"div",32),g.Vb(3,"div",22),g.Vb(4,"div",33),g.Qb(5,"img",34),g.hc(6,"convertCdn"),g.Vb(7,"div",35),g.Vb(8,"p",36),g.Tc(9),g.hc(10,"slice"),g.Ub(),g.Ub(),g.Rc(11,ha,5,1,"div",37),g.Vb(12,"div",35),g.Vb(13,"span",38),g.Vb(14,"span"),g.Tc(15),g.Ub(),g.Tc(16," l\u01b0\u1ee3t l\xe0m \u0111\u1ec1 "),g.Ub(),g.Ub(),g.Rc(17,ma,5,1,"div",37),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc().$implicit,e=g.gc(2);g.oc("target",e.target),g.Db(5),g.nc("src",g.ic(6,7,"azota_assets/images/u205.svg"),g.Ic),g.Db(3),g.oc("matTooltip",t.name),g.Db(1),g.Vc(" ",t.name&&t.name.length>100?g.kc(10,9,t.name,0,99)+"..":t.name," "),g.Db(2),g.nc("ngIf",t.hardLevel),g.Db(4),g.Uc(t.attended),g.Db(2),g.nc("ngIf",null!=t.mark)}}function fa(t,e){if(1&t&&(g.Vb(0,"div",35),g.Vb(1,"span",38),g.Tc(2," \u0110\u1ed9 kh\xf3: "),g.Vb(3,"span"),g.Tc(4),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(4),g.Uc(t.hardLevel)}}function pa(t,e){if(1&t&&(g.Vb(0,"div",35),g.Vb(1,"span",39),g.Tc(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Vb(3,"span"),g.Tc(4),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(4),g.Uc(t.mark)}}function va(t,e){if(1&t&&(g.Vb(0,"a",40),g.Vb(1,"mat-card",21),g.Vb(2,"div",32),g.Vb(3,"div",22),g.Vb(4,"div",33),g.Qb(5,"img",34),g.hc(6,"convertCdn"),g.Vb(7,"div",35),g.Vb(8,"p",36),g.Tc(9),g.hc(10,"slice"),g.Ub(),g.Ub(),g.Rc(11,fa,5,1,"div",37),g.Vb(12,"div",35),g.Vb(13,"span",38),g.Vb(14,"span"),g.Tc(15),g.Ub(),g.Tc(16," l\u01b0\u1ee3t l\xe0m \u0111\u1ec1 "),g.Ub(),g.Ub(),g.Rc(17,pa,5,1,"div",37),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc().$implicit,e=g.gc(2);g.oc("target",e.target),g.nc("href","/de-thi/"+t.hashId,g.Ic),g.Db(5),g.nc("src",g.ic(6,8,"azota_assets/images/u205.svg"),g.Ic),g.Db(3),g.oc("matTooltip",t.name),g.Db(1),g.Vc(" ",t.name&&t.name.length>100?g.kc(10,10,t.name,0,99)+"..":t.name," "),g.Db(2),g.nc("ngIf",t.hardLevel),g.Db(4),g.Uc(t.attended),g.Db(2),g.nc("ngIf",null!=t.mark)}}function xa(t,e){if(1&t&&(g.Vb(0,"div",41),g.Tc(1," Gi\xe1 \u0111\u1ec1 thi: "),g.Vb(2,"span",42),g.Tc(3),g.Ub(),g.Tc(4," Azo "),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(3),g.Vc("",null!=t.price?t.price:0," ")}}function wa(t,e){if(1&t&&(g.Vb(0,"div",27),g.Rc(1,ga,18,13,"a",28),g.Rc(2,va,18,14,"a",29),g.Rc(3,xa,5,1,"div",30),g.Ub()),2&t){const t=e.$implicit,i=g.gc(2);g.Db(1),g.nc("ngIf","_blank"!=i.target),g.Db(1),g.nc("ngIf","_blank"==i.target),g.Db(1),g.nc("ngIf",null!=t.price&&0!=t.price)}}function _a(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",5),g.Vb(1,"div",6),g.Vb(2,"ol",7),g.Vb(3,"li",8),g.Vb(4,"a",9),g.cc("click",function(){return g.Ec(t),g.gc().backToAllCate()}),g.Tc(5,"All"),g.Ub(),g.Ub(),g.Rc(6,da,4,12,"li",10),g.Ub(),g.Ub(),g.Ub(),g.Vb(7,"div"),g.Vb(8,"div",11),g.Vb(9,"div",12),g.Rc(10,ua,10,8,"div",13),g.Rc(11,wa,4,3,"div",14),g.Ub(),g.Vb(12,"div",15),g.Vb(13,"azt-paging",16),g.cc("SendPage",function(e){return g.Ec(t),g.gc().goToPage(e)}),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc();g.Db(6),g.nc("ngForOf",t.listBreadcrumb),g.Db(4),g.nc("ngForOf",t.cateObjs),g.Db(1),g.nc("ngForOf",t.examObjs),g.Db(2),g.nc("lengthPage",t.total_page)("paging",t.cur_page)}}let ya=(()=>{class t extends m.a{constructor(t,e,i,n,s,c,a){super(i),this.fb=t,this.activeRoute=e,this.commonService=i,this.frontExamCategoryService=n,this.frontExamPageService=s,this.iframeService=c,this.globalService=a,this.subscriptions=new C.a,this.form=new o.k({}),this.cur_page=1,this.start_page=1,this.end_page=1,this.show_pages=[],this.total_page=1,this.item_per_page=18,this.limit_page=5,this.cur_cateId=0,this.tenantId=1,this.totalExam=0,this.totalObjs=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.back_link="",this.isInIframe=!1,this.target="",this.contentHeight=0,this.backToLink=""}getListParentCate(){this.subscriptions.add(this.frontExamCategoryService.apiFrontExamCategoryGetBreadcrumbsGet(this.tenantId,this.cur_cateId).subscribe(t=>{var e,i,n;1==t.success?this.listBreadcrumb=null!==(i=null===(e=t.data)||void 0===e?void 0:e.objs)&&void 0!==i?i:new Array:this.errorStatusObj(null!==(n=t.message)&&void 0!==n?n:"",!0)}))}getData(){this.back_link=0!=this.cur_cateId?"/test/category/"+this.tenantId+"/0/"+this.cur_page:"/student/dashboard/0";var t=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.cur_page=t=t>0?t:1,this.initStatusObj(),this.subscriptions.add(this.frontExamPageService.apiFrontExamPageGetObjsGet(this.tenantId,this.cur_cateId>0?this.cur_cateId:0,this.cur_page).subscribe(t=>{var e,i,n,o,s,c,a,r,l;if(1==t.success){this.cateObjs=null!==(i=null===(e=t.data)||void 0===e?void 0:e.categoryObjs)&&void 0!==i?i:new Array,this.examObjs=null!==(o=null===(n=t.data)||void 0===n?void 0:n.examObjs)&&void 0!==o?o:new Array,this.totalObjs=null!==(c=null===(s=t.data)||void 0===s?void 0:s.total)&&void 0!==c?c:0,this.totalExam=null!==(r=null===(a=t.data)||void 0===a?void 0:a.totalExam)&&void 0!==r?r:0,this.total_page=this.totalObjs%this.item_per_page>0?(this.totalObjs-this.totalObjs%this.item_per_page)/this.item_per_page+1:this.totalObjs>0?this.totalObjs/this.item_per_page:1,this.start_page=this.cur_page-this.limit_page>=1?this.cur_page-this.limit_page:1,this.end_page=this.start_page+2*this.limit_page>this.total_page?this.total_page:this.start_page+2*this.limit_page;for(var b=[],d=this.start_page;d<=this.end_page;d++)b.push(d);this.show_pages=b,this.getListParentCate(),this.successStatusObj(),setTimeout(()=>{this.checkHeight()},0)}else this.errorStatusObj(null!==(l=t.message)&&void 0!==l?l:"",!0)}))}goToPage(t){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.cur_cateId+"/"+t)}backToAllCate(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}cateDetail(t){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+t.id+"/1")}goBackParent(t){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+t+"/1")}redirectToExamDetail(t){this.commonService.myNavigationWithQueryString("/de-thi/"+t,"?backto="+encodeURIComponent(this.backToLink))}checkHeight(){var t=document.body,e=document.documentElement,i=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);this.contentHeight=i,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}resizeHeight(){var t=document.body,e=document.documentElement,i=Math.max(t.scrollHeight,t.offsetHeight,e.clientHeight,e.scrollHeight,e.offsetHeight);this.contentHeight=i,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}changeLogin(){this.iframeService.sendMessageToParentIframe({changeLogin:!0})}ngOnInit(){this.isInIframe=this.iframeService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.form=this.fb.group({searchContent:new o.h("",o.A.required)}),Object(x.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));let t=this.commonService.getMyParam(this.activeRoute,"page");this.backToLink=`/test/category/${this.tenantId}/${this.cur_cateId}/${t}`,this.getData(),this.globalService.loginMessage.subscribe(t=>{this.changeLogin()}),this.commonService.translateMetaData({title:"Danh s\xe1ch \u0111\u1ec1 thi",description:"Danh s\xe1ch \u0111\u1ec1 thi"})}),this.commonService.gaEvent("FrontExam_ViewExamCategory"),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(o.g),g.Pb(c.a),g.Pb(f.a),g.Pb(ia.a),g.Pb(na.a),g.Pb(oa),g.Pb(Wt.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-student-index"]],hostBindings:function(t,e){1&t&&g.cc("resize",function(t){return e.resizeHeight(t)},!1,g.Dc)},features:[g.Ab],decls:5,vars:3,consts:[[3,"headerTitle","back_link",4,"ngIf"],[1,"top-bar","mt-3"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","back_link"],[1,"row","pl-0","pr-0","justify-content-between"],[1,"col-sm-12","text-left"],[1,"breadcrumb","custom-breadcrumb",2,"margin-top","2px"],[1,"breadcrumb-item","text-primary"],[1,"clickable",2,"color","#989494",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"content-zone","mt-3","pt-2","pb-2"],[1,"row"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",3,"click",4,"ngFor","ngForOf"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",4,"ngFor","ngForOf"],[1,"pt-2"],[3,"lengthPage","paging","SendPage"],[1,"breadcrumb-item",3,"ngClass"],[1,"hidden__text",3,"ngClass","click"],[3,"ngClass","matTooltip"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable",3,"click"],[1,"card-custom","box-flex"],[1,"box-title","text-center"],[1,"test","p-3"],["alt","",1,"img-fluid","folder-img",3,"src"],[1,"test-desc","text-center"],[1,"test-title","mb-0",2,"word-break","break-word"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable"],[3,"target","click",4,"ngIf"],[3,"href","target",4,"ngIf"],["style","float: right; margin-top: -20px; position: relative; margin-right: 10px; font-weight: bold;",4,"ngIf"],[3,"target","click"],[1,"box"],[1,"test","p-2","pl-3","pr-3"],["alt","",1,"test-img",3,"src"],[1,"test-desc"],[1,"test-title","mb-0","exam_name",2,"word-break","break-word",3,"matTooltip"],["class","test-desc",4,"ngIf"],[1,"test-text"],[1,"test-text","text-info"],[3,"href","target"],[2,"float","right","margin-top","-20px","position","relative","margin-right","10px","font-weight","bold"],[2,"color","#ee4d2d"]],template:function(t,e){if(1&t&&(g.Rc(0,ca,1,2,"header-frontend",0),g.Vb(1,"div",1),g.Rc(2,aa,1,0,"azt-loading-effect",2),g.Rc(3,_a,14,5,"ng-template",null,3,g.Sc),g.Ub()),2&t){const t=g.Ac(4);g.nc("ngIf",!e.isInIframe),g.Db(2),g.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}},directives:[n.m,y.a,S.a,n.l,sa.a,n.k,dt.a,k.a],pipes:[ht.f,n.u],styles:[".top-bar[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;overflow-x:hidden;padding:15px}.folder-img[_ngcontent-%COMP%]{width:96px;height:96px}.custom-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.card-custom[_ngcontent-%COMP%]{margin:0 auto;height:230px}.box-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.box-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.test-img[_ngcontent-%COMP%]{width:30px;margin-bottom:10px}.test-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.test-desc[_ngcontent-%COMP%]{margin-top:2px;text-align:justify}.test-text[_ngcontent-%COMP%]{font-size:14px}.mat-card[_ngcontent-%COMP%]{padding:0}.truncate-bread[_ngcontent-%COMP%]{display:inline-block;max-width:120px}.hidden__text[_ngcontent-%COMP%], .truncate-bread[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.hidden__text[_ngcontent-%COMP%]{max-width:100px;text-align:left}"]}),t})();var Sa=i("35wy");function Ua(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",5),g.Vb(1,"p",6),g.Tc(2," B\u1ea1n c\u1ea7n ph\u1ea3i \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n \u0111\u1ec3 mua \u0111\u1ec1 thi. "),g.Ub(),g.Vb(3,"a",7),g.cc("click",function(){return g.Ec(t),g.gc(2).goToRegister()}),g.Tc(4," \u0110\u0103ng k\xfd "),g.Ub(),g.Ub()}}function Oa(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",14),g.Vb(1,"p",15),g.Tc(2),g.hc(3,"mytranslate"),g.Ub(),g.Vb(4,"a",7),g.cc("click",function(){return g.Ec(t),g.gc(3).goToAddMoreAzo()}),g.Tc(5," N\u1ea1p th\xeam Azo "),g.Ub(),g.Ub()}if(2&t){const t=g.gc(3);g.Db(2),g.Vc(" ",g.ic(3,1,t.hasErrorMessage)," ")}}function Ia(t,e){if(1&t&&(g.Vb(0,"div",8),g.Vb(1,"p",9),g.Tc(2," B\u1ea1n mu\u1ed1n mua B\xe0i thi: "),g.Ub(),g.Vb(3,"p",10),g.Tc(4),g.Ub(),g.Ub(),g.Vb(5,"div",11),g.Vb(6,"p",12),g.Tc(7),g.Ub(),g.Ub(),g.Rc(8,Oa,6,3,"div",13)),2&t){const t=g.gc(2);g.Db(4),g.Vc(" ",null==t.data.examObj?null:t.data.examObj.name," "),g.Db(3),g.Vc("Gi\xe1: ",null==t.data.examObj?null:t.data.examObj.price," Azo"),g.Db(1),g.nc("ngIf",""!=t.hasErrorMessage)}}function Va(t,e){1&t&&(g.Vb(0,"span"),g.Qb(1,"span",20),g.Tc(2,"\xa0"),g.Ub())}function Ca(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",16),g.Vb(1,"button",17),g.cc("click",function(){return g.Ec(t),g.gc(2).cancelPayment()}),g.Tc(2," H\u1ee7y "),g.Ub(),g.Vb(3,"button",18),g.cc("click",function(){return g.Ec(t),g.gc(2).confirmBuy()}),g.Rc(4,Va,3,0,"span",19),g.Tc(5," X\xe1c nh\u1eadn "),g.Ub(),g.Ub()}if(2&t){const t=g.gc(2);g.Db(3),g.nc("disabled",t.statusObj.loading||""!=t.hasErrorMessage),g.Db(1),g.nc("ngIf",t.statusObj.loading)}}function Ta(t,e){if(1&t&&(g.Vb(0,"div",1),g.Vb(1,"div",2),g.Rc(2,Ua,5,0,"ng-template",3),g.Rc(3,Ia,9,3,"ng-template",3),g.Rc(4,Ca,6,2,"div",4),g.Ub(),g.Ub()),2&t){const t=g.gc();g.Db(2),g.nc("ngIf",t.data.needLogin),g.Db(1),g.nc("ngIf",!t.data.needLogin),g.Db(1),g.nc("ngIf",!t.data.needLogin)}}let ka=(()=>{class t extends m.a{constructor(t,e,i){super(t),this.commonService=t,this.paymentService=e,this.redirectService=i,this.data={examObj:{},needLogin:!1,isShow:!1},this.closeDialog=new g.o,this.subscriptions=new C.a,this.form=new o.k({}),this.hasErrorMessage=""}confirmBuy(){var t;this.initStatusObj(),this.subscriptions.add(this.paymentService.apiPaymentBuyExamByAzoGet(null===(t=this.data.examObj)||void 0===t?void 0:t.hashId).subscribe(t=>{var e;1==t.success?(this.hasErrorMessage="",this.successStatusObj(),this.closeDialog.emit(!0)):t.hasOwnProperty("message")&&t.message&&("lang_core_doest_not_enough_azo"==t.message?(this.hasErrorMessage=t.message,this.stopStatusObj()):this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0))}))}cancelPayment(){this.closeDialog.emit(!1)}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToAddMoreAzo(){this.commonService.gaEvent("payment_exam_detail_click_to_payment_pack"),this.redirectService.redirectToBuyMoreAzo()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a),g.Pb(Sa.a),g.Pb(oi.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-buy-exam"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[g.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[3,"ngIf"],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","mb-2"],[1,"clickable","h5","text-info",3,"click"],[1,"text-center","mb-1"],[1,"h5","mb-1",2,"font-size","14px"],[1,"h5","mb-1","text-info"],[1,"amount-zone","text-center"],[1,"mb-0","h4"],["class","text-center mt-2",4,"ngIf"],[1,"text-center","mt-2"],[1,"h6","mb-1",2,"font-size","14px"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","",2,"margin-right","15px",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&g.Rc(0,Ta,5,3,"div",0),2&t&&g.nc("ngIf",e.data.isShow)},directives:[n.m,bt.b],pipes:[ht.z],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:400px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.amount-zone[_ngcontent-%COMP%]{border:1px dashed #ff0024;padding:15px;border-radius:3px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();var Da=i("CB8n"),Ma=i("loSA");function Pa(t,e){if(1&t&&(g.Vb(0,"span"),g.Tc(1,"S\u1ed1 l\u01b0\u1ee3ng \u0111\xfang: "),g.Vb(2,"span"),g.Tc(3),g.Ub(),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(3),g.Wc("",t.rightAnswer,"/",t.totalQuestion,"")}}function Ea(t,e){if(1&t&&(g.Vb(0,"span"),g.Tc(1),g.Ub()),2&t){const t=g.gc().$implicit;g.Db(1),g.Vc("S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi: ",t.totalQuestion,"")}}function ja(t,e){if(1&t&&(g.Vb(0,"span",28),g.Qb(1,"azt-check-mark",29),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.nc("mark",t.mark)}}function Ra(t,e){if(1&t&&(g.Vb(0,"div",25),g.Vb(1,"span",26),g.Tc(2," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Ub(),g.Rc(3,ja,2,1,"span",27),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(3),g.nc("ngIf",null!=t.mark)}}function Fa(t,e){1&t&&(g.Vb(0,"span",26),g.Tc(1," \u0110i\u1ec3m tr\u1eafc nghi\u1ec7m c\u1ee7a b\u1ea1n: "),g.Ub())}function Aa(t,e){1&t&&(g.Vb(0,"span",26),g.Tc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Ub())}function qa(t,e){if(1&t&&(g.Vb(0,"span",28),g.Tc(1),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.Uc(t.mark)}}function La(t,e){if(1&t&&(g.Vb(0,"div",25),g.Rc(1,Fa,2,0,"span",30),g.Rc(2,Aa,2,0,"span",30),g.Rc(3,qa,2,1,"span",27),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("ngIf",null==t.essayMark),g.Db(1),g.nc("ngIf",null!=t.essayMark),g.Db(1),g.nc("ngIf",null!=t.mark)}}function za(t,e){1&t&&(g.Vb(0,"span",26),g.Tc(1," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Ub())}function Qa(t,e){if(1&t&&(g.Vb(0,"span",28),g.Tc(1),g.Ub()),2&t){const t=g.gc(3).$implicit;g.Db(1),g.Uc(t.mark)}}function $a(t,e){1&t&&(g.Vb(0,"span",31),g.Tc(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),g.Ub())}function Na(t,e){if(1&t&&(g.Vb(0,"div",25),g.Rc(1,za,2,0,"span",30),g.Rc(2,Qa,2,1,"span",27),g.Rc(3,$a,2,0,"span",23),g.Ub()),2&t){const t=g.gc(2).$implicit;g.Db(1),g.nc("ngIf",null!=t.essayMark),g.Db(1),g.nc("ngIf",null!=t.mark&&null!=t.essayMark),g.Db(1),g.nc("ngIf",null==t.essayMark)}}function Wa(t,e){1&t&&(g.Vb(0,"span",31),g.Tc(1,"Ch\u01b0a c\xf3 \u0111i\u1ec3m"),g.Ub())}const Ba=function(t){return[t]},Ha=function(t){return{backto:t}};function Ga(t,e){if(1&t&&(g.Vb(0,"div",5),g.Rc(1,Ra,4,1,"div",22),g.Rc(2,La,4,3,"div",22),g.Rc(3,Na,4,3,"div",22),g.Rc(4,Wa,2,0,"span",23),g.Vb(5,"a",24),g.hc(6,"mylocalize"),g.Tc(7,"Xem chi ti\u1ebft b\xe0i l\xe0m"),g.Ub(),g.Ub()),2&t){const t=g.gc().$implicit,e=g.gc();g.Db(1),g.nc("ngIf",1==e.examObj.examType||0==e.examObj.examType),g.Db(1),g.nc("ngIf",11==e.examObj.examType||10==e.examObj.examType),g.Db(1),g.nc("ngIf",21==e.examObj.examType||20==e.examObj.examType),g.Db(1),g.nc("ngIf",null==t.mark),g.Db(1),g.nc("routerLink",g.tc(8,Ba,g.ic(6,6,"/test/answer-test/"+e.tenant_id+"/"+(null!=e.cur_cateId?e.cur_cateId:0)+"/"+e.hashId+"/"+t.id)))("queryParams",g.tc(10,Ha,e.back_link))}}function Ja(t,e){if(1&t&&(g.Vb(0,"div",5),g.Vb(1,"div",25),g.Vb(2,"span",26),g.Tc(3," \u0110i\u1ec3m c\u1ee7a b\u1ea1n: "),g.Ub(),g.Ub(),g.Vb(4,"span",31),g.Tc(5,"Ch\u01b0a \u0111\u01b0\u1ee3c xem \u0111i\u1ec3m"),g.Ub(),g.Vb(6,"a",24),g.hc(7,"mylocalize"),g.Tc(8,"Xem chi ti\u1ebft b\xe0i l\xe0m"),g.Ub(),g.Ub()),2&t){const t=g.gc().$implicit,e=g.gc();g.Db(6),g.nc("routerLink",g.tc(4,Ba,g.ic(7,2,"/test/answer-test/"+e.tenant_id+"/"+(null!=e.cur_cateId?e.cur_cateId:0)+"/"+e.hashId+"/"+t.id)))("queryParams",g.tc(6,Ha,e.back_link))}}function Xa(t,e){if(1&t&&(g.Vb(0,"div",8),g.Vb(1,"mat-card",9),g.Vb(2,"div",10),g.Vb(3,"div",11),g.Vb(4,"div",12),g.Vb(5,"div",13),g.Vb(6,"span",14),g.Vb(7,"mat-icon"),g.Tc(8,"access_time"),g.Ub(),g.Ub(),g.Vb(9,"span",15),g.Tc(10," Th\u1eddi gian l\xe0m b\xe0i: "),g.Vb(11,"span"),g.Tc(12),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(13,"div",12),g.Vb(14,"div",13),g.Vb(15,"span",14),g.Vb(16,"mat-icon"),g.Tc(17,"help_outline"),g.Ub(),g.Ub(),g.Vb(18,"span",15),g.Rc(19,Pa,4,2,"span",16),g.Rc(20,Ea,2,1,"span",16),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(21,"div",17),g.Rc(22,Ga,8,12,"div",18),g.Rc(23,Ja,9,8,"div",18),g.Ub(),g.Vb(24,"div",19),g.Vb(25,"div",20),g.Vb(26,"span",21),g.Tc(27),g.hc(28,"date"),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=e.$implicit,i=g.gc();g.Db(12),g.Uc(i.calculateTime(t.startedTest,t.createdAt)),g.Db(7),g.nc("ngIf",null!=t.rightAnswer),g.Db(1),g.nc("ngIf",null==t.rightAnswer),g.Db(2),g.nc("ngIf",2!=i.examObj.whenShowResult),g.Db(1),g.nc("ngIf",2==i.examObj.whenShowResult),g.Db(4),g.Uc(g.jc(28,6,t.createdAt,"dd/MM/yyyy HH:mm"))}}function Ka(t,e){1&t&&(g.Vb(0,"div",32),g.Vb(1,"div",33),g.Vb(2,"span",34),g.Tc(3,"Loading..."),g.Ub(),g.Ub(),g.Ub())}function Ya(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",0),g.Vb(1,"div",1),g.Vb(2,"button",35),g.cc("click",function(){return g.Ec(t),g.gc().pagingData()}),g.Vb(3,"mat-icon"),g.Tc(4,"keyboard_arrow_down"),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=g.gc();g.Db(2),g.nc("disabled",t.disableBtn)}}let Za=(()=>{class t extends m.a{constructor(t,e,i){super(t),this.commonService=t,this.frontExamResultHistoryService=e,this.timeService=i,this.hashId="",this.back_link="",this.examObj={},this.tenant_id=0,this.cur_cateId=0,this.historyObjs=[],this.page="",this.subscriptions=new C.a,this.checkClick=!1,this.disableBtn=!1}getExamHistoryByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetHistoryObjsGet(this.hashId,this.page).subscribe(t=>{var e,i,n,o,s,c,a,r,l;if(1==t.success){let l=(null===(e=t.data)||void 0===e?void 0:e.objs)?null===(n=null===(i=t.data)||void 0===i?void 0:i.objs)||void 0===n?void 0:n.length:0;if(null===(o=t.data)||void 0===o?void 0:o.objs)for(let e=0;e<l;e++)this.historyObjs.push(null!==(s=t.data.objs[e])&&void 0!==s?s:{});this.checkClick=!0,this.page=null!==(a=null===(c=t.data)||void 0===c?void 0:c.nextPage)&&void 0!==a?a:"",(null===(r=t.data)||void 0===r?void 0:r.nextPage)||(this.disableBtn=!0),this.successStatusObj()}else this.errorStatusObj(null!==(l=t.message)&&void 0!==l?l:"")})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}pagingData(){this.getExamHistoryByHashId()}calculateTime(t,e){return t?this.timeService.calculationTestedTime(t,e):""}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a),g.Pb(_.B),g.Pb(Qt.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",back_link:"back_link",examObj:"examObj",tenant_id:"tenant_id",cur_cateId:"cur_cateId"},features:[g.Ab],decls:9,vars:3,consts:[[1,"row","my-3","m-2"],[1,"col-md-12","text-center"],[1,"history"],[1,"row","m-0"],["class","col-md-12","style","margin: 0 auto; padding-top: 10px; padding-bottom: 5px",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","d-flex justify-content-center mt-3",4,"ngIf"],["class","row my-3 m-2",4,"ngIf"],[1,"col-md-12",2,"margin","0 auto","padding-top","10px","padding-bottom","5px"],[1,"text-center"],[1,"card-info"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[4,"ngIf"],[1,"row","my-2","mt-4"],["class","col-md-12",4,"ngIf"],[1,"row"],[1,"col-md-12","text-right"],[1,"text-time"],["style","display: inline-block",4,"ngIf"],["class","text-danger mr-3",4,"ngIf"],[1,"btn-redirect",2,"color","#007bff",3,"routerLink","queryParams"],[2,"display","inline-block"],[1,"score-text"],["class","score",4,"ngIf"],[1,"score"],[3,"mark"],["class","score-text",4,"ngIf"],[1,"text-danger","mr-3"],[1,"d-flex","justify-content-center","mt-3"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],["matTooltip","Xem th\xeam","mat-button","",1,"btn-all-add",3,"disabled","click"]],template:function(t,e){1&t&&(g.Vb(0,"div",0),g.Vb(1,"div",1),g.Vb(2,"h3",2),g.Tc(3,"L\u1ecbch s\u1eed l\xe0m b\xe0i c\u1ee7a b\u1ea1n"),g.Ub(),g.Ub(),g.Ub(),g.Vb(4,"div",3),g.Rc(5,Xa,29,9,"div",4),g.Vb(6,"div",5),g.Rc(7,Ka,4,0,"div",6),g.Ub(),g.Ub(),g.Rc(8,Ya,5,1,"div",7)),2&t&&(g.Db(5),g.nc("ngForOf",e.historyObjs),g.Db(2),g.nc("ngIf",e.statusObj.loading),g.Db(1),g.nc("ngIf",!e.statusObj.loading))},directives:[n.l,n.m,k.a,D.a,c.k,Ma.a,bt.b,dt.a],pipes:[n.e,ht.y],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.box[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-all-add[_ngcontent-%COMP%]{text-transform:inherit}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}.score-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-right:15px}.score[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:red;margin-right:25px}.text-time[_ngcontent-%COMP%]{color:#a0a0a0}.btn-redirect[_ngcontent-%COMP%]{color:#000}@media screen and (max-width:480px){.card-info[_ngcontent-%COMP%]{width:100%}.btn-redirect[_ngcontent-%COMP%]{margin-top:10px;display:block}.score[_ngcontent-%COMP%]{margin-right:0}}"]}),t})();function tr(t,e){1&t&&g.Qb(0,"azt-loading-effect")}function er(t,e){if(1&t){const t=g.Wb();g.Vb(0,"app-buy-exam",7),g.cc("closeDialog",function(e){return g.Ec(t),g.gc(2).closeBuyExamDialog(e)}),g.Ub()}if(2&t){const t=g.gc(2);g.nc("data",t.dataBuyExamDialog)}}function ir(t,e){if(1&t&&(g.Vb(0,"div",8),g.Tc(1),g.hc(2,"mytranslate"),g.Ub()),2&t){const t=g.gc(2);g.Db(1),g.Vc(" ",g.ic(2,1,t.hasErrorMessage)," ")}}const nr=function(t,e){return{"monitor-height":t,"mobile-monitor":e}};function or(t,e){if(1&t&&(g.Vb(0,"div",19),g.Qb(1,"div",30,31),g.Ub()),2&t){const t=g.gc(3);g.Db(1),g.nc("ngClass",g.uc(1,nr,!t.isMobile,t.isMobile))}}function sr(t,e){if(1&t){const t=g.Wb();g.Vb(0,"button",32),g.cc("click",function(){return g.Ec(t),g.gc(3).redirectToTakeTest()}),g.Tc(1,"B\u1eaft \u0111\u1ea7u l\xe0m b\xe0i"),g.Ub()}}function cr(t,e){if(1&t){const t=g.Wb();g.Vb(0,"button",32),g.cc("click",function(){return g.Ec(t),g.gc(3).openBuyExam()}),g.Tc(1),g.hc(2,"number"),g.Ub()}if(2&t){const t=g.gc(3);g.Db(1),g.Vc("Mua \u0111\u1ec1 - ",g.ic(2,1,t.examObj.price)," Azo")}}function ar(t,e){1&t&&(g.Vb(0,"div",33),g.Vb(1,"strong"),g.Tc(2,"(*)"),g.Ub(),g.Tc(3," H\u1ec7 th\u1ed1ng ch\u1ec9 g\u1eedi h\xecnh \u1ea3nh v\xe0 \xe2m thanh \u0111\u1ebfn gi\xe1o vi\xean "),g.Vb(4,"b"),g.Tc(5,"trong qu\xe1 tr\xecnh l\xe0m b\xe0i thi"),g.Ub(),g.Tc(6,". Ngay sau khi k\u1ebft th\xfac b\xe0i l\xe0m, h\u1ec7 th\u1ed1ng ng\u1eebng g\u1eedi d\u1eef li\u1ec7u. D\u1eef li\u1ec7u thu th\u1eadp ch\u1ec9 s\u1eed d\u1ee5ng ph\u1ee5c v\u1ee5 cho c\xf4ng t\xe1c "),g.Vb(7,"b"),g.Tc(8,"t\u1ed5 ch\u1ee9c k\u1ef3 thi"),g.Ub(),g.Ub())}function rr(t,e){if(1&t&&(g.Vb(0,"div"),g.Vb(1,"div",9),g.Vb(2,"div",10),g.Vb(3,"h2",11),g.Tc(4),g.Ub(),g.Ub(),g.Ub(),g.Vb(5,"div",9),g.Vb(6,"div",10),g.Vb(7,"h2",12),g.Tc(8,"M\xe3 \u0111\u1ec1 thi: "),g.Vb(9,"span",13),g.Tc(10),g.Ub(),g.Qb(11,"azt-download-qr-code",14),g.Ub(),g.Ub(),g.Ub(),g.Vb(12,"div",9),g.Vb(13,"div",15),g.Vb(14,"mat-card",16),g.Rc(15,or,3,4,"div",17),g.Vb(16,"div",18),g.Vb(17,"div",19),g.Vb(18,"div",20),g.Vb(19,"div",21),g.Vb(20,"span",22),g.Vb(21,"mat-icon"),g.Tc(22,"access_time"),g.Ub(),g.Ub(),g.Vb(23,"span",23),g.Tc(24," Th\u1eddi gian l\xe0m b\xe0i: "),g.Vb(25,"span"),g.Tc(26),g.Ub(),g.Ub(),g.Ub(),g.Vb(27,"div",21),g.Vb(28,"span",22),g.Vb(29,"mat-icon"),g.Tc(30,"people"),g.Ub(),g.Ub(),g.Vb(31,"span",23),g.Tc(32," S\u1ed1 l\u01b0\u1ee3t l\xe0m \u0111\u1ec1: "),g.Vb(33,"span"),g.Tc(34),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(35,"div",24),g.Vb(36,"div",21),g.Vb(37,"span",22),g.Vb(38,"mat-icon"),g.Tc(39,"help_outline"),g.Ub(),g.Ub(),g.Vb(40,"span",23),g.Tc(41," S\u1ed1 l\u01b0\u1ee3ng c\xe2u h\u1ecfi: "),g.Vb(42,"span"),g.Tc(43),g.Ub(),g.Ub(),g.Ub(),g.Vb(44,"div",21),g.Vb(45,"span",22),g.Vb(46,"mat-icon"),g.Tc(47,"monetization_on"),g.Ub(),g.Ub(),g.Vb(48,"span",23),g.Tc(49," Gi\xe1 \u0111\u1ec1 thi: "),g.Vb(50,"span"),g.Tc(51),g.Ub(),g.Tc(52," Azo "),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Vb(53,"div",25),g.Vb(54,"div",26),g.Rc(55,sr,2,0,"button",27),g.Rc(56,cr,3,3,"button",27),g.Ub(),g.Ub(),g.Rc(57,ar,9,0,"div",28),g.Ub(),g.Ub(),g.Ub(),g.Qb(58,"app-exam-history",29),g.Ub()),2&t){const t=g.gc(2);g.Db(4),g.Uc(t.examObj.name),g.Db(6),g.Uc(t.examObj.hashId),g.Db(1),g.nc("fileName","azota_exam_qrcode_"+t.examObj.hashId)("linkUrl",t.urlLocation),g.Db(4),g.nc("ngIf",t.examObj.autoMonitor&&0!=t.examObj.autoMonitor),g.Db(11),g.Uc(t.examObj.minutes&&t.examObj.minutes>0?t.examObj.minutes+" ph\xfat":"Kh\xf4ng gi\u1edbi h\u1ea1n"),g.Db(8),g.Uc(null==t.totalAttended?0:t.totalAttended),g.Db(9),g.Uc(2==t.examObj.mixQuestion?t.examObj.limitMixQuestion:t.examObj.countQuestion),g.Db(8),g.Uc(null!=t.examObj.price?t.examObj.price:0),g.Db(4),g.nc("ngIf",!t.isNeedBuyExam),g.Db(1),g.nc("ngIf",t.isNeedBuyExam),g.Db(1),g.nc("ngIf",t.examObj.autoMonitor&&3==t.examObj.autoMonitor),g.Db(1),g.nc("examObj",t.examObj)("tenant_id",t.tenant_id)("cur_cateId",t.cur_cateId)("hashId",t.hashId)("back_link",t.back_link)}}function lr(t,e){if(1&t){const t=g.Wb();g.Rc(0,er,1,1,"app-buy-exam",3),g.Vb(1,"div",4),g.cc("resize",function(){return g.Ec(t),g.gc().checkMobile()},!1,g.Dc),g.Rc(2,ir,3,3,"div",5),g.Rc(3,rr,59,17,"div",6),g.Ub()}if(2&t){const t=g.gc();g.nc("ngIf",t.dataBuyExamDialog.isShow),g.Db(2),g.nc("ngIf",""!=t.hasErrorMessage),g.Db(1),g.nc("ngIf",""==t.hasErrorMessage)}}let br=(()=>{class t extends m.a{constructor(t,e,i,n,o,s,c){super(e),this.activeRoute=t,this.commonService=e,this.frontExamResultHistoryService=i,this.baseApiService=n,this.fireStoreService=o,this.monitorService=s,this.frontOfflineShareService=c,this.hashId="",this.examObj={},this.totalAttended=0,this.tenant_id=0,this.cur_cateId=0,this.hasErrorMessage="",this.back_link="/student/dashboard/0",this.password="",this.isNeedBuyExam=!1,this.dataBuyExamDialog={examObj:{},isShow:!1},this.innerMonitor="",this.isMobile=!1,this.urlLocation=""}fillData(t){var e,i;(null===(e=t.data)||void 0===e?void 0:e.hasOwnProperty("errorMessage"))&&(null===(i=t.data)||void 0===i?void 0:i.errorMessage)?("lang_core_doest_not_owner_exam"==t.data.errorMessage?(this.hasErrorMessage="",this.isNeedBuyExam=!0):(this.hasErrorMessage=t.data.errorMessage,this.isNeedBuyExam=!1),this.successStatusObj()):(this.hasErrorMessage="",this.isNeedBuyExam=!1)}getExamByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetExamObjGet(this.hashId).subscribe(t=>{var e,i,n,o,s,c,a;1==t.success?(this.fillData(t),this.examObj=null!==(i=null===(e=t.data)||void 0===e?void 0:e.examObj)&&void 0!==i?i:{},this.totalAttended=null!==(o=null===(n=t.data)||void 0===n?void 0:n.totalAttended)&&void 0!==o?o:0,null!=this.examObj&&(this.cur_cateId=null!==(s=this.examObj.categoryId)&&void 0!==s?s:0,this.tenant_id=null!==(c=this.examObj.tenantId)&&void 0!==c?c:0,this.commonService.translateMetaData({title:"B\u1eaft \u0111\u1ea7u thi: "+this.examObj.name,description:this.examObj.name})),this.examObj.autoMonitor&&3==this.examObj.autoMonitor&&this.openVideoMonitor(),this.successStatusObj()):this.errorStatusObj(null!==(a=t.message)&&void 0!==a?a:"",!0)})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}openBuyExam(){this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?(this.commonService.gaEvent("payment_click_open_dialog_buy_exam"),this.dataBuyExamDialog={examObj:this.examObj,isShow:!0}):this.dataBuyExamDialog={examObj:{},needLogin:!0,isShow:!0}}closeBuyExamDialog(t){t?(this.commonService.gaEvent("payment_click_confirm_buy_exam"),this.dataBuyExamDialog={examObj:{},isShow:!1},this.commonService.snackSuccess("Mua \u0111\u1ec1 thi th\xe0nh c\xf4ng!",""),this.redirectToTakeTest()):(this.commonService.gaEvent("payment_click_cancel_buy_exam"),this.dataBuyExamDialog={examObj:{},isShow:!1})}openVideoMonitor(){var t=this.baseApiService.getUserObj();aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var e={user:{token:t.rememberToken,userid:t.id,username:t.fullName},config:{domainApi:it.a.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreen",examconfig:this.examObj,firebaseApp:this.fireStoreService,isStarted:!1},i=aztExam.MonitorStudent.getInstance();i.prepairSession(e),this.innerMonitor=i.preview}}))}redirectToTakeTest(){this.commonService.myNavigationWithQueryString(null!=this.cur_cateId?"/test/take-test/"+this.tenant_id+"/"+this.cur_cateId+"/"+this.hashId:"/test/take-test/"+this.tenant_id+"/0/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.back_link):"?backto="+encodeURIComponent(this.back_link))}checkMobile(){this.isMobile=this.commonService.checkMobile()}ngOnInit(){Object(x.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var t,e,i;this.password=null!==(t=this.commonService.getMyQueryParam("password"))&&void 0!==t?t:"";var n=null===(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===e?void 0:e.toString();this.hashId=n||"",this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.back_link=null!==(i=this.commonService.getMyQueryParam("backto"))&&void 0!==i?i:"/student/dashboard/0";let o=this.commonService.getMyQueryParam("offline");o?this.myNavigation(`/test/test-result/${n}/${o}`):(this.checkMobile(),this.getExamByHashId())}),this.urlLocation=window.location.href,super.ngOnInit()}ngOnDestroy(){aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),this.subscriptions.unsubscribe(),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(c.a),g.Pb(f.a),g.Pb(_.B),g.Pb(Pt.a),g.Pb(Ft.a),g.Pb($t.a),g.Pb(_.H))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-student-view"]],features:[g.Ab],decls:4,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"mw-640","app","mt-4",3,"resize"],["class","alert alert-danger mt-2",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog"],[1,"alert","alert-danger","mt-2"],[1,"row","m-0"],[1,"col-md-12","text-center"],[1,"text-title",2,"word-break","break-word"],[1,"text-title",2,"word-break","break-word","font-size","16px"],[2,"color","#00a7d0"],[1,"pl-2",3,"fileName","linkUrl"],[1,"col-md-12",2,"margin","0 auto"],[1,"text-center"],["class","row my-2",4,"ngIf"],[1,"card-info","text-center"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[1,"col-12","col-sm-6","pl-md-5"],[1,"row","my-2","mt-4"],[1,"col-md-12"],["mat-raised-button","","class","btn-custom",3,"click",4,"ngIf"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","tenant_id","cur_cateId","hashId","back_link"],["id","monitorScreen",1,"align-self-center","text-center",2,"margin","auto",3,"ngClass"],["monitorScreen",""],["mat-raised-button","",1,"btn-custom",3,"click"],[1,"note-exam","mt-1"]],template:function(t,e){if(1&t&&(g.Qb(0,"header-frontend",0),g.Rc(1,tr,1,0,"azt-loading-effect",1),g.Rc(2,lr,4,3,"ng-template",null,2,g.Sc)),2&t){const t=g.Ac(3);g.nc("headerTitle","B\u1eaft \u0111\u1ea7u thi")("back_link",e.back_link),g.Db(1),g.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}},directives:[y.a,n.m,S.a,ka,Da.a,k.a,D.a,Za,n.k,bt.b],pipes:[ht.z,n.f],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.box[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}.score-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-right:15px}.score[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:red;margin-right:25px}.text-time[_ngcontent-%COMP%]{color:#a0a0a0}.btn-redirect[_ngcontent-%COMP%]{color:#000}.monitor-height[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;padding:0;position:relative;max-width:100%}.mobile-monitor[_ngcontent-%COMP%]{height:40px;position:relative;margin-left:20px}@media screen and (max-width:480px){.card-info[_ngcontent-%COMP%]{width:100%}.btn-redirect[_ngcontent-%COMP%]{margin-top:10px;display:block}.score[_ngcontent-%COMP%]{margin-right:0}}.note-exam[_ngcontent-%COMP%]{text-align:justify;font-size:15px;padding:20px 10px}.note-exam[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:red}"]}),t})(),dr=(()=>{class t extends m.a{constructor(t){super(t),this.commonService=t}ngOnInit(){super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-test-dashboard"]],features:[g.Ab],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(t,e){1&t&&(g.Vb(0,"div",0),g.Qb(1,"router-outlet"),g.Ub())},directives:[c.m],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:0 1px 7px rgba(169,151,151,.24)}"]}),t})();var ur=i("hkFF");function hr(t,e){1&t&&g.Qb(0,"azt-loading-effect")}function mr(t,e){if(1&t&&(g.Vb(0,"div",3),g.Qb(1,"azt-test-result-tracking",4),g.Ub()),2&t){const t=g.gc();g.Db(1),g.nc("dataResultObjs",t.dataResultObjs)("dataScrollObjs",t.dataScrollObjs)}}let gr=(()=>{class t extends m.a{constructor(t,e,i,n){super(i),this.activeRoute=t,this.frontExamResultService=e,this.commonService=i,this.zipdataService=n,this.dataResultObjs=[],this.dataScrollObjs=[],this.back_link="",this.examHasdId=""}processData(t){if(t)for(var e=0;e<t.length;e++)if("scroll"!=t[e][0]){var i={index:t[e][0],alpha:t[e][1],key:t[e][2],questionId:Number(t[e][3]),second:Number(t[e][4])};this.dataResultObjs.push(i)}else{var n={scrollPos:Number(t[e][1]),second:Number(t[e][2])};this.dataScrollObjs.push(n)}}getData(t){this.initStatusObj(),this.frontExamResultService.apiFrontExamResultGetExamWithExamAnswerGet(this.examHasdId,t).subscribe(t=>{var e,i,n,o,s,c,a,r;if(1==t.success){var l=this.castJsonToObj(this.zipdataService.decodeContentGzip(null!==(n=null===(i=null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.resultTrack)||void 0===i?void 0:i.trackData)&&void 0!==n?n:""));l&&this.processData(l),this.back_link="/admin/testbank/tested-list/"+((null===(s=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.examObj)||void 0===s?void 0:s.categoryId)?t.data.examObj.categoryId:0)+"/"+(null===(a=null===(c=null==t?void 0:t.data)||void 0===c?void 0:c.examObj)||void 0===a?void 0:a.id)+"/0",this.successStatusObj()}else this.errorStatusObj(null!==(r=t.message)&&void 0!==r?r:"",!0)})}ngOnInit(){var t;this.commonService.translateMetaData({title:"Chi ti\u1ebft qu\xe1 tr\xecnh l\xe0m tr\u1eafc nghi\u1ec7m",description:"Azota - Chi ti\u1ebft qu\xe1 tr\xecnh l\xe0m tr\u1eafc nghi\u1ec7m",image:"lang_cms_test_image"});let e=Number(this.activeRoute.snapshot.paramMap.get("result_id"));this.examHasdId=null!==(t=this.activeRoute.snapshot.paramMap.get("hash_id"))&&void 0!==t?t:"",this.getData(e),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(c.a),g.Pb(T.a),g.Pb(f.a),g.Pb(zt.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-test-front-result-tracking"]],features:[g.Ab],decls:4,vars:3,consts:[[3,"headerTitle"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"container-fluid","mt-3","mb-5"],[3,"dataResultObjs","dataScrollObjs"]],template:function(t,e){if(1&t&&(g.Qb(0,"header-frontend",0),g.Rc(1,hr,1,0,"azt-loading-effect",1),g.Rc(2,mr,2,2,"ng-template",null,2,g.Sc)),2&t){const t=g.Ac(3);g.nc("headerTitle","Qu\xe1 tr\xecnh l\xe0m b\xe0i c\u1ee7a th\xed sinh"),g.Db(1),g.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}},directives:[y.a,n.m,S.a,ur.a],styles:[""]}),t})();var fr=i("IU+r"),pr=i("2Klk");function vr(t,e){1&t&&g.Qb(0,"azt-loading-effect")}function xr(t,e){if(1&t&&(g.Vb(0,"div",5),g.Vb(1,"div",6),g.Vb(2,"div",7),g.Vb(3,"span"),g.Tc(4),g.hc(5,"mytranslate"),g.Ub(),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(2);g.Db(4),g.Uc(g.ic(5,1,t.dataProcess.errorMessage))}}const wr=function(t){return{active:t}};function _r(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",16),g.Vb(1,"div",17),g.cc("click",function(){g.Ec(t);const i=e.index;return g.gc(4).selectClassroom(i)}),g.Vb(2,"div",18),g.Vb(3,"span",19),g.hc(4,"mytranslate"),g.hc(5,"mytranslate"),g.Tc(6),g.hc(7,"mytranslate"),g.hc(8,"slice"),g.hc(9,"mytranslate"),g.hc(10,"mytranslate"),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=e.$implicit,i=e.index,n=g.gc(4);g.Db(1),g.nc("ngClass",g.tc(17,wr,n.indexClassroom==i)),g.Db(2),g.oc("matTooltip",t.name&&g.ic(4,3,t.name).length>25?g.ic(5,5,t.name):""),g.Db(3),g.Vc(" ",t.name&&g.ic(7,7,t.name).length>25?g.kc(8,9,g.ic(9,13,t.name),0,25)+"..":g.ic(10,15,t.name),"")}}function yr(t,e){if(1&t&&(g.Qb(0,"img",32),g.hc(1,"mycdn")),2&t){const t=g.gc().$implicit;g.oc("src",g.ic(1,1,t.avatar),g.Ic)}}function Sr(t,e){if(1&t&&g.Qb(0,"azt-create-avatar",33),2&t){const t=g.gc().$implicit;g.nc("nameCreateAvatar",t.fullName)("size",30)}}function Ur(t,e){if(1&t&&g.Qb(0,"img",34),2&t){const t=g.gc().$implicit;g.nc("nameImages",t.nameImages)}}function Or(t,e){if(1&t){const t=g.Wb();g.Vb(0,"div",16),g.Vb(1,"button",20),g.cc("click",function(){g.Ec(t);const i=e.$implicit;return g.gc(4).selectStudentObj(i)}),g.Vb(2,"div",21),g.Vb(3,"div",22),g.Vb(4,"div",23),g.Rc(5,yr,2,3,"img",24),g.Rc(6,Sr,1,2,"azt-create-avatar",25),g.Ub(),g.Ub(),g.Vb(7,"div",26),g.Vb(8,"div",27),g.Vb(9,"p",28),g.Tc(10),g.hc(11,"slice"),g.Ub(),g.Vb(12,"div",29),g.Rc(13,Ur,1,1,"img",30),g.Ub(),g.Vb(14,"p",31),g.Tc(15),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub(),g.Ub()}if(2&t){const t=e.$implicit;g.Db(1),g.nc("disabled",!t.examResultId),g.Db(4),g.nc("ngIf",t.avatar&&""!=t.avatar),g.Db(1),g.nc("ngIf",!t.avatar||""==t.avatar),g.Db(3),g.oc("matTooltip",t.fullName&&t.fullName.length>25?t.fullName:""),g.Db(1),g.Vc(" ",t.fullName&&t.fullName.length>25?g.kc(11,7,t.fullName,0,25)+"..":t.fullName," "),g.Db(3),g.nc("ngIf",t.nameImages&&(t.studentId||0)<=0),g.Db(2),g.Vc(" ",t.examResultId?"\u0110i\u1ec3m: "+t.mark:"Ch\u01b0a c\xf3 \u0111i\u1ec3m"," ")}}function Ir(t,e){if(1&t&&(g.Vb(0,"div",10),g.Vb(1,"div",11),g.Vb(2,"h3",12),g.Tc(3,"Danh s\xe1ch l\u1edbp"),g.Ub(),g.Vb(4,"div",13),g.Rc(5,_r,11,19,"div",14),g.Ub(),g.Ub(),g.Vb(6,"div",15),g.Vb(7,"h3",12),g.Tc(8,"Danh s\xe1ch h\u1ecdc sinh"),g.Ub(),g.Vb(9,"div",13),g.Rc(10,Or,16,11,"div",14),g.Ub(),g.Ub(),g.Ub()),2&t){const t=g.gc(3);g.Db(5),g.nc("ngForOf",t.dataProcess.classroomObjs),g.Db(5),g.nc("ngForOf",t.studentInClassroom)}}function Vr(t,e){1&t&&(g.Vb(0,"div",6),g.Vb(1,"div",7),g.Tc(2," Gi\xe1o vi\xean ch\u01b0a cho xem k\u1ebft qu\u1ea3 thi "),g.Ub(),g.Ub())}function Cr(t,e){if(1&t&&(g.Rc(0,Ir,11,2,"div",8),g.Rc(1,Vr,3,0,"ng-template",null,9,g.Sc)),2&t){const t=g.Ac(2),e=g.gc(2);g.nc("ngIf",null==e.dataProcess.classroomObjs?null:e.dataProcess.classroomObjs.length)("ngIfElse",t)}}function Tr(t,e){if(1&t&&(g.Rc(0,xr,6,3,"div",3),g.Rc(1,Cr,3,2,"ng-template",null,4,g.Sc)),2&t){const t=g.Ac(2),e=g.gc();g.nc("ngIf",e.dataProcess.errorMessage&&""!==e.dataProcess.errorMessage)("ngIfElse",t)}}const kr=[{path:"",component:dr,canActivate:[v.a],children:[{path:"",canActivateChild:[v.a],children:[{path:":hash_id",component:br},{path:"category/:tenant_id/:cate_id/:page",component:ya},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:tt},{path:"student-view/:tenant_id/:cate_id/:hash_id",component:p},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:ea},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:V},{path:"test-result-tracking/:result_id/:hash_id",component:gr},{path:"test-result/:hash_id/:offline_code",component:(()=>{class t extends m.a{constructor(t,e,i,n){super(t),this.commonService=t,this.frontOfflineShareService=e,this.activeRoute=i,this.baseApiService=n,this.backLink="",this.dataProcess={},this.returnLink="",this.studentInClassroom=[],this.offlineCodeId="",this.indexClassroom=0}ngOnInit(){var t;let e=this.commonService.getMyParam(this.activeRoute,"hash_id");this.offlineCodeId=null!==(t=this.commonService.getMyParam(this.activeRoute,"offline_code"))&&void 0!==t?t:"",this.returnLink="/test/test-result/"+e+"/"+this.offlineCodeId,this.backLink="/student/dashboard/0",this.getData(),super.ngOnInit()}getData(){let t=this.commonService.getMyParam(this.activeRoute,"hash_id");t&&this.offlineCodeId&&(this.initStatusObj(),this.subscriptions.add(this.frontOfflineShareService.apiFrontOfflineShareGetExamClassroomObjsGet(t,this.offlineCodeId).subscribe(t=>{var e,i,n,o;1==t.success?(this.dataProcess=null!==(e=t.data)&&void 0!==e?e:{},(null===(i=this.dataProcess.classroomObjs)||void 0===i?void 0:i.length)&&this.dataProcess.classroomObjs.length>0&&(this.studentInClassroom=null!==(n=this.dataProcess.classroomObjs[0].studentObjs)&&void 0!==n?n:[]),this.successStatusObj()):this.errorStatusObj(null!==(o=t.message)&&void 0!==o?o:"",!0)})))}selectClassroom(t){var e,i;this.studentInClassroom=null!==(i=null===(e=this.dataProcess.classroomObjs)||void 0===e?void 0:e[t].studentObjs)&&void 0!==i?i:[],this.indexClassroom=t}selectStudentObj(t){var e,i,n,o,s;this.myNavigationWithQueryString(`/test/answer-test/${null!==(i=null===(e=this.dataProcess.examObj)||void 0===e?void 0:e.tenantId)&&void 0!==i?i:0}/${null!==(o=null===(n=this.dataProcess.examObj)||void 0===n?void 0:n.categoryId)&&void 0!==o?o:0}/${null===(s=this.dataProcess.examObj)||void 0===s?void 0:s.hashId}/${t.examResultId}`,`?offline=${this.offlineCodeId}&backto=${this.returnLink}`)}}return t.\u0275fac=function(e){return new(e||t)(g.Pb(f.a),g.Pb(_.H),g.Pb(c.a),g.Pb(Pt.a))},t.\u0275cmp=g.Jb({type:t,selectors:[["app-test-result"]],features:[g.Ab],decls:4,vars:4,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","container",4,"ngIf","ngIfElse"],["noErrorMessage",""],[1,"container"],[1,"block-empty","mt-5"],["role","alert",1,"alert","alert-danger","text-center"],["class","container mt-5",4,"ngIf","ngIfElse"],["noClassroom",""],[1,"container","mt-5"],[1,"block-main"],[1,"title"],[1,"row"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",4,"ngFor","ngForOf"],[1,"block-main","mt-3"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2"],[1,"card-custom",3,"ngClass","click"],[1,"text-center"],[1,"card-custom-title",3,"matTooltip"],[1,"card-custom","student_obj","clickable",3,"disabled","click"],[1,"row","ml-0","mr-0","justify-content-between",2,"width","100%"],[1,"col-3"],[1,"d-flex","align-items-center",2,"height","100%"],["style","vertical-align: middle; margin-top: 2px; border-radius: 50%","width","30","height","30",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-9","pl-0"],[1,"text-left"],[1,"h5","mb-1","card-custom-title","font-bold",3,"matTooltip"],[1,"block-img"],["class","stdinfo-fullname mb-1 img-fluid","appDrawNameImage","",3,"nameImages",4,"ngIf"],[1,"h6"],["width","30","height","30",2,"vertical-align","middle","margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],["appDrawNameImage","",1,"stdinfo-fullname","mb-1","img-fluid",3,"nameImages"]],template:function(t,e){if(1&t&&(g.Qb(0,"header-frontend",0),g.Rc(1,vr,1,0,"azt-loading-effect",1),g.Rc(2,Tr,3,2,"ng-template",null,2,g.Sc)),2&t){const t=g.Ac(3);g.nc("headerTitle","K\u1ebft qu\u1ea3 thi offline")("back_link",e.backLink),g.Db(1),g.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}},directives:[y.a,n.m,S.a,n.l,n.k,dt.a,fr.a,pr.a],pipes:[ht.z,n.u,ht.x],styles:[".content-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.card-custom[_ngcontent-%COMP%]{background-color:#fff;padding:15px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;cursor:pointer;display:flex;align-items:center;min-height:65px;position:relative;transition:all .3s;width:100%;text-transform:inherit}.card-custom[_ngcontent-%COMP%]:hover:not([disabled]){box-shadow:10px 10px 20px rgba(0,0,0,.07),-10px -10px 20px hsla(0,0%,100%,.8)}.card-custom-title[_ngcontent-%COMP%]{color:#000;font-weight:500}.content-link[_ngcontent-%COMP%]{color:#000;display:flex;align-items:center}.active[_ngcontent-%COMP%]{background:#2361ae;transition:all .3s}.active[_ngcontent-%COMP%], .active[_ngcontent-%COMP%]   .card-custom-title[_ngcontent-%COMP%]{color:#fff}.title[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:16px;margin-bottom:15px}.margin_question_bar_40[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem)!important}.margin_question_bar_60[_ngcontent-%COMP%]{margin-top:calc(2rem + 60px)!important}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}.isSelected[_ngcontent-%COMP%]{border:2px solid #004f7b}.isDisabled[_ngcontent-%COMP%]{opacity:.6}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}.col-3[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%}.col-9[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%}}@media only screen and (max-width:768px){.col-3[_ngcontent-%COMP%]{flex:0 0 25%;max-width:25%}.col-9[_ngcontent-%COMP%]{flex:0 0 75%;max-width:75%}}"]}),t})()}]}]}];let Dr=(()=>{class t{}return t.\u0275mod=g.Nb({type:t}),t.\u0275inj=g.Mb({factory:function(e){return new(e||t)},imports:[[c.l.forChild(kr)],c.l,h.c]}),t})(),Mr=(()=>{class t{}return t.\u0275mod=g.Nb({type:t}),t.\u0275inj=g.Mb({factory:function(e){return new(e||t)},imports:[[c.l,n.c,u.a,a.b,Dr,o.n,o.y,s.f,d.a,r.b,l.b,b.a]]}),t})()}}]);