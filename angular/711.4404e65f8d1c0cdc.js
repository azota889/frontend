(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[711],{1643:(ft,k,O)=>{"use strict";O.d(k,{p:()=>U});var n=O(55330),r=O(5e3),f=O(22868),l=O(35018),d=O(69808),v=O(1033);const x=function(t){return{"rotated-img":t}},m=function(t,A,B,I){return{"width.px":t,"height.px":A,"aspect-ratio":B,transform:I}};function b(t,A){if(1&t&&(r._UZ(0,"img",8),r.ALo(1,"mycdn")),2&t){const B=r.oxw(2).$implicit,I=r.oxw(2);r.s9C("src",r.lcZ(1,4,B.backgroundImage),r.LSH),r.Q6J("ngClass",r.VKq(6,x,I.isRightRotation(B.rotation||0)))("ngStyle",r.l5B(8,m,(B.width||0)<(B.height||0)?"auto":I.isRightRotation(B.rotation||0)?B.height:B.width,(B.width||0)>(B.height||0)?"auto":I.isRightRotation(B.rotation||0)?B.width:B.height,(B.width||0)/(B.height||1),"rotate("+B.rotation+"deg)")),r.uIk("data-ratio",(B.width||0)/(B.height||1))}}function i(t,A){1&t&&(r.TgZ(0,"div",9),r._uU(1,"\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng h\u1ed7 tr\u1ee3 xu\u1ea5t ra pdf, h\u1ec7 th\u1ed1ng ch\u1ec9 xu\u1ea5t \u0111\u01b0\u1ee3c file pdf \u0111\u1ed1i v\u1edbi file t\u1ea3i l\xean d\u1ea1ng \u1ea3nh v\xe0 pdf."),r.qZA())}function h(t,A){if(1&t&&(r._UZ(0,"img",10),r.ALo(1,"mycdn")),2&t){const B=r.oxw(2).$implicit;r.s9C("src",r.lcZ(1,1,B.draw),r.LSH)}}function s(t,A){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const B=r.oxw(6);r.xp6(1),r.hij(" ",null==B.result.staticTextConfigParse?null:B.result.staticTextConfigParse.textCorrect," ")}}function u(t,A){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const B=r.oxw(6);r.xp6(1),r.hij(" ",null==B.result.staticTextConfigParse?null:B.result.staticTextConfigParse.textWrong," ")}}function a(t,A){if(1&t&&r._UZ(0,"img",13),2&t){const B=r.oxw(6);r.s9C("src","assets/images/classlive/"+(null==B.result.staticTextConfigParse?null:B.result.staticTextConfigParse.urlImgCorrect),r.LSH)}}function c(t,A){if(1&t&&r._UZ(0,"img",13),2&t){const B=r.oxw(6);r.s9C("src","assets/images/classlive/"+(null==B.result.staticTextConfigParse?null:B.result.staticTextConfigParse.urlImgWrong),r.LSH)}}const y=function(t,A,B,I,G){return{"font-family":t,color:A,"font-size":B,position:"absolute","z-index":2,"top.px":I,"left.px":G}};function o(t,A){if(1&t&&(r.ynx(0),r.TgZ(1,"span",11),r.YNc(2,s,2,1,"ng-container",0),r.YNc(3,u,2,1,"ng-container",0),r.YNc(4,a,1,1,"img",12),r.YNc(5,c,1,1,"img",12),r.qZA(),r.BQk()),2&t){const B=A.$implicit,I=r.oxw(5);r.xp6(1),r.Q6J("ngStyle",r.qbA(5,y,null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.fontText,null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.fontColor,(null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.fontSize)+"px",B.y,B.x)),r.xp6(1),r.Q6J("ngIf",(null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.useCorrectText)&&"correct"==B.value),r.xp6(1),r.Q6J("ngIf",(null==I.result.staticTextConfigParse?null:I.result.staticTextConfigParse.useCorrectText)&&"wrong"==B.value),r.xp6(1),r.Q6J("ngIf",!(null!=I.result.staticTextConfigParse&&I.result.staticTextConfigParse.useCorrectText)&&"correct"==B.value),r.xp6(1),r.Q6J("ngIf",!(null!=I.result.staticTextConfigParse&&I.result.staticTextConfigParse.useWrongText)&&"wrong"==B.value)}}function p(t,A){if(1&t&&r.YNc(0,o,6,11,"ng-container",2),2&t){const B=r.oxw(2).$implicit;r.Q6J("ngForOf",B.staticText)}}const E=function(t,A,B,I,G,W){return{"font-family":t,color:A,"font-size":B,display:"block","line-height":1.5,position:"absolute",letterSpacing:"3px",fontWeight:"bold","z-index":3,"text-align":I,"top.px":G,"left.px":W}};function C(t,A){if(1&t&&(r.ynx(0),r._UZ(1,"span",14),r.ALo(2,"formatNoteBreak"),r.BQk()),2&t){const B=A.$implicit;r.xp6(1),r.Q6J("ngStyle",r.HTZ(4,E,B.textStyle.font,B.textStyle.color,B.textStyle.size+"px",B.textStyle.align,B.y,B.x))("innerHtml",r.lcZ(2,2,B.value),r.oJD)}}function P(t,A){if(1&t&&r.YNc(0,C,3,11,"ng-container",2),2&t){const B=r.oxw(2).$implicit;r.Q6J("ngForOf",B.objText)}}function S(t,A){if(1&t&&(r.YNc(0,b,2,13,"img",5),r.ALo(1,"isImageExtension"),r.YNc(2,i,2,0,"ng-template",null,6,r.W1O),r.YNc(4,h,2,3,"img",7),r.YNc(5,p,1,1,"ng-template",4),r.YNc(6,P,1,1,"ng-template",4)),2&t){const B=r.MAs(3),I=r.oxw().$implicit;r.Q6J("ngIf",r.lcZ(1,5,(null==I?null:I.backgroundImage)||""))("ngIfElse",B),r.xp6(4),r.Q6J("ngIf",I.draw),r.xp6(1),r.Q6J("ngIf",I.staticText&&I.staticText.length>0),r.xp6(1),r.Q6J("ngIf",I.objText&&I.objText.length>0)}}const L=function(t,A){return{position:"relative","width.px":t,"height.px":A,display:"flex","justify-content":"center","align-items":"center",margin:"0 auto"}};function K(t,A){if(1&t&&(r.ynx(0),r.TgZ(1,"div",3),r.YNc(2,S,7,7,"ng-template",4),r.qZA(),r.BQk()),2&t){const B=A.$implicit;r.xp6(1),r.Q6J("ngStyle",r.WLB(2,L,B.width,B.height)),r.xp6(1),r.Q6J("ngIf",null==B?null:B.backgroundImage)}}function w(t,A){if(1&t&&(r.ynx(0),r.TgZ(1,"h3",1)(2,"span"),r._uU(3),r.qZA()(),r.YNc(4,K,3,5,"ng-container",2),r.BQk()),2&t){const B=r.oxw();r.xp6(3),r.Oqu(B.title),r.xp6(1),r.Q6J("ngForOf",B.result.pages)}}let U=(()=>{class t extends n.Q{constructor(B,I){super(I),this.iframeService=B,this.commonService=I,this.title="\u1ea2nh b\xe0i l\xe0m t\u1ef1 lu\u1eadn",this.result={}}isRightRotation(B){return 1==Math.abs(B/90%2)}getJson(B){return this.commonService.parseJson(null!=B?B:"")}ngOnInit(){this.result.staticTextConfig&&(this.result.staticTextConfigParse=this.commonService.parseJson(this.result.staticTextConfig)),super.ngOnInit()}ngOnChanges(){this.result.staticTextConfig&&(this.result.staticTextConfigParse=this.commonService.parseJson(this.result.staticTextConfig))}}return t.\u0275fac=function(B){return new(B||t)(r.Y36(f.X),r.Y36(l.v))},t.\u0275cmp=r.Xpm({type:t,selectors:[["azt-export-essay-template"]],inputs:{title:"title",result:"result"},features:[r.qOj,r.TTD],decls:1,vars:1,consts:[[4,"ngIf"],["id","essayPdfTitle",1,"text-center","mt-2"],[4,"ngFor","ngForOf"],[1,"mb-2","essayPdfImage",3,"ngStyle"],[3,"ngIf"],["class","user-img img_respon","alt","",3,"ngClass","ngStyle","src",4,"ngIf","ngIfElse"],["noSupportExtension",""],["style","position: absolute; z-index: 1; top: 0; left: 0","class","user-img img_respon","alt","",3,"src",4,"ngIf"],["alt","",1,"user-img","img_respon",3,"ngClass","ngStyle","src"],[1,"p-2","text-center",2,"border","2px solid red"],["alt","",1,"user-img","img_respon",2,"position","absolute","z-index","1","top","0","left","0",3,"src"],[2,"min-height","50px","min-width","50px","font-weight","bold","display","flex","line-height","1.5","font-weight","bold","align-items","center","justify-content","center","text-shadow","rgb(130 126 126) 1px 1px 1px",3,"ngStyle"],["width","30","height","30","class","","alt","",3,"src",4,"ngIf"],["width","30","height","30","alt","",1,"",3,"src"],[3,"ngStyle","innerHtml"]],template:function(B,I){1&B&&r.YNc(0,w,5,2,"ng-container",0),2&B&&r.Q6J("ngIf",I.result)},dependencies:[d.mk,d.sg,d.O5,d.PC,v.GT,v.AL,v.kJ],encapsulation:2}),t})()},83467:(ft,k,O)=>{"use strict";O.d(k,{O:()=>D});var n=O(5e3),r=O(55330),f=O(35018),l=O(72491),d=O(74202),v=O(69808),x=O(69287),m=O(25245),b=O(44841),i=O(64123),h=O(37104),s=O(1033);function u(Z,Y){if(1&Z){const R=n.EpF();n.TgZ(0,"div")(1,"div",4)(2,"p",5),n._uU(3,"Ch\u01b0a c\xf3 d\u1eef li\u1ec7u n\u1ed9p b\xe0i"),n.qZA(),n.TgZ(4,"p",6),n._uU(5,'N\u1ebfu ch\u01b0a g\u1eedi link n\u1ed9p b\xe0i cho h\u1ecdc sinh, vui l\xf2ng b\u1ea5m "Copy link b\xe0i t\u1eadp" b\xean d\u01b0\u1edbi v\xe0 g\u1eedi cho h\u1ecdc sinh \u0111\u1ec3 n\u1ed9p b\xe0i.'),n.qZA(),n.TgZ(6,"a",7),n.NdJ("click",function(){n.CHM(R);const nt=n.oxw();return n.KtG(nt.showCopySuccess())}),n.TgZ(7,"mat-icon",8),n._uU(8,"share"),n.qZA(),n.TgZ(9,"span",8),n._uU(10,"\xa0Copy link b\xe0i t\u1eadp"),n.qZA()()()()}if(2&Z){const R=n.oxw();n.xp6(6),n.Q6J("cdkCopyToClipboard",R.copyLinkHomeWorkToClipboard())}}function a(Z,Y){1&Z&&(n.TgZ(0,"p",29),n._uU(1," Ch\u01b0a ch\u1ea5m "),n.qZA())}function c(Z,Y){1&Z&&(n.TgZ(0,"p",30),n._uU(1," Ch\u01b0a n\u1ed9p "),n.qZA())}function y(Z,Y){1&Z&&(n.TgZ(0,"p",30),n._uU(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),n.qZA())}function o(Z,Y){if(1&Z&&(n.TgZ(0,"p",31),n._uU(1," \u0110i\u1ec3m: "),n.TgZ(2,"b"),n._UZ(3,"azt-check-mark",32),n.qZA()()),2&Z){const R=n.oxw(2).$implicit;n.xp6(3),n.Q6J("mark",R.point)}}function p(Z,Y){if(1&Z&&(n.TgZ(0,"p",33),n._uU(1),n.qZA()),2&Z){const R=n.oxw(2).$implicit,X=n.oxw(2);n.xp6(1),n.hij(" ",X.calculationTime(R.createdAt)," tr\u01b0\u1edbc ")}}function E(Z,Y){if(1&Z&&(n.TgZ(0,"div",23)(1,"p",33),n._uU(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),n.qZA(),n.TgZ(3,"p",33),n._uU(4),n.qZA()()),2&Z){const R=n.oxw(2).$implicit;let X;n.xp6(4),n.hij(" ",null!==(X=null==R.answerFileObjs?null:R.answerFileObjs.length)&&void 0!==X?X:0," ")}}const C=function(Z){return[Z]},P=function(Z){return{backto:Z}},S=function(Z){return{disableClick:Z}};function L(Z,Y){if(1&Z&&(n.TgZ(0,"div")(1,"a",15),n.ALo(2,"mylocalize"),n.TgZ(3,"div",16)(4,"div",17)(5,"span",18),n._UZ(6,"azt-create-avatar",19),n.qZA(),n.TgZ(7,"div",20)(8,"div",21)(9,"span",8)(10,"span",22),n._uU(11),n.qZA()()(),n.TgZ(12,"div",23),n.YNc(13,a,2,0,"p",24),n.YNc(14,c,2,0,"p",25),n.YNc(15,y,2,0,"p",25),n.YNc(16,o,4,1,"p",26),n.YNc(17,p,2,1,"p",27),n.qZA(),n.YNc(18,E,5,1,"div",28),n.qZA()()()()()),2&Z){const R=n.oxw().$implicit,X=n.oxw(2);n.xp6(1),n.Q6J("routerLink",n.VKq(15,C,n.lcZ(2,13,"/admin/homework/mark-exercise/"+R.answer.id+"/"+X.obj.hashId)))("queryParams",n.VKq(17,P,X.backToLink)),n.xp6(2),n.Q6J("ngClass",n.VKq(19,S,R.isNotSubmit||R.mustReSubmit)),n.xp6(3),n.Q6J("linkAvatar",R.avatar)("nameCreateAvatar",R.fullName)("size",30),n.xp6(5),n.Oqu(R.fullName),n.xp6(2),n.Q6J("ngIf",R.isSubmitted),n.xp6(1),n.Q6J("ngIf",R.isNotSubmit),n.xp6(1),n.Q6J("ngIf",R.mustReSubmit),n.xp6(1),n.Q6J("ngIf",R.isMarked),n.xp6(1),n.Q6J("ngIf",null!=R.createdAt),n.xp6(1),n.Q6J("ngIf",R.isMarked||R.isSubmitted)}}function K(Z,Y){1&Z&&(n.TgZ(0,"p",29),n._uU(1," Ch\u01b0a ch\u1ea5m "),n.qZA())}function w(Z,Y){1&Z&&(n.TgZ(0,"p",30),n._uU(1," Ch\u01b0a n\u1ed9p "),n.qZA())}function U(Z,Y){1&Z&&(n.TgZ(0,"p",30),n._uU(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),n.qZA())}function t(Z,Y){if(1&Z&&(n.TgZ(0,"p",31),n._uU(1," \u0110i\u1ec3m: "),n.TgZ(2,"b"),n._uU(3),n.qZA()()),2&Z){const R=n.oxw(2).$implicit;n.xp6(3),n.Oqu(R.point)}}function A(Z,Y){if(1&Z&&(n.TgZ(0,"p",33),n._uU(1),n.qZA()),2&Z){const R=n.oxw(2).$implicit,X=n.oxw(2);n.xp6(1),n.hij(" ",X.calculationTime(R.createdAt)," tr\u01b0\u1edbc ")}}function B(Z,Y){1&Z&&(n.TgZ(0,"div",23)(1,"p",33),n._uU(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),n.qZA(),n.TgZ(3,"p",33),n._uU(4," 0 "),n.qZA()())}function I(Z,Y){if(1&Z){const R=n.EpF();n.TgZ(0,"div",16)(1,"div",17)(2,"span",18),n._UZ(3,"azt-create-avatar",19),n.qZA(),n.TgZ(4,"div",34),n.NdJ("click",function(){n.CHM(R);const nt=n.oxw().$implicit,tt=n.oxw(2);return n.KtG(tt.goToResultReview(nt))}),n.TgZ(5,"div",21)(6,"span",8)(7,"span",22),n._uU(8),n.qZA()()(),n.TgZ(9,"div",23),n.YNc(10,K,2,0,"p",24),n.YNc(11,w,2,0,"p",25),n.YNc(12,U,2,0,"p",25),n.YNc(13,t,4,1,"p",26),n.YNc(14,A,2,1,"p",27),n.qZA(),n.YNc(15,B,5,0,"div",28),n.qZA()()()}if(2&Z){const R=n.oxw().$implicit;n.Q6J("ngClass",n.VKq(11,S,R.isNotSubmit||R.mustReSubmit)),n.xp6(3),n.Q6J("linkAvatar",R.avatar)("nameCreateAvatar",R.fullName)("size",30),n.xp6(5),n.Oqu(R.fullName),n.xp6(2),n.Q6J("ngIf",R.isSubmitted),n.xp6(1),n.Q6J("ngIf",R.isNotSubmit),n.xp6(1),n.Q6J("ngIf",R.mustReSubmit),n.xp6(1),n.Q6J("ngIf",R.isMarked),n.xp6(1),n.Q6J("ngIf",null!=R.createdAt),n.xp6(1),n.Q6J("ngIf",R.isMarked||R.isSubmitted)}}const G=function(Z){return{"col-lg-4":Z}};function W(Z,Y){if(1&Z&&(n.TgZ(0,"div",12),n.YNc(1,L,19,21,"div",13),n.YNc(2,I,16,13,"ng-template",null,14,n.W1O),n.qZA()),2&Z){const R=Y.$implicit,X=n.MAs(3),nt=n.oxw(2);n.Q6J("ngClass",n.VKq(3,G,nt.isOpenSideNav)),n.xp6(1),n.Q6J("ngIf",R.answer)("ngIfElse",X)}}function V(Z,Y){if(1&Z&&(n.TgZ(0,"div",9)(1,"div",10),n.YNc(2,W,4,5,"div",11),n.qZA()()),2&Z){const R=n.oxw();n.xp6(2),n.Q6J("ngForOf",R.studentLists)}}const M=function(){return{suppressScrollX:!0}};let D=(()=>{class Z extends r.Q{constructor(R,X){super(R),this.commonService=R,this.timeService=X,this.isSortByTime=!1,this.backToLink="",this.searchKey="",this.studentLists=[],this.isNotTestedYet=!1,this.isOpenSideNav=!0,this.obj={},this.goToResult=new n.vpe}goToResultReview(R){R.isNotSubmit||R.mustReSubmit||this.goToResult.emit(R)}copyLinkHomeWorkToClipboard(){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${this.obj.hashId}`}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}calculationTime(R,X){return this.timeService.calculationTime(R,X)}}return Z.\u0275fac=function(R){return new(R||Z)(n.Y36(f.v),n.Y36(l.O))},Z.\u0275cmp=n.Xpm({type:Z,selectors:[["app-student-homework-result"]],inputs:{isSortByTime:"isSortByTime",backToLink:"backToLink",searchKey:"searchKey",studentLists:"studentLists",isNotTestedYet:"isNotTestedYet",isOpenSideNav:"isOpenSideNav",obj:"obj"},outputs:{goToResult:"goToResult"},features:[n.qOj],decls:4,vars:5,consts:[[1,"box-content","py-2","scrollable-content"],[3,"config","scrollIndicators"],[4,"ngIf"],["class","pt-0 pb-2 px-3 ",4,"ngIf"],[1,"text-center","mt-5"],[1,"h5",2,"color","#333333","font-size","18px!important"],[1,"mt-2","ml-auto","mr-auto","w-60",2,"color","#333333"],[1,"clickable","mt-2","link__color","link__hover",2,"user-select","none",3,"cdkCopyToClipboard","click"],[2,"vertical-align","middle"],[1,"pt-0","pb-2","px-3"],[1,"row","ml-0","mr-0","pl-0","pr-0","mt-2"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2",3,"ngClass"],[4,"ngIf","ngIfElse"],["answerIdNull",""],[3,"routerLink","queryParams"],[1,"box-item",3,"ngClass"],[1,"student-item"],[1,"stdimg","align-self-center"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"stdinfo"],[1,"stdinfo-fullname"],[2,"vertical-align","middle","color","#333333","font-weight","400","font-size","15px","word-break","break-word"],[1,"d-flex","justify-content-between"],["style","color: #F39C12; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","color: #9F0000; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px; color: #9C9C9C",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[2,"color","#F39C12","font-size","13px","margin-bottom","2px"],[2,"color","#9F0000","font-size","13px","margin-bottom","2px"],[2,"font-size","13px","margin-bottom","2px"],[3,"mark"],[2,"font-size","13px","margin-bottom","2px","color","#9C9C9C"],[1,"stdinfo",3,"click"]],template:function(R,X){1&R&&(n.TgZ(0,"div",0)(1,"perfect-scrollbar",1),n.YNc(2,u,11,1,"div",2),n.YNc(3,V,3,1,"div",3),n.qZA()()),2&R&&(n.xp6(1),n.Q6J("config",n.DdM(4,M))("scrollIndicators",!0),n.xp6(1),n.Q6J("ngIf",X.isNotTestedYet),n.xp6(1),n.Q6J("ngIf",!X.isNotTestedYet))},dependencies:[d.yS,v.mk,v.sg,v.O5,x.i3,m.Hw,b.Vv,i.t,h.B,s.mp],styles:[".box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e9e9e9;border-radius:5px;box-shadow:none}a[_ngcontent-%COMP%]{color:#000}.disableClick[_ngcontent-%COMP%]{cursor:default!important}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 166px);overflow:hidden}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;cursor:pointer;position:relative}.badge-testing[_ngcontent-%COMP%]{position:absolute;top:0;right:6px;border-radius:4px;padding:0 3px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%]{display:flex}.link-stu[_ngcontent-%COMP%]{display:flex;align-items:center}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.create-avatar[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin-top:2px;border-radius:50%;width:30px;text-transform:uppercase;height:30px;background:#ddd;text-align:center;padding-top:5px}.link__color[_ngcontent-%COMP%]{color:#2262ae!important}.link__hover[_ngcontent-%COMP%]:hover{color:#0a8f9e!important}@media screen and (max-width: 750px){.scrollable-content[_ngcontent-%COMP%]{min-height:calc(100vh - 170px);height:auto;overflow-y:inherit}.tested_list_container[_ngcontent-%COMP%]{height:auto}}"]}),Z})()},61372:(ft,k,O)=>{"use strict";O.d(k,{Y:()=>f});var n=O(5e3),r=O(34782);let f=(()=>{class l{constructor(v){this.browserStorageService=v,this.global_data_filter={}}getCustomFilter(v,x){let m="";switch(v){case"exam":m="saveFilterExam_"+x;break;case"homework":m="saveFilterHomework_"+x}return this.global_data_filter[m]}setCustomFilter(v,x,m){let b="";switch(x){case"exam":b="saveFilterExam_"+m,this.global_data_filter[b]="",v.isMarked&&(this.global_data_filter[b]+="isMarked "),v.isNotMarked&&(this.global_data_filter[b]+="isNotMarked "),v.isOnTest&&(this.global_data_filter[b]+="isOnTest "),v.isNotTested&&(this.global_data_filter[b]+="isNotTested ");break;case"homework":b="saveFilterHomework_"+m,this.global_data_filter[b]="",v.isMarked&&(this.global_data_filter[b]+="isMarked "),v.isSubmitted&&(this.global_data_filter[b]+="isSubmitted "),v.isNotSubmit&&(this.global_data_filter[b]+="isNotSubmit "),v.mustReSubmit&&(this.global_data_filter[b]+="mustReSubmit ")}}removeCustomFilter(v,x){let m="";switch(v){case"exam":m="saveFilterExam_"+x,this.global_data_filter[m]="";break;case"homework":m="saveFilterHomework_"+x,this.global_data_filter[m]=""}}getStatusSideNav(v){var x;return null!==(x=this.browserStorageService.getSimpleStorage("statusSideNav_"+v))&&void 0!==x?x:""}removeStatusSideNav(v){this.browserStorageService.removeSimpleStorage("statusSideNav_"+v)}saveStatusSideNav(v,x){this.browserStorageService.saveSimpleStorage("statusSideNav_"+v,x?"open":"close")}}return l.\u0275fac=function(v){return new(v||l)(n.LFG(r.z))},l.\u0275prov=n.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()},296:(ft,k,O)=>{"use strict";O.d(k,{S:()=>x});var n=O(70655),r=O(43191),f=O(5e3),l=O(35018),d=O(15043),v=O(20814);let x=(()=>{class m{constructor(i,h,s,u){this.commonService=i,this.cdnService=h,this.customQuestionAnswerConfig=s,this.exportPdfUtilsService=u}processEssayResultToBase64(i){var h,s,u,a,c;return(0,n.mG)(this,void 0,void 0,function*(){for(const y of null!==(h=i.pages)&&void 0!==h?h:[]){if(y.draw){this.cdnService.isViettelCDN(null!==(u=null===(s=i.pages)||void 0===s?void 0:s[0].backgroundImage)&&void 0!==u?u:"")&&(yield this.exportPdfUtilsService.asyncTimeout(500));const o=yield this.exportPdfUtilsService.convertAndRetryToBase64(y.draw);y.draw=o}if(this.cdnService.isViettelCDN(null!==(c=null===(a=i.pages)||void 0===a?void 0:a[0].backgroundImage)&&void 0!==c?c:"")&&(yield this.exportPdfUtilsService.asyncTimeout(500)),y.backgroundImage){const o=yield this.exportPdfUtilsService.convertAndRetryToBase64(y.backgroundImage);y.backgroundImage=o}}if(i.commentEmoji&&i.commentEmoji.length){let y="https://azota889.github.io/storage_public/mnote/",o=i.commentEmoji.length;for(let p=0;p<o;p++){let E=y+i.commentEmoji[p];const C=yield this.exportPdfUtilsService.convertAndRetryToBase64(E);i.commentEmoji[p]=C}}return i})}processGroupImagesToBase64(i,h){var s,u,a;return(0,n.mG)(this,void 0,void 0,function*(){if(i&&(null===(s=null==i?void 0:i[0].name)||void 0===s?void 0:s.startsWith("[PDFv2]")))for(const c of i)if(i[0].questionContentParse&&this.cdnService.isViettelCDN(null!==(u=i[0].questionContentParse[0].groupUrl)&&void 0!==u?u:"")&&(yield this.exportPdfUtilsService.asyncTimeout(500)),c.questionContentParse&&c.questionContentParse[0].groupUrl&&h.includes(null!==(a=c.indexLabel)&&void 0!==a?a:-1)){const y=yield this.exportPdfUtilsService.convertAndRetryToBase64(c.questionContentParse[0].groupUrl);c.questionContentParse[0].groupUrl=y}})}processQuestionImagesToBase64(i){var h,s,u,a;return(0,n.mG)(this,void 0,void 0,function*(){if(1==i[0].isImage)for(const c of i){this.cdnService.isViettelCDN(null!==(s=null===(h=i[0].questionContentParse)||void 0===h?void 0:h[0].url)&&void 0!==s?s:"")&&(yield this.exportPdfUtilsService.asyncTimeout(500));const y=yield this.exportPdfUtilsService.convertAndRetryToBase64(null!==(a=null===(u=c.questionContentParse)||void 0===u?void 0:u[0].url)&&void 0!==a?a:"");c.questionContentParse&&(c.questionContentParse[0].url=y)}})}processQuestionDocxContentToBase64(i){var h,s,u,a;return(0,n.mG)(this,void 0,void 0,function*(){if(0==i[0].isImage)for(const y of i){var c=this.exportPdfUtilsService.findImageSrcInContent(null!==(s=null===(h=y.questionContentParse)||void 0===h?void 0:h[0].content)&&void 0!==s?s:"");if(this.cdnService.isViettelCDN(c)&&(yield this.exportPdfUtilsService.asyncTimeout(500)),c&&!c.includes(";base64")){const o=yield this.exportPdfUtilsService.convertAndRetryToBase64(c);(null===(a=null===(u=y.questionContentParse)||void 0===u?void 0:u[0].content)||void 0===a?void 0:a.includes("img"))&&o&&(y.questionContentParse[0].content=y.questionContentParse[0].content.replace(c,o))}}})}convertAnswersArr(i,h){0!=i.length&&i.forEach(s=>{s.QuestionId&&s.AnswerContent&&s.AnswerContent[0]&&s.AnswerContent[0].Content&&(h[`id_${s.QuestionId}`]=s.AnswerContent[0].Content)})}parseQuestionsFor_PDFv2(i,h){var s,u;let a=this.commonService.castJsonToClassObjs(r.jI,JSON.stringify(null===(s=h.data)||void 0===s?void 0:s.questionObjs));i=this.customQuestionAnswerConfig.changeQuestionContent(null!=a?a:[],!0);for(let c=0;c<i.length;c++)i[c].indexLabel=c,i[c].correctAnswer=this.commonService.filterArray(null===(u=h.data)||void 0===u?void 0:u.correctQuestionIds,i[c].id);return i}findScaleDirection(i,h){return i/h>=.7070707070707071?"w":"h"}}return m.\u0275fac=function(i){return new(i||m)(f.LFG(l.v),f.LFG(d.U),f.LFG(r.UJ),f.LFG(v.V))},m.\u0275prov=f.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},16031:(ft,k,O)=>{"use strict";O.d(k,{I:()=>a});var n=O(70655),r=O(4159),l=O(53583),d=O(17489),x=O(5e3),m=O(296),b=O(20814),i=O(24782);let a=(()=>{class c{constructor(o,p,E){this.exportPdfConvertDataService=o,this.exportPdfUtilsService=p,this.answerTypeService=E,this.totalDraw=1,this.countDraw=0,this.currentPos={top:10,left:10,right:10,bottom:10},this.pdfDoc=new l.jsPDF}get loadPercent(){return Math.floor(this.countDraw/this.totalDraw*100)}resetPosition(o){o&&(this.currentPos={left:parseInt(window.getComputedStyle(o,null).getPropertyValue("padding-left").split("p")[0],10),top:parseInt(window.getComputedStyle(o,null).getPropertyValue("padding-top").split("p")[0],10),right:parseInt(window.getComputedStyle(o,null).getPropertyValue("padding-right").split("p")[0],10),bottom:parseInt(window.getComputedStyle(o,null).getPropertyValue("padding-bottom").split("p")[0],10)})}drawHomeworkNoteBoxOfTeacher(o){return(0,n.mG)(this,void 0,void 0,function*(){let p=document.querySelector(".box-point.display .text-mark");if(o){o.font="25px font_chu_dep",o.fillStyle="#000",p&&o.fillText("\u0110i\u1ec3m",90,this.currentPos.top+20),o.fillText("L\u1eddi ph\xea c\u1ee7a gi\xe1o vi\xean",420,this.currentPos.top+20),this.currentPos.top+=30;let E=document.querySelector(".box-msg .note p");if(E){o.lineWidth=2,o.fillStyle="#000",o.fillRect(this.currentPos.left,this.currentPos.top,o.canvas.width-this.currentPos.left-this.currentPos.right,1);const C=this.currentPos.top;let P=window.getComputedStyle(E,null).getPropertyValue("font"),S=window.getComputedStyle(E,null).getPropertyValue("color"),L=parseInt(P.split(" ")[0].split("p")[0],10);o.font=P;let w=this.exportPdfUtilsService.essayText2LinesArr(E.innerHTML,o,o.canvas.width-60-30-(p?200:0),16,P);this.currentPos.top+=35;const U=Math.round(1.5*L),t=this.currentPos.left+(p?200:0)+15;let A=0,B=200;for(let R=0;R<w.length;R++)for(let X=0;X<w[R].length;X++){const nt=w[R][X];o.font=P,o.fillStyle=S,o.fillText(nt,t,this.currentPos.top),this.currentPos.top+=U,A+=U}let I=document.querySelectorAll(".box-emoji> img"),G=this.currentPos.left+(p?100:0)+15,W=this.currentPos.top,V=78,M=78,D=15;I.forEach(R=>{var X;let nt=new Image;nt.src=null!==(X=R.getAttribute("src"))&&void 0!==X?X:"",nt.onload=()=>{G=G+V+D,o.drawImage(nt,G,W,V,M)}});let Y=30+M;if(A>B-Y&&(B=A+Y),o.lineWidth=2,o.fillStyle="#000",o.fillRect(this.currentPos.left,C,1,B),p&&o.fillRect(this.currentPos.left+200,C,1,B),o.fillRect(o.canvas.width-this.currentPos.right,C,1,B),o.fillRect(this.currentPos.left,C+B,o.canvas.width-this.currentPos.right-this.currentPos.left,1),p){let R=p.getBoundingClientRect().width,X=p.getBoundingClientRect().height,nt=window.getComputedStyle(p,null).getPropertyValue("font"),tt=window.getComputedStyle(p,null).getPropertyValue("color");o.font=nt,o.fillStyle=tt,o.fillText(p.textContent?p.textContent:"",this.currentPos.left+100-R/2,C+B/2+X/4)}this.currentPos.top=C+B+20}else{if(o.lineWidth=2,o.rect(this.currentPos.left,this.currentPos.top,o.canvas.width-this.currentPos.left-this.currentPos.right,200),o.stroke(),p&&o.fillRect(this.currentPos.left+200,this.currentPos.top,1,200),p){let C=p.getBoundingClientRect().width,P=p.getBoundingClientRect().height,S=window.getComputedStyle(p,null).getPropertyValue("font"),L=window.getComputedStyle(p,null).getPropertyValue("color");o.font=S,o.fillStyle=L,o.fillText(p.textContent?p.textContent:"",this.currentPos.left+100-C/2,this.currentPos.top+150-P/2)}this.currentPos.top+=220}}})}drawExamTitle(o){if(o){let A=document.querySelector("#mainTitle span"),B=A?window.getComputedStyle(A,null).getPropertyValue("font"):"",I=null==A?void 0:A.getBoundingClientRect().width,G=null==A?void 0:A.getBoundingClientRect().height;var p=null==A?void 0:A.querySelector("img"),E=null==p?void 0:p.getBoundingClientRect().width,C=null==p?void 0:p.getBoundingClientRect().height,P=0;if(A&&A.textContent&&I&&G&&!(p&&E&&C)){var S=(o.canvas.width-I)/2,L=this.currentPos.top+15;o.font=B,o.fillStyle="#000",o.fillText(A.textContent,S,L),P=G+20}else A&&A.textContent&&I&&G&&p&&E&&C&&(S=(o.canvas.width-I)/2,L=this.currentPos.top+20,o.font=B,o.fillStyle="#000",o.fillText(A.textContent,S,L),P=G+40,o.drawImage(p,0,0,E,C,S+(I-E)+5,this.currentPos.top-10,E,C));P>0&&(this.currentPos.top+=P,this.countDraw++)}}drawExamSubTitle(o,p){if(o){let E=document.querySelector(p),C=E?window.getComputedStyle(E,null).getPropertyValue("font"):"",P=parseInt(C.split(" ")[0].split("p")[0],10),S=null==E?void 0:E.getBoundingClientRect().width,L=null==E?void 0:E.getBoundingClientRect().height;if(E&&E.textContent&&S&&L){let K=this.exportPdfUtilsService.drawTextWrap(E.textContent,o,S,16);for(let w=0;w<K.length;w++){const U=K[w];o.font=C,o.fillStyle="#000",o.fillText(U,this.currentPos.left,this.currentPos.top),this.currentPos.top+=1.3*P}this.currentPos.top+="#examName"==p?15:30}}}drawColLeftRightInHeaderOfExam(o){var p;let E=document.getElementById("colLeftInfo"),C=document.getElementById("colRightInfo"),P=E?E.querySelectorAll("h3"):void 0,S=C?C.querySelectorAll("h3"):void 0,L={top:0,left:0,right:0,bottom:0};if(o){if(o.font="16px Arial",P)for(let K=0;K<P.length;K++){0==K&&(L=d.cloneDeep(this.currentPos));const w=P[K];w.textContent&&(o.fillText(null!==(p=w.textContent)&&void 0!==p?p:"",this.currentPos.left,this.currentPos.top),this.currentPos.top+=w.getBoundingClientRect().height+5)}if(S)for(let K=0;K<S.length;K++){const w=S[K];w.textContent&&(o.fillText(w.textContent,o.canvas.width-this.currentPos.right-w.getBoundingClientRect().width,L.top),L.top+=w.getBoundingClientRect().height+5)}}}drawHorizonLineOfExam(o){this.currentPos.top=this.currentPos.top+10,o&&(o.fillStyle="#999",o.fillRect(this.currentPos.left,this.currentPos.top,o.canvas.width-this.currentPos.left-this.currentPos.right,2),this.currentPos.top+=10,this.countDraw++)}drawHeaderImageOfExam(o){let p=document.querySelector("#examHeader img");if(p&&o){let E=p.naturalWidth,C=p.naturalHeight,P=o.canvas.width-this.currentPos.left-this.currentPos.right,S=P*C/E;o.drawImage(p,0,0,E,C,this.currentPos.left,this.currentPos.top,P,S),this.currentPos.top+=S+20,this.countDraw++}}drawQuestionObjsInPdf(o,p,E){var C;if(o){let P=p.filter(S=>1==S.isImage);for(let S=0;S<P.length;S++){let L=P[S],K=null===(C=document.getElementById("question_item_box_"+L.id))||void 0===C?void 0:C.getBoundingClientRect().height;K&&K<o.canvas.height-this.currentPos.bottom-this.currentPos.top||(this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,o.canvas.toDataURL("image/jpeg",.8)),this.pdfDoc.addPage(),this.exportPdfUtilsService.eraseCanvas(o),this.resetPosition(E)),this.drawSinglePdfQuestion(o,E,L)}}}drawEssayOrDocxQuestionInCanvas(o,p){return(0,n.mG)(this,void 0,void 0,function*(){if(o){let E=document.querySelectorAll(".__canvas_render_item");if(E.length>0){let C=[];for(let P=0;P<E.length;P++)C.push(P);for(const P of C){const S=yield r(E[P]),L=o.canvas.width-this.currentPos.left-this.currentPos.right,K=L*S.height/S.width;if(K<=o.canvas.height-this.currentPos.bottom-this.currentPos.top)this.drawSingleDocxQuestionInCanvas(o,S,L,K);else if(this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,o.canvas.toDataURL("image/jpeg",.8)),this.pdfDoc.addPage(),this.exportPdfUtilsService.eraseCanvas(o),this.resetPosition(p),"h"==this.exportPdfConvertDataService.findScaleDirection(S.width,S.height)){const w=o.canvas.height-10-10,U=w*S.width/S.height;this.drawSingleDocxQuestionInCanvas(o,S,L,K,(o.canvas.width-U)/2,10,U,w)}else this.drawSingleDocxQuestionInCanvas(o,S,L,K)}this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,o.canvas.toDataURL("image/jpeg",.8))}else this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,o.canvas.toDataURL("image/jpeg",.8))}})}convertEssayBoxes2Canvas(o,p,E,C){return(0,n.mG)(this,void 0,void 0,function*(){let P=[];for(let S=0;S<o.length;S++)P.push(S);for(const S of P){const L=yield r(o[S]);if(0==S&&p){const U=(p.canvas.width-50-50)*L.height/L.width;C&&U>p.canvas.height-50-this.currentPos.top&&(this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,p.canvas.toDataURL("image/jpeg",1)),this.exportPdfUtilsService.eraseCanvas(p),this.resetPosition(E),this.pdfDoc.addPage()),this.addEssayImage(p,o,L,S)}else this.exportPdfUtilsService.eraseCanvas(p),this.resetPosition(E),this.addEssayImage(p,o,L,S)}})}drawEssayIframeContent(o,p,E){return(0,n.mG)(this,void 0,void 0,function*(){let C=document.querySelectorAll(".essayPdfImage");if(C.length>0&&o){E||(this.exportPdfUtilsService.eraseCanvas(o),this.resetPosition(p),this.pdfDoc.addPage());let P=document.querySelector("#essayPdfTitle span");o&&P&&P.textContent&&(o.font="18px Georgia",o.fillStyle="#333",o.fillText(P.textContent,(o.canvas.width-P.getBoundingClientRect().width)/2,this.currentPos.top+20),this.currentPos.top+=P.getBoundingClientRect().height+20),yield this.convertEssayBoxes2Canvas(C,o,p,E)}})}addEssayImage(o,p,E,C){if(o){if("w"==this.exportPdfConvertDataService.findScaleDirection(E.width,E.height))o.drawImage(E,0,0,E.width,E.height,50,this.currentPos.top+50,o.canvas.width-100,(o.canvas.width-100)*E.height/E.width);else{let P=o.canvas.height-this.currentPos.top-this.currentPos.bottom,S=P*E.width/E.height;o.drawImage(E,0,0,E.width,E.height,(o.canvas.width-S)/2,this.currentPos.top,S,P)}console.log(`[_Essay_image_] V\u1ebd \u1ea3nh t\u1ef1 lu\u1eadn s\u1ed1 ${C+1}`),this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,o.canvas.toDataURL("image/jpeg",1)),this.countDraw++,C!=p.length-1&&this.pdfDoc.addPage()}}drawSinglePdfQuestion(o,p,E){let C=document.getElementById("question_item_box_"+E.id);if(1==E.isImage&&C&&o){let t=C.querySelector(".image_group img");if(t){let B=t.naturalWidth,I=t.naturalHeight,G=o.canvas.width-this.currentPos.left-this.currentPos.right,W=G*I/B;this.currentPos.top+W<o.canvas.height-this.currentPos.bottom&&(o.drawImage(t,0,0,B,I,this.currentPos.left,this.currentPos.top,G,W),this.currentPos.top+=W+15)}let A=C.querySelector(".questionId_"+E.id);if(A){let B=A.naturalWidth,I=A.naturalHeight,G=o.canvas.width-this.currentPos.left-this.currentPos.right,W=G*I/B;o.drawImage(A,0,0,B,I,this.currentPos.left,this.currentPos.top,G,W),this.currentPos.top+=W+15}}C&&this.drawOfflineQuestionContent(o,C);let P,S=null==C?void 0:C.querySelectorAll(".answer-box");P=S?S[S.length-1]:P;let L="red",K=300;if(P&&(L=window.getComputedStyle(P,null).getPropertyValue("border-color"),K=P.getBoundingClientRect().width),o&&this.answerTypeService.isOneChoiceAnswer(E.answerType)){let t=o.canvas.width-this.currentPos.right-K;o.beginPath(),o.lineWidth=1,o.strokeStyle=L,o.rect(t,this.currentPos.top,K,46),o.stroke(),this.currentPos.top+=56}o&&!this.answerTypeService.isOneChoiceAnswer(E.answerType)&&(this.currentPos.top+=40,this.currentPos.left=30,this.drawRightAnswerForPdfQuestion(o,C,K,this.currentPos.left));let w=null==P?void 0:P.querySelectorAll(".label-item");if(o&&w&&w.length>0){let t=o.canvas.width-this.currentPos.right-30;for(let A=w.length-1;A>=0;A--){const B=w[A],I=B.querySelector("span"),G=B.querySelector(".rightIcon"),W=B.querySelector(".wrongIcon");I&&I.textContent&&(o.font="18px Arial",o.fillStyle="#000",o.fillText(I.textContent,t,this.currentPos.top-28)),G&&o.fillText("\u2705",t-20,this.currentPos.top-28),W&&o.fillText("\u274c",t-20,this.currentPos.top-28),I&&(t-=65+I.getBoundingClientRect().width)}}else{let t=null==C?void 0:C.querySelector(".answer-box");if(o){const A=Math.round(22.4),B=30,I=o.canvas.width-2*B;let G=t?jQuery("<textarea />").html(t.innerHTML).text():"Th\xed sinh kh\xf4ng nh\u1eadp th\xf4ng tin";G=G.replace(/<\/?[^>]+(>|$)/g,"");let W=this.exportPdfUtilsService.essayText2LinesArr(G,o,I,16);this.currentPos.top+=10;for(let V=0;V<W.length;V++){W[V].length*A>o.canvas.height-this.currentPos.bottom-this.currentPos.top&&(this.exportPdfUtilsService.addContentToPdf(this.pdfDoc,o.canvas.toDataURL("image/jpeg")),this.pdfDoc.addPage(),this.exportPdfUtilsService.eraseCanvas(o),this.resetPosition(p));for(let D=0;D<W[V].length;D++){const Z=W[V][D];o.fillStyle="#333",o.fillText(Z,B,this.currentPos.top),this.currentPos.top+=A}this.currentPos.top+=20}}}this.answerTypeService.isOneChoiceAnswer(E.answerType)&&this.drawRightAnswerForPdfQuestion(o,C,K);let U=null==C?void 0:C.querySelector("._essayMarkInfo");o&&U&&U.textContent&&(o.fillStyle="#000",o.fillText(U.textContent,30,this.currentPos.top),this.currentPos.top+=50),this.countDraw++}drawRightAnswerForPdfQuestion(o,p,E,C){if(p){let P=p.querySelector(".keyText");if(o&&P&&P.textContent){let S=window.getComputedStyle(P,null).getPropertyValue("color");o.font="18px Arial",o.fillStyle=S,o.fillText(P.textContent,C||o.canvas.width-this.currentPos.right-E-P.getBoundingClientRect().width-30,this.currentPos.top-28)}}}drawSingleDocxQuestionInCanvas(o,p,E,C,P,S,L,K){o.drawImage(p,0,0,p.width,p.height,P||this.currentPos.left,S||this.currentPos.top,L||E,K||C),this.currentPos.top+=C+10,this.countDraw++}drawOfflineQuestionContent(o,p){var E;let C=p.querySelector(".question-offline-title");if(C){let S=C.getBoundingClientRect().width,L=C.getBoundingClientRect().height,K=window.getComputedStyle(C,null).getPropertyValue("font");o&&C&&C.textContent&&S&&L&&(o.font=K,o.fillStyle="#000",o.fillText(C.textContent,(o.canvas.width-S)/2,this.currentPos.top+15),this.currentPos.top+=L+30,this.countDraw++)}var P=p.querySelector(".question-offline-answer");if(P){let S=null!==(E=null==C?void 0:C.getBoundingClientRect().width)&&void 0!==E?E:0,L=P.getBoundingClientRect().width,K=P.getBoundingClientRect().height,w=window.getComputedStyle(P,null).getPropertyValue("font");if(o&&P&&P.textContent&&L&&K){o.font=w,o.fillStyle="#000";let U=0;P.textContent.split(".").forEach(t=>{o.fillText(t+=".",(o.canvas.width-S)/2+U,this.currentPos.top+5),U+=90}),this.currentPos.top+=K+10,this.countDraw++}}}examToPdf(o,p,E){return(0,n.mG)(this,void 0,void 0,function*(){this.countDraw=0,this.totalDraw=3+document.querySelectorAll("#examHeader").length+document.querySelectorAll("azt-question-item").length+document.querySelectorAll(".essayPdfImage").length,this.pdfDoc=new l.jsPDF;let C=document.createElement("canvas"),P=document.getElementById("multipleChoiceWrap");if(P){let K=P.getBoundingClientRect().width;C.width=K,C.height=297*K/210}let S=C.getContext("2d");return this.exportPdfUtilsService.eraseCanvas(S),P&&this.resetPosition(P),this.drawExamTitle(S),this.drawExamSubTitle(S,"#examName"),this.drawExamSubTitle(S,"#className"),this.drawColLeftRightInHeaderOfExam(S),this.drawHorizonLineOfExam(S),this.drawHeaderImageOfExam(S),P&&(this.drawQuestionObjsInPdf(S,o,P),yield this.drawEssayOrDocxQuestionInCanvas(S,P),yield this.drawEssayIframeContent(S,P)),this.countDraw=this.totalDraw,yield this.exportPdfUtilsService.asyncTimeout(1e3),"class"==p?this.pdfDoc.output("blob"):(this.pdfDoc.save(E||"test_result.pdf"),!0)})}homeworkToPdf(){return(0,n.mG)(this,void 0,void 0,function*(){this.pdfDoc=new l.jsPDF;let o=document.createElement("canvas"),p=document.getElementById("multipleChoiceWrap");if(p){let P=p.getBoundingClientRect().width;o.width=P,o.height=297*P/210}let E=o.getContext("2d");return this.exportPdfUtilsService.eraseCanvas(E),p&&this.resetPosition(p),this.drawExamTitle(E),this.drawColLeftRightInHeaderOfExam(E),yield this.drawHomeworkNoteBoxOfTeacher(E),p&&(yield this.drawEssayIframeContent(E,p,!0)),this.pdfDoc.output("blob")})}}return c.\u0275fac=function(o){return new(o||c)(x.LFG(m.S),x.LFG(b.V),x.LFG(i.T))},c.\u0275prov=x.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},20814:(ft,k,O)=>{"use strict";O.d(k,{V:()=>x});var n=O(70655),r=O(5e3),f=O(35018),l=O(15043),d=O(24782),v=(()=>{return(m=v||(v={}))[m.Cdn=0]="Cdn",m[m.CdnTimestamp=1]="CdnTimestamp",m[m.Rawlink=2]="Rawlink",m[m.RawlinkTimestamp=3]="RawlinkTimestamp",v;var m})();let x=(()=>{class m{constructor(i,h,s){this.commonService=i,this.cdnService=h,this.answerTypeService=s}isSupportedBrowswer(){var a,u,c;let h=(u=navigator.userAgent,c=u.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(c[1])?"IE "+((a=/\brv[ :]+(\d+)/g.exec(u)||[])[1]||""):"Chrome"===c[1]&&null!=(a=u.match(/\b(OPR|Edge)\/(\d+)/))?a.slice(1).join(" ").replace("OPR","Opera"):(c=c[2]?[c[1],c[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(a=u.match(/version\/(\d+)/i))&&c.splice(1,1,a[1]),c.join(" "))).toString();return!(!["chrome"].includes(h.split(" ")[0].toLowerCase())||parseInt(h.split(" ")[1],10)<80)}getExtensionFile(i){if(!i)return"";var h=i.split(".");return h.length<=1?"":h[h.length-1].toLocaleLowerCase().split("_")[0]}translateMetaTitle(i){var h,s,u,a;let c="Export PDF: ";this.commonService.translateMetaData({title:c+(null===(s=null===(h=i.data)||void 0===h?void 0:h.examObj)||void 0===s?void 0:s.name),description:c+(null===(a=null===(u=i.data)||void 0===u?void 0:u.examObj)||void 0===a?void 0:a.name),image:"lang_cms_test_image"})}findImageSrcInContent(i){var h="";if(i.includes("img")){var s=i.indexOf("img"),u=i.indexOf("src=",s),a=i.indexOf('"',Number(u)+5);h=i.substring(Number(u)+5,Number(a))}return h}asyncTimeout(i){return(0,n.mG)(this,void 0,void 0,function*(){return`Waited ${yield new Promise(s=>{setTimeout(()=>s(i),i)})} miliseconds`})}parseEssayMarkResult(i,h,s){var u;let a=i.filter(o=>this.answerTypeService.isEssayAnswer(o.answerType));if(0!=a.length){if(h&&h.essayResult){var c=this.commonService.parseJson(h.essayResult);if(c){var y=Object.entries(c);for(let o=0;o<a.length;o++)a[o].essayMarkParsed=y[o][1]}}for(let o=0;o<a.length;o++){let p=a[o].id,E=s.filter(P=>P.questionId==p)[0],C=this.commonService.parseJson(null!==(u=E.config)&&void 0!==u?u:"");a[o].scorePerQuestion=C?Number(C.ScorePerQuestion):0}}}convertToBase64(i,h){return(0,n.mG)(this,void 0,void 0,function*(){let s=i;switch(h){case v.Cdn:s=this.cdnService.getMyCdn(i);break;case v.CdnTimestamp:s=this.cdnService.getMyCdn(i)+"?t="+Date.now();break;case v.RawlinkTimestamp:s=i+"?t="+Date.now()}const a=yield(yield fetch(s)).blob(),c=yield new Promise(y=>{const o=new FileReader;o.readAsDataURL(a),o.onloadend=()=>{y(o.result)}});return c&&"string"==typeof c?c:(console.log("kh\xf4ng th\u1ec3 convert url n\xe0y th\xe0nh chu\u1ed7i base64: "+i),i)})}convertAndRetryToBase64(i){return(0,n.mG)(this,void 0,void 0,function*(){let h=this.getExtensionFile(i);if(["pdf","jpg","jpeg","png","gif"].includes(h)){let s;const u=[v.Cdn,v.CdnTimestamp,v.Rawlink,v.RawlinkTimestamp];if(this.cdnService.isViettelCDN(i)){console.log(">>>> YAAAAAA, \u0111\xe2y l\xe0 link Viettel, qu\xe1 tr\xecnh convert c\xf3 th\u1ec3 l\xe2u h\u01a1n b\xecnh th\u01b0\u1eddng, v\xec ph\u1ea3i convert tu\u1ea7n t\u1ef1 sau m\u1ed7i 0.5 gi\xe2y");try{s=yield this.convertToBase64(i,u[0])}catch(a){try{yield this.asyncTimeout(500),s=yield this.convertToBase64(i,u[1])}catch(c){console.log("Kh\xf4ng th\u1ec3 convert url VIETTEL n\xe0y th\xe0nh base64 sau 2 l\u1ea7n th\u1eed: "+i),s=i}}}else try{s=yield this.convertToBase64(i,u[0])}catch(a){try{s=yield this.convertToBase64(i,u[1])}catch(c){try{s=yield this.convertToBase64(i,u[2])}catch(y){try{s=yield this.convertToBase64(i,u[3])}catch(o){console.log("Kh\xf4ng th\u1ec3 convert url n\xe0y th\xe0nh base64 sau v\xe0i l\u1ea7n retry: "+i),s=i}}}}return s}return console.log("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3: "+i),i})}eraseCanvas(i){i&&(i.beginPath(),i.rect(0,0,i.canvas.width,i.canvas.height),i.fillStyle="white",i.fill())}addContentToPdf(i,h){i.addImage(h,"JPEG",0,0,i.internal.pageSize.getWidth(),i.internal.pageSize.getHeight())}drawTextWrap(i,h,s,u,a){let c=i.split(" "),y=[],o=c[0];if(h){h.font=a||`${u}px Arial`;for(let p=1;p<c.length;p++){let E=c[p];h.measureText(o+" "+E).width<s?o+=" "+E:(y.push(o),o=E)}y.push(o)}return y}essayText2LinesArr(i,h,s,u,a){var c;let y=new RegExp("(<br>|<br/>)+","igm"),p=(null!==(c=this.commonService.replaceAllByRegExp(i,y,"<br>"))&&void 0!==c?c:"").split("<br>"),E=[];for(let C=0;C<p.length;C++)E.push(this.drawTextWrap(p[C],h,s,u,a));return E}}return m.\u0275fac=function(i){return new(i||m)(r.LFG(f.v),r.LFG(l.U),r.LFG(d.T))},m.\u0275prov=r.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},82250:(ft,k,O)=>{"use strict";O.d(k,{s:()=>h});var n=O(93075),r=O(48966),f=O(55330),l=O(41303),d=O(5e3),v=O(51930),x=O(35018),m=O(69808),b=O(47423);function i(s,u){1&s&&(d.TgZ(0,"div",17)(1,"small",18),d._uU(2," * Vui l\xf2ng nh\u1eadp t\xean l\u1edbp "),d.qZA()())}let h=(()=>{class s extends f.Q{constructor(a,c,y,o,p){super(y),this.fb=a,this.classroomService=c,this.commonService=y,this.dialogRef=o,this.data=p,this.form=new n.cw({})}btnCloseDialog(){this.dialogRef.close()}saveClass(){if(this.form.invalid||this.statusObj.loading)this.commonService.snackError("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin!","");else{this.initStatusObj();var a=this.commonService.getFormObj(this.form);this.classroomService.apiClassroomSaveObjPostForm(a.className).subscribe(c=>{1==c.success?(this.successStatusObj(),this.showSuccessSnack("T\u1ea1o th\xe0nh c\xf4ng l\u1edbp h\u1ecdc."),this.data.noReload||window.location.reload(),this.dialogRef.close()):(this.stopStatusObj(),this.showErrorSnack("T\u1ea1o l\u1edbp h\u1ecdc kh\xf4ng th\xe0nh c\xf4ng. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i d\u1eef li\u1ec7u"))})}}ngOnInit(){this.form=this.fb.group({className:new n.NI("",[n.kI.required,l._.noWhiteSpace])}),super.ngOnInit()}}return s.\u0275fac=function(a){return new(a||s)(d.Y36(n.qu),d.Y36(v.um),d.Y36(x.v),d.Y36(r.so,8),d.Y36(r.WI))},s.\u0275cmp=d.Xpm({type:s,selectors:[["create-classroom"]],features:[d.qOj],decls:21,vars:3,consts:[[1,"app"],[1,"app-head"],[1,"app-title"],[1,"app-body"],[3,"formGroup"],[1,"container-fluid"],[1,"row","setting-item"],[1,"col-5","setting-label"],[1,"p-0","m-0"],[1,"col-7","pl-0","pr-0"],["type","text","formControlName","className",1,"form-control","setting-input"],["class","col-12 pl-0 mt-1 text-left",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",1,"btn-close","btn-width",3,"click"],[1,"azt-block-button","ml-3"],["mat-raised-button","",1,"btn-azt-primary","btn-width",3,"disabled","click"],[1,"col-12","pl-0","mt-1","text-left"],[1,"text-left","text-danger"]],template:function(a,c){1&a&&(d.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),d._uU(3," T\u1ea1o l\u1edbp "),d.qZA()(),d.TgZ(4,"div",3)(5,"form",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"p",8),d._uU(10," T\xean l\u1edbp "),d.qZA()(),d.TgZ(11,"div",9),d._UZ(12,"input",10),d.qZA(),d.YNc(13,i,3,0,"div",11),d.qZA()()()(),d.TgZ(14,"div",12)(15,"div",13)(16,"button",14),d.NdJ("click",function(){return c.btnCloseDialog()}),d._uU(17,"\u0110\xf3ng"),d.qZA()(),d.TgZ(18,"div",15)(19,"button",16),d.NdJ("click",function(){return c.saveClass()}),d._uU(20,"L\u01b0u"),d.qZA()()()()),2&a&&(d.xp6(5),d.Q6J("formGroup",c.form),d.xp6(8),d.Q6J("ngIf",c.form.controls.className.dirty&&c.form.controls.className.errors),d.xp6(6),d.Q6J("disabled",c.form.invalid))},dependencies:[m.O5,b.lW,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:[".app[_ngcontent-%COMP%]{max-width:500px;width:500px}.app-title[_ngcontent-%COMP%]{font-weight:500}.setting-input[_ngcontent-%COMP%]{height:100%;border-left:0px;border-top-left-radius:0;border-bottom-left-radius:0}.setting-label[_ngcontent-%COMP%]{padding:16px;align-self:center;line-height:1.5;color:#495057;background-color:#e9ecef;border:1px solid #ced4da;border-bottom-left-radius:5px;border-top-left-radius:5px;text-align:right}  .mat-checkbox-layout .mat-checkbox-label{font-weight:500}.custom-mix-question-height[_ngcontent-%COMP%]{height:160px}.custom-invalid-mix-form[_ngcontent-%COMP%]{border-color:#dc3545}.custom-mix-group-question[_ngcontent-%COMP%]{background-color:#e9ecef;padding-left:0!important;padding-right:0!important;margin-left:0!important;margin-right:0!important;padding-bottom:0!important;border:1px solid #ced4da;border-radius:.25rem}.test-config__formMixQuestion[_ngcontent-%COMP%]{border:none;border-left:1px solid #ced4da}.no-border[_ngcontent-%COMP%]{border:none}.btn-offline[_ngcontent-%COMP%]{background:#ec9b00;color:#fff;transition:all .5s}.btn-offline[_ngcontent-%COMP%]:hover{background:#c8860b}.custom-select[_ngcontent-%COMP%]{height:100%;border-top-left-radius:0;border-bottom-left-radius:0;border-left:none}.custom-select-md[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:.25rem}.btn-width[_ngcontent-%COMP%]{width:140px}.paddingCustom[_ngcontent-%COMP%]{padding:143px .75rem}.class_list[_ngcontent-%COMP%]{height:220px;white-space:nowrap;padding-left:2px;overflow:hidden}.badge-info[_ngcontent-%COMP%]{color:#fff;background-color:#2361ae}.setting-block-mix[_ngcontent-%COMP%]{height:125px;overflow:hidden}.btn-width[_ngcontent-%COMP%]{width:80px}@media screen and (max-width: 768px){.app[_ngcontent-%COMP%]{width:auto}}"]}),s})()},25650:ft=>{ft.exports=function k(O,n,r){function f(v,x){if(!n[v]){if(!O[v]){if(l)return l(v,!0);var b=new Error("Cannot find module '"+v+"'");throw b.code="MODULE_NOT_FOUND",b}var i=n[v]={exports:{}};O[v][0].call(i.exports,function(h){return f(O[v][1][h]||h)},i,i.exports,k,O,n,r)}return n[v].exports}for(var l=void 0,d=0;d<r.length;d++)f(r[d]);return f}({1:[function(k,O,n){"use strict";var r=k("./utils"),f=k("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(d){for(var v,x,m,i,h,s,u=[],a=0,c=d.length,y=c,o="string"!==r.getTypeOf(d);a<d.length;)y=c-a,m=o?(v=d[a++],x=a<c?d[a++]:0,a<c?d[a++]:0):(v=d.charCodeAt(a++),x=a<c?d.charCodeAt(a++):0,a<c?d.charCodeAt(a++):0),i=(3&v)<<4|x>>4,h=1<y?(15&x)<<2|m>>6:64,s=2<y?63&m:64,u.push(l.charAt(v>>2)+l.charAt(i)+l.charAt(h)+l.charAt(s));return u.join("")},n.decode=function(d){var v,x,m,b,i,h,s=0,u=0,a="data:";if(d.substr(0,a.length)===a)throw new Error("Invalid base64 input, it looks like a data url.");var c,y=3*(d=d.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(d.charAt(d.length-1)===l.charAt(64)&&y--,d.charAt(d.length-2)===l.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=f.uint8array?new Uint8Array(0|y):new Array(0|y);s<d.length;)v=l.indexOf(d.charAt(s++))<<2|(b=l.indexOf(d.charAt(s++)))>>4,x=(15&b)<<4|(i=l.indexOf(d.charAt(s++)))>>2,m=(3&i)<<6|(h=l.indexOf(d.charAt(s++))),c[u++]=v,64!==i&&(c[u++]=x),64!==h&&(c[u++]=m);return c}},{"./support":30,"./utils":32}],2:[function(k,O,n){"use strict";var r=k("./external"),f=k("./stream/DataWorker"),l=k("./stream/Crc32Probe"),d=k("./stream/DataLengthProbe");function v(x,m,b,i,h){this.compressedSize=x,this.uncompressedSize=m,this.crc32=b,this.compression=i,this.compressedContent=h}v.prototype={getContentWorker:function(){var x=new f(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return x.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),x},getCompressedWorker:function(){return new f(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},v.createWorkerFrom=function(x,m,b){return x.pipe(new l).pipe(new d("uncompressedSize")).pipe(m.compressWorker(b)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},O.exports=v},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(k,O,n){"use strict";var r=k("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(f){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=k("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(k,O,n){"use strict";var r=k("./utils"),f=function(){for(var l,d=[],v=0;v<256;v++){l=v;for(var x=0;x<8;x++)l=1&l?3988292384^l>>>1:l>>>1;d[v]=l}return d}();O.exports=function(l,d){return void 0!==l&&l.length?"string"!==r.getTypeOf(l)?function(v,x,m,b){var i=f,h=0+m;v^=-1;for(var s=0;s<h;s++)v=v>>>8^i[255&(v^x[s])];return-1^v}(0|d,l,l.length):function(v,x,m,b){var i=f,h=0+m;v^=-1;for(var s=0;s<h;s++)v=v>>>8^i[255&(v^x.charCodeAt(s))];return-1^v}(0|d,l,l.length):0}},{"./utils":32}],5:[function(k,O,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(k,O,n){"use strict";var r;r="undefined"!=typeof Promise?Promise:k("lie"),O.exports={Promise:r}},{lie:37}],7:[function(k,O,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,f=k("pako"),l=k("./utils"),d=k("./stream/GenericWorker"),v=r?"uint8array":"array";function x(m,b){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=b,this.meta={}}n.magic="\b\0",l.inherits(x,d),x.prototype.processChunk=function(m){this.meta=m.meta,null===this._pako&&this._createPako(),this._pako.push(l.transformTo(v,m.data),!1)},x.prototype.flush=function(){d.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},x.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},x.prototype._createPako=function(){this._pako=new f[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(b){m.push({data:b,meta:m.meta})}},n.compressWorker=function(m){return new x("Deflate",m)},n.uncompressWorker=function(){return new x("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(k,O,n){"use strict";function r(i,h){var s,u="";for(s=0;s<h;s++)u+=String.fromCharCode(255&i),i>>>=8;return u}function f(i,h,s,u,a,c){var y,o,p=i.file,E=i.compression,C=c!==v.utf8encode,P=l.transformTo("string",c(p.name)),S=l.transformTo("string",v.utf8encode(p.name)),L=p.comment,K=l.transformTo("string",c(L)),w=l.transformTo("string",v.utf8encode(L)),U=S.length!==p.name.length,t=w.length!==L.length,A="",B="",I="",G=p.dir,W=p.date,V={crc32:0,compressedSize:0,uncompressedSize:0};h&&!s||(V.crc32=i.crc32,V.compressedSize=i.compressedSize,V.uncompressedSize=i.uncompressedSize);var M=0;h&&(M|=8),C||!U&&!t||(M|=2048);var R,nt,D=0,Z=0;G&&(D|=16),"UNIX"===a?(Z=798,D|=(nt=R=p.unixPermissions,R||(nt=G?16893:33204),(65535&nt)<<16)):(Z=20,D|=function(R){return 63&(R||0)}(p.dosPermissions)),y=W.getUTCHours(),y<<=6,y|=W.getUTCMinutes(),y<<=5,y|=W.getUTCSeconds()/2,o=W.getUTCFullYear()-1980,o<<=4,o|=W.getUTCMonth()+1,o<<=5,o|=W.getUTCDate(),U&&(B=r(1,1)+r(x(P),4)+S,A+="up"+r(B.length,2)+B),t&&(I=r(1,1)+r(x(K),4)+w,A+="uc"+r(I.length,2)+I);var Y="";return Y+="\n\0",Y+=r(M,2),Y+=E.magic,Y+=r(y,2),Y+=r(o,2),Y+=r(V.crc32,4),Y+=r(V.compressedSize,4),Y+=r(V.uncompressedSize,4),Y+=r(P.length,2),Y+=r(A.length,2),{fileRecord:m.LOCAL_FILE_HEADER+Y+P+A,dirRecord:m.CENTRAL_FILE_HEADER+r(Z,2)+Y+r(K.length,2)+"\0\0\0\0"+r(D,4)+r(u,4)+P+A+K}}var l=k("../utils"),d=k("../stream/GenericWorker"),v=k("../utf8"),x=k("../crc32"),m=k("../signature");function b(i,h,s,u){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=h,this.zipPlatform=s,this.encodeFileName=u,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,d),b.prototype.push=function(i){var h=i.meta.percent||0,s=this.entriesCount,u=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,d.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:s?(h+100*(s-u-1))/s:100}}))},b.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var h=this.streamFiles&&!i.file.dir;if(h){var s=f(i,h,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:s.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(i){this.accumulate=!1;var u,h=this.streamFiles&&!i.file.dir,s=f(i,h,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(s.dirRecord),h)this.push({data:(u=i,m.DATA_DESCRIPTOR+r(u.crc32,4)+r(u.compressedSize,4)+r(u.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:s.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var i=this.bytesWritten,h=0;h<this.dirRecords.length;h++)this.push({data:this.dirRecords[h],meta:{percent:100}});var a,c,y,E,u=(a=this.dirRecords.length,c=this.bytesWritten-i,y=i,E=l.transformTo("string",(0,this.encodeFileName)(this.zipComment)),m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(a,2)+r(a,2)+r(c,4)+r(y,4)+r(E.length,2)+E);this.push({data:u,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(i){this._sources.push(i);var h=this;return i.on("data",function(s){h.processChunk(s)}),i.on("end",function(){h.closedSource(h.previous.streamInfo),h._sources.length?h.prepareNextSource():h.end()}),i.on("error",function(s){h.error(s)}),this},b.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(i){var h=this._sources;if(!d.prototype.error.call(this,i))return!1;for(var s=0;s<h.length;s++)try{h[s].error(i)}catch(u){}return!0},b.prototype.lock=function(){d.prototype.lock.call(this);for(var i=this._sources,h=0;h<i.length;h++)i[h].lock()},O.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(k,O,n){"use strict";var r=k("../compressions"),f=k("./ZipFileWorker");n.generateWorker=function(l,d,v){var x=new f(d.streamFiles,v,d.platform,d.encodeFileName),m=0;try{l.forEach(function(b,i){m++;var h=function(c,y){var o=c||y,p=r[o];if(!p)throw new Error(o+" is not a valid compression method !");return p}(i.options.compression,d.compression),u=i.dir,a=i.date;i._compressWorker(h,i.options.compressionOptions||d.compressionOptions||{}).withStreamInfo("file",{name:b,dir:u,date:a,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(x)}),x.entriesCount=m}catch(b){x.error(b)}return x}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(k,O,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new r;for(var l in this)"function"!=typeof this[l]&&(f[l]=this[l]);return f}}(r.prototype=k("./object")).loadAsync=k("./load"),r.support=k("./support"),r.defaults=k("./defaults"),r.version="3.10.0",r.loadAsync=function(f,l){return(new r).loadAsync(f,l)},r.external=k("./external"),O.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(k,O,n){"use strict";var r=k("./utils"),f=k("./external"),l=k("./utf8"),d=k("./zipEntries"),v=k("./stream/Crc32Probe"),x=k("./nodejsUtils");function m(b){return new f.Promise(function(i,h){var s=b.decompressed.getContentWorker().pipe(new v);s.on("error",function(u){h(u)}).on("end",function(){s.streamInfo.crc32!==b.decompressed.crc32?h(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}O.exports=function(b,i){var h=this;return i=r.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),x.isNode&&x.isStream(b)?f.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",b,!0,i.optimizedBinaryString,i.base64).then(function(s){var u=new d(i);return u.load(s),u}).then(function(s){var u=[f.Promise.resolve(s)],a=s.files;if(i.checkCRC32)for(var c=0;c<a.length;c++)u.push(m(a[c]));return f.Promise.all(u)}).then(function(s){for(var u=s.shift(),a=u.files,c=0;c<a.length;c++){var y=a[c],o=y.fileNameStr,p=r.resolve(y.fileNameStr);h.file(p,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:i.createFolders}),y.dir||(h.file(p).unsafeOriginalName=o)}return u.zipComment.length&&(h.comment=u.zipComment),h})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(k,O,n){"use strict";var r=k("../utils"),f=k("../stream/GenericWorker");function l(d,v){f.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(v)}r.inherits(l,f),l.prototype._bindStream=function(d){var v=this;(this._stream=d).pause(),d.on("data",function(x){v.push({data:x,meta:{percent:0}})}).on("error",function(x){v.isPaused?this.generatedError=x:v.error(x)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},l.prototype.pause=function(){return!!f.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},O.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(k,O,n){"use strict";var r=k("readable-stream").Readable;function f(l,d,v){r.call(this,d),this._helper=l;var x=this;l.on("data",function(m,b){x.push(m)||x._helper.pause(),v&&v(b)}).on("error",function(m){x.emit("error",m)}).on("end",function(){x.push(null)})}k("../utils").inherits(f,r),f.prototype._read=function(){this._helper.resume()},O.exports=f},{"../utils":32,"readable-stream":16}],14:[function(k,O,n){"use strict";O.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(r,f){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,f);if("number"==typeof r)throw new Error('The "data" argument must not be a number');return new Buffer(r,f)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var f=new Buffer(r);return f.fill(0),f},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&"function"==typeof r.on&&"function"==typeof r.pause&&"function"==typeof r.resume}}},{}],15:[function(k,O,n){"use strict";function r(p,E,C){var P,S=l.getTypeOf(E),L=l.extend(C||{},x);L.date=L.date||new Date,null!==L.compression&&(L.compression=L.compression.toUpperCase()),"string"==typeof L.unixPermissions&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(p=a(p)),L.createFolders&&(P=u(p))&&c.call(this,P,!0),C&&void 0!==C.binary||(L.binary=!("string"===S&&!1===L.binary&&!1===L.base64)),(E instanceof m&&0===E.uncompressedSize||L.dir||!E||0===E.length)&&(L.base64=!1,L.binary=!0,E="",L.compression="STORE",S="string");var w;w=E instanceof m||E instanceof d?E:h.isNode&&h.isStream(E)?new s(p,E):l.prepareContent(p,E,L.binary,L.optimizedBinaryString,L.base64);var U=new b(p,w,L);this.files[p]=U}var f=k("./utf8"),l=k("./utils"),d=k("./stream/GenericWorker"),v=k("./stream/StreamHelper"),x=k("./defaults"),m=k("./compressedObject"),b=k("./zipObject"),i=k("./generate"),h=k("./nodejsUtils"),s=k("./nodejs/NodejsStreamInputAdapter"),u=function(p){"/"===p.slice(-1)&&(p=p.substring(0,p.length-1));var E=p.lastIndexOf("/");return 0<E?p.substring(0,E):""},a=function(p){return"/"!==p.slice(-1)&&(p+="/"),p},c=function(p,E){return E=void 0!==E?E:x.createFolders,p=a(p),this.files[p]||r.call(this,p,null,{dir:!0,createFolders:E}),this.files[p]};function y(p){return"[object RegExp]"===Object.prototype.toString.call(p)}var o={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(p){var E,C,P;for(E in this.files)P=this.files[E],(C=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&p(C,P)},filter:function(p){var E=[];return this.forEach(function(C,P){p(C,P)&&E.push(P)}),E},file:function(p,E,C){if(1!==arguments.length)return r.call(this,p=this.root+p,E,C),this;if(y(p)){var P=p;return this.filter(function(L,K){return!K.dir&&P.test(L)})}var S=this.files[this.root+p];return S&&!S.dir?S:null},folder:function(p){if(!p)return this;if(y(p))return this.filter(function(S,L){return L.dir&&p.test(S)});var C=c.call(this,this.root+p),P=this.clone();return P.root=C.name,P},remove:function(p){var E=this.files[p=this.root+p];if(E||("/"!==p.slice(-1)&&(p+="/"),E=this.files[p]),E&&!E.dir)delete this.files[p];else for(var C=this.filter(function(S,L){return L.name.slice(0,p.length)===p}),P=0;P<C.length;P++)delete this.files[C[P].name];return this},generate:function(p){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(p){var E,C={};try{if((C=l.extend(p||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:f.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),"binarystring"===C.type&&(C.type="string"),!C.type)throw new Error("No output type specified.");l.checkSupport(C.type),"darwin"!==C.platform&&"freebsd"!==C.platform&&"linux"!==C.platform&&"sunos"!==C.platform||(C.platform="UNIX"),"win32"===C.platform&&(C.platform="DOS"),E=i.generateWorker(this,C,C.comment||this.comment||"")}catch(S){(E=new d("error")).error(S)}return new v(E,C.type||"string",C.mimeType)},generateAsync:function(p,E){return this.generateInternalStream(p).accumulate(E)},generateNodeStream:function(p,E){return(p=p||{}).type||(p.type="nodebuffer"),this.generateInternalStream(p).toNodejsStream(E)}};O.exports=o},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(k,O,n){O.exports=k("stream")},{stream:void 0}],17:[function(k,O,n){"use strict";var r=k("./DataReader");function f(l){r.call(this,l);for(var d=0;d<this.data.length;d++)l[d]=255&l[d]}k("../utils").inherits(f,r),f.prototype.byteAt=function(l){return this.data[this.zero+l]},f.prototype.lastIndexOfSignature=function(l){for(var d=l.charCodeAt(0),v=l.charCodeAt(1),x=l.charCodeAt(2),m=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===d&&this.data[b+1]===v&&this.data[b+2]===x&&this.data[b+3]===m)return b-this.zero;return-1},f.prototype.readAndCheckSignature=function(l){var d=l.charCodeAt(0),v=l.charCodeAt(1),x=l.charCodeAt(2),m=l.charCodeAt(3),b=this.readData(4);return d===b[0]&&v===b[1]&&x===b[2]&&m===b[3]},f.prototype.readData=function(l){if(this.checkOffset(l),0===l)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},O.exports=f},{"../utils":32,"./DataReader":18}],18:[function(k,O,n){"use strict";var r=k("../utils");function f(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}f.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(l){},readInt:function(l){var d,v=0;for(this.checkOffset(l),d=this.index+l-1;d>=this.index;d--)v=(v<<8)+this.byteAt(d);return this.index+=l,v},readString:function(l){return r.transformTo("string",this.readData(l))},readData:function(l){},lastIndexOfSignature:function(l){},readAndCheckSignature:function(l){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},O.exports=f},{"../utils":32}],19:[function(k,O,n){"use strict";var r=k("./Uint8ArrayReader");function f(l){r.call(this,l)}k("../utils").inherits(f,r),f.prototype.readData=function(l){this.checkOffset(l);var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},O.exports=f},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(k,O,n){"use strict";var r=k("./DataReader");function f(l){r.call(this,l)}k("../utils").inherits(f,r),f.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},f.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},f.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},f.prototype.readData=function(l){this.checkOffset(l);var d=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},O.exports=f},{"../utils":32,"./DataReader":18}],21:[function(k,O,n){"use strict";var r=k("./ArrayReader");function f(l){r.call(this,l)}k("../utils").inherits(f,r),f.prototype.readData=function(l){if(this.checkOffset(l),0===l)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,d},O.exports=f},{"../utils":32,"./ArrayReader":17}],22:[function(k,O,n){"use strict";var r=k("../utils"),f=k("../support"),l=k("./ArrayReader"),d=k("./StringReader"),v=k("./NodeBufferReader"),x=k("./Uint8ArrayReader");O.exports=function(m){var b=r.getTypeOf(m);return r.checkSupport(b),"string"!==b||f.uint8array?"nodebuffer"===b?new v(m):f.uint8array?new x(r.transformTo("uint8array",m)):new l(r.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(k,O,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(k,O,n){"use strict";var r=k("./GenericWorker"),f=k("../utils");function l(d){r.call(this,"ConvertWorker to "+d),this.destType=d}f.inherits(l,r),l.prototype.processChunk=function(d){this.push({data:f.transformTo(this.destType,d.data),meta:d.meta})},O.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(k,O,n){"use strict";var r=k("./GenericWorker"),f=k("../crc32");function l(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}k("../utils").inherits(l,r),l.prototype.processChunk=function(d){this.streamInfo.crc32=f(d.data,this.streamInfo.crc32||0),this.push(d)},O.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(k,O,n){"use strict";var r=k("../utils"),f=k("./GenericWorker");function l(d){f.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}r.inherits(l,f),l.prototype.processChunk=function(d){d&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+d.data.length),f.prototype.processChunk.call(this,d)},O.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(k,O,n){"use strict";var r=k("../utils"),f=k("./GenericWorker");function l(d){f.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(x){v.dataIsReady=!0,v.data=x,v.max=x&&x.length||0,v.type=r.getTypeOf(x),v.isPaused||v._tickAndRepeat()},function(x){v.error(x)})}r.inherits(l,f),l.prototype.cleanUp=function(){f.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!f.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,v);break;case"uint8array":d=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":d=this.data.slice(this.index,v)}return this.index=v,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},O.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(k,O,n){"use strict";function r(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,l){return this._listeners[f].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,l){if(this._listeners[f])for(var d=0;d<this._listeners[f].length;d++)this._listeners[f][d].call(this,l)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var l=this;return f.on("data",function(d){l.processChunk(d)}),f.on("end",function(){l.end()}),f.on("error",function(d){l.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,l){return this.extraStreamInfo[f]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},O.exports=r},{}],29:[function(k,O,n){"use strict";var r=k("../utils"),f=k("./ConvertWorker"),l=k("./GenericWorker"),d=k("../base64"),v=k("../support"),x=k("../external"),m=null;if(v.nodestream)try{m=k("../nodejs/NodejsStreamOutputAdapter")}catch(h){}function i(h,s,u){var a=s;switch(s){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=s,this._mimeType=u,r.checkSupport(a),this._worker=h.pipe(new f(a)),h.lock()}catch(c){this._worker=new l("error"),this._worker.error(c)}}i.prototype={accumulate:function(h){return function b(h,s){return new x.Promise(function(u,a){var c=[],y=h._internalType,o=h._outputType,p=h._mimeType;h.on("data",function(E,C){c.push(E),s&&s(C)}).on("error",function(E){c=[],a(E)}).on("end",function(){try{var E=function(C,P,S){switch(C){case"blob":return r.newBlob(r.transformTo("arraybuffer",P),S);case"base64":return d.encode(P);default:return r.transformTo(C,P)}}(o,function(C,P){var S,L=0,K=null,w=0;for(S=0;S<P.length;S++)w+=P[S].length;switch(C){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(K=new Uint8Array(w),S=0;S<P.length;S++)K.set(P[S],L),L+=P[S].length;return K;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+C+"'")}}(y,c),p);u(E)}catch(C){a(C)}c=[]}).resume()})}(this,h)},on:function(h,s){var u=this;return this._worker.on(h,"data"===h?function(a){s.call(u,a.data,a.meta)}:function(){r.delay(s,arguments,u)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(h){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:"nodebuffer"!==this._outputType},h)}},O.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(k,O,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(l){try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(r),n.blob=0===f.getBlob("application/zip").size}catch(d){n.blob=!1}}}try{n.nodestream=!!k("readable-stream").Readable}catch(l){n.nodestream=!1}},{"readable-stream":16}],31:[function(k,O,n){"use strict";for(var r=k("./utils"),f=k("./support"),l=k("./nodejsUtils"),d=k("./stream/GenericWorker"),v=new Array(256),x=0;x<256;x++)v[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function b(){d.call(this,"utf-8 encode")}v[254]=v[254]=1,n.utf8encode=function(i){return f.nodebuffer?l.newBufferFrom(i,"utf-8"):function(h){var s,u,a,c,y,o=h.length,p=0;for(c=0;c<o;c++)55296==(64512&(u=h.charCodeAt(c)))&&c+1<o&&56320==(64512&(a=h.charCodeAt(c+1)))&&(u=65536+(u-55296<<10)+(a-56320),c++),p+=u<128?1:u<2048?2:u<65536?3:4;for(s=f.uint8array?new Uint8Array(p):new Array(p),c=y=0;y<p;c++)55296==(64512&(u=h.charCodeAt(c)))&&c+1<o&&56320==(64512&(a=h.charCodeAt(c+1)))&&(u=65536+(u-55296<<10)+(a-56320),c++),u<128?s[y++]=u:(u<2048?s[y++]=192|u>>>6:(u<65536?s[y++]=224|u>>>12:(s[y++]=240|u>>>18,s[y++]=128|u>>>12&63),s[y++]=128|u>>>6&63),s[y++]=128|63&u);return s}(i)},n.utf8decode=function(i){return f.nodebuffer?r.transformTo("nodebuffer",i).toString("utf-8"):function(h){var s,u,a,c,y=h.length,o=new Array(2*y);for(s=u=0;s<y;)if((a=h[s++])<128)o[u++]=a;else if(4<(c=v[a]))o[u++]=65533,s+=c-1;else{for(a&=2===c?31:3===c?15:7;1<c&&s<y;)a=a<<6|63&h[s++],c--;1<c?o[u++]=65533:a<65536?o[u++]=a:(o[u++]=55296|(a-=65536)>>10&1023,o[u++]=56320|1023&a)}return o.length!==u&&(o.subarray?o=o.subarray(0,u):o.length=u),r.applyFromCharCode(o)}(i=r.transformTo(f.uint8array?"uint8array":"array",i))},r.inherits(m,d),m.prototype.processChunk=function(i){var h=r.transformTo(f.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var s=h;(h=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),h.set(s,this.leftOver.length)}else h=this.leftOver.concat(h);this.leftOver=null}var u=function(c,y){var o;for((y=y||c.length)>c.length&&(y=c.length),o=y-1;0<=o&&128==(192&c[o]);)o--;return o<0||0===o?y:o+v[c[o]]>y?o:y}(h),a=h;u!==h.length&&(f.uint8array?(a=h.subarray(0,u),this.leftOver=h.subarray(u,h.length)):(a=h.slice(0,u),this.leftOver=h.slice(u,h.length))),this.push({data:n.utf8decode(a),meta:i.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=m,r.inherits(b,d),b.prototype.processChunk=function(i){this.push({data:n.utf8encode(i.data),meta:i.meta})},n.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(k,O,n){"use strict";var r=k("./support"),f=k("./base64"),l=k("./nodejsUtils"),d=k("./external");function v(s){return s}function x(s,u){for(var a=0;a<s.length;++a)u[a]=255&s.charCodeAt(a);return u}k("setimmediate"),n.newBlob=function(s,u){n.checkSupport("blob");try{return new Blob([s],{type:u})}catch(c){try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return a.append(s),a.getBlob(u)}catch(y){throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(s,u,a){var c=[],y=0,o=s.length;if(o<=a)return String.fromCharCode.apply(null,s);for(;y<o;)c.push(String.fromCharCode.apply(null,"array"===u||"nodebuffer"===u?s.slice(y,Math.min(y+a,o)):s.subarray(y,Math.min(y+a,o)))),y+=a;return c.join("")},stringifyByChar:function(s){for(var u="",a=0;a<s.length;a++)u+=String.fromCharCode(s[a]);return u},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(s){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,l.allocBuffer(1)).length}catch(s){return!1}}()}};function b(s){var u=65536,a=n.getTypeOf(s),c=!0;if("uint8array"===a?c=m.applyCanBeUsed.uint8array:"nodebuffer"===a&&(c=m.applyCanBeUsed.nodebuffer),c)for(;1<u;)try{return m.stringifyByChunk(s,a,u)}catch(y){u=Math.floor(u/2)}return m.stringifyByChar(s)}function i(s,u){for(var a=0;a<s.length;a++)u[a]=s[a];return u}n.applyFromCharCode=b;var h={};h.string={string:v,array:function(s){return x(s,new Array(s.length))},arraybuffer:function(s){return h.string.uint8array(s).buffer},uint8array:function(s){return x(s,new Uint8Array(s.length))},nodebuffer:function(s){return x(s,l.allocBuffer(s.length))}},h.array={string:b,array:v,arraybuffer:function(s){return new Uint8Array(s).buffer},uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return l.newBufferFrom(s)}},h.arraybuffer={string:function(s){return b(new Uint8Array(s))},array:function(s){return i(new Uint8Array(s),new Array(s.byteLength))},arraybuffer:v,uint8array:function(s){return new Uint8Array(s)},nodebuffer:function(s){return l.newBufferFrom(new Uint8Array(s))}},h.uint8array={string:b,array:function(s){return i(s,new Array(s.length))},arraybuffer:function(s){return s.buffer},uint8array:v,nodebuffer:function(s){return l.newBufferFrom(s)}},h.nodebuffer={string:b,array:function(s){return i(s,new Array(s.length))},arraybuffer:function(s){return h.nodebuffer.uint8array(s).buffer},uint8array:function(s){return i(s,new Uint8Array(s.length))},nodebuffer:v},n.transformTo=function(s,u){if(u=u||"",!s)return u;n.checkSupport(s);var a=n.getTypeOf(u);return h[a][s](u)},n.resolve=function(s){for(var u=s.split("/"),a=[],c=0;c<u.length;c++){var y=u[c];"."===y||""===y&&0!==c&&c!==u.length-1||(".."===y?a.pop():a.push(y))}return a.join("/")},n.getTypeOf=function(s){return"string"==typeof s?"string":"[object Array]"===Object.prototype.toString.call(s)?"array":r.nodebuffer&&l.isBuffer(s)?"nodebuffer":r.uint8array&&s instanceof Uint8Array?"uint8array":r.arraybuffer&&s instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(s){if(!r[s.toLowerCase()])throw new Error(s+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(s){var u,a,c="";for(a=0;a<(s||"").length;a++)c+="\\x"+((u=s.charCodeAt(a))<16?"0":"")+u.toString(16).toUpperCase();return c},n.delay=function(s,u,a){setImmediate(function(){s.apply(a||null,u||[])})},n.inherits=function(s,u){function a(){}a.prototype=u.prototype,s.prototype=new a},n.extend=function(){var s,u,a={};for(s=0;s<arguments.length;s++)for(u in arguments[s])arguments[s].hasOwnProperty(u)&&void 0===a[u]&&(a[u]=arguments[s][u]);return a},n.prepareContent=function(s,u,a,c,y){return d.Promise.resolve(u).then(function(o){return r.blob&&(o instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(o)))&&"undefined"!=typeof FileReader?new d.Promise(function(p,E){var C=new FileReader;C.onload=function(P){p(P.target.result)},C.onerror=function(P){E(P.target.error)},C.readAsArrayBuffer(o)}):o}).then(function(o){var E,p=n.getTypeOf(o);return p?("arraybuffer"===p?o=n.transformTo("uint8array",o):"string"===p&&(y?o=f.decode(o):a&&!0!==c&&(o=x(E=o,r.uint8array?new Uint8Array(E.length):new Array(E.length)))),o):d.Promise.reject(new Error("Can't read the data of '"+s+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(k,O,n){"use strict";var r=k("./reader/readerFor"),f=k("./utils"),l=k("./signature"),d=k("./zipEntry"),v=(k("./utf8"),k("./support"));function x(m){this.files=[],this.loadOptions=m}x.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+f.pretty(b)+", expected "+f.pretty(m)+")")}},isSignature:function(m,b){var i=this.reader.index;this.reader.setIndex(m);var h=this.reader.readString(4)===b;return this.reader.setIndex(i),h},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),i=f.transformTo(v.uint8array?"uint8array":"array",m);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,b,i,h=this.zip64EndOfCentralSize-44;0<h;)m=this.reader.readInt(2),b=this.reader.readInt(4),i=this.reader.readData(b),this.zip64ExtensibleData[m]={id:m,length:b,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,b;for(m=0;m<this.files.length;m++)this.reader.setIndex((b=this.files[m]).localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var b=m;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===f.MAX_VALUE_16BITS||this.diskWithCentralDirStart===f.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===f.MAX_VALUE_16BITS||this.centralDirRecords===f.MAX_VALUE_16BITS||this.centralDirSize===f.MAX_VALUE_32BITS||this.centralDirOffset===f.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var h=b-i;if(0<h)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=h);else if(h<0)throw new Error("Corrupted zip: missing "+Math.abs(h)+" bytes.")},prepareReader:function(m){this.reader=r(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},O.exports=x},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(k,O,n){"use strict";var r=k("./reader/readerFor"),f=k("./utils"),l=k("./compressedObject"),d=k("./crc32"),v=k("./utf8"),x=k("./compressions"),m=k("./support");function b(i,h){this.options=i,this.loadOptions=h}b.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(i){var h,s;if(i.skip(22),this.fileNameLength=i.readInt(2),s=i.readInt(2),this.fileName=i.readData(this.fileNameLength),i.skip(s),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(h=function(u){for(var a in x)if(x.hasOwnProperty(a)&&x[a].magic===u)return x[a];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+f.pretty(this.compressionMethod)+" unknown (inner file : "+f.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,h,i.readData(this.compressedSize))},readCentralPart:function(i){this.versionMadeBy=i.readInt(2),i.skip(2),this.bitFlag=i.readInt(2),this.compressionMethod=i.readString(2),this.date=i.readDate(),this.crc32=i.readInt(4),this.compressedSize=i.readInt(4),this.uncompressedSize=i.readInt(4);var h=i.readInt(2);if(this.extraFieldsLength=i.readInt(2),this.fileCommentLength=i.readInt(2),this.diskNumberStart=i.readInt(2),this.internalFileAttributes=i.readInt(2),this.externalFileAttributes=i.readInt(4),this.localHeaderOffset=i.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");i.skip(h),this.readExtraFields(i),this.parseZIP64ExtraField(i),this.fileComment=i.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var i=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==i&&(this.dosPermissions=63&this.externalFileAttributes),3==i&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(i){if(this.extraFields[1]){var h=r(this.extraFields[1].value);this.uncompressedSize===f.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===f.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===f.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===f.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(i){var h,s,u,a=i.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});i.index+4<a;)h=i.readInt(2),s=i.readInt(2),u=i.readData(s),this.extraFields[h]={id:h,length:s,value:u};i.setIndex(a)},handleUTF8:function(){var i=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=v.utf8decode(this.fileName),this.fileCommentStr=v.utf8decode(this.fileComment);else{var h=this.findExtraFieldUnicodePath();if(null!==h)this.fileNameStr=h;else{var s=f.transformTo(i,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(s)}var u=this.findExtraFieldUnicodeComment();if(null!==u)this.fileCommentStr=u;else{var a=f.transformTo(i,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var i=this.extraFields[28789];if(i){var h=r(i.value);return 1!==h.readInt(1)||d(this.fileName)!==h.readInt(4)?null:v.utf8decode(h.readData(i.length-5))}return null},findExtraFieldUnicodeComment:function(){var i=this.extraFields[25461];if(i){var h=r(i.value);return 1!==h.readInt(1)||d(this.fileComment)!==h.readInt(4)?null:v.utf8decode(h.readData(i.length-5))}return null}},O.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(k,O,n){"use strict";function r(h,s,u){this.name=h,this.dir=u.dir,this.date=u.date,this.comment=u.comment,this.unixPermissions=u.unixPermissions,this.dosPermissions=u.dosPermissions,this._data=s,this._dataBinary=u.binary,this.options={compression:u.compression,compressionOptions:u.compressionOptions}}var f=k("./stream/StreamHelper"),l=k("./stream/DataWorker"),d=k("./utf8"),v=k("./compressedObject"),x=k("./stream/GenericWorker");r.prototype={internalStream:function(h){var s=null,u="string";try{if(!h)throw new Error("No output type specified.");var a="string"===(u=h.toLowerCase())||"text"===u;"binarystring"!==u&&"text"!==u||(u="string"),s=this._decompressWorker();var c=!this._dataBinary;c&&!a&&(s=s.pipe(new d.Utf8EncodeWorker)),!c&&a&&(s=s.pipe(new d.Utf8DecodeWorker))}catch(y){(s=new x("error")).error(y)}return new f(s,u,"")},async:function(h,s){return this.internalStream(h).accumulate(s)},nodeStream:function(h,s){return this.internalStream(h||"nodebuffer").toNodejsStream(s)},_compressWorker:function(h,s){if(this._data instanceof v&&this._data.compression.magic===h.magic)return this._data.getCompressedWorker();var u=this._decompressWorker();return this._dataBinary||(u=u.pipe(new d.Utf8EncodeWorker)),v.createWorkerFrom(u,h,s)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof x?this._data:new l(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<m.length;i++)r.prototype[m[i]]=b;O.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(k,O,n){(function(r){"use strict";var f,l,d=r.MutationObserver||r.WebKitMutationObserver;if(d){var v=0,x=new d(h),m=r.document.createTextNode("");x.observe(m,{characterData:!0}),f=function(){m.data=v=++v%2}}else if(r.setImmediate||void 0===r.MessageChannel)f="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var s=r.document.createElement("script");s.onreadystatechange=function(){h(),s.onreadystatechange=null,s.parentNode.removeChild(s),s=null},r.document.documentElement.appendChild(s)}:function(){setTimeout(h,0)};else{var b=new r.MessageChannel;b.port1.onmessage=h,f=function(){b.port2.postMessage(0)}}var i=[];function h(){var s,u;l=!0;for(var a=i.length;a;){for(u=i,i=[],s=-1;++s<a;)u[s]();a=i.length}l=!1}O.exports=function(s){1!==i.push(s)||l||f()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(k,O,n){"use strict";var r=k("immediate");function f(){}var l={},d=["REJECTED"],v=["FULFILLED"],x=["PENDING"];function m(a){if("function"!=typeof a)throw new TypeError("resolver must be a function");this.state=x,this.queue=[],this.outcome=void 0,a!==f&&s(this,a)}function b(a,c,y){this.promise=a,"function"==typeof c&&(this.onFulfilled=c,this.callFulfilled=this.otherCallFulfilled),"function"==typeof y&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function i(a,c,y){r(function(){var o;try{o=c(y)}catch(p){return l.reject(a,p)}o===a?l.reject(a,new TypeError("Cannot resolve promise with itself")):l.resolve(a,o)})}function h(a){var c=a&&a.then;if(a&&("object"==typeof a||"function"==typeof a)&&"function"==typeof c)return function(){c.apply(a,arguments)}}function s(a,c){var y=!1;function o(C){y||(y=!0,l.reject(a,C))}function p(C){y||(y=!0,l.resolve(a,C))}var E=u(function(){c(p,o)});"error"===E.status&&o(E.value)}function u(a,c){var y={};try{y.value=a(c),y.status="success"}catch(o){y.status="error",y.value=o}return y}(O.exports=m).prototype.finally=function(a){if("function"!=typeof a)return this;var c=this.constructor;return this.then(function(y){return c.resolve(a()).then(function(){return y})},function(y){return c.resolve(a()).then(function(){throw y})})},m.prototype.catch=function(a){return this.then(null,a)},m.prototype.then=function(a,c){if("function"!=typeof a&&this.state===v||"function"!=typeof c&&this.state===d)return this;var y=new this.constructor(f);return this.state!==x?i(y,this.state===v?a:c,this.outcome):this.queue.push(new b(y,a,c)),y},b.prototype.callFulfilled=function(a){l.resolve(this.promise,a)},b.prototype.otherCallFulfilled=function(a){i(this.promise,this.onFulfilled,a)},b.prototype.callRejected=function(a){l.reject(this.promise,a)},b.prototype.otherCallRejected=function(a){i(this.promise,this.onRejected,a)},l.resolve=function(a,c){var y=u(h,c);if("error"===y.status)return l.reject(a,y.value);var o=y.value;if(o)s(a,o);else{a.state=v,a.outcome=c;for(var p=-1,E=a.queue.length;++p<E;)a.queue[p].callFulfilled(c)}return a},l.reject=function(a,c){a.state=d,a.outcome=c;for(var y=-1,o=a.queue.length;++y<o;)a.queue[y].callRejected(c);return a},m.resolve=function(a){return a instanceof this?a:l.resolve(new this(f),a)},m.reject=function(a){var c=new this(f);return l.reject(c,a)},m.all=function(a){var c=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var y=a.length,o=!1;if(!y)return this.resolve([]);for(var p=new Array(y),E=0,C=-1,P=new this(f);++C<y;)S(a[C],C);return P;function S(L,K){c.resolve(L).then(function(w){p[K]=w,++E!==y||o||(o=!0,l.resolve(P,p))},function(w){o||(o=!0,l.reject(P,w))})}},m.race=function(a){if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var y=a.length,o=!1;if(!y)return this.resolve([]);for(var p=-1,E=new this(f);++p<y;)this.resolve(a[p]).then(function(P){o||(o=!0,l.resolve(E,P))},function(P){o||(o=!0,l.reject(E,P))});return E}},{immediate:36}],38:[function(k,O,n){"use strict";var r={};(0,k("./lib/utils/common").assign)(r,k("./lib/deflate"),k("./lib/inflate"),k("./lib/zlib/constants")),O.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(k,O,n){"use strict";var r=k("./zlib/deflate"),f=k("./utils/common"),l=k("./utils/strings"),d=k("./zlib/messages"),v=k("./zlib/zstream"),x=Object.prototype.toString;function s(a){if(!(this instanceof s))return new s(a);this.options=f.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},a||{});var c=this.options;c.raw&&0<c.windowBits?c.windowBits=-c.windowBits:c.gzip&&0<c.windowBits&&c.windowBits<16&&(c.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var y=r.deflateInit2(this.strm,c.level,c.method,c.windowBits,c.memLevel,c.strategy);if(0!==y)throw new Error(d[y]);if(c.header&&r.deflateSetHeader(this.strm,c.header),c.dictionary){var o;if(o="string"==typeof c.dictionary?l.string2buf(c.dictionary):"[object ArrayBuffer]"===x.call(c.dictionary)?new Uint8Array(c.dictionary):c.dictionary,0!==(y=r.deflateSetDictionary(this.strm,o)))throw new Error(d[y]);this._dict_set=!0}}function u(a,c){var y=new s(c);if(y.push(a,!0),y.err)throw y.msg||d[y.err];return y.result}s.prototype.push=function(a,c){var y,o,p=this.strm,E=this.options.chunkSize;if(this.ended)return!1;o=c===~~c?c:!0===c?4:0,p.input="string"==typeof a?l.string2buf(a):"[object ArrayBuffer]"===x.call(a)?new Uint8Array(a):a,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new f.Buf8(E),p.next_out=0,p.avail_out=E),1!==(y=r.deflate(p,o))&&0!==y)return this.onEnd(y),!(this.ended=!0);0!==p.avail_out&&(0!==p.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?l.buf2binstring(f.shrinkBuf(p.output,p.next_out)):f.shrinkBuf(p.output,p.next_out))}while((0<p.avail_in||0===p.avail_out)&&1!==y);return 4===o?(y=r.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,0===y):2!==o||(this.onEnd(0),!(p.avail_out=0))},s.prototype.onData=function(a){this.chunks.push(a)},s.prototype.onEnd=function(a){0===a&&(this.result="string"===this.options.to?this.chunks.join(""):f.flattenChunks(this.chunks)),this.chunks=[],this.err=a,this.msg=this.strm.msg},n.Deflate=s,n.deflate=u,n.deflateRaw=function(a,c){return(c=c||{}).raw=!0,u(a,c)},n.gzip=function(a,c){return(c=c||{}).gzip=!0,u(a,c)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(k,O,n){"use strict";var r=k("./zlib/inflate"),f=k("./utils/common"),l=k("./utils/strings"),d=k("./zlib/constants"),v=k("./zlib/messages"),x=k("./zlib/zstream"),m=k("./zlib/gzheader"),b=Object.prototype.toString;function i(s){if(!(this instanceof i))return new i(s);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},s||{});var u=this.options;u.raw&&0<=u.windowBits&&u.windowBits<16&&(u.windowBits=-u.windowBits,0===u.windowBits&&(u.windowBits=-15)),!(0<=u.windowBits&&u.windowBits<16)||s&&s.windowBits||(u.windowBits+=32),15<u.windowBits&&u.windowBits<48&&0==(15&u.windowBits)&&(u.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var a=r.inflateInit2(this.strm,u.windowBits);if(a!==d.Z_OK)throw new Error(v[a]);this.header=new m,r.inflateGetHeader(this.strm,this.header)}function h(s,u){var a=new i(u);if(a.push(s,!0),a.err)throw a.msg||v[a.err];return a.result}i.prototype.push=function(s,u){var a,c,y,o,p,E,C=this.strm,P=this.options.chunkSize,S=this.options.dictionary,L=!1;if(this.ended)return!1;c=u===~~u?u:!0===u?d.Z_FINISH:d.Z_NO_FLUSH,C.input="string"==typeof s?l.binstring2buf(s):"[object ArrayBuffer]"===b.call(s)?new Uint8Array(s):s,C.next_in=0,C.avail_in=C.input.length;do{if(0===C.avail_out&&(C.output=new f.Buf8(P),C.next_out=0,C.avail_out=P),(a=r.inflate(C,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&S&&(E="string"==typeof S?l.string2buf(S):"[object ArrayBuffer]"===b.call(S)?new Uint8Array(S):S,a=r.inflateSetDictionary(this.strm,E)),a===d.Z_BUF_ERROR&&!0===L&&(a=d.Z_OK,L=!1),a!==d.Z_STREAM_END&&a!==d.Z_OK)return this.onEnd(a),!(this.ended=!0);C.next_out&&(0!==C.avail_out&&a!==d.Z_STREAM_END&&(0!==C.avail_in||c!==d.Z_FINISH&&c!==d.Z_SYNC_FLUSH)||("string"===this.options.to?(y=l.utf8border(C.output,C.next_out),o=C.next_out-y,p=l.buf2string(C.output,y),C.next_out=o,C.avail_out=P-o,o&&f.arraySet(C.output,C.output,y,o,0),this.onData(p)):this.onData(f.shrinkBuf(C.output,C.next_out)))),0===C.avail_in&&0===C.avail_out&&(L=!0)}while((0<C.avail_in||0===C.avail_out)&&a!==d.Z_STREAM_END);return a===d.Z_STREAM_END&&(c=d.Z_FINISH),c===d.Z_FINISH?(a=r.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===d.Z_OK):c!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(C.avail_out=0))},i.prototype.onData=function(s){this.chunks.push(s)},i.prototype.onEnd=function(s){s===d.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):f.flattenChunks(this.chunks)),this.chunks=[],this.err=s,this.msg=this.strm.msg},n.Inflate=i,n.inflate=h,n.inflateRaw=function(s,u){return(u=u||{}).raw=!0,h(s,u)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(k,O,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(d){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var x=v.shift();if(x){if("object"!=typeof x)throw new TypeError(x+"must be non-object");for(var m in x)x.hasOwnProperty(m)&&(d[m]=x[m])}}return d},n.shrinkBuf=function(d,v){return d.length===v?d:d.subarray?d.subarray(0,v):(d.length=v,d)};var f={arraySet:function(d,v,x,m,b){if(v.subarray&&d.subarray)d.set(v.subarray(x,x+m),b);else for(var i=0;i<m;i++)d[b+i]=v[x+i]},flattenChunks:function(d){var v,x,m,b,i,h;for(v=m=0,x=d.length;v<x;v++)m+=d[v].length;for(h=new Uint8Array(m),v=b=0,x=d.length;v<x;v++)h.set(i=d[v],b),b+=i.length;return h}},l={arraySet:function(d,v,x,m,b){for(var i=0;i<m;i++)d[b+i]=v[x+i]},flattenChunks:function(d){return[].concat.apply([],d)}};n.setTyped=function(d){d?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,f)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,l))},n.setTyped(r)},{}],42:[function(k,O,n){"use strict";var r=k("./common"),f=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch(m){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(m){l=!1}for(var d=new r.Buf8(256),v=0;v<256;v++)d[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;function x(m,b){if(b<65537&&(m.subarray&&l||!m.subarray&&f))return String.fromCharCode.apply(null,r.shrinkBuf(m,b));for(var i="",h=0;h<b;h++)i+=String.fromCharCode(m[h]);return i}d[254]=d[254]=1,n.string2buf=function(m){var b,i,h,s,u,a=m.length,c=0;for(s=0;s<a;s++)55296==(64512&(i=m.charCodeAt(s)))&&s+1<a&&56320==(64512&(h=m.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(h-56320),s++),c+=i<128?1:i<2048?2:i<65536?3:4;for(b=new r.Buf8(c),s=u=0;u<c;s++)55296==(64512&(i=m.charCodeAt(s)))&&s+1<a&&56320==(64512&(h=m.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(h-56320),s++),i<128?b[u++]=i:(i<2048?b[u++]=192|i>>>6:(i<65536?b[u++]=224|i>>>12:(b[u++]=240|i>>>18,b[u++]=128|i>>>12&63),b[u++]=128|i>>>6&63),b[u++]=128|63&i);return b},n.buf2binstring=function(m){return x(m,m.length)},n.binstring2buf=function(m){for(var b=new r.Buf8(m.length),i=0,h=b.length;i<h;i++)b[i]=m.charCodeAt(i);return b},n.buf2string=function(m,b){var i,h,s,u,a=b||m.length,c=new Array(2*a);for(i=h=0;i<a;)if((s=m[i++])<128)c[h++]=s;else if(4<(u=d[s]))c[h++]=65533,i+=u-1;else{for(s&=2===u?31:3===u?15:7;1<u&&i<a;)s=s<<6|63&m[i++],u--;1<u?c[h++]=65533:s<65536?c[h++]=s:(c[h++]=55296|(s-=65536)>>10&1023,c[h++]=56320|1023&s)}return x(c,h)},n.utf8border=function(m,b){var i;for((b=b||m.length)>m.length&&(b=m.length),i=b-1;0<=i&&128==(192&m[i]);)i--;return i<0||0===i?b:i+d[m[i]]>b?i:b}},{"./common":41}],43:[function(k,O,n){"use strict";O.exports=function(r,f,l,d){for(var v=65535&r|0,x=r>>>16&65535|0,m=0;0!==l;){for(l-=m=2e3<l?2e3:l;x=x+(v=v+f[d++]|0)|0,--m;);v%=65521,x%=65521}return v|x<<16|0}},{}],44:[function(k,O,n){"use strict";O.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(k,O,n){"use strict";var r=function(){for(var f,l=[],d=0;d<256;d++){f=d;for(var v=0;v<8;v++)f=1&f?3988292384^f>>>1:f>>>1;l[d]=f}return l}();O.exports=function(f,l,d,v){var x=r,m=v+d;f^=-1;for(var b=v;b<m;b++)f=f>>>8^x[255&(f^l[b])];return-1^f}},{}],46:[function(k,O,n){"use strict";var r,f=k("../utils/common"),l=k("./trees"),d=k("./adler32"),v=k("./crc32"),x=k("./messages"),h=-2,L=258,K=262,U=113;function G(e,F){return e.msg=x[F],F}function W(e){return(e<<1)-(4<e?9:0)}function V(e){for(var F=e.length;0<=--F;)e[F]=0}function M(e){var F=e.state,N=F.pending;N>e.avail_out&&(N=e.avail_out),0!==N&&(f.arraySet(e.output,F.pending_buf,F.pending_out,N,e.next_out),e.next_out+=N,F.pending_out+=N,e.total_out+=N,e.avail_out-=N,F.pending-=N,0===F.pending&&(F.pending_out=0))}function D(e,F){l._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,F),e.block_start=e.strstart,M(e.strm)}function Z(e,F){e.pending_buf[e.pending++]=F}function Y(e,F){e.pending_buf[e.pending++]=F>>>8&255,e.pending_buf[e.pending++]=255&F}function R(e,F){var N,g,_=e.max_chain_length,T=e.strstart,j=e.prev_length,H=e.nice_match,z=e.strstart>e.w_size-K?e.strstart-(e.w_size-K):0,q=e.window,J=e.w_mask,Q=e.prev,$=e.strstart+L,rt=q[T+j-1],et=q[T+j];e.prev_length>=e.good_match&&(_>>=2),H>e.lookahead&&(H=e.lookahead);do{if(q[(N=F)+j]===et&&q[N+j-1]===rt&&q[N]===q[T]&&q[++N]===q[T+1]){T+=2,N++;do{}while(q[++T]===q[++N]&&q[++T]===q[++N]&&q[++T]===q[++N]&&q[++T]===q[++N]&&q[++T]===q[++N]&&q[++T]===q[++N]&&q[++T]===q[++N]&&q[++T]===q[++N]&&T<$);if(g=L-($-T),T=$-L,j<g){if(e.match_start=F,H<=(j=g))break;rt=q[T+j-1],et=q[T+j]}}}while((F=Q[F&J])>z&&0!=--_);return j<=e.lookahead?j:e.lookahead}function X(e){var F,N,g,_,T,j,H,z,q,J,Q=e.w_size;do{if(_=e.window_size-e.lookahead-e.strstart,e.strstart>=Q+(Q-K)){for(f.arraySet(e.window,e.window,Q,Q,0),e.match_start-=Q,e.strstart-=Q,e.block_start-=Q,F=N=e.hash_size;g=e.head[--F],e.head[F]=Q<=g?g-Q:0,--N;);for(F=N=Q;g=e.prev[--F],e.prev[F]=Q<=g?g-Q:0,--N;);_+=Q}if(0===e.strm.avail_in)break;if(H=e.window,z=e.strstart+e.lookahead,J=void 0,(q=_)<(J=(j=e.strm).avail_in)&&(J=q),N=0===J?0:(j.avail_in-=J,f.arraySet(H,j.input,j.next_in,J,z),1===j.state.wrap?j.adler=d(j.adler,H,J,z):2===j.state.wrap&&(j.adler=v(j.adler,H,J,z)),j.next_in+=J,j.total_in+=J,J),e.lookahead+=N,e.lookahead+e.insert>=3)for(e.ins_h=e.window[T=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[T+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[T+3-1])&e.hash_mask,e.prev[T&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=T,T++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<K&&0!==e.strm.avail_in)}function nt(e,F){for(var N,g;;){if(e.lookahead<K){if(X(e),e.lookahead<K&&0===F)return 1;if(0===e.lookahead)break}if(N=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==N&&e.strstart-N<=e.w_size-K&&(e.match_length=R(e,N)),e.match_length>=3)if(g=l._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else g=l._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(g&&(D(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===F?(D(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?1:2}function tt(e,F){for(var N,g,_;;){if(e.lookahead<K){if(X(e),e.lookahead<K&&0===F)return 1;if(0===e.lookahead)break}if(N=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==N&&e.prev_length<e.max_lazy_match&&e.strstart-N<=e.w_size-K&&(e.match_length=R(e,N),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(_=e.strstart+e.lookahead-3,g=l._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=_&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,N=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,g&&(D(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((g=l._tr_tally(e,0,e.window[e.strstart-1]))&&D(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(g=l._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===F?(D(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?1:2}function it(e,F,N,g,_){this.good_length=e,this.max_lazy=F,this.nice_length=N,this.max_chain=g,this.func=_}function at(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new f.Buf16(1146),this.dyn_dtree=new f.Buf16(122),this.bl_tree=new f.Buf16(78),V(this.dyn_ltree),V(this.dyn_dtree),V(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new f.Buf16(16),this.heap=new f.Buf16(573),V(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new f.Buf16(573),V(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function st(e){var F;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(F=e.state).pending=0,F.pending_out=0,F.wrap<0&&(F.wrap=-F.wrap),F.status=F.wrap?42:U,e.adler=2===F.wrap?0:1,F.last_flush=0,l._tr_init(F),0):G(e,h)}function ct(e){var N,F=st(e);return 0===F&&((N=e.state).window_size=2*N.w_size,V(N.head),N.max_lazy_match=r[N.level].max_lazy,N.good_match=r[N.level].good_length,N.nice_match=r[N.level].nice_length,N.max_chain_length=r[N.level].max_chain,N.strstart=0,N.block_start=0,N.lookahead=0,N.insert=0,N.match_length=N.prev_length=2,N.match_available=0,N.ins_h=0),F}function ut(e,F,N,g,_,T){if(!e)return h;var j=1;if(-1===F&&(F=6),g<0?(j=0,g=-g):15<g&&(j=2,g-=16),_<1||9<_||8!==N||g<8||15<g||F<0||9<F||T<0||4<T)return G(e,h);8===g&&(g=9);var H=new at;return(e.state=H).strm=e,H.wrap=j,H.gzhead=null,H.w_bits=g,H.w_size=1<<H.w_bits,H.w_mask=H.w_size-1,H.hash_bits=_+7,H.hash_size=1<<H.hash_bits,H.hash_mask=H.hash_size-1,H.hash_shift=~~((H.hash_bits+3-1)/3),H.window=new f.Buf8(2*H.w_size),H.head=new f.Buf16(H.hash_size),H.prev=new f.Buf16(H.w_size),H.lit_bufsize=1<<_+6,H.pending_buf_size=4*H.lit_bufsize,H.pending_buf=new f.Buf8(H.pending_buf_size),H.d_buf=1*H.lit_bufsize,H.l_buf=3*H.lit_bufsize,H.level=F,H.strategy=T,H.method=N,ct(e)}r=[new it(0,0,0,0,function(e,F){var N=65535;for(N>e.pending_buf_size-5&&(N=e.pending_buf_size-5);;){if(e.lookahead<=1){if(X(e),0===e.lookahead&&0===F)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var g=e.block_start+N;if((0===e.strstart||e.strstart>=g)&&(e.lookahead=e.strstart-g,e.strstart=g,D(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-K&&(D(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===F?(D(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&D(e,!1),1)}),new it(4,4,8,4,nt),new it(4,5,16,8,nt),new it(4,6,32,32,nt),new it(4,4,16,16,tt),new it(8,16,32,32,tt),new it(8,16,128,128,tt),new it(8,32,128,256,tt),new it(32,128,258,1024,tt),new it(32,258,258,4096,tt)],n.deflateInit=function(e,F){return ut(e,F,8,15,8,0)},n.deflateInit2=ut,n.deflateReset=ct,n.deflateResetKeep=st,n.deflateSetHeader=function(e,F){return e&&e.state?2!==e.state.wrap?h:(e.state.gzhead=F,0):h},n.deflate=function(e,F){var N,g,_,T;if(!e||!e.state||5<F||F<0)return e?G(e,h):h;if(g=e.state,!e.output||!e.input&&0!==e.avail_in||666===g.status&&4!==F)return G(e,0===e.avail_out?-5:h);if(g.strm=e,N=g.last_flush,g.last_flush=F,42===g.status)if(2===g.wrap)e.adler=0,Z(g,31),Z(g,139),Z(g,8),g.gzhead?(Z(g,(g.gzhead.text?1:0)+(g.gzhead.hcrc?2:0)+(g.gzhead.extra?4:0)+(g.gzhead.name?8:0)+(g.gzhead.comment?16:0)),Z(g,255&g.gzhead.time),Z(g,g.gzhead.time>>8&255),Z(g,g.gzhead.time>>16&255),Z(g,g.gzhead.time>>24&255),Z(g,9===g.level?2:2<=g.strategy||g.level<2?4:0),Z(g,255&g.gzhead.os),g.gzhead.extra&&g.gzhead.extra.length&&(Z(g,255&g.gzhead.extra.length),Z(g,g.gzhead.extra.length>>8&255)),g.gzhead.hcrc&&(e.adler=v(e.adler,g.pending_buf,g.pending,0)),g.gzindex=0,g.status=69):(Z(g,0),Z(g,0),Z(g,0),Z(g,0),Z(g,0),Z(g,9===g.level?2:2<=g.strategy||g.level<2?4:0),Z(g,3),g.status=U);else{var j=8+(g.w_bits-8<<4)<<8;j|=(2<=g.strategy||g.level<2?0:g.level<6?1:6===g.level?2:3)<<6,0!==g.strstart&&(j|=32),j+=31-j%31,g.status=U,Y(g,j),0!==g.strstart&&(Y(g,e.adler>>>16),Y(g,65535&e.adler)),e.adler=1}if(69===g.status)if(g.gzhead.extra){for(_=g.pending;g.gzindex<(65535&g.gzhead.extra.length)&&(g.pending!==g.pending_buf_size||(g.gzhead.hcrc&&g.pending>_&&(e.adler=v(e.adler,g.pending_buf,g.pending-_,_)),M(e),_=g.pending,g.pending!==g.pending_buf_size));)Z(g,255&g.gzhead.extra[g.gzindex]),g.gzindex++;g.gzhead.hcrc&&g.pending>_&&(e.adler=v(e.adler,g.pending_buf,g.pending-_,_)),g.gzindex===g.gzhead.extra.length&&(g.gzindex=0,g.status=73)}else g.status=73;if(73===g.status)if(g.gzhead.name){_=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>_&&(e.adler=v(e.adler,g.pending_buf,g.pending-_,_)),M(e),_=g.pending,g.pending===g.pending_buf_size)){T=1;break}T=g.gzindex<g.gzhead.name.length?255&g.gzhead.name.charCodeAt(g.gzindex++):0,Z(g,T)}while(0!==T);g.gzhead.hcrc&&g.pending>_&&(e.adler=v(e.adler,g.pending_buf,g.pending-_,_)),0===T&&(g.gzindex=0,g.status=91)}else g.status=91;if(91===g.status)if(g.gzhead.comment){_=g.pending;do{if(g.pending===g.pending_buf_size&&(g.gzhead.hcrc&&g.pending>_&&(e.adler=v(e.adler,g.pending_buf,g.pending-_,_)),M(e),_=g.pending,g.pending===g.pending_buf_size)){T=1;break}T=g.gzindex<g.gzhead.comment.length?255&g.gzhead.comment.charCodeAt(g.gzindex++):0,Z(g,T)}while(0!==T);g.gzhead.hcrc&&g.pending>_&&(e.adler=v(e.adler,g.pending_buf,g.pending-_,_)),0===T&&(g.status=103)}else g.status=103;if(103===g.status&&(g.gzhead.hcrc?(g.pending+2>g.pending_buf_size&&M(e),g.pending+2<=g.pending_buf_size&&(Z(g,255&e.adler),Z(g,e.adler>>8&255),e.adler=0,g.status=U)):g.status=U),0!==g.pending){if(M(e),0===e.avail_out)return g.last_flush=-1,0}else if(0===e.avail_in&&W(F)<=W(N)&&4!==F)return G(e,-5);if(666===g.status&&0!==e.avail_in)return G(e,-5);if(0!==e.avail_in||0!==g.lookahead||0!==F&&666!==g.status){var H=2===g.strategy?function(z,q){for(var J;;){if(0===z.lookahead&&(X(z),0===z.lookahead)){if(0===q)return 1;break}if(z.match_length=0,J=l._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++,J&&(D(z,!1),0===z.strm.avail_out))return 1}return z.insert=0,4===q?(D(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(D(z,!1),0===z.strm.avail_out)?1:2}(g,F):3===g.strategy?function(z,q){for(var J,Q,$,rt,et=z.window;;){if(z.lookahead<=L){if(X(z),z.lookahead<=L&&0===q)return 1;if(0===z.lookahead)break}if(z.match_length=0,z.lookahead>=3&&0<z.strstart&&(Q=et[$=z.strstart-1])===et[++$]&&Q===et[++$]&&Q===et[++$]){rt=z.strstart+L;do{}while(Q===et[++$]&&Q===et[++$]&&Q===et[++$]&&Q===et[++$]&&Q===et[++$]&&Q===et[++$]&&Q===et[++$]&&Q===et[++$]&&$<rt);z.match_length=L-(rt-$),z.match_length>z.lookahead&&(z.match_length=z.lookahead)}if(z.match_length>=3?(J=l._tr_tally(z,1,z.match_length-3),z.lookahead-=z.match_length,z.strstart+=z.match_length,z.match_length=0):(J=l._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++),J&&(D(z,!1),0===z.strm.avail_out))return 1}return z.insert=0,4===q?(D(z,!0),0===z.strm.avail_out?3:4):z.last_lit&&(D(z,!1),0===z.strm.avail_out)?1:2}(g,F):r[g.level].func(g,F);if(3!==H&&4!==H||(g.status=666),1===H||3===H)return 0===e.avail_out&&(g.last_flush=-1),0;if(2===H&&(1===F?l._tr_align(g):5!==F&&(l._tr_stored_block(g,0,0,!1),3===F&&(V(g.head),0===g.lookahead&&(g.strstart=0,g.block_start=0,g.insert=0))),M(e),0===e.avail_out))return g.last_flush=-1,0}return 4!==F?0:g.wrap<=0?1:(2===g.wrap?(Z(g,255&e.adler),Z(g,e.adler>>8&255),Z(g,e.adler>>16&255),Z(g,e.adler>>24&255),Z(g,255&e.total_in),Z(g,e.total_in>>8&255),Z(g,e.total_in>>16&255),Z(g,e.total_in>>24&255)):(Y(g,e.adler>>>16),Y(g,65535&e.adler)),M(e),0<g.wrap&&(g.wrap=-g.wrap),0!==g.pending?0:1)},n.deflateEnd=function(e){var F;return e&&e.state?42!==(F=e.state.status)&&69!==F&&73!==F&&91!==F&&103!==F&&F!==U&&666!==F?G(e,h):(e.state=null,F===U?G(e,-3):0):h},n.deflateSetDictionary=function(e,F){var N,g,_,T,j,H,z,q,J=F.length;if(!e||!e.state||2===(T=(N=e.state).wrap)||1===T&&42!==N.status||N.lookahead)return h;for(1===T&&(e.adler=d(e.adler,F,J,0)),N.wrap=0,J>=N.w_size&&(0===T&&(V(N.head),N.strstart=0,N.block_start=0,N.insert=0),q=new f.Buf8(N.w_size),f.arraySet(q,F,J-N.w_size,N.w_size,0),F=q,J=N.w_size),j=e.avail_in,H=e.next_in,z=e.input,e.avail_in=J,e.next_in=0,e.input=F,X(N);N.lookahead>=3;){for(g=N.strstart,_=N.lookahead-2;N.ins_h=(N.ins_h<<N.hash_shift^N.window[g+3-1])&N.hash_mask,N.prev[g&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=g,g++,--_;);N.strstart=g,N.lookahead=2,X(N)}return N.strstart+=N.lookahead,N.block_start=N.strstart,N.insert=N.lookahead,N.lookahead=0,N.match_length=N.prev_length=2,N.match_available=0,e.next_in=H,e.input=z,e.avail_in=j,N.wrap=T,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(k,O,n){"use strict";O.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(k,O,n){"use strict";O.exports=function(r,f){var l,d,v,x,m,b,i,h,s,u,a,c,y,o,p,E,C,P,S,L,K,w,U,t,A;t=r.input,v=(d=r.next_in)+(r.avail_in-5),A=r.output,m=(x=r.next_out)-(f-r.avail_out),b=x+(r.avail_out-257),i=(l=r.state).dmax,h=l.wsize,s=l.whave,u=l.wnext,a=l.window,c=l.hold,y=l.bits,o=l.lencode,p=l.distcode,E=(1<<l.lenbits)-1,C=(1<<l.distbits)-1;t:do{y<15&&(c+=t[d++]<<y,c+=t[d++]<<(y+=8),y+=8),P=o[c&E];e:for(;;){if(c>>>=S=P>>>24,y-=S,0==(S=P>>>16&255))A[x++]=65535&P;else{if(!(16&S)){if(0==(64&S)){P=o[(65535&P)+(c&(1<<S)-1)];continue e}if(32&S){l.mode=12;break t}r.msg="invalid literal/length code",l.mode=30;break t}L=65535&P,(S&=15)&&(y<S&&(c+=t[d++]<<y,y+=8),L+=c&(1<<S)-1,c>>>=S,y-=S),y<15&&(c+=t[d++]<<y,c+=t[d++]<<(y+=8),y+=8),P=p[c&C];n:for(;;){if(c>>>=S=P>>>24,y-=S,!(16&(S=P>>>16&255))){if(0==(64&S)){P=p[(65535&P)+(c&(1<<S)-1)];continue n}r.msg="invalid distance code",l.mode=30;break t}if(K=65535&P,y<(S&=15)&&(c+=t[d++]<<y,(y+=8)<S&&(c+=t[d++]<<y,y+=8)),i<(K+=c&(1<<S)-1)){r.msg="invalid distance too far back",l.mode=30;break t}if(c>>>=S,y-=S,(S=x-m)<K){if(s<(S=K-S)&&l.sane){r.msg="invalid distance too far back",l.mode=30;break t}if(U=a,(w=0)===u){if(w+=h-S,S<L){for(L-=S;A[x++]=a[w++],--S;);w=x-K,U=A}}else if(u<S){if(w+=h+u-S,(S-=u)<L){for(L-=S;A[x++]=a[w++],--S;);if(w=0,u<L){for(L-=S=u;A[x++]=a[w++],--S;);w=x-K,U=A}}}else if(w+=u-S,S<L){for(L-=S;A[x++]=a[w++],--S;);w=x-K,U=A}for(;2<L;)A[x++]=U[w++],A[x++]=U[w++],A[x++]=U[w++],L-=3;L&&(A[x++]=U[w++],1<L&&(A[x++]=U[w++]))}else{for(w=x-K;A[x++]=A[w++],A[x++]=A[w++],A[x++]=A[w++],2<(L-=3););L&&(A[x++]=A[w++],1<L&&(A[x++]=A[w++]))}break}}break}}while(d<v&&x<b);d-=L=y>>3,c&=(1<<(y-=L<<3))-1,r.next_in=d,r.next_out=x,r.avail_in=d<v?v-d+5:5-(d-v),r.avail_out=x<b?b-x+257:257-(x-b),l.hold=c,l.bits=y}},{}],49:[function(k,O,n){"use strict";var r=k("../utils/common"),f=k("./adler32"),l=k("./crc32"),d=k("./inffast"),v=k("./inftrees"),i=-2;function a(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(w){var U;return w&&w.state?(w.total_in=w.total_out=(U=w.state).total=0,w.msg="",U.wrap&&(w.adler=1&U.wrap),U.mode=1,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new r.Buf32(852),U.distcode=U.distdyn=new r.Buf32(592),U.sane=1,U.back=-1,0):i}function o(w){var U;return w&&w.state?((U=w.state).wsize=0,U.whave=0,U.wnext=0,y(w)):i}function p(w,U){var t,A;return w&&w.state?(A=w.state,U<0?(t=0,U=-U):(t=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?i:(null!==A.window&&A.wbits!==U&&(A.window=null),A.wrap=t,A.wbits=U,o(w))):i}function E(w,U){var t,A;return w?(A=new c,(w.state=A).window=null,0!==(t=p(w,U))&&(w.state=null),t):i}var C,P,S=!0;function L(w){if(S){var U;for(C=new r.Buf32(512),P=new r.Buf32(32),U=0;U<144;)w.lens[U++]=8;for(;U<256;)w.lens[U++]=9;for(;U<280;)w.lens[U++]=7;for(;U<288;)w.lens[U++]=8;for(v(1,w.lens,0,288,C,0,w.work,{bits:9}),U=0;U<32;)w.lens[U++]=5;v(2,w.lens,0,32,P,0,w.work,{bits:5}),S=!1}w.lencode=C,w.lenbits=9,w.distcode=P,w.distbits=5}function K(w,U,t,A){var B,I=w.state;return null===I.window&&(I.wsize=1<<I.wbits,I.wnext=0,I.whave=0,I.window=new r.Buf8(I.wsize)),A>=I.wsize?(r.arraySet(I.window,U,t-I.wsize,I.wsize,0),I.wnext=0,I.whave=I.wsize):(A<(B=I.wsize-I.wnext)&&(B=A),r.arraySet(I.window,U,t-A,B,I.wnext),(A-=B)?(r.arraySet(I.window,U,t-A,A,0),I.wnext=A,I.whave=I.wsize):(I.wnext+=B,I.wnext===I.wsize&&(I.wnext=0),I.whave<I.wsize&&(I.whave+=B))),0}n.inflateReset=o,n.inflateReset2=p,n.inflateResetKeep=y,n.inflateInit=function(w){return E(w,15)},n.inflateInit2=E,n.inflate=function(w,U){var t,A,B,I,G,W,V,M,D,Z,Y,R,X,nt,tt,it,at,st,ct,ut,e,F,N,g,_=0,T=new r.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&0!==w.avail_in)return i;12===(t=w.state).mode&&(t.mode=13),G=w.next_out,B=w.output,I=w.next_in,A=w.input,M=t.hold,D=t.bits,Z=W=w.avail_in,Y=V=w.avail_out,F=0;t:for(;;)switch(t.mode){case 1:if(0===t.wrap){t.mode=13;break}for(;D<16;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if(2&t.wrap&&35615===M){T[t.check=0]=255&M,T[1]=M>>>8&255,t.check=l(t.check,T,2,0),D=M=0,t.mode=2;break}if(t.flags=0,t.head&&(t.head.done=!1),!(1&t.wrap)||(((255&M)<<8)+(M>>8))%31){w.msg="incorrect header check",t.mode=30;break}if(8!=(15&M)){w.msg="unknown compression method",t.mode=30;break}if(D-=4,e=8+(15&(M>>>=4)),0===t.wbits)t.wbits=e;else if(e>t.wbits){w.msg="invalid window size",t.mode=30;break}t.dmax=1<<e,w.adler=t.check=1,t.mode=512&M?10:12,D=M=0;break;case 2:for(;D<16;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if(t.flags=M,8!=(255&t.flags)){w.msg="unknown compression method",t.mode=30;break}if(57344&t.flags){w.msg="unknown header flags set",t.mode=30;break}t.head&&(t.head.text=M>>8&1),512&t.flags&&(T[0]=255&M,T[1]=M>>>8&255,t.check=l(t.check,T,2,0)),D=M=0,t.mode=3;case 3:for(;D<32;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}t.head&&(t.head.time=M),512&t.flags&&(T[0]=255&M,T[1]=M>>>8&255,T[2]=M>>>16&255,T[3]=M>>>24&255,t.check=l(t.check,T,4,0)),D=M=0,t.mode=4;case 4:for(;D<16;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}t.head&&(t.head.xflags=255&M,t.head.os=M>>8),512&t.flags&&(T[0]=255&M,T[1]=M>>>8&255,t.check=l(t.check,T,2,0)),D=M=0,t.mode=5;case 5:if(1024&t.flags){for(;D<16;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}t.length=M,t.head&&(t.head.extra_len=M),512&t.flags&&(T[0]=255&M,T[1]=M>>>8&255,t.check=l(t.check,T,2,0)),D=M=0}else t.head&&(t.head.extra=null);t.mode=6;case 6:if(1024&t.flags&&(W<(R=t.length)&&(R=W),R&&(t.head&&(e=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),r.arraySet(t.head.extra,A,I,R,e)),512&t.flags&&(t.check=l(t.check,A,R,I)),W-=R,I+=R,t.length-=R),t.length))break t;t.length=0,t.mode=7;case 7:if(2048&t.flags){if(0===W)break t;for(R=0;e=A[I+R++],t.head&&e&&t.length<65536&&(t.head.name+=String.fromCharCode(e)),e&&R<W;);if(512&t.flags&&(t.check=l(t.check,A,R,I)),W-=R,I+=R,e)break t}else t.head&&(t.head.name=null);t.length=0,t.mode=8;case 8:if(4096&t.flags){if(0===W)break t;for(R=0;e=A[I+R++],t.head&&e&&t.length<65536&&(t.head.comment+=String.fromCharCode(e)),e&&R<W;);if(512&t.flags&&(t.check=l(t.check,A,R,I)),W-=R,I+=R,e)break t}else t.head&&(t.head.comment=null);t.mode=9;case 9:if(512&t.flags){for(;D<16;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if(M!==(65535&t.check)){w.msg="header crc mismatch",t.mode=30;break}D=M=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),w.adler=t.check=0,t.mode=12;break;case 10:for(;D<32;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}w.adler=t.check=a(M),D=M=0,t.mode=11;case 11:if(0===t.havedict)return w.next_out=G,w.avail_out=V,w.next_in=I,w.avail_in=W,t.hold=M,t.bits=D,2;w.adler=t.check=1,t.mode=12;case 12:if(5===U||6===U)break t;case 13:if(t.last){M>>>=7&D,D-=7&D,t.mode=27;break}for(;D<3;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}switch(t.last=1&M,D-=1,3&(M>>>=1)){case 0:t.mode=14;break;case 1:if(L(t),t.mode=20,6!==U)break;M>>>=2,D-=2;break t;case 2:t.mode=17;break;case 3:w.msg="invalid block type",t.mode=30}M>>>=2,D-=2;break;case 14:for(M>>>=7&D,D-=7&D;D<32;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if((65535&M)!=(M>>>16^65535)){w.msg="invalid stored block lengths",t.mode=30;break}if(t.length=65535&M,D=M=0,t.mode=15,6===U)break t;case 15:t.mode=16;case 16:if(R=t.length){if(W<R&&(R=W),V<R&&(R=V),0===R)break t;r.arraySet(B,A,I,R,G),W-=R,I+=R,V-=R,G+=R,t.length-=R;break}t.mode=12;break;case 17:for(;D<14;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if(t.nlen=257+(31&M),D-=5,t.ndist=1+(31&(M>>>=5)),D-=5,t.ncode=4+(15&(M>>>=5)),M>>>=4,D-=4,286<t.nlen||30<t.ndist){w.msg="too many length or distance symbols",t.mode=30;break}t.have=0,t.mode=18;case 18:for(;t.have<t.ncode;){for(;D<3;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}t.lens[j[t.have++]]=7&M,M>>>=3,D-=3}for(;t.have<19;)t.lens[j[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,F=v(0,t.lens,0,19,t.lencode,0,t.work,N={bits:t.lenbits}),t.lenbits=N.bits,F){w.msg="invalid code lengths set",t.mode=30;break}t.have=0,t.mode=19;case 19:for(;t.have<t.nlen+t.ndist;){for(;it=(_=t.lencode[M&(1<<t.lenbits)-1])>>>16&255,at=65535&_,!((tt=_>>>24)<=D);){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if(at<16)M>>>=tt,D-=tt,t.lens[t.have++]=at;else{if(16===at){for(g=tt+2;D<g;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if(M>>>=tt,D-=tt,0===t.have){w.msg="invalid bit length repeat",t.mode=30;break}e=t.lens[t.have-1],R=3+(3&M),M>>>=2,D-=2}else if(17===at){for(g=tt+3;D<g;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}D-=tt,e=0,R=3+(7&(M>>>=tt)),M>>>=3,D-=3}else{for(g=tt+7;D<g;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}D-=tt,e=0,R=11+(127&(M>>>=tt)),M>>>=7,D-=7}if(t.have+R>t.nlen+t.ndist){w.msg="invalid bit length repeat",t.mode=30;break}for(;R--;)t.lens[t.have++]=e}}if(30===t.mode)break;if(0===t.lens[256]){w.msg="invalid code -- missing end-of-block",t.mode=30;break}if(t.lenbits=9,F=v(1,t.lens,0,t.nlen,t.lencode,0,t.work,N={bits:t.lenbits}),t.lenbits=N.bits,F){w.msg="invalid literal/lengths set",t.mode=30;break}if(t.distbits=6,t.distcode=t.distdyn,F=v(2,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,N={bits:t.distbits}),t.distbits=N.bits,F){w.msg="invalid distances set",t.mode=30;break}if(t.mode=20,6===U)break t;case 20:t.mode=21;case 21:if(6<=W&&258<=V){w.next_out=G,w.avail_out=V,w.next_in=I,w.avail_in=W,t.hold=M,t.bits=D,d(w,Y),G=w.next_out,B=w.output,V=w.avail_out,I=w.next_in,A=w.input,W=w.avail_in,M=t.hold,D=t.bits,12===t.mode&&(t.back=-1);break}for(t.back=0;it=(_=t.lencode[M&(1<<t.lenbits)-1])>>>16&255,at=65535&_,!((tt=_>>>24)<=D);){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if(it&&0==(240&it)){for(st=tt,ct=it,ut=at;it=(_=t.lencode[ut+((M&(1<<st+ct)-1)>>st)])>>>16&255,at=65535&_,!(st+(tt=_>>>24)<=D);){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}M>>>=st,D-=st,t.back+=st}if(M>>>=tt,D-=tt,t.back+=tt,t.length=at,0===it){t.mode=26;break}if(32&it){t.back=-1,t.mode=12;break}if(64&it){w.msg="invalid literal/length code",t.mode=30;break}t.extra=15&it,t.mode=22;case 22:if(t.extra){for(g=t.extra;D<g;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}t.length+=M&(1<<t.extra)-1,M>>>=t.extra,D-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=23;case 23:for(;it=(_=t.distcode[M&(1<<t.distbits)-1])>>>16&255,at=65535&_,!((tt=_>>>24)<=D);){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if(0==(240&it)){for(st=tt,ct=it,ut=at;it=(_=t.distcode[ut+((M&(1<<st+ct)-1)>>st)])>>>16&255,at=65535&_,!(st+(tt=_>>>24)<=D);){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}M>>>=st,D-=st,t.back+=st}if(M>>>=tt,D-=tt,t.back+=tt,64&it){w.msg="invalid distance code",t.mode=30;break}t.offset=at,t.extra=15&it,t.mode=24;case 24:if(t.extra){for(g=t.extra;D<g;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}t.offset+=M&(1<<t.extra)-1,M>>>=t.extra,D-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){w.msg="invalid distance too far back",t.mode=30;break}t.mode=25;case 25:if(0===V)break t;if(t.offset>(R=Y-V)){if((R=t.offset-R)>t.whave&&t.sane){w.msg="invalid distance too far back",t.mode=30;break}X=R>t.wnext?t.wsize-(R-=t.wnext):t.wnext-R,R>t.length&&(R=t.length),nt=t.window}else nt=B,X=G-t.offset,R=t.length;for(V<R&&(R=V),V-=R,t.length-=R;B[G++]=nt[X++],--R;);0===t.length&&(t.mode=21);break;case 26:if(0===V)break t;B[G++]=t.length,V--,t.mode=21;break;case 27:if(t.wrap){for(;D<32;){if(0===W)break t;W--,M|=A[I++]<<D,D+=8}if(w.total_out+=Y-=V,t.total+=Y,Y&&(w.adler=t.check=t.flags?l(t.check,B,Y,G-Y):f(t.check,B,Y,G-Y)),Y=V,(t.flags?M:a(M))!==t.check){w.msg="incorrect data check",t.mode=30;break}D=M=0}t.mode=28;case 28:if(t.wrap&&t.flags){for(;D<32;){if(0===W)break t;W--,M+=A[I++]<<D,D+=8}if(M!==(4294967295&t.total)){w.msg="incorrect length check",t.mode=30;break}D=M=0}t.mode=29;case 29:F=1;break t;case 30:F=-3;break t;case 31:return-4;default:return i}return w.next_out=G,w.avail_out=V,w.next_in=I,w.avail_in=W,t.hold=M,t.bits=D,(t.wsize||Y!==w.avail_out&&t.mode<30&&(t.mode<27||4!==U))&&K(w,w.output,w.next_out,Y-w.avail_out)?(t.mode=31,-4):(Y-=w.avail_out,w.total_in+=Z-=w.avail_in,w.total_out+=Y,t.total+=Y,t.wrap&&Y&&(w.adler=t.check=t.flags?l(t.check,B,Y,w.next_out-Y):f(t.check,B,Y,w.next_out-Y)),w.data_type=t.bits+(t.last?64:0)+(12===t.mode?128:0)+(20===t.mode||15===t.mode?256:0),(0==Z&&0===Y||4===U)&&0===F&&(F=-5),F)},n.inflateEnd=function(w){if(!w||!w.state)return i;var U=w.state;return U.window&&(U.window=null),w.state=null,0},n.inflateGetHeader=function(w,U){var t;return w&&w.state?0==(2&(t=w.state).wrap)?i:((t.head=U).done=!1,0):i},n.inflateSetDictionary=function(w,U){var t,A=U.length;return w&&w.state?0!==(t=w.state).wrap&&11!==t.mode?i:11===t.mode&&f(1,U,A,0)!==t.check?-3:K(w,U,A,A)?(t.mode=31,-4):(t.havedict=1,0):i},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(k,O,n){"use strict";var r=k("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];O.exports=function(x,m,b,i,h,s,u,a){var c,y,o,p,E,C,P,S,L,K=a.bits,w=0,U=0,t=0,A=0,B=0,I=0,G=0,W=0,V=0,M=0,D=null,Z=0,Y=new r.Buf16(16),R=new r.Buf16(16),X=null,nt=0;for(w=0;w<=15;w++)Y[w]=0;for(U=0;U<i;U++)Y[m[b+U]]++;for(B=K,A=15;1<=A&&0===Y[A];A--);if(A<B&&(B=A),0===A)return h[s++]=20971520,h[s++]=20971520,a.bits=1,0;for(t=1;t<A&&0===Y[t];t++);for(B<t&&(B=t),w=W=1;w<=15;w++)if(W<<=1,(W-=Y[w])<0)return-1;if(0<W&&(0===x||1!==A))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+Y[w];for(U=0;U<i;U++)0!==m[b+U]&&(u[R[m[b+U]]++]=U);if(C=0===x?(D=X=u,19):1===x?(D=f,Z-=257,X=l,nt-=257,256):(D=d,X=v,-1),w=t,E=s,G=U=M=0,o=-1,p=(V=1<<(I=B))-1,1===x&&852<V||2===x&&592<V)return 1;for(;;){for(P=w-G,L=u[U]<C?(S=0,u[U]):u[U]>C?(S=X[nt+u[U]],D[Z+u[U]]):(S=96,0),c=1<<w-G,t=y=1<<I;h[E+(M>>G)+(y-=c)]=P<<24|S<<16|L|0,0!==y;);for(c=1<<w-1;M&c;)c>>=1;if(0!==c?(M&=c-1,M+=c):M=0,U++,0==--Y[w]){if(w===A)break;w=m[b+u[U]]}if(B<w&&(M&p)!==o){for(0===G&&(G=B),E+=t,W=1<<(I=w-G);I+G<A&&!((W-=Y[I+G])<=0);)I++,W<<=1;if(V+=1<<I,1===x&&852<V||2===x&&592<V)return 1;h[o=M&p]=B<<24|I<<16|E-s|0}}return 0!==M&&(h[E+M]=w-G<<24|64<<16|0),a.bits=B,0}},{"../utils/common":41}],51:[function(k,O,n){"use strict";O.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(k,O,n){"use strict";var r=k("../utils/common");function d(_){for(var T=_.length;0<=--T;)_[T]=0}var m=256,b=286,i=30,u=15,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=new Array(576);d(K);var w=new Array(60);d(w);var U=new Array(512);d(U);var t=new Array(256);d(t);var A=new Array(29);d(A);var B,I,G,W=new Array(i);function V(_,T,j,H,z){this.static_tree=_,this.extra_bits=T,this.extra_base=j,this.elems=H,this.max_length=z,this.has_stree=_&&_.length}function M(_,T){this.dyn_tree=_,this.max_code=0,this.stat_desc=T}function D(_){return _<256?U[_]:U[256+(_>>>7)]}function Z(_,T){_.pending_buf[_.pending++]=255&T,_.pending_buf[_.pending++]=T>>>8&255}function Y(_,T,j){_.bi_valid>16-j?(_.bi_buf|=T<<_.bi_valid&65535,Z(_,_.bi_buf),_.bi_buf=T>>16-_.bi_valid,_.bi_valid+=j-16):(_.bi_buf|=T<<_.bi_valid&65535,_.bi_valid+=j)}function R(_,T,j){Y(_,j[2*T],j[2*T+1])}function X(_,T){for(var j=0;j|=1&_,_>>>=1,j<<=1,0<--T;);return j>>>1}function nt(_,T,j){var H,z,q=new Array(16),J=0;for(H=1;H<=u;H++)q[H]=J=J+j[H-1]<<1;for(z=0;z<=T;z++){var Q=_[2*z+1];0!==Q&&(_[2*z]=X(q[Q]++,Q))}}function tt(_){var T;for(T=0;T<b;T++)_.dyn_ltree[2*T]=0;for(T=0;T<i;T++)_.dyn_dtree[2*T]=0;for(T=0;T<19;T++)_.bl_tree[2*T]=0;_.dyn_ltree[512]=1,_.opt_len=_.static_len=0,_.last_lit=_.matches=0}function it(_){8<_.bi_valid?Z(_,_.bi_buf):0<_.bi_valid&&(_.pending_buf[_.pending++]=_.bi_buf),_.bi_buf=0,_.bi_valid=0}function at(_,T,j,H){var z=2*T,q=2*j;return _[z]<_[q]||_[z]===_[q]&&H[T]<=H[j]}function st(_,T,j){for(var H=_.heap[j],z=j<<1;z<=_.heap_len&&(z<_.heap_len&&at(T,_.heap[z+1],_.heap[z],_.depth)&&z++,!at(T,H,_.heap[z],_.depth));)_.heap[j]=_.heap[z],j=z,z<<=1;_.heap[j]=H}function ct(_,T,j){var H,z,q,J,Q=0;if(0!==_.last_lit)for(;H=_.pending_buf[_.d_buf+2*Q]<<8|_.pending_buf[_.d_buf+2*Q+1],z=_.pending_buf[_.l_buf+Q],Q++,0===H?R(_,z,T):(R(_,(q=t[z])+m+1,T),0!==(J=C[q])&&Y(_,z-=A[q],J),R(_,q=D(--H),j),0!==(J=P[q])&&Y(_,H-=W[q],J)),Q<_.last_lit;);R(_,256,T)}function ut(_,T){var j,H,z,q=T.dyn_tree,J=T.stat_desc.static_tree,Q=T.stat_desc.has_stree,$=T.stat_desc.elems,rt=-1;for(_.heap_len=0,_.heap_max=573,j=0;j<$;j++)0!==q[2*j]?(_.heap[++_.heap_len]=rt=j,_.depth[j]=0):q[2*j+1]=0;for(;_.heap_len<2;)q[2*(z=_.heap[++_.heap_len]=rt<2?++rt:0)]=1,_.depth[z]=0,_.opt_len--,Q&&(_.static_len-=J[2*z+1]);for(T.max_code=rt,j=_.heap_len>>1;1<=j;j--)st(_,q,j);for(z=$;j=_.heap[1],_.heap[1]=_.heap[_.heap_len--],st(_,q,1),H=_.heap[1],_.heap[--_.heap_max]=j,_.heap[--_.heap_max]=H,q[2*z]=q[2*j]+q[2*H],_.depth[z]=(_.depth[j]>=_.depth[H]?_.depth[j]:_.depth[H])+1,q[2*j+1]=q[2*H+1]=z,_.heap[1]=z++,st(_,q,1),2<=_.heap_len;);_.heap[--_.heap_max]=_.heap[1],function(et,lt){var pt,dt,_t,ot,gt,wt,ht=lt.dyn_tree,yt=lt.max_code,xt=lt.stat_desc.static_tree,Ct=lt.stat_desc.has_stree,kt=lt.stat_desc.extra_bits,bt=lt.stat_desc.extra_base,mt=lt.stat_desc.max_length,vt=0;for(ot=0;ot<=u;ot++)et.bl_count[ot]=0;for(ht[2*et.heap[et.heap_max]+1]=0,pt=et.heap_max+1;pt<573;pt++)mt<(ot=ht[2*ht[2*(dt=et.heap[pt])+1]+1]+1)&&(ot=mt,vt++),ht[2*dt+1]=ot,yt<dt||(et.bl_count[ot]++,gt=0,bt<=dt&&(gt=kt[dt-bt]),et.opt_len+=(wt=ht[2*dt])*(ot+gt),Ct&&(et.static_len+=wt*(xt[2*dt+1]+gt)));if(0!==vt){do{for(ot=mt-1;0===et.bl_count[ot];)ot--;et.bl_count[ot]--,et.bl_count[ot+1]+=2,et.bl_count[mt]--,vt-=2}while(0<vt);for(ot=mt;0!==ot;ot--)for(dt=et.bl_count[ot];0!==dt;)yt<(_t=et.heap[--pt])||(ht[2*_t+1]!==ot&&(et.opt_len+=(ot-ht[2*_t+1])*ht[2*_t],ht[2*_t+1]=ot),dt--)}}(_,T),nt(q,rt,_.bl_count)}function e(_,T,j){var H,z,q=-1,J=T[1],Q=0,$=7,rt=4;for(0===J&&($=138,rt=3),T[2*(j+1)+1]=65535,H=0;H<=j;H++)z=J,J=T[2*(H+1)+1],++Q<$&&z===J||(Q<rt?_.bl_tree[2*z]+=Q:0!==z?(z!==q&&_.bl_tree[2*z]++,_.bl_tree[32]++):Q<=10?_.bl_tree[34]++:_.bl_tree[36]++,q=z,rt=(Q=0)===J?($=138,3):z===J?($=6,3):($=7,4))}function F(_,T,j){var H,z,q=-1,J=T[1],Q=0,$=7,rt=4;for(0===J&&($=138,rt=3),H=0;H<=j;H++)if(z=J,J=T[2*(H+1)+1],!(++Q<$&&z===J)){if(Q<rt)for(;R(_,z,_.bl_tree),0!=--Q;);else 0!==z?(z!==q&&(R(_,z,_.bl_tree),Q--),R(_,16,_.bl_tree),Y(_,Q-3,2)):Q<=10?(R(_,17,_.bl_tree),Y(_,Q-3,3)):(R(_,18,_.bl_tree),Y(_,Q-11,7));q=z,rt=(Q=0)===J?($=138,3):z===J?($=6,3):($=7,4)}}d(W);var N=!1;function g(_,T,j,H){var z,q,J;Y(_,0+(H?1:0),3),q=T,J=j,it(z=_),Z(z,J),Z(z,~J),r.arraySet(z.pending_buf,z.window,q,J,z.pending),z.pending+=J}n._tr_init=function(_){N||(function(){var T,j,H,z,q,J=new Array(16);for(z=H=0;z<28;z++)for(A[z]=H,T=0;T<1<<C[z];T++)t[H++]=z;for(t[H-1]=z,z=q=0;z<16;z++)for(W[z]=q,T=0;T<1<<P[z];T++)U[q++]=z;for(q>>=7;z<i;z++)for(W[z]=q<<7,T=0;T<1<<P[z]-7;T++)U[256+q++]=z;for(j=0;j<=u;j++)J[j]=0;for(T=0;T<=143;)K[2*T+1]=8,T++,J[8]++;for(;T<=255;)K[2*T+1]=9,T++,J[9]++;for(;T<=279;)K[2*T+1]=7,T++,J[7]++;for(;T<=287;)K[2*T+1]=8,T++,J[8]++;for(nt(K,287,J),T=0;T<i;T++)w[2*T+1]=5,w[2*T]=X(T,5);B=new V(K,C,257,b,u),I=new V(w,P,0,i,u),G=new V(new Array(0),S,0,19,7)}(),N=!0),_.l_desc=new M(_.dyn_ltree,B),_.d_desc=new M(_.dyn_dtree,I),_.bl_desc=new M(_.bl_tree,G),_.bi_buf=0,_.bi_valid=0,tt(_)},n._tr_stored_block=g,n._tr_flush_block=function(_,T,j,H){var z,q,J=0;0<_.level?(2===_.strm.data_type&&(_.strm.data_type=function(Q){var $,rt=4093624447;for($=0;$<=31;$++,rt>>>=1)if(1&rt&&0!==Q.dyn_ltree[2*$])return 0;if(0!==Q.dyn_ltree[18]||0!==Q.dyn_ltree[20]||0!==Q.dyn_ltree[26])return 1;for($=32;$<m;$++)if(0!==Q.dyn_ltree[2*$])return 1;return 0}(_)),ut(_,_.l_desc),ut(_,_.d_desc),J=function(Q){var $;for(e(Q,Q.dyn_ltree,Q.l_desc.max_code),e(Q,Q.dyn_dtree,Q.d_desc.max_code),ut(Q,Q.bl_desc),$=18;3<=$&&0===Q.bl_tree[2*L[$]+1];$--);return Q.opt_len+=3*($+1)+5+5+4,$}(_),(q=_.static_len+3+7>>>3)<=(z=_.opt_len+3+7>>>3)&&(z=q)):z=q=j+5,j+4<=z&&-1!==T?g(_,T,j,H):4===_.strategy||q===z?(Y(_,2+(H?1:0),3),ct(_,K,w)):(Y(_,4+(H?1:0),3),function(Q,$,rt,et){var lt;for(Y(Q,$-257,5),Y(Q,rt-1,5),Y(Q,et-4,4),lt=0;lt<et;lt++)Y(Q,Q.bl_tree[2*L[lt]+1],3);F(Q,Q.dyn_ltree,$-1),F(Q,Q.dyn_dtree,rt-1)}(_,_.l_desc.max_code+1,_.d_desc.max_code+1,J+1),ct(_,_.dyn_ltree,_.dyn_dtree)),tt(_),H&&it(_)},n._tr_tally=function(_,T,j){return _.pending_buf[_.d_buf+2*_.last_lit]=T>>>8&255,_.pending_buf[_.d_buf+2*_.last_lit+1]=255&T,_.pending_buf[_.l_buf+_.last_lit]=255&j,_.last_lit++,0===T?_.dyn_ltree[2*j]++:(_.matches++,T--,_.dyn_ltree[2*(t[j]+m+1)]++,_.dyn_dtree[2*D(T)]++),_.last_lit===_.lit_bufsize-1},n._tr_align=function(_){var T;Y(_,2,3),R(_,256,K),16===(T=_).bi_valid?(Z(T,T.bi_buf),T.bi_buf=0,T.bi_valid=0):8<=T.bi_valid&&(T.pending_buf[T.pending++]=255&T.bi_buf,T.bi_buf>>=8,T.bi_valid-=8)}},{"../utils/common":41}],53:[function(k,O,n){"use strict";O.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(k,O,n){(function(r){!function(f,l){"use strict";if(!f.setImmediate){var d,v,x,m,b=1,i={},h=!1,s=f.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(f);u=u&&u.setTimeout?u:f,d="[object process]"==={}.toString.call(f.process)?function(o){process.nextTick(function(){c(o)})}:function(){if(f.postMessage&&!f.importScripts){var o=!0,p=f.onmessage;return f.onmessage=function(){o=!1},f.postMessage("","*"),f.onmessage=p,o}}()?(m="setImmediate$"+Math.random()+"$",f.addEventListener?f.addEventListener("message",y,!1):f.attachEvent("onmessage",y),function(o){f.postMessage(m+o,"*")}):f.MessageChannel?((x=new MessageChannel).port1.onmessage=function(o){c(o.data)},function(o){x.port2.postMessage(o)}):s&&"onreadystatechange"in s.createElement("script")?(v=s.documentElement,function(o){var p=s.createElement("script");p.onreadystatechange=function(){c(o),p.onreadystatechange=null,v.removeChild(p),p=null},v.appendChild(p)}):function(o){setTimeout(c,0,o)},u.setImmediate=function(o){"function"!=typeof o&&(o=new Function(""+o));for(var p=new Array(arguments.length-1),E=0;E<p.length;E++)p[E]=arguments[E+1];return i[b]={callback:o,args:p},d(b),b++},u.clearImmediate=a}function a(o){delete i[o]}function c(o){if(h)setTimeout(c,0,o);else{var p=i[o];if(p){h=!0;try{!function(E){var C=E.callback,P=E.args;switch(P.length){case 0:C();break;case 1:C(P[0]);break;case 2:C(P[0],P[1]);break;case 3:C(P[0],P[1],P[2]);break;default:C.apply(undefined,P)}}(p)}finally{a(o),h=!1}}}}function y(o){o.source===f&&"string"==typeof o.data&&0===o.data.indexOf(m)&&c(+o.data.slice(m.length))}}("undefined"==typeof self?void 0===r?this:r:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}}]);