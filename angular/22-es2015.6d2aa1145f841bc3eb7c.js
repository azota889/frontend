(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"++0c":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("fXoL");let o=(()=>{class t{constructor(){this.collator=new Intl.Collator("vi-VN",{sensitivity:"variant",usage:"sort"})}sortFirstNameStudents(t){if(t){var e="fullName";return t.sort((t,n)=>{var i,o;return t.hasOwnProperty(e)&&n.hasOwnProperty(e)?this.collator.compare(this.getFirstName(null===(i=t[e])||void 0===i?void 0:i.toString().trim()),this.getFirstName(null===(o=n[e])||void 0===o?void 0:o.toString().trim())):0})}return t}sortTimeDESC(t){for(var e=[],n=[],i="createdAt",o=0;o<t.length;o++)t[o].hasOwnProperty(i)&&(null!=t[o][i]&&""!=t[o][i]?e.push(t[o]):n.push(t[o]));for(o=0;o<e.length;o++){let t;for(var c=o+1;c<e.length;c++)if(e[o].hasOwnProperty(i)&&e[c].hasOwnProperty(i)){var a;a=Math.floor(new Date(e[o][i]).getTime()/1e3),Math.floor(new Date(e[c][i]).getTime()/1e3)>a&&(t=e[o],e[o]=e[c],e[c]=t)}}return e.concat(n)}sortTimeASC(t){for(var e=[],n=[],i="createdAt",o=0;o<t.length;o++)t[o].hasOwnProperty(i)&&(null!=t[o][i]&&""!=t[o][i]?e.push(t[o]):n.push(t[o]));for(o=0;o<e.length;o++){let t;for(var c=o+1;c<e.length;c++)if(e[o].hasOwnProperty(i)&&e[c].hasOwnProperty(i)){var a;a=Math.floor(new Date(e[o][i]).getTime()/1e3),Math.floor(new Date(e[c][i]).getTime()/1e3)<a&&(t=e[o],e[o]=e[c],e[c]=t)}}return e.concat(n)}sortMarkDESC(t,e){for(var n="confirmedAt",i=0;i<t.length;i++){let c;for(var o=i+1;o<t.length;o++)t[i].hasOwnProperty(n)&&t[o].hasOwnProperty(n)&&t[i].hasOwnProperty("mark")&&t[o].hasOwnProperty("mark")&&(e?(null!=t[o][n]?t[o].mark:null==t[o][n]&&null!=t[o].mark?-1:-2)>(null!=t[i][n]?t[i].mark:null==t[i][n]&&null!=t[i].mark?-1:-2)&&(c=t[i],t[i]=t[o],t[o]=c):(null!=t[o].mark?t[o].mark:-1)>(null!=t[i].mark?t[i].mark:-1)&&(c=t[i],t[i]=t[o],t[o]=c))}return t}sortMarkASC(t,e){for(var n="confirmedAt",i=0;i<t.length;i++){let c;for(var o=i+1;o<t.length;o++)t[i].hasOwnProperty(n)&&t[o].hasOwnProperty(n)&&t[i].hasOwnProperty("mark")&&t[o].hasOwnProperty("mark")&&(e?(null!=t[o][n]?t[o].mark:null==t[o][n]&&null!=t[o].mark?-1:-2)<(null!=t[i][n]?t[i].mark:null==t[i][n]&&null!=t[i].mark?-1:-2)&&(c=t[i],t[i]=t[o],t[o]=c):t[o].mark<t[i].mark&&(c=t[i],t[i]=t[o],t[o]=c))}return t}sortFirstNameStudentsInClass(t){var e=[];return t.forEach(t=>{t.hasOwnProperty("results")&&(t.results=this.sortFirstNameStudents(t.results)),e.push(t)}),e}sortTimeStudentsInClass(t,e){var n=[],i="results";return t.forEach(t=>{t.hasOwnProperty(i)&&(t[i]=1==e?this.sortTimeDESC(t[i]):this.sortTimeASC(t[i])),n.push(t)}),n}sortMarkStudentsInClass(t,e,n){var i=[],o="results";return t.forEach(t=>{t.hasOwnProperty(o)&&(t[o]=1==e?this.sortMarkDESC(t[o]):this.sortMarkASC(t[o])),i.push(t)}),i}sortGroupName(t){return t?t.sort((t,e)=>{var n,i;return t.hasOwnProperty("name")&&e.hasOwnProperty("name")?this.collator.compare(this.getGroupName(null===(n=t.name)||void 0===n?void 0:n.toString().trim()),this.getGroupName(null===(i=e.name)||void 0===i?void 0:i.toString().trim())):0}):t}sortArrayByMultipleObjectKeyAsc(t,e,n){return t?(t.sort((t,i)=>{var o,c,a,r;if(t.hasOwnProperty(e)&&i.hasOwnProperty(e)&&t.hasOwnProperty(n)&&i.hasOwnProperty(n)){if("pos"==e&&"id"==n){var s=t[e]<i[e]?-1:t[e]==i[e]?0:1;return 0==s?t[n]<i[n]?-1:t[n]==i[n]?0:1:s}var l=this.collator.compare(this.getFirstName(null===(o=t[e])||void 0===o?void 0:o.toString().trim()),this.getFirstName(null===(c=i[e])||void 0===c?void 0:c.toString().trim()));return 0==l?this.collator.compare(this.getFirstName(null===(a=t[n])||void 0===a?void 0:a.toString().trim()),this.getFirstName(null===(r=i[n])||void 0===r?void 0:r.toString().trim())):l}return 0}),t):t}getFirstName(t){return null!=t?t.split(" ").slice(-1).join(" ").toUpperCase():""}getGroupName(t){return null!=t?t.split(" ").slice(-1).join("").toLowerCase():""}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"6Fp8":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("fXoL"),o=n("5ete"),c=n("clS4");let a=(()=>{class t{constructor(t,e){this.baseApiService=t,this.redirectService=e}canActivate(t,e){return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginAnonymous(e.url),!1)}canActivateChild(t,e){return this.canActivate(t,e)}canLoad(t){const e="/"+t.path;return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginByReturnUrl(e),!1)}}return t.\u0275fac=function(e){return new(e||t)(i.Zb(o.a),i.Zb(c.a))},t.\u0275prov=i.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"A1Q/":function(t,e,n){"use strict";n.r(e),n.d(e,"TeacherGroupModule",function(){return ee});var i=n("ofXK"),o=n("3Pt+"),c=n("0IaG"),a=n("tyNb"),r=n("fB2i"),s=n("IkSl"),l=n("rIor"),d=n("Kdsb"),h=n("Zhhu"),b=n("sOeQ"),u=n("vvyD"),g=n("PYj7"),p=n("gm2p"),m=n("fXoL"),f=n("oUVn"),v=n("++0c");const _=["drawer"];function x(t,e){1&t&&m.Qb(0,"azt-loading-effect")}const O=function(t){return{"class-active":t}};function D(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",27),m.Vb(1,"button",28),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc(4).clickGroup(n)}),m.Vb(2,"mat-icon",29),m.Tc(3,"people"),m.Ub(),m.Vb(4,"span",30),m.Tc(5),m.Ub(),m.Ub(),m.Vb(6,"button",31),m.Vb(7,"mat-icon"),m.Tc(8,"more_vert"),m.Ub(),m.Ub(),m.Vb(9,"mat-menu",null,32),m.Vb(11,"button",33),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc(4).deleteGroup(n)}),m.Vb(12,"mat-icon"),m.Tc(13,"delete"),m.Ub(),m.Vb(14,"span"),m.Tc(15),m.hc(16,"mytranslate"),m.Ub(),m.Ub(),m.Vb(17,"button",33),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc(4).editGroup(n)}),m.Vb(18,"mat-icon"),m.Tc(19,"edit"),m.Ub(),m.Vb(20,"span"),m.Tc(21),m.hc(22,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit,n=m.Ac(10),i=m.gc(4);m.nc("ngClass",m.tc(10,O,t.id==i.groupId)),m.Db(1),m.nc("id","group_id_"+t.id),m.Db(4),m.Uc(t.name),m.Db(1),m.nc("matMenuTriggerFor",n),m.Db(9),m.Uc(m.ic(16,6,"lang_buttom_delete")),m.Db(6),m.Uc(m.ic(22,8,"lang_buttom_edit"))}}function P(t,e){if(1&t&&(m.Vb(0,"div",25),m.Rc(1,D,23,12,"div",26),m.hc(2,"appFilter"),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngForOf",m.jc(2,1,null==t.teacherGroupObj?null:t.teacherGroupObj.groups,t.searchKey.value))}}function k(t,e){if(1&t&&m.Qb(0,"azt-create-avatar",40),2&t){const t=m.gc().$implicit;m.pc("matTooltip","id: ",t.teacherId,""),m.nc("nameCreateAvatar",t.fullName)("size",30)}}function C(t,e){if(1&t&&m.Qb(0,"azt-create-avatar",41),2&t){const t=m.gc().$implicit;m.nc("nameCreateAvatar",t.fullName)("size",30)}}function U(t,e){1&t&&(m.Vb(0,"p",42),m.Tc(1,"Ch\u01b0a \u0111\u0103ng k\xfd"),m.Ub())}function V(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",27),m.Vb(1,"button",28),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc(4).clickUser(n)}),m.Rc(2,k,1,3,"azt-create-avatar",34),m.Rc(3,C,1,2,"azt-create-avatar",35),m.Vb(4,"div",36),m.Vb(5,"p",37),m.Tc(6),m.Ub(),m.Vb(7,"p",38),m.Tc(8),m.Ub(),m.Rc(9,U,2,0,"p",39),m.Ub(),m.Ub(),m.Vb(10,"button",31),m.Vb(11,"mat-icon"),m.Tc(12,"more_vert"),m.Ub(),m.Ub(),m.Vb(13,"mat-menu",null,32),m.Vb(15,"button",33),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc(4).deleteTeacher(n)}),m.Vb(16,"mat-icon"),m.Tc(17,"delete"),m.Ub(),m.Vb(18,"span"),m.Tc(19),m.hc(20,"mytranslate"),m.Ub(),m.Ub(),m.Vb(21,"button",33),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc(4).editTeacher(n)}),m.Vb(22,"mat-icon"),m.Tc(23,"edit"),m.Ub(),m.Vb(24,"span"),m.Tc(25),m.hc(26,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit,n=m.Ac(14),i=m.gc(4);m.nc("ngClass",m.tc(14,O,t.id==i.teacherId)),m.Db(1),m.nc("id","teacher_id_"+t.id),m.Db(1),m.nc("ngIf",null!=t.teacherId),m.Db(1),m.nc("ngIf",null==t.teacherId),m.Db(3),m.Uc(t.fullName),m.Db(2),m.Uc(t.phone),m.Db(1),m.nc("ngIf",null==t.teacherId),m.Db(1),m.nc("matMenuTriggerFor",n),m.Db(9),m.Uc(m.ic(20,10,"lang_buttom_delete")),m.Db(6),m.Uc(m.ic(26,12,"lang_buttom_edit"))}}function y(t,e){if(1&t&&(m.Vb(0,"div",25),m.Rc(1,V,27,16,"div",26),m.hc(2,"appFilter"),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngForOf",m.jc(2,1,null==t.teacherGroupObj?null:t.teacherGroupObj.teachers,t.searchKey.value))}}const T=function(){return{suppressScrollX:!0}};function w(t,e){if(1&t&&(m.Vb(0,"div",22),m.Vb(1,"perfect-scrollbar",23),m.Rc(2,P,3,4,"div",24),m.Rc(3,y,3,4,"div",24),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("config",m.sc(4,T))("scrollIndicators",!0),m.Db(1),m.nc("ngIf",null==t.teacherGroupObj?null:t.teacherGroupObj.groups),m.Db(1),m.nc("ngIf",null==t.teacherGroupObj?null:t.teacherGroupObj.teachers)}}function M(t,e){1&t&&(m.Vb(0,"div",43),m.Vb(1,"span",44),m.Tc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t&&(m.Db(2),m.Uc(m.ic(3,1,"lang_teacher_group_group_note_not_found_group_and_teacher")))}function S(t,e){1&t&&(m.Vb(0,"div",45),m.Vb(1,"div",46),m.Vb(2,"span",47),m.Tc(3,"Loading..."),m.Ub(),m.Ub(),m.Ub())}function I(t,e){if(1&t){const t=m.Wb();m.Vb(0,"a",57),m.cc("click",function(){return m.Ec(t),m.gc(3).toggleDrawer()}),m.hc(1,"mytranslate"),m.Vb(2,"mat-icon",58),m.Tc(3," menu_open"),m.Ub(),m.Ub()}2&t&&m.oc("matTooltip",m.ic(1,1,"lang_teacher_group_group_open_menu"))}function G(t,e){if(1&t){const t=m.Wb();m.Vb(0,"a",57),m.cc("click",function(){return m.Ec(t),m.gc(3).toggleDrawer()}),m.hc(1,"mytranslate"),m.Vb(2,"mat-icon",59),m.Tc(3,"menu_open"),m.Ub(),m.Ub()}2&t&&m.oc("matTooltip",m.ic(1,1,"lang_teacher_group_group_close_menu"))}function j(t,e){if(1&t&&m.Qb(0,"azt-create-avatar",40),2&t){const t=m.gc().$implicit;m.pc("matTooltip","id: ",t.teacherId,""),m.nc("nameCreateAvatar",t.fullName)("size",30)}}function A(t,e){if(1&t&&m.Qb(0,"azt-create-avatar",41),2&t){const t=m.gc().$implicit;m.nc("nameCreateAvatar",t.fullName)("size",30)}}function z(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",88),m.Rc(1,j,1,3,"azt-create-avatar",34),m.Rc(2,A,1,2,"azt-create-avatar",35),m.Vb(3,"div",36),m.Vb(4,"p",37),m.Tc(5),m.Ub(),m.Ub(),m.Vb(6,"button",89),m.cc("click",function(){m.Ec(t);const n=e.$implicit,i=e.index;return m.gc(4).deleteDialog(n,i)}),m.Qb(7,"i",90),m.hc(8,"mytranslate"),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit;m.Db(1),m.nc("ngIf",null!=t.teacherId),m.Db(1),m.nc("ngIf",null==t.teacherId),m.Db(3),m.Uc(t.fullName),m.Db(2),m.oc("matTooltip",m.ic(8,4,"lang_buttom_delete"))}}function E(t,e){if(1&t&&m.Qb(0,"azt-create-avatar",40),2&t){const t=m.gc().$implicit;m.pc("matTooltip","id:",t.teacherId,""),m.nc("nameCreateAvatar",t.fullName)("size",30)}}function R(t,e){if(1&t&&m.Qb(0,"azt-create-avatar",41),2&t){const t=m.gc().$implicit;m.nc("nameCreateAvatar",t.fullName)("size",30)}}function N(t,e){1&t&&m.Qb(0,"div",95)}const L=function(t){return{"color-disabled":t}};function F(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div"),m.Vb(1,"div",92),m.Vb(2,"button",93),m.cc("click",function(){m.Ec(t);const n=e.$implicit;return m.gc(5).addMemberInGroup(n)}),m.Rc(3,E,1,3,"azt-create-avatar",34),m.Rc(4,R,1,2,"azt-create-avatar",35),m.Vb(5,"div",36),m.Vb(6,"p",37),m.Tc(7),m.Ub(),m.Ub(),m.Ub(),m.Rc(8,N,1,0,"div",94),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit,n=m.gc(5);m.Db(1),m.nc("disabled",0==n.isLoadingMoreMembers),m.Db(1),m.nc("ngClass",m.tc(6,L,t.inGroup)),m.Db(1),m.nc("ngIf",null!=t.teacherId),m.Db(1),m.nc("ngIf",null==t.teacherId),m.Db(3),m.Vc(" ",t.fullName,""),m.Db(1),m.nc("ngIf",n.isLoadingMoreMembers==t.id)}}function W(t,e){if(1&t&&(m.Vb(0,"div"),m.Rc(1,F,9,8,"div",91),m.hc(2,"appFilter"),m.Ub()),2&t){const t=m.gc(4);m.Db(1),m.nc("ngForOf",m.jc(2,1,t.dataTeacherSearch,t.searchValue.value))}}function Q(t,e){1&t&&(m.Vb(0,"div",96),m.Vb(1,"span"),m.Tc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t&&(m.Db(2),m.Uc(m.ic(3,1,"lang_not_data")))}function $(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",60),m.Vb(1,"div",61),m.Vb(2,"div",62),m.Vb(3,"h3",63),m.Tc(4),m.hc(5,"mytranslate"),m.Vb(6,"span",64),m.Tc(7),m.Ub(),m.Ub(),m.Ub(),m.Vb(8,"div",65),m.Vb(9,"button",66),m.Vb(10,"i",67),m.Tc(11,"person_add"),m.Ub(),m.Vb(12,"span",68),m.Tc(13),m.hc(14,"mytranslate"),m.Ub(),m.Ub(),m.Vb(15,"button",69),m.cc("click",function(){return m.Ec(t),m.gc(3).deleteAllTeacherGroup()}),m.Vb(16,"i",67),m.Tc(17,"delete"),m.Ub(),m.Vb(18,"span",68),m.Tc(19),m.hc(20,"mytranslate"),m.Ub(),m.Ub(),m.Vb(21,"mat-menu",null,70),m.Vb(23,"div",71),m.cc("click",function(t){return t.stopPropagation()}),m.Vb(24,"div",72),m.Vb(25,"p",73),m.Tc(26),m.hc(27,"mytranslate"),m.Ub(),m.Vb(28,"form",74),m.Qb(29,"textarea",75),m.Ub(),m.Ub(),m.Vb(30,"div",76),m.Vb(31,"small",77),m.Tc(32),m.hc(33,"mytranslate"),m.Ub(),m.Ub(),m.Vb(34,"div",78),m.Vb(35,"button",79),m.cc("click",function(){return m.Ec(t),m.gc(3).addAllTeacherToGroup()}),m.Vb(36,"i",67),m.Tc(37,"add"),m.Ub(),m.Vb(38,"span",68),m.Tc(39),m.hc(40,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(41,"div",80),m.Rc(42,z,9,6,"div",81),m.Vb(43,"div",82),m.Vb(44,"button",83),m.cc("click",function(){return m.Ec(t),m.gc(3).addMember()}),m.Vb(45,"i",67),m.Tc(46,"person_add"),m.Ub(),m.Vb(47,"span",84),m.Tc(48),m.hc(49,"mytranslate"),m.Ub(),m.Ub(),m.Vb(50,"mat-menu",null,32),m.Vb(52,"div",71),m.cc("click",function(t){return t.stopPropagation()}),m.Vb(53,"div",9),m.Qb(54,"input",85),m.hc(55,"mytranslate"),m.Vb(56,"mat-icon",11),m.Tc(57,"search"),m.Ub(),m.Ub(),m.Vb(58,"div",86),m.Vb(59,"div",25),m.Rc(60,W,3,4,"div",1),m.Rc(61,Q,4,3,"ng-template",null,87,m.Sc),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.Ac(22),e=m.Ac(51),n=m.Ac(62),i=m.gc(3);m.Db(4),m.Vc(" ",m.ic(5,16,"lang_teacher_group_group_member_in_group"),": "),m.Db(3),m.Vc(" ",null==i.groupObj?null:i.groupObj.name," "),m.Db(2),m.nc("matMenuTriggerFor",t),m.Db(4),m.Uc(m.ic(14,18,"lang_teacher_group_group_more")),m.Db(6),m.Uc(m.ic(20,20,"lang_buttom_delete_all")),m.Db(7),m.Vc(" ",m.ic(27,22,"lang_teacher_group_group_list_phone_teacher"),""),m.Db(2),m.nc("formGroup",i.form),m.Db(4),m.Vc("* ",m.ic(33,24,"lang_teacher_group_group_note_enter_phone"),"."),m.Db(7),m.Uc(m.ic(40,26,"lang_buttom_add")),m.Db(3),m.nc("ngForOf",i.teachersInGroup),m.Db(2),m.nc("matMenuTriggerFor",e),m.Db(4),m.Uc(m.ic(49,28,"lang_teacher_group_group_add_member")),m.Db(6),m.oc("placeholder",m.ic(55,30,"lang_teacher_group_group_search_name_or_phone")),m.nc("formControl",i.searchValue),m.Db(6),m.nc("ngIf",i.dataTeacherSearch)("ngIfElse",n)}}function B(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",113),m.Vb(1,"input",114),m.cc("change",function(n){m.Ec(t);const i=e.index,o=m.gc(2).index;return m.gc(5).onCheckChange(n,o,i)}),m.Ub(),m.Vb(2,"label",115),m.Tc(3),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=m.gc(2).index;m.Db(1),m.nc("id","role_"+i+"_"+n)("checked",t.checked),m.Db(1),m.nc("for","role_"+i+"_"+n),m.Db(1),m.Vc(" ",t.description," ")}}function X(t,e){if(1&t&&(m.Vb(0,"div",108),m.Vb(1,"div",109),m.Vb(2,"h3",110),m.Tc(3),m.Ub(),m.Vb(4,"div",111),m.Rc(5,B,4,4,"div",112),m.Ub(),m.Ub(),m.Ub()),2&t){const t=m.gc().$implicit;m.Db(2),m.oc("matTooltip",t.name),m.Db(1),m.Vc(" ",t.name," "),m.Db(2),m.nc("ngForOf",t.permissionArray)}}function q(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",113),m.Vb(1,"input",114),m.cc("change",function(n){m.Ec(t);const i=e.index,o=m.gc(2).index;return m.gc(5).onCheckChange(n,o,i)}),m.Ub(),m.Vb(2,"label",115),m.Tc(3),m.Ub(),m.Ub()}if(2&t){const t=e.$implicit,n=e.index,i=m.gc(2).index;m.Db(1),m.nc("id","role_"+i+"_"+n)("checked",t.checked),m.Db(1),m.nc("for","role_"+i+"_"+n),m.Db(1),m.Vc(" ",t.description," ")}}function K(t,e){if(1&t&&(m.Vb(0,"div",108),m.Vb(1,"div",109),m.Vb(2,"h3",110),m.Tc(3),m.Ub(),m.Vb(4,"div",111),m.Rc(5,q,4,4,"div",112),m.Ub(),m.Ub(),m.Ub()),2&t){const t=m.gc().$implicit;m.Db(2),m.oc("matTooltip",t.name),m.Db(1),m.Vc(" ",t.name," "),m.Db(2),m.nc("ngForOf",t.permissionArray)}}function J(t,e){if(1&t&&(m.Tb(0),m.Rc(1,X,6,3,"div",107),m.Rc(2,K,6,3,"div",107),m.Sb()),2&t){const t=e.$implicit,n=m.gc(5);m.Db(1),m.nc("ngIf",n.hasPermissionClass.value&&t.teamPermisions),m.Db(1),m.nc("ngIf",!n.hasPermissionClass.value)}}function Y(t,e){if(1&t&&(m.Vb(0,"div",105),m.Vb(1,"div",106),m.Rc(2,J,3,2,"ng-container",91),m.Ub(),m.Ub()),2&t){const t=m.gc(4);m.Db(2),m.nc("ngForOf",t.classListData)}}function Z(t,e){1&t&&(m.Vb(0,"div",116),m.Vb(1,"span",44),m.Tc(2),m.hc(3,"mytranslate"),m.Ub(),m.Ub()),2&t&&(m.Db(2),m.Uc(m.ic(3,1,"lang_not_data")))}function H(t,e){if(1&t&&(m.Vb(0,"div",97),m.Vb(1,"div",61),m.Vb(2,"div",62),m.Vb(3,"h3",63),m.Tc(4),m.hc(5,"mytranslate"),m.Ub(),m.Vb(6,"a",98),m.Vb(7,"span"),m.Tc(8),m.hc(9,"mytranslate"),m.Ub(),m.Qb(10,"i",99),m.Ub(),m.Ub(),m.Vb(11,"div",100),m.Qb(12,"input",101),m.Vb(13,"label",102),m.Tc(14),m.hc(15,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Rc(16,Y,3,1,"div",103),m.Rc(17,Z,4,3,"ng-template",null,104,m.Sc),m.Ub()),2&t){const t=m.Ac(18),e=m.gc(3);m.Db(4),m.Vc(" ",m.ic(5,6,"lang_teacher_group_group_decentralization_in_class")," "),m.Db(4),m.Uc(m.ic(9,8,"lang_teacher_group_group_learn_about")),m.Db(4),m.nc("formControl",e.hasPermissionClass),m.Db(2),m.Vc(" ",m.ic(15,10,"lang_teacher_group_group_vew_class_have_permision")," "),m.Db(2),m.nc("ngIf",e.classListData&&e.classListData.length>0)("ngIfElse",t)}}function tt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",48),m.Vb(1,"div",49),m.Rc(2,I,4,3,"a",50),m.Rc(3,G,4,3,"a",50),m.Ub(),m.Vb(4,"div",51),m.Vb(5,"perfect-scrollbar",23),m.Rc(6,$,63,32,"div",52),m.Rc(7,H,19,12,"div",53),m.Ub(),m.Ub(),m.Vb(8,"div",54),m.Vb(9,"button",55),m.cc("click",function(){return m.Ec(t),m.gc(2).clickCannel()}),m.Tc(10),m.hc(11,"mytranslate"),m.Ub(),m.Vb(12,"button",56),m.cc("click",function(){return m.Ec(t),m.gc(2).saveData()}),m.Tc(13),m.hc(14,"mytranslate"),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc(2);m.Db(2),m.nc("ngIf",!t.isOpenSideNav||t.isMobile),m.Db(1),m.nc("ngIf",t.isOpenSideNav&&!t.isMobile),m.Db(2),m.nc("config",m.sc(12,T))("scrollIndicators",!0),m.Db(1),m.nc("ngIf",t.checkGroup),m.Db(1),m.nc("ngIf",t.checkRoleUser),m.Db(3),m.Vc(" ",m.ic(11,8,"lang_buttom_cancel")," "),m.Db(3),m.Vc(" ",m.ic(14,10,"lang_buttom_save")," ")}}function et(t,e){if(1&t){const t=m.Wb();m.Vb(0,"app-delete-dialog",117),m.cc("closeDialog",function(e){return m.Ec(t),m.gc(2).closeDeleteMemberInGroup(e)}),m.Ub()}if(2&t){const t=m.gc(2);m.nc("data",t.dataDeleteDialog)}}function nt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"app-add-teacher",117),m.cc("closeDialog",function(e){return m.Ec(t),m.gc(2).closeAddTeacher(e)}),m.Ub()}if(2&t){const t=m.gc(2);m.nc("data",t.dataAddTeacherDialog)}}function it(t,e){if(1&t){const t=m.Wb();m.Vb(0,"app-add-group",117),m.cc("closeDialog",function(e){return m.Ec(t),m.gc(2).closeAddGroup(e)}),m.Ub()}if(2&t){const t=m.gc(2);m.nc("data",t.dataAddGroupDialog)}}const ot=function(t,e){return{"w-80":t,"w-33":e}};function ct(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",3),m.cc("resize",function(e){return m.Ec(t),m.gc().onResize(e)},!1,m.Dc),m.Vb(1,"mat-drawer-container",4),m.Vb(2,"mat-drawer",5,6),m.Vb(4,"div",7),m.Vb(5,"div",8),m.Vb(6,"div",9),m.Qb(7,"input",10),m.Vb(8,"mat-icon",11),m.Tc(9,"search"),m.Ub(),m.Ub(),m.Rc(10,w,4,5,"div",12),m.Rc(11,M,4,3,"ng-template",null,13,m.Sc),m.Vb(13,"div",14),m.Vb(14,"button",15),m.cc("click",function(){return m.Ec(t),m.gc().addTeacher()}),m.Tc(15),m.hc(16,"mytranslate"),m.Ub(),m.Vb(17,"button",16),m.cc("click",function(){return m.Ec(t),m.gc().addGroup()}),m.Tc(18),m.hc(19,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Vb(20,"mat-drawer-content",17),m.Vb(21,"div",18),m.Rc(22,S,4,0,"div",19),m.Rc(23,tt,15,13,"ng-template",null,20,m.Sc),m.Ub(),m.Ub(),m.Ub(),m.Rc(25,et,1,1,"app-delete-dialog",21),m.Rc(26,nt,1,1,"app-add-teacher",21),m.Rc(27,it,1,1,"app-add-group",21),m.Ub()}if(2&t){const t=m.Ac(12),e=m.Ac(24),n=m.gc();m.Db(1),m.nc("hasBackdrop",n.hasBackdrop),m.Db(1),m.oc("opened",n.isMobile?"false":"true"),m.nc("mode",n.mode)("ngClass",m.uc(18,ot,n.isMobile,!n.isMobile)),m.Db(5),m.nc("formControl",n.searchKey),m.Db(3),m.nc("ngIf",(null==n.teacherGroupObj||null==n.teacherGroupObj.groups?null:n.teacherGroupObj.groups.length)||(null==n.teacherGroupObj||null==n.teacherGroupObj.teachers?null:n.teacherGroupObj.teachers.length))("ngIfElse",t),m.Db(5),m.Vc("+ ",m.ic(16,14,"lang_teacher_group_group_add_student"),""),m.Db(3),m.Vc("+ ",m.ic(19,16,"lang_teacher_group_group_add_group_teacher"),""),m.Db(4),m.nc("ngIf",n.isLoadingData)("ngIfElse",e),m.Db(3),m.nc("ngIf",n.dataDeleteDialog.isShow),m.Db(1),m.nc("ngIf",null==n.dataAddTeacherDialog?null:n.dataAddTeacherDialog.isShow),m.Db(1),m.nc("ngIf",null==n.dataAddGroupDialog?null:n.dataAddGroupDialog.isShow)}}let at=(()=>{class t extends p.a{constructor(t,e,n,i,c,a,r){super(e),this.activeRoute=t,this.commonService=e,this.fb=n,this.vps=i,this.teacherGroupService=c,this.permisionTeamService=a,this.sortService=r,this.form=new o.k({}),this.isLoadingData=!1,this.type=2,this.hasBackdrop=!1,this.mode="side",this.isMobile=!1,this.isShowActions=!0,this.isOpenSideNav=!0,this.addMemberDialog=!1,this.checkGroup=!1,this.checkRoleUser=!1,this.dataDeleteDialog={isShow:!1,index:-1},this.searchValue=new o.h(""),this.searchKey=new o.h(""),this.classListData=[],this.hasPermissionClass=new o.h(!1),this.dataTeacherSearch=[]}onScroll(){const t=window.pageYOffset;if(this.isMobile){let e=document.getElementById("toggle-nav");t>0?null==e||e.classList.add("fixed-nav"):null==e||e.classList.remove("fixed-nav")}}clickCannel(){this.checkGroup&&this.checkRoleUser?this.getTeacherInGroup(this.groupId):this.getPermissionMyTeacher(this.teacherId)}addTeacher(){this.dataAddTeacherDialog={isShow:!0,type:"add_teacher"}}editTeacher(t){this.dataAddTeacherDialog={teamTeacherObj:t,isShow:!0,type:"edit_teacher"}}deleteTeacher(t){this.dataDeleteDialog={teamTeacherObj:t,groupId:this.groupId,isShow:!0,index:0,type:"delete_teacher"}}editGroup(t){this.dataAddGroupDialog={groupWithTeacherData:t,isShow:!0,type:"edit_group"}}deleteGroup(t){this.dataDeleteDialog={groupWithTeacherData:t,groupId:this.groupId,isShow:!0,index:0,type:"delete_group"}}addGroup(){this.dataAddGroupDialog={isShow:!0,type:"add_group"}}addMember(){this.addMemberDialog=!this.addMemberDialog}closeAddTeacher(t){t?(this.dataAddTeacherDialog={isShow:!1},this.getData()):this.dataAddTeacherDialog={isShow:!1}}closeAddGroup(t){t?(this.dataAddGroupDialog={isShow:!1},this.getData()):this.dataAddGroupDialog={isShow:!1}}clickGroup(t){this.checkGroup=!0,this.checkRoleUser=!0,this.groupId=t.id,this.teacherId=void 0,this.getTeacherInGroup(this.groupId),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/0/"+this.groupId)}clickUser(t){this.checkGroup=!1,this.checkRoleUser=!0,this.teacherId=t.id,this.groupId=void 0,this.getPermissionMyTeacher(t.id),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/1/"+this.teacherId)}closeDeleteMemberInGroup(t){var e;if(t)switch(t.type){case"delete_member":this.getTeacherInGroup(this.groupId),this.dataDeleteDialog.index&&(null===(e=this.teachersInGroup)||void 0===e||e.splice(this.dataDeleteDialog.index,1)),this.dataDeleteDialog={isShow:!1,index:-1};break;case"delete_group":case"delete_teacher":this.getData(),this.dataDeleteDialog={isShow:!1,index:-1},this.commonService.myNavigation("/admin/teacher-group/2/0");break;case"delete_all_teacher_group":this.getTeacherInGroup(this.groupId),this.dataDeleteDialog={isShow:!1,index:-1}}else this.dataDeleteDialog={isShow:!1,index:-1}}deleteDialog(t,e){this.dataDeleteDialog={teamTeacherObj:t,groupId:this.groupId,isShow:!0,index:e,type:"delete_member"}}deleteAllTeacherGroup(){var t;let e=[];null===(t=this.teachersInGroup)||void 0===t||t.forEach(t=>{this.commonService.filterArray(e,t.id)||t.id&&e.push(t.id)}),this.dataDeleteDialog={groupObj:this.groupObj,teacherIds:e,type:"delete_all_teacher_group",isShow:!0}}toggleShowActions(){this.isShowActions=!this.isShowActions}toggleDrawer(){var t;null===(t=this.drawer)||void 0===t||t.toggle(),this.isOpenSideNav=!this.isOpenSideNav}onResize(t){t.target.innerWidth<1200?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0,this.isShowActions=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1,this.isShowActions=!0,this.isOpenSideNav=!0)}checkWidth(){window.innerWidth<1200?(this.isMobile=!0,this.mode="over",this.isShowActions=!0,this.hasBackdrop=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.isShowActions=!0,this.hasBackdrop=!1)}getData(){this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetObjsGet().subscribe(t=>{var e,n,i,o,c,a;1===t.success?(this.teacherGroupObj=t.data,(null===(e=this.teacherGroupObj)||void 0===e?void 0:e.teachers)&&(this.teacherGroupObj.teachers=this.sortService.sortFirstNameStudents(this.teacherGroupObj.teachers)),(null===(n=this.teacherGroupObj)||void 0===n?void 0:n.groups)&&(null===(o=null===(i=this.teacherGroupObj)||void 0===i?void 0:i.groups)||void 0===o?void 0:o.length)>0?(this.checkGroup=!0,this.checkRoleUser=!0,this.getTeacherInGroup(this.teacherGroupObj.groups[0].id)):(this.checkGroup=!1,this.checkRoleUser=!1),(null===(c=this.teacherGroupObj)||void 0===c?void 0:c.groups)&&0===this.teacherGroupObj.groups.length&&this.teacherGroupObj.teachers&&this.teacherGroupObj.teachers.length>0&&(this.checkGroup=!1,this.checkRoleUser=!0,this.getPermissionMyTeacher(this.teacherGroupObj.teachers[0].id)),this.successStatusObj()):this.errorStatusObj(null!==(a=t.message)&&void 0!==a?a:"",!0)})}getTeacherInGroup(t){this.isLoadingData=!0,this.permisionTeamService.apiPermisionTeamGetAllPermisionWithGroupGet(t).subscribe(e=>{var n,i,o,c,a,r;1===e.success?(this.teachersInGroup=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.teacherObjs,this.groupId=null===(o=null===(i=null==e?void 0:e.data)||void 0===i?void 0:i.groupObj)||void 0===o?void 0:o.id,this.teacherId=void 0,this.groupObj=null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.groupObj,this.processData(null!==(r=null===(a=e.data)||void 0===a?void 0:a.classObjs)&&void 0!==r?r:[]),setTimeout(()=>{this.checkTeacherInGroup()},1e3)):0===t?this.isLoadingData=!1:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1})}checkTeacherInGroup(){var t,e,n;this.dataTeacherSearch=null!==(e=this.commonService.myClone(null===(t=this.teacherGroupObj)||void 0===t?void 0:t.teachers))&&void 0!==e?e:[];let i=this.teachersInGroup?this.teachersInGroup.length:0;for(let o=0;o<i;o++)for(let t=0;t<this.dataTeacherSearch.length;t++)(null===(n=this.teachersInGroup)||void 0===n?void 0:n[o].id)===this.dataTeacherSearch[t].id&&(this.dataTeacherSearch[t].inGroup=!0)}getPermissionMyTeacher(t){this.isLoadingData=!0,this.permisionTeamService.apiPermisionTeamGetAllPermisionWithMemberGet(t).subscribe(e=>{var n,i;1===e.success?(this.teacherId=t,this.processData(null!==(i=null===(n=e.data)||void 0===n?void 0:n.objs)&&void 0!==i?i:[])):this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1})}processData(t){var e,n,i,o,c,a,r;let s=null!==(e=t.length)&&void 0!==e?e:0;this.classListData=[];for(let l=0;l<s;l++){let e=Object.assign(Object.assign({},t[l]),{permissionArray:null!==(n=this.commonService.myClone(this.permissionData))&&void 0!==n?n:[],permissionIds:[]});null===(i=this.classListData)||void 0===i||i.push(e)}for(let l=0;l<this.classListData.length;l++)if(this.classListData[l].permissionArray){let t=null!==(c=null===(o=this.classListData[l].permissionArray)||void 0===o?void 0:o.length)&&void 0!==c?c:0;for(let e=0;e<t;e++)if(this.classListData[l].teamPermisions&&(null===(a=this.classListData[l].teamPermisions)||void 0===a?void 0:a[e]))switch(null===(r=this.classListData[l].teamPermisions)||void 0===r?void 0:r[e].id){case 1:this.classListData[l].permissionArray[0].checked=!0;break;case 2:this.classListData[l].permissionArray[1].checked=!0;break;case 3:this.classListData[l].permissionArray[2].checked=!0}}}getPermissionObjs(){this.initStatusObj(),this.permisionTeamService.apiPermisionTeamGetAllPermisionsGet(1).subscribe(t=>{var e;1===t.success?this.permissionData=null===(e=t.data)||void 0===e?void 0:e.objs:this.showErrorSnack("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng")})}addMemberInGroup(t){this.isLoadingMoreMembers=t.id,this.teacherGroupService.apiTeacherGroupAddTeacherWithGroupPost({groupId:this.groupId,teacherTeamId:t.id}).subscribe(e=>{var n,i;1===e.success?(null===(n=this.teachersInGroup)||void 0===n||n.push(t),this.isLoadingMoreMembers=!1,this.checkTeacherInGroup(),this.commonService.snackSuccess("Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m th\xe0nh c\xf4ng","")):this.showErrorSnack(null!==(i=e.message)&&void 0!==i?i:""),this.isLoadingMoreMembers=!1,this.searchValue.setValue("")})}addAllTeacherToGroup(){let t=this.commonService.getFormObj(this.form),e=t.listPhone?t.listPhone.toString():"",n=[];e.includes("\n")?e.split("\n").forEach(t=>{this.commonService.filterArray(n,t)||""!=t.trim()&&n.push(t.trim())}):e.split(" ").forEach(t=>{this.commonService.filterArray(n,t)||""!=t.trim()&&n.push(t.trim())}),this.teacherGroupService.apiTeacherGroupAddTeachersWithGroupPost({groupId:this.groupId,TeacherPhone:n}).subscribe(t=>{var e,n,i;if(1===t.success){this.getTeacherInGroup(this.groupId);let i=(null===(e=null==t?void 0:t.data)||void 0===e?void 0:e.countSave)?t.data.countSave:0,o=(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.totalTeacher)?t.data.totalTeacher:0;i===o?this.showSuccessSnack("Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m th\xe0nh c\xf4ng"):this.commonService.snackSuccess("Th\xeam th\xe0nh c\xf4ng "+i+"/"+o+" gi\xe1o vi\xean v\xe0o nh\xf3m!","")}else this.showErrorSnack(null!==(i=t.message)&&void 0!==i?i:""),this.isLoadingData=!1})}onCheckChange(t,e,n){this.classListData[e].permissionArray[n].checked=!!t.target.checked}saveData(){var t,e,n,i,o,c,a,r,s,l;let d={groupId:this.groupId,classWithPermissions:[]},h={teacherId:this.teacherId,classWithPermissions:[]},b={classId:-1,permissionIds:[]},u=null!==(e=null===(t=this.classListData)||void 0===t?void 0:t.length)&&void 0!==e?e:0;for(let g=0;g<u;g++)if(null===(n=this.classListData)||void 0===n?void 0:n[g]){this.classListData[g].permissionIds=[],b.classId=this.classListData[g].id;let t=null!==(o=null===(i=this.classListData[g].permissionArray)||void 0===i?void 0:i.length)&&void 0!==o?o:0;for(let e=0;e<t;e++)(null===(c=this.classListData[g].permissionArray)||void 0===c?void 0:c[e].checked)&&(null===(a=this.classListData[g].permissionIds)||void 0===a||a.push(null!==(r=this.classListData[g].permissionArray[e].id)&&void 0!==r?r:-1),b.permissionIds=this.classListData[g].permissionIds);this.checkGroup?null===(s=d.classWithPermissions)||void 0===s||s.push(b):null===(l=h.classWithPermissions)||void 0===l||l.push(b),b={classId:-1,permissionIds:[]}}this.isLoadingData=!0,this.checkGroup?this.permisionTeamService.apiPermisionTeamUpdateGroupPermissionPost(d).subscribe(t=>{1===t.success?(this.getTeacherInGroup(this.groupId),this.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")):(this.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1)}):this.permisionTeamService.apiPermisionTeamUpdateTeacherPermissionPost(h).subscribe(t=>{1===t.success?(this.getPermissionMyTeacher(this.teacherId),this.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")):(this.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1)})}ngOnInit(){var t,e;this.form=this.fb.group({listPhone:[""]}),this.type=null!==(t=this.commonService.getMyParam(this.activeRoute,"type"))&&void 0!==t?t:"";let n=null!==(e=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==e?e:"0";if(this.getData(),this.getPermissionObjs(),this.checkWidth(),this.type&&n){let t=Number(n);switch(this.type){case"0":this.checkGroup=!0,this.checkRoleUser=!0,this.groupId=t,this.vps.scrollToAnchor("group_id_"+this.groupId);break;case"1":this.checkGroup=!1,this.checkRoleUser=!0,this.teacherId=t,this.vps.scrollToAnchor("teacher_id_"+this.teacherId),this.getPermissionMyTeacher(this.teacherId)}}this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(a.a),m.Pb(f.a),m.Pb(o.g),m.Pb(i.w),m.Pb(g.jb),m.Pb(g.Z),m.Pb(v.a))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-group-teacher"]],viewQuery:function(t,e){if(1&t&&m.cd(_,!0),2&t){let t;m.zc(t=m.dc())&&(e.drawer=t.first)}},hostBindings:function(t,e){1&t&&m.cc("scroll",function(t){return e.onScroll(t)},!1,m.Dc)},features:[m.Ab],decls:5,vars:6,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["id","teacher-group",1,"container","mt-3","pb-mb-80",3,"resize"],[1,"group_container",2,"border-radius","5px",3,"hasBackdrop"],[1,"bg-custom",3,"mode","opened","ngClass"],["drawer",""],[1,"container-fluid","pl-0","p-mbr-0"],[1,"slider-nav"],[1,"search"],["type","text","placeholder","T\xecm t\xean ho\u1eb7c S\u0110T",1,"search-input",3,"formControl"],[1,"search-icon"],["class","group",4,"ngIf","ngIfElse"],["blockElse",""],[1,"slider-bottom"],[1,"btn-add","mr-3",3,"click"],[1,"btn-add",3,"click"],[1,"mat-drawer-custom"],[1,"container-fluid","p-0"],["class","slider-content","style","display: flex; justify-content: center; align-items: center;",4,"ngIf","ngIfElse"],["doneLoadingData",""],[3,"data","closeDialog",4,"ngIf"],[1,"group"],[3,"config","scrollIndicators"],["class","group-content",4,"ngIf"],[1,"group-content"],["class","group-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"group-item",3,"ngClass"],[1,"group-btn",3,"id","click"],[1,"group-icon"],[1,"group-name",2,"text-align","left"],["mat-icon-button","",1,"group-btn-menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[3,"matTooltip","nameCreateAvatar","size",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"group-info"],[1,"group-name"],[1,"group-text"],["style","margin-top: 1px;","class","group-text",4,"ngIf"],[3,"matTooltip","nameCreateAvatar","size"],[3,"nameCreateAvatar","size"],[1,"group-text",2,"margin-top","1px"],[1,"group",2,"display","flex","justify-content","center","align-items","center"],[1,"note-text"],[1,"slider-content",2,"display","flex","justify-content","center","align-items","center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"slider-content"],["id","toggle-nav",1,"toggle-nav"],["class","clickable",3,"matTooltip","click",4,"ngIf"],[1,"slider-body-main"],["class","slider-content-block mt-2 mb-0",4,"ngIf"],["class","slider-content-block mt-2",4,"ngIf"],["id","slider-content-footer ",1,"slider-content-footer"],[1,"btn-cannel",3,"click"],[1,"btn-save",3,"click"],[1,"clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#646464","transform","rotateY(180deg)"],[2,"vertical-align","middle","color","#646464"],[1,"slider-content-block","mt-2","mb-0"],[1,"slider-bar"],[1,"slider-bar-left"],[1,"slider-bar-title"],[2,"font-weight","bold"],[1,"slider-bar-right","d-flex","align-self-center"],[1,"btn-add-member",3,"matMenuTriggerFor"],[1,"material-icons"],[2,"vertical-align","middle","margin-top","3px"],[1,"btn-del-all-member",3,"click"],["menuAddMultiple","matMenu"],[1,"search-member",3,"click"],[1,"text-center"],[1,"mb-1",2,"font-size","14px","font-weight","450"],[1,"form-horizontal",3,"formGroup"],["type","text","id","add_all_teacher_phone","rows","10","formControlName","listPhone",1,"form-control"],[1,"text-justify"],[1,"pt-1","text-justify",2,"color","#00000066","line-height","0"],[1,"d-flex","justify-content-end"],[1,"btn-add-all-member",3,"click"],[1,"slider-bar-body"],["class","group-body-item",4,"ngFor","ngForOf"],[1,"add-member"],[1,"btn-add-member",3,"matMenuTriggerFor","click"],[2,"vertical-align","middle","margin-top","2px"],["type","text",1,"search-input",3,"placeholder","formControl"],[1,"search-result"],["dataNull",""],[1,"group-body-item"],[1,"btn-delete",3,"click"],[1,"fa","fa-times",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"group-item",3,"disabled"],[1,"group-btn",3,"ngClass","click"],["class","spinner-border spinner-border-sm","style","color: silver;","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","silver"],[2,"display","flex","justify-content","center","align-items","center"],[1,"slider-content-block","mt-2"],["href","","target","_blank",1,"link-research","d-none"],[1,"fa","fa-external-link-alt"],[1,"slider-bar-right"],["type","checkbox","id","checkbox_role_hiden",1,"checkbox-input",3,"formControl"],["for","checkbox_role_hiden",1,"text-checkbox"],["class","slider-body",4,"ngIf","ngIfElse"],["templateElse",""],[1,"slider-body"],[1,"row"],["class","col-md-6 col-lg-4 col-xs-12 px-2 mb-3",4,"ngIf"],[1,"col-md-6","col-lg-4","col-xs-12","px-2","mb-3"],[1,"role-teacher"],[1,"class-title",3,"matTooltip"],[1,"role-content"],["class","role-item",4,"ngFor","ngForOf"],[1,"role-item"],["type","checkbox",1,"checkbox-input",3,"id","checked","change"],[1,"text-checkbox",3,"for"],[1,"slider-body",2,"display","flex","justify-content","center","align-items","center"],[3,"data","closeDialog"]],template:function(t,e){if(1&t&&(m.Qb(0,"header-backend",0),m.hc(1,"mytranslate"),m.Rc(2,x,1,0,"azt-loading-effect",1),m.Rc(3,ct,28,21,"ng-template",null,2,m.Sc)),2&t){const t=m.Ac(4);m.nc("headerTitle",m.ic(1,4,"lang_teacher_group_group_header_title"))("back_link","/admin/testbank/dashboard"),m.Db(2),m.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}},styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px)}.slider-content[_ngcontent-%COMP%]{background:#fff;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{align-items:center;margin-right:15px}.add-member[_ngcontent-%COMP%], .group-body-item[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.add-member[_ngcontent-%COMP%]{position:relative}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{background:#fff;border-radius:5px;padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:3px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;padding:4px;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#eee}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.group-item[_ngcontent-%COMP%]:hover{background:#eee;border-radius:5px}@media screen and (max-width:1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width:480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width:321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),t})();var rt=n("Avyq"),st=n("6Fp8");const lt=[{path:"",component:at,canActivate:[st.a],children:[{path:"",canActivateChild:[st.a],children:[{path:"",component:at}]}]}];let dt=(()=>{class t{}return t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({factory:function(e){return new(e||t)},imports:[[a.l.forChild(lt)],a.l,rt.c]}),t})();var ht=n("atsk"),bt=n("5ete"),ut=n("bTqV"),gt=n("iWHX");function pt(t,e){1&t&&(m.Vb(0,"p",22),m.Tc(1),m.hc(2,"mytranslate"),m.Ub()),2&t&&(m.Db(1),m.Uc(m.ic(2,1,"lang_teacher_group_utilt_add_group_add_group_teacher")))}function mt(t,e){1&t&&(m.Vb(0,"p",22),m.Tc(1),m.hc(2,"mytranslate"),m.Ub()),2&t&&(m.Db(1),m.Uc(m.ic(2,1,"lang_teacher_group_utilt_add_group_edit_group_teacher")))}function ft(t,e){1&t&&(m.Vb(0,"div"),m.Tc(1),m.hc(2,"mytranslate"),m.Ub()),2&t&&(m.Db(1),m.Vc("",m.ic(2,1,"lang_required_enter_name_group"),"!"))}function vt(t,e){if(1&t&&(m.Vb(0,"div",23),m.Rc(1,ft,3,3,"div",21),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.nc("ngIf",t.getErrorType("groupName","noWhiteSpace"))}}function _t(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",24),m.Tc(2,"\xa0"),m.Ub())}function xt(t,e){1&t&&(m.Vb(0,"span"),m.Tc(1),m.hc(2,"mytranslate"),m.Ub()),2&t&&(m.Db(1),m.Uc(m.ic(2,1,"lang_buttom_save")))}function Ot(t,e){1&t&&(m.Vb(0,"span"),m.Tc(1),m.hc(2,"mytranslate"),m.Ub()),2&t&&(m.Db(1),m.Uc(m.ic(2,1,"lang_buttom_update")))}function Dt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",1),m.Vb(1,"div",2),m.Vb(2,"form",3),m.Vb(3,"div",4),m.Rc(4,pt,3,3,"p",5),m.Rc(5,mt,3,3,"p",5),m.Vb(6,"button",6),m.cc("click",function(){return m.Ec(t),m.gc().btnCloseDialog(!1)}),m.Qb(7,"i",7),m.Ub(),m.Ub(),m.Vb(8,"div",8),m.Vb(9,"div",9),m.Vb(10,"div",10),m.Vb(11,"label",11),m.Tc(12),m.hc(13,"mytranslate"),m.Ub(),m.Vb(14,"div",12),m.Qb(15,"input",13),m.hc(16,"mytranslate"),m.Ub(),m.Rc(17,vt,2,1,"div",14),m.Ub(),m.Ub(),m.Ub(),m.Vb(18,"div",15),m.Vb(19,"div",16),m.Vb(20,"div",17),m.Vb(21,"div",18),m.Vb(22,"button",19),m.cc("click",function(){return m.Ec(t),m.gc().btnCloseDialog(!1)}),m.Tc(23),m.hc(24,"mytranslate"),m.Ub(),m.Vb(25,"button",20),m.cc("click",function(){return m.Ec(t),m.gc().confirmAction()}),m.Rc(26,_t,3,0,"span",21),m.Rc(27,xt,3,3,"span",21),m.Rc(28,Ot,3,3,"span",21),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(2),m.nc("formGroup",t.form),m.Db(2),m.nc("ngIf","add_group"===(null==t.data?null:t.data.type)),m.Db(1),m.nc("ngIf","edit_group"===(null==t.data?null:t.data.type)),m.Db(7),m.Uc(m.ic(13,11,"lang_teacher_group_utilt_add_group_lable_group")),m.Db(3),m.oc("placeholder",m.ic(16,13,"lang_teacher_group_utilt_add_group_lable_group")),m.Db(2),m.nc("ngIf",t.form.controls.groupName.invalid&&t.form.controls.groupName.dirty),m.Db(6),m.Vc(" ",m.ic(24,15,"lang_buttom_cancel")," "),m.Db(2),m.nc("disabled",t.statusObj.loading||t.form.invalid),m.Db(1),m.nc("ngIf",t.statusObj.loading),m.Db(1),m.nc("ngIf","add_group"===(null==t.data?null:t.data.type)),m.Db(1),m.nc("ngIf","edit_group"===(null==t.data?null:t.data.type))}}let Pt=(()=>{class t extends p.a{constructor(t,e,n,i){super(e),this.fb=t,this.commonService=e,this.baseApiService=n,this.teacherGroupService=i,this.closeDialog=new m.o,this.form=new o.k({})}getErrorType(t,e){var n;return!(!this.form.controls[t]||!this.form.controls[t].errors||!(null===(n=this.form.controls[t].errors)||void 0===n?void 0:n[e]))}confirmAction(){var t,e,n;if("add_group"===(null===(t=this.data)||void 0===t?void 0:t.type)){let t=this.commonService.getFormObj(this.form);this.form.valid&&(this.initStatusObj(),this.subscriptions.add(this.teacherGroupService.apiTeacherGroupSaveGroupWithTeamPost({groupName:t.groupName}).subscribe(t=>{var e;1==t.success?(this.btnCloseDialog(!0),this.showSuccessSnack("Th\xeam nh\xf3m th\xe0nh c\xf4ng"),this.successStatusObj()):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0))})))}else{let t=this.commonService.getFormObj(this.form);if(this.form.valid){this.initStatusObj();let i={id:null===(n=null===(e=this.data)||void 0===e?void 0:e.groupWithTeacherData)||void 0===n?void 0:n.id,groupName:t.groupName};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupUpdateGroupWithTeamPost(i).subscribe(t=>{var e;1==t.success?(this.btnCloseDialog(!0),this.showSuccessSnack("S\u1eeda nh\xf3m th\xe0nh c\xf4ng"),this.successStatusObj()):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0))}))}}}btnCloseDialog(t){t?this.closeDialog.emit(t):this.closeDialog.emit()}ngOnInit(){var t;this.form=this.fb.group({groupName:new o.h("",[o.A.required,ht.a.noWhiteSpace])}),(null===(t=this.data)||void 0===t?void 0:t.groupWithTeacherData)&&this.form.controls.groupName.setValue(this.data.groupWithTeacherData.name),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(o.g),m.Pb(f.a),m.Pb(bt.a),m.Pb(g.jb))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-add-group"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[m.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],[1,"form-content"],[1,"form-group"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","id","full-name","formControlName","groupName",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","text-right"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&m.Rc(0,Dt,29,17,"div",0),2&t&&m.nc("ngIf",null==e.data?null:e.data.isShow)},directives:[i.m,o.C,o.t,o.l,o.d,o.s,o.j,ut.b],pipes:[gt.z],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px rgba(91,91,91,.35)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();var kt=n("NFeN");function Ct(t,e){1&t&&(m.Vb(0,"p",20),m.Tc(1,"Th\xeam gi\xe1o vi\xean"),m.Ub())}function Ut(t,e){1&t&&(m.Vb(0,"p",20),m.Tc(1,"S\u1eeda gi\xe1o vi\xean"),m.Ub())}function Vt(t,e){1&t&&(m.Vb(0,"span"),m.Tc(1,"Ch\u01b0a c\xf3 file \u0111\u01b0\u1ee3c ch\u1ecdn"),m.Ub())}function yt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",33),m.Vb(1,"div",34),m.cc("click",function(t){return t.stopPropagation()}),m.Vb(2,"div",35),m.Qb(3,"img",36),m.hc(4,"convertCdn"),m.Ub(),m.Vb(5,"div",37),m.Tc(6),m.Ub(),m.Vb(7,"div",38),m.Vb(8,"button",39),m.cc("click",function(e){return m.Ec(t),m.gc(3).removeFile(e)}),m.Tc(9,"X\xf3a"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc(3);m.Db(3),m.nc("src",m.ic(4,2,"azota_assets/images/excel.png"),m.Ic),m.Db(3),m.Uc(t.file?t.file.name:"")}}function Tt(t,e){1&t&&(m.Vb(0,"span",40),m.Tc(1,"K\xe9o th\u1ea3 file Excel ho\u1eb7c Click \u0111\u1ec3 ch\u1ecdn file"),m.Ub())}function wt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",21),m.Vb(1,"div",22),m.cc("click",function(){return m.Ec(t),m.Ac(8).click()}),m.Vb(2,"div",23),m.Vb(3,"div",24),m.Vb(4,"a",25),m.Vb(5,"mat-icon"),m.Tc(6,"cloud_upload"),m.Ub(),m.Ub(),m.Vb(7,"input",26,27),m.cc("change",function(e){return m.Ec(t),m.gc(2).onFileSelected(e)}),m.Ub(),m.Rc(9,Vt,2,0,"span",28),m.Rc(10,yt,10,4,"ng-template",null,29,m.Sc),m.Rc(12,Tt,2,0,"span",30),m.Ub(),m.Ub(),m.Ub(),m.Vb(13,"div",31),m.Vb(14,"a",32),m.hc(15,"convertLink"),m.Vb(16,"span"),m.Tc(17,"T\u1ea3i file bi\u1ec3u m\u1eabu "),m.Ub(),m.Vb(18,"mat-icon"),m.Tc(19,"save_alt"),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.Ac(11),e=m.gc(2);m.Db(9),m.nc("ngIf",!e.file)("ngIfElse",t),m.Db(3),m.nc("ngIf",!e.file),m.Db(2),m.oc("download",e.changeNameDownloadFile("excel_add_teacher_exp_v4")),m.nc("href",m.ic(15,5,"blob/master/azota_assets/medias/excel_add_teacher_exp_v4.xlsx?raw=true"),m.Ic)}}function Mt(t,e){1&t&&(m.Vb(0,"div"),m.Tc(1),m.hc(2,"mytranslate"),m.Ub()),2&t&&(m.Db(1),m.Vc("",m.ic(2,1,"lang_cms_utils_folder_name_validate_space"),"!"))}function St(t,e){if(1&t&&(m.Vb(0,"div",48),m.Rc(1,Mt,3,3,"div",19),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngIf",t.getErrorType("fullName","noWhiteSpace"))}}function It(t,e){1&t&&(m.Vb(0,"div"),m.Tc(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),m.Ub())}function Gt(t,e){1&t&&(m.Vb(0,"div"),m.Tc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),m.Ub())}function jt(t,e){if(1&t&&(m.Vb(0,"div",48),m.Rc(1,It,2,0,"div",19),m.Rc(2,Gt,2,0,"div",19),m.Ub()),2&t){const t=m.gc(3);m.Db(1),m.nc("ngIf",t.getErrorType("phone","required")),m.Db(1),m.nc("ngIf",t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function At(t,e){if(1&t&&(m.Vb(0,"div",21),m.Vb(1,"div",41),m.Vb(2,"label",42),m.Tc(3,"H\u1ecd v\xe0 t\xean"),m.Ub(),m.Vb(4,"div",43),m.Qb(5,"input",44),m.Ub(),m.Rc(6,St,2,1,"div",45),m.Ub(),m.Ub(),m.Vb(7,"div",21),m.Vb(8,"div",41),m.Vb(9,"label",46),m.Tc(10,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),m.Ub(),m.Vb(11,"div",43),m.Qb(12,"input",47),m.Ub(),m.Rc(13,jt,3,2,"div",45),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(6),m.nc("ngIf",t.form.controls.fullName.invalid&&t.form.controls.fullName.dirty),m.Db(7),m.nc("ngIf",t.form.controls.phone.invalid&&t.form.controls.phone.dirty)}}function zt(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",49),m.Tc(2,"\xa0"),m.Ub())}function Et(t,e){1&t&&(m.Vb(0,"span"),m.Tc(1),m.hc(2,"mytranslate"),m.Ub()),2&t&&(m.Db(1),m.Uc(m.ic(2,1,"lang_buttom_save")))}function Rt(t,e){1&t&&(m.Vb(0,"span"),m.Tc(1),m.hc(2,"mytranslate"),m.Ub()),2&t&&(m.Db(1),m.Uc(m.ic(2,1,"lang_buttom_update")))}function Nt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",1),m.Vb(1,"div",2),m.Vb(2,"form",3),m.Vb(3,"div",4),m.Rc(4,Ct,2,0,"p",5),m.Rc(5,Ut,2,0,"p",5),m.Vb(6,"button",6),m.cc("click",function(){return m.Ec(t),m.gc().btnCloseDialog(!1)}),m.Qb(7,"i",7),m.Ub(),m.Ub(),m.Rc(8,wt,20,7,"div",8),m.Rc(9,At,14,2,"ng-template",null,9,m.Sc),m.Vb(11,"div",10),m.Vb(12,"div",11),m.Vb(13,"a",12),m.cc("click",function(){return m.Ec(t),m.gc().showImportExcel()}),m.Vb(14,"span",13),m.Tc(15),m.Ub(),m.Ub(),m.Ub(),m.Vb(16,"div",14),m.Vb(17,"div",15),m.Vb(18,"div",16),m.Vb(19,"button",17),m.cc("click",function(){return m.Ec(t),m.gc().btnCloseDialog(!1)}),m.Tc(20),m.hc(21,"mytranslate"),m.Ub(),m.Vb(22,"button",18),m.cc("click",function(){return m.Ec(t),m.gc().confirmAction()}),m.Rc(23,zt,3,0,"span",19),m.Rc(24,Et,3,3,"span",19),m.Rc(25,Rt,3,3,"span",19),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.Ac(10),e=m.gc();m.Db(2),m.nc("formGroup",e.form),m.Db(2),m.nc("ngIf","add_teacher"==(null==e.data?null:e.data.type)),m.Db(1),m.nc("ngIf","edit_teacher"==(null==e.data?null:e.data.type)),m.Db(3),m.nc("ngIf",e.importExcel)("ngIfElse",t),m.Db(7),m.Uc(e.importExcel?"Quay l\u1ea1i":"Nh\u1eadp t\u1eeb File Excel"),m.Db(5),m.Vc(" ",m.ic(21,11,"lang_buttom_cancel")," "),m.Db(2),m.nc("disabled",e.statusObj.loading||e.form.invalid&&!e.importExcel||1==e.importExcel&&null==e.file),m.Db(1),m.nc("ngIf",e.statusObj.loading),m.Db(1),m.nc("ngIf","add_teacher"==(null==e.data?null:e.data.type)),m.Db(1),m.nc("ngIf","edit_teacher"==(null==e.data?null:e.data.type))}}let Lt=(()=>{class t extends p.a{constructor(t,e,n,i){super(e),this.fb=t,this.commonService=e,this.baseApiService=n,this.teacherGroupService=i,this.closeDialog=new m.o,this.form=new o.k({}),this.importExcel=!1,this.file=null}getErrorType(t,e){var n;return!(!this.form.controls[t]||!this.form.controls[t].errors||!(null===(n=this.form.controls[t].errors)||void 0===n?void 0:n[e]))}onFileSelected(t){let e=t.target.files;this.file=e?e[0]:this.file,this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.commonService.snackError("Vui l\xf2ng ch\u1ecdn \u0111\xfang t\u1ec7p tin Excel",""))}removeFile(t){t.stopPropagation(),this.file=null}confirmAction(){var t,e,n;let i=this.commonService.getFormObj(this.form);if(this.initStatusObj(),this.importExcel)this.subscriptions.add(this.teacherGroupService.apiTeacherGroupAddTeacherIntoTeamWithExcelPostForm(this.file).subscribe(t=>{var e,n,i,o;if(1==t.success){this.btnCloseDialog(!0);let o=(null===(e=t.data)||void 0===e?void 0:e.saveSuccess)?t.data.saveSuccess:0,c=(null===(n=t.data)||void 0===n?void 0:n.totalTeacher)?t.data.totalTeacher:0,a=(null===(i=t.data)||void 0===i?void 0:i.notValidPhone)?t.data.notValidPhone:0;this.showSuccessSnack(o===c?"Th\xeam gi\xe1o vi\xean v\xe0o danh b\u1ea1 th\xe0nh c\xf4ng":"Th\xeam th\xe0nh c\xf4ng "+o+"/"+c+" gi\xe1o vi\xean v\xe0o danh b\u1ea1! Trong \u0111\xf3 c\xf3 "+a+" S\u0110T sai \u0111\u1ecbnh d\u1ea1ng."),this.successStatusObj()}else this.btnCloseDialog(!1),this.errorStatusObj(null!==(o=t.message)&&void 0!==o?o:"",!0)}));else switch(null===(t=this.data)||void 0===t?void 0:t.type){case"add_teacher":this.form.valid&&this.subscriptions.add(this.teacherGroupService.apiTeacherGroupAddTeacherWithTeamPost({numberphone:i.phone,fullname:i.fullName}).subscribe(t=>{var e;1===t.success?(this.btnCloseDialog(!0),this.showSuccessSnack("Th\xeam gi\xe1o vi\xean th\xe0nh c\xf4ng"),this.successStatusObj()):this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0)}));break;case"edit_teacher":if(this.form.valid){let t={id:null===(n=null===(e=this.data)||void 0===e?void 0:e.teamTeacherObj)||void 0===n?void 0:n.id,numberphone:i.phone,fullname:i.fullName};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupUpdateTeacherWithTeamPost(t).subscribe(t=>{var e;1==t.success?(this.btnCloseDialog(!0),this.showSuccessSnack("S\u1eeda th\xf4ng tin gi\xe1o vi\xean th\xe0nh c\xf4ng"),this.successStatusObj()):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0))}))}}}btnCloseDialog(t){t?this.closeDialog.emit(t):this.closeDialog.emit()}showImportExcel(){this.importExcel=!this.importExcel}changeNameDownloadFile(t){return this.commonService.createFileNameExportFile([t])+".xlsx"}ngOnInit(){var t,e,n;this.form=this.fb.group({phone:["",[o.A.required,o.A.pattern("^[0-9]*$"),o.A.minLength(10),o.A.maxLength(10)]],fullName:new o.h("",[o.A.required,ht.a.noWhiteSpace]),File:new o.h("")}),"edit_teacher"==(null===(t=this.data)||void 0===t?void 0:t.type)&&(this.form.controls.phone.setValue(null===(e=this.data.teamTeacherObj)||void 0===e?void 0:e.phone),this.form.controls.fullName.setValue(null===(n=this.data.teamTeacherObj)||void 0===n?void 0:n.fullName)),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(o.g),m.Pb(f.a),m.Pb(bt.a),m.Pb(g.jb))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-add-teacher"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[m.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],["class","form-group",4,"ngIf","ngIfElse"],["NormalForm",""],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","col-sm-6","align-self-center","my-2"],[1,"clickable","text-info","float-left",3,"click"],[2,"vertical-align","middle"],[1,"col-12","col-sm-6","align-self-center"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"form-group"],[1,"col-sm-12","text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],[1,"px-4","py-3","rounded"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"form-control","file-input",3,"change"],["fileSelect",""],[4,"ngIf","ngIfElse"],["exitsFile",""],["class","d-block mt-20 text-dark-green mt-3",4,"ngIf"],[1,"text-center","file","mt-2"],["target","_self",1,"dz-clickable",3,"href","download"],[1,"d-flex","align-items-center","justify-content-center","m-3"],[1,"fileinfo","p-3",3,"click"],[1,"title"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"file-name"],[1,"action"],[1,"btn-remove",3,"click"],[1,"d-block","mt-20","text-dark-green","mt-3"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","id","full-name","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","number-phone",1,"text-feild"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","id","number-phone","formControlName","phone",1,"form-control"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&m.Rc(0,Nt,26,13,"div",0),2&t&&m.nc("ngIf",null==e.data?null:e.data.isShow)},directives:[i.m,o.C,o.t,o.l,ut.b,kt.a,o.d,o.s,o.j],pipes:[gt.z,gt.g,gt.f],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px rgba(91,91,91,.35)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),t})();function Ft(t,e){if(1&t&&(m.Vb(0,"p",10),m.Tc(1),m.hc(2,"mytranslate"),m.Vb(3,"b"),m.Tc(4),m.Ub(),m.Tc(5),m.hc(6,"mytranslate"),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.Vc(" ",m.ic(2,3,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher")," "),m.Db(3),m.Uc(null==t.data||null==t.data.teamTeacherObj?null:t.data.teamTeacherObj.fullName),m.Db(1),m.Vc(" ",m.ic(6,5,"lang_teacher_group_utilt_delete_dialog_out_group"),"? ")}}function Wt(t,e){if(1&t&&(m.Vb(0,"p",10),m.Tc(1),m.hc(2,"mytranslate"),m.Vb(3,"b"),m.Tc(4),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.Vc(" ",m.ic(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),m.Db(3),m.Uc(null==t.data||null==t.data.groupWithTeacherData?null:t.data.groupWithTeacherData.name)}}function Qt(t,e){if(1&t&&(m.Vb(0,"p",10),m.Tc(1),m.hc(2,"mytranslate"),m.Vb(3,"b"),m.Tc(4),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.Vc(" ",m.ic(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),m.Db(3),m.Uc(null==t.data||null==t.data.teamTeacherObj?null:t.data.teamTeacherObj.fullName)}}function $t(t,e){if(1&t&&(m.Vb(0,"p",10),m.Tc(1),m.hc(2,"mytranslate"),m.Vb(3,"b"),m.Tc(4),m.Ub(),m.Ub()),2&t){const t=m.gc(2);m.Db(1),m.Vc(" ",m.ic(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher_in_group")," "),m.Db(3),m.Uc(null==t.data||null==t.data.groupObj?null:t.data.groupObj.name)}}function Bt(t,e){1&t&&(m.Vb(0,"span"),m.Qb(1,"span",11),m.Tc(2,"\xa0"),m.Ub())}function Xt(t,e){if(1&t){const t=m.Wb();m.Vb(0,"div",1),m.Vb(1,"div",2),m.Vb(2,"div",3),m.Rc(3,Ft,7,7,"p",4),m.Rc(4,Wt,5,4,"p",4),m.Rc(5,Qt,5,4,"p",4),m.Rc(6,$t,5,4,"p",4),m.Ub(),m.Vb(7,"div",5),m.Vb(8,"div",6),m.Vb(9,"button",7),m.cc("click",function(){return m.Ec(t),m.gc().btnCloseDialog()}),m.Tc(10),m.hc(11,"mytranslate"),m.Ub(),m.Vb(12,"button",8),m.cc("click",function(){return m.Ec(t),m.gc().confirmDelete()}),m.Rc(13,Bt,3,0,"span",9),m.Tc(14),m.hc(15,"mytranslate"),m.Ub(),m.Ub(),m.Ub(),m.Ub(),m.Ub()}if(2&t){const t=m.gc();m.Db(3),m.nc("ngIf","delete_member"==(null==t.data?null:t.data.type)),m.Db(1),m.nc("ngIf","delete_group"==(null==t.data?null:t.data.type)),m.Db(1),m.nc("ngIf","delete_teacher"==(null==t.data?null:t.data.type)),m.Db(1),m.nc("ngIf","delete_all_teacher_group"==(null==t.data?null:t.data.type)),m.Db(4),m.Vc(" ",m.ic(11,8,"lang_cms_common_close_btn")," "),m.Db(2),m.nc("disabled",t.statusObj.loading),m.Db(1),m.nc("ngIf",t.statusObj.loading),m.Db(1),m.Vc(" ",m.ic(15,10,"lang_cms_common_confirm_btn")," ")}}let qt=(()=>{class t extends p.a{constructor(t,e){super(t),this.commonService=t,this.teacherGroupService=e,this.closeDialog=new m.o}confirmDelete(){var t,e,n,i,o,c,a,r,s;switch(this.initStatusObj(),null===(t=this.data)||void 0===t?void 0:t.type){case"delete_member":let t={groupId:this.data.groupId,teacherTeamId:null===(n=null===(e=this.data)||void 0===e?void 0:e.teamTeacherObj)||void 0===n?void 0:n.id};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithGroupPost(t).subscribe(t=>{var e;1===t.success?(this.showSuccessSnack("X\xf3a gi\xe1o vi\xean kh\u1ecfi nh\xf3m th\xe0nh c\xf4ng"),this.closeDialog.emit(this.data),this.successStatusObj()):this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0)}));break;case"delete_group":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteGroupWithTeamGet(null===(o=null===(i=this.data)||void 0===i?void 0:i.groupWithTeacherData)||void 0===o?void 0:o.id).subscribe(t=>{var e;1===t.success?(this.commonService.snackSuccess("X\xf3a nh\xf3m th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data),this.successStatusObj()):this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0)}));break;case"delete_teacher":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithTeamGet(null===(a=null===(c=this.data)||void 0===c?void 0:c.teamTeacherObj)||void 0===a?void 0:a.id).subscribe(t=>{var e;1==t.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data),this.successStatusObj()):this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0)}));break;case"delete_all_teacher_group":let l={groupId:null===(s=null===(r=this.data)||void 0===r?void 0:r.groupObj)||void 0===s?void 0:s.id,teamTeacherIds:this.data.teacherIds};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteMultipleTeacherWithGroupPost(l).subscribe(t=>{var e;1==t.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data),this.successStatusObj()):this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0)}))}}btnCloseDialog(){this.closeDialog.emit()}}return t.\u0275fac=function(e){return new(e||t)(m.Pb(f.a),m.Pb(g.jb))},t.\u0275cmp=m.Jb({type:t,selectors:[["app-delete-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[m.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],["class","h5 para_respon font-weight-normal",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","","color","warn",1,"btn-save",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"h5","para_respon","font-weight-normal"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&m.Rc(0,Xt,16,12,"div",0),2&t&&m.nc("ngIf",null==e.data?null:e.data.isShow)},directives:[i.m,ut.b],pipes:[gt.z],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover{background:#bd2c22}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),t})();var Kt=n("hZBc"),Jt=n("nzN9"),Yt=n("XhcP"),Zt=n("STbY"),Ht=n("IU+r"),te=n("Qu3c");let ee=(()=>{class t{}return t.\u0275mod=m.Nb({type:t}),t.\u0275inj=m.Mb({factory:function(e){return new(e||t)},imports:[[a.l,i.c,u.a,r.b,o.n,o.y,c.f,b.a,s.b,l.b,dt,d.c,h.a]]}),t})();m.Kc(at,[Kt.a,i.m,Jt.a,Yt.b,Yt.a,i.k,o.d,o.s,o.i,kt.a,d.b,i.l,ut.b,Zt.d,Zt.a,Zt.b,Ht.a,te.a,Yt.c,o.C,o.t,o.l,o.j,o.a,qt,Lt,Pt],[gt.z,gt.l])}}]);