"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[697],{66697:(Es,pt,d)=>{d.r(pt),d.d(pt,{TestFrontModule:()=>ks});var f=d(69808),u=d(93075),Ft=d(48966),M=d(74202),Lt=d(51908),Ut=d(1737),Nt=d(63728),Qt=d(63312),Jt=d(75658),Dt=d(10738),ut=d(37389),y=d(55330),t=d(5e3),S=d(35018);let Yt=(()=>{class n extends y.Q{constructor(e,i){super(i),this.activeRoute=e,this.commonService=i}ngOnInit(){var e=this.commonService.getMyParam(this.activeRoute,"hash_id");this.commonService.myNavigation("/de-thi/"+e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.gz),t.Y36(S.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["page-redirect-support"]],features:[t.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();var zt=d(45668),nt=d(36053),it=d(34782),j=d(55386),G=d(47691),W=d(58496),Ht=d(49518);function Rt(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function Gt(n,s){if(1&n&&t._UZ(0,"azt-test-review",3),2&n){const e=t.oxw();t.Q6J("initDataResult",e.initDataAnswerTest)("isBackEnd",!1)}}let Bt=(()=>{class n extends y.Q{constructor(e,i,o,a){super(e),this.commonService=e,this.activeRoute=i,this.browserStorageService=o,this.frontExamResultService=a,this.headerTitle="",this.initDataAnswerTest={}}redirectToBackLink(){var e;let i=null!==(e=this.commonService.getMyQueryParam("backto"))&&void 0!==e?e:"",o=this.activeRoute.snapshot.paramMap.get("hash_id");return this.commonService.getMyQueryParam("offline")?this.myNavigationBySpecialQueryString(null!=i?i:"/student/dashboard/0"):i.includes("enter-question")?this.commonService.myNavigation(i):this.commonService.myNavigationWithQueryString("/de-thi/"+o,"?backto="+encodeURIComponent(i))}translateMetaTitle(e){this.commonService.getTranslate("lang_auto_ket_qua").subscribe(i=>{this.commonService.translateMetaData({title:i+": "+e,description:i+": "+e,image:"lang_cms_test_image"})})}getAndProcessDataForStudent(){this.initStatusObj(),(0,nt.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,i,o=null===(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===e?void 0:e.toString();let a=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),_=null!==(i=this.commonService.getMyQueryParam("offline"))&&void 0!==i?i:"";var l=this.browserStorageService.getSimpleSessionStorageWithExpired("test_result_v2_"+o+"_"+a);l?(this.initDataAnswerTest.data=l,this.headerTitle=`K\u1ebft qu\u1ea3: ${l.examObj.name}`,this.translateMetaTitle(l.examObj.name),this.successStatusObj()):this.frontExamResultService.apiFrontExamResultGetExamAnswerGet(o,a,_).subscribe(r=>{var m,c,p,h,g;1==r.success?(this.initDataAnswerTest=r,this.headerTitle=`K\u1ebft qu\u1ea3: ${null===(c=null===(m=null==r?void 0:r.data)||void 0===m?void 0:m.examObj)||void 0===c?void 0:c.name}`,this.translateMetaTitle(null===(h=null===(p=r.data)||void 0===p?void 0:p.examObj)||void 0===h?void 0:h.name),this.successStatusObj()):this.errorStatusObj(null!==(g=r.message)&&void 0!==g?g:"",!0)})})}ngOnInit(){this.commonService.gaEvent("FrontExam_ViewFullResult"),this.getAndProcessDataForStudent(),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(M.gz),t.Y36(it.z),t.Y36(j.CA))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-answer-test"]],features:[t.qOj],decls:4,vars:4,consts:[[3,"headerTitle","checkUrlFunction","RedirectToLink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"initDataResult","isBackEnd"]],template:function(e,i){if(1&e&&(t.TgZ(0,"header-frontend",0),t.NdJ("RedirectToLink",function(){return i.redirectToBackLink()}),t.qZA(),t.YNc(1,Rt,1,0,"azt-loading-effect",1),t.YNc(2,Gt,1,2,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("headerTitle",i.headerTitle)("checkUrlFunction",!0),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[f.O5,G.Q,W.d,Ht.K],encapsulation:2}),n})();var q=d(24096),gt=d(67102),_t=d(43147),H=d(9224),V=d(25245),v=d(1033);function Kt(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function $t(n,s){1&n&&(t.TgZ(0,"div")(1,"div",6)(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_co_loi_khi_tai_ket_qua_vui_long_tai_lai_trang_hoac_thu_lai_sau")))}function Wt(n,s){if(1&n&&(t.TgZ(0,"p",21),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"b"),t._uU(4),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("",t.lcZ(2,2,"lang_auto_thi_sinh"),": "),t.xp6(3),t.Oqu(e.studentObj.fullName?e.studentObj.fullName:e.userObj.fullName)}}function Vt(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(1),t.hij("",t.lcZ(2,3,"lang_auto_so_luong_dung"),": "),t.xp6(3),t.AsE("",e.examResultObj.rightAnswer," / ",e.examResultObj.totalQuestion,"")}}function Xt(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_so_cau_hoi"),": ",e.examResultObj.totalQuestion,"")}}function te(n,s){if(1&n&&(t.TgZ(0,"h2",29),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Oqu(e.examResultObj.mark)}}function ee(n,s){if(1&n&&(t.TgZ(0,"div",26)(1,"h2",27),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",24),t.YNc(5,te,2,1,"h2",28),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Q6J("ngIf",null!=e.examResultObj.mark)}}function ne(n,s){1&n&&(t.TgZ(0,"h2",27),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),": "))}function ie(n,s){1&n&&(t.TgZ(0,"h2",27),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function oe(n,s){if(1&n&&(t.TgZ(0,"h2",29),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Oqu(e.examResultObj.mark)}}function ae(n,s){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,ne,3,3,"h2",30),t.YNc(2,ie,3,3,"h2",30),t.TgZ(3,"div",24),t.YNc(4,oe,2,1,"h2",28),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null==e.examResultObj.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.examResultObj.essayMark),t.xp6(2),t.Q6J("ngIf",null!=e.examResultObj.mark)}}function se(n,s){1&n&&(t.TgZ(0,"h2",27),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function _e(n,s){if(1&n&&(t.TgZ(0,"h2",29),t._uU(1),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.hij(" ",e.examResultObj.mark,"")}}function le(n,s){1&n&&(t.TgZ(0,"h2",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function re(n,s){if(1&n&&(t.TgZ(0,"div",26),t.YNc(1,se,3,3,"h2",30),t.TgZ(2,"div",24),t.YNc(3,_e,2,1,"h2",28),t.YNc(4,le,3,3,"h2",25),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",null!=e.examResultObj.essayMark),t.xp6(2),t.Q6J("ngIf",null!=e.examResultObj.mark&&null!=e.examResultObj.essayMark),t.xp6(1),t.Q6J("ngIf",null==e.examResultObj.essayMark)}}function ce(n,s){1&n&&(t.TgZ(0,"h2",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function me(n,s){if(1&n&&(t.TgZ(0,"div",22),t.YNc(1,ee,6,4,"div",23),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,ae,5,3,"div",23),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,re,5,3,"div",23),t.ALo(6,"isOnlyEssay"),t.TgZ(7,"div",24),t.YNc(8,ce,3,3,"h2",25),t.qZA()()),2&n){const e=t.oxw(3);let i,o,a;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,4,null!==(i=e.examObj.examType)&&void 0!==i?i:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,6,null!==(o=e.examObj.examType)&&void 0!==o?o:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,8,null!==(a=e.examObj.examType)&&void 0!==a?a:0)),t.xp6(3),t.Q6J("ngIf",null==e.examResultObj.mark)}}function de(n,s){1&n&&(t.TgZ(0,"h2",27),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function pe(n,s){if(1&n&&(t.TgZ(0,"div",22)(1,"div",26),t.YNc(2,de,3,3,"h2",30),t.qZA(),t.TgZ(3,"div",24)(4,"h2",31),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngIf",null==e.examResultObj.essayMark),t.xp6(3),t.Oqu(t.lcZ(6,2,"lang_auto_chua_duoc_xem_diem"))}}function ue(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.redirectToAnswerTest())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij("xem ",t.lcZ(3,1,"lang_auto_dap_an_chi_tiet"),""))}function ge(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.redirectToAnswerTest())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij("xem ",t.lcZ(3,1,"lang_auto_bai_lam_chi_tiet"),""))}function he(n,s){if(1&n&&(t.TgZ(0,"div",7)(1,"b")(2,"h2"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()(),t.TgZ(5,"div",8)(6,"div",9)(7,"mat-card",10)(8,"div",11),t.YNc(9,Wt,5,4,"p",12),t.TgZ(10,"div",13)(11,"div",14)(12,"div",15)(13,"span",16)(14,"mat-icon"),t._uU(15,"access_time"),t.qZA()(),t.TgZ(16,"span",17),t._uU(17),t.ALo(18,"mytranslate"),t.TgZ(19,"span"),t._uU(20),t.qZA()()()(),t.TgZ(21,"div",14)(22,"div",15)(23,"span",16)(24,"mat-icon"),t._uU(25,"help_outline"),t.qZA()(),t.TgZ(26,"span",17),t.YNc(27,Vt,5,5,"span",18),t.YNc(28,Xt,3,4,"span",18),t.qZA()()()(),t.TgZ(29,"div",7),t.YNc(30,me,9,10,"div",19),t.YNc(31,pe,7,4,"div",19),t.qZA(),t.YNc(32,ue,4,3,"div",20),t.YNc(33,ge,4,3,"div",20),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,13,"lang_auto_bai_lam_cua_ban_da_duoc_gui_di")),t.xp6(6),t.Q6J("ngIf",e.studentObj.fullName||e.userObj.fullName),t.xp6(8),t.hij(" ",t.lcZ(18,15,"lang_auto_thoi_gian_lam_bai"),": "),t.xp6(3),t.HOy("",e.days," ",e.hours," ",e.minutes," ",e.seconds,""),t.xp6(7),t.Q6J("ngIf",null!=e.examResultObj.rightAnswer),t.xp6(1),t.Q6J("ngIf",null==e.examResultObj.rightAnswer),t.xp6(2),t.Q6J("ngIf",2!=e.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2==e.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2!=e.examObj.whenShowAnswer),t.xp6(1),t.Q6J("ngIf",2==e.examObj.whenShowAnswer)}}function fe(n,s){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4),t.YNc(2,$t,5,3,"div",1),t.YNc(3,he,34,17,"ng-template",null,5,t.W1O),t.qZA()()),2&n){const e=t.MAs(4),i=t.oxw();t.xp6(2),t.Q6J("ngIf",""!=i.statusObj.errorMessage)("ngIfElse",e)}}let xe=(()=>{class n extends y.Q{constructor(e,i,o,a,_){super(o),this.activeRoute=e,this.frontExamResultService=i,this.commonService=o,this.baseApiService=a,this.browserStorageService=_,this.subscriptions=new q.w,this.hashId="",this.resultId=0,this.tenantId=0,this.cur_cateId=0,this.examObj={},this.examResultObj={},this.studentObj={},this.userObj={},this.seconds="",this.minutes="",this.hours="",this.days="",this.hasErrorMessage="",this.backToLink="",this.paramBackToLink=""}getExamResult(){var e,i,o,a,_;this.initStatusObj();var l=this.browserStorageService.getSimpleSessionStorage("test_result_v2_"+this.hashId+"_"+this.resultId);if(l){var r=this.commonService.willDeleteParseJson(l),m=this.commonService.willDeleteParseJson(null!==(e=r.data)&&void 0!==e?e:"");this.examObj=null!==(i=m.examObj)&&void 0!==i?i:{},this.examResultObj=null!==(o=m.examResultObj)&&void 0!==o?o:{},this.studentObj=m.studentObj;var c=new Date(null!==(a=this.examResultObj.startedTest)&&void 0!==a?a:""),h=new Date(null!==(_=this.examResultObj.createdAt)&&void 0!==_?_:"").getTime()-c.getTime(),g=Math.floor(h/864e5),x=Math.floor(h/36e5)-24*g,T=Math.floor(h/6e4)-(24*g*60+60*x),I=Math.floor(h/1e3)-(24*g*60*60+60*x*60+60*T);0!=g&&this.commonService.getTranslate("lang_auto_ngay").subscribe(w=>{this.days=g+" "+w}),0!=x&&this.commonService.getTranslate("lang_auto_gio").subscribe(w=>{this.hours=x+" "+w}),0!=T&&this.commonService.getTranslate("lang_auto_phut").subscribe(w=>{this.minutes=T+" "+w}),0!=I&&this.commonService.getTranslate("lang_auto_giay").subscribe(w=>{this.seconds=I+" "+w});let b="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(w=>{b=w}),this.commonService.translateMetaData({title:b+": "+this.examObj.name,description:this.examObj.name}),this.stopStatusObj()}else this.subscriptions.add(this.frontExamResultService.apiFrontExamResultGetObjGet(this.hashId,this.resultId).subscribe(b=>{var w,P,F,L,U,N,Z,k,Q,C,E,D,K;if(1==b.success){this.hasErrorMessage=(null==b?void 0:b.hasOwnProperty("message"))&&b.message?b.message:"",this.examObj=null!==(P=null===(w=b.data)||void 0===w?void 0:w.examObj)&&void 0!==P?P:{},this.examResultObj=null!==(L=null===(F=b.data)||void 0===F?void 0:F.examResultObj)&&void 0!==L?L:{},this.studentObj=null!==(N=null===(U=b.data)||void 0===U?void 0:U.studentObj)&&void 0!==N?N:{};var ot=new Date(null!==(Q=null===(k=null===(Z=b.data)||void 0===Z?void 0:Z.examResultObj)||void 0===k?void 0:k.startedTest)&&void 0!==Q?Q:""),R=new Date(null!==(D=null===(E=null===(C=b.data)||void 0===C?void 0:C.examResultObj)||void 0===E?void 0:E.createdAt)&&void 0!==D?D:"").getTime()-ot.getTime(),z=Math.floor(R/864e5),$=Math.floor(R/36e5)-24*z,X=Math.floor(R/6e4)-(24*z*60+60*$),st=Math.floor(R/1e3)-(24*z*60*60+60*$*60+60*X);0!=z&&this.commonService.getTranslate("lang_auto_ngay").subscribe(J=>{this.days=z+" "+J}),0!=x&&this.commonService.getTranslate("lang_auto_gio").subscribe(J=>{this.hours=$+" "+J}),0!=T&&this.commonService.getTranslate("lang_auto_phut").subscribe(J=>{this.minutes=X+" "+J}),0!=I&&this.commonService.getTranslate("lang_auto_giay").subscribe(J=>{this.seconds=st+" "+J});let tt="";this.commonService.getTranslate("lang_auto_nop_bai").subscribe(J=>{tt=J}),this.commonService.translateMetaData({title:tt+": "+this.examObj.name,description:this.examObj.name}),this.successStatusObj()}else this.errorStatusObj(null!==(K=b.message)&&void 0!==K?K:"",!0)}))}redirectToAnswerTest(){this.commonService.myNavigationWithQueryString("/test/answer-test/"+this.tenantId+"/"+this.cur_cateId+"/"+this.hashId+"/"+this.resultId,"?backto="+encodeURIComponent(this.paramBackToLink))}checkValidPhone(){var e=/^[0-9]{10}$/;return!!(this.studentObj.phone&&this.studentObj.phone.match(e)||this.userObj.phone&&this.userObj.phone.match(e))}ngOnInit(){var e;(0,nt.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var i,o=null===(i=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===i?void 0:i.toString();this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id")),this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.resultId=Number(this.commonService.getMyParam(this.activeRoute,"result_id")),this.hashId=o||"",this.userObj=this.baseApiService.getUserObj(),this.getExamResult()}),this.backToLink="/student/dashboard/0",this.paramBackToLink=null!==(e=this.commonService.getMyQueryParam("backto"))&&void 0!==e?e:"",this.commonService.getMyQueryParam("backto")&&(this.backToLink=this.paramBackToLink),this.commonService.gaEvent("FrontExam_ViewShortResult"),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.gz),t.Y36(gt.C),t.Y36(S.v),t.Y36(_t._),t.Y36(it.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-submit-test"]],features:[t.qOj],decls:5,vars:6,consts:[[3,"headerTitle","headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"mw-640","app","mt-3"],[1,"view-full-screen"],["Normal",""],[1,"alert","alert-danger"],[1,"title-header"],[1,"row","m-0"],[1,"col-md-12",2,"margin","0 auto","padding-top","10px","padding-bottom","5px"],[1,"text-center"],[1,"card-info"],["class","mt-1","style","font-size: 14px;",4,"ngIf"],[1,"row","mt-1","mb-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[4,"ngIf"],["class","col-md-12",4,"ngIf"],["class","point-view",4,"ngIf"],[1,"mt-1",2,"font-size","14px"],[1,"col-md-12"],["style","display: inline-block;",4,"ngIf"],[1,"point-view-score"],["class","text-danger mr-3",4,"ngIf"],[2,"display","inline-block"],[1,"score-text"],["class","score",4,"ngIf"],[1,"score"],["class","score-text",4,"ngIf"],[1,"text-danger","mr-3"],[1,"point-view"],[1,"btn","btn-warning",2,"color","white","font-size","14px",3,"click"]],template:function(e,i){if(1&e&&(t._UZ(0,"header-frontend",0),t.ALo(1,"mytranslate"),t.YNc(2,Kt,1,0,"azt-loading-effect",1),t.YNc(3,fe,5,2,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(4);t.Q6J("headerTitle",t.lcZ(1,4,"lang_auto_nop_bai"))("headerBackTolink",i.backToLink),t.xp6(2),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[f.O5,H.a8,V.Hw,G.Q,W.d,v.bT,v.fV,v.sA,v.G0],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.view-full-screen[_ngcontent-%COMP%]{margin-top:20px}.title-header[_ngcontent-%COMP%]{text-align:center;padding-top:30px}.title-content[_ngcontent-%COMP%]{justify-content:center;padding:30px 0 0}.point-view[_ngcontent-%COMP%]{text-align:center;padding-bottom:30px}.point-view[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700;padding-bottom:20px}.score-text[_ngcontent-%COMP%]{font-weight:600}.point-view-score[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;color:red;font-weight:700}.box-slide-show[_ngcontent-%COMP%]{width:100%;background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:5px}.box[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:240px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}@media screen and (max-width: 576px){.box[_ngcontent-%COMP%]{justify-content:flex-start}}"]}),n})();var ve=d(99568),be=d(20259),ht=d(92340),lt=d(70655),ft=d(40520),O=d(51442),Te=d(42466),xt=d(58326),we=d(12813),rt=d(35191),Ce=d(69287),Y=d(47423),B=d(87238);const ye=["customCard"],Se=["fileSelect"];function Oe(n,s){1&n&&(t.TgZ(0,"p",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_bai_lam_dang_duoc_tai_len_vui_long_doi_trong_giay_lat")))}function Ze(n,s){1&n&&(t.TgZ(0,"p",16),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_dang_dong_bo_du_lieu_vui_long_doi_trong_giay_lat")))}function ke(n,s){if(1&n&&(t.TgZ(0,"div",13)(1,"span"),t._UZ(2,"span",14),t.qZA(),t._UZ(3,"br"),t.YNc(4,Oe,3,3,"p",15),t.YNc(5,Ze,3,3,"p",15),t.qZA()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",!e.Tmploading),t.xp6(1),t.Q6J("ngIf",e.Tmploading)}}const Ae=function(n){return{"width.%":n}};function Ie(n,s){if(1&n&&(t.TgZ(0,"div",19)(1,"p",20),t._uU(2),t.qZA(),t.TgZ(3,"div",21),t._UZ(4,"div",22),t.qZA()()),2&n){const e=s.$implicit;t.xp6(2),t.Oqu(e.fileName),t.xp6(2),t.Q6J("ngStyle",t.VKq(2,Ae,e.uploadProgress))}}function Me(n,s){if(1&n&&(t.TgZ(0,"div",17),t.YNc(1,Ie,5,4,"div",18),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.convertObjToArray(e.fileUploadQueue))}}function Ee(n,s){if(1&n&&(t.TgZ(0,"div"),t._UZ(1,"img",33),t.ALo(2,"safe"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.url||""),t.LSH)}}function je(n,s){if(1&n&&(t._UZ(0,"img",33),t.ALo(1,"safe")),2&n){const e=t.oxw().$implicit;t.Q6J("src",t.lcZ(1,1,e.thumb||""),t.LSH)}}function qe(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",34),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(3);return t.KtG(a.removeImg(o.url||""))}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA()()}}function Pe(n,s){1&n&&(t.TgZ(0,"span",35)(1,"mat-icon",36),t._uU(2,"check_box_outline"),t.qZA()())}function Fe(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,Ee,3,3,"div",26),t.YNc(2,je,2,3,"ng-template",null,27,t.W1O),t.TgZ(4,"a",28)(5,"mat-icon",29),t._uU(6,"attach_file"),t.qZA(),t.TgZ(7,"span",30),t._uU(8),t.qZA()(),t.YNc(9,qe,3,0,"span",31),t.YNc(10,Pe,3,0,"span",32),t.qZA()),2&n){const e=s.$implicit,i=t.MAs(3),o=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0==o.isVideo(e.mimes||""))("ngIfElse",i),t.xp6(6),t.Q6J("matTooltip",e.name||""),t.xp6(1),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",1!=o.isSuccess),t.xp6(1),t.Q6J("ngIf",o.isSuccess)}}function Le(n,s){if(1&n&&(t.TgZ(0,"div",23),t.YNc(1,Fe,11,6,"div",24),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.uploadFiles)}}function Ue(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.openSelectFile())}),t.TgZ(1,"a",38)(2,"mat-icon"),t._uU(3,"upload_file"),t.qZA()(),t._UZ(4,"br"),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t._UZ(8,"br"),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA(),t.TgZ(12,"form",39)(13,"input",40,41),t.NdJ("change",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.selectFile(o))}),t.qZA()()()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Oqu(t.lcZ(7,3,"lang_auto_upload_file_bai_lam_cua_ban")),t.xp6(4),t.Oqu(t.lcZ(11,5,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets")),t.xp6(2),t.Q6J("formGroup",e.form)}}function Ne(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",42),t._UZ(1,"hr"),t.TgZ(2,"div",43)(3,"div",44),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"p",45),t._uU(7," **(Vui l\xf2ng kh\xf4ng t\u1eaft b\u1ea3ng n\xe0y khi n\u1ed9p b\u1eb1ng \u0111i\u1ec7n tho\u1ea1i)** "),t.qZA(),t.TgZ(8,"div",46)(9,"div",47)(10,"p",48)(11,"strong"),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t._UZ(16,"div",49),t.qZA()(),t.TgZ(17,"div",50)(18,"p",48)(19,"strong"),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t._uU(22),t.ALo(23,"mytranslate"),t.qZA(),t.TgZ(24,"p",51)(25,"span",52),t._uU(26),t.qZA(),t.TgZ(27,"mat-icon",53),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clickCopyLink())}),t._uU(28,"file_copy"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,7,"lang_auto_hoac_nop_bang_dien_thoai")),t.xp6(8),t.hij("",t.lcZ(13,9,"lang_auto_cach_1"),":"),t.xp6(2),t.hij(" ",t.lcZ(15,11,"lang_auto_su_dung_dien_thoai_quet_ma_qrcode_duoi_day_de_tai_bai_thi_tu_luan_len")," "),t.xp6(6),t.hij("",t.lcZ(21,13,"lang_auto_cach_2"),":"),t.xp6(2),t.hij(" ",t.lcZ(23,15,"lang_auto_vao_trinh_duyet_bang_dien_thoai_truy_cap_duong_dan_sau_de_tai_bai_thi_tu_luan_len"),""),t.xp6(4),t.Oqu(e.urlUploadImage),t.xp6(1),t.Q6J("cdkCopyToClipboard",e.copylinkToClipboard(e.urlUploadImage))}}function Qe(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",14),t._uU(2,"\xa0"),t.qZA())}function Je(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",null,2)(3,"div",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.qZA(),t.TgZ(4,"mat-card",4)(5,"mat-card-content"),t.YNc(6,ke,6,2,"div",5),t.YNc(7,Me,2,1,"div",6),t.YNc(8,Le,2,1,"div",7),t.YNc(9,Ue,15,7,"div",8),t.YNc(10,Ne,29,17,"div",9),t.TgZ(11,"div",10)(12,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.saveFileConf())}),t.YNc(13,Qe,3,0,"span",12),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.uploadFiles.length>0),t.xp6(1),t.Q6J("ngIf",!e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!e.data.isMobile),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(15,8,"lang_auto_xac_nhan_upper")," ")}}let vt=(()=>{class n extends y.Q{constructor(e,i,o,a,_,l,r,m){super(i),this.fb=e,this.commonService=i,this.translate=o,this.myPdfService=a,this.apiUploadService=_,this.frontExamService=l,this.frontExamResultUploadService=r,this.homeworkExamService=m,this.data={},this.hashCode="",this.isOnSelectFile=new t.vpe,this.closeDialog=new t.vpe,this.addFileMobile=new t.vpe,this.subscriptions=new q.w,this.form=new u.nJ({}),this.uploadFiles=[],this.files=[],this.timeCount=0,this.isSubmit=!1,this.isSuccess=!1,this.onSelectFile=!1,this.isCallFullScreenOnce=!1,this.fileUploadQueue={},this.uploadCount=0,this.urlUploadImage="",this.userAgent="",this.cur_language=this.commonService.getCurrentLang(),this.intervalGetInfoUpload=0,this.isUploadedPdf=!1,this.isOnSync=!1,this.Tmploading=!1,this.uploadFile=(c,p)=>{this.isSubmit=!1,((0,O.Or)(c.type)||(0,O.Wv)(c.type)||(0,O.F0)(c.type)||(0,O._4)(c.type)||(0,O.D_)(c.type))&&(0,O.hv)(c).then(h=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(h).subscribe(g=>{var x,T;if(g.type!=ft.dt.UploadProgress)1==g.success?(delete this.fileUploadQueue[p],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},g.data)),this.stopStatusObj(),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack("lang_auto_khong_upload_duoc_anh_ten: "+c.name+"lang_auto__brackets_vui_long_thu_lai_sau_loi__split_lang"+g.message),this.commonService.gaEvent("FrontExam_UploadError"));else{var I=Math.round(null!==(x=g.loaded)&&void 0!==x?x:0/(null!==(T=g.total)&&void 0!==T?T:1)*100);this.fileUploadQueue.hasOwnProperty(p)?(this.fileUploadQueue[p].uploadProgress=I,this.fileUploadQueue[p].fileName=c.name):this.fileUploadQueue[p]={uploadProgress:0,fileName:c.name}}})})},this.selectFile=c=>(0,lt.mG)(this,void 0,void 0,function*(){let g=c.target.files;try{for(var x in g)if("length"!=x&&"item"!=x)if((0,O.zQ)(g[x].type))if((0,O.EO)(g[x].size)<=200)if(this.answerFile=g?g[x]:this.answerFile,(0,O._4)(g[x].type)){this.isUploadedPdf=!0,this.initStatusObj();var T=yield this.myPdfService.getImageWithPdf(g[x]);this.answerFile=g?g[x]:this.answerFile,this.uploadFilesFunc(T,this.uploadCount),this.uploadCount+=1}else this.answerFile&&(this.isSuccess=!1,this.initStatusObj(),(0,O.Wv)(g[x].type)?this.uploadFileVideo(this.answerFile,this.uploadCount):this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.showErrorSnack("lang_auto_mb_vui_long_chon_file_khong_qua_200_mb");else this.showErrorSnack("lang_auto__vui_long_chon_tep_tin_anh_video_chua_ho_tro_wmv_brackets_audio_hoac_file_pdf");c.target.setAttribute("value",""),this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1)}catch(I){this.goBackFullScreen(),this.onSelectFile=!1,this.isOnSelectFileEmit(!1)}}),this.uploadFileVideo=(c,p)=>(0,lt.mG)(this,void 0,void 0,function*(){this.subscriptions.add(this.apiUploadService.uploadToVimeoProgress("front_exam",c,void 0).subscribe(h=>{var g;h.isOnProgress?this.fileUploadQueue.hasOwnProperty(p)?(this.fileUploadQueue[p].uploadProgress=Math.round(null!==(g=h.percentage)&&void 0!==g?g:0),this.fileUploadQueue[p].fileName=c.name):this.fileUploadQueue[p]={uploadProgress:0,fileName:c.name}:1==h.success?(delete this.fileUploadQueue[p],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.addFileWithProsess(Object.assign(Object.assign({},h.data),{lastModified:c.lastModified})),this.updateFileUploadMobile(!1)):(this.stopStatusObj(),this.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau"))}))}),this.uploadFilesFunc=(c,p)=>(0,lt.mG)(this,void 0,void 0,function*(){for(let h=0;h<c.length;h++){const g=c[h];yield(0,O.hv)(g).then(x=>{this.apiUploadService.uploadToCdnProgressForFrontendExam(x).subscribe(T=>{T.type!=ft.dt.UploadProgress&&(1==T.success?(delete this.fileUploadQueue[p],Array.isArray(this.uploadFiles)||(this.uploadFiles=[]),this.uploadFiles.push(Object.assign({},T.data)),h===c.length-1&&this.updateFileUploadMobile(!1).then(()=>{this.successStatusObj(),this.isUploadedPdf=!1})):(this.stopStatusObj(),this.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau")))})})}}),this.answerFile=null}copylinkToClipboard(e){return e}clickCopyLink(){this.showSuccessSnack("lang_auto_copy_link_thanh_cong")}isOnSelectFileEmit(e){this.isOnSelectFile.emit(e)}goBackFullScreen(){const e=document.documentElement;let i=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;i&&!this.isCallFullScreenOnce&&this.data.isMonitor&&(i.call(e),this.isCallFullScreenOnce=!0)}saveFile(){this.closeDialog.emit({isConfirm:!0,uploadFiles:this.uploadFiles})}saveFileConf(){!0===this.statusObj.loading||this.convertObjToArray(this.fileUploadQueue).length>0?this.commonService.getTranslate("lang_auto_sync_file_to_system_please_waiting").subscribe(e=>{this.commonService.snackWarning(e,"")}):this.saveFile()}replaceRequestGetInfoUpload(e){var i=this,o=e;this.intervalGetInfoUpload=window.setInterval(()=>{!1===i.isUploadedPdf&&i.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(i.hashCode).subscribe(a=>{var _,l,r;if(1==a.success){var m=i.commonService.myParseJson(null!==(r=null===(l=null===(_=a.data)||void 0===_?void 0:_.tmpObj)||void 0===l?void 0:l.files)&&void 0!==r?r:""),c=!1;(m=null!=m?m:[]).length!=i.uploadFiles.length?c=!0:m.length>0&&m.forEach(p=>{-1===i.uploadFiles.findIndex(h=>h.path==p.path)&&(c=!0)}),!0===c&&(0==i.isOnSync||o)&&i.addFileMobile.emit({files:m,keepOpen:!0}),o&&(i.uploadFiles=m,i.updateFileUploadMobile(!0),o=!1),i.Tmploading=!1,i.stopStatusObj()}else i.showErrorSnack("lang_auto_dong_bo_du_lieu_khong_thanh_cong_vui_long_an_f5_hoac_tai_lai_trang"),i.Tmploading=!1,i.stopStatusObj()})},3e3),this.commonService.gaEvent("FrontExam_GetTmpUploadObj")}updateFileUploadMobile(e){return new Promise(i=>{this.initStatusObj(),this.Tmploading=null!=e&&e,this.isOnSync=!0,this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost({hashCode:this.hashCode,files:JSON.stringify(this.uploadFiles)}).subscribe(o=>{1==o.success?(this.stopStatusObj(),this.Tmploading=!1,this.isOnSync=!1,i(!0)):(this.stopStatusObj(),this.Tmploading=!1)})})}openSelectFile(){var e;this.Tmploading||(this.isOnSelectFileEmit(!0),this.isCallFullScreenOnce=!1,this.onSelectFile=!0,null===(e=this.fileSelect)||void 0===e||e.nativeElement.click())}onFocus(e){this.onSelectFile&&(null==this.answerFile||0==this.uploadFiles.length)&&(this.goBackFullScreen(),this.isCallFullScreenOnce=!1,this.onSelectFile=!1,this.isOnSelectFileEmit(!1))}addFileWithProsess(e){e&&this.uploadFiles.push(e);for(let i=0;i<this.uploadFiles.length;i++)this.uploadFiles[i].lastModified||(this.uploadFiles[i].lastModified=(new Date).getTime()),this.uploadFiles[i].thumb||(this.uploadFiles[i].thumb=this.homeworkExamService.getThumbWithObj(this.uploadFiles[i]));this.uploadFiles.sort((i,o)=>{var a,_;return(null!==(a=i.lastModified)&&void 0!==a?a:0)-(null!==(_=o.lastModified)&&void 0!==_?_:0)})}bindUrlToQrCode(e){var o=`${this.commonService.getCurrentDomain()}/n/${e}`;this.urlUploadImage=o,this.commonService.createObjectQrcode(o,128,128,"url",!1,"qrcode_making")}onGlobalClick(e){var i;null!==(i=this.customCard)&&void 0!==i&&i.nativeElement.contains(e.target)||this.closeDialog.emit(!1)}isVideo(e){return/^(?:video)/i.test(e)}convertObjToArray(e){var i=[];for(var o in e)i.push(e[o]);return i}removeImg(e){var i=this.uploadFiles.filter(o=>o.url!==e);this.uploadFiles=i,this.updateFileUploadMobile(!0)}ngOnChanges(){this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files)}ngOnInit(){setTimeout(()=>{this.data.isMobile||this.bindUrlToQrCode(this.hashCode),this.initStatusObj(),this.Tmploading=!0,this.replaceRequestGetInfoUpload(!0)},100),this.form=this.fb.group({file_data:new u.p4("",u.kI.required),file:new u.p4("",u.kI.required)}),this.data.files&&this.data.files.length>0&&(this.uploadFiles=this.data.files),this.data.isMobile&&(this.userAgent=navigator.userAgent),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),this.intervalGetInfoUpload&&clearInterval(this.intervalGetInfoUpload),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.QS),t.Y36(S.v),t.Y36(Te.sK),t.Y36(xt.t),t.Y36(we.$),t.Y36(j.Tg),t.Y36(j.vO),t.Y36(rt.j))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload-image"]],viewQuery:function(e,i){if(1&e&&(t.Gf(ye,5),t.Gf(Se,5)),2&e){let o;t.iGM(o=t.CRH())&&(i.customCard=o.first),t.iGM(o=t.CRH())&&(i.fileSelect=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("focus",function(a){return i.onFocus(a)},!1,t.Jf7)("mousedown",function(a){return i.onGlobalClick(a)},!1,t.evT)},inputs:{data:"data",hashCode:"hashCode"},outputs:{isOnSelectFile:"isOnSelectFile",closeDialog:"closeDialog",addFileMobile:"addFileMobile"},features:[t.qOj,t.TTD],decls:1,vars:1,consts:[["class","uploadDialog",4,"ngIf"],[1,"uploadDialog"],["customCard",""],[1,"bg-overbackground",3,"click"],[1,"customCard"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container","style","padding-left: 15px;padding-right: 15px;",4,"ngIf"],["class","upload-box ml-auto mr-auto text-center clickable p-3 no-select",3,"click",4,"ngIf"],["class","upload-qr-box",4,"ngIf"],[1,"btn-conFirm","mt-2","text-center"],["mat-raised-button","",1,"save_btn",3,"disabled","click"],[4,"ngIf"],[1,"text-center","m-4"],["role","status",1,"spinner-border","spinner-border-sm"],["class","h5",4,"ngIf"],[1,"h5"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container",2,"padding-left","15px","padding-right","15px"],["class","col-6 col-sm-6 col-md-4","style","border: 1px solid #e0e0e0;",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4",2,"border","1px solid #e0e0e0"],[4,"ngIf","ngIfElse"],["video",""],["target","_blank",1,"clickable",2,"display","flex","margin-top","3px","font-size","14px"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6","max-width","75%",3,"matTooltip"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge",4,"ngIf"],[2,"width","80%",3,"src"],[1,"notify-badge",3,"click"],[1,"notify-badge"],[2,"color","rgb(26,188,0)"],[1,"upload-box","ml-auto","mr-auto","text-center","clickable","p-3","no-select",3,"click"],["id","select-upload-file",1,"align-self-center","select","clickable"],[3,"formGroup"],["type","file","id","file_select","multiple","",1,"form-control","d-none",3,"change"],["fileSelect",""],[1,"upload-qr-box"],[2,"display","flex","justify-content","center","align-items","center"],[2,"background","#eeeeee","margin-top","-33px","padding","0 10px","color","#44beb5","text-transform","uppercase","font-size","16px"],[1,"mb-0","pb-0",2,"font-size","14px","text-align","center","color","#ff0022d2"],[1,"upload-qr-box-item"],[1,"upload-qr-box-item-content"],[2,"font-size","14px"],["id","qrcode_making",1,"upload-qr-box-item-content-qr"],[1,"upload-qr-box-url"],[1,"upload-qr-box-url-link"],[2,"vertical-align","middle"],["matTooltip","COPY LINK",1,"clickable",2,"vertical-align","middle","float","right","height","20px","font-size","20px",3,"cdkCopyToClipboard","click"]],template:function(e,i){1&e&&t.YNc(0,Je,16,10,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[f.sg,f.O5,f.PC,Ce.i3,Y.lW,H.a8,H.dn,V.Hw,B.gM,u._Y,u.JL,u.sg,v.bT,v.yl],styles:[".uploadDialog[_ngcontent-%COMP%]{width:40%;position:fixed;z-index:89;right:10px;top:10px}.customCard[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgb(255,255,255) 0%,rgb(242,242,242) 0%,rgb(228,228,228) 100%,rgb(255,255,255) 100%);box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;box-shadow:5px 5px 5px #00000059;height:97vh;overflow:auto}.file-input[_ngcontent-%COMP%]{visibility:hidden}.upload-box[_ngcontent-%COMP%]{border-width:1px;border-style:solid;border-color:#e6e6e6;border-radius:5px;background-color:#fff;max-width:70%;margin-bottom:1rem}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#fff;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8;height:200px;overflow-y:auto}.save_btn[_ngcontent-%COMP%]{background:inherit;background-color:#169bd5;border:none;border-radius:5px;box-shadow:none;color:#fff}@media (max-width: 1200px){.uploadDialog[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:80%;margin-left:auto;border-radius:5px;margin-right:auto;box-shadow:0 0 13px 3px #00000094}}.upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:white;padding:5px;border-radius:5px}@media (max-width: 1200px){.bg-overbackground[_ngcontent-%COMP%]{display:none}}.bg-overbackground[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#000000a3}.no-select[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}"]}),n})();var bt=d(90893),De=d(54569),Ye=d(64262),ze=d(61828),Tt=d(80383),wt=d(15043),He=d(56308),Re=d(54729),Ct=d(2366),yt=d(72491),St=d(88974),Ge=d(88386),Be=d(61886),Ke=d(88161),$e=d(22863),Ot=d(53251),We=d(62e3),Ve=d(81903),Xe=d(69692),tn=d(58410),en=d(73852);function nn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.removeImg(o.url))}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA(),t._uU(3,"\xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()}}function on(n,s){1&n&&(t.TgZ(0,"span",19)(1,"mat-icon",20),t._uU(2,"check_box"),t.qZA()())}const an=function(n){return{padding:n}};function sn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"a",5)(2,"div",6)(3,"div",7)(4,"img",8),t.NdJ("click",function(o){const _=t.CHM(e).$implicit,l=t.oxw(2);return t.KtG(l.onShowFile(o,_,-1))}),t.ALo(5,"mycdn"),t.qZA()(),t.TgZ(6,"div",9)(7,"div",10)(8,"mat-icon",11),t.NdJ("click",function(){const a=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArray(_.answerFiles,a,a-1))}),t.ALo(9,"mytranslate"),t._uU(10,"keyboard_arrow_left"),t.qZA(),t.TgZ(11,"mat-icon",12),t.NdJ("click",function(){const a=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArray(_.answerFiles,a,a-1))}),t.ALo(12,"mytranslate"),t._uU(13,"arrow_upward"),t.qZA()(),t.TgZ(14,"div",13),t._uU(15," Trang "),t.TgZ(16,"input",14),t.NdJ("keyup.enter",function(o){const _=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.switchAttributeArrayInput(_,o))})("change",function(o){const _=t.CHM(e).index,l=t.oxw(2);return t.KtG(l.switchAttributeArrayInput(_,o))}),t.qZA()(),t.TgZ(17,"div",15)(18,"mat-icon",11),t.NdJ("click",function(){const a=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArray(_.answerFiles,a,a+1))}),t.ALo(19,"mytranslate"),t._uU(20,"keyboard_arrow_right"),t.qZA(),t.TgZ(21,"mat-icon",12),t.NdJ("click",function(){const a=t.CHM(e).index,_=t.oxw(2);return t.KtG(_.switchAttributeArray(_.answerFiles,a,a+1))}),t.ALo(22,"mytranslate"),t._uU(23,"arrow_downward"),t.qZA()()()()(),t.YNc(24,nn,4,0,"span",16),t.YNc(25,on,3,0,"span",17),t.qZA()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(2);t.xp6(4),t.Q6J("src",t.lcZ(5,11,o.checkLinkThumb(e)),t.LSH),t.xp6(4),t.s9C("matTooltip",t.lcZ(9,13,"lang_auto_di_chuyen_ra_phia_truoc")),t.xp6(3),t.s9C("matTooltip",t.lcZ(12,15,"lang_auto_di_chuyen_len_phia_tren")),t.xp6(3),t.Q6J("ngStyle",t.VKq(21,an,"5px 30px")),t.xp6(2),t.s9C("id","input_page_"+i),t.s9C("max",o.answerFiles.length+1),t.s9C("value",i+1),t.xp6(2),t.s9C("matTooltip",t.lcZ(19,17,"lang_auto_di_chuyen_ra_phia_sau")),t.xp6(3),t.s9C("matTooltip",t.lcZ(22,19,"lang_auto_di_chuyen_xuong_phia_duoi")),t.xp6(3),t.Q6J("ngIf",!e.uploadSuccess),t.xp6(1),t.Q6J("ngIf",e.uploadSuccess)}}function _n(n,s){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,sn,26,23,"div",3),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.answerFiles)}}const ln=function(n){return{"custom-width-list":n}};let rn=(()=>{class n extends y.Q{constructor(e,i,o,a,_){super(o),this.fb=e,this.myPdfService=i,this.commonService=o,this.homeworkExamService=a,this.cdnService=_,this.answerFiles=[],this.isTesting=!1,this.onMobile=!1,this.showList=!1,this.emitDataBack=new t.vpe,this.changesPosImg=new t.vpe,this.previewFile=new t.vpe,this.removeFile=new t.vpe,this.form=new u.nJ({}),this.uploadCount=0,this.answerFile=[],this.countUpload=1,this.selectFile=l=>(0,lt.mG)(this,void 0,void 0,function*(){let c=l.target.files;try{for(var p in c)"length"!=p&&"item"!=p&&((0,O.z_)(c[p].type)?(0,O.EO)(c[p].size)<=200?(this.initStatusObj(),(0,O._4)(c[p].type)?(this.answerFile=c?c[p]:this.answerFile,this.uploadCount+=1):(this.answerFile=c?c[p]:this.answerFile,this.answerFile&&(this.stopStatusObj(),(0,O.Wv)(c[p].type)&&(this.countUpload=0),this.uploadCount+=1))):this.commonService.snackError("Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB",""):this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF",""));l.target.value=""}catch(h){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+h)}})}addFileWithProsess(){for(let e=0;e<this.answerFiles.length;e++)this.answerFiles[e].lastModified||(this.answerFiles[e].lastModified=(new Date).getTime()),this.answerFiles[e].thumb||(this.answerFiles[e].thumb=this.homeworkExamService.getThumbWithObj(this.answerFiles[e]));this.answerFiles.sort((e,i)=>e.lastModified&&i.lastModified?e.lastModified-i.lastModified:0)}removeImg(e){var i=this.answerFiles.filter(o=>o.url!==e);this.answerFiles=i,this.removeFile.emit(e)}onShowFile(e,i,o){this.previewFile.emit({ev:e,file:i,index:o})}switchAttributeArray(e,i,o){if(!(this.answerFiles.length<=i||this.answerFiles.length<=o||i<0||o<0)){var a=this.commonService.myClone(this.answerFiles[i]);this.answerFiles[i]=this.commonService.myClone(this.answerFiles[o]),this.answerFiles[o]=this.commonService.myClone(a),this.changesPosImg.emit(this.answerFiles)}}switchAttributeArrayInput(e,i){var o=Number(i.target.value)-1;o<=0?o=0:o>=this.answerFiles.length&&(o=this.answerFiles.length),this.answerFiles.splice(o,0,this.answerFiles.splice(e,1)[0]),this.changesPosImg.emit(this.answerFiles)}checkLinkThumb(e){return"officeapps"===this.getFileTypeString(e.extension)?this.cdnService.convertLinkCdn("azota_assets/images/file.png"):e.thumb}getFileTypeString(e){if(e){if((0,O.Or)(e))return"image";if((0,O._4)(e))return"pdf";if((0,O.Wv)(e))return"video";if((0,O.F0)(e))return"audio"}return"image"}ngOnChanges(){this.answerFiles&&this.addFileWithProsess()}ngOnInit(){this.form=this.fb.group({file_data:new u.p4("",u.kI.required),file_capture:new u.p4("",u.kI.required),file:new u.p4("",u.kI.required)}),this.addFileWithProsess()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.QS),t.Y36(xt.t),t.Y36(S.v),t.Y36(rt.j),t.Y36(wt.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-upload-ui"]],inputs:{answerFiles:"answerFiles",isTesting:"isTesting",onMobile:"onMobile",showList:"showList"},outputs:{emitDataBack:"emitDataBack",changesPosImg:"changesPosImg",previewFile:"previewFile",removeFile:"removeFile"},features:[t.qOj,t.TTD],decls:2,vars:5,consts:[[1,"form-horizontal","text-center",3,"formGroup","ngClass"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-12 col-sm-12 col-md-4 col-xl-3 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-xl-3","col-lg-3"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px"],[1,"box_image_answer"],[1,"box_image_answer_content"],[2,"image-orientation","from-image",3,"src","click"],[1,"box_image_answer_control"],[1,"icon-prev"],["matTooltipPosition","below",1,"box_image_answer_pc",3,"matTooltip","click"],["matTooltipPosition","below",1,"box_image_answer_mobile",3,"matTooltip","click"],[1,"page-number",3,"ngStyle"],["type","number","min","1",1,"input-page","text-center",3,"id","max","value","keyup.enter","change"],[1,"icon-next"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge notify-suss",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge","notify-suss"],[2,"color","rgb(26, 188, 0)"]],template:function(e,i){1&e&&(t.TgZ(0,"form",0),t.YNc(1,_n,2,1,"div",1),t.qZA()),2&e&&(t.Q6J("formGroup",i.form)("ngClass",t.VKq(3,ln,i.isTesting&&!i.onMobile&&i.showList)),t.xp6(1),t.Q6J("ngIf",i.answerFiles.length>0))},dependencies:[f.mk,f.sg,f.O5,f.PC,V.Hw,B.gM,u._Y,u.JL,u.sg,v.bT,v.GT],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.files[_ngcontent-%COMP%]{cursor:pointer}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px;line-height:1;width:50px}.input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width: 768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width: 576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.custom-width-list[_ngcontent-%COMP%]{max-width:83%}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s;width:100%}.box_image_answer_content[_ngcontent-%COMP%]{min-height:288px;border:1px solid #03a7d0}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.box_image_answer_control[_ngcontent-%COMP%]{background:white;width:100%;border:1px solid #03a7d0;border-top:none;position:relative;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;left:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:50%;right:0;margin-top:-12px}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]}),n})();var cn=d(62201);const mn=["myDialogConfirmExam"];function dn(n,s){1&n&&(t.TgZ(0,"span"),t._uU(1,"\xa0"),t._UZ(2,"span",11),t.qZA())}function pn(n,s){if(1&n&&(t.TgZ(0,"span",12),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_loi"),": ",t.lcZ(3,4,e.data.messageError),"")}}function un(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",11),t._uU(2,"\xa0"),t.qZA())}function gn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.btnCloseDialog())}),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.confirmFinish())}),t.YNc(6,un,3,0,"span",9),t._uU(7),t.ALo(8,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_dong")," "),t.xp6(2),t.Q6J("disabled",e.countTimeEnable),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(8,6,"lang_auto_gui_lai")," ")}}function hn(n,s){if(1&n&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,dn,3,0,"span",9),t.YNc(5,pn,4,6,"span",10),t._UZ(6,"br"),t.YNc(7,gn,9,8,"div",6),t.qZA()),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_bai_lam_cua_ban_dang_duoc_tu_dong_nop_len_he_thong_vui_long_doi_trong_giay_lat")," "),t.xp6(2),t.Q6J("ngIf",!e.data.saveFalse),t.xp6(1),t.Q6J("ngIf",e.data.saveFalse&&e.data.messageError),t.xp6(2),t.Q6J("ngIf",e.data.autoSubmit&&e.data.saveFalse)}}function fn(n,s){1&n&&(t.TgZ(0,"p",22),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_ban_chua_nop_file_tu_luan_nao_ban_co_chac_muon_ket_thuc_bai_thi")," "))}function xn(n,s){1&n&&(t.TgZ(0,"p",23),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," "))}function vn(n,s){if(1&n&&(t.TgZ(0,"div",7)(1,"p",18),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"p",8)(5,"span",19),t._uU(6),t.qZA(),t._uU(7," : "),t.TgZ(8,"span",19),t._uU(9),t.qZA(),t._uU(10," : "),t.TgZ(11,"span",19),t._uU(12),t.qZA()(),t.YNc(13,fn,3,3,"p",20),t.YNc(14,xn,3,3,"ng-template",null,21,t.W1O),t.qZA()),2&n){const e=t.MAs(15),i=t.oxw(3);let o,a,_;t.xp6(2),t.Oqu(t.lcZ(3,6,"lang_auto_thoi_gian_lam_bai_cua_ban_con")),t.xp6(4),t.hij(" ",(null!==(o=i.timeCount.hour)&&void 0!==o?o:0)>9?i.timeCount.hour:"0"+i.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(a=i.timeCount.minute)&&void 0!==a?a:0)>9?i.timeCount.minute:"0"+i.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(_=i.timeCount.second)&&void 0!==_?_:0)>9?i.timeCount.second:"0"+i.timeCount.second," "),t.xp6(1),t.Q6J("ngIf",i.data.notHasFiles)("ngIfElse",e)}}function bn(n,s){1&n&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_het_gio_nhan_vao"),' "',t.lcZ(4,5,"lang_auto_hoan_thanh"),'" ',t.lcZ(5,7,"lang_auto_de_gui_bai_thi_cua_ban")," "))}function Tn(n,s){1&n&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," "))}function wn(n,s){1&n&&(t.TgZ(0,"div",7)(1,"p",8),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_bai_thi_nay_chi_duoc_thi_mot_lan")," "))}function Cn(n,s){if(1&n&&(t.YNc(0,vn,16,8,"div",17),t.YNc(1,bn,6,9,"div",17),t.YNc(2,Tn,4,3,"div",17),t.YNc(3,wn,4,3,"div",17)),2&n){const e=t.oxw(2);t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.data.time&&e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",null==e.data.time)}}function yn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",14)(1,"button",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.btnCloseDialog())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_huy")," "))}function Sn(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",11),t._uU(2,"\xa0"),t.qZA())}function On(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",13),t.YNc(1,yn,4,3,"div",24),t.TgZ(2,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmFinish())}),t.YNc(3,Sn,3,0,"span",9),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(1),t.Q6J("disabled",e.countTimeEnable),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading||e.data.notHasFiles&&e.countTimeEnable),t.xp6(1),t.hij(" ",t.lcZ(5,4,"lang_auto_hoan_thanh")," ")}}function Zn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,hn,8,6,"div",4),t.YNc(4,Cn,4,4,"ng-template",null,5,t.W1O),t.YNc(6,On,6,6,"div",6),t.qZA()()}if(2&n){const e=t.MAs(5),i=t.oxw();t.xp6(3),t.Q6J("ngIf",i.data.autoSubmit)("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",!i.data.autoSubmit)}}let kn=(()=>{class n extends y.Q{constructor(e){super(e),this.commonService=e,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.subscriptions=new q.w,this.form=new u.nJ({}),this.timeCount={hour:0,minute:0,second:0},this.countTimeEnable=!0}onGlobalClick(e){var i;null!==(i=this.myDialog)&&void 0!==i&&i.nativeElement.contains(e.target)||this.data.autoSubmit||this.closeDialog.emit()}confirmFinish(){this.redirectToHomepage.emit({isConfirm:!0,isAutoSubmit:this.data.autoSubmit,isSaveFalse:this.data.saveFalse})}setTimeExam(e){const i=Math.floor(e/3600),a=Math.floor(e%3600/60);this.timeCount={hour:i,minute:a,second:e%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){var e;this.data.unLimitTime||(this.setTimeExam(null!==(e=this.data.time)&&void 0!==e?e:0),0==this.data.time&&!this.data.autoSubmit&&setTimeout(()=>{this.confirmFinish()},5e3)),this.data.notHasFiles?setTimeout(()=>{this.countTimeEnable=!1},3e3):this.countTimeEnable=!1,this.data.saveFalse&&setTimeout(()=>{this.countTimeEnable=!1},2e3),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-comfirm-exam"]],viewQuery:function(e,i){if(1&e&&t.Gf(mn,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogConfirmExam",""],["class","text-center",4,"ngIf","ngIfElse"],["Normal",""],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[4,"ngIf"],["class","h5 text-danger",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5","text-danger"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],["class","text-center",4,"ngIf"],[1,"h5","para_respon","font-weight-normal"],[1,"ng-binding"],["class","h5 text-danger","style"," padding-bottom: 10px;",4,"ngIf","ngIfElse"],["normalConfirm",""],[1,"h5","text-danger",2,"padding-bottom","10px"],[1,"h5","text-info",2,"padding-bottom","10px"],["class","azt-block-button",4,"ngIf"]],template:function(e,i){1&e&&t.YNc(0,Zn,7,3,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[f.O5,Y.lW,v.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:98;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:99;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();const An=["myDialogExitExam"];function In(n,s){if(1&n&&(t.TgZ(0,"div",10)(1,"p",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"p",12)(5,"span",13),t._uU(6),t.qZA(),t._uU(7," : "),t.TgZ(8,"span",13),t._uU(9),t.qZA(),t._uU(10," : "),t.TgZ(11,"span",13),t._uU(12),t.qZA()(),t.TgZ(13,"p",14),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(2);let i,o,a;t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_auto_thoi_gian_lam_bai_cua_ban_con")),t.xp6(4),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," "),t.xp6(2),t.hij(" ",t.lcZ(15,7,"lang_auto_bai_lam_cua_ban_co_the_se_khong_duoc_ghi_nhan_ban_co_chac_muon_thoat_bai_thi")," ")}}function Mn(n,s){1&n&&(t.TgZ(0,"div",10)(1,"p",12),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.lnq(" ",t.lcZ(3,3,"lang_auto_het_gio_nhan_vao"),' "',t.lcZ(4,5,"lang_auto_hoan_thanh"),'" ',t.lcZ(5,7,"lang_auto_de_gui_bai_thi_cua_ban")," "))}function En(n,s){1&n&&(t.TgZ(0,"div",10)(1,"p",12),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_co_chac_muon_ket_thuc_bai_thi")," "))}function jn(n,s){1&n&&(t.TgZ(0,"div",10)(1,"p",12),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_bai_thi_nay_chi_duoc_thi_mot_lan")," "))}function qn(n,s){1&n&&(t.TgZ(0,"p",15),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_bai_lam_cua_ban_co_the_se_khong_duoc_ghi_nhan_ban_co_chac_muon_thoat_bai_thi")," "))}function Pn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.btnCloseDialog())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_huy")," "))}function Fn(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",18),t._uU(2,"\xa0"),t.qZA())}function Ln(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,In,16,9,"div",4),t.YNc(4,Mn,6,9,"div",4),t.YNc(5,En,4,3,"div",4),t.YNc(6,jn,4,3,"div",4),t.YNc(7,qn,3,3,"ng-template",null,5,t.W1O),t.TgZ(9,"div",6),t.YNc(10,Pn,4,3,"div",7),t.TgZ(11,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t.YNc(12,Fn,3,0,"span",9),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",(e.data.time||-1)>0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",(e.data.time||1)<=0&&!e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.data.time&&e.data.unLimitTime),t.xp6(1),t.Q6J("ngIf",null==e.data.time),t.xp6(4),t.Q6J("ngIf",(e.data.time||-1)>0||e.data.unLimitTime),t.xp6(2),t.Q6J("ngIf",!0===e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(14,7,"lang_auto_xac_nhan")," ")}}let Un=(()=>{class n extends y.Q{constructor(e){super(e),this.commonService=e,this.data={},this.closeDialog=new t.vpe,this.redirectToHomepage=new t.vpe,this.subscriptions=new q.w,this.form=new u.nJ({}),this.timeCount={hour:0,minute:0,second:0}}onGlobalClick(e){var i;null!==(i=this.myDialog)&&void 0!==i&&i.nativeElement.contains(e.target)||this.closeDialog.emit()}confirmQuit(){this.redirectToHomepage.emit(!0)}setTimeExam(e){const i=Math.floor(e/3600),a=Math.floor(e%3600/60);this.timeCount={hour:i,minute:a,second:e%60}}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){var e;this.setTimeExam(null!==(e=this.data.time)&&void 0!==e?e:0),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-exit-exam"]],viewQuery:function(e,i){if(1&e&&t.Gf(An,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog",redirectToHomepage:"redirectToHomepage"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogExitExam",""],["class","text-center",4,"ngIf"],["unLimit",""],[1,"d-flex","float-right","mt-3"],["class","azt-block-button",4,"ngIf"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"h5","text-danger",2,"padding-bottom","10px","border-bottom","1px solid #b2b4b7"],[1,"ng-binding"],[1,"h5","text-info",2,"padding-bottom","10px"],[1,"h5","text-danger",2,"padding-bottom","10px"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&t.YNc(0,Ln,15,9,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[f.O5,Y.lW,v.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();var Zt=d(41303),kt=d(42873),At=d(49692);const Nn=["myDialogSubmitName"];function Qn(n,s){1&n&&(t.TgZ(0,"p",10),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_lam_bai_thi")))}function Jn(n,s){1&n&&(t.TgZ(0,"p",10),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_xem_ket_qua_thi_offline")))}function Dn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",6),t.YNc(1,Qn,3,3,"p",7),t.YNc(2,Jn,3,3,"p",7),t.TgZ(3,"a",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToRegister())}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"p",9),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"a",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToLogin())}),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(1),t.Q6J("ngIf",2==e.type),t.xp6(2),t.Oqu(t.lcZ(5,5,"lang_auto_dang_ky")),t.xp6(3),t.Oqu(t.lcZ(8,7,"lang_auto_ban_da_co_tai_khoan")),t.xp6(3),t.Oqu(t.lcZ(11,9,"lang_auto_dang_nhap"))}}function Yn(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_yeu_cau_nhap_ho_ten")," "))}function zn(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,Yn,3,3,"div",24),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.getErrorType("fullName","required"))}}function Hn(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",26),t._uU(2,"\xa0"),t.qZA())}function Rn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"form",12)(1,"div",6)(2,"p",13),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"div",14)(6,"div",15)(7,"div",16),t._UZ(8,"input",17),t.ALo(9,"mytranslate"),t.qZA(),t.YNc(10,zn,2,1,"div",18),t.qZA()(),t.TgZ(11,"div",6)(12,"p",19),t._uU(13),t.ALo(14,"mytranslate"),t.TgZ(15,"a",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.registerAccount())}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()(),t.TgZ(20,"div",21),t._UZ(21,"div",22),t.TgZ(22,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.submitName())}),t.YNc(23,Hn,3,0,"span",24),t._uU(24),t.ALo(25,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(3),t.hij("",t.lcZ(4,10,"lang_auto_vui_long_nhap_ten_de_tiep_tuc_bai_thi")," "),t.xp6(5),t.s9C("placeholder",t.lcZ(9,12,"lang_auto_ho_va_ten")),t.xp6(2),t.Q6J("ngIf",e.form.controls.fullName.invalid&&e.form.controls.fullName.dirty),t.xp6(3),t.hij("",t.lcZ(14,14,"lang_auto_hoac_click_vao")," "),t.xp6(3),t.hij('"',t.lcZ(17,16,"lang_auto_dang_ky"),'"'),t.xp6(2),t.hij(" ",t.lcZ(19,18,"lang_auto_de_luu_lai_lich_su_lam_de_cua_ban"),""),t.xp6(4),t.Q6J("disabled",e.statusObj.loading||e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(25,20,"lang_auto_xac_nhan")," ")}}function Gn(n,s){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_yeu_cau_nhap_mat_khau")," "))}function Bn(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,Gn,3,3,"div",24),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.getErrorType("password","required"))}}function Kn(n,s){if(1&n&&(t.TgZ(0,"div",31)(1,"p",32),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(2),t.hij(" ",t.lcZ(3,1,e.data.errorMessage)," ")}}function $n(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",26),t._uU(2,"\xa0"),t.qZA())}function Wn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"form",12)(1,"div",6)(2,"p",27),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"p",28),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.TgZ(10,"div",14)(11,"div",15)(12,"div",16),t._UZ(13,"input",29),t.ALo(14,"mytranslate"),t.qZA(),t.YNc(15,Bn,2,1,"div",18),t.qZA()(),t.YNc(16,Kn,4,3,"div",30),t.TgZ(17,"div",21),t._UZ(18,"div",22),t.TgZ(19,"button",23),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.submitName())}),t.YNc(20,$n,3,0,"span",24),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()()()}if(2&n){const e=t.oxw(3);t.Q6J("formGroup",e.form),t.xp6(3),t.lnq("",t.lcZ(4,11,"lang_auto_yeu_cau"),' "',t.lcZ(5,13,"lang_auto_mat_khau"),'" ',t.lcZ(6,15,"lang_auto_de_tiep_tuc_bai_thi"),""),t.xp6(5),t.hij("",t.lcZ(9,17,"lang_auto_neu_ban_chua_co_mat_khau_cua_bai_thi_vui_long_lien_he_giao_vien_cua_ban")," "),t.xp6(5),t.s9C("placeholder",t.lcZ(14,19,"lang_auto_mat_khau_bai_thi")),t.xp6(2),t.Q6J("ngIf",e.form.controls.password.invalid&&e.form.controls.password.dirty),t.xp6(1),t.Q6J("ngIf",""!=e.data.errorMessage),t.xp6(3),t.Q6J("disabled",e.statusObj.loading||e.form.invalid),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(22,21,"lang_auto_xac_nhan")," ")}}function Vn(n,s){if(1&n&&(t.YNc(0,Rn,26,22,"form",11),t.YNc(1,Wn,23,23,"form",11)),2&n){const e=t.oxw(2);t.Q6J("ngIf",!e.data.needPassword),t.xp6(1),t.Q6J("ngIf",e.data.needPassword)}}function Xn(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"div",2,3),t.YNc(3,Dn,12,11,"div",4),t.YNc(4,Vn,2,2,"ng-template",null,5,t.W1O),t.qZA()()}if(2&n){const e=t.MAs(5),i=t.oxw();t.xp6(3),t.Q6J("ngIf",i.data.notAnonymous)("ngIfElse",e)}}let ti=(()=>{class n extends y.Q{constructor(e,i,o,a,_,l){super(o),this.userInfoService=e,this.fb=i,this.commonService=o,this.router=a,this.redirectService=_,this.browserStorageService=l,this.data={},this.type=1,this.closeDialog=new t.vpe,this.subscriptions=new q.w,this.form=new u.nJ({}),this.password=""}onGlobalClick(e){var i;null!==(i=this.myDialog)&&void 0!==i&&i.nativeElement.contains(e.target)||this.form.valid&&this.submitName()}submitName(){var e,i,o,a=this.commonService.getFormObj(this.form);if(this.data.needPassword)this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(i=null===(e=this.data.examId)||void 0===e?void 0:e.toString())&&void 0!==i?i:"",null!==(o=this.data.hashId)&&void 0!==o?o:""),this.browserStorageService.saveSimpleStorage("password_"+this.data.hashId,a.password.trim()),this.closeDialog.emit(!0);else{var _={id:0,name:a.fullName};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoChangeNamePost(_).subscribe(l=>{var r;1==l.success?(this.closeDialog.emit(!0),this.successStatusObj()):this.errorStatusObj(null!==(r=l.message)&&void 0!==r?r:"")}))}}getErrorType(e,i){var o,a;return!!(this.form.controls[e]&&this.form.controls[e].errors&&(null===(o=this.form.controls[e].errors)||void 0===o?void 0:o[i]))&&(null===(a=this.form.controls[e].errors)||void 0===a?void 0:a[i])}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToLogin(){let e=`${this.router.url}`;e=-1!==e.indexOf("?")?e.slice(0,e.indexOf("?")):e,this.redirectService.redirectToLoginBackLinkWithFromRegister(e)}registerAccount(){this.redirectService.redirectRegisterForStudent()}ngOnInit(){this.form=this.fb.group(this.data.needPassword?{password:new u.p4("",[u.kI.required,Zt._.noWhiteSpace])}:{fullName:new u.p4("",[u.kI.required,Zt._.noWhiteSpace])}),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j.$C),t.Y36(u.QS),t.Y36(S.v),t.Y36(M.F0),t.Y36(kt.V),t.Y36(it.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-submit-name"]],viewQuery:function(e,i){if(1&e&&t.Gf(Nn,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data",type:"type"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogSubmitName",""],["class","text-center",4,"ngIf","ngIfElse"],["allowAnonymous",""],[1,"text-center"],["class","mb-2 h5",4,"ngIf"],[1,"mb-0","h4","text-info","clickable",3,"click"],[1,"mb-2","h5","mt-4"],[1,"mb-2","h5"],["class","form-horizontal text-center",3,"formGroup",4,"ngIf"],[1,"form-horizontal","text-center",3,"formGroup"],[1,"h5","para_respon"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],[1,"h6","mb-0","mt-1","font-weight-normal"],[1,"clickable","text-primary",3,"click"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"h5","para_respon","font-weight-normal"],[1,"h6","para_respon","font-weight-normal","text-danger"],["type","text","formControlName","password",1,"form-control",3,"placeholder"],["class","text-center mb-1",4,"ngIf"],[1,"text-center","mb-1"],[1,"h5","text-danger"]],template:function(e,i){1&e&&t.YNc(0,Xn,6,2,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[f.O5,Y.lW,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,At.M,v.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();var ei=d(90508),ni=d(77446),It=d(67322),Mt=d(79814),ii=d(74107);const oi=["myDialogSubmitInfo"];function ai(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",13)(2,"div",14)(3,"span",15),t._uU(4),t.qZA()(),t._UZ(5,"input",16),t.qZA()()),2&n){const e=t.oxw(),i=e.$implicit,o=e.index;t.xp6(4),t.Oqu(i.title),t.xp6(1),t.MGl("formControlName","infoType_0_field_",o,"")}}function si(n,s){if(1&n&&(t.TgZ(0,"div",22)(1,"mat-checkbox",23)(2,"span",24),t._uU(3),t.qZA()()()),2&n){const e=s.$implicit,i=s.index,o=t.oxw(2).index,a=t.oxw(2);t.MGl("formArrayName","infoType_1_field_",o,""),t.xp6(1),t.Q6J("checked",a.form.value["infoType_1_field_"+o][i])("formControlName",i),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function _i(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),t._uU(4),t.qZA()()(),t.TgZ(5,"div",20),t.YNc(6,si,4,5,"div",21),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.title),t.xp6(2),t.Q6J("ngForOf",e.contents)}}function li(n,s){if(1&n&&(t.TgZ(0,"mat-radio-button",27)(1,"span",24),t._uU(2),t.qZA()()),2&n){const e=s.$implicit;t.Q6J("value",e),t.xp6(1),t.s9C("matTooltip",e),t.xp6(1),t.Oqu(e)}}function ri(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),t._uU(4),t.qZA()(),t.TgZ(5,"mat-radio-group",25),t.YNc(6,li,3,3,"mat-radio-button",26),t.qZA()()()),2&n){const e=t.oxw(),i=e.$implicit,o=e.index;t.xp6(4),t.Oqu(i.title),t.xp6(1),t.MGl("formControlName","infoType_2_field_",o,""),t.xp6(1),t.Q6J("ngForOf",i.contents)}}function ci(n,s){if(1&n&&(t.TgZ(0,"mat-option",31),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.s9C("value",e),t.xp6(1),t.Oqu(e)}}function mi(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),t._uU(4),t.qZA()(),t.TgZ(5,"mat-form-field",28)(6,"mat-label"),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"mat-select",29),t.YNc(10,ci,2,2,"mat-option",30),t.qZA()()()()),2&n){const e=t.oxw(),i=e.$implicit,o=e.index;t.xp6(4),t.Oqu(i.title),t.xp6(3),t.Oqu(t.lcZ(8,4,"lang_auto_chon_mot_thong_tin")),t.xp6(2),t.MGl("formControlName","infoType_3_field_",o,""),t.xp6(1),t.Q6J("ngForOf",i.contents)}}function di(n,s){if(1&n&&(t.ynx(0),t.YNc(1,ai,6,2,"div",12),t.YNc(2,_i,7,2,"div",12),t.YNc(3,ri,7,3,"div",12),t.YNc(4,mi,11,6,"div",12),t.BQk()),2&n){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.type),t.xp6(1),t.Q6J("ngIf",1==e.type),t.xp6(1),t.Q6J("ngIf",2==e.type),t.xp6(1),t.Q6J("ngIf",3==e.type)}}function pi(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",32),t._uU(2,"\xa0"),t.qZA())}function ui(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.onGlobalClick(o))}),t.TgZ(1,"form",2)(2,"div",3,4)(4,"div",5)(5,"div",6)(6,"p",7),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"p",8),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.YNc(12,di,5,4,"ng-container",9),t.TgZ(13,"div",10)(14,"button",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.handleConfirm())}),t.YNc(15,pi,3,0,"span",12),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(6),t.Oqu(t.lcZ(8,7,"lang_auto_vui_long_nhap_them_thong_tin_de_bat_dau_bai_thi")),t.xp6(3),t.Oqu(t.lcZ(11,9,"lang_auto_nhung_thong_tin_nay_se_giup_giao_vien_dinh_danh_va_cham_diem_cho_ban")),t.xp6(2),t.Q6J("ngForOf",e.data.infoFields),t.xp6(2),t.Q6J("disabled",!e.form.valid||e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,11,"lang_auto_xac_nhan")," ")}}let gi=(()=>{class n extends y.Q{constructor(e,i,o){super(i),this.fb=e,this.commonService=i,this.browserStorageService=o,this.data={},this.closeDialog=new t.vpe,this.subscriptions=new q.w,this.form=new u.nJ({}),this.infoSubmit=[]}onGlobalClick(e){var i;null!==(i=this.myDialog)&&void 0!==i&&i.nativeElement.contains(e.target)||this.form.valid&&this.handleConfirm()}handleConfirm(){var e,i,o;this.initStatusObj(),this.mapData(),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(i=null===(e=this.data.examId)||void 0===e?void 0:e.toString())&&void 0!==i?i:"",null!==(o=this.data.hashId)&&void 0!==o?o:""),this.browserStorageService.saveSimpleStorage("userInfoV3_"+this.data.hashId,JSON.stringify(this.infoSubmit));var a={success:!0,info:JSON.stringify(this.infoSubmit)};this.closeDialog.emit(a),this.successStatusObj()}mapData(){if(this.infoSubmit=[],Array.isArray(this.data.infoFields))for(let e=0;e<this.data.infoFields.length;e++){let i={contents:[]};if(1===(i.index=e,i.type=this.data.infoFields[e].type,i.title=this.data.infoFields[e].title,i.contents=[],this.data.infoFields[e].type))for(let o=0;o<this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`].length;o++)this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`][o]&&i.contents.push(this.data.infoFields[e].contents[o]);else i.contents.push(this.form.value[`infoType_${this.data.infoFields[e].type}_field_${e}`]);this.infoSubmit.push(i)}}ngOnInit(){let e={};if(Array.isArray(this.data.infoFields)){for(let o=0;o<this.data.infoFields.length;o++)switch(this.data.infoFields[o].type){case 1:var i=[];this.data.infoFields[o].contents.forEach(a=>{i.push(new u.p4(!1))}),e[`infoType_1_field_${o}`]=new u.vC(i,hi(1));break;case 2:e[`infoType_2_field_${o}`]=["",u.kI.required];break;case 3:e[`infoType_3_field_${o}`]=["",u.kI.required];break;default:e[`infoType_0_field_${o}`]=["",u.kI.required]}this.form=this.fb.group(e)}super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.QS),t.Y36(S.v),t.Y36(it.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-submit-info"]],viewQuery:function(e,i){if(1&e&&t.Gf(oi,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],["id","test-info-form",3,"formGroup"],[1,"school-info","p-4","scrollable-form"],["myDialogSubmitInfo",""],[1,"form-horizontal","text-center"],[1,"text-center"],[1,"h5","para_respon","font-weight-normal"],[1,"h6","para_respon","text-info","font-weight-normal"],[4,"ngFor","ngForOf"],[1,"float-right","mt-3","pb-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"input-group","my-3"],[1,"input-group-prepend"],[1,"input-group-text"],["type","text",1,"form-control",3,"formControlName"],[1,"input-group","mt-3"],[1,"input-group-prepend","w-100","text-center"],[1,"input-group-text","w-100","d-inline-block",2,"border-bottom-left-radius","0","border-top-right-radius","0.25rem","white-space","normal"],[1,"row","pt-2","pl-0","pr-0","ml-0","mr-0","border-row"],["class","col-12 col-sm-12 col-md-4 text-left mb-1",3,"formArrayName",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","text-left","mb-1",3,"formArrayName"],["color","primary",3,"checked","formControlName"],[1,"truncate",3,"matTooltip"],[1,"row","w-100","pt-3","pl-0","pr-0","ml-0","mr-0","border-row",3,"formControlName"],["color","primary","class","col-12 col-sm-12 col-md-4 text-left mb-1",3,"value",4,"ngFor","ngForOf"],["color","primary",1,"col-12","col-sm-12","col-md-4","text-left","mb-1",3,"value"],["appearance","fill"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&t.YNc(0,ui,18,13,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[f.sg,f.O5,ei.ey,Y.lW,ni.oG,It.KE,It.hX,Mt.VQ,Mt.U0,ii.gD,B.gM,u._Y,u.Fj,u.JJ,u.JL,u.sg,u.u,u.CE,At.M,v.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:800px;max-width:800px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:150px;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.content-form[_ngcontent-%COMP%]{border:1px solid #bebaba;border-radius:5px}.scrollable-form[_ngcontent-%COMP%]{max-height:calc(100vh - 10%);overflow-y:auto}.form-field-custom[_ngcontent-%COMP%]{background-color:#0000000a;border:1px solid rgba(206,212,218,.6980392157);border-radius:.25rem;padding:5px 8px}.border-row[_ngcontent-%COMP%]{border:1px solid #ced4da;border-top:none;border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}.truncate[_ngcontent-%COMP%]{max-width:350px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}.truncate[_ngcontent-%COMP%]{max-width:180px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();function hi(n=1){return e=>e.controls.map(o=>o.value).reduce((o,a)=>a?o+a:o,0)>=n?null:{required:!0}}const fi=["myDialogMonitor"];function xi(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",9),t._uU(2,"\xa0"),t.qZA())}function vi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeOutsideDialog(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"p",5),t._uU(5),t.ALo(6,"mytranslate"),t.ALo(7,"mytranslate"),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",6)(12,"button",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t.YNc(13,xi,3,0,"span",8),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.xDo("",t.lcZ(6,7,"lang_auto_day_la_bai_thi_duoc"),' "',t.lcZ(7,9,"lang_auto_giam_sat"),'"',t.lcZ(8,11,"lang_auto__vui_long_bam"),' "',t.lcZ(9,13,"lang_auto_xac_nhan"),'" ',t.lcZ(10,15,"lang_auto_de_tiep_tuc_bai_thi"),""),t.xp6(8),t.Q6J("ngIf",!0===e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(15,17,"lang_auto_xac_nhan")," ")}}let bi=(()=>{class n extends y.Q{constructor(e){super(e),this.commonService=e,this.data={isShow:!1},this.closeDialog=new t.vpe,this.subscriptions=new q.w,this.form=new u.nJ({})}closeOutsideDialog(e){var i;null!==(i=this.myDialog)&&void 0!==i&&i.nativeElement.contains(e.target)||this.closeDialog.emit(!0)}confirmQuit(){this.closeDialog.emit(!0)}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-monitor-screen"]],viewQuery:function(e,i){if(1&e&&t.Gf(fi,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogMonitor",""],[1,"text-center"],[1,"mb-0","h5"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&t.YNc(0,vi,16,19,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[f.O5,Y.lW,v.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();const Ti=["myDialogCheckEssay"];function wi(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",10),t._uU(2,"\xa0"),t.qZA())}function Ci(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("click",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeDialog(o))}),t.TgZ(1,"div",2,3)(3,"div",4)(4,"p",5),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"p",6),t._uU(8),t.ALo(9,"mytranslate"),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",7)(12,"button",8),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmQuit())}),t.YNc(13,wi,3,0,"span",9),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(5),t.hij("",t.lcZ(6,5,"lang_auto_day_la_bai_thi_hon_hop_co_tu_luan_de_tra_loi_cau_hoi_tu_luan"),": "),t.xp6(3),t.AsE("",t.lcZ(9,7,"lang_auto_ban_co_the_lam_truc_tiep_tren_he_thong_hoac_lam_ra_giay_chup_anh_roi_gui_qua"),' "',t.lcZ(10,9,"lang_auto_file_dinh_kem"),'"'),t.xp6(5),t.Q6J("ngIf",!0===e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(15,11,"lang_auto_toi_da_hieu")," ")}}let yi=(()=>{class n extends y.Q{constructor(e){super(e),this.commonService=e,this.data={isShow:!1},this.closeEssayDialog=new t.vpe,this.subscriptions=new q.w,this.form=new u.nJ({})}closeDialog(e){var i;null!==(i=this.myDialog)&&void 0!==i&&i.nativeElement.contains(e.target)||this.closeEssayDialog.emit(!0)}confirmQuit(){this.closeEssayDialog.emit(!0)}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-check-essay"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ti,5),2&e){let o;t.iGM(o=t.CRH())&&(i.myDialog=o.first)}},inputs:{data:"data"},outputs:{closeEssayDialog:"closeEssayDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",3,"click",4,"ngIf"],[1,"school-info_bg",3,"click"],[1,"school-info","p-4"],["myDialogCheckEssay",""],[1,"text-center"],[1,"mb-2","h5"],[1,"mb-0","h5","text-info"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&t.YNc(0,Ci,16,13,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[f.O5,Y.lW,v.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();const Si=["modalSaveImageUpload"];function Oi(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function Zi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-submit-info",6),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeShowInfo(o))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.showFormInfo)}}function ki(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-monitor-screen",6),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeAutoMonitor(o))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.dataMonitorAuto)}}function Ai(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-check-essay",7),t.NdJ("closeEssayDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeEssayDialog(o))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.dataEssayPopup)}}function Ii(n,s){if(1&n&&(t.ynx(0),t._UZ(1,"azt-loading-effect",9),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("customText","\u0110ang t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi: "+e.questsLoadState.loadPercent+"%")}}function Mi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"azt-preview-media",16),t.NdJ("closePreview",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.onFileClose())}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("fileOption",e.previewFile)}}function Ei(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-upload-image",17),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.conFirmUpload(o))})("addFileMobile",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.addFileMobileUpload(o))})("isOnSelectFile",function(o){t.CHM(e);const a=t.oxw(4);return t.KtG(a.onSelectFileEmit(o))}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("hashCode",e.hashIdUpdate)("data",e.uploadImageData)}}function ji(n,s){if(1&n&&(t.TgZ(0,"p",27)(1,"mat-icon",30),t._uU(2,"schedule"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"date"),t.ALo(6,"date"),t.qZA()),2&n){const e=t.oxw(6);t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_thoi_gian_duoc_phep_vao_thi"),": ",t.xi3(5,5,e.exam_obj.startTime,"dd/MM/yy HH:mm")," - ",t.xi3(6,8,e.exam_obj.endTime,"dd/MM/yy HH:mm"),"")}}function qi(n,s){if(1&n&&(t.TgZ(0,"div",40),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",41),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",41),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",41),t._uU(10),t.qZA(),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()),2&n){const e=t.oxw(6);let i,o,a;t.xp6(1),t.hij(" ",t.lcZ(2,5,"lang_auto_hay_kiem_tra_lai_bai_lam_cua_ban_he_thong_se_tu_dong_nop_bai_sau"),": "),t.xp6(3),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," "),t.xp6(1),t.hij(" ",t.lcZ(12,7,"lang_auto_hoac_ban_co_the_nop_bai_ngay_bang_cach_an_nut_ben_duoi")," ")}}function Pi(n,s){1&n&&(t.TgZ(0,"div",42)(1,"mat-icon",30),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_het_gio_lam_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_bai"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_neu_nop_muon_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Fi(n,s){1&n&&(t.TgZ(0,"div",42)(1,"mat-icon",30),t._uU(2,"timer_off"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()),2&n&&(t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_auto_ban_da_qua_gio_nop_bai_thi_hay_an_nut"),' "',t.lcZ(5,5,"lang_auto_nop_muon"),'" ',t.lcZ(6,7,"lang_auto_ben_duoi_de_gui_bai_len_he_thong_bai_lam_cua_ban_co_the_khong_duoc_cham_diem_vui_long_lien_he_giao_vien_de_phuc_khao")," "))}function Li(n,s){if(1&n&&(t.TgZ(0,"div",47)(1,"div",48),t._UZ(2,"azt-standalone-question",49),t.qZA()()),2&n){const e=s.$implicit,i=s.index,o=t.oxw(7);t.xp6(2),t.Q6J("disableLazy",!0)("disableRender",!0)("follower",o.followerRenderQuest)("displayScreen",2)("isMobile",o.isMobile)("isBackEnd",!1)("examObj",o.exam_obj)("question",e)("index",i)("overTime",!0)("questionListLength",o.questionList.length)}}function Ui(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",53)(1,"a",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.openUploadImage())}),t._uU(2),t.qZA(),t.TgZ(3,"p",54),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(8);t.xp6(2),t.Oqu(e.files.length>0?"N\u1ed9p th\xeam":"N\u1ed9p t\u1ef1 lu\u1eadn"),t.xp6(2),t.Oqu(t.lcZ(5,2,"lang_auto_ho_tro_anh_video_audio_hoac_file_pdf_brackets"))}}function Ni(n,s){1&n&&(t.TgZ(0,"div",55),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.lnq("",t.lcZ(2,3,"lang_auto_ban_chua_nop_file_nao_len_he_thong_hay_an_nut"),' "',t.lcZ(3,5,"lang_auto_nop_tu_luan"),'" ',t.lcZ(4,7,"lang_auto_de_gui_file_len_he_thong"),""))}function Qi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"mat-tab",44),t.YNc(1,Ui,6,4,"div",50),t.YNc(2,Ni,5,9,"div",51),t.TgZ(3,"app-upload-ui",52),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.changesPosImg(o))})("previewFile",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.onShowFile(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.removeImg(o))}),t.qZA()()}if(2&n){const e=t.oxw(7);t.s9C("label","T\u1ef1 lu\u1eadn ("+(e.files&&e.files.length>0?e.files.length:0)+")"),t.xp6(1),t.Q6J("ngIf",e.totalTime>-200),t.xp6(1),t.Q6J("ngIf",0==e.files.length&&e.totalTime>-200),t.xp6(1),t.Q6J("answerFiles",e.files)}}function Ji(n,s){if(1&n&&(t.TgZ(0,"mat-card",43)(1,"mat-tab-group")(2,"mat-tab",44),t.ALo(3,"mytranslate"),t.YNc(4,Li,3,11,"div",45),t.qZA(),t.YNc(5,Qi,4,4,"mat-tab",46),t.qZA()()),2&n){const e=t.oxw(6);t.xp6(2),t.s9C("label",t.lcZ(3,3,"lang_auto_trac_nghiem")),t.xp6(2),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",e.hasEssayQuestion)}}function Di(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",23)(1,"mat-card",24)(2,"mat-card-content")(3,"div",25)(4,"p",26),t._uU(5),t.qZA(),t.TgZ(6,"p",27),t._uU(7),t.ALo(8,"mytranslate"),t.qZA(),t.TgZ(9,"div",28)(10,"p",29)(11,"mat-icon",30),t._uU(12,"timer"),t.qZA(),t._uU(13),t.ALo(14,"mytranslate"),t.ALo(15,"mytranslate"),t.qZA(),t.TgZ(16,"p",27)(17,"mat-icon",30),t._uU(18,"help_outline"),t.qZA(),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.YNc(21,ji,7,11,"p",31),t.TgZ(22,"p",32),t._uU(23),t.ALo(24,"mytranslate"),t.ALo(25,"mytranslate"),t.ALo(26,"date"),t.qZA()(),t.YNc(27,qi,13,9,"div",33),t.qZA()(),t.YNc(28,Pi,7,9,"div",34),t.YNc(29,Fi,7,9,"div",34),t.TgZ(30,"div",35)(31,"a",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeBackBtn())}),t._uU(32),t.ALo(33,"mytranslate"),t.qZA(),t.TgZ(34,"a",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeSubmitBtn())}),t._uU(35),t.qZA()(),t.TgZ(36,"div",38),t.YNc(37,Ji,6,5,"mat-card",39),t.qZA(),t.TgZ(38,"div",38)(39,"a",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeBackBtn())}),t._uU(40),t.ALo(41,"mytranslate"),t.qZA(),t.TgZ(42,"a",37),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.endTimeSubmitBtn())}),t._uU(43),t.qZA()()()}if(2&n){const e=t.oxw(5);t.xp6(5),t.Oqu(e.exam_obj.name),t.xp6(2),t.AsE("",t.lcZ(8,21,"lang_auto_ma_de"),": ",e.exam_obj.hashId,""),t.xp6(6),t.lnq(" ",t.lcZ(14,23,"lang_auto_thoi_gian"),": ",e.exam_obj.minutes," ",t.lcZ(15,25,"lang_auto_phut"),""),t.xp6(6),t.AsE(" ",t.lcZ(20,27,"lang_auto_so_cau"),": ",e.countQuestion,""),t.xp6(2),t.Q6J("ngIf",e.exam_obj.startTime&&e.exam_obj.endTime),t.xp6(2),t.HOy("",t.lcZ(24,29,"lang_auto_thi_sinh"),": ",e.userObj.fullName," ",t.lcZ(25,31,"lang_auto_-_vao_thi_luc"),": ",t.xi3(26,33,e.testingResultObj.startedTest,"dd/MM/yy HH:mm"),""),t.xp6(4),t.Q6J("ngIf",e.totalTime>=-90&&e.totalTime<=0),t.xp6(1),t.Q6J("ngIf",e.totalTime>=-300),t.xp6(1),t.Q6J("ngIf",e.totalTime<-300),t.xp6(3),t.Oqu(t.lcZ(33,36,"lang_auto_thoat")),t.xp6(3),t.Oqu(e.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i"),t.xp6(2),t.Q6J("ngIf",e.questionList.length>0),t.xp6(3),t.Oqu(t.lcZ(41,38,"lang_auto_thoat")),t.xp6(3),t.Oqu(e.totalTime<-300?"N\u1ed9p mu\u1ed9n":"N\u1ed9p b\xe0i")}}function Yi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-exit-exam",60),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.closeQuitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.redirectToHomepage(o))}),t.qZA()}if(2&n){const e=t.oxw(7);t.Q6J("data",e.quitTestData)}}function zi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-comfirm-exam",60),t.NdJ("closeDialog",function(){t.CHM(e);const o=t.oxw(7);return t.KtG(o.closeSubmitDialog())})("redirectToHomepage",function(o){t.CHM(e);const a=t.oxw(7);return t.KtG(a.confirmSubmit(o))}),t.qZA()}if(2&n){const e=t.oxw(7);t.Q6J("data",e.submitData)}}const Hi=function(n){return{"time-almost-end":n}};function Ri(n,s){if(1&n&&(t.TgZ(0,"div",72)(1,"span",41),t._uU(2),t.qZA(),t._uU(3," : "),t.TgZ(4,"span",41),t._uU(5),t.qZA(),t._uU(6," : "),t.TgZ(7,"span",41),t._uU(8),t.qZA()()),2&n){const e=t.oxw(9);let i,o,a;t.Q6J("ngClass",t.VKq(4,Hi,e.timeCount.almostEnd)),t.xp6(2),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function Gi(n,s){1&n&&(t.TgZ(0,"div",73)(1,"span",41),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_khong_gioi_han")," "))}function Bi(n,s){if(1&n&&(t.TgZ(0,"div",67)(1,"div",68)(2,"mat-icon",69),t._uU(3,"access_time"),t.qZA()(),t.YNc(4,Ri,9,6,"div",70),t.YNc(5,Gi,4,3,"div",71),t.qZA()),2&n){const e=t.oxw(8);t.xp6(4),t.Q6J("ngIf",!e.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.unLimitTime)}}function Ki(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",74),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.routerBackSelectStudent())}),t.TgZ(1,"div",68)(2,"mat-icon",75),t._uU(3,"arrow_back"),t.qZA()(),t.TgZ(4,"div",76)(5,"span",77),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(6),t.Oqu(t.lcZ(7,1,"lang_auto_quay_lai")))}function $i(n,s){if(1&n&&(t.TgZ(0,"p",80),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(9);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_thi_sinh"),": ",e.userObj.fullName,"")}}function Wi(n,s){if(1&n&&(t.TgZ(0,"div",78),t.YNc(1,$i,3,4,"p",79),t.qZA()),2&n){const e=t.oxw(8);t.xp6(1),t.Q6J("ngIf",!e.isEmpty(e.userObj)&&e.userObj)}}function Vi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",91),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.goBackFullScreen())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_toan_man_hinh")))}function Xi(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",92),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.openUploadImage())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.hij("",t.lcZ(2,1,"lang_auto_dinh_kem_bai_tu_luan")," "))}function to(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",81)(1,"div",82),t.YNc(2,Vi,3,3,"a",83),t.TgZ(3,"div",84)(4,"p",85),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.changeShowType(1))}),t.ALo(5,"mytranslate"),t.TgZ(6,"mat-icon",86),t._uU(7,"format_list_bulleted"),t.qZA()(),t.TgZ(8,"p",87),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.changeShowType(2))}),t.ALo(9,"mytranslate"),t.TgZ(10,"mat-icon",86),t._uU(11,"view_compact"),t.qZA()()(),t.TgZ(12,"div")(13,"a",88),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.openQuitDialog())}),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,Xi,3,3,"a",89),t.TgZ(17,"a",90),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.openSubmitExam(!0,!1))}),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw(8);t.xp6(2),t.Q6J("ngIf",e.hasMonitorScreen),t.xp6(2),t.s9C("matTooltip",t.lcZ(5,6,"lang_auto_xem_tat_ca_cau_hoi")),t.xp6(4),t.s9C("matTooltip",t.lcZ(9,8,"lang_auto_xem_tung_cau_don")),t.xp6(6),t.hij("",t.lcZ(15,10,"lang_auto_thoat")," "),t.xp6(2),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(2),t.Oqu(t.lcZ(19,12,"lang_auto_nop_bai"))}}const eo=function(n){return{"d-none":n}};function no(n,s){if(1&n&&(t.TgZ(0,"div",61)(1,"div",62),t.YNc(2,Bi,6,2,"div",63),t.YNc(3,Ki,8,3,"div",64),t.qZA(),t.YNc(4,Wi,2,1,"div",65),t.YNc(5,to,20,14,"div",66),t.qZA()),2&n){const e=t.oxw(7);t.Q6J("ngClass",t.VKq(5,eo,e.isMobile&&!e.chooseChildData.isShow)),t.xp6(2),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function io(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-select-classes",93),t.NdJ("selectClassroom",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.closeChooseStudent(o))}),t.qZA()}if(2&n){const e=t.oxw(8);t.Q6J("dataClass",e.chooseChildData.classroomObjs)("isSearchTeacher",!1)("isMobile",e.isMobile)}}function oo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-send-request",96),t.NdJ("confirmSend",function(o){t.CHM(e);const a=t.oxw(9);return t.KtG(a.confirmSendRequest(o))})("closeDialog",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.closeRequestDialog())}),t.qZA()}if(2&n){const e=t.oxw(9);t.Q6J("data",e.sendRequestData)}}function ao(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-select-student",94),t.NdJ("selectChild",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.closeChooseStudent(o))})("approvedByName",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.approvedByName(o))})("backToClass",function(){t.CHM(e);const o=t.oxw(8);return t.KtG(o.backToClassList())}),t.qZA(),t.YNc(1,oo,1,1,"app-send-request",95)}if(2&n){const e=t.oxw(8);t.Q6J("data",e.chooseChildData)("showAddStudent",null==e.chooseChildData.classObj?null:e.chooseChildData.classObj.showAddStudent)("isSearchTeacher",!1)("hasBackToLink",!0)("isMobile",e.isMobile),t.xp6(1),t.Q6J("ngIf",e.sendRequestData.isShow)}}function so(n,s){if(1&n&&(t.YNc(0,io,1,3,"ng-template",59),t.YNc(1,ao,2,6,"ng-template",59)),2&n){const e=t.oxw(7);t.Q6J("ngIf",e.selectClassroom),t.xp6(1),t.Q6J("ngIf",e.selectStudent)}}function _o(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"date"),t.qZA()),2&n){const e=t.oxw(9);t.xp6(1),t.AsE(" ",t.lcZ(2,2,"lang_auto_vui_long_quay_lai_vao_luc"),": ",t.xi3(3,4,e.exam_obj.startTime,"dd/MM/yyyy, HH:mm:ss")," ")}}function lo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",103),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.goToBuyExam())}),t.TgZ(1,"span",104),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"mat-icon",105),t._uU(5,"shopping_cart"),t.qZA()()}2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_auto_di_mua")))}const ro=function(n){return[n]};function co(n,s){if(1&n&&(t.TgZ(0,"div",98)(1,"div",99),t._uU(2),t.ALo(3,"mytranslate"),t.YNc(4,_o,4,7,"span",56),t.YNc(5,lo,6,3,"span",100),t.qZA(),t.TgZ(6,"div",101)(7,"a",102),t.ALo(8,"localize"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()()()),2&n){const e=t.oxw(8);t.xp6(2),t.hij(" ",t.lcZ(3,5,e.hasErrorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_time_smaller_than_start_time"==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf","lang_core_doest_not_owner_exam"==e.hasErrorMessage),t.xp6(2),t.Q6J("routerLink",t.VKq(11,ro,t.lcZ(8,7,e.homeLink))),t.xp6(2),t.hij(" ",t.lcZ(10,9,"lang_auto_quay_lai_trang_chu")," ")}}function mo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",111)(2,"azt-standalone-question",112),t.NdJ("autoResizeEssayAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.autoResizeEssayAnswer(o))})("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.openSubmitExam(o))})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.prevQuestion(o))})("goToQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.goToQuestion(o))})("goToQuestionAllEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.goToQuestionAll(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()()()}if(2&n){const e=s.$implicit,i=s.index,o=s.last,a=t.oxw(10);t.xp6(1),t.s9C("id","question_"+i),t.Q6J("hidden",i>0),t.xp6(1),t.Q6J("disableLazy",!0)("disableRender",!0)("follower",a.followerRenderQuest)("displayScreen",2)("showList",a.showList)("isBackEnd",!1)("isMobile",a.isMobile)("examObj",a.exam_obj)("question",e)("index",i)("last",o)("countQuestion",a.countQuestion)("overTime",!1)("questionListLength",a.questionList.length)}}function po(n,s){if(1&n&&(t.TgZ(0,"span",122),t._uU(1),t.qZA()),2&n){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function uo(n,s){if(1&n&&(t.TgZ(0,"span",123),t._uU(1),t.qZA()),2&n){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function go(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",119),t.NdJ("click",function(){const a=t.CHM(e).index,_=t.oxw(11);return t.KtG(_.goToQuestion(a))}),t.YNc(1,po,2,2,"span",120),t.YNc(2,uo,2,2,"span",121),t.qZA()}if(2&n){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.status),t.xp6(1),t.Q6J("ngIf",1==e.status)}}function ho(n,s){if(1&n&&(t.TgZ(0,"div",113)(1,"div",114)(2,"div",115)(3,"p",116),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"ul",117),t.YNc(7,go,3,2,"li",118),t.qZA()()()()),2&n){const e=t.oxw(10);t.Q6J("hidden",e.isMobile),t.xp6(4),t.Oqu(t.lcZ(5,3,"lang_auto_danh_sach_cau_hoi")),t.xp6(3),t.Q6J("ngForOf",e.questionList)}}function fo(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,mo,3,16,"div",109),t.YNc(2,ho,8,5,"div",110),t.qZA()),2&n){const e=t.oxw(9);t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.submitNameData.isShow)}}function xo(n,s){if(1&n&&t._UZ(0,"azt-loaded-img",128),2&n){const e=t.oxw(10);t.Q6J("imgSrc",e.exam_obj.examHeader)}}function vo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",129)(2,"azt-standalone-question",130),t.NdJ("autoResizeEssayAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.autoResizeEssayAnswer(o))})("setAnswerEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerTrueFalse(o))})("setAnswerEssayEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setAnswerEssay(o))})("setResultTracking",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.setResultTracking(o))})("openSubmitExamEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.openSubmitExam(o))})("nextQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.nextQuestion(o))})("prevQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.prevQuestion(o))})("goToQuestionEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.goToQuestion(o))})("goToQuestionAllEmitter",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.goToQuestionAll(o))})("sendAudioEmit",function(o){t.CHM(e);const a=t.oxw(10);return t.KtG(a.sendAudioForQuestion(o))}),t.qZA()()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(10);t.xp6(1),t.s9C("id","question_all_"+i),t.xp6(1),t.Q6J("disableLazy",!0)("disableRender",!0)("follower",o.followerRenderQuest)("displayScreen",2)("isBackEnd",!1)("showList",o.showList)("isMobile",o.isMobile)("examObj",o.exam_obj)("countQuestion",o.countQuestion)("question",e)("overTime",!1)("index",i)}}function bo(n,s){if(1&n&&(t.TgZ(0,"span",122),t._uU(1),t.qZA()),2&n){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function To(n,s){if(1&n&&(t.TgZ(0,"span",123),t._uU(1),t.qZA()),2&n){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function wo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",119),t.NdJ("click",function(){const a=t.CHM(e).index,_=t.oxw(11);return t.KtG(_.goToQuestionAll(a))}),t.YNc(1,bo,2,2,"span",137),t.YNc(2,To,2,2,"span",138),t.qZA()}if(2&n){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.status),t.xp6(1),t.Q6J("ngIf",1==e.status)}}const Co=function(){return{"right.px":20}};function yo(n,s){if(1&n&&(t.TgZ(0,"div",131)(1,"div",132)(2,"div",133)(3,"p",134),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"div",135)(7,"ul",117),t.YNc(8,wo,3,2,"li",136),t.qZA()()()()()),2&n){const e=t.oxw(10);t.Q6J("ngStyle",t.DdM(5,Co)),t.xp6(4),t.Oqu(t.lcZ(5,3,"lang_auto_danh_sach_cau_hoi")),t.xp6(4),t.Q6J("ngForOf",e.questionList)}}function So(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",124)(2,"div",125),t.YNc(3,xo,1,1,"azt-loaded-img",126),t.YNc(4,vo,3,13,"div",109),t.qZA(),t.YNc(5,yo,9,6,"div",127),t.qZA()()),2&n){const e=t.oxw(9);t.xp6(3),t.Q6J("ngIf",e.exam_obj.examHeader),t.xp6(1),t.Q6J("ngForOf",e.questionList),t.xp6(1),t.Q6J("ngIf",!e.isMobile)}}function Oo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",163)(1,"a",164),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(10);return t.KtG(o.openUploadImage())}),t.TgZ(2,"span",165),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()}2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"lang_auto_dinh_kem_tu_luan")))}function Zo(n,s){if(1&n&&(t.TgZ(0,"span",122),t._uU(1),t.qZA()),2&n){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function ko(n,s){if(1&n&&(t.TgZ(0,"span",123),t._uU(1),t.qZA()),2&n){const e=t.oxw().index;t.xp6(1),t.AsE(" ",9>e?"0":"","",e+1," ")}}function Ao(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",166),t.NdJ("click",function(){const a=t.CHM(e).index,_=t.oxw(10);return t.KtG(_.showList?_.goToQuestionAll(a):_.goToQuestion(a))}),t.YNc(1,Zo,2,2,"span",120),t.YNc(2,ko,2,2,"span",121),t.qZA()}if(2&n){const e=s.$implicit;t.xp6(1),t.Q6J("ngIf",0==e.status),t.xp6(1),t.Q6J("ngIf",1==e.status)}}function Io(n,s){if(1&n&&(t.TgZ(0,"span",156),t._uU(1),t.qZA()),2&n){const e=t.oxw(10);t.xp6(1),t.Oqu(e.userObj.fullName)}}const Mo=function(n){return{"time-almost-end-mobile":n}};function Eo(n,s){if(1&n&&(t.TgZ(0,"div",167)(1,"mat-icon",168),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",41),t._uU(4),t.qZA(),t._uU(5," : "),t.TgZ(6,"span",41),t._uU(7),t.qZA(),t._uU(8," : "),t.TgZ(9,"span",41),t._uU(10),t.qZA()()),2&n){const e=t.oxw(10);let i,o,a;t.Q6J("ngClass",t.VKq(4,Mo,e.timeCount.almostEnd)),t.xp6(4),t.hij(" ",(null!==(i=e.timeCount.hour)&&void 0!==i?i:0)>9?e.timeCount.hour:"0"+e.timeCount.hour," "),t.xp6(3),t.hij(" ",(null!==(o=e.timeCount.minute)&&void 0!==o?o:0)>9?e.timeCount.minute:"0"+e.timeCount.minute," "),t.xp6(3),t.hij(" ",(null!==(a=e.timeCount.second)&&void 0!==a?a:0)>9?e.timeCount.second:"0"+e.timeCount.second," ")}}function jo(n,s){1&n&&(t.TgZ(0,"div",169)(1,"mat-icon",170),t._uU(2,"av_timer"),t.qZA(),t.TgZ(3,"span",171),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n&&(t.xp6(4),t.hij(" ",t.lcZ(5,1,"lang_auto_khong_gioi_han")," "))}const qo=function(n){return{"col-6":n}};function Po(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",139)(2,"div",140)(3,"div",141)(4,"a",142),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.openQuitDialog())}),t.TgZ(5,"mat-icon"),t._uU(6,"power_settings_new"),t.qZA()()(),t.YNc(7,Oo,5,3,"div",143),t.TgZ(8,"div",144)(9,"a",142),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.openSubmitExam(!0,!1))}),t.TgZ(10,"span",145),t._uU(11),t.ALo(12,"mytranslate"),t.qZA(),t.TgZ(13,"mat-icon"),t._uU(14,"chevron_right"),t.qZA()()()()(),t.TgZ(15,"div",146)(16,"div",147)(17,"div",148)(18,"div",149)(19,"div",150)(20,"ul",151),t.YNc(21,Ao,3,2,"li",152),t.qZA()()()()(),t.TgZ(22,"div",153),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showSheet(!1))}),t.TgZ(23,"div",154)(24,"p",155),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showSheet(!0,1))}),t.ALo(25,"mytranslate"),t.TgZ(26,"mat-icon",156),t._uU(27,"format_list_bulleted"),t.qZA()(),t.TgZ(28,"p",157),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(9);return t.KtG(o.showSheet(!0,2))}),t.ALo(29,"mytranslate"),t.TgZ(30,"mat-icon",156),t._uU(31,"view_compact"),t.qZA()()(),t.TgZ(32,"div",158)(33,"p",159),t.YNc(34,Io,2,1,"span",160),t.qZA()(),t.YNc(35,Eo,11,6,"div",161),t.YNc(36,jo,6,3,"div",162),t.qZA()()()}if(2&n){const e=t.oxw(9);t.xp6(7),t.Q6J("ngIf",e.hasEssayQuestion),t.xp6(1),t.Q6J("ngClass",t.VKq(16,qo,!e.hasEssayQuestion)),t.xp6(3),t.Oqu(t.lcZ(12,10,"lang_auto_nop_bai")),t.xp6(5),t.Q6J("hidden",!e.isShowSheet),t.xp6(5),t.Q6J("ngForOf",e.questionList),t.xp6(3),t.s9C("matTooltip",t.lcZ(25,12,"lang_auto_xem_tat_ca_cau_hoi")),t.xp6(4),t.s9C("matTooltip",t.lcZ(29,14,"lang_auto_xem_tung_cau_don")),t.xp6(6),t.Q6J("ngIf",!e.isEmpty(e.userObj)&&e.userObj),t.xp6(1),t.Q6J("ngIf",!e.unLimitTime),t.xp6(1),t.Q6J("ngIf",e.unLimitTime)}}const Fo=function(n,s){return{"monitor-screen":n,"monitor-screen-mobile":s}};function Lo(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",98)(1,"app-upload-ui",106),t.NdJ("changesPosImg",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.changesPosImg(o))})("previewFile",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.onShowFile(o))})("removeFile",function(o){t.CHM(e);const a=t.oxw(8);return t.KtG(a.removeImg(o))}),t.qZA(),t._UZ(2,"div",107,108),t.YNc(4,fo,3,2,"div",56),t.YNc(5,So,6,3,"div",56),t.YNc(6,Po,37,18,"div",56),t.qZA()}if(2&n){const e=t.oxw(8);t.xp6(1),t.Q6J("answerFiles",e.files)("isTesting",!0)("onMobile",e.isMobile)("showList",e.showList),t.xp6(1),t.Q6J("ngClass",t.WLB(8,Fo,!e.isMobile,e.isMobile)),t.xp6(2),t.Q6J("ngIf",e.showUnit),t.xp6(1),t.Q6J("ngIf",e.showList),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function Uo(n,s){if(1&n&&(t.YNc(0,co,11,13,"div",97),t.YNc(1,Lo,7,11,"div",97)),2&n){const e=t.oxw(7);t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}function No(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Yi,1,1,"app-exit-exam",57),t.YNc(2,zi,1,1,"app-comfirm-exam",57),t.YNc(3,no,6,7,"div",58),t.YNc(4,so,2,2,"ng-template",59),t.YNc(5,Uo,2,2,"ng-template",59),t.BQk()),2&n){const e=t.oxw(6);t.xp6(1),t.Q6J("ngIf",e.quitTestData.isShow),t.xp6(1),t.Q6J("ngIf",e.submitData.isShow),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.chooseChildData.isShow),t.xp6(1),t.Q6J("ngIf",!e.chooseChildData.isShow)}}function Qo(n,s){if(1&n&&t.YNc(0,No,6,5,"ng-container",56),2&n){const e=t.oxw(5);t.Q6J("ngIf",!e.errorLoadMixedAssets&&e.validForTakeTest)}}const Jo=function(n,s,e){return{"time-client-pc":n,"time-client-mobile":s,"time-client-notValid":e}};function Do(n,s){if(1&n&&(t.YNc(0,Di,44,40,"div",18),t.YNc(1,Qo,1,1,"ng-template",null,19,t.W1O),t.TgZ(3,"div",20)(4,"p",21)(5,"span",22),t.ALo(6,"mytranslate"),t._uU(7),t.ALo(8,"date"),t.qZA()()()),2&n){const e=t.MAs(2),i=t.oxw(4);t.Q6J("ngIf",!i.validForTakeTest)("ngIfElse",e),t.xp6(3),t.Q6J("ngClass",t.kEZ(10,Jo,!i.isMobile&&i.validForTakeTest,i.isMobile&&i.validForTakeTest,!i.validForTakeTest)),t.xp6(2),t.s9C("matTooltip",t.lcZ(6,5,"lang_auto_day_la_thoi_gian_hien_tai_tren_thiet_bi_cua_ban")),t.xp6(2),t.Oqu(t.xi3(8,7,i.timeClient,"dd/MM/yy HH:mm"))}}function Yo(n,s){if(1&n&&t._UZ(0,"azt-loading-effect",9),2&n){const e=t.oxw(4);t.Q6J("customText","\u0110ang t\u1ea3i d\u1eef li\u1ec7u \u0111\u1ec1 thi: "+e.loadMixedExamProgress+"%")}}function zo(n,s){1&n&&(t.TgZ(0,"div",172)(1,"mat-icon",30),t._uU(2,"error"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_auto_co_loi_khi_tai_du_lieu_de_thi_hay_thu_lai_bang_cach_tai_lai_trang_web"),""))}function Ho(n,s){if(1&n&&(t.ynx(0),t.YNc(1,Mi,1,1,"azt-preview-media",11),t.YNc(2,Ei,1,2,"app-upload-image",12),t.YNc(3,Do,9,14,"ng-template",null,13,t.W1O),t.YNc(5,Yo,1,1,"azt-loading-effect",14),t.YNc(6,zo,5,3,"div",15),t.BQk()),2&n){const e=t.MAs(4),i=t.oxw(3);t.xp6(1),t.Q6J("ngIf",i.isShowPreviewFile),t.xp6(1),t.Q6J("ngIf",i.uploadImageData.isShow),t.xp6(3),t.Q6J("ngIf",i.isMixedService2&&!i.doneLoadMixedExamAssets&&!i.errorLoadMixedAssets)("ngIfElse",e),t.xp6(1),t.Q6J("ngIf",i.errorLoadMixedAssets)}}function Ro(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",173)(1,"h3",174),t._uU(2,"X\u1ea3y ra l\u1ed7i trong qu\xe1 tr\xecnh t\u1ea3i \u0111\u1ec1 thi"),t.qZA(),t.TgZ(3,"p"),t._uU(4,'\u0110\xe3 x\u1ea3y ra l\u1ed7i trong qu\xe1 tr\xecnh hi\u1ec3n th\u1ecb \u0111\u1ec1 thi. B\u1ea1n c\xf3 th\u1ec3 click v\xe0o n\xfat "T\u1ea3i l\u1ea1i \u0111\u1ec1 thi" \u0111\u1ec3 th\u1eed l\u1ea1i.'),t.qZA(),t.TgZ(5,"p"),t._uU(6),t.qZA(),t.TgZ(7,"p"),t._uU(8,"Tin nh\u1eafn h\u1ec7 th\u1ed1ng ph\u1ea3n h\u1ed3i: "),t._UZ(9,"span",175),t.ALo(10,"safeContentQuestion"),t.qZA(),t.TgZ(11,"p")(12,"button",176),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.endTimeBackBtn())}),t._uU(13," Quay v\u1ec1 "),t.qZA(),t.TgZ(14,"button",177),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.reloadExam())}),t._uU(15," T\u1ea3i l\u1ea1i \u0111\u1ec1 thi "),t.qZA()()()}if(2&n){const e=t.oxw(3);t.xp6(6),t.hij("Ph\u1ea7n tr\u0103m \u0111\u1ec1 thi \u0111\xe3 t\u1ea3i \u0111\u01b0\u1ee3c: ",e.questsLoadState.loadPercent,"%"),t.xp6(3),t.Q6J("innerHTML",t.lcZ(10,2,e.questsLoadState.errData),t.oJD)}}function Go(n,s){if(1&n&&(t.YNc(0,Ho,7,5,"ng-container",2),t.YNc(1,Ro,16,4,"ng-template",null,10,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(2);t.Q6J("ngIf",!i.questsLoadState.hasErrs)("ngIfElse",e)}}function Bo(n,s){if(1&n&&(t.YNc(0,Ii,2,1,"ng-container",2),t.YNc(1,Go,3,2,"ng-template",null,8,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.questsLoadState.startLoad)("ngIfElse",e)}}function Ko(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-submit-name",6),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.closeSubmitName(o))}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("data",e.submitNameData)}}const $o=function(n){return{"pb-5 pl-0 pr-0":n}};let Wo=(()=>{class n extends y.Q{constructor(e,i,o,a,_,l,r,m,c,p,h,g,x,T,I,b,w,P,F,L,U,N,Z,k,Q,C,E){super(a),this.iCustomQuestionAnswerConfig=e,this.fb=i,this.activeRoute=o,this.commonService=a,this.baseApiService=_,this.mixService=l,this.localStorageObjetct=r,this.mixService2=m,this.fireStoreService=c,this.cdnService=p,this.encryptService=h,this.docxService=g,this.zipdataService=x,this.timeService=T,this.monitorService=I,this.browserStorageService=b,this.userService=w,this.frontExamTrackService=P,this.frontStudentService=F,this.globalService=L,this.frontExamResultService=U,this.frontExamService=N,this.frontExamResultUploadService=Z,this.customQuestionAnswerConfig=k,this.answerTypeService=Q,this.homeworkExamService=C,this.questionRenderService=E,this.subscriptions=new q.w,this.form=new u.nJ({}),this.homeLink="",this.tenantId=1,this.curCateId=0,this.hashId="",this.userAgent="",this.intervalSync=0,this.intervalExamTimeout=0,this.intervalGetTimeServer=0,this.intervalAutoSubmit=0,this.intervalTimeClient=0,this.totalTime=0,this.unLimitTime=!1,this.startedTimeSecond=0,this.startTestTime=0,this.exam_obj={},this.firstInGroupIndexes=[],this.testingResultObj={},this.userObj={},this.timeCount={hour:0,minute:0,second:0,almostEnd:!1},this.answerList=[],this.noteList=[],this.questionList=[],this.followerRenderQuest=new ve.G,this.startedTest=(0,f.p6)(new Date,"yyyy-MM-ddTHH:mm:ss Z","en_vn"),this.countQuestion=0,this.hasErrorMessage="",this.hasEssayQuestion=!1,this.files=[],this.syncData={datas:""},this.hasMonitorScreen=!1,this.onTypingAnswer=!1,this.chooseChildData={studentObjs:void 0,classObj:void 0,isPendingApproved:!1,isShow:!1},this.dataProcess={},this.password="",this.backToLink="",this.tempStorageInfo="",this.startTimeCountDownSecond=-1,this.resultTracks=[],this.validForTakeTest=!0,this.sendingData=!1,this.acceptSendTrack=!0,this.isMixedService2=!1,this.doneLoadMixedExamAssets=!1,this.errorLoadMixedAssets=!1,this.subscription=new q.w,this.countLoadedMixedAssets=0,this.totalMixedExamAssets=0,this.checkSubmit=!1,this.isAfterChooseStudent=!1,this.clickedFromIframe=!1,this.isShowPreviewFile=!1,this.previewFile={},this.oldScroll=0,this.checkTimeOutExam=!1,this.deviceId="",this.timeClient=Date.now(),this.customDocument=Object.assign({},document),this.browserName="",this.submitData={id:0,time:0,isShow:!1},this.quitTestData={id:0,time:0,isShow:!1},this.selectStudent=!1,this.selectClassroom=!1,this.sendRequestData={studentObj:void 0,classId:0,isShow:!1},this.isMobile=!1,this.checkEssayPopup=!0,this.submitNameData={isShow:!1},this.showFormInfo={infoFields:[],isShow:!1},this.dataMonitorAuto={isShow:!1},this.dataEssayPopup={isShow:!1},this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1,this.hashIdUpdate="",this.curQuestion=0,this.showList=!0,this.showUnit=!1,this.isShowSheet=!1,this.questsLoadState={startLoad:!1,loadPercent:0,hasErrs:!1,errData:""}}get loadMixedExamProgress(){return Math.round(this.countLoadedMixedAssets/this.totalMixedExamAssets*100)}timeOut(e){"done"==e&&location.reload()}getData(){var e=this.browserStorageService.getSimpleStorage("password_"+this.hashId),i=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.hashId);this.password=e||"",this.subscriptions.add(this.frontExamService.apiFrontExamTestGet(this.hashId,this.password,i||""!=this.tempStorageInfo?1:0,this.deviceId).subscribe(o=>{var a,_,l,r,m,c;o.data&&(this.homeworkExamService.allowAnonymousUser(null!==(_=null===(a=o.data.examObj)||void 0===a?void 0:a.whoAllow)&&void 0!==_?_:0)?(null===(m=o.data)||void 0===m?void 0:m.hasOwnProperty("errorMessage"))&&"lang_core_exam_password_invalid"==(null===(c=o.data)||void 0===c?void 0:c.errorMessage)?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(o):this.baseApiService.isLogin()&&this.baseApiService.isAnonymousRole()?(this.hasErrorMessage="lang_auto_yeu_cau_dang_nhap_de_vao_thi",this.stopStatusObj(),this.openSubmitName(!0)):(null===(l=o.data)||void 0===l?void 0:l.hasOwnProperty("errorMessage"))&&"lang_core_exam_password_invalid"==(null===(r=o.data)||void 0===r?void 0:r.errorMessage)?""==this.password?(this.openSubmitName(!1,this.hashId,!0),this.hasErrorMessage="lang_core_exam_password_needed",this.stopStatusObj()):(this.browserStorageService.removeSimpleStorage("password_"+this.hashId),this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"),this.stopStatusObj()):this.processData(o))})),this.commonService.gaEvent("FrontExam_GetObj")}processData(e){var i,o,a,_,l,r,m,c,p,h,g,x,T,I,b,w,P,F,L,U,N,Z,k,Q,C,E,D,K,ot,at,R,z,$,X,st,tt,J,ct;if(1==e.success)if(this.exam_obj=null!==(o=null===(i=e.data)||void 0===i?void 0:i.examObj)&&void 0!==o?o:{},this.testingResultObj=null!==(_=null===(a=e.data)||void 0===a?void 0:a.testingExamResultObj)&&void 0!==_?_:{},this.userObj=null!==(r=null===(l=e.data)||void 0===l?void 0:l.studentObj)&&void 0!==r?r:{},this.commonService.translateMetaData({title:"L\xe0m b\xe0i: "+(null!==(c=null===(m=e.data)||void 0===m?void 0:m.examObj)&&void 0!==c&&c.name?e.data.examObj.name:""),description:null!==(h=null===(p=e.data)||void 0===p?void 0:p.examObj)&&void 0!==h&&h.name?e.data.examObj.name:""}),this.dataProcess=null!==(g=e.data)&&void 0!==g?g:{},this.baseApiService.isLogin()&&this.baseApiService.isAnonymousRole())if(this.homeworkExamService.allowAnonymousUser(null!==(I=null===(T=null===(x=this.dataProcess)||void 0===x?void 0:x.examObj)||void 0===T?void 0:T.whoAllow)&&void 0!==I?I:0)){var As=this.baseApiService.getUserObj();this.userService.isAnonymousName(As)?(this.stopStatusObj(),this.openSubmitName(!1)):(1==(null===(w=null===(b=e.data)||void 0===b?void 0:b.examObj)||void 0===w?void 0:w.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(A=this.commonService.willDeleteParseJson(null!==(L=null===(F=null===(P=e.data)||void 0===P?void 0:P.examObj)||void 0===F?void 0:F.infoFieldsV2)&&void 0!==L?L:""))&&A.length>0&&""!=A?(this.openShowInfo(A),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj())}else 1==(null===(N=null===(U=e.data)||void 0===U?void 0:U.examObj)||void 0===N?void 0:N.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(A=this.commonService.willDeleteParseJson(null!==(Q=null===(k=null===(Z=e.data)||void 0===Z?void 0:Z.examObj)||void 0===k?void 0:k.infoFieldsV2)&&void 0!==Q?Q:""))&&A.length>0&&""!=A?(this.openShowInfo(A),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj();else if(this.homeworkExamService.mustInClassroom(null!==(D=null===(E=null===(C=this.dataProcess)||void 0===C?void 0:C.examObj)||void 0===E?void 0:E.whoAllow)&&void 0!==D?D:0))if(this.dataProcess.hasOwnProperty("studentObj")&&!this.isEmpty(null!==(ot=null===(K=this.dataProcess)||void 0===K?void 0:K.studentObj)&&void 0!==ot?ot:{})){var et=this.dataProcess.studentObj;1==(null==et?void 0:et.isVerified)?(1==(null===(R=null===(at=e.data)||void 0===at?void 0:at.examObj)||void 0===R?void 0:R.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(A=this.commonService.willDeleteParseJson(null!==(z=e.data.examObj.infoFieldsV2)&&void 0!==z?z:""))&&A.length>0&&""!=A?(this.openShowInfo(A),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj()):(this.stopStatusObj(),this.openChooseStudent({student:null!=et?et:null,chooseStudentData:null,responseFrontExam:null},3))}else if(this.dataProcess.hasOwnProperty("classroomObj")&&this.isEmpty(null!==(X=null===($=this.dataProcess)||void 0===$?void 0:$.classroomObj)&&void 0!==X?X:{}))this.stopStatusObj(),this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1);else{this.stopStatusObj();var Pt=[];this.dataProcess.studentObjs&&this.dataProcess.studentObjs.length>0&&(Pt=this.dataProcess.studentObjs.filter(Ms=>{var mt,dt;return Ms.classroomId==(null!==(dt=null===(mt=this.dataProcess.classroomObj)||void 0===mt?void 0:mt.id)&&void 0!==dt?dt:0)})),this.openChooseStudent({chooseStudentData:{studentObjs:Pt,classroomObj:this.dataProcess.classroomObj,onlyOneClass:!0},student:null,responseFrontExam:null},2)}else{var A;1==(null===(tt=null===(st=e.data)||void 0===st?void 0:st.examObj)||void 0===tt?void 0:tt.enterInfo)&&null==this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId)&&""==this.tempStorageInfo?(A=this.commonService.willDeleteParseJson(null!==(J=e.data.examObj.infoFieldsV2)&&void 0!==J?J:""))&&A.length>0&&""!=A?(this.openShowInfo(A),this.hasErrorMessage="lang_cms_test_must_submit_info"):(this.initStatusObj(),this.getData()):this.fillData(e),this.stopStatusObj()}else this.showErrorSnack(null!==(ct=e.message)&&void 0!==ct?ct:"")}changeQuestionContent(e){for(var i,o,a,_=[],l=this.commonService.willDeleteParseJson(null!==(i=this.browserStorageService.getSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id))&&void 0!==i?i:""),r=0;r<e.length;r++){let c=e[r];if(c){if(this.answerTypeService.isEssayAnswer(e[r].answerType)&&(c.essayText=""),this.answerTypeService.isFillAnswer(e[r].answerType)&&(c.essayText=""),(null!==(o=this.exam_obj.limitAudio)&&void 0!==o?o:-1)>0)if(l){var m=l.filter(p=>p.questionId==e[r].id);m&&m.length>0&&(c.limitAudio=m[0].limitTimes+m[0].limitPlay,c.limitPlay=0)}else c.attachments&&c.attachments.length>0&&(c.limitAudio=0,c.limitPlay=0);c=Object.assign(Object.assign({},c),{index:r,status:!1}),_.push(c)}}return(null!==(a=this.exam_obj.limitAudio)&&void 0!==a?a:-1)>0?this.addAudioObjsToQuestion(_):_}addAudioObjsToQuestion(e){var i=[];return e.forEach(o=>{var a,_;if(o.attachments&&o.attachments.length>0){o.audioLimitObjs=[];let r=(null!==(a=this.exam_obj.limitAudio)&&void 0!==a?a:0)-(null!==(_=o.limitAudio)&&void 0!==_?_:0);if(r>0)for(var l=0;l<r;l++)o.audioLimitObjs.push({index:l,status:!0})}i.push(o)}),i}sendAudioForQuestion(e){for(var i,o,a,_,l,r=0;r<this.questionList.length;r++)this.questionList[r].id==(null===(i=e.obj)||void 0===i?void 0:i.id)&&(1==e.play?this.questionList[r].limitPlay=(null!==(o=this.questionList[r].limitPlay)&&void 0!==o?o:0)+1:(this.questionList[r].limitPlay=(null!==(a=this.questionList[r].limitPlay)&&void 0!==a?a:0)-1,this.questionList[r].limitAudio=(null!==(_=this.questionList[r].limitAudio)&&void 0!==_?_:0)+1,null===(l=this.questionList[r].audioLimitObjs)||void 0===l||l.forEach(m=>{m.index==e.index&&(m.status=!1)})));this.saveAudioLimitStorage()}saveAudioLimitStorage(){var e,i,o=[];this.questionList.forEach(a=>{a.attachments&&a.attachments.length>0&&o.push({questionId:a.id,limitTimes:a.limitAudio,limitPlay:a.limitPlay})}),o.length>0&&(this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(i=null===(e=this.exam_obj.id)||void 0===e?void 0:e.toString())&&void 0!==i?i:"",this.hashId),this.browserStorageService.saveSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(o)))}compareContent(e,i){return e.key==i.content}compareContentPDF(e,i){return e.content==i.content}fillData(e){var i,o,a,_,l,r,m,c,p,h,g,x,T,I,b,w,P,F,L,U,N;this.checkResultTracking(),this.userObj=this.homeworkExamService.mustInClassroom(null!==(i=this.exam_obj.whoAllow)&&void 0!==i?i:0)&&null!==(a=null===(o=e.data)||void 0===o?void 0:o.studentObj)&&void 0!==a?a:this.baseApiService.getUserObj(),this.totalTime=null!==(l=null===(_=e.data)||void 0===_?void 0:_.countDownSecond)&&void 0!==l?l:0,this.startTestTime=null!==(m=null===(r=e.data)||void 0===r?void 0:r.startServerSecond)&&void 0!==m?m:0;var Z=this.commonService.willDeleteParseJson(null!==(c=this.browserStorageService.getSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id))&&void 0!==c?c:"");if(this.hashIdUpdate=null!==(h=null===(p=e.data)||void 0===p?void 0:p.hashCodeUpload)&&void 0!==h?h:"",this.sendHashIdUpdate(this.hashIdUpdate),(null===(g=e.data)||void 0===g?void 0:g.hasOwnProperty("errorMessage"))&&e.data.errorMessage)this.hasErrorMessage=e.data.errorMessage,"lang_core_exam_password_invalid"==this.hasErrorMessage?this.openSubmitName(!1,this.hashId,!0,"lang_core_exam_password_invalid"):"lang_core_exam_password_invalid"==this.hasErrorMessage&&""==this.password&&(this.hasErrorMessage="lang_core_exam_password_needed",this.openSubmitName(!1,this.hashId,!0)),this.stopStatusObj();else{this.hasErrorMessage="",(null!==(I=null===(T=null===(x=e.data)||void 0===x?void 0:x.examObj)||void 0===T?void 0:T.minutes)&&void 0!==I?I:-1)>0?this.unLimitTime=!1:(this.unLimitTime=!0,this.totalTime=1),this.validForTakeTest=!((null!==(w=null===(b=e.data)||void 0===b?void 0:b.countDownSecond)&&void 0!==w?w:1)<=0&&!this.unLimitTime);let Q=this.commonService.castJsonToClassObjs(be.v,JSON.stringify(null===(P=e.data)||void 0===P?void 0:P.questionObjs)),C=this.changeQuestionContent(null!=Q?Q:[]);if(this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&(this.openAutoMonitor(),this.hasMonitorScreen=!0),this.syncData&&this.syncData.hasOwnProperty("datas")&&""!=this.syncData.datas){var k=this.commonService.willDeleteParseJson(this.syncData.datas);null==Z?(this.answerList=null!=k.answers?k.answers:[],this.noteList=null!=k.notes?k.notes:[],this.files=null!==(F=this.commonService.myParseJson(k.files))&&void 0!==F?F:[],C=this.reBindDataQuestion(C,this.answerList)):k.saveTime<Z.saveTime?(this.answerList=Z.answers,this.noteList=Z.notes,this.files=null!==(L=this.commonService.myParseJson(Z.files))&&void 0!==L?L:[],C=this.reBindDataQuestion(C,this.answerList)):(this.answerList=k.answers,this.noteList=k.notes,this.files=null!==(U=this.commonService.myParseJson(k.files))&&void 0!==U?U:[],C=this.reBindDataQuestion(C,this.answerList))}else Z&&(this.answerList=Z.answers,this.noteList=Z.notes,this.files=null!==(N=this.commonService.myParseJson(Z.files))&&void 0!==N?N:[],C=this.reBindDataQuestion(C,this.answerList));this.followerRenderQuest.setNumQuest(C.length),this.questsLoadState.startLoad=!0,this.questionList=C,this.questionRenderService.parseRenderQuestions(C,E=>{this.questsLoadState.loadPercent=Math.floor(E)},void 0,!0).then(E=>{var D;this.questionList=E,this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!1,this.countQuestion=this.questionList.length,this.hasEssayQuestion=this.checkEssay(),this.saveAudioLimitStorage(),this.validForTakeTest?this.unLimitTime||(this.setTimeExam(),this.getTimeServer()):(this.takeAnswerForQuestion(this.answerList,this.questionList),this.totalTime>=-90&&this.totalTime<=0&&this.setTimeAutoSubmit(null!==(D=this.globalService.plusGlobalInterval("exam"))&&void 0!==D?D:0,"exam")),this.saveToStorage(this.answerList,this.noteList,this.files),this.setTimeClient()}).catch(E=>{this.showErrorSnack("\u0110\u1ec1 thi t\u1ea3i kh\xf4ng th\xe0nh c\xf4ng."),this.questsLoadState.startLoad=!1,this.questsLoadState.hasErrs=!0,this.questsLoadState.errData=E.message})}}reloadExam(){location.reload()}takeAnswerForQuestion(e,i){i.forEach(o=>{e.forEach(a=>{if(a.questionId==o.id)if(this.answerTypeService.isFillAnswer(o.answerType)||this.answerTypeService.isEssayAnswer(o.answerType))o.choseAnswer=a.answerContent[0].content;else if((this.answerTypeService.isOneChoiceAnswer(o.answerType)||this.answerTypeService.isMultipleChoiceAnswer(o.answerType))&&o.answers){var _=a.answerContent[0].index;o.choseAnswer=o.answers[_].alpha?o.answers[_].alpha:o.answers[_].key}})})}reBindDataQuestion(e,i){var o=[];return e.forEach(a=>{i.forEach(_=>{if(_.questionId==a.id){if(this.answerTypeService.isEssayAnswer(a.answerType))(l=_.answerContent&&_.answerContent.length>0?_.answerContent[0].content:"")&&(a.essayText=l);else if(this.answerTypeService.isEssayAnswer(a.answerType)){var l;(l=_.answerContent&&_.answerContent.length>0?_.answerContent[0].content:"")&&(a.essayText=l)}else if(a.answers)for(var r=0;r<a.answers.length;r++){if(this.compareContent(a.answers[r],_.answerContent&&_.answerContent.length>0?_.answerContent[0]:{index:0,content:""})){a.answers[r].checked=!0;break}a.answers[r].checked=!1}a.status=!0}}),o.push(a)}),o}approvedByName(e){var i,o={fullName:e.nameEmit,examHashId:null===(i=this.dataProcess.examObj)||void 0===i?void 0:i.hashId,classroomId:e.classId?e.classId:0};this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForExamPost(o).subscribe(a=>{var _;1==a.success?(this.getData(),this.chooseChildData={isPendingApproved:!1,isShow:!1}):this.showErrorSnack(null!==(_=a.message)&&void 0!==_?_:"")}))}openChooseStudent(e,i){var o,a,_;e.responseFrontExam&&1==i?(this.selectStudent=!1,this.selectClassroom=!0,this.chooseChildData={studentObjs:void 0,classroomObjs:e.responseFrontExam.classroomObjs,isPendingApproved:!1,isShow:!0},e.responseFrontExam.classroomObjs&&1==(null===(o=e.responseFrontExam.classroomObjs)||void 0===o?void 0:o.length)&&this.closeChooseStudent({classObj:null!==(_=null===(a=e.responseFrontExam.classroomObjs)||void 0===a?void 0:a[0])&&void 0!==_?_:{},studentObj:{},type:1,onlyOneClass:!0})):e.chooseStudentData&&2==i?(this.selectClassroom=!1,this.selectStudent=!0,this.chooseChildData={studentObjs:e.chooseStudentData.studentObjs,classObj:e.chooseStudentData.classroomObj,onlyOneClass:e.chooseStudentData.onlyOneClass,isPendingApproved:!1,isShow:!0}):e.student&&(this.selectClassroom=!1,this.selectStudent=!0,this.chooseChildData={studentObj:e.student,isPendingApproved:!0,isShow:!0})}closeChooseStudent(e){var i,o;if(1==e.type){var a=this.dataProcess.studentObjs,_=[];a&&a.length>0&&(_=a.filter(m=>{var c,p;return m.classroomId==(null!==(p=null===(c=e.classObj)||void 0===c?void 0:c.id)&&void 0!==p?p:0)})),this.openChooseStudent({chooseStudentData:{studentObjs:_,classroomObj:e.classObj,onlyOneClass:e.onlyOneClass},student:null,responseFrontExam:null},2)}else{var r=null===(i=this.userService)||void 0===i?void 0:i.getUserObj();0==e.studentObj.isVerified||1==e.classObj.freeChooseName?this.frontStudentService.apiFrontStudentAddStudentToClassForExamGet(null===(o=this.dataProcess.examObj)||void 0===o?void 0:o.hashId,e.classId,e.studentObj.id?e.studentObj.id:0).subscribe(m=>{1==m.success?(this.getData(),this.isAfterChooseStudent=!0,this.chooseChildData={isPendingApproved:!1,isShow:!1}):(this.isAfterChooseStudent=!1,this.showErrorSnack("lang_auto_khong_tai_duoc_du_lieu"))}):r.id==e.studentObj.parentId?(this.getData(),this.chooseChildData={isPendingApproved:!1,isShow:!1}):this.sendRequestData={studentObj:e.studentObj,classId:e.classId,isShow:!0}}}confirmSendRequest(e){e?(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien")):(this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1},this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai"))}closeRequestDialog(){this.sendRequestData={studentObj:void 0,classId:void 0,isShow:!1}}backToClassList(){this.openChooseStudent({responseFrontExam:this.dataProcess,student:null,chooseStudentData:null},1)}setTimeExam(){var e;if((null!==(e=this.exam_obj.minutes)&&void 0!==e?e:-1)>0){var i="exam",o=this.globalService.plusGlobalInterval(i);this.intervalExamTimeout=window.setInterval(()=>{try{if(o==this.globalService.getGlobalInterval(i)){const a=Math.floor(this.totalTime/3600),l=Math.floor(this.totalTime%3600/60),r=this.totalTime%60;this.totalTime<=0?(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0,almostEnd:!0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(null!=o?o:0,i)),clearInterval(this.intervalExamTimeout)):this.timeCount=0==a&&0==l?{hour:a,minute:l,second:r,almostEnd:!0}:{hour:a,minute:l,second:r,almostEnd:!1},this.totalTime-=1}else clearInterval(this.intervalExamTimeout)}catch(a){console.log(a)}},1e3),this.globalService.pushIntervalObjs(this.intervalExamTimeout)}}getTimeServer(){var e="examServerTime",i=this.globalService.plusGlobalInterval(e);this.intervalGetTimeServer=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)?this.subscriptions.add(this.frontExamService.apiFrontExamGetTimeExamObjGet().subscribe(o=>{var a,_,l;if(1==o.success){var r=60*(null!==(a=this.exam_obj.minutes)&&void 0!==a?a:0),m=null!==(l=null===(_=o.data)||void 0===_?void 0:_.curServerTime)&&void 0!==l?l:0;this.totalTime=this.startTestTime+r-m,this.totalTime<=0&&(0==this.sendingData&&(this.sendingData=!0,this.timeCount={hour:0,minute:0,second:0},this.validForTakeTest=!1,this.takeAnswerForQuestion(this.answerList,this.questionList),this.setTimeAutoSubmit(null!=i?i:0,e)),clearInterval(this.intervalGetTimeServer))}})):clearInterval(this.intervalGetTimeServer)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(200,300)),this.globalService.pushIntervalObjs(this.intervalGetTimeServer)}randomIntFromInterval(e,i){return Math.floor(Math.random()*(i-e+1)+e)}setTimeAutoSubmit(e,i){var o=this.totalTime+90,a="autoSubmitTimeCount",_=this.globalService.plusGlobalInterval(a);this.intervalAutoSubmit=window.setInterval(()=>{try{if(_!=this.globalService.getGlobalInterval(a)||this.validForTakeTest)clearInterval(this.intervalAutoSubmit);else{const l=Math.floor(o/3600),m=Math.floor(o%3600/60),c=o%60;o<=0?(this.timeCount={hour:0,minute:0,second:0},(_==this.globalService.getGlobalInterval(a)||e==this.globalService.getGlobalInterval(i))&&!this.checkSubmit&&this.submitTest(!0),clearInterval(this.intervalAutoSubmit)):this.timeCount={hour:l,minute:m,second:c},o-=1}}catch(l){console.log(l)}},1e3),this.globalService.pushIntervalObjs(this.intervalAutoSubmit)}setTimeClient(){var e="getTimeClient",i=this.globalService.plusGlobalInterval(e);this.intervalTimeClient=window.setInterval(()=>{try{i==this.globalService.getGlobalInterval(e)?this.timeClient=Date.now():clearInterval(this.intervalTimeClient)}catch(o){console.log(o)}},1e3*this.randomIntFromInterval(60,70)),this.globalService.pushIntervalObjs(this.intervalTimeClient)}setNote(e,i,o,a){for(var _={questionId:e,noteContent:[{index:o,content:i.target.value}]},l=0;l<this.noteList.length;l++)_.questionId==this.noteList[l].questionId?this.noteList[l].noteContent=_.noteContent:this.noteList.push(_);this.saveToStorage(this.answerList,this.noteList,this.files)}setAnswerTrueFalse(e){var i,o,a,_,l=this.answerList.filter(p=>p.questionId==e.id);if(e.answerConfig&&null!=e.index&&1==e.type){var r={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?null!==(i=e.answerConfig.content)&&void 0!==i?i:"":null!==(o=e.answerConfig.key)&&void 0!==o?o:""}]};if(l&&l.length>0)for(var m=0;m<this.answerList.length;m++)this.answerList[m].questionId==r.questionId&&this.answerList[m].answerContent.push(r.answerContent[0]);else this.answerList.push(r);this.changeStatusAnswer(r,e.index,!0,e.isImage,e)}else if(e.answerConfig&&null!=e.index&&2==e.type){var c={questionId:e.id,answerContent:[{index:e.index,content:e.isImage?null!==(a=e.answerConfig.content)&&void 0!==a?a:"":null!==(_=e.answerConfig.key)&&void 0!==_?_:""}]};if(l&&l.length>0)for(m=0;m<this.answerList.length;m++)this.answerList[m].questionId==c.questionId&&(this.answerList[m].answerContent=c.answerContent);else this.answerList.push(c);this.changeStatusAnswer(c,e.index,!1,e.isImage,e)}this.changeStatusQuestion(e.id)}setAnswerEssay(e){var i=!0,o=this.answerList.filter(p=>p.questionId==e.id);if(e.event&&null!=e.index&&3==e.type)if(this.onTypingAnswer=!0,null!=e.event.target.value){var a={questionId:e.id,answerContent:[{index:e.index,content:e.event.target.value.trim()}]};if(o&&o.length>0){for(var _=0;_<this.answerList.length;_++)if(this.answerList[_].questionId==a.questionId){for(var l=0;l<this.answerList[_].answerContent.length;l++)this.answerList[_].answerContent[l].index==a.answerContent[0].index&&(this.answerList[_].answerContent[l].content=a.answerContent[0].content);var r=this.answerList[_].answerContent.filter(p=>p.index==a.answerContent[0].index);r&&0==r.length&&this.answerList[_].answerContent.push(a.answerContent[0])}this.onTypingAnswer=!1}else this.answerList.push(a),this.onTypingAnswer=!1;if(""==e.event.target.value.trim()){i=!1;var m=this.answerList.filter(p=>p.questionId==e.id);if(m&&1==m.length){var c=this.answerList.indexOf(m[0]);this.answerList.splice(c,1),this.saveToStorage(this.answerList,this.noteList,this.files)}}}else i=!1;i&&this.changeStatusQuestion(e.id)}setResultTracking(e){var i,o;this.resultTracks.push([...e,this.timeService.getCurrentSecond().toString()]),this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(o=null===(i=this.exam_obj.id)||void 0===i?void 0:i.toString())&&void 0!==o?o:"",this.hashId),this.browserStorageService.saveSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id,JSON.stringify(this.resultTracks))}changeStatusQuestion(e){for(var i=0;i<this.questionList.length;i++)this.questionList[i].id==e&&(this.questionList[i].status=!0);this.saveToStorage(this.answerList,this.noteList,this.files)}changeStatusAnswer(e,i,o,a,_){if(!o)try{this.questionList.forEach(l=>{var r;if(l.id==e.questionId&&l.answers&&l.answers.length>0){for(var m=0;m<l.answers.length;m++)l.answers[m].checked=!1;l.answers[i].checked=!0,this.isMobile&&_.answerConfig&&this.commonService.snackChoiceAnswer("C\xe2u "+((null!==(r=l.index)&&void 0!==r?r:0)+1)+" - Ch\u1ecdn "+(_.answerConfig.alpha?_.answerConfig.alpha:_.answerConfig.key),"")}})}catch(l){console.log(l)}}saveToStorage(e,i,o){var a,_;try{var l={autoSubmit:void 0,serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()},r=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),m={answers:e,notes:i,files:JSON.stringify(o),infors:r,trackInfos:JSON.stringify(l),saveTime:(new Date).getTime()};this.browserStorageService.getSizeOfStorage()>4.5&&this.browserStorageService.removeExceptSimpleStorage(null!==(_=null===(a=this.exam_obj.id)||void 0===a?void 0:a.toString())&&void 0!==_?_:"",this.hashId),this.browserStorageService.saveSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id,JSON.stringify(m))}catch(c){}}checkFullScreen(){switch(this.browserName){case"chrome":case"firefox":return document.fullscreenElement;default:return this.customDocument.webkitFullscreenElement}}handleFullscreenEvent(e){if(!this.isMobile&&!this.onShowUpload&&this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.startedTimeSecond>0&&!this.onTypingAnswer)if(this.clickedFromIframe)this.clickedFromIframe=!1;else if(!this.checkFullScreen()&&this.acceptSendTrack){var i={examId:this.exam_obj.id,name:"exit_full_screen",examResultId:this.testingResultObj.id};this.acceptSendTrack=!1,this.subscriptions.add(this.frontExamTrackService.apiFrontExamTrackSaveObjPost(i).subscribe(a=>{1==a.success?(this.commonService.getTranslate("lang_auto_ban_dang_bi_giam_sat_hay_tro_lai_che_do_toan_man_hinh").subscribe(_=>{this.commonService.snackWarning(_,"")}),this.acceptSendTrack=!0):setTimeout(()=>{this.acceptSendTrack||(this.acceptSendTrack=!0)},1e3)}))}}detectBrowserName(){const e=navigator.userAgent.toLowerCase();return e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":e.match(/opr\//i)?"opera":e.match(/edg/i)?"edge":"other"}clickFromIframe(){this.clickedFromIframe||(this.clickedFromIframe=!0)}goBackFullScreen(){const e=document.documentElement;let i=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullscreen||e.msRequestFullscreen;i&&i.call(e)}exitFullscreen(){const e=document;if(window.innerHeight==screen.height){let i=e.exitFullscreen||e.webkitExitFullscreen||e.msExitFullscreen;i&&i.call(e)}}removeNullContent(e){var i=[];return e.forEach(o=>{o.content&&i.push(o)}),i}removeImg(e){var i=this.files.filter(o=>o.url!==e);this.files=i,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")})}updateFileUploadMobile(){return new Promise(e=>{let i={hashCode:this.hashIdUpdate,files:JSON.stringify(this.files)};this.frontExamResultUploadService.apiFrontExamResultUploadUpdateImageToTmpPost(i).subscribe(o=>{1==o.success&&e(!0)})})}calcRight(){var e,i=0,o=window.outerWidth,a=null===(e=document.getElementById("container-content"))||void 0===e?void 0:e.offsetWidth;return a&&(i=(o-a)/2),i}checkWitdh(){this.isMobile=window.innerWidth<1200}onResize(e){this.isMobile=e.target.innerWidth<1200,this.calcRight()}resizeImg(e,i,o){var a,_=document.getElementById("media_content_"+e),l=null!==(a=null==_?void 0:_.offsetWidth)&&void 0!==a?a:0;return _?l/i<=1?Math.round(o*(l/i)):Math.round(o):0}resizeImgAll(e,i,o){var a,_=document.getElementById("media_content_all_"+e),l=null!==(a=null==_?void 0:_.offsetWidth)&&void 0!==a?a:0;return _?l/i<=1?Math.round(o*(l/i)):Math.round(o):0}returnFalse(){return!1}autoResize(e,i){var o;1==i?(o=document.getElementById("note_box_"+e))&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0):(o=document.getElementById("note_box_all_"+e))&&setTimeout(()=>{o.style.cssText="height:auto;",o.style.cssText="height:"+(o.scrollHeight+30)+"px",o.style.maxHeight="350px"},0)}autoResizeEssayAnswer(e){if(1==e.type)(i=document.getElementById("answer-1-unit-"+e.id))&&setTimeout(()=>{i.style.cssText="height:auto;",i.style.cssText="height:"+(i.scrollHeight+30)+"px"},0);else if(2==e.type)(i=document.getElementById("answer-0-unit-"+e.id))&&setTimeout(()=>{i.style.cssText="height:auto;",i.style.cssText="height:"+(i.scrollHeight+30)+"px"},0);else if(3==e.type)(i=document.getElementById("answer-1-all-"+e.id))&&setTimeout(()=>{i.style.cssText="height:auto;",i.style.cssText="height:"+(i.scrollHeight+30)+"px"},0);else{var i;(i=document.getElementById("answer-0-all-"+e.id))&&setTimeout(()=>{i.style.cssText="height:"+(i.scrollHeight-50)+"px",i.style.cssText="height:"+(i.scrollHeight+30)+"px"},0)}}checkEssay(){console.log(this.questionList);var e=this.questionList.filter(i=>this.answerTypeService.isEssayAnswer(i.answerType));return!!(e&&e.length>0)&&(this.checkEssayPopup&&this.openEssayDialog(),!0)}isEmpty(e){for(var i in e)if(e.hasOwnProperty(i))return!1;return!0}routerBackSelectStudent(){this.commonService.myNavigation("/de-thi/"+this.hashId)}redirectToHomepage(e){this.quitTestData={id:0,time:0,isShow:!1},e&&this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backToLink))}goToBuyExam(){this.commonService.myNavigation("/de-thi/"+this.exam_obj.hashId)}openSubmitName(e,i,o,a){this.submitNameData=!e&&i&&o?{needPassword:o,isShow:!0,examId:this.exam_obj.id,hashId:i,errorMessage:a||""}:{notAnonymous:e,isShow:!0}}closeSubmitName(e){e&&(this.getData(),this.submitNameData={isShow:!1})}openShowInfo(e){this.showFormInfo={infoFields:e,examId:this.exam_obj.id,hashId:this.exam_obj.hashId,isShow:!0}}closeShowInfo(e){e.success&&(this.initStatusObj(),this.tempStorageInfo=e.info,this.hasErrorMessage="",this.getData(),this.showFormInfo={infoFields:[],isShow:!1})}openAutoMonitor(){this.dataMonitorAuto={isShow:!0}}closeAutoMonitor(e){var i,o,a,_,l;if(e){this.dataMonitorAuto={isShow:!1};const p=document.documentElement;let h=p.requestFullscreen||p.webkitRequestFullscreen||p.mozRequestFullscreen||p.msRequestFullscreen;if(h&&h.call(p),this.startedTimeSecond=Math.floor(Date.now()/1e3),this.exam_obj.autoMonitor&&3==this.exam_obj.autoMonitor){if(this.isAfterChooseStudent){var r=this.baseApiService.getUserObj(),m=this.userObj,c={};c[null!==(i=m.id)&&void 0!==i?i:0]=(null===(o=null==r?void 0:r.id)||void 0===o?void 0:o.toString())+"_"+this.encryptService.createMd5((null!==(a=m.id)&&void 0!==a?a:0).toString()+(null===(_=null==r?void 0:r.id)||void 0===_?void 0:_.toString())).substring(6,9),this.fireStoreService.examSessions_writeUserMap(null!==(l=this.exam_obj.hashId)&&void 0!==l?l:"",c).subscribe(g=>{console.log("writeFirestore - success"+JSON.stringify(g))})}this.openVideoMonitor()}}}openEssayDialog(){this.dataEssayPopup={isShow:!0}}closeEssayDialog(e){e&&(this.dataEssayPopup={isShow:!1},this.checkEssayPopup=!1)}openQuitDialog(){this.submitData.isShow||(this.quitTestData={id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0})}closeQuitDialog(){this.quitTestData={id:0,time:0,isShow:!1}}openSubmitExam(e,i,o){this.quitTestData.isShow||(this.submitData=this.hasEssayQuestion&&0==this.files.length?{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,notHasFiles:!0,isShow:!0,autoSubmit:i,saveFalse:o}:{id:0,time:this.totalTime,unLimitTime:this.unLimitTime,isShow:!0,autoSubmit:i,saveFalse:o})}closeSubmitDialog(){this.submitData={id:0,time:0,isShow:!1}}confirmSubmit(e){var i;e.isSaveFalse||(this.submitData={id:0,time:0,isShow:!1}),e.isConfirm&&!this.checkSubmit&&this.submitTest(null!==(i=e.isAutoSubmit)&&void 0!==i&&i)}endTimeBackBtn(){this.commonService.myNavigationWithQueryString("/de-thi/"+this.exam_obj.hashId,"?backto="+encodeURIComponent(this.backToLink))}endTimeSubmitBtn(){this.submitTest(!0)}openUploadImage(){var e=document.getElementById("monitorScreenTakeTest");this.uploadImageData.isShow?(this.uploadImageData={id:0,isShow:!1},this.onShowUpload=!1):(this.uploadImageData=this.files.length>0?{id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0}:{id:this.exam_obj.id,files:[],isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!0},e&&(e.style.display="none")),this.isShowSheet&&(this.isShowSheet=!1)}conFirmUpload(e){var i,o=document.getElementById("monitorScreenTakeTest");"boolean"!=typeof e&&e.isConfirm?(this.files=null!==(i=e.uploadFiles)&&void 0!==i?i:[],window.scrollTo({top:0}),this.uploadImageData={id:0,isShow:!1},this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.saveToStorage(this.answerList,this.noteList,this.files),this.onShowUpload=!1):(this.uploadImageData={id:0,isShow:!1},this.exam_obj.autoMonitor&&0!=this.exam_obj.autoMonitor&&this.closeAutoMonitor(!0),this.onShowUpload=!1),o&&(o.style.display="block")}onSelectFileEmit(e){this.onShowUpload=e}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},e.file),{index:e.index})}changesPosImg(e){e&&(this.files=e,this.updateFileUploadMobile().then(()=>{this.showSuccessSnack("lang_auto_cap_nhat_thanh_cong_dinh_kem_file_tu_luan")}))}sendHashIdUpdate(e){e&&(this.frontExamResultUploadService.apiFrontExamResultUploadGetTmpUploadObjGet(e).subscribe(i=>{var o,a,_,l,r,m;if(1==i.success&&this.commonService.isJson(null!==(_=null===(a=null===(o=i.data)||void 0===o?void 0:o.tmpObj)||void 0===a?void 0:a.files)&&void 0!==_?_:"")){var c=this.commonService.willDeleteParseJson(null!==(m=null===(r=null===(l=i.data)||void 0===l?void 0:l.tmpObj)||void 0===r?void 0:r.files)&&void 0!==m?m:"");c.isNotNoti=!0,this.addFileMobileUpload({files:c})}}),this.commonService.gaEvent("FrontExam_GetTmpExamObj"))}addFileMobileUpload(e){var i;this.files=null!==(i=e.files)&&void 0!==i?i:[],this.uploadImageData={id:this.exam_obj.id,files:this.files,isMonitor:this.hasMonitorScreen,isMobile:this.commonService.isMobileOrTable(),isShow:!!e.keepOpen}}submitTest(e){this.initStatusObj();var i=this.browserStorageService.getSimpleStorage("userInfoV3_"+this.exam_obj.hashId),o=this.commonService.myClone(this.resultTracks);let a=JSON.stringify({type:"exam",id:this.exam_obj.id,user:this.exam_obj.tenantId});var _={autoSubmit:e,serverCountDown:this.totalTime,examMinutes:this.exam_obj.minutes,saveStudentId:this.userObj.id,saveDeviceId:this.deviceId,deviceType:this.commonService.deviceType()};this.checkSubmit=!0;let l={answers:this.answerList,notes:null==this.noteList?[]:this.noteList,files:JSON.stringify(this.files),infors:i,trackInfos:JSON.stringify(_),resultTrack:this.zipdataService.convertContentGzip(JSON.stringify(o))};this.subscriptions.add(this.frontExamResultService.apiFrontExamResultSaveResultPost(l,a,this.hashId).subscribe(r=>{var m,c,p;if(1==r.success){this.browserStorageService.removeSimpleStorage("saveResultTrack_"+this.exam_obj.hashId+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("saveScrollTrack_"+this.exam_obj.hashId+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("saveDataV4_"+this.exam_obj.id+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("limitAudioV5_"+this.exam_obj.id+"_"+this.testingResultObj.id),this.browserStorageService.removeSimpleStorage("userInfoV3_"+this.exam_obj.hashId),this.browserStorageService.removeSimpleStorage("passWord_"+this.exam_obj.hashId),this.browserStorageService.saveSimpleSessionStorageWithExpired("test_result_v2_"+this.exam_obj.hashId+"_"+(null===(m=r.data)||void 0===m?void 0:m.id),JSON.stringify(r.data));try{this.localStorageObjetct.clearAllCache(),this.exitFullscreen(),"undefined"!=typeof aztExam&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession()}catch(g){}this.clearAllInterval(),this.successStatusObj(),this.commonService.myNavigationWithQueryString("/test/submit-test/"+this.tenantId+"/"+this.curCateId+"/"+this.hashId+"/"+(null===(c=r.data)||void 0===c?void 0:c.id),"?backto="+encodeURIComponent(this.backToLink))}else this.errorStatusObj(null!==(p=r.message)&&void 0!==p?p:"",!0),e&&(this.uploadImageData.isShow=!1,this.checkTimeOutExam=!0,this.openSubmitExam(!0,e,!0)),this.submitData.messageError=r.message,setTimeout(()=>{this.checkSubmit=!1},5e3)})),this.commonService.gaEvent("FrontExam_SaveObj")}clearAllInterval(){for(var e=this.globalService.getIntervalObjs(),i=0;i<e.length;i++)clearInterval(e[i]);this.globalService.emptyIntervalObjs()}changeShowType(e){1==e?(this.showUnit=!1,this.showList=!0):(this.showUnit=!0,this.showList=!1)}showSheet(e,i){e?this.changeShowType(1==i?1:2):this.isShowSheet=!this.isShowSheet,setTimeout(()=>{let o=document.getElementById("bottom_action"),a=document.getElementById("time_client"),_=null==o?void 0:o.offsetHeight;a&&_&&(a.style.bottom=_+"px")},100)}askBeforeCloseWindow(e){if(!this.questsLoadState.startLoad&&!this.questsLoadState.hasErrs)return e.returnValue=!1}prevQuestion(e){var i=document.getElementById("question_"+String(e)),o=document.getElementById("question_"+String(e-1));o&&i&&void 0!==o.getAttribute("hidden")&&"false"!==o.getAttribute("hidden")&&(i.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=0==e?0:e-1)}nextQuestion(e){var i=document.getElementById("question_"+String(e)),o=document.getElementById("question_"+String(e+1));o&&i&&void 0!==o.getAttribute("hidden")&&"false"!==o.getAttribute("hidden")&&(i.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=e==this.questionList.length-1?e:e+1)}goToQuestion(e){var i=document.getElementById("question_"+String(this.curQuestion)),o=document.getElementById("question_"+String(e));o&&i&&void 0!==o.getAttribute("hidden")&&"false"!==o.getAttribute("hidden")&&(i.setAttribute("hidden","true"),o.removeAttribute("hidden"),this.curQuestion=e)}goToQuestionAll(e){var i=document.getElementById("question_all_"+e),o=document.getElementById("question_ui");this.files&&this.files.length>0?window.scrollTo({top:Number(null==i?void 0:i.offsetTop)+Number(null==o?void 0:o.offsetTop)-5}):window.scrollTo({top:Number(null==i?void 0:i.offsetTop)-5})}checkResultTracking(){let e=this.browserStorageService.getSimpleStorage("saveResultTrack_"+this.hashId+"_"+this.testingResultObj.id);e&&(this.resultTracks=this.commonService.willDeleteParseJson(e))}openVideoMonitor(){var e=this.baseApiService.getUserObj(),i=this.userObj;"undefined"!=typeof aztExam&&aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var o={user:{token:e.rememberToken,userid:e.id,username:e.fullName,studentid:i?i.id:0,studentname:i?i.fullName:null},config:{domainApi:ht.N.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreenTakeTest",examconfig:this.exam_obj,examid:this.exam_obj.id,firebaseApp:this.fireStoreService,resultid:this.testingResultObj.id,isStarted:!0,clickFromIframeFunc:this.clickFromIframe,clickFromIframeFuncCaller:this};aztExam.MonitorStudent.getInstance().startSession(o)}}))}makeDeviceId(e=10){for(var i="",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=o.length,_=0;_<e;_++)i+=o.charAt(Math.floor(Math.random()*a));return i}getDeviceId(){var e=this.browserStorageService.getSimpleStorage("device_session");e?this.deviceId=e:(this.deviceId=this.makeDeviceId(20),this.browserStorageService.saveSimpleStorage("device_session",this.deviceId))}ngOnInit(){let e=document.getElementById("azota-app-html");e&&e.classList.add("azotaHtml"),this.form=this.fb.group({searchContent:new u.p4("",u.kI.required)}),this.checkWitdh(),this.browserName=this.detectBrowserName(),(0,nt.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var i,o,a=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),_=null===(i=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===i?void 0:i.toString(),l=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));this.backToLink=null!==(o=this.commonService.getMyQueryParam("backto"))&&void 0!==o?o:"",this.curCateId=a,this.hashId=_||"",this.tenantId=l,this.homeLink="/student/dashboard/0",this.getDeviceId(),this.initStatusObj(),this.getData(),this.isMobile&&(this.userAgent=navigator.userAgent)}),super.ngOnInit()}ngOnDestroy(){this.mixService.cancelSubscription();let e=document.getElementById("azota-app-html");e&&e.classList.remove("azotaHtml"),this.intervalSync&&clearInterval(this.intervalSync),this.intervalExamTimeout&&clearInterval(this.intervalExamTimeout),this.intervalGetTimeServer&&clearInterval(this.intervalGetTimeServer),this.intervalAutoSubmit&&clearInterval(this.intervalAutoSubmit),this.intervalTimeClient&&clearInterval(this.intervalTimeClient);for(var i=this.globalService.getIntervalObjs(),o=0;o<i.length;o++)clearInterval(i[o]);this.globalService.emptyIntervalObjs(),"undefined"!=typeof aztExam&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(bt.U),t.Y36(u.QS),t.Y36(M.gz),t.Y36(S.v),t.Y36(_t._),t.Y36(De.f),t.Y36(Ye.L),t.Y36(ze.V),t.Y36(Tt.C),t.Y36(wt.U),t.Y36(He.U),t.Y36(Re.x),t.Y36(Ct.n),t.Y36(yt.O),t.Y36(St.M),t.Y36(it.z),t.Y36(Ge.K),t.Y36(j.FQ),t.Y36(j.Dn),t.Y36(Be.U),t.Y36(j.CA),t.Y36(j.Tg),t.Y36(j.vO),t.Y36(bt.U),t.Y36(Ke.T),t.Y36(rt.j),t.Y36($e.L))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-take-test"]],viewQuery:function(e,i){if(1&e&&t.Gf(Si,5,vt),2&e){let o;t.iGM(o=t.CRH())&&(i.modalSaveImageUpload=o.first)}},hostBindings:function(e,i){1&e&&t.NdJ("beforeunload",function(a){return i.askBeforeCloseWindow(a)},!1,t.Jf7)},features:[t.qOj],decls:9,vars:9,consts:[[3,"resize","contextmenu"],["id","container-content",1,"container-fluid","MW-1400","pb-5",2,"position","relative",3,"ngClass","resize"],[4,"ngIf","ngIfElse"],[3,"data","closeDialog",4,"ngIf"],[3,"data","closeEssayDialog",4,"ngIf"],["doneLoading",""],[3,"data","closeDialog"],[3,"data","closeEssayDialog"],["lstQuestDoneLoad",""],[3,"customText"],["lstQuestHasErr",""],[3,"fileOption","closePreview",4,"ngIf"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile",4,"ngIf"],["myContent",""],[3,"customText",4,"ngIf","ngIfElse"],["class","p-5 m-5 text-center alert alert-danger",4,"ngIf"],[3,"fileOption","closePreview"],[3,"hashCode","data","closeDialog","addFileMobile","isOnSelectFile"],["style","padding-bottom: 50px",4,"ngIf","ngIfElse"],["NormalContent",""],["id","time_client",1,"time-client",3,"ngClass"],[1,"mb-0","text-center"],[2,"vertical-align","middle","font-weight","450","color","grey",3,"matTooltip"],[2,"padding-bottom","50px"],[1,"text-center","margin_question_bar","ml-3","mr-3","mb-3","pb-4"],[1,"text-center"],[1,"h4",2,"color","#111"],[1,"h5"],[1,"d-flex","justify-content-center"],[1,"h5","mr-3"],[2,"vertical-align","bottom"],["class","h5",4,"ngIf"],[2,"color","#111","font-size","14px","font-weight","450","margin-top","10px"],["class","p-3 m-2 text-center alert alert-warning",4,"ngIf"],["class","p-3 m-3 alert alert-danger",4,"ngIf"],[1,"text-center","mt-2"],[1,"btn","btn-light","mr-4",2,"color","#111","font-size","14px",3,"click"],[1,"btn","btn-warning",2,"color","white","font-size","14px",3,"click"],[1,"text-center","mt-3"],["class","mt-1 ml-3 mr-3",4,"ngIf"],[1,"p-3","m-2","text-center","alert","alert-warning"],[1,"ng-binding"],[1,"p-3","m-3","alert","alert-danger"],[1,"mt-1","ml-3","mr-3"],[3,"label"],["class","mb-3 mt-2",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[1,"mb-3","mt-2"],[1,"question-content","text-left"],[3,"disableLazy","disableRender","follower","displayScreen","isMobile","isBackEnd","examObj","question","index","overTime","questionListLength"],["class","text-center mt-1 mb-1",4,"ngIf"],["class","p-3 m-2 alert alert-danger",4,"ngIf"],[3,"answerFiles","changesPosImg","previewFile","removeFile"],[1,"text-center","mt-1","mb-1"],[1,"h6","mb-1","mt-1"],[1,"p-3","m-2","alert","alert-danger"],[4,"ngIf"],[3,"data","closeDialog","redirectToHomepage",4,"ngIf"],["class","row pl-0 pr-0 top_toolBar pt-2",3,"ngClass",4,"ngIf"],[3,"ngIf"],[3,"data","closeDialog","redirectToHomepage"],[1,"row","pl-0","pr-0","top_toolBar","pt-2",3,"ngClass"],[1,"col-12","col-md-3","col-lg-3","mb-1"],["class","row",4,"ngIf"],["class","row clickable",3,"click",4,"ngIf"],["class","col-12 col-md-3 col-lg-3 mb-1 text-center align-self-center",4,"ngIf"],["class","col-12 col-md-6 col-lg-6 mb-1",4,"ngIf"],[1,"row"],[2,"padding","6px 0px 5px 15px"],[2,"font-size","25px","color","rgba(0, 167, 208, 1)"],["style","padding: 10px",3,"ngClass",4,"ngIf"],["style","padding: 10px",4,"ngIf"],[2,"padding","10px",3,"ngClass"],[2,"padding","10px"],[1,"row","clickable",3,"click"],[2,"color","rgba(0, 167, 208, 1)"],[2,"align-self","center","margin-bottom","2px"],[2,"color","#347da5"],[1,"col-12","col-md-3","col-lg-3","mb-1","text-center","align-self-center"],["style","vertical-align: middle; margin: auto",4,"ngIf"],[2,"vertical-align","middle","margin","auto"],[1,"col-12","col-md-6","col-lg-6","mb-1"],[1,"d-flex","justify-content-end","toolBar"],["class","btn btn-info mr-2","style","font-size: 13px",3,"click",4,"ngIf"],[1,"mr-2","d-flex"],[1,"mb-auto","mt-auto","clickable",3,"matTooltip","click"],[2,"vertical-align","middle"],[1,"ml-1","mb-auto","mt-auto","clickable",3,"matTooltip","click"],[1,"btn","btn-light","mr-1",2,"font-size","13px",3,"click"],["class","btn btn-info mr-1","style","font-size: 13px",3,"click",4,"ngIf"],[1,"btn","btn-warning",2,"color","white","font-size","13px",3,"click"],[1,"btn","btn-info","mr-2",2,"font-size","13px",3,"click"],[1,"btn","btn-info","mr-1",2,"font-size","13px",3,"click"],[3,"dataClass","isSearchTeacher","isMobile","selectClassroom"],[3,"data","showAddStudent","isSearchTeacher","hasBackToLink","isMobile","selectChild","approvedByName","backToClass"],[3,"data","confirmSend","closeDialog",4,"ngIf"],[3,"data","confirmSend","closeDialog"],["class","margin_question_bar pb-4",4,"ngIf"],[1,"margin_question_bar","pb-4"],[1,"alert","alert-danger"],[3,"click",4,"ngIf"],[1,"text-center","clickable","mt-2"],[3,"routerLink"],[3,"click"],[2,"color","#347da5","margin-left","10px","cursor","pointer"],[2,"vertical-align","middle","color","#347da5","margin-left","5px","cursor","pointer","font-size","16px","height","18px","width","16px"],[3,"answerFiles","isTesting","onMobile","showList","changesPosImg","previewFile","removeFile"],["id","monitorScreenTakeTest",1,"align-self-center","text-center",3,"ngClass"],["monitorScreenTakeTest",""],[4,"ngFor","ngForOf"],["class","box-show-sheet",3,"hidden",4,"ngIf"],[1,"question-content","mt-1","pl-0","pr-0",3,"id","hidden"],[3,"disableLazy","disableRender","follower","displayScreen","showList","isBackEnd","isMobile","examObj","question","index","last","countQuestion","overTime","questionListLength","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmit"],[1,"box-show-sheet",3,"hidden"],[1,"show-sheet"],[1,"sheet_content","text-center","mt-3"],[1,"h5","mb-0","disable-select"],[1,"listda",2,"padding-left","5px","margin-top","15px"],["class","listli","style","margin-bottom: 5px",3,"click",4,"ngFor","ngForOf"],[1,"listli",2,"margin-bottom","5px",3,"click"],["class","no-answered","style","background: #fff; color: #111",4,"ngIf"],["class","no-answered","style","background-color: rgba(60, 141, 188, 1); color: rgb(255, 255, 255)",4,"ngIf"],[1,"no-answered",2,"background","#fff","color","#111"],[1,"no-answered",2,"background-color","rgba(60, 141, 188, 1)","color","rgb(255, 255, 255)"],["id","question_ui",1,"row","justify-content-between","ml-0","mr-0","pl-0","pr-0","pb-3"],[1,"col-xl-10","pl-0","pr-0"],["id","examHeader","class","mb-1",3,"imgSrc",4,"ngIf"],["class","col-xl-2 col-game-bar show-list",3,"ngStyle",4,"ngIf"],["id","examHeader",1,"mb-1",3,"imgSrc"],[1,"question-content","mt-1","pl-0","pr-0",3,"id"],[3,"disableLazy","disableRender","follower","displayScreen","isBackEnd","showList","isMobile","examObj","countQuestion","question","overTime","index","autoResizeEssayAnswerEmitter","setAnswerEmitter","setAnswerEssayEmitter","setResultTracking","openSubmitExamEmitter","nextQuestionEmitter","prevQuestionEmitter","goToQuestionEmitter","goToQuestionAllEmitter","sendAudioEmit"],[1,"col-xl-2","col-game-bar","show-list",3,"ngStyle"],[1,"box-show-sheet","w-auto","mt-0"],[1,"show-sheet","text-center"],[1,"h5","mb-0","mt-3","disable-select"],[1,"sheet_content","sheet-Screen","mt-1"],["class","listli","style","margin-bottom: 5px;",3,"click",4,"ngFor","ngForOf"],["class","no-answered","style","background: #fff; color: #111;",4,"ngIf"],["class","no-answered","style","\n                                        background-color: rgba(60, 141, 188, 1);\n                                        color: rgb(255, 255, 255);\n                                      ",4,"ngIf"],[1,"top_action"],[1,"row","justify-content-between","ml-0","mr-0"],[1,"col-2","align-self-center"],[1,"clickable",2,"color","#fff",3,"click"],["class","col-6 text-center align-self-center pl-0 pr-0",4,"ngIf"],[1,"col-4","pl-0","pr-1","text-right","align-self-center",3,"ngClass"],[2,"vertical-align","top","line-height","1.8"],["id","bottom_action",1,"bottom_action"],[1,"collapse",3,"hidden"],[1,"card","card-body","mb-2",2,"padding","5px 0px"],["id","scroll-bottom-sheet",1,"show-sheet","scrollSheetMobile"],[1,"sheet_content","text-center","mt-1"],[1,"listda","mt-1","pl-1"],["class","listli mb-1",3,"click",4,"ngFor","ngForOf"],[1,"row","justify-content-between","clickable",3,"click"],[1,"col-3","d-flex","pr-1","menu-control"],[1,"mb-auto","mt-auto","mr-1","clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#fff"],[1,"ml-2","mb-auto","mt-auto","clickable",3,"matTooltip","click"],[1,"col-5","pl-0","pr-0","text-center","align-self-center"],[1,"mb-0","clickable"],["style","vertical-align: middle; color: #fff",4,"ngIf"],["class","col-4 text-right pl-0 align-self-center",3,"ngClass",4,"ngIf"],["class","col-6 text-center pl-0 pr-1 align-self-center",4,"ngIf"],[1,"col-6","text-center","align-self-center","pl-0","pr-0"],[1,"clickable",2,"color","#fff","border","3px solid #fff","padding","3px 5px",3,"click"],[2,"vertical-align","top"],[1,"listli","mb-1",3,"click"],[1,"col-4","text-right","pl-0","align-self-center",3,"ngClass"],[1,"text-white","mr-1","clickable",2,"vertical-align","middle","width","20px","font-size","20px","font-weight","500","margin-right","5px"],[1,"col-6","text-center","pl-0","pr-1","align-self-center"],[1,"text-white","clickable",2,"vertical-align","middle","font-size","20px","font-weight","500","margin-right","2px"],[1,"ng-binding",2,"font-size","12px"],[1,"p-5","m-5","text-center","alert","alert-danger"],[2,"text-align","center","margin","50px","border","1px solid #9e9e9e","padding","20px","border-radius","10px","background","#fafafa","overflow-wrap","break-word","line-height","25px"],[2,"color","#f44336","font-size","20px","font-weight","500","text-transform","uppercase"],[3,"innerHTML"],[1,"btn","btn-outline-primary","mr-3",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(e,i){if(1&e&&(t.TgZ(0,"div",0),t.NdJ("resize",function(a){return i.handleFullscreenEvent(a)},!1,t.Jf7)("contextmenu",function(){return i.returnFalse()}),t.TgZ(1,"div",1),t.NdJ("resize",function(a){return i.onResize(a)},!1,t.Jf7),t.YNc(2,Oi,1,0,"azt-loading-effect",2),t.YNc(3,Zi,1,1,"app-submit-info",3),t.YNc(4,ki,1,1,"app-monitor-screen",3),t.YNc(5,Ai,1,1,"app-check-essay",4),t.YNc(6,Bo,3,2,"ng-template",null,5,t.W1O),t.YNc(8,Ko,1,1,"app-submit-name",3),t.qZA()()),2&e){const o=t.MAs(7);t.xp6(1),t.Q6J("ngClass",t.VKq(7,$o,i.isMobile)),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o),t.xp6(1),t.Q6J("ngIf",i.showFormInfo.isShow&&i.validForTakeTest),t.xp6(1),t.Q6J("ngIf",i.dataMonitorAuto.isShow&&i.validForTakeTest),t.xp6(1),t.Q6J("ngIf",i.dataEssayPopup.isShow&&i.validForTakeTest),t.xp6(3),t.Q6J("ngIf",i.submitNameData.isShow)}},dependencies:[M.yS,f.mk,f.sg,f.O5,f.PC,H.a8,H.dn,V.Hw,Ot.SP,Ot.uX,B.gM,We.l,G.Q,Ve.p,Xe.f,tn.P,en.x,rn,cn.$,kn,Un,ti,vt,gi,bi,yi,f.uU,ut.lO,v.bT,v.Ev],styles:[".MW-1400[_ngcontent-%COMP%]{max-width:1400px}.box-slide-show[_ngcontent-%COMP%]{background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:3px 3px 0 0;padding-bottom:20px;padding-right:15px;padding-left:15px;border-bottom:none}.top_toolBar[_ngcontent-%COMP%]{position:fixed;top:0;left:0px;margin-left:0;margin-right:0;right:0px;width:100%;background-color:#fff;z-index:3}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.col-game-bar[_ngcontent-%COMP%]{position:fixed;top:calc(2rem + 30px);right:10vw;max-width:180px}.sheet-Screen[_ngcontent-%COMP%]{max-height:calc(100vh - 220px);overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.sheet-Screen[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.box-show-sheet[_ngcontent-%COMP%]{margin-top:14px!important;width:75%;margin:auto;background:inherit;background-color:#fff;border-width:1px;border-style:solid;border-color:#e7e7e7;border-radius:5px}.disable-select[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.question-content[_ngcontent-%COMP%]{position:relative}.next_question_btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.prev_question_btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:35%;padding:.35rem .45rem;background-color:#a3a5a670;border-radius:50%}.arrow_btn[_ngcontent-%COMP%]{font-size:20px;vertical-align:middle;width:20px;height:20px;color:#fff;margin-left:auto!important;margin-right:auto!important;-webkit-user-select:none;user-select:none}.button-note[_ngcontent-%COMP%]{position:relative;display:flex;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]{animation:revealFromLeft .5s 0s ease both 1}.show-sheet[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .sheet_content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700}.show-sheet[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listda[_ngcontent-%COMP%]{margin-top:30px;padding-left:20px}.show-sheet[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .ng-binding[_ngcontent-%COMP%]{font-size:24px;font-weight:400}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]{padding:0;margin-right:5px;display:inline-block}.show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:35px;height:35px;border-radius:50%;border:1px solid rgb(52,125,165);display:flex;align-items:center;color:#fff;justify-content:center;font-size:15px;cursor:pointer;-webkit-user-select:none;user-select:none}.show-sheet[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%], .list-answer[_ngcontent-%COMP%]   .no-answered[_ngcontent-%COMP%]{background:#273044}.note-box[_ngcontent-%COMP%]{display:none;background-color:#f7f3cf;margin-bottom:5px;min-height:30px}.answer-content[_ngcontent-%COMP%]{display:flex!important;flex-wrap:wrap}.answer-box[_ngcontent-%COMP%]{background:rgb(0,167,208);border-radius:0 0 3px 3px;color:#fff;padding:8px 20px}.btn-ans-result[_ngcontent-%COMP%]{color:#fff;background-color:#f39c12}.bottom_action[_ngcontent-%COMP%]{position:fixed;padding:15px;bottom:0;left:0;background:#312e2e;color:#fff;width:100%}.bottom_action[_ngcontent-%COMP%]   .collapse[_ngcontent-%COMP%]{display:block}.show-list[_ngcontent-%COMP%]{max-width:200px}.show-list[_ngcontent-%COMP%]   .show-sheet[_ngcontent-%COMP%]   .listli[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:27px;height:27px;border-radius:50%;border:1px solid #347da5;display:flex;align-items:center;color:#fff;justify-content:center;font-size:12px;cursor:pointer;-webkit-user-select:none;user-select:none}.top_action[_ngcontent-%COMP%]{position:fixed;padding:10px;top:0;left:0;background:#312e2e;color:#fff;width:100%}.scrollSheetMobile[_ngcontent-%COMP%]{max-height:200px;overflow-y:scroll;scrollbar-width:none;-ms-overflow-style:none}.scrollSheetMobile[_ngcontent-%COMP%]::-webkit-scrollbar{width:0;height:0}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:3px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.attach-container[_ngcontent-%COMP%]{background:#fff;padding:10px 0 0;border-radius:5px;width:83.33%;border:1px solid #e8e8e8}.monitor-screen[_ngcontent-%COMP%]{position:fixed;z-index:999;transform-origin:100% 100%;bottom:5px;right:5px}.monitor-screen-mobile[_ngcontent-%COMP%]{position:fixed;z-index:999;width:36px;height:48px;bottom:60px;right:5px}.time-almost-end[_ngcontent-%COMP%]{color:#dc3545!important;animation:timeCount 1s}.time-almost-end-mobile[_ngcontent-%COMP%]{color:#ffc107!important;animation:timeCount 1s}.time-client[_ngcontent-%COMP%]{border-radius:5px;align-items:center;justify-content:center;background-color:#ffffff57;font-size:15px;padding:2px 3px;max-width:200px;position:fixed}.time-client-pc[_ngcontent-%COMP%]{bottom:10px;left:75px}.time-client-mobile[_ngcontent-%COMP%]{bottom:54px;left:2px}.time-client-notValid[_ngcontent-%COMP%]{z-index:990;bottom:10px;left:75px}@keyframes timeCount{50%{font-size:20px!important}}.max-width-col[_ngcontent-%COMP%]{max-width:250px!important}.max-width-col-mobile[_ngcontent-%COMP%]{max-width:200px!important}@media (max-width: 1200px){#container-content[_ngcontent-%COMP%]{padding-bottom:400px!important}}@media (max-width: 768px){.answer-content[_ngcontent-%COMP%]{justify-content:center}.btn-ans-result[_ngcontent-%COMP%]{margin-right:auto!important}.list-answer[_ngcontent-%COMP%]{margin-bottom:14px!important}.list-answer-mobile[_ngcontent-%COMP%]{margin-bottom:0!important}}  .more-err-info{color:#795548;font-size:small}"]}),n})();var Vo=d(95197),Xo=d(66468),ta=d(63382),ea=d(15575),na=d(51176);function ia(n,s){if(1&n&&t._UZ(0,"header-frontend",4),2&n){const e=t.oxw();t.Q6J("headerTitle","Danh s\xe1ch \u0111\u1ec1 thi")("headerBackTolink",e.backToLink)}}function oa(n,s){1&n&&t._UZ(0,"azt-loading-effect")}const aa=function(n,s){return{active:n,"text-primary":s}},sa=function(n){return{clickable:n}},_a=function(n){return{"truncate-bread":n}};function la(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"li",17)(1,"a",18),t.NdJ("click",function(){const a=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.goBackParent(a.id?a.id:0))}),t.TgZ(2,"span",19),t._uU(3),t.qZA()()()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.Q6J("ngClass",t.WLB(5,aa,e.id!=i.cur_cateId,e.id!=i.cur_cateId)),t.xp6(1),t.Q6J("ngClass",t.VKq(8,sa,e.id!=i.cur_cateId)),t.xp6(1),t.s9C("matTooltip",e.name),t.Q6J("ngClass",t.VKq(10,_a,e.id!=i.cur_cateId)),t.xp6(1),t.Oqu(e.name)}}function ra(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit,_=t.oxw(2);return t.KtG(_.cateDetail(a))}),t.TgZ(1,"mat-card",21)(2,"div",22)(3,"div",23),t._UZ(4,"img",24),t.ALo(5,"convertCdn"),t.TgZ(6,"div",25)(7,"p",26),t._uU(8),t.ALo(9,"slice"),t.qZA()()()()()()}if(2&n){const e=s.$implicit;t.xp6(4),t.Q6J("src",t.lcZ(5,2,"azota_assets/images/folder_img.png"),t.LSH),t.xp6(4),t.hij(" ",e.name&&e.name.length>100?t.Dn7(9,4,e.name,0,99)+"..":e.name,"")}}function ca(n,s){if(1&n&&(t.TgZ(0,"div",35)(1,"span",38),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_do_kho"),": "),t.xp6(3),t.Oqu(e.hardLevel)}}function ma(n,s){if(1&n&&(t.TgZ(0,"div",35)(1,"span",39),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function da(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"a",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.redirectToExamDetail(o.hashId?o.hashId:""))}),t.TgZ(1,"mat-card",21)(2,"div",32)(3,"div",22)(4,"div",33),t._UZ(5,"img",34),t.ALo(6,"convertCdn"),t.TgZ(7,"div",35)(8,"p",36),t._uU(9),t.ALo(10,"slice"),t.qZA()(),t.YNc(11,ca,6,4,"div",37),t.TgZ(12,"div",35)(13,"span",38)(14,"span"),t._uU(15),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.YNc(18,ma,6,4,"div",37),t.qZA()()()()()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.s9C("target",i.target),t.xp6(5),t.Q6J("src",t.lcZ(6,8,"azota_assets/images/u205.svg"),t.LSH),t.xp6(3),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name&&e.name.length>100?t.Dn7(10,10,e.name,0,99)+"..":e.name," "),t.xp6(2),t.Q6J("ngIf",e.hardLevel),t.xp6(4),t.Oqu(e.attended),t.xp6(1),t.hij(" ",t.lcZ(17,14,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function pa(n,s){if(1&n&&(t.TgZ(0,"div",35)(1,"span",38),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_do_kho"),": "),t.xp6(3),t.Oqu(e.hardLevel)}}function ua(n,s){if(1&n&&(t.TgZ(0,"div",35)(1,"span",39),t._uU(2),t.ALo(3,"mytranslate"),t.TgZ(4,"span"),t._uU(5),t.qZA()()()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(e.mark)}}function ga(n,s){if(1&n&&(t.TgZ(0,"a",40)(1,"mat-card",21)(2,"div",32)(3,"div",22)(4,"div",33),t._UZ(5,"img",34),t.ALo(6,"convertCdn"),t.TgZ(7,"div",35)(8,"p",36),t._uU(9),t.ALo(10,"slice"),t.qZA()(),t.YNc(11,pa,6,4,"div",37),t.TgZ(12,"div",35)(13,"span",38)(14,"span"),t._uU(15),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()(),t.YNc(18,ua,6,4,"div",37),t.qZA()()()()()),2&n){const e=t.oxw().$implicit,i=t.oxw(2);t.s9C("target",i.target),t.Q6J("href","/de-thi/"+e.hashId,t.LSH),t.xp6(5),t.Q6J("src",t.lcZ(6,9,"azota_assets/images/u205.svg"),t.LSH),t.xp6(3),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name&&e.name.length>100?t.Dn7(10,11,e.name,0,99)+"..":e.name," "),t.xp6(2),t.Q6J("ngIf",e.hardLevel),t.xp6(4),t.Oqu(e.attended),t.xp6(1),t.hij(" ",t.lcZ(17,15,"lang_auto_luot_lam_de")," "),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function ha(n,s){if(1&n&&(t.TgZ(0,"div",41),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",42),t._uU(4),t.qZA(),t._uU(5," Azo "),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_gia_de_thi"),": "),t.xp6(3),t.hij("",null!=e.price?e.price:0," ")}}function fa(n,s){if(1&n&&(t.TgZ(0,"div",27),t.YNc(1,da,19,16,"a",28),t.YNc(2,ga,19,17,"a",29),t.YNc(3,ha,6,4,"div",30),t.qZA()),2&n){const e=s.$implicit,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf","_blank"!=i.target),t.xp6(1),t.Q6J("ngIf","_blank"==i.target),t.xp6(1),t.Q6J("ngIf",null!=e.price&&0!=e.price)}}function xa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"ol",7)(3,"li",8)(4,"a",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.backToAllCate())}),t._uU(5,"All"),t.qZA()(),t.YNc(6,la,4,12,"li",10),t.qZA()()(),t.TgZ(7,"div")(8,"div",11)(9,"div",12),t.YNc(10,ra,10,8,"div",13),t.YNc(11,fa,4,3,"div",14),t.qZA(),t.TgZ(12,"div",15)(13,"azt-paging",16),t.NdJ("SendPage",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.goToPage(o))}),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(6),t.Q6J("ngForOf",e.listBreadcrumb),t.xp6(4),t.Q6J("ngForOf",e.cateObjs),t.xp6(1),t.Q6J("ngForOf",e.examObjs),t.xp6(2),t.Q6J("lengthPage",e.total_page)("paging",e.cur_page)}}let va=(()=>{class n extends y.Q{constructor(e,i,o,a,_,l,r){super(o),this.fb=e,this.activeRoute=i,this.commonService=o,this.frontExamCategoryService=a,this.frontExamPageService=_,this.iframeService=l,this.userLoginStateService=r,this.subscriptions=new q.w,this.form=new u.nJ({}),this.cur_page=1,this.start_page=1,this.end_page=1,this.show_pages=[],this.total_page=1,this.item_per_page=18,this.limit_page=5,this.cur_cateId=0,this.tenantId=1,this.totalExam=0,this.totalObjs=1,this.cateObjs=[],this.examObjs=[],this.listBreadcrumb=[],this.isInIframe=!1,this.target="",this.contentHeight=0,this.backToLink="",this.paramBackToLink=""}getListParentCate(){this.subscriptions.add(this.frontExamCategoryService.apiFrontExamCategoryGetBreadcrumbsGet(this.tenantId,this.cur_cateId).subscribe(e=>{var i,o,a;1==e.success?this.listBreadcrumb=null!==(o=null===(i=e.data)||void 0===i?void 0:i.objs)&&void 0!==o?o:new Array:this.errorStatusObj(null!==(a=e.message)&&void 0!==a?a:"",!0)}))}getData(){this.backToLink=0!=this.cur_cateId?"/test/category/"+this.tenantId+"/0/"+this.cur_page:"/student/dashboard/0";var e=Number(this.commonService.getMyParam(this.activeRoute,"id"));this.cur_page=e=e>0?e:1,this.initStatusObj(),this.subscriptions.add(this.frontExamPageService.apiFrontExamPageGetObjsGet(this.tenantId,this.cur_cateId>0?this.cur_cateId:0,this.cur_page).subscribe(i=>{var o,a,_,l,r,m,c,p,h;if(1==i.success){this.cateObjs=null!==(a=null===(o=i.data)||void 0===o?void 0:o.categoryObjs)&&void 0!==a?a:new Array,this.examObjs=null!==(l=null===(_=i.data)||void 0===_?void 0:_.examObjs)&&void 0!==l?l:new Array,this.totalObjs=null!==(m=null===(r=i.data)||void 0===r?void 0:r.total)&&void 0!==m?m:0,this.totalExam=null!==(p=null===(c=i.data)||void 0===c?void 0:c.totalExam)&&void 0!==p?p:0,this.total_page=this.totalObjs%this.item_per_page>0?(this.totalObjs-this.totalObjs%this.item_per_page)/this.item_per_page+1:this.totalObjs>0?this.totalObjs/this.item_per_page:1,this.start_page=this.cur_page-this.limit_page>=1?this.cur_page-this.limit_page:1,this.end_page=this.start_page+2*this.limit_page>this.total_page?this.total_page:this.start_page+2*this.limit_page;for(var g=[],x=this.start_page;x<=this.end_page;x++)g.push(x);this.show_pages=g,this.getListParentCate(),this.successStatusObj(),setTimeout(()=>{this.checkHeight()},0)}else this.errorStatusObj(null!==(h=i.message)&&void 0!==h?h:"",!0)}))}goToPage(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+this.cur_cateId+"/"+e)}backToAllCate(){this.commonService.myNavigation("/test/category/"+this.tenantId+"/0/1")}cateDetail(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e.id+"/1")}goBackParent(e){this.commonService.myNavigation("/test/category/"+this.tenantId+"/"+e+"/1")}redirectToExamDetail(e){this.commonService.myNavigationWithQueryString(`/de-thi/${e}`,"?backto="+encodeURIComponent(this.paramBackToLink))}checkHeight(){var e=document.body,i=document.documentElement,o=Math.max(e.scrollHeight,e.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);this.contentHeight=o,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}resizeHeight(){var e=document.body,i=document.documentElement,o=Math.max(e.scrollHeight,e.offsetHeight,i.clientHeight,i.scrollHeight,i.offsetHeight);this.contentHeight=o,this.iframeService.sendMessageToParentIframe({height:this.contentHeight})}changeLogin(){this.iframeService.sendMessageToParentIframe({changeLogin:!0})}ngOnInit(){this.isInIframe=this.iframeService.isInIframe(),this.isInIframe&&(this.target="_blank"),this.form=this.fb.group({searchContent:new u.p4("",u.kI.required)}),(0,nt.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.tenantId=Number(this.commonService.getMyParam(this.activeRoute,"tenant_id"));let e=this.commonService.getMyParam(this.activeRoute,"page");this.paramBackToLink=`/test/category/${this.tenantId}/${this.cur_cateId}/${e}`,this.getData(),this.userLoginStateService.loginMessage.subscribe(i=>{this.changeLogin()}),this.commonService.translateMetaData({title:"Danh s\xe1ch \u0111\u1ec1 thi",description:"Danh s\xe1ch \u0111\u1ec1 thi"})}),this.commonService.gaEvent("FrontExam_ViewExamCategory"),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.QS),t.Y36(M.gz),t.Y36(S.v),t.Y36(Vo.n),t.Y36(Xo.T),t.Y36(ta.X),t.Y36(ea.N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-index"]],hostBindings:function(e,i){1&e&&t.NdJ("resize",function(a){return i.resizeHeight(a)},!1,t.Jf7)},features:[t.qOj],decls:5,vars:3,consts:[[3,"headerTitle","headerBackTolink",4,"ngIf"],[1,"top-bar","mt-3"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"headerTitle","headerBackTolink"],[1,"row","pl-0","pr-0","justify-content-between"],[1,"col-sm-12","text-left"],[1,"breadcrumb","custom-breadcrumb",2,"margin-top","2px"],[1,"breadcrumb-item","text-primary"],[1,"clickable",2,"color","#989494",3,"click"],["class","breadcrumb-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"content-zone","mt-3","pt-2","pb-2"],[1,"row"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",3,"click",4,"ngFor","ngForOf"],["class","col-12 col-sm-6 col-md-3 my-3 clickable",4,"ngFor","ngForOf"],[1,"pt-2"],[3,"lengthPage","paging","SendPage"],[1,"breadcrumb-item",3,"ngClass"],[1,"hidden__text",3,"ngClass","click"],[3,"ngClass","matTooltip"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable",3,"click"],[1,"card-custom","box-flex"],[1,"box-title","text-center"],[1,"test","p-3"],["alt","",1,"img-fluid","folder-img",3,"src"],[1,"test-desc","text-center"],[1,"test-title","mb-0",2,"word-break","break-word"],[1,"col-12","col-sm-6","col-md-3","my-3","clickable"],[3,"target","click",4,"ngIf"],[3,"href","target",4,"ngIf"],["style","float: right; margin-top: -20px; position: relative; margin-right: 10px; font-weight: bold;",4,"ngIf"],[3,"target","click"],[1,"box"],[1,"test","p-2","pl-3","pr-3"],["alt","",1,"test-img",3,"src"],[1,"test-desc"],[1,"test-title","mb-0","exam_name",2,"word-break","break-word",3,"matTooltip"],["class","test-desc",4,"ngIf"],[1,"test-text"],[1,"test-text","text-info"],[3,"href","target"],[2,"float","right","margin-top","-20px","position","relative","margin-right","10px","font-weight","bold"],[2,"color","#ee4d2d"]],template:function(e,i){if(1&e&&(t.YNc(0,ia,1,2,"header-frontend",0),t.TgZ(1,"div",1),t.YNc(2,oa,1,0,"azt-loading-effect",2),t.YNc(3,xa,14,5,"ng-template",null,3,t.W1O),t.qZA()),2&e){const o=t.MAs(4);t.Q6J("ngIf",!i.isInIframe),t.xp6(2),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[f.mk,f.sg,f.O5,H.a8,B.gM,G.Q,W.d,na.L,f.OU,v.bT,v.BI],styles:[".top-bar[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;overflow-x:hidden;padding:15px}.folder-img[_ngcontent-%COMP%]{width:96px;height:96px}.custom-breadcrumb[_ngcontent-%COMP%]{padding:1rem}.card-custom[_ngcontent-%COMP%]{margin:0 auto;height:230px}.box-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.box-flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.test-img[_ngcontent-%COMP%]{width:30px;margin-bottom:10px}.test-title[_ngcontent-%COMP%]{font-size:15px;font-weight:500}.test-desc[_ngcontent-%COMP%]{margin-top:2px;text-align:justify}.test-text[_ngcontent-%COMP%]{font-size:14px}.mat-card[_ngcontent-%COMP%]{padding:0}.truncate-bread[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:120px;white-space:nowrap}.hidden__text[_ngcontent-%COMP%]{max-width:100px;overflow:hidden;text-align:left;white-space:nowrap;text-overflow:ellipsis}"]}),n})();var ba=d(71572),Ta=d(63910);function wa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"p",6),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.goToRegister())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_ban_can_phai_dang_ky_tai_khoan_de_mua_de_thi")," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_dang_ky")," "))}function Ca(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",14)(1,"p",15),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"a",7),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.goToAddMoreAzo())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(2),t.hij(" ",t.lcZ(3,2,e.hasErrorMessage)," "),t.xp6(3),t.hij(" ",t.lcZ(6,4,"lang_auto_nap_them_azo")," ")}}function ya(n,s){if(1&n&&(t.TgZ(0,"div",8)(1,"p",9),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"p",10),t._uU(5),t.qZA()(),t.TgZ(6,"div",11)(7,"p",12),t._uU(8),t.ALo(9,"mytranslate"),t.qZA()(),t.YNc(10,Ca,7,6,"div",13)),2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,5,"lang_auto_ban_muon_mua_bai_thi"),": "),t.xp6(3),t.hij(" ",null==e.data.examObj?null:e.data.examObj.name," "),t.xp6(3),t.AsE("",t.lcZ(9,7,"lang_auto_gia"),": ",null==e.data.examObj?null:e.data.examObj.price," Azo"),t.xp6(2),t.Q6J("ngIf",""!=e.hasErrorMessage)}}function Sa(n,s){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",20),t._uU(2,"\xa0"),t.qZA())}function Oa(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.cancelPayment())}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",18),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.confirmBuy())}),t.YNc(5,Sa,3,0,"span",19),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.hij(" ",t.lcZ(3,4,"lang_auto_huy")," "),t.xp6(2),t.Q6J("disabled",e.statusObj.loading||""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(7,6,"lang_auto_xac_nhan")," ")}}function Za(n,s){if(1&n&&(t.TgZ(0,"div",1)(1,"div",2),t.YNc(2,wa,7,6,"ng-template",3),t.YNc(3,ya,11,9,"ng-template",3),t.YNc(4,Oa,8,8,"div",4),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.data.needLogin),t.xp6(1),t.Q6J("ngIf",!e.data.needLogin),t.xp6(1),t.Q6J("ngIf",!e.data.needLogin)}}let ka=(()=>{class n extends y.Q{constructor(e,i,o){super(e),this.commonService=e,this.paymentService=i,this.redirectService=o,this.data={examObj:{},needLogin:!1,isShow:!1},this.closeDialog=new t.vpe,this.subscriptions=new q.w,this.form=new u.nJ({}),this.hasErrorMessage=""}confirmBuy(){var e;this.initStatusObj(),this.subscriptions.add(this.paymentService.apiPaymentBuyExamByAzoGet(null===(e=this.data.examObj)||void 0===e?void 0:e.hashId).subscribe(i=>{var o;1==i.success?(this.hasErrorMessage="",this.successStatusObj(),this.closeDialog.emit(!0)):i.hasOwnProperty("message")&&i.message&&("lang_core_doest_not_enough_azo"==i.message?(this.hasErrorMessage=i.message,this.stopStatusObj()):this.errorStatusObj(null!==(o=i.message)&&void 0!==o?o:"",!0))}))}cancelPayment(){this.closeDialog.emit(!1)}goToRegister(){this.redirectService.redirectRegisterForStudent()}goToAddMoreAzo(){this.commonService.gaEvent("payment_exam_detail_click_to_payment_pack"),this.redirectService.redirectToBuyMoreAzo()}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(Ta.t),t.Y36(kt.V))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-buy-exam"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[3,"ngIf"],["class","d-flex float-right mt-3",4,"ngIf"],[1,"text-center"],[1,"h5","mb-2"],[1,"clickable","h5","text-info",3,"click"],[1,"text-center","mb-1"],[1,"h5","mb-1",2,"font-size","14px"],[1,"h5","mb-1","text-info"],[1,"amount-zone","text-center"],[1,"mb-0","h4"],["class","text-center mt-2",4,"ngIf"],[1,"text-center","mt-2"],[1,"h6","mb-1",2,"font-size","14px"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","",2,"margin-right","15px",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&t.YNc(0,Za,5,3,"div",0),2&e&&t.Q6J("ngIf",i.data.isShow)},dependencies:[f.O5,Y.lW,v.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;width:400px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.amount-zone[_ngcontent-%COMP%]{border:1px dashed #ff0024;padding:15px;border-radius:3px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();var Aa=d(37104);function Ia(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.lcZ(2,3,"lang_auto_so_luong_dung"),": "),t.xp6(3),t.AsE("",e.rightAnswer,"/",e.totalQuestion,"")}}function Ma(n,s){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_so_luong_cau_hoi"),": ",e.totalQuestion,"")}}function Ea(n,s){if(1&n&&(t.TgZ(0,"span",28),t._UZ(1,"azt-check-mark",29),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("mark",e.mark)}}function ja(n,s){if(1&n&&(t.TgZ(0,"div",25)(1,"span",26),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Ea,2,1,"span",27),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,2,"lang_auto_diem_cua_ban"),": "),t.xp6(2),t.Q6J("ngIf",null!=e.mark)}}function qa(n,s){1&n&&(t.TgZ(0,"span",26),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_trac_nghiem_cua_ban"),": "))}function Pa(n,s){1&n&&(t.TgZ(0,"span",26),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function Fa(n,s){if(1&n&&(t.TgZ(0,"span",28),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu(e.mark)}}function La(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,qa,3,3,"span",30),t.YNc(2,Pa,3,3,"span",30),t.YNc(3,Fa,2,1,"span",27),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null==e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark)}}function Ua(n,s){1&n&&(t.TgZ(0,"span",26),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_auto_diem_cua_ban"),": "))}function Na(n,s){if(1&n&&(t.TgZ(0,"span",28),t._uU(1),t.qZA()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.Oqu(e.mark)}}function Qa(n,s){1&n&&(t.TgZ(0,"span",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}function Ja(n,s){if(1&n&&(t.TgZ(0,"div",25),t.YNc(1,Ua,3,3,"span",30),t.YNc(2,Na,2,1,"span",27),t.YNc(3,Qa,3,3,"span",23),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null!=e.mark&&null!=e.essayMark),t.xp6(1),t.Q6J("ngIf",null==e.essayMark)}}function Da(n,s){1&n&&(t.TgZ(0,"span",31),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_chua_co_diem")))}const Et=function(n){return[n]},jt=function(n){return{backto:n}};function Ya(n,s){if(1&n&&(t.TgZ(0,"div",5),t.YNc(1,ja,5,4,"div",22),t.ALo(2,"isOnlyTrueFalse"),t.YNc(3,La,4,3,"div",22),t.ALo(4,"isMixTrueFalseAndEssay"),t.YNc(5,Ja,4,3,"div",22),t.ALo(6,"isOnlyEssay"),t.YNc(7,Da,3,3,"span",23),t.TgZ(8,"a",24),t.ALo(9,"mylocalize"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw();let o,a,_;t.xp6(1),t.Q6J("ngIf",t.lcZ(2,7,null!==(o=i.examObj.examType)&&void 0!==o?o:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(4,9,null!==(a=i.examObj.examType)&&void 0!==a?a:0)),t.xp6(2),t.Q6J("ngIf",t.lcZ(6,11,null!==(_=i.examObj.examType)&&void 0!==_?_:0)),t.xp6(2),t.Q6J("ngIf",null==e.mark),t.xp6(1),t.Q6J("routerLink",t.VKq(17,Et,t.lcZ(9,13,"/test/answer-test/"+i.tenant_id+"/"+(null!=i.cur_cateId?i.cur_cateId:0)+"/"+i.hashId+"/"+e.id)))("queryParams",t.VKq(19,jt,i.backToLink)),t.xp6(2),t.Oqu(t.lcZ(11,15,"lang_auto_xem_chi_tiet_bai_lam"))}}function za(n,s){if(1&n&&(t.TgZ(0,"div",5)(1,"div",25)(2,"span",26),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()(),t.TgZ(5,"span",31),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"a",24),t.ALo(9,"mylocalize"),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(3),t.hij(" ",t.lcZ(4,5,"lang_auto_diem_cua_ban"),": "),t.xp6(3),t.Oqu(t.lcZ(7,7,"lang_auto_chua_duoc_xem_diem")),t.xp6(2),t.Q6J("routerLink",t.VKq(13,Et,t.lcZ(9,9,"/test/answer-test/"+i.tenant_id+"/"+(null!=i.cur_cateId?i.cur_cateId:0)+"/"+i.hashId+"/"+e.id)))("queryParams",t.VKq(15,jt,i.backToLink)),t.xp6(2),t.Oqu(t.lcZ(11,11,"lang_auto_xem_chi_tiet_bai_lam"))}}function Ha(n,s){if(1&n&&(t.TgZ(0,"div",8)(1,"mat-card",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"div",13)(6,"span",14)(7,"mat-icon"),t._uU(8,"access_time"),t.qZA()(),t.TgZ(9,"span",15),t._uU(10),t.ALo(11,"mytranslate"),t.TgZ(12,"span"),t._uU(13),t.qZA()()()(),t.TgZ(14,"div",12)(15,"div",13)(16,"span",14)(17,"mat-icon"),t._uU(18,"help_outline"),t.qZA()(),t.TgZ(19,"span",15),t.YNc(20,Ia,5,5,"span",16),t.YNc(21,Ma,3,4,"span",16),t.qZA()()()()(),t.TgZ(22,"div",17),t.YNc(23,Ya,12,21,"div",18),t.YNc(24,za,12,17,"div",18),t.qZA(),t.TgZ(25,"div",19)(26,"div",20)(27,"span",21),t._uU(28),t.ALo(29,"date"),t.qZA()()()()()),2&n){const e=s.$implicit,i=t.oxw();t.xp6(10),t.hij(" ",t.lcZ(11,7,"lang_auto_thoi_gian_lam_bai"),": "),t.xp6(3),t.Oqu(i.calculateTime(e.startedTest,e.createdAt)),t.xp6(7),t.Q6J("ngIf",null!=e.rightAnswer),t.xp6(1),t.Q6J("ngIf",null==e.rightAnswer),t.xp6(2),t.Q6J("ngIf",2!=i.examObj.whenShowResult),t.xp6(1),t.Q6J("ngIf",2==i.examObj.whenShowResult),t.xp6(4),t.Oqu(t.xi3(29,9,e.createdAt,"dd/MM/yyyy HH:mm"))}}function Ra(n,s){1&n&&(t.TgZ(0,"div",32)(1,"div",33)(2,"span",34),t._uU(3,"Loading..."),t.qZA()()())}function Ga(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"button",35),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.pagingData())}),t.ALo(3,"mytranslate"),t.TgZ(4,"mat-icon"),t._uU(5,"keyboard_arrow_down"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(2),t.s9C("matTooltip",t.lcZ(3,2,"lang_auto_xem_them")),t.Q6J("disabled",e.disableBtn)}}let Ba=(()=>{class n extends y.Q{constructor(e,i,o){super(e),this.commonService=e,this.frontExamResultHistoryService=i,this.timeService=o,this.hashId="",this.backToLink="",this.examObj={},this.tenant_id=0,this.cur_cateId=0,this.historyObjs=[],this.page="",this.subscriptions=new q.w,this.checkClick=!1,this.disableBtn=!1}getExamHistoryByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetHistoryObjsGet(this.hashId,this.page).subscribe(e=>{var i,o,a,_,l,r,m,c,p;if(1==e.success){let h=null!==(i=e.data)&&void 0!==i&&i.objs?null===(a=null===(o=e.data)||void 0===o?void 0:o.objs)||void 0===a?void 0:a.length:0;if(null!==(_=e.data)&&void 0!==_&&_.objs)for(let g=0;g<h;g++)this.historyObjs.push(null!==(l=e.data.objs[g])&&void 0!==l?l:{});this.checkClick=!0,this.page=null!==(m=null===(r=e.data)||void 0===r?void 0:r.nextPage)&&void 0!==m?m:"",!(null===(c=e.data)||void 0===c)&&c.nextPage||(this.disableBtn=!0),this.successStatusObj()}else this.errorStatusObj(null!==(p=e.message)&&void 0!==p?p:"")})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}pagingData(){this.getExamHistoryByHashId()}calculateTime(e,i){return e?this.timeService.calculationTestedTime(e,i):""}ngOnInit(){super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(j.B3),t.Y36(yt.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-exam-history"]],inputs:{hashId:"hashId",backToLink:"backToLink",examObj:"examObj",tenant_id:"tenant_id",cur_cateId:"cur_cateId"},features:[t.qOj],decls:10,vars:6,consts:[[1,"row","my-3","m-2"],[1,"col-md-12","text-center"],[1,"history"],[1,"row","m-0"],["class","col-md-12","style","margin: 0 auto; padding-top: 10px; padding-bottom: 5px",4,"ngFor","ngForOf"],[1,"col-md-12"],["class","d-flex justify-content-center mt-3",4,"ngIf"],["class","row my-3 m-2",4,"ngIf"],[1,"col-md-12",2,"margin","0 auto","padding-top","10px","padding-bottom","5px"],[1,"text-center"],[1,"card-info"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[4,"ngIf"],[1,"row","my-2","mt-4"],["class","col-md-12",4,"ngIf"],[1,"row"],[1,"col-md-12","text-right"],[1,"text-time"],["style","display: inline-block",4,"ngIf"],["class","text-danger mr-3",4,"ngIf"],[1,"btn-redirect",2,"color","#007bff",3,"routerLink","queryParams"],[2,"display","inline-block"],[1,"score-text"],["class","score",4,"ngIf"],[1,"score"],[3,"mark"],["class","score-text",4,"ngIf"],[1,"text-danger","mr-3"],[1,"d-flex","justify-content-center","mt-3"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()(),t.TgZ(5,"div",3),t.YNc(6,Ha,30,12,"div",4),t.TgZ(7,"div",5),t.YNc(8,Ra,4,0,"div",6),t.qZA()(),t.YNc(9,Ga,6,4,"div",7)),2&e&&(t.xp6(3),t.Oqu(t.lcZ(4,4,"lang_auto_lich_su_lam_bai_cua_ban")),t.xp6(3),t.Q6J("ngForOf",i.historyObjs),t.xp6(2),t.Q6J("ngIf",i.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!i.statusObj.loading))},dependencies:[M.yS,f.sg,f.O5,Y.lW,H.a8,V.Hw,B.gM,Aa.B,f.uU,v.mp,v.bT,v.fV,v.sA,v.G0],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.box[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-all-add[_ngcontent-%COMP%]{text-transform:inherit}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}.score-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-right:15px}.score[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:red;margin-right:25px}.text-time[_ngcontent-%COMP%]{color:#a0a0a0}.btn-redirect[_ngcontent-%COMP%]{color:#000}@media screen and (max-width: 480px){.card-info[_ngcontent-%COMP%]{width:100%}.btn-redirect[_ngcontent-%COMP%]{margin-top:10px;display:block}.score[_ngcontent-%COMP%]{margin-right:0}}"]}),n})();function Ka(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function $a(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-buy-exam",7),t.NdJ("closeDialog",function(o){t.CHM(e);const a=t.oxw(2);return t.KtG(a.closeBuyExamDialog(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.dataBuyExamDialog)}}function Wa(n,s){if(1&n&&(t.TgZ(0,"div",8),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.hasErrorMessage)," ")}}const Va=function(n,s){return{"monitor-height":n,"mobile-monitor":s}};function Xa(n,s){if(1&n&&(t.TgZ(0,"div",19),t._UZ(1,"div",30,31),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.WLB(1,Va,!e.isMobile,e.isMobile))}}function ts(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.redirectToTakeTest())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_bat_dau_lam_bai")))}function es(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",32),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.openBuyExam())}),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"number"),t.qZA()}if(2&n){const e=t.oxw(3);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_auto_mua_de")," - ",t.lcZ(3,4,e.examObj.price)," Azo")}}function ns(n,s){1&n&&(t.TgZ(0,"div",33)(1,"strong"),t._uU(2,"(*)"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"b"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_auto_he_thong_chi_gui_hinh_anh_va_am_thanh_den_giao_vien")," "),t.xp6(3),t.Oqu(t.lcZ(7,6,"lang_auto_trong_qua_trinh_lam_bai_thi")),t.xp6(2),t.hij("",t.lcZ(9,8,"lang_auto__ngay_sau_khi_ket_thuc_bai_lam_he_thong_ngung_gui_du_lieu_du_lieu_thu_thap_chi_su_dung_phuc_vu_cho_cong_tac")," "),t.xp6(3),t.Oqu(t.lcZ(12,10,"lang_auto_to_chuc_ky_thi")))}function is(n,s){if(1&n&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"h2",11),t._uU(4),t.qZA()()(),t.TgZ(5,"div",9)(6,"div",10)(7,"h2",12),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",13),t._uU(11),t.qZA(),t._UZ(12,"azt-download-qr-code",14),t.qZA()()(),t.TgZ(13,"div",9)(14,"div",15)(15,"mat-card",16),t.YNc(16,Xa,3,4,"div",17),t.TgZ(17,"div",18)(18,"div",19)(19,"div",20)(20,"div",21)(21,"span",22)(22,"mat-icon"),t._uU(23,"access_time"),t.qZA()(),t.TgZ(24,"span",23),t._uU(25),t.ALo(26,"mytranslate"),t.TgZ(27,"span"),t._uU(28),t.ALo(29,"mytranslate"),t.ALo(30,"mytranslate"),t.qZA()()(),t.TgZ(31,"div",21)(32,"span",22)(33,"mat-icon"),t._uU(34,"people"),t.qZA()(),t.TgZ(35,"span",23),t._uU(36),t.ALo(37,"mytranslate"),t.TgZ(38,"span"),t._uU(39),t.qZA()()()(),t.TgZ(40,"div",24)(41,"div",21)(42,"span",22)(43,"mat-icon"),t._uU(44,"help_outline"),t.qZA()(),t.TgZ(45,"span",23),t._uU(46),t.ALo(47,"mytranslate"),t.TgZ(48,"span"),t._uU(49),t.qZA()()(),t.TgZ(50,"div",21)(51,"span",22)(52,"mat-icon"),t._uU(53,"monetization_on"),t.qZA()(),t.TgZ(54,"span",23),t._uU(55),t.ALo(56,"mytranslate"),t.TgZ(57,"span"),t._uU(58),t.qZA(),t._uU(59," Azo "),t.qZA()()()()(),t.TgZ(60,"div",25)(61,"div",26),t.YNc(62,ts,3,3,"button",27),t.YNc(63,es,4,6,"button",27),t.qZA()(),t.YNc(64,ns,13,12,"div",28),t.qZA()()(),t._UZ(65,"app-exam-history",29),t.qZA()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(e.examObj.name),t.xp6(4),t.hij(" ",t.lcZ(9,22,"lang_auto_ma_de_thi"),": "),t.xp6(3),t.Oqu(e.examObj.hashId),t.xp6(1),t.Q6J("fileName","azota_exam_qrcode_"+e.examObj.hashId)("linkUrl",e.urlLocation),t.xp6(4),t.Q6J("ngIf",e.examObj.autoMonitor&&0!=e.examObj.autoMonitor),t.xp6(9),t.hij(" ",t.lcZ(26,24,"lang_auto_thoi_gian_lam_bai"),": "),t.xp6(3),t.Oqu(e.examObj.minutes&&e.examObj.minutes>0?e.examObj.minutes+" "+t.lcZ(29,26,"lang_auto_phut"):t.lcZ(30,28,"lang_auto_khong_gioi_han")),t.xp6(8),t.hij(" ",t.lcZ(37,30,"lang_auto_so_luot_lam_de"),": "),t.xp6(3),t.Oqu(null==e.totalAttended?0:e.totalAttended),t.xp6(7),t.hij(" ",t.lcZ(47,32,"lang_auto_so_luong_cau_hoi"),": "),t.xp6(3),t.Oqu(2==e.examObj.mixQuestion?e.examObj.limitMixQuestion:e.examObj.countQuestion),t.xp6(6),t.hij(" ",t.lcZ(56,34,"lang_auto_gia_de_thi"),": "),t.xp6(3),t.Oqu(null!=e.examObj.price?e.examObj.price:0),t.xp6(4),t.Q6J("ngIf",!e.isNeedBuyExam),t.xp6(1),t.Q6J("ngIf",e.isNeedBuyExam),t.xp6(1),t.Q6J("ngIf",e.examObj.autoMonitor&&3==e.examObj.autoMonitor),t.xp6(1),t.Q6J("examObj",e.examObj)("tenant_id",e.tenant_id)("cur_cateId",e.cur_cateId)("hashId",e.hashId)("backToLink",e.backToLink)}}function os(n,s){if(1&n){const e=t.EpF();t.YNc(0,$a,1,1,"app-buy-exam",3),t.TgZ(1,"div",4),t.NdJ("resize",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.checkMobile())},!1,t.Jf7),t.YNc(2,Wa,3,3,"div",5),t.YNc(3,is,66,36,"div",6),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngIf",e.dataBuyExamDialog.isShow),t.xp6(2),t.Q6J("ngIf",""!=e.hasErrorMessage),t.xp6(1),t.Q6J("ngIf",""==e.hasErrorMessage)}}let as=(()=>{class n extends y.Q{constructor(e,i,o,a,_,l,r){super(i),this.activeRoute=e,this.commonService=i,this.frontExamResultHistoryService=o,this.baseApiService=a,this.fireStoreService=_,this.monitorService=l,this.frontOfflineShareService=r,this.hashId="",this.examObj={},this.totalAttended=0,this.tenant_id=0,this.cur_cateId=0,this.hasErrorMessage="",this.backToLink="/student/dashboard/0",this.password="",this.isNeedBuyExam=!1,this.dataBuyExamDialog={examObj:{},isShow:!1},this.innerMonitor="",this.isMobile=!1,this.urlLocation=""}fillData(e){var i,o;(null===(i=e.data)||void 0===i?void 0:i.hasOwnProperty("errorMessage"))&&(null===(o=e.data)||void 0===o?void 0:o.errorMessage)?("lang_core_doest_not_owner_exam"==e.data.errorMessage?(this.hasErrorMessage="",this.isNeedBuyExam=!0):(this.hasErrorMessage=e.data.errorMessage,this.isNeedBuyExam=!1),this.successStatusObj()):(this.hasErrorMessage="",this.isNeedBuyExam=!1)}getExamByHashId(){this.initStatusObj(),this.subscriptions.add(this.frontExamResultHistoryService.apiFrontExamResultHistoryGetExamObjGet(this.hashId).subscribe(e=>{var i,o,a,_,l,r,m;if(1==e.success){if(this.fillData(e),this.examObj=null!==(o=null===(i=e.data)||void 0===i?void 0:i.examObj)&&void 0!==o?o:{},this.totalAttended=null!==(_=null===(a=e.data)||void 0===a?void 0:a.totalAttended)&&void 0!==_?_:0,null!=this.examObj){this.cur_cateId=null!==(l=this.examObj.categoryId)&&void 0!==l?l:0,this.tenant_id=null!==(r=this.examObj.tenantId)&&void 0!==r?r:0;let c="";this.commonService.getTranslate("lang_auto_bat_dau_thi").subscribe(p=>{c=p}),this.commonService.translateMetaData({title:c+": "+this.examObj.name,description:this.examObj.name})}this.examObj.autoMonitor&&3==this.examObj.autoMonitor&&this.openVideoMonitor(),this.successStatusObj()}else this.errorStatusObj(null!==(m=e.message)&&void 0!==m?m:"",!0)})),this.commonService.gaEvent("FrontExam_GetExamWithHistoryObjs")}openBuyExam(){this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?(this.commonService.gaEvent("payment_click_open_dialog_buy_exam"),this.dataBuyExamDialog={examObj:this.examObj,isShow:!0}):this.dataBuyExamDialog={examObj:{},needLogin:!0,isShow:!0}}closeBuyExamDialog(e){e?(this.commonService.gaEvent("payment_click_confirm_buy_exam"),this.dataBuyExamDialog={examObj:{},isShow:!1},this.showSuccessSnack("lang_auto_mua_de_thi_thanh_cong"),this.redirectToTakeTest()):(this.commonService.gaEvent("payment_click_cancel_buy_exam"),this.dataBuyExamDialog={examObj:{},isShow:!1})}openVideoMonitor(){var e=this.baseApiService.getUserObj();"undefined"!=typeof aztExam&&aztExam&&(aztExam.ver=this.monitorService.getMNoteVer(),aztExam.loadMonitor(()=>{if(aztExam.MonitorStudent){var i={user:{token:e.rememberToken,userid:e.id,username:e.fullName},config:{domainApi:ht.N.base_api,urlGetPublicForLive:"s3space/get_public_upload_url_for_live",urlGetListFileForLive:"S3space/get_list_files_for_live",urlGetTokenForLive:"s3space/get_token_for_live"},roomid:this.hashId,element:"monitorScreen",examconfig:this.examObj,firebaseApp:this.fireStoreService,isStarted:!1},o=aztExam.MonitorStudent.getInstance();o.prepairSession(i),this.innerMonitor=o.preview}}))}redirectToTakeTest(){this.commonService.myNavigationWithQueryString(null!=this.cur_cateId?"/test/take-test/"+this.tenant_id+"/"+this.cur_cateId+"/"+this.hashId:"/test/take-test/"+this.tenant_id+"/0/"+this.hashId,""!=this.password&&null!=this.password?"?password="+encodeURIComponent(this.password)+"?backto="+encodeURIComponent(this.backToLink):"?backto="+encodeURIComponent(this.backToLink))}checkMobile(){this.isMobile=this.commonService.isMobileOrTable()}ngOnInit(){(0,nt.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,i,o;this.password=null!==(e=this.commonService.getMyQueryParam("password"))&&void 0!==e?e:"";var a=null===(i=this.commonService.getMyParam(this.activeRoute,"hash_id"))||void 0===i?void 0:i.toString();this.hashId=a||"",this.cur_cateId=Number(this.commonService.getMyParam(this.activeRoute,"cate_id")),this.backToLink=null!==(o=this.commonService.getMyQueryParam("backto"))&&void 0!==o?o:"/student/dashboard/0";let _=this.commonService.getMyQueryParam("offline");_?this.myNavigation(`/test/share-offline-result/${a}/${_}/0`):(this.checkMobile(),this.getExamByHashId())}),this.urlLocation=window.location.href,super.ngOnInit()}ngOnDestroy(){"undefined"!=typeof aztExam&&aztExam&&aztExam.MonitorStudent&&aztExam.MonitorStudent.getInstance().stopSession(),this.subscriptions.unsubscribe(),super.ngOnDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.gz),t.Y36(S.v),t.Y36(j.B3),t.Y36(_t._),t.Y36(Tt.C),t.Y36(St.M),t.Y36(j.bF))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-view"]],features:[t.qOj],decls:4,vars:4,consts:[[3,"headerTitle","headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"data","closeDialog",4,"ngIf"],[1,"mw-640","app","mt-4",3,"resize"],["class","alert alert-danger mt-2",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog"],[1,"alert","alert-danger","mt-2"],[1,"row","m-0"],[1,"col-md-12","text-center"],[1,"text-title",2,"word-break","break-word"],[1,"text-title",2,"word-break","break-word","font-size","16px"],[2,"color","#00a7d0"],[1,"pl-2",3,"fileName","linkUrl"],[1,"col-md-12",2,"margin","0 auto"],[1,"text-center"],["class","row my-2",4,"ngIf"],[1,"card-info","text-center"],[1,"row","my-2"],[1,"col-12","col-sm-6"],[1,"box"],[1,"mr-2","box-icon"],[1,"box-text"],[1,"col-12","col-sm-6","pl-md-5"],[1,"row","my-2","mt-4"],[1,"col-md-12"],["mat-raised-button","","class","btn-custom",3,"click",4,"ngIf"],["class","note-exam mt-1",4,"ngIf"],[3,"examObj","tenant_id","cur_cateId","hashId","backToLink"],["id","monitorScreen",1,"align-self-center","text-center",2,"margin","auto",3,"ngClass"],["monitorScreen",""],["mat-raised-button","",1,"btn-custom",3,"click"],[1,"note-exam","mt-1"]],template:function(e,i){if(1&e&&(t._UZ(0,"header-frontend",0),t.YNc(1,Ka,1,0,"azt-loading-effect",1),t.YNc(2,os,4,3,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("headerTitle","B\u1eaft \u0111\u1ea7u thi")("headerBackTolink",i.backToLink),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[f.mk,f.O5,Y.lW,H.a8,V.Hw,G.Q,W.d,ba.o,ka,Ba,f.JJ,v.bT],styles:[".mw-640[_ngcontent-%COMP%]{max-width:640px;margin:0 auto}.box[_ngcontent-%COMP%]{display:flex;align-items:center;width:200px;height:50px;margin:auto}.history[_ngcontent-%COMP%]{margin:0;font-weight:600}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;font-weight:400}.box-icon[_ngcontent-%COMP%]{color:#3c8dbc}.box-icon[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:26px;height:26px}.box-icon[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{font-size:26px}.card-info[_ngcontent-%COMP%]{width:70%;margin:0 auto}.score-text[_ngcontent-%COMP%]{font-size:18px;font-weight:600;margin-right:15px}.score[_ngcontent-%COMP%]{font-size:25px;font-weight:600;color:red;margin-right:25px}.text-time[_ngcontent-%COMP%]{color:#a0a0a0}.btn-redirect[_ngcontent-%COMP%]{color:#000}.monitor-height[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;padding:0;position:relative;max-width:100%}.mobile-monitor[_ngcontent-%COMP%]{height:40px;position:relative;margin-left:20px}@media screen and (max-width: 480px){.card-info[_ngcontent-%COMP%]{width:100%}.btn-redirect[_ngcontent-%COMP%]{margin-top:10px;display:block}.score[_ngcontent-%COMP%]{margin-right:0}}.note-exam[_ngcontent-%COMP%]{text-align:justify;font-size:15px;padding:20px 10px}.note-exam[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:red}"]}),n})(),ss=(()=>{class n extends y.Q{constructor(e){super(e),this.commonService=e}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-dashboard"]],features:[t.qOj],decls:2,vars:0,consts:[["id","testbank-frontend-layout"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[M.lC],styles:[".header-container[_ngcontent-%COMP%]{border-bottom-left-radius:3px;border-bottom-right-radius:3px;box-shadow:#a997973d 0 1px 7px}"]}),n})();var _s=d(64123),ls=d(13953);function rs(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function cs(n,s){if(1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,1,e.dataProcess.errorMessage))}}const ms=function(n){return{active:n}};function ds(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",17),t.NdJ("click",function(){const a=t.CHM(e).index,_=t.oxw(4);return t.KtG(_.selectClassroom(a))}),t.TgZ(2,"div",18)(3,"span",19),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"slice"),t.ALo(9,"mytranslate"),t.ALo(10,"mytranslate"),t.qZA()()()()}if(2&n){const e=s.$implicit,i=s.index,o=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.VKq(17,ms,o.indexClassroom==i)),t.xp6(2),t.s9C("matTooltip",e.name&&t.lcZ(4,3,e.name).length>25?t.lcZ(5,5,e.name):""),t.xp6(3),t.hij(" ",e.name&&t.lcZ(7,7,e.name).length>25?t.Dn7(8,9,t.lcZ(9,13,e.name),0,25)+"..":t.lcZ(10,15,e.name),"")}}function ps(n,s){if(1&n&&(t._UZ(0,"img",33),t.ALo(1,"mycdn")),2&n){const e=t.oxw().$implicit;t.s9C("src",t.lcZ(1,1,e.avatar),t.LSH)}}function us(n,s){if(1&n&&t._UZ(0,"azt-create-avatar",34),2&n){const e=t.oxw().$implicit;t.Q6J("nameCreateAvatar",e.fullName)("size",30)}}function gs(n,s){if(1&n&&t._UZ(0,"img",35),2&n){const e=t.oxw().$implicit;t.Q6J("nameImages",e.nameImages)}}function hs(n,s){if(1&n&&(t.TgZ(0,"p",32),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_auto_ngay_sinh"),": "),t.xp6(3),t.Oqu(t.xi3(5,4,e.birthday,"dd-MM-yyyy"))}}function fs(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"button",20),t.NdJ("click",function(){const a=t.CHM(e).$implicit,_=t.oxw(4);return t.KtG(_.selectStudentObj(a))}),t.TgZ(2,"div",21)(3,"div",22)(4,"div",23),t.YNc(5,ps,2,3,"img",24),t.YNc(6,us,1,2,"azt-create-avatar",25),t.qZA()(),t.TgZ(7,"div",26)(8,"div",27)(9,"p",28),t._uU(10),t.ALo(11,"slice"),t.qZA(),t.TgZ(12,"div",29),t.YNc(13,gs,1,1,"img",30),t.qZA(),t.YNc(14,hs,6,7,"p",31),t.TgZ(15,"p",32),t._uU(16),t.ALo(17,"mytranslate"),t.ALo(18,"mytranslate"),t.qZA()()()()()()}if(2&n){const e=s.$implicit;let i;t.xp6(1),t.Q6J("disabled",!e.examResultId),t.xp6(4),t.Q6J("ngIf",e.avatar&&""!=e.avatar),t.xp6(1),t.Q6J("ngIf",!e.avatar||""==e.avatar),t.xp6(3),t.s9C("matTooltip",e.fullName&&e.fullName.length>25?e.fullName:""),t.xp6(1),t.hij(" ",e.fullName&&e.fullName.length>25?t.Dn7(11,8,e.fullName,0,25)+"..":e.fullName," "),t.xp6(3),t.Q6J("ngIf",e.nameImages&&(null!==(i=e.studentId)&&void 0!==i?i:0)<=0),t.xp6(1),t.Q6J("ngIf",e.birthday),t.xp6(2),t.hij(" ",e.examResultId?t.lcZ(17,12,"lang_auto_diem")+" "+e.mark:t.lcZ(18,14,"lang_auto_chua_co_diem")," ")}}function xs(n,s){if(1&n&&(t.TgZ(0,"div",10)(1,"div",11)(2,"h3",12),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",13),t.YNc(6,ds,11,19,"div",14),t.qZA()(),t.TgZ(7,"div",15)(8,"h3",12),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",13),t.YNc(12,fs,19,16,"div",14),t.qZA()()()),2&n){const e=t.oxw(3);t.xp6(3),t.Oqu(t.lcZ(4,4,"lang_auto_danh_sach_lop")),t.xp6(3),t.Q6J("ngForOf",e.dataProcess.classroomObjs),t.xp6(3),t.Oqu(t.lcZ(10,6,"lang_auto_danh_sach_hoc_sinh")),t.xp6(3),t.Q6J("ngForOf",e.studentInClassroom)}}function vs(n,s){1&n&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_giao_vien_chua_cho_xem_ket_qua_thi")," "))}function bs(n,s){if(1&n&&(t.YNc(0,xs,13,8,"div",8),t.YNc(1,vs,4,3,"ng-template",null,9,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw(2);t.Q6J("ngIf",null==i.dataProcess.classroomObjs?null:i.dataProcess.classroomObjs.length)("ngIfElse",e)}}function Ts(n,s){if(1&n&&(t.YNc(0,cs,6,3,"div",3),t.YNc(1,bs,3,2,"ng-template",null,4,t.W1O)),2&n){const e=t.MAs(2),i=t.oxw();t.Q6J("ngIf",i.dataProcess.errorMessage&&""!==i.dataProcess.errorMessage)("ngIfElse",e)}}let qt=(()=>{class n extends y.Q{constructor(e,i,o,a){super(e),this.commonService=e,this.frontOfflineShareService=i,this.activeRoute=o,this.baseApiService=a,this.backToLink="",this.dataProcess={},this.returnLink="",this.studentInClassroom=[],this.offlineCodeId="",this.indexClassroom=0}ngOnInit(){var e,i;let o=this.commonService.getMyParam(this.activeRoute,"hash_id");this.offlineCodeId=null!==(e=this.commonService.getMyParam(this.activeRoute,"offline_code"))&&void 0!==e?e:"",this.returnLink="/test/share-offline-result/"+o+"/"+this.offlineCodeId+"/"+this.indexClassroom,this.backToLink="/student/dashboard/0",this.indexClassroom=Number(null!==(i=this.commonService.getMyParam(this.activeRoute,"index"))&&void 0!==i?i:"0"),this.getData(),super.ngOnInit()}getData(){let e=this.commonService.getMyParam(this.activeRoute,"hash_id");e&&this.offlineCodeId&&(this.initStatusObj(),this.subscriptions.add(this.frontOfflineShareService.apiFrontOfflineShareGetExamClassroomObjsGet(e,this.offlineCodeId).subscribe(i=>{var o,a,_,l;1==i.success?(this.dataProcess=null!==(o=i.data)&&void 0!==o?o:{},(null===(a=this.dataProcess.classroomObjs)||void 0===a?void 0:a.length)&&this.dataProcess.classroomObjs.length>0&&(this.studentInClassroom=null!==(_=this.dataProcess.classroomObjs[this.indexClassroom].studentObjs)&&void 0!==_?_:[]),this.successStatusObj()):this.errorStatusObj(null!==(l=i.message)&&void 0!==l?l:"",!0)})))}selectClassroom(e){var i,o;this.studentInClassroom=null!==(o=null===(i=this.dataProcess.classroomObjs)||void 0===i?void 0:i[e].studentObjs)&&void 0!==o?o:[],this.indexClassroom=e}selectStudentObj(e){var i,o,a,_,l;let r=this.commonService.getMyParam(this.activeRoute,"hash_id");this.returnLink="/test/share-offline-result/"+r+"/"+this.offlineCodeId+"/"+this.indexClassroom,this.myNavigationWithQueryString(`/test/answer-test/${null!==(o=null===(i=this.dataProcess.examObj)||void 0===i?void 0:i.tenantId)&&void 0!==o?o:0}/${null!==(_=null===(a=this.dataProcess.examObj)||void 0===a?void 0:a.categoryId)&&void 0!==_?_:0}/${null===(l=this.dataProcess.examObj)||void 0===l?void 0:l.hashId}/${e.examResultId}`,`?offline=${this.offlineCodeId}&backto=${this.returnLink}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(S.v),t.Y36(j.bF),t.Y36(M.gz),t.Y36(_t._))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-share-offline-result"]],features:[t.qOj],decls:4,vars:4,consts:[[3,"headerTitle","headerBackTolink"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","container",4,"ngIf","ngIfElse"],["noErrorMessage",""],[1,"container"],[1,"block-empty","mt-5"],["role","alert",1,"alert","alert-danger","text-center"],["class","container mt-5",4,"ngIf","ngIfElse"],["noClassroom",""],[1,"container","mt-5"],[1,"block-main"],[1,"title"],[1,"row"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",4,"ngFor","ngForOf"],[1,"block-main","mt-3"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2"],[1,"card-custom","card-custom-two",3,"ngClass","click"],[1,"text-center"],[1,"card-custom-title",3,"matTooltip"],[1,"card-custom","student_obj",3,"disabled","click"],[1,"row","ml-0","mr-0","justify-content-between",2,"width","100%"],[1,"col-3"],[1,"d-flex","align-items-center",2,"height","100%"],["style","vertical-align: middle; margin-top: 2px; border-radius: 50%","width","30","height","30",3,"src",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"col-9","pl-0"],[1,"text-left"],[1,"h5","mb-1","card-custom-title","font-bold",3,"matTooltip"],[1,"block-img"],["class","stdinfo-fullname mb-1 img-fluid","appDrawNameImage","","loading","lazy",3,"nameImages",4,"ngIf"],["class","h6 mb-0",4,"ngIf"],[1,"h6","mb-0"],["width","30","height","30",2,"vertical-align","middle","margin-top","2px","border-radius","50%",3,"src"],[3,"nameCreateAvatar","size"],["appDrawNameImage","","loading","lazy",1,"stdinfo-fullname","mb-1","img-fluid",3,"nameImages"]],template:function(e,i){if(1&e&&(t._UZ(0,"header-frontend",0),t.YNc(1,rs,1,0,"azt-loading-effect",1),t.YNc(2,Ts,3,2,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(3);t.Q6J("headerTitle","K\u1ebft qu\u1ea3 thi Offline")("headerBackTolink",i.backToLink),t.xp6(1),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[f.mk,f.sg,f.O5,B.gM,G.Q,W.d,_s.t,ls.L,f.OU,f.uU,v.bT,v.GT],styles:[".content-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.card-custom[_ngcontent-%COMP%]{background-color:#fff;padding:15px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;display:flex;align-items:center;min-height:65px;position:relative;transition:all .3s;width:100%;text-transform:inherit}.card-custom[_ngcontent-%COMP%]:hover:not([disabled]){box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc;background:rgb(242,242,242)}.card-custom-title[_ngcontent-%COMP%]{color:#000;font-weight:500}.card-custom-two[_ngcontent-%COMP%]{min-height:35px;text-align:center;justify-content:center}.content-link[_ngcontent-%COMP%]{color:#000;display:flex;align-items:center}.active[_ngcontent-%COMP%]{background:#2361ae;color:#fff;transition:all .3s}.active[_ngcontent-%COMP%]:hover{background:#10498d!important}.active[_ngcontent-%COMP%]   .card-custom-title[_ngcontent-%COMP%]{color:#fff}.title[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:16px;margin-bottom:15px}.margin_question_bar_40[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.margin_question_bar[_ngcontent-%COMP%]{margin-top:2rem!important}.margin_question_bar_60[_ngcontent-%COMP%]{margin-top:calc(2rem + 60px)!important}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}.isSelected[_ngcontent-%COMP%]{border-color:#004f7b;border-width:2px;border-style:solid}.isDisabled[_ngcontent-%COMP%]{opacity:.6}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}.col-3[_ngcontent-%COMP%]{flex:0 0 30%;max-width:30%}.col-9[_ngcontent-%COMP%]{flex:0 0 70%;max-width:70%}}@media only screen and (max-width: 768px){.col-3[_ngcontent-%COMP%]{flex:0 0 25%;max-width:25%}.col-9[_ngcontent-%COMP%]{flex:0 0 75%;max-width:75%}}"]}),n})();var ws=d(73828);function Cs(n,s){1&n&&t._UZ(0,"azt-loading-effect")}function ys(n,s){if(1&n&&(t.TgZ(0,"div",3),t._UZ(1,"azt-test-result-tracking",4),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("dataResultObjs",e.dataResultObjs)("dataScrollObjs",e.dataScrollObjs)}}const Os=[{path:"",component:ss,canActivate:[zt.J],children:[{path:":hash_id",component:as},{path:"category/:tenant_id/:cate_id/:page",component:va},{path:"submit-test/:tenant_id/:cate_id/:hash_id/:result_id",component:xe},{path:"student-view/:tenant_id/:cate_id/:hash_id",component:Yt},{path:"take-test/:tenant_id/:cate_id/:hash_id",component:Wo},{path:"answer-test/:tenant_id/:cate_id/:hash_id/:result_id",component:Bt},{path:"test-result-tracking/:result_id/:hash_id",component:(()=>{class n extends y.Q{constructor(e,i,o,a){super(o),this.activeRoute=e,this.frontExamResultService=i,this.commonService=o,this.zipdataService=a,this.dataResultObjs=[],this.dataScrollObjs=[],this.backToLink="",this.examHasdId=""}processData(e){if(e)for(var i=0;i<e.length;i++)if("scroll"!=e[i][0]){var o={index:e[i][0],alpha:e[i][1],key:e[i][2],questionId:Number(e[i][3]),second:Number(e[i][4])};this.dataResultObjs.push(o)}else{var a={scrollPos:Number(e[i][1]),second:Number(e[i][2])};this.dataScrollObjs.push(a)}}getData(e){this.initStatusObj(),this.frontExamResultService.apiFrontExamResultGetExamWithExamAnswerGet(this.examHasdId,e).subscribe(i=>{var o,a,_,l,r,m,c,p;if(1==i.success){var h=this.castJsonToObj(this.zipdataService.decodeContentGzip(null!==(_=null===(a=null===(o=null==i?void 0:i.data)||void 0===o?void 0:o.resultTrack)||void 0===a?void 0:a.trackData)&&void 0!==_?_:""));h&&this.processData(h),this.backToLink="/admin/testbank/tested-list/"+(null!==(r=null===(l=null==i?void 0:i.data)||void 0===l?void 0:l.examObj)&&void 0!==r&&r.categoryId?i.data.examObj.categoryId:0)+"/"+(null===(c=null===(m=null==i?void 0:i.data)||void 0===m?void 0:m.examObj)||void 0===c?void 0:c.id)+"/0",this.successStatusObj()}else this.errorStatusObj(null!==(p=i.message)&&void 0!==p?p:"",!0)})}ngOnInit(){var e;this.commonService.translateMetaData({title:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",description:"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem",image:"lang_cms_test_image"});let i=Number(this.activeRoute.snapshot.paramMap.get("result_id"));this.examHasdId=null!==(e=this.activeRoute.snapshot.paramMap.get("hash_id"))&&void 0!==e?e:"",this.getData(i),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.gz),t.Y36(gt.C),t.Y36(S.v),t.Y36(Ct.n))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-test-front-result-tracking"]],features:[t.qOj],decls:5,vars:5,consts:[[3,"headerTitle"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"container-fluid","mt-3","mb-5"],[3,"dataResultObjs","dataScrollObjs"]],template:function(e,i){if(1&e&&(t._UZ(0,"header-frontend",0),t.ALo(1,"mytranslate"),t.YNc(2,Cs,1,0,"azt-loading-effect",1),t.YNc(3,ys,2,2,"ng-template",null,2,t.W1O)),2&e){const o=t.MAs(4);t.Q6J("headerTitle",t.lcZ(1,3,"lang_auto_chi_tiet_qua_trinh_lam_trac_nghiem")),t.xp6(2),t.Q6J("ngIf",i.statusObj.loading)("ngIfElse",o)}},dependencies:[f.O5,G.Q,W.d,ws.$,v.bT]}),n})()},{path:"share-offline-result/:hash_id/:offline_code",component:qt},{path:"share-offline-result/:hash_id/:offline_code/:index",component:qt}]}];let Zs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[M.Bz.forChild(Os),M.Bz,ut.fQ]}),n})(),ks=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[M.Bz,f.ez,Dt.j,Lt.Z_,Zs,u.u5,u.UX,Ft.Is,Jt.Z,Ut.xC,Nt.QG,Qt.W]}),n})()}}]);