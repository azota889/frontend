(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{fZgH:function(t,e,o){"use strict";o.r(e),o.d(e,"HomeworkModule",function(){return qn});var n=o("ofXK"),i=o("3Pt+"),s=o("0IaG"),c=o("tyNb"),a=o("fB2i"),r=o("IkSl"),l=o("Zhhu"),d=o("sOeQ"),b=o("vvyD"),h=o("quSY"),m=o("itXk"),u=o("PYj7"),g=o("gm2p"),p=o("fXoL"),f=o("oUVn"),k=o("Avyq"),_=o("ZS4w"),v=o("ATyy"),w=o("++0c"),x=o("AkFM"),O=o("FzGO");const y=["drawer"],S=["boxContent"];function U(t,e){1&t&&p.Qb(0,"azt-loading-effect")}function V(t,e){if(1&t){const t=p.Wb();p.Vb(0,"app-delete-homework",9),p.cc("closeDialog",function(e){return p.Ec(t),p.gc(3).closeDeleteHomework(e)}),p.Ub()}if(2&t){const t=p.gc(3);p.nc("data",t.deleteHomeworkData)}}function C(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"azt-preview-media",10),p.cc("closePreview",function(){return p.Ec(t),p.gc(3).onFileClose()}),p.Ub(),p.Ub()}if(2&t){const t=p.gc(3);p.Db(1),p.nc("fileOption",t.previewFile)}}function D(t,e){if(1&t&&(p.Vb(0,"div",11),p.Vb(1,"span"),p.Tc(2),p.hc(3,"mytranslate"),p.hc(4,"mytranslate"),p.Ub(),p.Ub()),2&t){const t=p.gc(3);p.Db(2),p.Wc("",p.ic(3,2,"lang_homework_homework_score_list_not_search_data"),"! ","lang_core_not_found_classroom_or_homework"==t.errorMessage?"lang_homework_homework_score_list_class_maybe_delete":p.ic(4,4,""),"")}}function j(t,e){if(1&t&&(p.Vb(0,"p",89),p.Tc(1),p.hc(2,"mytranslate"),p.hc(3,"date"),p.Ub()),2&t){const t=p.gc(4);p.Db(1),p.Wc("",p.ic(2,2,"lang_homework_homework_score_list_dealine"),": ",p.jc(3,4,t.homeworkObj.deadline,"dd/MM/yyyy HH:mm"),"")}}function T(t,e){1&t&&(p.Vb(0,"p",89),p.Tc(1),p.hc(2,"mytranslate"),p.Ub()),2&t&&(p.Db(1),p.Uc(p.ic(2,1,"lang_homework_homework_score_list_dealine_not_time")))}function P(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",97),p.Vb(1,"div",98),p.cc("click",function(){p.Ec(t);const o=e.$implicit;return p.gc(6).onShowFile(o,-1)}),p.Vb(2,"mat-icon",99),p.Tc(3," text_snippet"),p.Ub(),p.Vb(4,"span",100),p.Tc(5),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,o=p.gc(6);p.Db(4),p.nc("matTooltip",o.getFileName(t)),p.Db(1),p.Uc(o.getFileName(t))}}function M(t,e){if(1&t&&(p.Vb(0,"div",95),p.Rc(1,P,6,2,"div",96),p.Ub()),2&t){const t=p.gc(5);p.Db(1),p.nc("ngForOf",t.homeworkObj.fileObjs)}}function I(t,e){if(1&t&&p.Qb(0,"div",101),2&t){const t=p.gc(5);p.nc("innerHTML",t.homeworkObj.content,p.Fc)}}const R=function(t){return[t]},A=function(t){return{backTo:t}};function N(t,e){if(1&t&&(p.Vb(0,"a",102),p.hc(1,"mylocalize"),p.Vb(2,"mat-icon",103),p.Tc(3,"edit"),p.Ub(),p.Vb(4,"span",104),p.Tc(5),p.hc(6,"mytranslate"),p.Ub(),p.Ub()),2&t){const t=p.gc(5);p.nc("routerLink",p.tc(7,R,p.ic(1,3,"/admin/homework/add-new-homework/"+t.homeworkObj.id+"/"+t.homeworkHashId)))("queryParams",p.tc(9,A,t.backLink)),p.Db(5),p.Uc(p.ic(6,5,"lang_buttom_edit"))}}function E(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",105),p.cc("click",function(){return p.Ec(t),p.gc(5).deleteHomework()}),p.Vb(1,"mat-icon",103),p.Tc(2,"delete"),p.Ub(),p.Vb(3,"span",104),p.Tc(4),p.hc(5,"mytranslate"),p.Ub(),p.Ub()}2&t&&(p.Db(4),p.Uc(p.ic(5,1,"lang_buttom_delete")))}function H(t,e){if(1&t&&(p.Rc(0,M,2,1,"div",90),p.Rc(1,I,1,1,"div",91),p.Vb(2,"div",92),p.Rc(3,N,7,11,"a",93),p.hc(4,"editPermission"),p.Rc(5,E,6,3,"a",94),p.hc(6,"deletePermission"),p.Ub()),2&t){const t=p.gc(4);p.nc("ngIf",t.homeworkObj.files&&t.homeworkObj.files.length>0),p.Db(1),p.nc("ngIf",t.homeworkObj.content&&""!=t.homeworkObj.content),p.Db(2),p.nc("ngIf",p.jc(4,4,t.homeworkObj.permissionObj,"homework")),p.Db(2),p.nc("ngIf",p.jc(6,7,t.homeworkObj.permissionObj,"homework"))}}function F(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",106),p.cc("click",function(){return p.Ec(t),p.gc(4).toggleShowActions()}),p.Vb(1,"mat-icon",103),p.Tc(2,"expand_more"),p.Ub(),p.Ub()}}function L(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",106),p.cc("click",function(){return p.Ec(t),p.gc(4).toggleShowActions()}),p.Vb(1,"mat-icon",103),p.Tc(2,"expand_less"),p.Ub(),p.Ub()}}function z(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",107),p.cc("click",function(){return p.Ec(t),p.gc(4).openDrawer()}),p.hc(1,"mytranslate"),p.Vb(2,"mat-icon",108),p.Tc(3," menu_open"),p.Ub(),p.Ub()}2&t&&p.oc("matTooltip",p.ic(1,1,"lang_homework_homework_score_list_open_menu"))}function B(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",107),p.cc("click",function(){return p.Ec(t),p.gc(4).closeDrawer()}),p.hc(1,"mytranslate"),p.Vb(2,"mat-icon",109),p.Tc(3,"menu_open "),p.Ub(),p.Ub()}2&t&&p.oc("matTooltip",p.ic(1,1,"lang_homework_homework_score_list_close_menu"))}function W(t,e){if(1&t&&(p.Vb(0,"p",89),p.Tc(1),p.hc(2,"mytranslate"),p.hc(3,"date"),p.Ub()),2&t){const t=p.gc(4);p.Db(1),p.Wc("",p.ic(2,2,"lang_homework_homework_score_list_dealine"),": ",p.jc(3,4,t.homeworkObj.deadline,"dd/MM/yyyy HH:mm"),"")}}function G(t,e){1&t&&(p.Vb(0,"p",89),p.Tc(1),p.hc(2,"mytranslate"),p.Ub()),2&t&&(p.Db(1),p.Uc(p.ic(2,1,"lang_homework_homework_score_list_dealine_not_time")))}function J(t,e){if(1&t&&(p.Vb(0,"a",110),p.hc(1,"mylocalize"),p.Vb(2,"mat-icon",111),p.Tc(3," edit"),p.Ub(),p.Vb(4,"span",104),p.Tc(5),p.hc(6,"mytranslate"),p.Ub(),p.Ub()),2&t){const t=p.gc(4);p.nc("routerLink",p.tc(7,R,p.ic(1,3,"/admin/homework/add-new-homework/"+t.homeworkObj.id+"/"+t.homeworkHashId)))("queryParams",p.tc(9,A,t.backLink)),p.Db(5),p.Uc(p.ic(6,5,"lang_buttom_edit"))}}function Q(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",112),p.cc("click",function(){return p.Ec(t),p.gc(4).deleteHomework()}),p.Vb(1,"mat-icon",113),p.Tc(2," delete"),p.Ub(),p.Vb(3,"span",114),p.Tc(4),p.hc(5,"mytranslate"),p.Ub(),p.Ub()}2&t&&(p.Db(4),p.Uc(p.ic(5,1,"lang_buttom_delete")))}function q(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",97),p.Vb(1,"div",98),p.cc("click",function(){p.Ec(t);const o=e.$implicit;return p.gc(6).onShowFile(o,-1)}),p.Vb(2,"mat-icon",99),p.Tc(3," text_snippet"),p.Ub(),p.Vb(4,"span",100),p.Tc(5),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,o=p.gc(6);p.Db(4),p.nc("matTooltip",o.getFileName(t)),p.Db(1),p.Uc(o.getFileName(t))}}function $(t,e){if(1&t&&(p.Vb(0,"div",95),p.Rc(1,q,6,2,"div",96),p.Ub()),2&t){const t=p.gc(5);p.Db(1),p.nc("ngForOf",t.homeworkObj.fileObjs)}}function Y(t,e){if(1&t&&p.Qb(0,"div",117),2&t){const t=p.gc(5);p.nc("innerHTML",t.homeworkObj.content,p.Fc)}}function K(t,e){if(1&t&&(p.Rc(0,$,2,1,"div",115),p.Rc(1,Y,1,1,"div",116)),2&t){const t=p.gc(4);p.nc("ngIf",t.homeworkObj.files&&t.homeworkObj.files.length>0),p.Db(1),p.nc("ngIf",t.homeworkObj.content&&""!=t.homeworkObj.content)}}function X(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",106),p.cc("click",function(){return p.Ec(t),p.gc(4).toggleShowActions()}),p.Vb(1,"mat-icon",103),p.Tc(2,"expand_more "),p.Ub(),p.Ub()}}function Z(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",106),p.cc("click",function(){return p.Ec(t),p.gc(4).toggleShowActions()}),p.Vb(1,"mat-icon",103),p.Tc(2,"expand_less "),p.Ub(),p.Ub()}}function tt(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",118),p.Vb(1,"div",78),p.Vb(2,"form",48),p.Vb(3,"input",49),p.cc("keyup.enter",function(){return p.Ec(t),p.gc(4).search()}),p.hc(4,"mytranslate"),p.Ub(),p.Vb(5,"div",50),p.cc("click",function(){return p.Ec(t),p.gc(4).search()}),p.Vb(6,"mat-icon",51),p.Tc(7," search "),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(8,"div",119),p.Vb(9,"div",53),p.Vb(10,"button",120),p.Vb(11,"span",55),p.Tc(12),p.hc(13,"mytranslate"),p.Ub(),p.Vb(14,"mat-icon",56),p.Tc(15,"filter_alt "),p.Ub(),p.Ub(),p.Ub(),p.Vb(16,"mat-menu",57,58),p.Vb(18,"a",59),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(19,"span",60),p.Tc(20),p.hc(21,"mytranslate"),p.Ub(),p.Vb(22,"mat-slide-toggle",61),p.cc("change",function(e){return p.Ec(t),p.gc(4).toggleFilterSubmitted(e)}),p.Ub(),p.Ub(),p.Vb(23,"a",59),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(24,"span",60),p.Tc(25),p.hc(26,"mytranslate"),p.Ub(),p.Vb(27,"mat-slide-toggle",61),p.cc("change",function(e){return p.Ec(t),p.gc(4).toggleFilterNotSubmit(e)}),p.Ub(),p.Ub(),p.Vb(28,"a",59),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(29,"span",60),p.Tc(30),p.hc(31,"mytranslate"),p.Ub(),p.Vb(32,"mat-slide-toggle",61),p.cc("change",function(e){return p.Ec(t),p.gc(4).toggleFilterMarked(e)}),p.Ub(),p.Ub(),p.Vb(33,"a",59),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(34,"span",60),p.Tc(35),p.hc(36,"mytranslate"),p.Ub(),p.Vb(37,"mat-slide-toggle",61),p.cc("change",function(e){return p.Ec(t),p.gc(4).toggleFilterReSubmit(e)}),p.Ub(),p.Ub(),p.Vb(38,"div",62),p.Vb(39,"a",63),p.cc("click",function(){return p.Ec(t),p.gc(4).confirmFilter()}),p.Vb(40,"span",64),p.Tc(41),p.hc(42,"mytranslate"),p.Ub(),p.Ub(),p.Vb(43,"a",63),p.cc("click",function(){return p.Ec(t),p.gc(4).clearFilter()}),p.Vb(44,"span",55),p.Tc(45),p.hc(46,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=p.Ac(17),e=p.gc(4);p.Db(2),p.nc("formGroup",e.form),p.Db(1),p.oc("placeholder",p.ic(4,14,"lang_homework_homework_score_list_search")),p.Db(7),p.nc("matMenuTriggerFor",t),p.Db(2),p.Uc(p.ic(13,16,"lang_homework_homework_score_list_sort")),p.Db(8),p.Vc(" ",p.ic(21,18,"lang_homework_homework_score_list_sort_student_not_marking")," "),p.Db(2),p.nc("checked",e.isSubmitted),p.Db(3),p.Vc(" ",p.ic(26,20,"lang_homework_homework_score_list_sort_student_not_yet_paid")," "),p.Db(2),p.nc("checked",e.isNotSubmit),p.Db(3),p.Vc(" ",p.ic(31,22,"lang_homework_homework_score_list_sort_mark")," "),p.Db(2),p.nc("checked",e.isMarked),p.Db(3),p.Vc(" ",p.ic(36,24,"lang_homework_homework_score_list_sort_student_resubmit")," "),p.Db(2),p.nc("checked",e.mustReSubmit),p.Db(4),p.Vc(" ",p.ic(42,26,"lang_buttom_agree")," "),p.Db(4),p.Vc(" ",p.ic(46,28,"lang_buttom_delete"),"")}}function et(t,e){1&t&&(p.Vb(0,"div",77),p.Vb(1,"p",121),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Ub()),2&t&&(p.Db(2),p.Uc(p.ic(3,1,"lang_homework_homework_score_list_list_submit")))}function ot(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",122),p.Vb(1,"div",123),p.Vb(2,"p",121),p.Tc(3),p.hc(4,"mytranslate"),p.Vb(5,"a",42),p.hc(6,"mylocalize"),p.Tc(7),p.hc(8,"slice"),p.Ub(),p.Ub(),p.Ub(),p.Vb(9,"div",124),p.Vb(10,"div",65),p.Vb(11,"button",66),p.Vb(12,"mat-icon",67),p.Tc(13,"menu"),p.Ub(),p.Ub(),p.Ub(),p.Vb(14,"mat-menu",57,68),p.Vb(16,"a",69),p.cc("click",function(){return p.Ec(t),p.gc(4).exportToExcel("homework")}),p.Vb(17,"mat-icon",70),p.Tc(18,"file_download"),p.Ub(),p.Vb(19,"span",71),p.hc(20,"mytranslate"),p.Tc(21),p.hc(22,"mytranslate"),p.Ub(),p.Ub(),p.Vb(23,"a",69),p.cc("click",function(){return p.Ec(t),p.gc(4).exportToPDF()}),p.Vb(24,"mat-icon",70),p.Tc(25,"picture_as_pdf"),p.Ub(),p.Vb(26,"span",71),p.hc(27,"mytranslate"),p.Tc(28),p.hc(29,"mytranslate"),p.Ub(),p.Ub(),p.Vb(30,"a",63),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(31,"mat-icon",70),p.Tc(32,"sort"),p.Ub(),p.Vb(33,"span",71),p.hc(34,"mytranslate"),p.Tc(35),p.hc(36,"mytranslate"),p.Ub(),p.Vb(37,"mat-slide-toggle",72),p.cc("change",function(e){return p.Ec(t),p.gc(4).sortByTimeDESC(e)}),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=p.Ac(15),e=p.gc(4);p.Db(3),p.Vc("",p.ic(4,12,"lang_homework_homework_score_list_list_submit_class")," : "),p.Db(2),p.oc("matTooltip",e.classObj.name),p.nc("routerLink",p.tc(32,R,p.ic(6,14,"/admin/student/class-details/"+e.classId))),p.Db(2),p.Vc("",e.classObj.name&&e.classObj.name.length>20?p.kc(8,16,e.classObj.name,0,20)+"..":e.classObj.name," "),p.Db(4),p.nc("matMenuTriggerFor",t),p.Db(8),p.oc("matTooltip",p.ic(20,20,"lang_homework_homework_score_list_export_excel")),p.Db(2),p.Vc(" ",p.ic(22,22,"lang_homework_homework_score_list_export_excel"),""),p.Db(5),p.oc("matTooltip",p.ic(27,24,"lang_homework_homework_score_list_export_pdf")),p.Db(2),p.Vc(" ",p.ic(29,26,"lang_homework_homework_score_list_export_pdf"),""),p.Db(5),p.oc("matTooltip",p.ic(34,28,"lang_homework_homework_score_list_sort_time_submit")),p.Db(2),p.Vc(" ",p.ic(36,30,"lang_homework_homework_score_list_sort_time_submit")," "),p.Db(2),p.nc("checked",e.isSortByTimeDESC)}}function nt(t,e){1&t&&(p.Vb(0,"div",34),p.Vb(1,"div",125),p.Vb(2,"p",126),p.Tc(3),p.hc(4,"mytranslate"),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Db(3),p.Vc("",p.ic(4,1,"lang_not_found_search"),"!"))}function it(t,e){1&t&&p.Qb(0,"azt-loading-effect")}function st(t,e){if(1&t){const t=p.Wb();p.Vb(0,"app-student-homework-result",127),p.cc("goToResult",function(e){return p.Ec(t),p.gc(4).goToTestReview(e)}),p.Ub()}if(2&t){const t=p.gc(4);p.nc("isSortByTime",t.isSortByTimeDESC)("backToLink",t.backToLink)("searchKey",t.form.controls.searchContent.value)("studentLists",t.dataListStudents)("isNotTestedYet",t.isNotTestedYet)("isOpenSideNav",t.isOpenSideNav)("obj",t.homeworkObj)}}const ct=function(t,e){return{"w-60":t,"w-30":e}},at=function(t){return{"px-0":t}},rt=function(t){return{"justify-content-center":t}};function lt(t,e){if(1&t){const t=p.Wb();p.Vb(0,"mat-drawer-container",12),p.Vb(1,"mat-drawer",13,14),p.Vb(3,"div",15),p.Vb(4,"div",16),p.Vb(5,"div",17),p.Vb(6,"div",18),p.Vb(7,"p",19),p.Tc(8),p.Ub(),p.Ub(),p.Ub(),p.Vb(9,"div",20),p.Vb(10,"div",21),p.Vb(11,"button",22),p.cc("click",function(){return p.Ec(t),p.gc(3).showCopySuccess()}),p.Vb(12,"mat-icon",23),p.Tc(13,"file_copy"),p.Ub(),p.Tc(14," Copy link "),p.Ub(),p.Ub(),p.Ub(),p.Vb(15,"div",24),p.Qb(16,"azt-download-qr-code",25),p.Ub(),p.Ub(),p.Vb(17,"div",18),p.Vb(18,"p",26),p.Tc(19),p.hc(20,"mytranslate"),p.hc(21,"date"),p.Ub(),p.Ub(),p.Vb(22,"div",18),p.Rc(23,j,4,7,"p",27),p.Rc(24,T,3,3,"p",27),p.Ub(),p.Vb(25,"div"),p.Qb(26,"azt-share",28),p.Ub(),p.Rc(27,H,7,10,"ng-template",29),p.Vb(28,"div",30),p.Rc(29,F,3,0,"a",31),p.Rc(30,L,3,0,"a",31),p.Ub(),p.Ub(),p.Ub(),p.Vb(31,"mat-drawer-content",32),p.Vb(32,"div",33),p.Vb(33,"div",34,35),p.Vb(35,"div",36),p.Vb(36,"div",37),p.Vb(37,"div",38),p.Vb(38,"div",39),p.Rc(39,z,4,3,"a",40),p.Rc(40,B,4,3,"a",40),p.Vb(41,"p",41),p.Vb(42,"a",42),p.hc(43,"mylocalize"),p.Tc(44),p.hc(45,"slice"),p.Ub(),p.Vb(46,"mat-icon",43),p.Tc(47," chevron_right"),p.Ub(),p.Vb(48,"span",44),p.Tc(49),p.hc(50,"slice"),p.Ub(),p.Ub(),p.Ub(),p.Vb(51,"div",45),p.Vb(52,"div",46),p.Vb(53,"div",47),p.Vb(54,"form",48),p.Vb(55,"input",49),p.cc("keyup.enter",function(){return p.Ec(t),p.gc(3).search()}),p.hc(56,"mytranslate"),p.Ub(),p.Vb(57,"div",50),p.cc("click",function(){return p.Ec(t),p.gc(3).search()}),p.Vb(58,"mat-icon",51),p.Tc(59," search "),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(60,"div",52),p.Vb(61,"div",53),p.Vb(62,"button",54),p.Vb(63,"span",55),p.Tc(64),p.hc(65,"mytranslate"),p.Ub(),p.Vb(66,"mat-icon",56),p.Tc(67,"filter_alt "),p.Ub(),p.Ub(),p.Ub(),p.Vb(68,"mat-menu",57,58),p.Vb(70,"a",59),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(71,"span",60),p.Tc(72),p.hc(73,"mytranslate"),p.Ub(),p.Vb(74,"mat-slide-toggle",61),p.cc("change",function(e){return p.Ec(t),p.gc(3).toggleFilterSubmitted(e)}),p.Ub(),p.Ub(),p.Vb(75,"a",59),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(76,"span",60),p.Tc(77),p.hc(78,"mytranslate"),p.Ub(),p.Vb(79,"mat-slide-toggle",61),p.cc("change",function(e){return p.Ec(t),p.gc(3).toggleFilterNotSubmit(e)}),p.Ub(),p.Ub(),p.Vb(80,"a",59),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(81,"span",60),p.Tc(82),p.hc(83,"mytranslate"),p.Ub(),p.Vb(84,"mat-slide-toggle",61),p.cc("change",function(e){return p.Ec(t),p.gc(3).toggleFilterMarked(e)}),p.Ub(),p.Ub(),p.Vb(85,"a",59),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(86,"span",60),p.Tc(87),p.hc(88,"mytranslate"),p.Ub(),p.Vb(89,"mat-slide-toggle",61),p.cc("change",function(e){return p.Ec(t),p.gc(3).toggleFilterReSubmit(e)}),p.Ub(),p.Ub(),p.Vb(90,"div",62),p.Vb(91,"a",63),p.cc("click",function(){return p.Ec(t),p.gc(3).confirmFilter()}),p.Vb(92,"span",64),p.Tc(93),p.hc(94,"mytranslate"),p.Ub(),p.Ub(),p.Vb(95,"a",63),p.cc("click",function(){return p.Ec(t),p.gc(3).clearFilter()}),p.Vb(96,"span",55),p.Tc(97),p.hc(98,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(99,"div"),p.Vb(100,"div",65),p.Vb(101,"button",66),p.Vb(102,"mat-icon",67),p.Tc(103,"menu"),p.Ub(),p.Ub(),p.Ub(),p.Vb(104,"mat-menu",57,68),p.Vb(106,"a",69),p.cc("click",function(){return p.Ec(t),p.gc(3).exportToExcel("homework")}),p.Vb(107,"mat-icon",70),p.Tc(108,"file_download"),p.Ub(),p.Vb(109,"span",71),p.hc(110,"mytranslate"),p.Tc(111),p.hc(112,"mytranslate"),p.Ub(),p.Ub(),p.Vb(113,"a",69),p.cc("click",function(){return p.Ec(t),p.gc(3).exportToPDF()}),p.Vb(114,"mat-icon",70),p.Tc(115,"picture_as_pdf"),p.Ub(),p.Vb(116,"span",71),p.hc(117,"mytranslate"),p.Tc(118),p.hc(119,"mytranslate"),p.Ub(),p.Ub(),p.Vb(120,"a",63),p.cc("click",function(t){return t.stopPropagation()}),p.Vb(121,"mat-icon",70),p.Tc(122,"sort"),p.Ub(),p.Vb(123,"span",71),p.hc(124,"mytranslate"),p.Tc(125),p.hc(126,"mytranslate"),p.Ub(),p.Vb(127,"mat-slide-toggle",72),p.cc("change",function(e){return p.Ec(t),p.gc(3).sortByTimeDESC(e)}),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(128,"div",73),p.Vb(129,"div",16),p.Vb(130,"div",74),p.Vb(131,"div",18),p.Vb(132,"p",19),p.Tc(133),p.Ub(),p.Ub(),p.Ub(),p.Vb(134,"div",75),p.Vb(135,"div",21),p.Vb(136,"button",22),p.cc("click",function(){return p.Ec(t),p.gc(3).showCopySuccess()}),p.Vb(137,"mat-icon",23),p.Tc(138,"file_copy "),p.Ub(),p.Tc(139," Copy link "),p.Ub(),p.Ub(),p.Ub(),p.Vb(140,"div",76),p.Qb(141,"azt-download-qr-code",25),p.Ub(),p.Ub(),p.Vb(142,"div",16),p.Vb(143,"div",77),p.Vb(144,"div",18),p.Vb(145,"p",26),p.Tc(146),p.hc(147,"mytranslate"),p.hc(148,"date"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(149,"div",16),p.Vb(150,"div",78),p.Vb(151,"div",18),p.Rc(152,W,4,7,"p",27),p.Rc(153,G,3,3,"p",27),p.Ub(),p.Ub(),p.Vb(154,"div",79),p.Vb(155,"div",80),p.Rc(156,J,7,11,"a",81),p.hc(157,"editPermission"),p.Rc(158,Q,6,3,"a",82),p.hc(159,"deletePermission"),p.Ub(),p.Ub(),p.Vb(160,"div",77),p.Qb(161,"azt-share",28),p.Ub(),p.Ub(),p.Rc(162,K,2,2,"ng-template",29),p.Vb(163,"div",16),p.Vb(164,"div",77),p.Vb(165,"div",30),p.Rc(166,X,3,0,"a",31),p.Rc(167,Z,3,0,"a",31),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Rc(168,tt,47,30,"div",83),p.Vb(169,"div",84),p.Rc(170,et,4,3,"div",85),p.Rc(171,ot,38,34,"ng-template",null,86,p.Sc),p.Ub(),p.Rc(173,nt,5,3,"div",87),p.Rc(174,it,1,0,"azt-loading-effect",3),p.Rc(175,st,1,7,"ng-template",29),p.Ub(),p.Qb(176,"app-excel-export",88),p.Ub(),p.Ub()}if(2&t){const t=p.Ac(69),e=p.Ac(105),o=p.Ac(172),n=p.gc(3);p.nc("hasBackdrop",n.hasBackdrop),p.Db(1),p.oc("opened",n.isOpenSideNav?"true":"false"),p.nc("mode",n.mode)("ngClass",p.uc(133,ct,n.isMobile,!n.isMobile)),p.Db(7),p.Uc(n.homeworkObj.name),p.Db(3),p.nc("cdkCopyToClipboard",n.copylinkToClipboard(n.homeworkObj.hashId?n.homeworkObj.hashId:"")),p.Db(5),p.nc("fileName","azota_score_list_qrcode_"+n.homeworkObj.hashId)("linkUrl",n.copylinkToClipboard(n.homeworkObj.hashId?n.homeworkObj.hashId:"")),p.Db(3),p.Wc("",p.ic(20,79,"lang_homework_homework_score_list_create_date"),": ",p.jc(21,81,n.homeworkObj.createdAt,"dd/MM/yyyy HH:mm"),""),p.Db(4),p.nc("ngIf",n.hasDeadline),p.Db(1),p.nc("ngIf",!n.hasDeadline),p.Db(2),p.nc("type",2)("typeObj","HOMEWORK")("id",n.homeworkObj.id)("permissionObj",n.homeworkObj.permissionObj),p.Db(1),p.nc("ngIf",n.isShowActions),p.Db(2),p.nc("ngIf",!n.isShowActions),p.Db(1),p.nc("ngIf",n.isShowActions),p.Db(2),p.nc("ngClass",p.tc(136,at,n.isMobile)),p.Db(3),p.nc("ngClass",p.tc(138,rt,n.isMobile)),p.Db(2),p.nc("hidden",1==n.isMobile),p.Db(2),p.nc("ngIf",!n.isOpenSideNav||n.isMobile),p.Db(1),p.nc("ngIf",n.isOpenSideNav&&!n.isMobile),p.Db(2),p.oc("matTooltip",n.classObj.name),p.nc("routerLink",p.tc(140,R,p.ic(43,84,"/admin/student/class-details/"+n.classId))),p.Db(2),p.Vc("",n.classObj.name&&n.classObj.name.length>20?p.kc(45,86,n.classObj.name,0,20)+"..":n.classObj.name," "),p.Db(4),p.oc("matTooltip",n.homeworkObj.name),p.Db(1),p.Vc(" ",n.homeworkObj.name&&n.homeworkObj.name.length>40?p.kc(50,90,n.homeworkObj.name,0,40)+"..":n.homeworkObj.name," "),p.Db(5),p.nc("formGroup",n.form),p.Db(1),p.oc("placeholder",p.ic(56,94,"lang_homework_homework_score_list_search")),p.Db(7),p.nc("matMenuTriggerFor",t),p.Db(2),p.Uc(p.ic(65,96,"lang_homework_homework_score_list_sort")),p.Db(8),p.Vc(" ",p.ic(73,98,"lang_homework_homework_score_list_sort_student_not_marking")," "),p.Db(2),p.nc("checked",n.isSubmitted),p.Db(3),p.Vc(" ",p.ic(78,100,"lang_homework_homework_score_list_sort_student_not_yet_paid")," "),p.Db(2),p.nc("checked",n.isNotSubmit),p.Db(3),p.Vc(" ",p.ic(83,102,"lang_homework_homework_score_list_sort_mark")," "),p.Db(2),p.nc("checked",n.isMarked),p.Db(3),p.Vc(" ",p.ic(88,104,"lang_homework_homework_score_list_sort_student_resubmit")," "),p.Db(2),p.nc("checked",n.mustReSubmit),p.Db(4),p.Vc(" ",p.ic(94,106,"lang_buttom_agree")," "),p.Db(4),p.Vc(" ",p.ic(98,108,"lang_buttom_delete"),""),p.Db(4),p.nc("matMenuTriggerFor",e),p.Db(8),p.oc("matTooltip",p.ic(110,110,"lang_homework_homework_score_list_export_excel")),p.Db(2),p.Vc(" ",p.ic(112,112,"lang_homework_homework_score_list_export_excel"),""),p.Db(5),p.oc("matTooltip",p.ic(117,114,"lang_homework_homework_score_list_export_pdf")),p.Db(2),p.Vc(" ",p.ic(119,116,"lang_homework_homework_score_list_export_pdf"),""),p.Db(5),p.oc("matTooltip",p.ic(124,118,"lang_homework_homework_score_list_sort_time_submit")),p.Db(2),p.Vc(" ",p.ic(126,120,"lang_homework_homework_score_list_sort_time_submit")," "),p.Db(2),p.nc("checked",n.isSortByTimeDESC),p.Db(1),p.nc("hidden",0==n.isMobile),p.Db(5),p.Uc(n.homeworkObj.name),p.Db(3),p.nc("cdkCopyToClipboard",n.copylinkToClipboard(n.homeworkObj.hashId?n.homeworkObj.hashId:"")),p.Db(5),p.nc("fileName","azota_score_list_qrcode_"+n.homeworkObj.hashId)("linkUrl",n.copylinkToClipboard(n.homeworkObj.hashId?n.homeworkObj.hashId:"")),p.Db(5),p.Wc("",p.ic(147,122,"lang_homework_homework_score_list_create_date"),": ",p.jc(148,124,n.homeworkObj.createdAt,"dd/MM/yyyy HH:mm"),""),p.Db(6),p.nc("ngIf",n.hasDeadline),p.Db(1),p.nc("ngIf",!n.hasDeadline),p.Db(3),p.nc("ngIf",p.jc(157,127,n.homeworkObj.permissionObj,"homework")),p.Db(2),p.nc("ngIf",p.jc(159,130,n.homeworkObj.permissionObj,"homework")),p.Db(3),p.nc("type",2)("typeObj","HOMEWORK")("id",n.homeworkObj.id)("permissionObj",n.homeworkObj.permissionObj),p.Db(1),p.nc("ngIf",n.isShowActions),p.Db(4),p.nc("ngIf",!n.isShowActions),p.Db(1),p.nc("ngIf",n.isShowActions),p.Db(1),p.nc("ngIf",n.isMobile),p.Db(2),p.nc("ngIf",0==n.isMobile)("ngIfElse",o),p.Db(3),p.nc("ngIf",n.isNullSearchData),p.Db(1),p.nc("ngIf",1==n.isLoadingSearch),p.Db(1),p.nc("ngIf",!n.isNullSearchData&&0==n.isLoadingSearch),p.Db(1),p.nc("studentList",n.dataListStudents)("homeworkObj",n.homeworkObj)("currentDate",n.currentDate)("typeTable","homework")}}function dt(t,e){1&t&&p.Qb(0,"div",128)}function bt(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Rc(1,V,1,1,"app-delete-homework",4),p.Rc(2,C,2,1,"div",3),p.Vb(3,"div",5),p.cc("resize",function(e){return p.Ec(t),p.gc(2).onResize(e)},!1,p.Dc),p.Rc(4,D,5,6,"div",6),p.Rc(5,lt,177,142,"mat-drawer-container",7),p.Ub(),p.Rc(6,dt,1,0,"div",8),p.Ub()}if(2&t){const t=p.gc(2);p.Db(1),p.nc("ngIf",t.deleteHomeworkData.isShow),p.Db(1),p.nc("ngIf",t.isShowPreviewFile),p.Db(2),p.nc("ngIf",""!=t.errorMessage),p.Db(1),p.nc("ngIf",""==t.errorMessage),p.Db(1),p.nc("ngIf",1==t.isMobile)}}function ht(t,e){if(1&t&&p.Rc(0,bt,7,5,"div",3),2&t){const t=p.gc();p.nc("ngIf",t.homeworkObj)}}let mt=(()=>{class t extends g.a{constructor(t,e,o,n,s,c,a,r,l,d){super(e),this.dialog=t,this.commonService=e,this.localize=o,this.activeRoute=n,this.fb=s,this.answerService=c,this.zipdataService=a,this.sortService=r,this.browserStorageService=l,this.examFilterService=d,this.currentDate=new Date,this.homeworkId="",this.backLink="",this.classId=0,this.subscriptions=new h.a,this.form=new i.k({}),this.contentHeight=0,this.backUpHeight=0,this.backToLink="",this.hasBackdrop=!1,this.mode="side",this.isMobile=!1,this.isShowActions=!0,this.isOpenSideNav=!0,this.isHomeworkFlow=!0,this.isSortByTimeDESC=!1,this.isSubmitted=!1,this.isNotSubmit=!1,this.isMarked=!1,this.mustReSubmit=!1,this.isLoadingSearch=!1,this.deleteHomeworkData={homeworkObj:{},isShow:!1},this.homeworkUserList=[],this.studentObjs=[],this.homeworkObj={},this.classObj={},this.isNotTestedYet=!1,this.isNullSearchData=!1,this.hasDeadline=!1,this.isShowPreviewFile=!1,this.previewFile={},this.errorMessage="",this.keyFilter="",this.dataListStudents=[],this.homeworkHashId=""}getData(){this.initStatusObj(),this.subscriptions.add(this.answerService.apiAnswerGetStudentsHomeworkGet(Number(this.homeworkId),this.homeworkHashId,this.classId).subscribe(t=>{var e,o,n,i,s,c,a,r,l,d,b;if(1==t.success){if(this.errorMessage="",this.zipdataService.convertStudentsHomeworkObj(null===(e=t.data)||void 0===e?void 0:e.studentObjs),this.homeworkUserList=this.checkStatusStudent(null!==(n=null===(o=t.data)||void 0===o?void 0:o.studentObjs)&&void 0!==n?n:new Array),this.homeworkObj=this.parseHomeworkData(null!==(s=null===(i=t.data)||void 0===i?void 0:i.homeworkObj)&&void 0!==s?s:{}),this.classObj=null!==(a=null===(c=t.data)||void 0===c?void 0:c.classroomObj)&&void 0!==a?a:{},(null===(r=this.homeworkObj)||void 0===r?void 0:r.deadline)&&null!=this.homeworkObj.deadline&&""!=this.homeworkObj.deadline.toString()&&(this.hasDeadline=!0),0==this.homeworkUserList.length)return this.isNotTestedYet=!0,void this.errorStatusObj("NO_TESTED_YET");this.studentObjs=this.commonService.parseJson(JSON.stringify(this.homeworkUserList)),this.isNullSearchData=!1,setTimeout(()=>{this.checkFilterValue()},0),this.getStatusSideNav();var h=this.browserStorageService.getSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time");h&&"true"==h?(this.isSortByTimeDESC=!0,this.dataListStudents=this.checkSortListStudent(99,this.studentObjs)):(this.isSortByTimeDESC=!1,this.dataListStudents=this.checkSortListStudent(null!==(l=this.classObj.sortType)&&void 0!==l?l:0,this.studentObjs)),this.successStatusObj()}else this.errorMessage=null!==(d=t.message)&&void 0!==d?d:"",this.errorStatusObj(null!==(b=t.message)&&void 0!==b?b:"",!0)}))}checkStatusStudent(t){for(var e,o,n=[],i=0;i<t.length;i++)n.push(Object.assign(Object.assign({},null==t?void 0:t[i]),{index:i})),t[i].confirmedAt&&t[i].confirmedAt&&n[i].index==i?n[i].isMarked=!0:null==t[i].answer||t[i].confirmedAt||n[i].index!=i?null==t[i].answer&&null!=t[i].answerHistory&&n[i].index==i?n[i].mustReSubmit=!0:n[i].isNotSubmit=!0:n[i].isSubmitted=!0,n[i].answerFileObjs=this.castJsonToObj(null!==(o=null===(e=t[i].answer)||void 0===e?void 0:e.files)&&void 0!==o?o:"");return n}parseHomeworkData(t){var e=this.castObj(t);return(null==e?void 0:e.files)&&(e.fileObjs=this.commonService.parseJson(e.files)),this.zipdataService.convertHomeworkObj(null!=e?e:{}),e}fillerArr(t,e){var o;e=this.commonService.convertVietnameseToEnglish(e);var n=[];for(let i=0;i<t.length;i++)-1!=this.commonService.convertVietnameseToEnglish(null!==(o=t[i].fullName)&&void 0!==o?o:"").toLowerCase().indexOf(e.toLowerCase())&&n.push(t[i]);return n}search(){var t,e;this.isLoadingSearch=!0;var o=this.commonService.getFormObj(this.form);if(""!=o.searchContent){var n=this.commonService.parseJson(JSON.stringify(this.checkSortListStudent(null!==(t=this.classObj.sortType)&&void 0!==t?t:0,this.studentObjs))),i=this.fillerArr(n,o.searchContent);this.dataListStudents=i,this.isLoadingSearch=!1}else this.isLoadingSearch=!1,this.homeworkUserList=this.studentObjs,this.dataListStudents=this.checkSortListStudent(null!==(e=this.classObj.sortType)&&void 0!==e?e:0,this.studentObjs),this.isNullSearchData=!1,this.errorStatusObj("NO_TESTED_YET")}toggleFilterSubmitted(t){this.isSubmitted=!!t.checked}toggleFilterNotSubmit(t){this.isNotSubmit=!!t.checked}toggleFilterMarked(t){this.isMarked=!!t.checked}toggleFilterReSubmit(t){this.mustReSubmit=!!t.checked}confirmFilter(){var t,e=[],o=[],n=[],i=[];this.saveFilterValue(),this.isSubmitted&&(e=this.studentObjs.filter(t=>1==t.isSubmitted)),this.isNotSubmit&&(o=this.studentObjs.filter(t=>1==t.isNotSubmit)),this.isMarked&&(n=this.studentObjs.filter(t=>1==t.isMarked)),this.mustReSubmit&&(i=this.studentObjs.filter(t=>1==t.mustReSubmit)),this.isSubmitted||this.isNotSubmit||this.isMarked||this.mustReSubmit?this.homeworkUserList=this.sortIndex([...e,...o,...n,...i]):this.clearFilter();let s=this.homeworkUserList;var c=this.browserStorageService.getSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time");this.dataListStudents=this.checkSortListStudent(c&&"true"==c?99:null!==(t=this.classObj.sortType)&&void 0!==t?t:0,s)}clearFilter(){var t;this.isSubmitted=!1,this.isNotSubmit=!1,this.isMarked=!1,this.mustReSubmit=!1,this.homeworkUserList=this.studentObjs;var e=this.browserStorageService.getSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time");this.dataListStudents=this.checkSortListStudent(e&&"true"==e?99:null!==(t=this.classObj.sortType)&&void 0!==t?t:0,this.studentObjs),this.removeFilterStore()}removeFilterStore(){this.examFilterService.removeCustomFilter("homework",this.homeworkId)}exportToExcel(t){setTimeout(()=>{var e;null===(e=document.getElementById("table_"+t))||void 0===e||e.click()},1e3)}exportToPDF(){this.commonService.gaEvent("go_to_exp_pdf_homework");const t=this.localize.translateRoute("/admin/homework/export-homework")+"/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkHashId;window.open(t,"_blank")}resizeImg(t,e,o){var n,i=document.getElementById("media_content_"+t),s=null!==(n=null==i?void 0:i.offsetWidth)&&void 0!==n?n:0;return i?s/e<=1?Math.round(o*(s/e)):Math.round(o):0}sortIndex(t){return t.sort((t,e)=>Number(t)-Number(e))}sortByName(){this.homeworkUserList=this.sortService.sortFirstNameStudents(this.studentObjs)}onResize(t){var e;t.target.innerWidth<768?(this.contentHeight=(null===(e=this.boxContent)||void 0===e?void 0:e.nativeElement.offsetHeight)+45,this.isMobile=!0,this.mode="over",this.hasBackdrop=!0,this.isOpenSideNav=!1):(this.contentHeight=166,this.isMobile=!1,this.mode="side",this.hasBackdrop=!1,this.isOpenSideNav=!0)}checkWidth(){window.innerWidth<768?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1)}getFileName(t){var e;return"object"==typeof t&&t.hasOwnProperty("name")&&null!==(e=t.name)&&void 0!==e?e:""}sortByTimeDESC(t){var e;t.checked?(this.isSortByTimeDESC=t.checked,this.dataListStudents=this.checkSortListStudent(99,this.commonService.myClone(this.studentObjs)),this.browserStorageService.saveSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time",t.checked.toString())):(this.isSortByTimeDESC=t.checked,this.dataListStudents=this.checkSortListStudent(null!==(e=this.classObj.sortType)&&void 0!==e?e:0,this.studentObjs),this.browserStorageService.saveSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time",t.checked.toString()))}goToTestReview(t){var e;this.backToLink="/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkHashId,this.commonService.myNavigationWithQueryString("/admin/homework/mark-exercise/"+(null===(e=t.answer)||void 0===e?void 0:e.id)+"/"+this.homeworkHashId,"?backto="+encodeURIComponent(this.backToLink))}goToEditHomework(){var t;this.commonService.myNavigation("/admin/homework/add-new-homework/"+(null===(t=this.homeworkObj)||void 0===t?void 0:t.id)+"/"+this.homeworkHashId)}disableScroll(){let t=window.pageYOffset||document.documentElement.scrollLeft,e=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=()=>{window.scrollTo(t,e)}}enableScroll(){window.onscroll=()=>{}}deleteHomework(){this.deleteHomeworkData={homeworkObj:this.homeworkObj,isShow:!0}}closeDeleteHomework(t){t?(this.deleteHomeworkData={homeworkObj:{},isShow:!1},this.commonService.myNavigation("/admin/homework/homework-list/"+this.classObj.id)):this.deleteHomeworkData={homeworkObj:{},isShow:!1}}onFileClose(){this.enableScroll(),this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(t,e){this.isShowPreviewFile=!0,this.disableScroll(),this.previewFile=Object.assign(Object.assign({},t),{index:e})}toggleDrawer(){var t;null===(t=this.drawer)||void 0===t||t.toggle(),this.isOpenSideNav=!this.isOpenSideNav}openDrawer(){var t;null===(t=this.drawer)||void 0===t||t.open(),this.isOpenSideNav=!0,this.saveStatusSideNav()}closeDrawer(){var t;null===(t=this.drawer)||void 0===t||t.close(),this.isOpenSideNav=!1,this.saveStatusSideNav()}saveStatusSideNav(){this.examFilterService.saveStatusSideNav("homework",this.isOpenSideNav)}removeStatusSideNav(){this.examFilterService.removeStatusSideNav("homework")}getStatusSideNav(){if(window.innerWidth>768){let t=this.examFilterService.getStatusSideNav("homework");this.isOpenSideNav=!t||"close"!=t}else this.isOpenSideNav=!1}toggleShowActions(){this.isShowActions=!this.isShowActions,this.isMobile&&(this.contentHeight=0==this.isShowActions?200:this.backUpHeight)}showCopySuccess(){this.showSuccessSnack("Sao ch\xe9p th\xe0nh c\xf4ng \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i")}copylinkToClipboard(t){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${t}`}goToStudentList(){this.commonService.myNavigation("/admin/student/manage-class/0")}checkSortListStudent(t,e){return 0==t?this.sortService.sortFirstNameStudents(this.commonService.myClone(e)):99==t?this.sortService.sortTimeDESC(this.commonService.myClone(e)):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(e),"pos","id")}saveFilterValue(){let t={};this.isMarked&&(t.isMarked=!0),this.isSubmitted&&(t.isSubmitted=!0),this.isNotSubmit&&(t.isNotSubmit=!0),this.mustReSubmit&&(t.mustReSubmit=!0),this.examFilterService.setCustomFilter(t,"homework",this.homeworkId)}checkFilterValue(){let t=this.examFilterService.getCustomFilter("homework",this.homeworkId);null!=t&&""!=t&&(t.includes("isMarked")&&(this.isMarked=!0),t.includes("isSubmitted")&&(this.isSubmitted=!0),t.includes("isNotSubmit")&&(this.isNotSubmit=!0),t.includes("mustReSubmit")&&(this.mustReSubmit=!0),this.confirmFilter())}ngOnInit(){Object(m.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var t,e,o,n;this.homeworkId=null!==(t=this.activeRoute.snapshot.paramMap.get("id"))&&void 0!==t?t:"",this.homeworkHashId=null!==(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==e?e:"",this.classId=null!==(o=Number(this.activeRoute.snapshot.paramMap.get("class_id")))&&void 0!==o?o:0,this.backLink=this.commonService.getMyQueryParam("backTo")?null!==(n=this.commonService.getMyQueryParam("backTo"))&&void 0!==n?n:"":"/admin/homework/classes/1",this.backToLink="/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkHashId,this.form=this.fb.group({searchContent:new i.h("",i.z.required)}),this.initStatusObj(),this.getData(),this.checkWidth()}),this.commonService.translateMetaData({title:"lang_cms_homework_submit_list_title",description:"lang_cms_homework_submit_list_description",image:"lang_cms_homework_image"}),this.commonService.gaEvent("teacher_homework_score"),super.ngOnInit()}ngAfterViewInit(){setTimeout(()=>{var t,e;this.isMobile?(this.contentHeight=(null===(t=this.boxContent)||void 0===t?void 0:t.nativeElement.offsetHeight)+45,this.backUpHeight=(null===(e=this.boxContent)||void 0===e?void 0:e.nativeElement.offsetHeight)+45):this.contentHeight=166},1e3)}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(s.b),p.Pb(f.a),p.Pb(k.e),p.Pb(c.a),p.Pb(i.g),p.Pb(_.a),p.Pb(v.a),p.Pb(w.a),p.Pb(x.a),p.Pb(O.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-homework-submit-list"]],viewQuery:function(t,e){if(1&t&&(p.cd(y,!0),p.cd(S,!0)),2&t){let t;p.zc(t=p.dc())&&(e.drawer=t.first),p.zc(t=p.dc())&&(e.boxContent=t.first)}},features:[p.Ab],decls:4,vars:4,consts:[[3,"headerTitle","back_link","removeFilter"],[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"container-fluid","py-3","mt-md-3",3,"resize"],["class","alert alert-danger",4,"ngIf"],["class","tested_list_container","style","border-radius: 5px;",3,"hasBackdrop",4,"ngIf"],["class","py-4",4,"ngIf"],[3,"data","closeDialog"],[3,"fileOption","closePreview"],[1,"alert","alert-danger"],[1,"tested_list_container",2,"border-radius","5px",3,"hasBackdrop"],[1,"test",2,"background-color","#ecf0f5","border","none",3,"mode","opened","ngClass"],["drawer",""],[1,"container-fluid","box-content","pt-2","pb-2"],[1,"row"],[1,"col-md-7"],[1,"text-left"],[1,"homework_title","mt-2","mb-2"],[1,"col-md-4","block-btn"],[1,"d-flex","justify-content-end","align-self-end"],["tabindex","-1","mat-button","",1,"btn",2,"font-size","10px","padding-top","0","color","#0eafc0",3,"cdkCopyToClipboard","click"],[2,"font-size","12px","padding-top","5px"],[1,"col-md-1","p-0","d-flex"],[1,"m-auto",3,"fileName","linkUrl"],[1,"mb-1",2,"font-size","14px","color","#8E8E8E"],["class","mb-1","style","font-size: 14px; color: #0EAFC0;",4,"ngIf"],[3,"type","typeObj","id","permissionObj"],[3,"ngIf"],[1,"text-center"],["class","clickable","style","user-select: none;",3,"click",4,"ngIf"],[2,"background-color","#ecf0f5","overflow","hidden"],[1,"container-fluid","content-zone",2,"background-color","#ecf0f5",3,"ngClass"],[1,"box-content","py-2"],["boxContent",""],[1,"row","pl-0","pr-0","ml-0","mr-0",3,"ngClass"],[1,"col-md-12","pl-0","pr-0"],[1,"row","pl-0","pr-0","ml-0","mr-0","justify-content-between",3,"hidden"],[1,"col-sm-6","d-flex"],["class","clickable",3,"matTooltip","click",4,"ngIf"],[1,"mb-0","ml-3","align-self-center"],[1,"clickable","link-stu",2,"vertical-align","middle",3,"routerLink","matTooltip"],[2,"vertical-align","middle","color","#646464a1","height","20px","font-size","20px","width","20px"],[1,"truncate_custom",2,"vertical-align","middle",3,"matTooltip"],[1,"col-sm-6","align-self-center"],[1,"d-flex","justify-content-end"],[1,"col-6","pl-0","pr-0","text-right"],[2,"position","relative",3,"formGroup"],["type","text","formControlName","searchContent",1,"input-search",3,"placeholder","keyup.enter"],[1,"search-icon","clickable",3,"click"],[1,"search-ver",2,"vertical-align","middle","font-size","18px","height","16px","width","18px"],[1,"ml-2","mr-2","text-center"],[1,"filter_btn"],["mat-button","",1,"menu-button",3,"matMenuTriggerFor"],[2,"vertical-align","middle","color","#828282"],[2,"font-size","16px","height","16px"],["xPosition","before"],["beforeMenu","matMenu"],["mat-menu-item","",1,"cursorDefault","mb-2",2,"height","30px","line-height","30px",3,"click"],[2,"vertical-align","middle"],["color","primary",2,"vertical-align","middle","margin-left","5px",3,"checked","change"],[1,"d-flex","justify-content-end","px-2"],["mat-menu-item","",1,"clickable",2,"height","30px","line-height","30px",3,"click"],[2,"vertical-align","middle","color","#0EAFC0"],[1,"filter_btn","bg-light"],["mat-button","",1,"menu-button","pl-0","pr-0","pb-0",2,"min-width","auto",3,"matMenuTriggerFor"],[2,"vertical-align","middle","color","#333333"],["menu","matMenu"],["mat-menu-item","",1,"clickable","mb-2",2,"height","30px","line-height","30px",3,"click"],[1,"menu-icon"],[2,"vertical-align","middle","color","#828282",3,"matTooltip"],["color","primary",2,"vertical-align","middle","margin-left","10px",3,"checked","change"],[1,"col-12",3,"hidden"],[1,"col-6"],[1,"col-5","block-btn"],[1,"col-1","p-0","d-flex"],[1,"col-12"],[1,"col-8"],[1,"col-4"],[1,"d-flex","justify-content-end","align-self-center"],["class","clickable d-flex align-items-center","style","user-select: none; font-size: 16px;",3,"routerLink","queryParams",4,"ngIf"],["class","clickable ml-3 d-flex align-items-center","style","user-select: none; font-size: 16px;",3,"click",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3","ml-0","mr-0",2,"width","100%"],["class","col-12",4,"ngIf","ngIfElse"],["dd",""],["class","box-content py-2",4,"ngIf"],[3,"studentList","homeworkObj","currentDate","typeTable"],[1,"mb-1",2,"font-size","14px","color","#0EAFC0"],["class","row ml-0 mr-0 files_zone mt-3",4,"ngIf"],["id","description_content","class","description text-left align-self-center py-2 px-3",3,"innerHTML",4,"ngIf"],[1,"d-flex","justify-content-end","align-self-center","mt-2"],["class","clickable","style","user-select: none; font-size: 16px;",3,"routerLink","queryParams",4,"ngIf"],["class","clickable ml-3","style","user-select: none; font-size: 16px;",3,"click",4,"ngIf"],[1,"row","ml-0","mr-0","files_zone","mt-3"],["class","col-12 col-sm-12 col-md-12 align-self-center",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-12","align-self-center"],[1,"file_obj","d-flex","text-left","py-2","clickable",3,"click"],[2,"font-size","18px","vertical-align","middle","color","#3C8DBC","margin-right","3px","height","20px","width","20px"],[1,"truncate",2,"vertical-align","middle","color","#3C8DBC",3,"matTooltip"],["id","description_content",1,"description","text-left","align-self-center","py-2","px-3",3,"innerHTML"],[1,"clickable",2,"user-select","none","font-size","16px",3,"routerLink","queryParams"],[2,"vertical-align","middle","color","#8E8E8E"],[2,"vertical-align","middle","color","#8E8E8E","font-size","14px"],[1,"clickable","ml-3",2,"user-select","none","font-size","16px",3,"click"],[1,"clickable",2,"user-select","none",3,"click"],[1,"clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#646464","transform","rotateY(180deg)"],[2,"vertical-align","middle","color","#646464"],[1,"clickable","d-flex","align-items-center",2,"user-select","none","font-size","16px",3,"routerLink","queryParams"],[2,"vertical-align","middle","color","#8E8E8E","font-size","19px"],[1,"clickable","ml-3","d-flex","align-items-center",2,"user-select","none","font-size","16px",3,"click"],[2,"vertical-align","middle","color","#bd3737","font-size","19px"],[2,"vertical-align","middle","color","#bd3737","font-size","14px"],["class","row ml-0 mr-0  files_zone mt-3",4,"ngIf"],["class","description text-left align-self-center py-2 px-3",3,"innerHTML",4,"ngIf"],[1,"description","text-left","align-self-center","py-2","px-3",3,"innerHTML"],[1,"row","mt-3"],[1,"col-4","pl-0"],["mat-button","",1,"menu-button","menu-button-mb",3,"matMenuTriggerFor"],[1,"mb-1","h6",2,"font-weight","400","font-size","14px"],[1,"row","align-items-center","mx-auto",2,"width","100%"],[1,"col-10","p-0","text-left"],[1,"col-2","p-0","pb-2","d-flex","justify-content-end"],[1,"text-center","mt-3"],[1,"h4"],[3,"isSortByTime","backToLink","searchKey","studentLists","isNotTestedYet","isOpenSideNav","obj","goToResult"],[1,"py-4"]],template:function(t,e){if(1&t&&(p.Vb(0,"header-backend",0),p.cc("removeFilter",function(){return e.removeFilterStore()}),p.Ub(),p.Rc(1,U,1,0,"azt-loading-effect",1),p.Rc(2,ht,1,1,"ng-template",null,2,p.Sc)),2&t){const t=p.Ac(3);p.nc("headerTitle",(null==e.homeworkObj?null:e.homeworkObj.name)||"")("back_link",e.backLink),p.Db(1),p.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}},styles:[".tested_list_container[_ngcontent-%COMP%]{overflow:hidden;height:calc(100vh - 77px - .5rem)}  .mat-drawer-inner-container::-webkit-scrollbar{width:8px;margin:5px}  .mat-drawer-inner-container::-webkit-scrollbar-thumb{background:#cfcece;border-radius:10px}  .mat-drawer-inner-container{overflow:auto!important}.link-stu[_ngcontent-%COMP%]{color:#000}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none}.exam_info[_ngcontent-%COMP%]{padding:8px 16px}.exam_title[_ngcontent-%COMP%]{font-size:16px;color:#646464}.w-30[_ngcontent-%COMP%]{width:30%}.w-60[_ngcontent-%COMP%]{width:60%}.search-icon[_ngcontent-%COMP%]{position:absolute;right:5px;top:2px;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:1px solid hsla(0,0%,91.8%,.8901960784313725);padding:.1rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:1px solid #0eafc0;outline:none}.btn_action[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;box-sizing:border-box;border:1px solid #f1f1f1;border-radius:0;box-shadow:none}.filter_btn[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{font-size:12px;font-weight:400!important;border:1px solid hsla(0,0%,91.8%,.8901960784313725);border-radius:3px;text-transform:none;padding-right:6px;padding-bottom:3px;color:#414141;line-height:20px}.content-zone[_ngcontent-%COMP%]{height:100%}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 466px);overflow-y:scroll;padding-bottom:80px!important}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%]{display:flex}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.truncate_custom[_ngcontent-%COMP%]{max-width:80%;display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.homework_title[_ngcontent-%COMP%]{font-size:16px;color:#646464;word-break:break-word}.description[_ngcontent-%COMP%], .files_zone[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;box-sizing:border-box;border:1px solid #f1f1f1;border-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;font-size:13px;word-break:break-word}.cursorDefault[_ngcontent-%COMP%]{cursor:default}@media (max-width:756px){.tested_list_container[_ngcontent-%COMP%]{height:auto}.truncate_custom[_ngcontent-%COMP%]{max-width:70%}}.input-search-mb[_ngcontent-%COMP%]{width:100%;padding:2px}.menu-button-mb[_ngcontent-%COMP%]{text-align:center;width:100%}  .truncate{word-break:break-word!important;white-space:unset!important}"]}),t})();var ut=o("wccm"),gt=o("mrSG"),pt=o("n1FK"),ft=o("tk/3"),kt=o("1yaQ"),_t=o("FKr1"),vt=o("bWEQ"),wt=o("BTbT"),xt=o("Bjt4"),Ot=o("K3fS"),yt=o("VMFx"),St=o("f4AX"),Ut=o("nzN9"),Vt=o("kmnG"),Ct=o("qFsG"),Dt=o("bTqV"),jt=o("NFeN"),Tt=o("Qu3c"),Pt=o("bSwM"),Mt=o("hZBc"),It=o("wAhq"),Rt=o("iWHX");function At(t,e){1&t&&p.Qb(0,"azt-loading-effect")}function Nt(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"header-backend",56),p.cc("MenuEvent",function(e){return p.Ec(t),p.gc(2).callbackMenuEvent(e)}),p.hc(2,"mytranslate"),p.Ub(),p.Ub()}if(2&t){const t=p.gc(2);p.Db(1),p.nc("menu_objs",t.menuObjs)("headerTitle",p.ic(2,3,"lang_homework_add_home_work_add_home_work"))("back_link","/admin/homework/classes/1")}}function Et(t,e){if(1&t){const t=p.Wb();p.Vb(0,"header-backend",57),p.cc("MenuEvent",function(e){return p.Ec(t),p.gc(2).callbackMenuEvent(e)})("RedirectToLink",function(){return p.Ec(t),p.gc(2).redirectToBackLink()}),p.hc(1,"mytranslate"),p.Ub()}if(2&t){const t=p.gc(2);p.nc("menu_objs",t.menuObjs)("headerTitle",p.ic(1,3,"lang_homework_add_home_work_update_home_work"))("checkUrlFunction",!0)}}function Ht(t,e){1&t&&(p.Vb(0,"div"),p.Tc(1),p.hc(2,"mytranslate"),p.Ub()),2&t&&(p.Db(1),p.Vc("** ",p.ic(2,1,"lang_homework_add_home_work_validate_enter_null_name_homework"),"."))}function Ft(t,e){1&t&&(p.Vb(0,"div"),p.Tc(1),p.hc(2,"mytranslate"),p.Ub()),2&t&&(p.Db(1),p.Vc("** ",p.ic(2,1,"lang_homework_add_home_work_validate_enter_name_homework"),"."))}function Lt(t,e){if(1&t&&(p.Vb(0,"div",58),p.Vb(1,"div"),p.Vb(2,"div",59),p.Vb(3,"div",60),p.Rc(4,Ht,3,3,"div",55),p.Rc(5,Ft,3,3,"div",55),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&t){const t=p.gc(2);p.Db(4),p.nc("ngIf",t.form.controls.nameExam.errors.required),p.Db(1),p.nc("ngIf",t.form.controls.nameExam.errors.maxlength)}}function zt(t,e){1&t&&(p.Vb(0,"span"),p.Tc(1,"OK"),p.Ub())}function Bt(t,e){1&t&&(p.Vb(0,"div",61),p.Vb(1,"div",62),p.Vb(2,"span",63),p.Tc(3,"Loading..."),p.Ub(),p.Ub(),p.Ub())}function Wt(t,e){1&t&&(p.Vb(0,"div",64),p.Tc(1,"Ch\u1ee5p \u1ea3nh b\xe0i t\u1eadp ho\u1eb7c ch\u1ecdn file word, pdf, audio, video c\xf3 s\u1eb5n"),p.Ub())}function Gt(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"div"),p.Vb(2,"button",65),p.cc("click",function(){p.Ec(t);const o=e.index,n=p.gc(2);return!!n.formHomework.files&&n.formHomework.files.splice(o,1)}),p.Vb(3,"mat-icon",66),p.Tc(4,"close"),p.Ub(),p.Ub(),p.Vb(5,"a",67),p.cc("click",function(){p.Ec(t);const o=e.$implicit;return p.gc(2).onShowFile(o,-1)}),p.Vb(6,"span",68),p.Tc(7),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit;p.Db(6),p.nc("title",t.name),p.Db(1),p.Uc(t.name)}}function Jt(t,e){if(1&t&&(p.Vb(0,"div",69),p.Tc(1),p.hc(2,"mytranslate"),p.Vb(3,"span",70),p.Tc(4),p.Ub(),p.Ub()),2&t){const t=p.gc(2);p.Db(1),p.Vc(" ",p.ic(2,2,"lang_homework_add_home_work_edit_homework"),": "),p.Db(3),p.Vc(" ",t.classroomObjByHomework.name,"")}}function Qt(t,e){1&t&&(p.Vb(0,"div",69),p.Tc(1),p.hc(2,"mytranslate"),p.Ub()),2&t&&(p.Db(1),p.Uc(p.ic(2,1,"lang_homework_add_home_work_select_class")))}function qt(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"a",73),p.cc("click",function(){return p.Ec(t),p.gc(3).checkAllCheckBox()}),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Ub()}2&t&&(p.Db(2),p.Vc(" ",p.ic(3,1,"lang_homework_add_home_work_select_all")," "))}function $t(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",73),p.cc("click",function(){return p.Ec(t),p.gc(3).clearAllCheckBox()}),p.Tc(1),p.hc(2,"mytranslate"),p.Ub()}2&t&&(p.Db(1),p.Vc(" ",p.ic(2,1,"lang_homework_add_home_work_clear_select_all")," "))}function Yt(t,e){if(1&t&&(p.Vb(0,"div",71),p.Rc(1,qt,4,3,"div",0),p.Rc(2,$t,3,3,"ng-template",null,72,p.Sc),p.Ub()),2&t){const t=p.Ac(3),e=p.gc(2);p.Db(1),p.nc("ngIf",0==e.isCheckAll)("ngIfElse",t)}}function Kt(t,e){if(1&t&&(p.Vb(0,"span",80),p.Tc(1),p.hc(2,"slice"),p.Ub()),2&t){const t=p.gc().index,e=p.gc(3);p.oc("matTooltip",e.classroomObjs[t].name),p.Db(1),p.Uc(p.kc(2,2,e.classroomObjs[t].name,0,25)+"..")}}function Xt(t,e){if(1&t&&(p.Vb(0,"span"),p.Tc(1),p.Ub()),2&t){const t=p.gc().index,e=p.gc(3);p.Db(1),p.Uc(e.classroomObjs[t].name)}}function Zt(t,e){1&t&&(p.Vb(0,"span",81),p.Tc(1,"Chia s\u1ebb"),p.Ub())}function te(t,e){if(1&t&&(p.Vb(0,"div",76),p.Vb(1,"mat-checkbox",77),p.hc(2,"createPermission"),p.Rc(3,Kt,3,6,"span",78),p.Rc(4,Xt,2,1,"span",55),p.Rc(5,Zt,2,0,"span",79),p.hc(6,"fullPermission"),p.Ub(),p.Ub()),2&t){const t=e.index,o=p.gc(3);p.Db(1),p.oc("value",o.classroomObjs[t].id),p.nc("formControlName",t)("disabled",o.checkPermissionObj(p.jc(2,6,o.classroomObjs[t].permissionObj,"homework"))),p.Db(2),p.nc("ngIf",o.getClassroomNameLength(o.classroomObjs[t])>25),p.Db(1),p.nc("ngIf",o.getClassroomNameLength(o.classroomObjs[t])<=25),p.Db(1),p.nc("ngIf",o.checkPermissionObj(p.jc(6,9,o.classroomObjs[t].permissionObj,"classroom")))}}function ee(t,e){if(1&t&&(p.Vb(0,"div",74),p.Rc(1,te,7,12,"div",75),p.Ub()),2&t){const t=p.gc(2);p.Db(1),p.nc("ngForOf",t.form.controls.classroomIds.controls)}}function oe(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"a",82),p.cc("click",function(){return p.Ec(t),p.gc(2).redirectClasses()}),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Vb(4,"button",83),p.cc("click",function(){return p.Ec(t),p.gc(2).saveHomeworkProgress()}),p.Tc(5),p.hc(6,"mytranslate"),p.Ub(),p.Ub()}if(2&t){const t=p.gc(2);p.Db(2),p.Uc(p.ic(3,3,"lang_buttom_cancel")),p.Db(2),p.nc("disabled",t.form.invalid),p.Db(1),p.Uc(p.ic(6,5,"lang_buttom_save"))}}function ne(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",82),p.cc("click",function(){return p.Ec(t),p.gc(2).redirectBack()}),p.Tc(1),p.hc(2,"mytranslate"),p.Ub(),p.Vb(3,"button",83),p.cc("click",function(){return p.Ec(t),p.gc(2).updateHomeworkProgress()}),p.Tc(4),p.hc(5,"mytranslate"),p.Ub()}if(2&t){const t=p.gc(2);p.Db(1),p.Uc(p.ic(2,3,"lang_buttom_cancel")),p.Db(2),p.nc("disabled",t.form.controls.nameExam.errors),p.Db(1),p.Uc(p.ic(5,5,"lang_buttom_update"))}}function ie(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"azt-preview-media",84),p.cc("closePreview",function(){return p.Ec(t),p.gc(2).onFileClose()}),p.Ub(),p.Ub()}if(2&t){const t=p.gc(2);p.Db(1),p.nc("fileOption",t.previewFile)}}const se=function(){return{standalone:!0}},ce=function(){return[]},ae=function(t){return{height:250,menubar:!1,plugins:t,toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify"}};function re(t,e){if(1&t){const t=p.Wb();p.Rc(0,Nt,3,5,"div",0),p.Rc(1,Et,2,5,"ng-template",null,2,p.Sc),p.Vb(3,"form",3),p.Vb(4,"div",4),p.Vb(5,"div",5),p.Vb(6,"div",6),p.Vb(7,"div",7),p.Vb(8,"div",8),p.Vb(9,"p",9),p.Tc(10),p.hc(11,"mytranslate"),p.Ub(),p.Ub(),p.Vb(12,"div",10),p.Qb(13,"input",11),p.Ub(),p.Vb(14,"div",12),p.Rc(15,Lt,6,2,"div",13),p.Ub(),p.Ub(),p.Vb(16,"div",7),p.Vb(17,"div",8),p.Vb(18,"p",9),p.Tc(19),p.hc(20,"mytranslate"),p.Ub(),p.Ub(),p.Vb(21,"div",14),p.Vb(22,"div",15),p.Vb(23,"div",16),p.Vb(24,"div",17),p.Vb(25,"mat-form-field",18),p.Vb(26,"input",19),p.cc("click",function(){return p.Ec(t),p.Ac(31).open()}),p.Ub(),p.Vb(27,"button",20),p.cc("click",function(e){return p.Ec(t),p.Ac(31).open(),e.stopPropagation()}),p.Vb(28,"mat-icon"),p.Tc(29,"today"),p.Ub(),p.Ub(),p.Vb(30,"ngx-mat-datetime-picker",null,21),p.Rc(32,zt,2,0,"ng-template"),p.Ub(),p.Ub(),p.Ub(),p.Vb(33,"div",22),p.Vb(34,"div",23),p.Vb(35,"div"),p.Vb(36,"a",24),p.cc("click",function(){return p.Ec(t),p.gc().clearTime()}),p.hc(37,"mytranslate"),p.Vb(38,"mat-icon",25),p.Tc(39,"cancel"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(40,"div",26),p.Tc(41),p.hc(42,"mytranslate"),p.Ub(),p.Ub(),p.Vb(43,"div",27),p.Vb(44,"div",28),p.Vb(45,"div",12),p.Vb(46,"div",29),p.Vb(47,"input",30,31),p.cc("change",function(e){return p.Ec(t),p.gc().onFileSelected(e)}),p.Ub(),p.Vb(49,"a",32),p.cc("click",function(){return p.Ec(t),p.Ac(48).click()}),p.Vb(50,"span"),p.Tc(51),p.hc(52,"mytranslate"),p.Ub(),p.Ub(),p.Rc(53,Bt,4,0,"div",33),p.Rc(54,Wt,2,0,"div",34),p.Rc(55,Gt,8,2,"div",35),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(56,"div",36),p.Vb(57,"editor",37),p.cc("ngModelChange",function(e){return p.Ec(t),p.gc().formHomework.content=e}),p.Ub(),p.Ub(),p.Vb(58,"div",38),p.Vb(59,"div",29),p.Vb(60,"mat-checkbox",39),p.Tc(61),p.hc(62,"mytranslate"),p.Ub(),p.Ub(),p.Vb(63,"div",40),p.Vb(64,"mat-checkbox",41),p.Tc(65),p.hc(66,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Vb(67,"div",38),p.Vb(68,"div",42),p.Vb(69,"div",12),p.Rc(70,Jt,5,4,"div",43),p.Rc(71,Qt,3,3,"div",43),p.Rc(72,Yt,4,2,"div",44),p.Ub(),p.Ub(),p.Rc(73,ee,2,1,"div",45),p.Ub(),p.Vb(74,"div",46),p.Vb(75,"div",47),p.Rc(76,oe,7,7,"div",0),p.Rc(77,ne,6,7,"ng-template",null,48,p.Sc),p.Ub(),p.Ub(),p.Ub(),p.Vb(79,"div",49),p.Vb(80,"div",50),p.Vb(81,"div",51),p.Vb(82,"p",52),p.Tc(83),p.hc(84,"mytranslate"),p.Ub(),p.Vb(85,"small"),p.Tc(86),p.hc(87,"mytranslate"),p.Ub(),p.Ub(),p.Vb(88,"div",53),p.Vb(89,"p",54),p.Tc(90),p.hc(91,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Rc(92,ie,2,1,"div",55)}if(2&t){const t=p.Ac(2),e=p.Ac(31),o=p.Ac(78),n=p.gc();p.nc("ngIf",0==n.isCheckUpdate)("ngIfElse",t),p.Db(3),p.nc("formGroup",n.form),p.Db(7),p.Uc(p.ic(11,29,"lang_homework_add_home_work_name_home_work")),p.Db(5),p.nc("ngIf",n.form.controls.nameExam.errors&&(n.form.controls.nameExam.touched||n.form.controls.nameExam.dirty)),p.Db(4),p.Uc(p.ic(20,31,"lang_homework_add_home_work_deadline")),p.Db(7),p.nc("ngxMatDatetimePicker",e),p.Db(10),p.oc("matTooltip",p.ic(37,33,"lang_homework_add_home_work_reset_time")),p.Db(5),p.Vc("* ",p.ic(42,35,"lang_homework_add_home_work_tutorial_enter_time"),""),p.Db(6),p.nc("ngModelOptions",p.sc(49,se)),p.Db(4),p.Vc("+ ",p.ic(52,37,"lang_homework_add_home_work_add_file_homework"),""),p.Db(2),p.nc("ngIf",n.loadingUpload),p.Db(1),p.nc("ngIf",!n.formHomework.files||0==n.formHomework.files.length),p.Db(1),p.nc("ngForOf",n.formHomework.files),p.Db(2),p.nc("ngModel",n.formHomework.content)("ngModelOptions",p.sc(50,se))("init",p.tc(52,ae,p.sc(51,ce))),p.Db(4),p.Vc(" ",p.ic(62,39,"lang_homework_add_home_work_request_login")," "),p.Db(4),p.Vc(" ",p.ic(66,41,"lang_homework_add_home_work_dont_view_point")," "),p.Db(5),p.nc("ngIf",1==n.isCheckUpdate),p.Db(1),p.nc("ngIf",0==n.isCheckUpdate),p.Db(1),p.nc("ngIf",0==n.isCheckUpdate),p.Db(1),p.nc("ngIf",0==n.isCheckUpdate),p.Db(3),p.nc("ngIf",0==n.isCheckUpdate)("ngIfElse",o),p.Db(7),p.Uc(p.ic(84,43,"lang_homework_add_home_work_library_homework")),p.Db(3),p.Vc(" ",p.ic(87,45,"lang_homework_add_home_work_tutorial_upload_file")," "),p.Db(4),p.Vc("",p.ic(91,47,"lang_developing"),"."),p.Db(2),p.nc("ngIf",n.isShowPreviewFile)}}const le={parse:{dateInput:"l, LTS"},display:{dateInput:"DD-MM-YYYY HH:mm:00",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let de=(()=>{class t extends g.a{constructor(t,e,o,n,s,c,a,r,l){super(e),this.activeRoute=t,this.commonService=e,this.myPdfService=o,this.fb=n,this.homeworkService=s,this.classroomService=c,this.apiUploadService=a,this.zipdataService=r,this.userService=l,this.form=new i.k({}),this.formHomework={files:[],content:""},this.isShowPreviewFile=!1,this.uploadProgress=-1,this.LogErrorsRequest="",this.menuObjs=[],this.classroomObjs=[],this.isCheckAll=!1,this.homeworkId=0,this.homeworkData={},this.homeworkDatas=[],this.prevData="",this.isCheckUpdate=!1,this.classObj={},this.classId=0,this.backLink="",this.backToLink="",this.listIds="",this.classroomObjByHomework={},this.loadingUpload=!1,this.contentBase64Count=0,this.homeWorkContent="",this.newListUrls=[],this.homeworkHashId="",this.convertBlobToBase64=t=>Object(gt.a)(this,void 0,void 0,function*(){return new Promise(e=>{var o=new Image;o.crossOrigin="Anonymous",o.addEventListener("load",function(){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=this.width,t.height=this.height,null==n||n.drawImage(o,0,0);var i=t.toDataURL("image/png");e(i)},!1),o.src=t})}),this.minSelectedCheckboxes=(t=1)=>e=>e.controls.map(t=>t.value).reduce((t,e)=>e?t+e:t,0)>=t?null:{required:!0}}disableScroll(){let t=window.pageYOffset||document.documentElement.scrollLeft,e=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=()=>{window.scrollTo(t,e)}}enableScroll(){window.onscroll=()=>{}}onFileClose(){this.enableScroll(),this.isShowPreviewFile=!1,this.previewFile=void 0}onShowFile(t,e){this.isShowPreviewFile=!0,this.disableScroll(),this.previewFile=Object.assign(Object.assign({},t),{index:e})}callbackMenuEvent(t){}convertFullNumber(t){return t>=10?t:"0"+t}findAllSubString(t,e){for(var o=0,n=0,i=[];t.indexOf(e,o)>-1;)n=t.indexOf(e,o),i.push(n),o=n+e.length;return i}getTypeFile(t){var e=t.indexOf(";");return t.substring(5,e)}getFileName(t){var e=t.split("").reverse().join(""),o=e.indexOf(";"),n=e.indexOf("/",o);return e.substring(o,n).split("").reverse().join("")}onFileSelected(t){let e=t.target,o=e.files,n=!!o&&o[0];0!=n&&(Object(wt.j)(n.type)?Object(wt.f)(n.type)?this.showErrorSnack("File g\u1eb7p l\u1ed7i: "+n.name+". Ki\u1ec3u: "+n.type+". Ch\u01b0a h\u1ed7 tr\u1ee3 \u0111\u1ecbnh d\u1ea1ng video .wmv! Vui l\xf2ng th\u1eed l\u1ea1i."):(this.loadingUpload=!0,this.uploadProgress=0,Object(wt.a)(n).then(t=>{this.apiUploadService.uploadToCdnForHomework(t).subscribe(t=>{var e;t.type!=ft.d.UploadProgress&&(1==t.success?(this.formHomework.files&&!Array.isArray(this.formHomework.files)&&(this.formHomework.files=[]),null===(e=this.formHomework.files)||void 0===e||e.push(Object.assign({},t.data)),this.loadingUpload=!1,this.uploadProgress=-1):(this.loadingUpload=!1,this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+t.message)))})})):this.showErrorSnack("Vui l\xf2ng ch\u1ec9 t\u1ea3i l\xean \u0111\u1ecbnh d\u1ea1ng file \u1ea3nh, pdf, audio v\xe0 video")),e.files=null}redirectBack(){this.commonService.myNavigation(this.backLink)}clearAllCheckBox(){this.form.get("classroomIds").controls.forEach(t=>{t.setValue(!1)}),this.isCheckAll=!1}checkAllCheckBox(){this.form.get("classroomIds").controls.forEach(t=>{t.setValue(!0)}),this.isCheckAll=!0}checkIsChosen(t,e){if(null==e)for(var o=0;o<t.length;o++)this.addNewCheckBox(!1);else for(o=0;o<t.length;o++){for(var n=!1,i=0;i<e.length;i++)t[o].id==e[i].classroomId&&(n=!0);this.addNewCheckBox(n)}}redirectClasses(){this.commonService.myNavigation("/admin/homework/classes/1")}redirectToSuccess(t){this.commonService.myNavigation("/admin/homework/create-homework-success/"+t)}addNewCheckBox(t){const e=new i.h(t);this.form.get("classroomIds").push(e)}clearTime(){this.form.controls.deadlineHomework.setValue("")}startUploadBlobFile(t,e){if(e&&""!=e){var o=this.getTypeFile(e),n=this.myPdfService.b64toFile(e,this.getFileName(o),o);Object(wt.a)(n).then(e=>{this.apiUploadService.uploadToCdnForHomework(e).subscribe(e=>{var o,n;if(e.type!=ft.d.UploadProgress)if(1==e.success){var i=Object.assign(Object.assign({},t),{newUrl:null!==(n=null===(o=e.data)||void 0===o?void 0:o.url)&&void 0!==n?n:""});this.newListUrls.push(i),this.contentBase64Count-=1,0==this.contentBase64Count&&this.changeContent()}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+e.message),this.stopStatusObj()})})}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!"),this.stopStatusObj()}reUploadBlobFile(t){var e;if(t&&t.length>0){this.contentBase64Count=t.length;for(var o=0;o<t.length;o++){new FileReader;const n=t[o],i=null===(e=null==n?void 0:n.oldUrl)||void 0===e?void 0:e.substring(0,n.oldUrl.length-1);this.convertBlobToBase64(null!=i?i:"").then(t=>{this.startUploadBlobFile(n,t)})}}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!"),this.stopStatusObj()}reUploadBase64File(t){var e;if(t&&t.length>0){this.contentBase64Count=t.length;for(var o=0;o<t.length;o++){const s=t[o],c=null===(e=s.oldUrl)||void 0===e?void 0:e.substring(0,s.oldUrl.length-1);var n=this.getTypeFile(null!=c?c:""),i=this.myPdfService.b64toFile(null!=c?c:"",this.getFileName(n),n);Object(wt.a)(i).then(t=>{this.apiUploadService.uploadToCdnForHomework(t).subscribe(t=>{var e,o;if(t.type!=ft.d.UploadProgress)if(1==t.success){var n=Object.assign(Object.assign({},s),{newUrl:null!==(o=null===(e=t.data)||void 0===e?void 0:e.url)&&void 0!==o?o:""});this.newListUrls.push(n),this.contentBase64Count-=1,0==this.contentBase64Count&&this.changeContent()}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+t.message),this.stopStatusObj()})})}}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!"),this.stopStatusObj()}foundImgInContent(t){var e=this.findAllSubString(t,"<img"),o=[],n=[];e.forEach(e=>{var i=t.indexOf("src=",e),s=t.indexOf('"',Number(i)+5),c=t.substring(Number(i)+5,Number(s)+1);c.includes(";base64")?o.push({oldUrl:c}):c.includes("blob:")&&n.push({oldUrl:c})}),o.length>0?this.reUploadBase64File(o):n.length>0?this.reUploadBlobFile(n):this.changeContent()}changeContent(){this.newListUrls.length>0&&this.newListUrls.forEach(t=>{var e,o=this.homeWorkContent.replace(null!==(e=t.oldUrl)&&void 0!==e?e:"  ",t.newUrl+'" class="w-100 img-fluid"');this.homeWorkContent=o}),this.isCheckUpdate?this.updateHomeWork():this.saveHomework()}saveHomeworkProgress(){this.initStatusObj(),null==this.formHomework.content||null==this.formHomework.content?(this.homeWorkContent="",this.saveHomework()):(this.homeWorkContent=this.formHomework.content,this.homeWorkContent.includes("<img ")?this.foundImgInContent(this.homeWorkContent):this.saveHomework())}updateHomeworkProgress(){this.initStatusObj(),null==this.formHomework.content||null==this.formHomework.content?(this.homeWorkContent="",this.updateHomeWork()):(this.homeWorkContent=this.formHomework.content,this.homeWorkContent.includes("<img ")?this.foundImgInContent(this.formHomework.content):this.updateHomeWork())}saveHomework(){let t=this.commonService.getFormObj(this.form);t.deadlineHomework=""===t.deadlineHomework||null===t.deadlineHomework?null:Object(n.x)(t.deadlineHomework,"yyyy-MM-ddTHH:mm:00","en_vn"),t.isCheckLogin=1!=t.isCheckLogin?0:1,t.dontShowMark=1!=t.dontShowMark?0:1,t.whenShowAnswer=1!=t.whenShowAnswer?0:1;const e=t.classroomIds.map((t,e)=>t?this.classroomObjs[e].id:null).filter(t=>null!==t);this.homeWorkContent=this.zipdataService.convertContentGzip(this.homeWorkContent);let o=this.userService.getUserObj(),i=JSON.stringify({type:"homework",id:this.homeworkId,user:o.id}),s={name:t.nameExam,content:this.homeWorkContent,deadline:t.deadlineHomework,testbankExams:"",files:JSON.stringify(this.formHomework.files),mustVerified:t.isCheckLogin,dontShowMark:t.dontShowMark,whenShowAnswer:t.whenShowAnswer,globalSetting:0,classroomIds:e};this.subscriptions.add(this.homeworkService.apiHomeworkSaveObjPost(s,i).subscribe(t=>{var e,o,n;if(1==t.success){this.showSuccessSnack("T\u1ea1o b\xe0i t\u1eadp th\xe0nh c\xf4ng.");var i=[];if(null===(e=t.data)||void 0===e?void 0:e.objs)for(var s=0;s<t.data.objs.length;s++)i.push(null===(o=t.data)||void 0===o?void 0:o.objs[s].hashId);this.listIds=JSON.stringify(i),this.redirectToSuccess(this.listIds),this.successStatusObj()}else this.errorStatusObj(null!==(n=t.message)&&void 0!==n?n:"",!0)}))}updateHomeWork(){let t=this.commonService.getFormObj(this.form);t.deadlineHomework=""===t.deadlineHomework||null===t.deadlineHomework?null:Object(n.x)(t.deadlineHomework,"yyyy-MM-ddTHH:mm:00 Z","en_vn"),t.isCheckLogin=1!=t.isCheckLogin?0:1,t.dontShowMark=1!=t.dontShowMark?0:1,t.whenShowAnswer=1!=t.whenShowAnswer?0:1,this.homeWorkContent=this.zipdataService.convertContentGzip(this.homeWorkContent);let e=this.userService.getUserObj(),o=JSON.stringify({type:"homework",id:this.homeworkId,user:e.id}),i={id:this.homeworkId,homeworkHashId:this.homeworkHashId,name:t.nameExam,content:this.homeWorkContent,deadline:t.deadlineHomework,testbankExams:"",files:JSON.stringify(this.formHomework.files),mustVerified:t.isCheckLogin,dontShowMark:t.dontShowMark,whenShowAnswer:t.whenShowAnswer,globalSetting:0};this.subscriptions.add(this.homeworkService.apiHomeworkUpdateObjPost(i,o).subscribe(t=>{var e;1==t.success?(this.showSuccessSnack("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng."),this.redirectToBackLink(),this.successStatusObj()):this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0)}))}getDataClass(t){this.subscriptions.add(this.classroomService.apiClassroomGetAllClassroomObjsGet().subscribe(e=>{var o,n,i;1==e.success?(this.classroomObjs=null!==(n=null===(o=null==e?void 0:e.data)||void 0===o?void 0:o.objs)&&void 0!==n?n:new Array,this.checkIsChosen(this.classroomObjs,this.homeworkDatas),t(!0)):(this.errorStatusObj(null!==(i=e.message)&&void 0!==i?i:"",!0),t(!1))}))}getHomework(t){this.initStatusObj(),this.isCheckUpdate=null!=t&&0!=t&&null!=t,this.getDataClass(t=>{t&&this.isCheckUpdate?this.subscriptions.add(this.homeworkService.apiHomeworkGetObjGet(this.homeworkHashId).subscribe(t=>{var e,o,n,i,s,c,a,r,l,d,b,h,m,u,g,p,f,k;1==t.success?(this.formHomework.files=(null===(o=null===(e=t.data)||void 0===e?void 0:e.homeworkObj)||void 0===o?void 0:o.files)?this.commonService.parseJson(null===(i=null===(n=t.data)||void 0===n?void 0:n.homeworkObj)||void 0===i?void 0:i.files):[],this.formHomework.content=(null===(c=null===(s=t.data)||void 0===s?void 0:s.homeworkObj)||void 0===c?void 0:c.content)?this.zipdataService.decodeContentGzip(null===(r=null===(a=t.data)||void 0===a?void 0:a.homeworkObj)||void 0===r?void 0:r.content):"",this.homeworkDatas=(null===(l=null==t?void 0:t.data)||void 0===l?void 0:l.homeworkObj)?[null===(d=null==t?void 0:t.data)||void 0===d?void 0:d.homeworkObj]:new Array,this.classroomObjByHomework=null!==(h=null===(b=null==t?void 0:t.data)||void 0===b?void 0:b.classroomObj)&&void 0!==h?h:{},this.homeworkData=null!==(u=null===(m=null==t?void 0:t.data)||void 0===m?void 0:m.homeworkObj)&&void 0!==u?u:{},this.classId=null!==(f=null===(p=null===(g=null==t?void 0:t.data)||void 0===g?void 0:g.classroomObj)||void 0===p?void 0:p.id)&&void 0!==f?f:0,this.backLink="/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkData.hashId,this.form.patchValue({nameExam:this.homeworkData.name,deadlineHomework:null!=this.homeworkData.deadline?this.homeworkData.deadline:"",isCheckLogin:0!=this.homeworkData.mustVerified,dontShowMark:0!=this.homeworkData.dontShowMark,whenShowAnswer:0!=this.homeworkData.whenShowAnswer}),this.successStatusObj()):this.errorStatusObj(null!==(k=t.message)&&void 0!==k?k:"",!0)})):this.stopStatusObj()})}redirectToBackLink(){return this.commonService.myNavigationWithQueryString("/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkData.hashId,"?backTo="+encodeURIComponent(this.backToLink))}checkPermissionObj(t){return 1!=t}getClassroomNameLength(t){return t&&t.name?t.name.length:0}ngOnInit(){Object(m.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var t,e,o;this.homeworkId=null!==(t=Number(this.commonService.getMyParam(this.activeRoute,"id")))&&void 0!==t?t:0,this.homeworkHashId=null!==(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==e?e:"",this.backToLink=null!==(o=this.commonService.getMyQueryParam("backTo"))&&void 0!==o?o:"",this.getHomework(this.homeworkId)}),this.form=this.fb.group({nameExam:new i.h("",[i.z.required,i.z.maxLength(180)]),deadlineHomework:new i.h(""),isCheckLogin:new i.h(""),contentHomework:new i.h,dontShowMark:new i.h(""),whenShowAnswer:new i.h(""),classroomIds:this.fb.array([],this.minSelectedCheckboxes(1))}),this.form.valueChanges.subscribe(t=>{let e=JSON.stringify(t);e!=this.prevData&&(this.prevData=e,this.form.patchValue(t))}),this.commonService.translateMetaData({title:"lang_cms_homework_add_exercise_title",description:"lang_cms_homework_add_exercise_description",image:"lang_cms_test_image"})}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(c.a),p.Pb(f.a),p.Pb(xt.a),p.Pb(i.g),p.Pb(Ot.a),p.Pb(u.g),p.Pb(yt.a),p.Pb(v.a),p.Pb(St.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-add-home-work"]],features:[p.Cb([{provide:pt.b,useClass:vt.a,deps:[_t.f,kt.a]},{provide:pt.a,useValue:le}]),p.Ab],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["header",""],[1,"p-3",3,"formGroup"],[1,"container","pb-80"],[1,"row","py-md-4"],[1,"col-md-8","add-homework--form"],[1,"row","m-0","pb-3"],[1,"col-4","col-md-3","add-homework--form__label","text-md-right"],[1,"p-0","m-0"],[1,"col-8","col-md-9","pl-0","pr-0"],["type","text","formControlName","nameExam","placeholder","",1,"form-control","add-homework--form__input"],[1,"row"],["class","col-12 pt-1",4,"ngIf"],[1,"col-8","col-md-9","pl-0","pr-0","add-homework--form__padding"],[1,"add-homework--form__border","d-flex","align-items-center"],[1,"row","m-0","p-0","align-items-center","justify-content-around","homework-box",2,"width","100%"],[1,"col-9","col-md-10","pr-0","pl-0",2,"border","1px solid #ced4da","border-radius","3px"],[1,"myTimePicker","pt-0"],["matInput","","readonly","","formControlName","deadlineHomework",3,"ngxMatDatetimePicker","click"],["mat-icon-button","","matSuffix","",2,"font-size","18px",3,"click"],["durationTime",""],[1,"col-2","col-md-1","pl-0","pr-0"],[1,"pl-1","d-flex","align-items-center","justify-content-center",2,"padding-top","3px"],[1,"clickable",2,"color","#3f51b5",3,"matTooltip","click"],[2,"vertical-align","middle"],[1,"clearfix","pt-1"],[1,"row","pt-4","m-0"],[1,"col-12","add-homework--form__title","none-top__border","none-bottom__border"],[1,"col-md-12"],["type","file","name","fileHomework",2,"display","none",3,"ngModelOptions","change"],["formChoseFile",""],[1,"d-flex","align-items-center",2,"color","#3c8dbc",3,"click"],["class","d-flex justify-content-center my-2",4,"ngIf"],["style","color: #747373; font-size: 10px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-12","p-0","mh-250"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","ngModelOptions","init","ngModelChange"],[1,"row","m-0","pt-3"],["color","primary","formControlName","isCheckLogin"],[1,"col-md-6"],["color","primary","formControlName","whenShowAnswer"],[1,"col-12","add-homework--form__title","none-bottom__border"],["class","col-9",4,"ngIf"],["class","col-3 text-right",4,"ngIf"],["class","row m-0 p-0 add-homework--form__content none-top__border","style","width: 100%",4,"ngIf"],[1,"row","m-0","pt-4","pb-3"],[1,"col-12","text-right"],["button",""],[1,"col-md-4","px-00"],[1,"library"],[1,"py-3","text-center"],[1,"m-0","font-weight-bold"],[1,"d-flex","library--content","align-items-center","justify-content-center"],[1,"font-weight-bold","m-0","p-0"],[4,"ngIf"],[3,"menu_objs","headerTitle","back_link","MenuEvent"],[3,"menu_objs","headerTitle","checkUrlFunction","MenuEvent","RedirectToLink"],[1,"col-12","pt-1"],[1,"text-left"],[1,"text-danger"],[1,"d-flex","justify-content-center","my-2"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],[2,"color","#747373","font-size","10px"],[1,"btn","btn-sm",3,"click"],[2,"font-size","15px","padding-top","5px"],[3,"click"],[2,"color","gray","word-wrap","break-word",3,"title"],[1,"col-9"],[2,"color","black","font-weight","bold"],[1,"col-3","text-right"],["chosen",""],[1,"clickable",2,"color","#3c8dbc",3,"click"],[1,"row","m-0","p-0","add-homework--form__content","none-top__border",2,"width","100%"],["class","col-sm-6 text-left pl-3 pt-2","formArrayName","classroomIds",4,"ngFor","ngForOf"],["formArrayName","classroomIds",1,"col-sm-6","text-left","pl-3","pt-2"],["color","primary",3,"value","formControlName","disabled"],[3,"matTooltip",4,"ngIf"],["class","badge badge-info","style","margin-left: 5px",4,"ngIf"],[3,"matTooltip"],[1,"badge","badge-info",2,"margin-left","5px"],[1,"button-cancel",3,"click"],[1,"button-save",3,"disabled","click"],[3,"fileOption","closePreview"]],template:function(t,e){if(1&t&&(p.Rc(0,At,1,0,"azt-loading-effect",0),p.Rc(1,re,93,54,"ng-template",null,1,p.Sc)),2&t){const t=p.Ac(2);p.nc("ngIf",1==e.statusObj.loading)("ngIfElse",t)}},directives:[n.m,Ut.a,i.B,i.s,i.l,i.d,i.r,i.j,Vt.d,Ct.b,pt.c,Dt.b,Vt.h,jt.a,pt.d,Tt.a,n.l,a.a,i.u,Pt.a,Mt.a,i.f,It.a],pipes:[Rt.q,Rt.g,Rt.m,n.u],styles:["body[_ngcontent-%COMP%]{overflow-y:auto}.add-homework--form[_ngcontent-%COMP%]{background-color:#fff;padding:10px 8px;border:1px solid #ececec;border-radius:5px}.add-homework--form__label[_ngcontent-%COMP%]{border:1px solid #ced4da;border-bottom-left-radius:.25rem;border-top-left-radius:.25rem}.add-homework--form__label[_ngcontent-%COMP%], .add-homework--form__title[_ngcontent-%COMP%]{padding:.75rem;align-self:center;font-weight:400;line-height:1.5;color:#495057;font-size:1rem;background-color:#e9ecef}.add-homework--form__title[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:5px}.add-homework--form__input[_ngcontent-%COMP%]{height:100%;border-left:0;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__border[_ngcontent-%COMP%]{border-radius:4px;height:100%;border:1px solid #ced4da;border-left:none;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #f4f4f4;border-radius:3px;padding:10px}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.mh-250[_ngcontent-%COMP%]{min-height:250px}.none-top__border[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.none-bottom__border[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:4px 16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:4px 2px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.02)!important}.files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;box-shadow:none;margin:0 -24px}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}.files-custom[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]:disabled{background-color:rgba(0,0,0,.12)!important;border-color:rgba(0,0,0,.12)!important}.library[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none;padding:10px}.library--breadcum[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;border:1px solid #f1f1f1;border-bottom:0;border-radius:3px;border-bottom-right-radius:0;border-bottom-left-radius:0}.library--breadcum[_ngcontent-%COMP%], .library--content[_ngcontent-%COMP%]{box-sizing:border-box;box-shadow:none}.library--content[_ngcontent-%COMP%]{height:100px;background:inherit;background-color:#fff;border:1px solid #f4f4f4;border-radius:3px;border-top-left-radius:0;border-top-right-radius:0;padding:10px}  .mat-checkbox-layout{white-space:normal!important}@media screen and (max-width:768px){.px-00[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin-top:12px}}@media screen and (max-width:576px){.button-cancel[_ngcontent-%COMP%], .button-save[_ngcontent-%COMP%]{padding:8px 16px}}.mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%],  .mat-checkbox-checked.mat-accent.mat-checkbox-disabled .mat-checkbox-background{background-color:#3f51b5!important}"]}),t})();var be=o("UXJo");function he(t,e){if(1&t&&(p.Vb(0,"div",3),p.Vb(1,"h5",7),p.Tc(2),p.Ub(),p.Ub()),2&t){const t=p.gc();p.Db(1),p.oc("matTooltip",t.className),p.Db(1),p.Uc(t.className)}}function me(t,e){1&t&&(p.Vb(0,"span",20),p.Tc(1,"M\u1edbi T\u1ea1o"),p.Ub())}function ue(t,e){1&t&&(p.Vb(0,"span",21),p.Tc(1,"M\u1edbi T\u1ea1o"),p.Ub())}const ge=function(t){return[t]},pe=function(t){return{backTo:t}};let fe=(()=>{class t extends g.a{constructor(t){super(t),this.commonService=t,this.isMobile=!1,this.classId="0",this.backLink="",this.name="",this.className="",this.totalStudent=0,this.totalTakeTest=0,this.homeworkId=0,this.hashId="",this.isNew=0,this.redirectId=new p.o}handleRedirect(t){this.redirectId.emit(t)}checkWidth(){this.isMobile=window.innerWidth<768}copyLinkToClipboard(){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${this.hashId}`}showCopySuccess(){this.showSuccessSnack("Sao ch\xe9p \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i th\xe0nh c\xf4ng")}onResize(t){this.isMobile=t.target.innerWidth<768}ngOnInit(){this.checkWidth(),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(f.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["azt-home-work-file"]],inputs:{classId:"classId",backLink:"backLink",name:"name",className:"className",dateCreated:"dateCreated",deadLine:"deadLine",totalStudent:"totalStudent",totalTakeTest:"totalTakeTest",homeworkId:"homeworkId",hashId:"hashId",isNew:"isNew"},outputs:{redirectId:"redirectId"},features:[p.Ab],decls:33,vars:24,consts:[[1,"row","mx-0","home-work-file","align-items-center","my-2",3,"resize"],[1,"col-9","pr-0","ellipsis-text",3,"click"],[1,"link-text",3,"routerLink","queryParams"],[1,"d-flex","align-items-center"],[1,"align-items-center"],["src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/u416.svg"],[1,"p-2","align-items-center","ellipsis-text"],[1,"home-work-name","font-size-12","ellipsis-text",3,"matTooltip"],["class","d-flex align-items-center",4,"ngIf"],[1,"font-size-12","m-0",2,"color","#000"],["class","badge badge-success ml-2",4,"ngIf"],[1,"p-0","m-0","font-size-12",2,"color","#0EAFC0"],[1,"col-3",2,"cursor","default"],[1,"d-flex","flex-column","text-center"],["class","badge badge-success",4,"ngIf"],[1,"p-0","m-0","home-work-text"],[1,"p-0","m-0"],[1,"d-flex","justify-content-center"],["matTooltip","Copy link",1,"btn-copy",3,"cdkCopyToClipboard","click"],[2,"font-size","16px","color","#3c8dbc"],[1,"badge","badge-success","ml-2"],[1,"badge","badge-success"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.cc("resize",function(t){return e.onResize(t)},!1,p.Dc),p.Vb(1,"div",1),p.cc("click",function(){return e.handleRedirect(e.homeworkId)}),p.Vb(2,"a",2),p.hc(3,"mylocalize"),p.Vb(4,"div",3),p.Vb(5,"div",4),p.Qb(6,"img",5),p.Ub(),p.Vb(7,"div",6),p.Vb(8,"h4",7),p.Tc(9),p.Ub(),p.Rc(10,he,3,2,"div",8),p.Vb(11,"div",3),p.Vb(12,"p",9),p.Tc(13),p.hc(14,"date"),p.Ub(),p.Rc(15,me,2,0,"span",10),p.Ub(),p.Vb(16,"p",11),p.Tc(17),p.hc(18,"date"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(19,"div",12),p.Vb(20,"div",13),p.Vb(21,"div"),p.Rc(22,ue,2,0,"span",14),p.Ub(),p.Vb(23,"div"),p.Vb(24,"h4",15),p.Tc(25,"\u0110\xe3 n\u1ed9p"),p.Ub(),p.Ub(),p.Vb(26,"div"),p.Vb(27,"p",16),p.Tc(28),p.Ub(),p.Ub(),p.Vb(29,"div",17),p.Vb(30,"button",18),p.cc("click",function(){return e.showCopySuccess()}),p.Vb(31,"mat-icon",19),p.Tc(32,"file_copy"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Db(2),p.nc("routerLink",p.tc(20,ge,p.ic(3,12,"/admin/homework/score-list/"+e.classId+"/"+e.homeworkId+"/"+e.hashId)))("queryParams",p.tc(22,pe,e.backLink)),p.Db(6),p.oc("matTooltip",e.name),p.Db(1),p.Uc(e.name),p.Db(1),p.nc("ngIf",null!=e.className&&""!=e.className),p.Db(3),p.Vc("Ng\xe0y t\u1ea1o : ",p.jc(14,14,e.dateCreated,"dd/MM/yyyy HH:mm"),""),p.Db(2),p.nc("ngIf",1==e.isNew&&0==e.isMobile),p.Db(2),p.Vc("H\u1ea1n n\u1ed9p : ",null!==e.deadLine?p.jc(18,17,e.deadLine,"dd/MM/yyyy HH:mm"):"Kh\xf4ng th\u1eddi h\u1ea1n"," "),p.Db(5),p.nc("ngIf",1==e.isNew&&1==e.isMobile),p.Db(6),p.Wc("",null!=e.totalTakeTest?e.totalTakeTest:0,"/",null!=e.totalStudent?e.totalStudent:0,""),p.Db(2),p.nc("cdkCopyToClipboard",e.copyLinkToClipboard()))},directives:[c.k,Tt.a,n.m,be.a,jt.a],pipes:[Rt.p,n.e],styles:[".home-work-file[_ngcontent-%COMP%]{background-color:#fff;box-shadow:none;border:1px solid #ececec;border-radius:5px;cursor:pointer}.home-work-name[_ngcontent-%COMP%]{font-weight:500;margin:0!important}.home-work-text[_ngcontent-%COMP%]{color:#a2a2a2;font-size:12px}.font-size-12[_ngcontent-%COMP%]{font-size:12px}.btn-copy[_ngcontent-%COMP%]{padding:0;border:none;background-color:#fff;text-transform:inherit;margin:2px 0 0}.ellipsis-text[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:99%;white-space:nowrap}.block-home[_ngcontent-%COMP%]{position:relative}@media screen and (max-width:480px){.home-copy[_ngcontent-%COMP%]{display:none}}"]}),t})();function ke(t,e){1&t&&p.Qb(0,"azt-loading-effect")}function _e(t,e){1&t&&(p.Vb(0,"span",22),p.Tc(1,"Chia s\u1ebb"),p.Ub())}function ve(t,e){1&t&&(p.Vb(0,"div"),p.Vb(1,"div",23),p.Vb(2,"div",24),p.Vb(3,"p",25),p.Tc(4),p.hc(5,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.Db(4),p.Uc(p.ic(5,1,"lang_homework_class_list_not_found_homework")))}function we(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"azt-home-work-file",27),p.cc("redirectId",function(o){p.Ec(t);const n=e.$implicit,i=p.gc(2).$implicit;return p.gc(3).redirectHomework(o,i.id&&"share"!=i.id?i.id:n.classroomId?n.classroomId.toString():"0",n.hashId?n.hashId:"")}),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,o=p.gc(2).$implicit,n=p.gc(3);p.Db(1),p.nc("classId","share"!=o.id?o.id:null==t.classroomId?null:t.classroomId.toString())("name",t.name?t.name:"")("dateCreated",t.createdAt)("deadLine",t.deadline)("totalTakeTest",t.count?t.count:0)("totalStudent",t.countStudents?t.countStudents:0)("hashId",t.hashId?t.hashId:"")("homeworkId",t.id?t.id:0)("className","share"==o.id&&t.className?t.className:"")("backLink",n.backLink)}}function xe(t,e){if(1&t&&(p.Vb(0,"div"),p.Rc(1,we,2,10,"div",26),p.Ub()),2&t){const t=p.gc().$implicit;p.Db(1),p.nc("ngForOf",t.homeworks)}}function Oe(t,e){1&t&&p.Qb(0,"div",29)}function ye(t,e){if(1&t){const t=p.Wb();p.Tb(0),p.Vb(1,"button",30),p.cc("click",function(){p.Ec(t);const e=p.gc(2).$implicit;return p.gc(3).getClassroomHomeworkInArchive(e)}),p.hc(2,"mytranslate"),p.Vb(3,"mat-icon"),p.Tc(4,"keyboard_arrow_down"),p.Ub(),p.Ub(),p.Sb()}if(2&t){const t=p.gc(2).$implicit;p.Db(1),p.oc("matTooltip",p.ic(2,2,"lang_homework_class_list_see_more_old")),p.nc("disabled",!t.nextPage)}}function Se(t,e){if(1&t&&(p.Vb(0,"div",28),p.Rc(1,Oe,1,0,"div",11),p.Rc(2,ye,5,4,"ng-container",12),p.Ub()),2&t){const t=p.gc().$implicit;p.Db(1),p.nc("ngIf",t.isLoadingPage),p.Db(1),p.nc("ngIf",!t.isLoadingPage)}}const Ue=function(t){return{"pb-0":t}},Ve=function(t){return[t]};function Ce(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",13),p.Vb(1,"div",14),p.Vb(2,"div",15),p.Vb(3,"div",16),p.Vb(4,"p",17),p.cc("click",function(){p.Ec(t);const o=e.$implicit;return p.gc(3).goToStudentList(o.id?o.id:"0")}),p.Tc(5),p.Ub(),p.Rc(6,_e,2,0,"span",18),p.hc(7,"fullPermission"),p.Ub(),p.Vb(8,"div",19),p.Vb(9,"a",20),p.hc(10,"localize"),p.Tc(11,"Xem t\u1ea5t c\u1ea3"),p.Ub(),p.Ub(),p.Ub(),p.Rc(12,ve,6,3,"div",12),p.Rc(13,xe,2,1,"div",12),p.Rc(14,Se,3,2,"div",21),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,o=p.gc(3);p.Db(1),p.nc("ngClass",p.tc(13,Ue,1==(null==t.homeworks?null:t.homeworks.length))),p.Db(3),p.oc("matTooltip",t.name),p.Db(1),p.Vc(" ",t.name," "),p.Db(1),p.nc("ngIf",0==o.checkPermissionObj(p.jc(7,8,t.permissionObj,"classroom"))),p.Db(3),p.nc("routerLink",p.tc(15,Ve,p.ic(10,11,"/admin/homework/homework-list/"+t.id))),p.Db(3),p.nc("ngIf",0==(null==t.homeworks?null:t.homeworks.length)&&!t.nextPage),p.Db(1),p.nc("ngIf",t.homeworks&&t.homeworks.length>0),p.Db(1),p.nc("ngIf",t.homeworks&&t.homeworks.length<2)}}function De(t,e){1&t&&p.Qb(0,"div",29)}function je(t,e){if(1&t){const t=p.Wb();p.Tb(0),p.Vb(1,"button",31),p.cc("click",function(){return p.Ec(t),p.gc(3).seeMore()}),p.hc(2,"mytranslate"),p.Vb(3,"mat-icon"),p.Tc(4,"keyboard_arrow_down"),p.Ub(),p.Ub(),p.Sb()}if(2&t){const t=p.gc(3);p.Db(1),p.oc("matTooltip",p.ic(2,2,"lang_buttom_see_more")),p.nc("disabled",!t.nextPage)}}function Te(t,e){if(1&t&&(p.Vb(0,"div",5),p.Vb(1,"div",6),p.Vb(2,"div",7),p.Vb(3,"a",8),p.hc(4,"localize"),p.Tc(5),p.hc(6,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Vb(7,"div",6),p.Rc(8,Ce,15,17,"div",9),p.Ub(),p.Vb(9,"div",10),p.Rc(10,De,1,0,"div",11),p.Rc(11,je,5,4,"ng-container",12),p.Ub(),p.Ub()),2&t){const t=p.gc(2);p.Db(3),p.nc("routerLink",p.tc(9,Ve,p.ic(4,5,"/admin/homework/add-new-homework/0"))),p.Db(2),p.Vc("+ ",p.ic(6,7,"lang_homework_class_list_create_homework"),""),p.Db(3),p.nc("ngForOf",t.classObjs),p.Db(2),p.nc("ngIf",1==t.loadingMore),p.Db(1),p.nc("ngIf",0==t.loadingMore)}}function Pe(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",32),p.Tc(1),p.hc(2,"mytranslate"),p.Vb(3,"a",33),p.cc("click",function(){return p.Ec(t),p.gc(2).redirectToClassList()}),p.Tc(4),p.hc(5,"mytranslate"),p.Ub(),p.Tc(6),p.hc(7,"mytranslate"),p.Ub()}2&t&&(p.Db(1),p.Vc(" ",p.ic(2,3,"lang_homework_class_list_tutorial_header"),' "'),p.Db(3),p.Vc(" ",p.ic(5,5,"lang_homework_class_list_tutorial_center")," "),p.Db(2),p.Vc('" ',p.ic(7,7,"lang_homework_class_list_tutorial_end"),". "))}function Me(t,e){if(1&t&&(p.Rc(0,Te,12,11,"div",3),p.Rc(1,Pe,8,9,"ng-template",null,4,p.Sc)),2&t){const t=p.Ac(2),e=p.gc();p.nc("ngIf",e.classObjs.length&&e.classObjs.length>1)("ngIfElse",t)}}let Ie=(()=>{class t extends g.a{constructor(t,e,o,n,i){super(e),this.activeRoute=t,this.commonService=e,this.classroomService=o,this.homeworkService=n,this.browserStorageService=i,this.classObjs=[],this.nextPage="",this.loadingMore=!1,this.curPage=1,this.backLink="/admin/homework/classes/"+this.curPage}getAllClass(){this.subscriptions.add(this.classroomService.apiClassroomGetInfoForClassroomObjsGet(this.nextPage).subscribe(t=>{var e,o,n,i,s;if(1===t.success){this.classObjs=this.classObjs.concat(null!==(o=null===(e=t.data)||void 0===e?void 0:e.classObjs)&&void 0!==o?o:[]);for(let t=0;t<this.classObjs.length;t++)this.classObjs[t].isLoadingPage=!1;this.nextPage=null!==(i=null===(n=t.data)||void 0===n?void 0:n.nextPage)&&void 0!==i?i:"",this.successStatusObj()}else this.errorStatusObj(null!==(s=t.message)&&void 0!==s?s:"",!0);this.loadingMore=!1}))}getClassroomHomeworkInArchive(t){var e,o;t.isLoadingPage=!0,this.subscriptions.add(this.homeworkService.apiHomeworkGetObjsAndPermissionsByClassroomGet(null!==(e=t.id)&&void 0!==e?e:"0",null!==(o=t.nextPage)&&void 0!==o?o:"").subscribe(e=>{var o,n,i,s;if(1==e.success)for(let c=0;c<this.classObjs.length;c++)this.classObjs[c].id==t.id&&(this.classObjs[c].nextPage=null===(o=e.data)||void 0===o?void 0:o.nextPage,this.classObjs[c].homeworks=(null!==(n=this.classObjs[c].homeworks)&&void 0!==n?n:[]).concat(null!==(s=null===(i=e.data)||void 0===i?void 0:i.homeworkObjs)&&void 0!==s?s:[]));t.isLoadingPage=!1}))}redirectToClassList(){this.commonService.myNavigation("/admin/student/manage-class/0")}redirectHomework(t,e,o){this.commonService.myNavigation("/admin/homework/score-list/"+e+"/"+t+"/"+o)}goToStudentList(t){"share"!=t&&this.commonService.myNavigation("/admin/student/class-details/"+t)}redirectToStudentList(t){this.commonService.myNavigation("/admin/student/class-details/"+t)}checkPermissionObj(t){return t}seeMore(){this.loadingMore=!0,this.curPage=this.curPage+1,this.getAllClass()}ngOnInit(){Object(m.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let t=Number(this.commonService.getMyParam(this.activeRoute,"page"));this.backLink="/admin/homework/classes/"+t,this.initStatusObj(),this.getAllClass()}),this.commonService.translateMetaData({title:"lang_cms_homework_class_list_title",description:"lang_cms_homework_class_list_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){this.browserStorageService.clearSimpleSessionStorage(),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(c.a),p.Pb(f.a),p.Pb(u.g),p.Pb(u.J),p.Pb(x.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-classes"]],features:[p.Ab],decls:5,vars:6,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","container my-3 pb-80",4,"ngIf","ngIfElse"],["noData",""],[1,"container","my-3","pb-80"],[1,"row"],[1,"col-12","text-right"],[1,"btn","btn-success",3,"routerLink"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","mt-2"],["class","spinner-border text-secondary","role","status",4,"ngIf"],[4,"ngIf"],[1,"col-md-4"],[1,"classes-remake","height-default",3,"ngClass"],[1,"row","m-0","p-0","align-items-center"],[1,"col-8","text-left","text-ellipsis"],[1,"m-0","p-0","text-ellipsis","clickable",2,"vertical-align","middle",3,"matTooltip","click"],["class","ml-2 badge badge-info","style","vertical-align: middle; margin-bottom: 2px;",4,"ngIf"],[1,"col-4","text-right"],[1,"text-right","m-0","p-0",3,"routerLink"],["class","clickable center-pos",4,"ngIf"],[1,"ml-2","badge","badge-info",2,"vertical-align","middle","margin-bottom","2px"],[1,"row","text-center","block-null"],[1,"col-12"],[1,"p-0","m-0"],[4,"ngFor","ngForOf"],[3,"classId","name","dateCreated","deadLine","totalTakeTest","totalStudent","hashId","homeworkId","className","backLink","redirectId"],[1,"clickable","center-pos"],["role","status",1,"spinner-border","text-secondary"],["mat-button","",3,"matTooltip","disabled","click"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"],[1,"text-center","p-5"],[2,"color","#2361ae","font-weight","bold",3,"click"]],template:function(t,e){if(1&t&&(p.Qb(0,"header-backend",0),p.hc(1,"mytranslate"),p.Rc(2,ke,1,0,"azt-loading-effect",1),p.Rc(3,Me,3,2,"ng-template",null,2,p.Sc)),2&t){const t=p.Ac(4);p.nc("headerTitle",p.ic(1,4,"lang_homework_class_list_header_title"))("back_link","/admin/testbank/dashboard"),p.Db(2),p.nc("ngIf",e.statusObj.loading&&0==e.loadingMore)("ngIfElse",t)}},directives:[Mt.a,n.m,Ut.a,c.k,n.l,n.k,Tt.a,fe,Dt.b,jt.a],pipes:[Rt.q,k.d,Rt.m],styles:[".classes-remake[_ngcontent-%COMP%]{box-shadow:0 0 5px rgba(0,0,0,.08);border-radius:5px;background-color:#f3f3f3;padding:10px;margin-bottom:15px;margin-top:15px}.pb-0[_ngcontent-%COMP%]{padding-bottom:.5px!important}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.block-else[_ngcontent-%COMP%]{height:50vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.center-pos[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translateX(-50%)}.block-null[_ngcontent-%COMP%]{height:200px;align-items:center}.height-default[_ngcontent-%COMP%]{min-height:240px;position:relative}.block-else-text[_ngcontent-%COMP%]{font-size:19px;margin-bottom:25px}.text-ellipsis[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:70%;white-space:nowrap}@media screen and (max-width:768px){.block-null[_ngcontent-%COMP%]{height:86px}.height-default[_ngcontent-%COMP%]{height:auto}}.btn-all-add[_ngcontent-%COMP%]{margin:auto;background-color:#fff}"]}),t})();var Re=o("5HcS"),Ae=o("d3UM"),Ne=o("5ete"),Ee=o("1ffk");function He(t,e){if(1&t&&(p.Vb(0,"span"),p.Tc(1),p.Ub()),2&t){const t=p.gc(2);p.Db(1),p.Xc(" ",t.user_obj.id,".",t.user_obj.fullName,".Zalo:",t.user_obj.zaloId," ")}}function Fe(t,e){if(1&t&&(p.Vb(0,"span"),p.Tc(1),p.hc(2,"anonymousFullName"),p.hc(3,"anonymousPhone"),p.Ub()),2&t){const t=p.gc(2);p.Db(1),p.Xc(" ",t.user_obj.id,".",p.ic(2,3,t.user_obj),".",t.user_obj.phone?t.user_obj.phone:p.ic(3,5,"")," ")}}const Le=function(t){return[t]};function ze(t,e){if(1&t&&(p.Vb(0,"div",1),p.Vb(1,"p"),p.Vb(2,"a",2),p.hc(3,"localize"),p.Tc(4),p.hc(5,"mytranslate"),p.Ub(),p.Ub(),p.Vb(6,"p"),p.Tc(7),p.hc(8,"mytranslate"),p.Rc(9,He,2,3,"span",3),p.Rc(10,Fe,4,7,"span",3),p.Ub(),p.Vb(11,"p"),p.Tc(12),p.hc(13,"mytranslate"),p.Vb(14,"a",4),p.Tc(15,"https://facebook.com/groups/azota.vn"),p.Ub(),p.Ub(),p.Vb(16,"p"),p.Vb(17,"a",5),p.Qb(18,"img",6),p.Ub(),p.Vb(19,"a",7),p.Qb(20,"img",8),p.Ub(),p.Ub(),p.Ub()),2&t){const t=p.gc();p.Db(2),p.nc("routerLink",p.tc(14,Le,p.ic(3,6,"/student/dashboard/0"))),p.Db(2),p.Uc(p.ic(5,8,"lang_homework_utils_footer_go_to_student")),p.Db(3),p.Vc(" ",p.ic(8,10,"lang_homework_utils_footer_account"),": "),p.Db(2),p.nc("ngIf",t.user_obj.zaloId),p.Db(1),p.nc("ngIf",!t.user_obj.zaloId),p.Db(2),p.Vc("",p.ic(13,12,"lang_homework_utils_footer_join_group"),": ")}}let Be=(()=>{class t extends g.a{constructor(t,e,o){super(e),this.baseApiService=t,this.commonService=e,this.globalService=o,this.user_obj={}}ngOnInit(){this.user_obj=this.baseApiService.getUserObj(),this.globalService.loginMessage.subscribe(t=>{this.user_obj=this.baseApiService.getUserObj()}),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(Ne.a),p.Pb(f.a),p.Pb(Ee.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["homework-backend-footer"]],features:[p.Ab],decls:1,vars:1,consts:[["class","text-center mt-3",4,"ngIf"],[1,"text-center","mt-3"],[3,"routerLink"],[4,"ngIf"],["href","https://www.facebook.com/groups/azota.vn","target","_blank"],["href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener"],["alt","Get it on Google Play","src","https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png","width","150px",1,"play-store-badge"],["href","https://apps.apple.com/ua/app/azota/id1556025594","target","_blank","rel","noopener"],["alt","Download on the App Store","src","https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/images/2928664.svg","width","130px",1,"app-store-badge"]],template:function(t,e){1&t&&p.Rc(0,ze,21,16,"div",0),2&t&&p.nc("ngIf",0!=e.user_obj.id)},directives:[n.m,c.k],pipes:[k.d,Rt.q,Rt.a,Rt.b],encapsulation:2}),t})();var We=o("35wy");function Ge(t,e){if(1&t&&(p.Vb(0,"mat-option",15),p.Tc(1),p.Ub()),2&t){const t=e.$implicit;p.nc("value",t.id),p.Db(1),p.Vc(" ",t.name," ")}}function Je(t,e){1&t&&p.Qb(0,"azt-loading-effect")}function Qe(t,e){1&t&&(p.Vb(0,"div",18),p.Vb(1,"span",19),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Ub()),2&t&&(p.Db(2),p.Vc("",p.ic(3,1,"lang_homework_content_store_not_found_search"),"!"))}function qe(t,e){1&t&&(p.Vb(0,"span",33),p.Tc(1),p.hc(2,"mytranslate"),p.Ub()),2&t&&(p.Db(1),p.Uc(p.ic(2,1,"lang_homework_content_store_free")))}function $e(t,e){if(1&t&&(p.Vb(0,"span",34),p.Tc(1),p.hc(2,"number"),p.Ub()),2&t){const t=p.gc().$implicit;p.Db(1),p.Vc("",p.ic(2,1,t.amount)," Azo")}}function Ye(t,e){1&t&&(p.Vb(0,"span",35),p.Tc(1),p.hc(2,"mytranslate"),p.Ub()),2&t&&(p.Db(1),p.Uc(p.ic(2,1,"lang_homework_content_store_bought")))}function Ke(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",36),p.cc("click",function(){p.Ec(t);const e=p.gc().$implicit;return p.gc(3).downloadFrontFileContent(e.id?e.id:0)}),p.Vb(1,"mat-icon",37),p.Tc(2,"save_alt"),p.Ub(),p.Tc(3),p.hc(4,"mytranslate"),p.Ub()}2&t&&(p.Db(3),p.Vc(" ",p.ic(4,1,"lang_homework_content_store_download")," "))}function Xe(t,e){if(1&t){const t=p.Wb();p.Vb(0,"a",38),p.cc("click",function(){p.Ec(t);const e=p.gc().$implicit,o=p.gc(3);return o.openBuyContentDialog(e,o.userObj&&o.userObj.amount?o.userObj.amount:0)}),p.Vb(1,"mat-icon",37),p.Tc(2,"shopping_cart"),p.Ub(),p.Tc(3),p.hc(4,"mytranslate"),p.Ub()}2&t&&(p.Db(3),p.Vc(" ",p.ic(4,1,"lang_buttom_buy")," "))}function Ze(t,e){if(1&t&&(p.Vb(0,"div",22),p.Vb(1,"div",23),p.Qb(2,"img",24),p.hc(3,"mycdn"),p.Vb(4,"div",25),p.Vb(5,"p",26),p.Tc(6),p.Ub(),p.Vb(7,"div",27),p.Rc(8,qe,3,3,"span",28),p.Rc(9,$e,3,3,"span",29),p.Rc(10,Ye,3,3,"span",30),p.Rc(11,Ke,5,3,"a",31),p.Rc(12,Xe,5,3,"a",32),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&t){const t=e.$implicit;p.Db(2),p.oc("src",p.ic(3,7,t.thumb),p.Ic),p.Db(4),p.Uc(t.name),p.Db(2),p.nc("ngIf",0==t.amount),p.Db(1),p.nc("ngIf",0!=t.amount&&-1!=t.amount),p.Db(1),p.nc("ngIf",-1==t.amount),p.Db(1),p.nc("ngIf",0==t.amount||-1==t.amount),p.Db(1),p.nc("ngIf",(t&&t.amount?t.amount:0)>0)}}function to(t,e){if(1&t&&(p.Vb(0,"div",20),p.Rc(1,Ze,13,9,"div",21),p.Ub()),2&t){const t=p.gc(2);p.Db(1),p.nc("ngForOf",t.objs)}}function eo(t,e){if(1&t&&(p.Rc(0,Qe,4,3,"div",16),p.Rc(1,to,2,1,"ng-template",null,17,p.Sc)),2&t){const t=p.Ac(2),e=p.gc();p.nc("ngIf",e.isNullData)("ngIfElse",t)}}function oo(t,e){if(1&t&&(p.Vb(0,"div",12),p.Vb(1,"p",13),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Vb(4,"p"),p.Vb(5,"span",5),p.Tc(6),p.Ub(),p.Ub(),p.Vb(7,"span",14),p.Tc(8),p.hc(9,"mytranslate"),p.Vb(10,"span",15),p.Tc(11),p.hc(12,"number"),p.Ub(),p.Tc(13),p.hc(14,"mytranslate"),p.Ub(),p.Ub()),2&t){const t=p.gc();p.Db(2),p.Uc(p.ic(3,5,"lang_homework_content_store_definitely_want_to_buy")),p.Db(4),p.Vc(" ",t.content.name,""),p.Db(2),p.Vc(" ",p.ic(9,7,"lang_homework_content_store_with_price")," "),p.Db(3),p.Vc("",p.ic(12,9,t.content.amount)," Azo"),p.Db(2),p.Vc(" ",p.ic(14,11,"lang_homework_content_store_not"),"?")}}function no(t,e){if(1&t&&(p.Vb(0,"div",12),p.Vb(1,"p",13),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Vb(4,"p"),p.Vb(5,"span",5),p.Tc(6),p.Ub(),p.Ub(),p.Vb(7,"span",14),p.Tc(8),p.hc(9,"mytranslate"),p.Vb(10,"span",15),p.Tc(11),p.hc(12,"number"),p.Ub(),p.Ub(),p.Ub()),2&t){const t=p.gc();p.Db(2),p.Uc(p.ic(3,4,"lang_homework_content_store_not_enough_azo")),p.Db(4),p.Vc(" ",t.content.name,""),p.Db(2),p.Vc(" ",p.ic(9,6,"lang_homework_content_store_with_price")," "),p.Db(3),p.Vc("",p.ic(12,8,t.content.amount)," Azo")}}function io(t,e){1&t&&(p.Vb(0,"div",4),p.Vb(1,"span",16),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Ub()),2&t&&(p.Db(2),p.Vc(" ",p.ic(3,1,"lang_homework_content_store_please"),"!"))}function so(t,e){if(1&t){const t=p.Wb();p.Vb(0,"button",17),p.cc("click",function(){return p.Ec(t),p.gc().buyContent()}),p.Vb(1,"mat-icon",18),p.Tc(2,"shopping_cart"),p.Ub(),p.Tc(3),p.hc(4,"mytranslate"),p.Ub()}2&t&&(p.Db(3),p.Vc(" ",p.ic(4,1,"lang_buttom_buy")," "))}function co(t,e){if(1&t){const t=p.Wb();p.Vb(0,"button",17),p.cc("click",function(){return p.Ec(t),p.gc().gotoPack()}),p.Vb(1,"mat-icon",18),p.Tc(2,"account_balance_wallet"),p.Ub(),p.Tc(3),p.hc(4,"mytranslate"),p.Ub()}2&t&&(p.Db(3),p.Vc(" ",p.ic(4,1,"lang_homework_content_store_recharge")," "))}let ao=(()=>{class t extends g.a{constructor(t,e,o,n,s,c){super(e),this.activeRoute=t,this.commonService=e,this.authService=o,this.frontFileContentService=n,this.formBuilder=s,this.dialog=c,this.options={path:"https://assets8.lottiefiles.com/packages/lf20_eebdoe5f.json"},this.isNullData=!1,this.form=new i.k({}),this.subscriptions=new h.a,this.objs=[],this.categories=[],this.userObj={},this.selectedValue=""}getData(){this.initStatusObj(),this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet().subscribe(t=>{var e,o,n;1==t.success?(this.objs=null!==(o=null===(e=t.data)||void 0===e?void 0:e.objs)&&void 0!==o?o:new Array,this.successStatusObj()):this.errorStatusObj(null!==(n=t.message)&&void 0!==n?n:"")}))}getInfo(){this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthInfoGet().subscribe(t=>{var e,o;1==t.success?(this.userObj=null!==(e=t.data)&&void 0!==e?e:{},this.successStatusObj()):this.errorStatusObj(null!==(o=t.message)&&void 0!==o?o:"")}))}getCategories(){this.initStatusObj(),this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetCategoriesObjsGet().subscribe(t=>{var e,o,n;1==t.success?(this.categories=null!==(o=null===(e=t.data)||void 0===e?void 0:e.objs)&&void 0!==o?o:new Array,this.successStatusObj()):this.errorStatusObj(null!==(n=t.message)&&void 0!==n?n:"")}))}openBuyContentDialog(t,e){this.openDialog(!(t.amount&&t.amount>e),t,e)}openDialog(t,e,o){this.dialog.open(ro,{width:"380px",panelClass:"buyContentDialogBox",data:{status:t,content:e,userAmount:o}}).afterClosed().subscribe(t=>{})}selectValue(t){this.initStatusObj(),this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet(void 0,t).subscribe(t=>{var e,o,n,i,s;1==t.success?(null===(e=t.data)||void 0===e?void 0:e.objs)&&(null===(o=t.data)||void 0===o?void 0:o.objs.length)>0?(this.isNullData=!1,this.objs=null!==(i=null===(n=t.data)||void 0===n?void 0:n.objs)&&void 0!==i?i:new Array,this.successStatusObj()):(this.isNullData=!0,this.stopStatusObj()):this.errorStatusObj(null!==(s=t.message)&&void 0!==s?s:"")}))}onSearch(){var t=this.commonService.getFormObj(this.form);this.initStatusObj(),""==t.searchContent?(this.isNullData=!1,this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet().subscribe(t=>{var e,o,n;1==t.success?(this.objs=null!==(o=null===(e=t.data)||void 0===e?void 0:e.objs)&&void 0!==o?o:new Array,this.successStatusObj()):this.errorStatusObj(null!==(n=t.message)&&void 0!==n?n:"")}))):this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet(t.searchContent).subscribe(t=>{var e,o,n,i,s;1==t.success?((null===(e=t.data)||void 0===e?void 0:e.objs)&&0==(null===(o=t.data)||void 0===o?void 0:o.objs.length)?this.isNullData=!0:this.objs=null!==(i=null===(n=t.data)||void 0===n?void 0:n.objs)&&void 0!==i?i:new Array,this.successStatusObj()):this.errorStatusObj(null!==(s=t.message)&&void 0!==s?s:"")}))}downloadFrontFileContent(t){this.frontFileContentService.apiFrontFileContentGetFileLinkGet(t).subscribe(t=>{var e,o;if(1==t.success){var n=document.createElement("a");document.body.appendChild(n),n.href=null!==(o=null===(e=t.data)||void 0===e?void 0:e.link)&&void 0!==o?o:"",n.click()}else this.showErrorSnack("T\u1ea3i v\u1ec1 kh\xf4ng th\xe0nh c\xf4ng")})}ngOnInit(){Object(m.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([t,e])=>{this.getData(),this.getInfo(),this.getCategories()}),this.form=this.formBuilder.group({searchContent:new i.h("",i.z.required)}),this.commonService.translateMetaData({title:"lang_cms_homework_content_store_title",description:"lang_cms_homework_content_store_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(c.a),p.Pb(f.a),p.Pb(u.d),p.Pb(Re.a),p.Pb(i.g),p.Pb(s.b))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-content-store"]],features:[p.Ab],decls:22,vars:14,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","W1200","m-auto","mt-3"],[3,"formGroup"],[1,"row","justify-content-between"],[1,"col-md-8","mt-2"],[1,"search-bar","form-group"],[1,"input-group-append"],["type","text","formControlName","searchContent",1,"form-control",3,"placeholder","keyup.enter"],["id","basic-addon2",1,"input-group-text",3,"click"],[1,"col-md-4","content-store-select"],["appearance","fill"],["name","category",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"value"],["class","text-center mt-3 mb-3",4,"ngIf","ngIfElse"],["HasData",""],[1,"text-center","mt-3","mb-3"],[1,"h3"],[1,"row","mt-2"],["class","col-12 col-sm-4 col-md-4 col-lg-4 mb-2",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","col-md-4","col-lg-4","mb-2"],[1,"card"],["alt","thumbnail",1,"card-img-top",3,"src"],[1,"card-body"],[1,"truncate","card-text"],[1,"d-flex","justify-content-between","actionZone"],["class","azo-price text-warning",4,"ngIf"],["class","azo-price text-danger",4,"ngIf"],["class","azo-price ",4,"ngIf"],["class","actionBtn clickable",3,"click",4,"ngIf"],["class","actionBtn","style","cursor: pointer;",3,"click",4,"ngIf"],[1,"azo-price","text-warning"],[1,"azo-price","text-danger"],[1,"azo-price"],[1,"actionBtn","clickable",3,"click"],[2,"vertical-align","sub"],[1,"actionBtn",2,"cursor","pointer",3,"click"]],template:function(t,e){if(1&t&&(p.Qb(0,"header-backend",0),p.hc(1,"mytranslate"),p.Vb(2,"div",1),p.Vb(3,"form",2),p.Vb(4,"div",3),p.Vb(5,"div",4),p.Vb(6,"div",5),p.Vb(7,"div",6),p.Vb(8,"input",7),p.cc("keyup.enter",function(){return e.onSearch()}),p.hc(9,"mytranslate"),p.Ub(),p.Vb(10,"button",8),p.cc("click",function(){return e.onSearch()}),p.Vb(11,"mat-icon"),p.Tc(12,"search"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(13,"div",9),p.Vb(14,"mat-form-field",10),p.Vb(15,"mat-select",11),p.cc("selectionChange",function(t){return e.selectValue(t.value)}),p.hc(16,"mytranslate"),p.Rc(17,Ge,2,2,"mat-option",12),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Rc(18,Je,1,0,"azt-loading-effect",13),p.Rc(19,eo,3,2,"ng-template",null,14,p.Sc),p.Ub(),p.Qb(21,"homework-backend-footer")),2&t){const t=p.Ac(20);p.nc("headerTitle",p.ic(1,8,"lang_homework_content_store_content_bank"))("back_link","/admin/homework/classes/1"),p.Db(3),p.nc("formGroup",e.form),p.Db(5),p.oc("placeholder",p.ic(9,10,"lang_homework_content_store_search")),p.Db(7),p.oc("placeholder",p.ic(16,12,"lang_homework_content_store_all")),p.Db(2),p.nc("ngForOf",e.categories),p.Db(1),p.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}},directives:[Mt.a,i.B,i.s,i.l,i.d,i.r,i.j,jt.a,Vt.d,Ae.a,n.l,n.m,Be,_t.n,Ut.a],pipes:[Rt.q,Rt.o,n.f],styles:[".dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;border-radius:5px}.border-test[_ngcontent-%COMP%]{border:1px solid red;min-height:50px}.azo-price[_ngcontent-%COMP%]{padding-top:5px;font-weight:500;font-size:1.2rem}.content-store-select[_ngcontent-%COMP%]{margin-top:5px}.card-text[_ngcontent-%COMP%]{display:block!important;max-width:245px!important}.content-header[_ngcontent-%COMP%]{background:inherit;background-color:#0089a7;padding:20px 0}.user_amount[_ngcontent-%COMP%]{background:inherit;background-color:#009cbe;border:none;border-radius:5px;padding:10px;box-shadow:none}.user_amount[_ngcontent-%COMP%]:hover{text-decoration:none}.mat-card-avatar[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;flex-shrink:0;object-fit:cover}@media (max-width:992px){.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px;border-radius:0}}@media (max-width:768px){.azo-price[_ngcontent-%COMP%]{padding-top:5px;font-weight:400;font-size:14px;text-align:center;position:absolute;left:20px}.actionZone[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center!important}.card-text[_ngcontent-%COMP%]{display:block!important;max-width:120px}.header-col-center[_ngcontent-%COMP%]{text-align:center!important;display:block!important}.header-col-center[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important;margin-bottom:10px!important;text-align:center!important;display:inline-flex!important}.user_amount[_ngcontent-%COMP%]{margin-left:0!important;margin-bottom:10px!important}.content-header[_ngcontent-%COMP%]{padding:20px 0 0}}"]}),t})(),ro=(()=>{class t extends g.a{constructor(t,e,o,n){super(o),this.dialogRef=t,this.paymentService=e,this.commonService=o,this.data=n,this.subscriptions=new h.a,this.content={}}getData(){this.initStatusObj(),this.data.content?(this.content=this.data.content,this.successStatusObj()):this.errorStatusObj("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u")}buyContent(){this.initStatusObj(),this.subscriptions.add(this.paymentService.apiPaymentBuyFileContentByAzoPost(this.content.id).subscribe(t=>{var e;1==t.success?(this.successStatusObj(),this.showSuccessSnack("B\u1ea1n \u0111\xe3 mua th\xe0nh c\xf4ng!"),this.onNoClick(),setTimeout(()=>{document.location.reload()},3e3)):(this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0),this.showErrorSnack("Thanh to\xe1n kh\xf4ng th\xe0nh c\xf4ng!"),this.onNoClick(),setTimeout(()=>{document.location.reload()},3e3))}))}gotoPack(){this.onNoClick(),this.commonService.myNavigation("/payment/azo-pack")}ngOnInit(){this.getData(),super.ngOnInit()}onNoClick(){this.dialogRef.close()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(s.g),p.Pb(We.a),p.Pb(f.a),p.Pb(s.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["buy-content-dialog"]],features:[p.Ab],decls:21,vars:16,consts:[[3,"hidden"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"text-center"],[1,"h5"],["class","text-left","style","border: 1px dashed red; padding: 10px 5px; border-radius: 5px;",4,"ngIf"],["class","text-center",4,"ngIf"],["mat-dialog-actions","",1,"float-right"],[1,"azt-block-button"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-secondary",2,"margin-left","15px",3,"click"],[1,"text-left",2,"border","1px dashed red","padding","10px 5px","border-radius","5px"],[1,"h5","text-danger"],[1,"h5","mt-1"],[1,"text-danger"],[1,"h6","mt-2","mb-1"],[1,"btn","btn-primary",3,"click"],[2,"font-size","23px","vertical-align","sub"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"div",2),p.Vb(3,"span",3),p.Tc(4,"..."),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(5,"div",0),p.Vb(6,"div",4),p.Vb(7,"p",5),p.Tc(8),p.hc(9,"mytranslate"),p.hc(10,"number"),p.Ub(),p.Ub(),p.Rc(11,oo,15,13,"div",6),p.Rc(12,no,13,10,"div",6),p.Rc(13,io,4,3,"div",7),p.Ub(),p.Vb(14,"div",8),p.Vb(15,"div",9),p.Rc(16,so,5,3,"button",10),p.Rc(17,co,5,3,"button",10),p.Ub(),p.Vb(18,"button",11),p.cc("click",function(){return e.onNoClick()}),p.Tc(19),p.hc(20,"mytranslate"),p.Ub(),p.Ub()),2&t&&(p.nc("hidden",!e.statusObj.loading),p.Db(5),p.nc("hidden",e.statusObj.loading),p.Db(3),p.Wc("",p.ic(9,10,"lang_homework_content_store_having")," ",p.ic(10,12,e.data.userAmount)," Azo"),p.Db(3),p.nc("ngIf",e.data.status),p.Db(1),p.nc("ngIf",!e.data.status),p.Db(1),p.nc("ngIf",!e.data.status),p.Db(3),p.nc("ngIf",e.data.status),p.Db(1),p.nc("ngIf",!e.data.status),p.Db(2),p.Uc(p.ic(20,14,"lang_buttom_cancel")))},directives:[n.m,s.c,jt.a],pipes:[Rt.q,n.f],encapsulation:2}),t})();function lo(t,e){if(1&t&&(p.Vb(0,"span",14),p.Tc(1),p.Ub()),2&t){const t=p.gc().$implicit;p.Db(1),p.Vc("",t.className,", ")}}function bo(t,e){if(1&t&&(p.Vb(0,"span",14),p.Tc(1),p.Ub()),2&t){const t=p.gc().$implicit;p.Db(1),p.Vc(" ",t.className," ")}}function ho(t,e){if(1&t&&(p.Vb(0,"span",7),p.Rc(1,lo,2,1,"span",13),p.Rc(2,bo,2,1,"span",13),p.Ub()),2&t){const t=e.index,o=p.gc();p.Db(1),p.nc("ngIf",t<o.listHomework.length-1),p.Db(1),p.nc("ngIf",t==o.listHomework.length-1)}}function mo(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",17),p.Vb(1,"p",18),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Vb(4,"div",19),p.Vb(5,"button",20),p.cc("click",function(){return p.Ec(t),p.gc(2).showCopySuccess()}),p.Vb(6,"span",21),p.Vb(7,"mat-icon",22),p.Tc(8,"file_copy"),p.Ub(),p.Tc(9," \xa0Copy link "),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,o=p.gc(2);p.Db(1),p.oc("matTooltip",t.className),p.Db(1),p.Wc("",p.ic(3,4,"lang_homework_create_homework_success_class")," : ",t.className,""),p.Db(3),p.nc("cdkCopyToClipboard",o.copylinkToClipboard(t.hashId?t.hashId:""))}}function uo(t,e){if(1&t&&(p.Vb(0,"div",15),p.Rc(1,mo,10,6,"div",16),p.Ub()),2&t){const t=p.gc();p.Db(1),p.nc("ngForOf",t.listHomework)}}function go(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",24),p.Vb(1,"p",25),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Vb(4,"div",19),p.Vb(5,"button",20),p.cc("click",function(){return p.Ec(t),p.gc(2).showCopySuccess()}),p.Vb(6,"span",21),p.Vb(7,"mat-icon",22),p.Tc(8,"file_copy"),p.Ub(),p.Tc(9," \xa0Copy link "),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,o=p.gc(2);p.Db(1),p.oc("matTooltip",t.className),p.Db(1),p.Wc("",p.ic(3,4,"lang_homework_create_homework_success_class")," : ",t.className,""),p.Db(3),p.nc("cdkCopyToClipboard",o.copylinkToClipboard(t.hashId?t.hashId:""))}}function po(t,e){if(1&t&&(p.Vb(0,"div",15),p.Rc(1,go,10,6,"div",23),p.Ub()),2&t){const t=p.gc();p.Db(1),p.nc("ngForOf",t.listHomework)}}let fo=(()=>{class t extends g.a{constructor(t,e,o){super(o),this.activeRoute=t,this.homeworkService=e,this.commonService=o,this.subscriptions=new h.a,this.menuObjs=[],this.nameExam="",this.lstHashIds=[],this.listHomework=[]}getListHomeWork(t){this.initStatusObj(),this.subscriptions.add(this.homeworkService.apiHomeworkGetSuccessHomeworkObjsPost({homeworkHashIds:t}).subscribe(t=>{var e,o,n,i;1==t.success?(this.listHomework=null!==(o=null===(e=t.data)||void 0===e?void 0:e.objs)&&void 0!==o?o:new Array,this.nameExam=null!==(n=this.listHomework[0].name)&&void 0!==n?n:"",this.successStatusObj()):this.errorStatusObj(null!==(i=t.message)&&void 0!==i?i:"",!0)}))}callbackMenuEvent(t){}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i","")}copylinkToClipboard(t){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${t}`}redirectClasses(){this.commonService.myNavigation("/admin/homework/classes/1")}ngOnInit(){Object(m.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var t;let e=null!==(t=this.commonService.getMyParam(this.activeRoute,"hash_ids"))&&void 0!==t?t:"";this.lstHashIds=this.commonService.parseJson(e),this.getListHomeWork(this.lstHashIds)}),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(c.a),p.Pb(u.J),p.Pb(f.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-create-homework-success"]],features:[p.Ab],decls:29,vars:25,consts:[[3,"menu_objs","headerTitle","back_link","MenuEvent"],[1,"container","py-5"],[1,"row","p-0","m-0"],[1,"col-md-2","p-0","m-0"],[1,"col-md-8","p-0","m-0"],[1,"box--create"],[1,"text-center","mx-auto"],[1,"font-weight-bold"],["class","font-weight-bold",4,"ngFor","ngForOf"],["class","row p-0 m-0 pt-3",4,"ngIf"],[1,"row","p-0","m-0","pt-5"],[1,"col-12","text-center"],[1,"clickable","text--blue",3,"click"],["style","word-break: break-word;",4,"ngIf"],[2,"word-break","break-word"],[1,"row","p-0","m-0","pt-3"],["class","col-md-4 text-center pb-3 d-flex flex-col",4,"ngFor","ngForOf"],[1,"col-md-4","text-center","pb-3","d-flex","flex-col"],[1,"text--over","m-0","pb-2",3,"matTooltip"],[1,"width-100"],[1,"button--copy",3,"cdkCopyToClipboard","click"],[1,"d-flex",2,"vertical-align","middle","align-items","center"],[2,"font-size","24px","color","#3c8dbc"],["class","col-md-12 text-center pb-3 d-flex flex-col",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","pb-3","d-flex","flex-col"],[1,"m-0","pb-2",3,"matTooltip"]],template:function(t,e){1&t&&(p.Vb(0,"header-backend",0),p.cc("MenuEvent",function(t){return e.callbackMenuEvent(t)}),p.hc(1,"mytranslate"),p.Ub(),p.Vb(2,"div",1),p.Vb(3,"div",2),p.Qb(4,"div",3),p.Vb(5,"div",4),p.Vb(6,"div",5),p.Vb(7,"div",6),p.Vb(8,"h4",7),p.Tc(9),p.hc(10,"mytranslate"),p.Ub(),p.Ub(),p.Vb(11,"p"),p.Tc(12),p.hc(13,"mytranslate"),p.Vb(14,"span",7),p.Tc(15),p.Ub(),p.Tc(16),p.hc(17,"mytranslate"),p.Rc(18,ho,3,2,"span",8),p.Tc(19),p.hc(20,"mytranslate"),p.Ub(),p.Rc(21,uo,2,1,"div",9),p.Rc(22,po,2,1,"div",9),p.Vb(23,"div",10),p.Vb(24,"div",11),p.Vb(25,"div",12),p.cc("click",function(){return e.redirectClasses()}),p.Tc(26),p.hc(27,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Qb(28,"div",3),p.Ub(),p.Ub()),2&t&&(p.nc("menu_objs",e.menuObjs)("headerTitle",p.ic(1,13,"lang_homework_create_homework_success_add_homework_success"))("back_link","/admin/homework/classes/1"),p.Db(9),p.Wc("",p.ic(10,15,"lang_homework_create_homework_success_create_success")," ",e.nameExam," "),p.Db(3),p.Vc(" ",p.ic(13,17,"lang_homework_create_homework_success_teacher_create_success")," "),p.Db(3),p.Vc("",e.nameExam," "),p.Db(1),p.Vc("",p.ic(17,19,"lang_homework_create_homework_success_assigned_class")," "),p.Db(2),p.nc("ngForOf",e.listHomework),p.Db(1),p.Vc(". ",p.ic(20,21,"lang_homework_create_homework_success_tutorial"),". "),p.Db(2),p.nc("ngIf",(e.listHomework?e.listHomework.length:0)>1),p.Db(1),p.nc("ngIf",1==(null==e.listHomework?null:e.listHomework.length)),p.Db(4),p.Uc(p.ic(27,23,"lang_homework_create_homework_success_back_list_homework")))},directives:[Mt.a,n.l,n.m,Tt.a,be.a,jt.a],pipes:[Rt.q],styles:[".box--create[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ececec;border-radius:5px;padding:20px}.button--copy[_ngcontent-%COMP%]{background-color:#f7f7f7;border:1px solid #e8e8e8;border-radius:5px;cursor:pointer;padding:8px 18px;font-size:13px;text-transform:capitalize;color:#3c8dbc;align-items:center;vertical-align:middle}.box-class[_ngcontent-%COMP%], .flex-col[_ngcontent-%COMP%]{flex-direction:column}.flex-col[_ngcontent-%COMP%]{justify-content:center}.text--blue[_ngcontent-%COMP%]{color:#3c8dbc}.text--over[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:99%;white-space:nowrap}@media screen and (max-width:767px){.width-100[_ngcontent-%COMP%]{width:100%;max-width:100%}.button--copy[_ngcontent-%COMP%]{width:100%}}"]}),t})();var ko=o("Iab2"),_o=o("xOOu"),vo=o("unp7"),wo=o("Tro7"),xo=o("NGVo"),Oo=o("loSA");function yo(t,e){1&t&&p.Qb(0,"azt-loading-effect")}function So(t,e){1&t&&p.Qb(0,"span",29)}function Uo(t,e){if(1&t&&(p.Vb(0,"div",11),p.Rc(1,So,1,0,"span",28),p.Tc(2),p.hc(3,"mytranslate"),p.Ub()),2&t){const t=p.gc(4);p.Db(1),p.nc("ngIf",t.countDonePdf<((null==t.curExportArr?null:t.curExportArr.length)||-1)),p.Db(1),p.Xc(" ",p.ic(3,4,"lang_homework_export_homework_request"),"",t.countDonePdf," / ",null==t.curExportArr?null:t.curExportArr.length," ")}}function Vo(t,e){if(1&t&&(p.Vb(0,"div",11),p.Vb(1,"mat-icon",30),p.Tc(2," check_circle "),p.Ub(),p.Tc(3),p.hc(4,"mytranslate"),p.Ub()),2&t){const t=p.gc(4);p.Db(3),p.Xc(" ",p.ic(4,3,"lang_homework_export_homework_complete")," ",t.countDonePdf," / ",(null==t.curExportArr?null:t.curExportArr.length)||0," ")}}const Co=function(){return{fontFamily:"font_chu_dam"}};function Do(t,e){if(1&t&&(p.Vb(0,"div",31),p.Vb(1,"span",32),p.Qb(2,"azt-check-mark",33),p.Ub(),p.Vb(3,"span",26),p.Tc(4),p.hc(5,"mytranslate"),p.Ub(),p.Ub()),2&t){const t=p.gc(4);p.nc("ngClass",t.curAnswer.resultParse.hideMark?"":"display")("hidden",t.curAnswer.resultParse.hideMark),p.Db(1),p.nc("ngStyle",p.sc(7,Co)),p.Db(1),p.nc("mark",t.curAnswer.resultParse.point),p.Db(2),p.Uc(p.ic(5,5,"lang_point"))}}const jo=function(t){return{"font-family":t}};function To(t,e){if(1&t&&p.Qb(0,"div",34),2&t){const t=p.gc(4);p.nc("ngStyle",p.tc(2,jo,null!=t.curAnswer.resultParse&&null!=t.curAnswer.resultParse.staticTextConfig&&t.curAnswer.resultParse.staticTextConfig.txtCommentFont?null==t.curAnswer.resultParse||null==t.curAnswer.resultParse.staticTextConfig?null:t.curAnswer.resultParse.staticTextConfig.txtCommentFont:"font_chu_dep"))("innerHtml",null==t.curAnswer.resultParse?null:t.curAnswer.resultParse.comment,p.Fc)}}function Po(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",5),p.Vb(1,"div",6),p.Vb(2,"div",7),p.Vb(3,"div",8),p.Vb(4,"div",9),p.Vb(5,"h1",10),p.Tc(6),p.hc(7,"mytranslate"),p.Ub(),p.Vb(8,"div",11),p.Tc(9),p.hc(10,"mytranslate"),p.Ub(),p.Vb(11,"div",11),p.Vb(12,"button",12),p.cc("click",function(){p.Ec(t);const e=p.gc(3);return e.openDialog(e.submitedStudents)}),p.Tc(13),p.hc(14,"mytranslate"),p.Ub(),p.Ub(),p.Rc(15,Uo,4,6,"div",13),p.Rc(16,Vo,5,5,"div",13),p.Vb(17,"div",14),p.Vb(18,"div",15),p.Vb(19,"h2",16),p.Vb(20,"span"),p.Tc(21),p.hc(22,"mytranslate"),p.Ub(),p.Ub(),p.Vb(23,"div",17),p.Vb(24,"div",18),p.Vb(25,"h3",19),p.Tc(26),p.hc(27,"mytranslate"),p.Ub(),p.Vb(28,"h3",19),p.Tc(29),p.hc(30,"mytranslate"),p.Ub(),p.Ub(),p.Vb(31,"div",20),p.Vb(32,"h3",19),p.Tc(33),p.hc(34,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Vb(35,"div",21),p.Vb(36,"div",22),p.Rc(37,Do,6,8,"div",23),p.Vb(38,"div",24),p.Rc(39,To,1,4,"div",25),p.Vb(40,"span",26),p.Tc(41),p.hc(42,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Qb(43,"azt-export-essay-template",27),p.hc(44,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=p.gc(3);p.Db(6),p.Uc(p.ic(7,19,"lang_homework_export_homework_export_pdf")),p.Db(3),p.Wc(" ",p.ic(10,21,"lang_homework_export_homework_number_student_dotted"),": ",t.submitedStudents.length," "),p.Db(4),p.Vc(" ",p.ic(14,23,"lang_homework_export_homework_continue"),""),p.Db(2),p.nc("ngIf",t.isProcessingPdf),p.Db(1),p.nc("ngIf",((null==t.curExportArr?null:t.curExportArr.length)||-1)>0&&t.countDonePdf===((null==t.curExportArr?null:t.curExportArr.length)||0)),p.Db(5),p.Wc("",p.ic(22,25,"lang_first_and_last_name"),": ",null==t.curAnswer?null:t.curAnswer.fullName,""),p.Db(5),p.Wc("",p.ic(27,27,"lang_homework_export_homework_class"),": ",null==t.data.classroomObj?null:t.data.classroomObj.name,""),p.Db(3),p.Wc("",p.ic(30,29,"lang_homework_export_homework_home_work"),": ",null==t.data.homeworkObj?null:t.data.homeworkObj.name,""),p.Db(4),p.Wc("",p.ic(34,31,"lang_homework_export_homework_code"),": ",null==t.curAnswer?null:t.curAnswer.id,""),p.Db(4),p.nc("ngIf",t.curAnswer.resultParse),p.Db(2),p.nc("ngIf",null==t.curAnswer.resultParse?null:t.curAnswer.resultParse.comment),p.Db(2),p.Uc(p.ic(42,33,"lang_homework_export_homework_comment_of_teacher")),p.Db(2),p.nc("title",p.ic(44,35,"lang_homework_export_homework_assignment"))("result",null==t.curAnswer?null:t.curAnswer.resultParse)}}function Mo(t,e){1&t&&(p.Vb(0,"div",35),p.Vb(1,"div",36),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Ub()),2&t&&(p.Db(2),p.Uc(p.ic(3,1,"lang_homework_export_homework_request_marking")))}function Io(t,e){if(1&t&&(p.Rc(0,Po,45,37,"div",3),p.Rc(1,Mo,4,3,"ng-template",null,4,p.Sc)),2&t){const t=p.Ac(2),e=p.gc(2);p.nc("ngIf",e.submitedStudents.length>0)("ngIfElse",t)}}function Ro(t,e){if(1&t&&(p.Tb(0),p.Rc(1,yo,1,0,"azt-loading-effect",0),p.Rc(2,Io,3,2,"ng-template",null,2,p.Sc),p.Sb()),2&t){const t=p.Ac(3),e=p.gc();p.Db(1),p.nc("ngIf",e.statusObj.loading)("ngIfElse",t)}}function Ao(t,e){1&t&&(p.Vb(0,"div",37),p.Tc(1),p.hc(2,"mytranslate"),p.Ub()),2&t&&(p.Db(1),p.Uc(p.ic(2,1,"lang_homework_export_homework_request_browser")))}function No(t,e){if(1&t&&(p.Vb(0,"mat-checkbox",10),p.Tc(1),p.Ub()),2&t){const t=e.index,o=p.gc();p.nc("checked",o.form.value.exports[t])("formControlName",t),p.Db(1),p.Wc(" ",t+1,". ",o.data.resultsArr[t].fullName," ")}}const Eo=function(t){return{selects:t}};let Ho=(()=>{class t extends g.a{constructor(t,e,o,n,i,s,c,a){super(n),this.cdr=t,this.answerService=e,this.dialog=o,this.commonService=n,this.activeRoute=i,this.exportPdfService=s,this.newPdfExportService=c,this.zipdataService=a,this.curAnswer={},this.data={},this.submitedStudents=[],this.countDonePdf=0,this.myZip=new _o,this.isProcessingPdf=!1,this.homeworkHashId=""}get class_id(){var t;return null!==(t=this.activeRoute.snapshot.paramMap.get("class_id"))&&void 0!==t?t:""}get homework_id(){var t;return null!==(t=this.activeRoute.snapshot.paramMap.get("id"))&&void 0!==t?t:""}getJson(t){return this.commonService.parseJson(t)}openDialog(t){this.dialog.open(Fo,{width:"1100px",data:{resultsArr:t}}).afterClosed().subscribe(e=>{if(e){const o=[];for(let n=0;n<e.selects.length;n++)e.selects[n]&&o.push(t[n]);this.zipAll(o)}})}finalSaveAll(){this.myZip.generateAsync({type:"blob"}).then(t=>{var e,o,n,i;this.countDonePdf++;let s=this.commonService.createFileNameExportFile([null!==(o=null===(e=this.data.classroomObj)||void 0===e?void 0:e.name)&&void 0!==o?o:"",null!==(i=null===(n=this.data.homeworkObj)||void 0===n?void 0:n.name)&&void 0!==i?i:""])+"_homework_result.zip";Object(ko.saveAs)(t,s),console.log("after save"),this.isProcessingPdf=!1,this.cdr.detectChanges()},t=>{console.log(t)})}zipAll(t){var e,o,n,i,s,c;return Object(gt.a)(this,void 0,void 0,function*(){this.isProcessingPdf=!0,this.countDonePdf=0,this.curExportArr=t,this.myZip=new _o;for(const l of t){const d=yield this.answerService.apiAnswerGetObjGet(this.homeworkHashId,null===(e=l.answer)||void 0===e?void 0:e.id).toPromise();if(1==d.success){this.zipdataService.convertSubmittedAnswersObj(null===(o=d.data)||void 0===o?void 0:o.answerObj);var a=this.castObj(null===(n=d.data)||void 0===n?void 0:n.answerObj);this.curAnswer=null!=a?a:{},this.curAnswer.fullName=null!==(s=this.commonService.convertVietnameseToEnglish(null!==(i=l.fullName)&&void 0!==i?i:""))&&void 0!==s?s:"",this.curAnswer.result&&(this.curAnswer.resultParse=yield this.exportPdfService.processUserResult(this.curAnswer.result),console.log("%cMyProject%cline:97%cthis.curAnswer.resultParse","color:#fff;background:#ee6f57;padding:3px;border-radius:2px","color:#fff;background:#1f3c88;padding:3px;border-radius:2px","color:#fff;background:rgb(118, 77, 57);padding:3px;border-radius:2px",this.curAnswer.resultParse));try{yield this.exportPdfService.asyncTimeout(3e3);const t=yield this.newPdfExportService.homeworkToPdf();this.myZip.file(`results/${this.commonService.convertVietnameseToEnglish(this.curAnswer.fullName)}_${this.curAnswer.id}.pdf`,t)}catch(r){console.log(r)}this.countDonePdf<t.length-1&&this.countDonePdf++}else this.errorStatusObj(null!==(c=d.message)&&void 0!==c?c:"",!0)}this.finalSaveAll()})}getData(){this.class_id&&this.homework_id?this.answerService.apiAnswerGetStudentsHomeworkGet(parseInt(this.homework_id,10),this.homeworkHashId,parseInt(this.class_id,10)).subscribe(t=>{var e,o,n,i,s,c,a,r;1==t.success?(this.zipdataService.convertStudentsHomeworkObj(null===(e=t.data)||void 0===e?void 0:e.studentObjs),this.data=null!==(o=t.data)&&void 0!==o?o:{},this.submitedStudents=t.data&&Array.isArray(null===(n=t.data)||void 0===n?void 0:n.studentObjs)?null===(i=t.data)||void 0===i?void 0:i.studentObjs.filter(t=>t.confirmedAt):new Array,this.submitedStudents.length>0?this.answerService.apiAnswerGetObjGet(this.homeworkHashId,null!==(a=null===(c=null===(s=this.submitedStudents[0])||void 0===s?void 0:s.answer)||void 0===c?void 0:c.id)&&void 0!==a?a:0).subscribe(e=>{var o,n,i,s;if(1==e.success){this.zipdataService.convertSubmittedAnswersObj(null===(o=e.data)||void 0===o?void 0:o.answerObj);var c=this.castObj(null===(n=e.data)||void 0===n?void 0:n.answerObj);this.curAnswer=null!=c?c:{},this.curAnswer.fullName=this.submitedStudents[0].fullName,this.curAnswer.result&&(this.curAnswer.resultParse=this.commonService.parseJson(null!==(i=this.curAnswer.result)&&void 0!==i?i:"")),this.successStatusObj()}else this.errorStatusObj(null!==(s=t.message)&&void 0!==s?s:"",!0)}):this.stopStatusObj()):this.errorStatusObj(null!==(r=t.message)&&void 0!==r?r:"",!0)}):(this.stopStatusObj(),this.showErrorSnack("Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin l\u1edbp h\u1ecdc, b\xe0i t\u1eadp"))}ngOnInit(){var t;this.homeworkHashId=null!==(t=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==t?t:"",this.isSupportedBrowswer=this.exportPdfService.isSupportedBrowswer(),this.isSupportedBrowswer&&(this.initStatusObj(),this.commonService.loadScriptPromises([{source:"https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/js/html2pdf.bundle.js?v=28092021",name:"html2pdf.bundle.js"}]).then(()=>{this.commonService.translateMetaData({title:"Xu\u1ea5t PDF b\xe0i t\u1eadp",description:"Xu\u1ea5t pdf b\xe0i t\u1eadp",image:"lang_cms_test_image"}),this.getData()})),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(p.h),p.Pb(_.a),p.Pb(s.b),p.Pb(f.a),p.Pb(c.a),p.Pb(vo.a),p.Pb(wo.a),p.Pb(v.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-export-homework"]],features:[p.Ab],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notBrowserSupport",""],["doneLoading",""],["id","test_review_container","class","container-fluid mt-2",4,"ngIf","ngIfElse"],["noSubmit",""],["id","test_review_container",1,"container-fluid","mt-2"],["id","tabRowExam",1,"row",2,"margin-bottom","10px"],["id","test_review_area",1,"col"],["id","col_examContent_wrap",2,"width","1100px!important","margin","0 auto"],["id","mbTestContent"],[1,"text-center"],[1,"buttons-area","mb-3","text-center"],[1,"btn","btn-info",3,"click"],["class","buttons-area mb-3 text-center",4,"ngIf"],["id","multipleChoiceWrap",1,"exportPdfModeIndex",2,"padding","30px"],["id","multipleChoiceWrapHeader"],["id","mainTitle",1,"mb-1","text-center"],["id","detailInfo",1,"d-flex","justify-content-between"],["id","colLeftInfo"],[1,"mb-0"],["id","colRightInfo"],["id","teacherMessage",1,"pt-5"],[1,"contentNote"],["class","box-point",3,"ngClass","hidden",4,"ngIf"],[1,"box-msg"],["class","note",3,"ngStyle","innerHtml",4,"ngIf"],[1,"cap"],[3,"title","result"],["style","color: darkgrey;","class","spinner-border spinner-border-sm","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","darkgrey"],[2,"color","green","vertical-align","bottom"],[1,"box-point",3,"ngClass","hidden"],[1,"point",3,"ngStyle"],[3,"mark"],[1,"note",3,"ngStyle","innerHtml"],[2,"padding","50px"],[1,"alert","alert-info"],[1,"p-5","text-center","alert","alert-danger"]],template:function(t,e){if(1&t&&(p.Rc(0,Ro,4,2,"ng-container",0),p.Rc(1,Ao,3,3,"ng-template",null,1,p.Sc)),2&t){const t=p.Ac(2);p.nc("ngIf",e.isSupportedBrowswer)("ngIfElse",t)}},directives:[n.m,Ut.a,xo.a,jt.a,n.k,n.n,Oo.a],pipes:[Rt.q],styles:["#test_review_container[_ngcontent-%COMP%]{background:#ecf0f5;flex:auto;padding-top:15px}#tester-info[_ngcontent-%COMP%]{width:300px;padding:15px;background-color:#fff;margin:0 auto;position:sticky;top:10px;max-height:calc(100vh - 10px);display:flex;flex-direction:column;max-width:100%;border-radius:3px;border:1px solid #f1f1f1}#short_cut_mobile[_ngcontent-%COMP%]{display:none}#fullPoint[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #f1f1f1;background-color:#fafafa;padding:10px;margin-top:15px;align-items:center}#fullPoint[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{font-weight:500;font-size:130%}.tested-times[_ngcontent-%COMP%]{margin-top:15px}.tested-times[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{border:1px solid #f1f1f1;background-color:#fafafa;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;border:1px solid #f1f1f1;border-top:none;margin-bottom:0;background-color:#fff;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select[_ngcontent-%COMP%]{font-weight:500}.tested-times[_ngcontent-%COMP%]:last-child{flex:auto;overflow:auto}#multipleChoiceWrapHeader[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}.exportPdfModeIndex[_ngcontent-%COMP%]{background-color:#fff;padding-top:30px;padding-bottom:30px}#unsupportFallback[_ngcontent-%COMP%]{width:750px;height:350px;border:1px solid grey;border-radius:3px;display:flex;align-items:center;justify-content:center}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]{display:flex}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{position:absolute;top:-30px;font-family:font_chu_dep;font-weight:700;font-size:25px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-point[_ngcontent-%COMP%]{width:200px;min-width:200px;min-height:200px;border:2px solid #333;border-right:none;position:relative;display:flex;align-items:center;justify-content:center;padding:15px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-point[_ngcontent-%COMP%]   span.point[_ngcontent-%COMP%]{color:red;font-size:60px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]{border:2px solid #333;padding:15px;position:relative;flex:auto;min-height:200px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{width:100%;height:100%;border:none;color:red;font-size:24px;line-height:1.5}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{left:300px}.fading_layer[_ngcontent-%COMP%]{position:absolute;z-index:9;background-color:hsla(0,0%,100%,.8901960784313725);width:100%;height:100%;top:0;left:0;padding-top:200px;text-align:center;color:#a9a9a9;font-size:16px}#filterWrap[_ngcontent-%COMP%]{position:absolute;right:0;top:-4px;z-index:2}.viewRight[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%], .viewWrong[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%]{display:none}#col_examContent_wrap[_ngcontent-%COMP%]{width:1100px;margin:0 auto}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{position:fixed;right:5px;top:50%;z-index:3;font-size:35px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:hsla(0,0%,78.8%,.47843137254901963);border-radius:50%;color:#fff;margin-top:-20px}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon.prev_icon[_ngcontent-%COMP%]{left:5px}#mbTestContent[_ngcontent-%COMP%]{position:relative}#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:none;position:absolute;top:12px;color:#646464;z-index:100}#test_review_container.toggleNavInfo[_ngcontent-%COMP%]   #col_std_info[_ngcontent-%COMP%]{left:0}#close_button[_ngcontent-%COMP%]{color:red;position:absolute;right:5px;top:5px}@media screen and (max-width:320px){#tester-info[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width:480px){#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:inline-block}#test_review_container[_ngcontent-%COMP%]{padding-top:0}#col_std_info[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;z-index:99999;background:rgba(0,0,0,.611764705882353);bottom:0;padding:0;transition:all .5s}#short_cut_mobile[_ngcontent-%COMP%]{display:flex;font-weight:500;font-size:18px;justify-content:space-between;color:#4a4a4a}#header-app-component[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{padding-left:0!important}#tester-info[_ngcontent-%COMP%]{margin:0;position:relative;height:100%;max-height:unset;top:0}#multipleChoiceWrap[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px;padding-top:5px}}.buttons-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none!important}@media screen and (max-width:1600px){#col_examContent_wrap[_ngcontent-%COMP%]{width:100%}}"]}),t})(),Fo=(()=>{class t extends g.a{constructor(t,e,o,n){super(e),this.dialogRef=t,this.commonService=e,this.fb=o,this.data=n,this.form=new i.k({}),this.isSelectAll=new i.h(!1)}get exportsFormArray(){return this.form.controls.exports}get countSelected(){return this.exportsFormArray.value.filter(t=>!0===t).length}selectAll(){const t=[];this.data.resultsArr.forEach(()=>{t.push(this.isSelectAll.value)}),this.form.controls.exports.setValue(t)}ngOnInit(){this.form=this.fb.group({exports:new i.e([],Lo(1))}),this.data.resultsArr.forEach(()=>{this.exportsFormArray.push(new i.h(!1))}),super.ngOnInit()}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(s.g),p.Pb(f.a),p.Pb(i.g),p.Pb(s.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["what-export-dialog"]],features:[p.Ab],decls:23,vars:26,consts:[[1,"text-center","mb-2"],[1,"h4"],[1,"clickable","d-flex","align-items-center",2,"font-weight","500"],["color","primary",1,"example-margin",3,"formControl","change"],["mat-dialog-content","",1,"mt-3"],[3,"formGroup"],["formArrayName","exports","ngFor","",3,"ngForOf"],[1,"text-right"],["mat-raised-button","",1,"mr-2",3,"click"],["mat-raised-button","","color","warn",3,"disabled","mat-dialog-close"],["color","primary",1,"mr-2","mb-2",3,"checked","formControlName"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"span",1),p.Tc(2),p.hc(3,"mytranslate"),p.Ub(),p.Ub(),p.Vb(4,"p"),p.Vb(5,"i"),p.Tc(6),p.hc(7,"mytranslate"),p.hc(8,"mytranslate"),p.Ub(),p.Ub(),p.Vb(9,"span",2),p.Vb(10,"mat-checkbox",3),p.cc("change",function(){return e.selectAll()}),p.Tc(11),p.hc(12,"mytranslate"),p.Ub(),p.Ub(),p.Vb(13,"div",4),p.Vb(14,"form",5),p.Rc(15,No,2,4,"ng-template",6),p.Ub(),p.Ub(),p.Vb(16,"div",7),p.Vb(17,"button",8),p.cc("click",function(){return e.onNoClick()}),p.Tc(18),p.hc(19,"mytranslate"),p.Ub(),p.Vb(20,"button",9),p.Tc(21),p.hc(22,"mytranslate"),p.Ub(),p.Ub()),2&t&&(p.Db(2),p.Vc(" ",p.ic(3,12,"lang_homework_export_homework_select_students_export_pdf"),"!"),p.Db(4),p.Xc("*** ",p.ic(7,14,"lang_homework_export_homework_tutorial")," (",p.ic(8,16,"lang_homework_export_homework_choose"),": ",e.countSelected,")"),p.Db(4),p.nc("formControl",e.isSelectAll),p.Db(1),p.Uc(e.isSelectAll.value?"lang_homework_export_homework_clear_select_all":p.ic(12,18,"lang_homework_export_homework_select_all")),p.Db(3),p.nc("formGroup",e.form),p.Db(1),p.nc("ngForOf",e.exportsFormArray.controls),p.Db(3),p.Uc(p.ic(19,20,"lang_buttom_cancel_clear")),p.Db(2),p.nc("disabled",!e.form.valid)("mat-dialog-close",p.tc(24,Eo,e.exportsFormArray.value)),p.Db(1),p.Uc(p.ic(22,22,"lang_buttom_agree")))},directives:[Pt.a,i.r,i.i,s.e,i.B,i.s,i.l,i.f,n.l,Dt.b,s.d,i.j],pipes:[Rt.q],encapsulation:2}),t})();function Lo(t=1){return e=>e.controls.map(t=>t.value).reduce((t,e)=>e?t+e:t,0)>=t?null:{required:!0}}var zo=o("EUZL"),Bo=o("k9IB");function Wo(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",14),p.Vb(1,"azt-home-work-file",15),p.cc("redirectId",function(o){p.Ec(t);const n=e.$implicit,i=p.gc(3);return i.redirectHomework(o,"share"!=i.classroomId?i.classroomId:n.classroomId?n.classroomId.toString():"0",n.hashId?n.hashId:"")}),p.Ub(),p.Ub()}if(2&t){const t=e.$implicit,o=p.gc(3);p.Db(1),p.nc("classId","share"!=o.classroomId?o.classroomId:null==t.classroomId?null:t.classroomId.toString())("name",t.name?t.name:"")("dateCreated",t.createdAt)("deadLine",t.deadline)("totalTakeTest",t.count?t.count:0)("totalStudent",t.countStudents?t.countStudents:0)("homeworkId",t.id?t.id:0)("isNew",t.isNew?t.isNew:0)("hashId",t.hashId?t.hashId:"")("className","share"==o.classroomId&&t.className?t.className:"")("backLink",o.backLink)}}function Go(t,e){if(1&t&&(p.Vb(0,"div"),p.Vb(1,"div",12),p.Rc(2,Wo,2,11,"div",13),p.Ub(),p.Ub()),2&t){const t=p.gc(2);p.Db(2),p.nc("ngForOf",t.homeworkObjs)}}function Jo(t,e){if(1&t&&(p.Vb(0,"div"),p.Vb(1,"div",16),p.Vb(2,"div",17),p.Vb(3,"p",18),p.Tc(4),p.hc(5,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&t){const t=p.gc(2);p.Db(4),p.Uc(t.checkDataHomeworkObjsSearch?p.ic(5,1,"lang_homework_homework_list_not_found"):"lang_homework_homework_list_not_assigned")}}function Qo(t,e){1&t&&p.Qb(0,"div",19)}function qo(t,e){if(1&t){const t=p.Wb();p.Tb(0),p.Vb(1,"button",20),p.cc("click",function(){return p.Ec(t),p.gc(2).seeMore()}),p.hc(2,"mytranslate"),p.Vb(3,"mat-icon"),p.Tc(4,"keyboard_arrow_down"),p.Ub(),p.Ub(),p.Sb()}if(2&t){const t=p.gc(2);p.Db(1),p.oc("matTooltip",p.ic(2,2,"lang_homework_homework_list_see_more")),p.nc("disabled",!t.nextPage)}}function $o(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",2),p.Vb(1,"div",3),p.Vb(2,"div",4),p.Vb(3,"div",5),p.Vb(4,"div",6),p.Vb(5,"input",7),p.cc("change",function(){return p.Ec(t),p.gc().changeValueSearch()})("keyup.enter",function(){return p.Ec(t),p.gc().changeValueSearch()}),p.hc(6,"mytranslate"),p.Ub(),p.Vb(7,"mat-icon",8),p.cc("click",function(){return p.Ec(t),p.gc().changeValueSearch()}),p.Tc(8,"search"),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Rc(9,Go,3,1,"div",9),p.Rc(10,Jo,6,3,"div",9),p.Vb(11,"div",10),p.Rc(12,Qo,1,0,"div",11),p.Rc(13,qo,5,4,"ng-container",9),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=p.gc();p.Db(5),p.oc("placeholder",p.ic(6,6,"lang_homework_homework_list_search")),p.nc("formControl",t.searchText),p.Db(4),p.nc("ngIf",t.homeworkObjs.length>0),p.Db(1),p.nc("ngIf",0==t.homeworkObjs.length&&!t.loadingMore),p.Db(2),p.nc("ngIf",!0===t.loadingMore),p.Db(1),p.nc("ngIf",!1===t.loadingMore&&0==t.checkDataHomeworkObjsSearch)}}let Yo=(()=>{class t extends g.a{constructor(t,e,o,n,s,c,a){super(e),this.activeRoute=t,this.commonService=e,this.homeworkService=o,this.classroomService=n,this.zipdataService=s,this.timeService=c,this.sortService=a,this.classroomId="0",this.menuObjs=[],this.classroomObj={},this.rawHomeworkObjs=[],this.homeworkObjs=[],this.checkNew=!1,this.nextPage="",this.ParamNextPage="",this.checkDataHomeworkObjsSearch=!1,this.loadingMore=!1,this.searchText=new i.h(""),this.backLink=""}changeValueSearch(){if(""!=this.searchText.value){this.checkDataHomeworkObjsSearch=!0;let t=this.commonService.searchArray(this.rawHomeworkObjs,this.searchText.value);this.homeworkObjs=Array.isArray(t)?t:[]}else this.homeworkObjs=this.rawHomeworkObjs}getData(){this.initStatusObj(),this.loadingMore=!0,this.subscriptions.add(this.homeworkService.apiHomeworkGetObjsAndPermissionsByClassroomGet(this.classroomId.toString(),this.ParamNextPage).subscribe(t=>{var e,o,n,i,s,c,a,r,l;1==t.success?(this.nextPage=null!==(o=null===(e=t.data)||void 0===e?void 0:e.nextPage)&&void 0!==o?o:"",0==(null===(i=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.homeworkObjs)||void 0===i?void 0:i.length)&&this.nextPage?this.seeMore():(this.classroomObj=null!==(c=null===(s=t.data)||void 0===s?void 0:s.classroomObj)&&void 0!==c?c:{},this.rawHomeworkObjs=this.rawHomeworkObjs.concat(null!==(r=null===(a=t.data)||void 0===a?void 0:a.homeworkObjs)&&void 0!==r?r:new Array),this.homeworkObjs=this.rawHomeworkObjs,"share"!=this.classroomId&&(this.menuObjs=[{code:"logPoidClass",name:"Xu\u1ea5t b\u1ea3ng \u0111i\u1ec3m l\u1edbp h\u1ecdc"}]),this.successStatusObj(),this.loadingMore=!1)):(this.errorStatusObj(null!==(l=t.message)&&void 0!==l?l:""),this.showErrorSnack("L\u1ed7i: kh\xf4ng load \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u l\u1edbp h\u1ecdc"),this.loadingMore=!1)}))}seeMore(){this.ParamNextPage=this.nextPage,this.getData()}redirectHomework(t,e,o){this.commonService.myNavigation("/admin/homework/score-list/"+e+"/"+t+"/"+o)}changePermission(){this.getData()}callbackMenuEvent(t){if("logPoidClass"==t){var e=["STT","H\u1ecd v\xe0 t\xean","M\xe3 h\u1ecdc sinh","Gi\u1edbi t\xednh","Ng\xe0y sinh"];this.subscriptions.add(this.classroomService.apiClassroomExportDataGet(Number(this.classroomId)).subscribe(t=>{var o,n,i,s;if(1==t.success){let s=[],r=[],l=this.sortService.sortFirstNameStudents(null!==(n=null===(o=t.data)||void 0===o?void 0:o.objs)&&void 0!==n?n:[]),d=0;l.forEach(t=>{var o;d+=1;var n={},i={};null===(o=t.dataHomework)||void 0===o||o.forEach(t=>{for(var o,s,c,a=this.timeService.getFormatDate(null!==(o=t.createdAt)&&void 0!==o?o:"")+` (${t.name})`,r=1;n[""+a];)r++,a=`${this.timeService.getFormatDate(null!==(s=t.createdAt)&&void 0!==s?s:"")} (${t.name}) (${r})`;switch(t.point){case 1e3:n[""+a]="\u0110\u1ea1t";break;case 1001:n[""+a]="Ch\u01b0a \u0110\u1ea1t";break;case 2e3:n[""+a]="Ho\xe0n Th\xe0nh";break;case 2001:n[""+a]="Ch\u01b0a Ho\xe0n Th\xe0nh";break;case 3e3:n[""+a]="Ho\xe0n Th\xe0nh T\u1ed1t";break;default:n[""+a]=""+t.point}let l=this.commonService.parseJson(this.zipdataService.decodeContentGzip(null!==(c=t.result)&&void 0!==c?c:""));i[""+a]=null==l?"":l.comment,1===d&&e.push(a)}),s.push(Object.assign({STT:d,"H\u1ecd v\xe0 t\xean":t.fullname,"M\xe3 h\u1ecdc sinh":t.code,"Gi\u1edbi t\xednh":t.gender,"Ng\xe0y sinh":null!=t.birthday?this.timeService.getFormatDate(t.birthday):""},n)),r.push(Object.assign({STT:d,"H\u1ecd v\xe0 t\xean":t.fullname,"M\xe3 h\u1ecdc sinh":t.code,"Gi\u1edbi t\xednh":t.gender,"Ng\xe0y sinh":null!=t.birthday?this.timeService.getFormatDate(t.birthday):""},i))});let b=this.commonService.createFileNameExportFile(["T\u1ed5ng k\u1ebft \u0111i\u1ec3m L\u1edbp",null!==(i=this.classroomObj.name)&&void 0!==i?i:""]);var c=zo.utils.aoa_to_sheet([["Danh s\xe1ch \u0111i\u1ec3m - "+this.classroomObj.name],e]);zo.utils.sheet_add_json(c,s,{origin:-1,header:e,skipHeader:!0});var a=zo.utils.aoa_to_sheet([["Danh s\xe1ch nh\u1eadn x\xe9t - "+this.classroomObj.name],e]);zo.utils.sheet_add_json(a,r,{origin:-1,header:e,skipHeader:!0});const h=zo.write({Sheets:{"B\u1ea3ng \u0111i\u1ec3m":c,"Nh\u1eadn x\xe9t":a},SheetNames:["B\u1ea3ng \u0111i\u1ec3m","Nh\u1eadn x\xe9t"]},{bookType:"xlsx",type:"array"});let m=".xlsx";const u=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});ko.saveAs(u,b+m)}else this.errorStatusObj(null!==(s=t.message)&&void 0!==s?s:"",!0)}))}}ngOnInit(){var t;this.ParamNextPage=null!==(t=this.commonService.getMyQueryParam("nextPage"))&&void 0!==t?t:"",Object(m.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var t;this.classroomId=null!==(t=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==t?t:"0",this.backLink="/admin/homework/homework-list/"+this.classroomId,this.getData()}),this.commonService.translateMetaData({title:"lang_cms_homework_list_exercise_title",description:"lang_cms_homework_list_exercise_description",image:"lang_cms_test_image"}),this.commonService.gaEvent("teacher_homework_list"),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(c.a),p.Pb(f.a),p.Pb(u.J),p.Pb(u.g),p.Pb(v.a),p.Pb(Bo.a),p.Pb(w.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["list-homework"]],features:[p.Ab],decls:2,vars:4,consts:[[3,"menu_objs","headerTitle","back_link","MenuEvent"],["class","mb-2 mt-3 pb-80","style","max-width: 1400px; margin: auto;",4,"ngIf"],[1,"mb-2","mt-3","pb-80",2,"max-width","1400px","margin","auto"],[1,"header-box","mt-3","pl-2","pr-2"],[1,"row"],[1,"col-md-12"],[1,"search-block"],["type","text",1,"search-input",3,"formControl","placeholder","change","keyup.enter"],[1,"search-icon",2,"padding-top","2px",3,"click"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["class","spinner-border text-secondary my-3","role","status",4,"ngIf"],[1,"row",2,"min-height","80px"],["class","col-md-6 col-xl-4 col-12",4,"ngFor","ngForOf"],[1,"col-md-6","col-xl-4","col-12"],[1,"relative",3,"classId","name","dateCreated","deadLine","totalTakeTest","totalStudent","homeworkId","isNew","hashId","className","backLink","redirectId"],[1,"row","text-center","py-5"],[1,"col-12"],[1,"p-0","m-0"],["role","status",1,"spinner-border","text-secondary","my-3"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"]],template:function(t,e){1&t&&(p.Vb(0,"header-backend",0),p.cc("MenuEvent",function(t){return e.callbackMenuEvent(t)}),p.Ub(),p.Rc(1,$o,14,8,"div",1)),2&t&&(p.nc("menu_objs",e.menuObjs)("headerTitle",e.classroomObj.name?"Danh s\xe1ch b\xe0i t\u1eadp - "+e.classroomObj.name:"")("back_link","/admin/homework/classes/1"),p.Db(1),p.nc("ngIf",e.classroomObj))},directives:[Mt.a,n.m,i.d,i.r,i.i,jt.a,n.l,fe,Dt.b,Tt.a],pipes:[Rt.q],styles:[".header-box[_ngcontent-%COMP%]{border:1px solid #dfdfdf;background-color:#f3f3f3;border-radius:5px;margin:0 15px}.page-item[_ngcontent-%COMP%]{margin:0 3px}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.btn-pag[_ngcontent-%COMP%]{padding:5px 8px}.btn-add-teacher[_ngcontent-%COMP%]{border:1px solid #ececec}.relative[_ngcontent-%COMP%]{position:relative}.absolute[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.content-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}.break[_ngcontent-%COMP%]{flex-basis:100%;width:0}.block-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:120px;width:100%;font-weight:700}.search-block[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:5px;display:flex;justify-content:flex-end;position:relative}.search-input[_ngcontent-%COMP%]{border:1px solid hsla(0,0%,91.8%,.8901960784313725);border-radius:3px;padding:2px 30px 2px 5px;font-size:12px}.search-input[_ngcontent-%COMP%]:focus{border:1px solid #0eafc0;outline:none}.search-icon[_ngcontent-%COMP%]{position:absolute;transition:all .5s;height:100%;border-left:none;cursor:pointer!important;color:#0eafc0}.search-icon[_ngcontent-%COMP%]:hover{background:#d7d7d7;border-radius:3px;cursor:pointer}.btn-all-add[_ngcontent-%COMP%]{background:transparent;margin:15px}"]}),t})(),Ko=(()=>{class t extends g.a{constructor(t,e,o,n,s,c){super(s),this.dialogRef=t,this.answerService=e,this.activeRoute=o,this.fb=n,this.commonService=s,this.data=c,this.subscriptions=new h.a,this.form=new i.k({}),this.result=!1,this.homeworkHashId=""}getData(){this.initStatusObj(),this.data.status?this.successStatusObj():this.stopStatusObj()}cleanResult(){var t=this.commonService.getFormObj(this.form),e={homeworkHashId:this.data.itemHomework.hashId,id:this.data.ans_id,resendNote:t.reason};this.initStatusObj(),this.subscriptions.add(this.answerService.apiAnswerResendAnswerPost(e).subscribe(t=>{var e;1==t.success?(this.showSuccessSnack("G\u1eedi y\xeau c\u1ea7u th\xe0nh c\xf4ng"),this.result=!0,this.onSubmit({result:this.result,id:this.data.ans_id,itemHomework:this.data.itemHomework}),this.data.redirect&&this.commonService.myNavigation("/admin/homework/score-list/"+this.data.classID+"/"+this.data.itemHomework.id+"/"+this.homeworkHashId),this.successStatusObj()):(this.showErrorSnack("G\u1eedi y\xeau c\u1ea7u kh\xf4ng th\xe0nh c\xf4ng"),this.result=!1,this.onSubmit({result:this.result,id:this.data.ans_id,itemHomework:this.data.itemHomework}),this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:""))}))}ngOnInit(){var t;this.homeworkHashId=null!==(t=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==t?t:"",this.getData(),this.form=this.fb.group({reason:new i.h("",i.z.required)}),super.ngOnInit()}onNoClick(){this.dialogRef.close()}onSubmit(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(s.g),p.Pb(u.a),p.Pb(c.a),p.Pb(i.g),p.Pb(f.a),p.Pb(s.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["clean-result-dialog"]],features:[p.Ab],decls:40,vars:32,consts:[[3,"hidden"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["enctype","multipart/form-data",1,"form-horizontal","text-center",3,"formGroup"],[1,"text-center"],[1,"h5"],[1,"text-left",2,"border","1px dashed red","padding","10px 5px","border-radius","5px"],[1,"h5","text-danger","text-center"],[1,"h5","mb-1"],[1,"text-danger"],[1,"h5","text-danger","mt-1","mb-1"],["type","text","id","reason","formControlName","reason",1,"form-control"],["mat-dialog-actions","",1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",2,"margin-left","15px",3,"click"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"div",2),p.Vb(3,"span",3),p.Tc(4,"..."),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Vb(5,"div",0),p.Vb(6,"form",4),p.Vb(7,"div",5),p.Vb(8,"p",6),p.Tc(9),p.hc(10,"mytranslate"),p.Ub(),p.Ub(),p.Vb(11,"div",7),p.Vb(12,"p",8),p.Tc(13),p.hc(14,"mytranslate"),p.Ub(),p.Vb(15,"p",9),p.Tc(16),p.hc(17,"mytranslate"),p.Vb(18,"span",10),p.Tc(19),p.Ub(),p.Tc(20),p.hc(21,"mytranslate"),p.Vb(22,"span",10),p.Tc(23),p.hc(24,"date"),p.Ub(),p.Tc(25),p.hc(26,"mytranslate"),p.Ub(),p.Qb(27,"hr"),p.Vb(28,"p",11),p.Tc(29),p.hc(30,"mytranslate"),p.Ub(),p.Qb(31,"input",12),p.Ub(),p.Ub(),p.Ub(),p.Vb(32,"div",13),p.Vb(33,"div",14),p.Vb(34,"button",15),p.cc("click",function(){return e.cleanResult()}),p.Tc(35),p.hc(36,"mytranslate"),p.Ub(),p.Ub(),p.Vb(37,"button",16),p.cc("click",function(){return e.onNoClick()}),p.Tc(38),p.hc(39,"mytranslate"),p.Ub(),p.Ub()),2&t&&(p.nc("hidden",!e.statusObj.loading),p.Db(5),p.nc("hidden",e.statusObj.loading),p.Db(1),p.nc("formGroup",e.form),p.Db(3),p.Uc(p.ic(10,13,"lang_homework_mark_exercise_utils_request_resubmit")),p.Db(4),p.Vc("(*) ",p.ic(14,15,"lang_homework_mark_exercise_utils_note"),":"),p.Db(3),p.Vc("",p.ic(17,17,"lang_homework_mark_exercise_utils_request")," "),p.Db(3),p.Vc(" ",e.data.name," "),p.Db(1),p.Vc(" ",p.ic(21,19,"lang_homework_mark_exercise_utils_in_homework"),"\xa0"),p.Db(3),p.Uc(p.jc(24,21,e.data.deadline?e.data.deadline:e.data.itemHomework.createdAt,"dd/MM/yyyy")),p.Db(2),p.Vc("\xa0",p.ic(26,24,"lang_homework_mark_exercise_utils_will_be_deleted"),"!"),p.Db(4),p.Uc(p.ic(30,26,"lang_homework_mark_exercise_utils_coment_request_resubmit")),p.Db(6),p.Vc(" ",p.ic(36,28,"lang_buttom_confirm")," "),p.Db(3),p.Uc(p.ic(39,30,"lang_buttom_cancel")))},directives:[i.B,i.s,i.l,i.d,i.r,i.j,s.c],pipes:[Rt.q,n.e],encapsulation:2}),t})(),Xo=(()=>{class t extends g.a{constructor(t,e,o,n){super(o),this.dialogRef=t,this.answerService=e,this.commonService=o,this.data=n,this.success=!1}ngOnInit(){this.success=this.data.status}checkNextAns(){this.answerService.apiAnswerGetNextObjByHomeworkGet(this.data.homeworkHashId).subscribe(t=>{var e,o;0!=t.success?(this.dialogRef.close(),this.commonService.myNavigationWithQueryString("/admin/homework/mark-exercise/"+(null===(o=null===(e=t.data)||void 0===e?void 0:e.obj)||void 0===o?void 0:o.id)+"/"+this.data.homeworkHashId,"?backto="+encodeURIComponent(this.data.backtoLink)),setTimeout(()=>{document.location.reload()},500)):(this.dialogRef.close(),this.commonService.myNavigation("/admin/homework/score-list/"+this.data.classID+"/"+this.data.homeWorkID+"/"+this.data.homeworkHashId))})}onNoClick(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(s.g),p.Pb(_.a),p.Pb(f.a),p.Pb(s.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["notice-dialog"]],features:[p.Ab],decls:16,vars:10,consts:[["mat-dialog-title","",1,"d-flex","align-items-center",2,"color","#6d6d6d"],[1,"mr-1",2,"color","green"],["mat-dialog-content",""],[2,"color","red","font-size","120%","font-weight","500"],[3,"mark"],[1,"d-flex","float-right","mt-3"],["id","ok","mat-raised-button","",3,"click"],["id","next","mat-raised-button","",1,"ml-2",2,"background-color","#2361ae","color","#fff",3,"click"]],template:function(t,e){1&t&&(p.Vb(0,"h2",0),p.Vb(1,"mat-icon",1),p.Tc(2,"check_circle"),p.Ub(),p.Tc(3),p.hc(4,"mytranslate"),p.Ub(),p.Vb(5,"div",2),p.Tc(6),p.hc(7,"mytranslate"),p.Vb(8,"span",3),p.Qb(9,"azt-check-mark",4),p.Ub(),p.Ub(),p.Vb(10,"div",5),p.Vb(11,"button",6),p.cc("click",function(){return e.onNoClick()}),p.Tc(12,"Ok"),p.Ub(),p.Vb(13,"button",7),p.cc("click",function(){return e.checkNextAns()}),p.Tc(14),p.hc(15,"mytranslate"),p.Ub(),p.Ub()),2&t&&(p.Db(3),p.Vc(" ",p.ic(4,4,"lang_homework_mark_exercise_utils_mark_success"),""),p.Db(3),p.Vc(" ",p.ic(7,6,"lang_homework_mark_exercise_utils_assignment_marking")," "),p.Db(3),p.nc("mark",e.data.score),p.Db(5),p.Uc(p.ic(15,8,"lang_homework_mark_exercise_utils_mark_continue")))},directives:[s.h,jt.a,s.e,Oo.a,Dt.b],pipes:[Rt.q],styles:["#ok[_ngcontent-%COMP%]:hover {background-color: rgb(231, 231, 231); } #next[_ngcontent-%COMP%]:hover{background-color: #1e579d!important}"]}),t})();var Zo=o("VxG0"),tn=o("qJLG"),en=o("lbRm"),on=o("STbY"),nn=o("IU+r");function sn(t,e){if(1&t&&(p.Vb(0,"button",13),p.hc(1,"mytranslate"),p.Vb(2,"mat-icon"),p.Tc(3,"history"),p.Ub(),p.Ub()),2&t){p.gc();const t=p.Ac(8);p.oc("matTooltip",p.ic(1,2,"lang_homework_mark_exercise_history_submit")),p.nc("matMenuTriggerFor",t)}}function cn(t,e){if(1&t){const t=p.Wb();p.Tb(0),p.Vb(1,"button",6),p.cc("click",function(){p.Ec(t);const o=e.$implicit;return p.gc().getDataHistory(o.id?o.id.toString():"")}),p.Vb(2,"span"),p.Tc(3),p.hc(4,"mytranslate"),p.hc(5,"date"),p.Ub(),p.Ub(),p.Sb()}if(2&t){const t=e.$implicit,o=e.index;p.Db(3),p.Xc("",p.ic(4,3,"lang_homework_mark_exercise_times")," ",o+1," - ",p.jc(5,5,t.createdAt,"dd/MM/yyyy HH:mm:ss"),"")}}function an(t,e){if(1&t&&(p.Vb(0,"span"),p.Qb(1,"azt-create-avatar",15),p.hc(2,"mytranslate"),p.Ub()),2&t){const t=p.gc(2);p.Db(1),p.qc("matTooltip","",p.ic(2,5,"lang_homework_mark_exercise_teacher_mark")," ",": "+t.markedByObj.fullName,""),p.nc("nameCreateAvatar",t.markedByObj.fullName)("size",25)("linkAvatar",t.markedByObj.avatar)}}function rn(t,e){if(1&t&&(p.Vb(0,"h4",14),p.Rc(1,an,3,7,"span",11),p.Tc(2),p.Ub()),2&t){const t=p.gc();p.Db(1),p.nc("ngIf",t.isMarked),p.Db(1),p.Wc(" ",t.studentObj.fullName,", ",t.classroomObj.name," ")}}function ln(t,e){1&t&&(p.Qb(0,"azt-loading-effect",16),p.hc(1,"mytranslate")),2&t&&p.nc("customText",p.ic(1,1,"lang_homework_mark_exercise_loading_data_mark"))}function dn(t,e){if(1&t&&(p.Vb(0,"div"),p.Vb(1,"div",17),p.Vb(2,"div",18),p.Vb(3,"div",19),p.Tc(4),p.hc(5,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&t){const t=p.gc();p.Db(4),p.Uc(p.ic(5,1,t.errorMessage))}}function bn(t,e){if(1&t&&(p.Vb(0,"div",20),p.Qb(1,"iframe",21),p.hc(2,"safe"),p.Ub()),2&t){const t=p.gc();p.Db(1),p.nc("src",p.ic(2,1,t.iframeSrc),p.Gc)}}let hn=(()=>{class t extends g.a{constructor(t,e,o,n,i,s,c,a,r,l){super(n),this.activeRoute=t,this.answerService=e,this.baseApiService=o,this.commonService=n,this.permissionService=i,this.dialog=s,this.cdnService=c,this.zipdataService=a,this.envService=r,this.apiUploadService=l,this.subscriptions=new h.a,this.result={},this.answerId=0,this.homeworkID="",this.historyId="",this.iframeSrc="",this.isMarked=!1,this.jsonData={},this.errorMessage="",this.files=[],this.classID="",this.homeworkObj={},this.studentName="",this.markedByObj={},this.studentObj={},this.classroomObj={},this.score=0,this.mnoteJsonData={},this.pagesCount=0,this.backtoLink="",this.hasSendDataToIframe=!1,this.hasLoadedData=!1,this.historyAnwerObjs=[],this.countLoad=1,this.homeworkHashId="",this.handleIframe=t=>{var e;"MNoteJson"==t.data.cmd&&(this.initStatusObj(),this.mnoteJsonData=t.data.data,this.uploadAll(null!==(e=this.mnoteJsonData.pages)&&void 0!==e?e:[],t.data.data.point)),"MNoteReSubmit"==t.data.cmd&&(console.log("listend res submit"),this.handleOpenReSubmit()),"MNoteLoadComplete"==t.data&&(this.hasLoadedData?(this.hasSendDataToIframe=!0,""==this.historyId?this.sendDataToIframe():this.sendDataToIframeHistory()):this.hasSendDataToIframe=!1)}}onPopState(t){this.goBack()}uploadDrawBase64ToCDN(t,e,o){let n=this.baseApiService.dataURItoBlob(t);this.apiUploadService.commonUploadForMarkResult(n,`essay_note_${e}_${this.answerId}.png`,"image/png",1e4).subscribe(t=>{var n,i;t.type!=ft.d.UploadProgress&&(1==t.success?((null===(n=this.mnoteJsonData.pages)||void 0===n?void 0:n[e])&&(this.mnoteJsonData.pages[e].draw=null===(i=t.data)||void 0===i?void 0:i.url),this.pagesCount--,0==this.pagesCount&&this.remark(this.answerId,o,this.mnoteJsonData)):(this.showErrorSnack("L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!"),this.stopStatusObj()))})}uploadAll(t,e){this.pagesCount=0;for(let o=0;o<t.length;o++)t[o].draw&&this.pagesCount++;if(0==this.pagesCount)this.remark(this.answerId,e,this.mnoteJsonData);else for(let o=0;o<t.length;o++)t[o].draw&&this.uploadDrawBase64ToCDN(t[o].draw,o,e)}reloadPage(){location.reload()}sendDataToIframe(){var t,e,o,n,i,s,c,a,r,l,d,b,h,m,u;const g=document.getElementById("mNote"),p=g?g.contentWindow:null;if(null!==p){let g=this.result.hasOwnProperty("answerObj")&&null!==(t=this.castObj(this.result.answerObj))&&void 0!==t?t:{};if(this.result.hasOwnProperty("answerObj")){let t=this.commonService.parseJson(null!==(e=g.result)&&void 0!==e?e:"");if(null!=t){let e=null!==(n=null===(o=t.pages)||void 0===o?void 0:o.length)&&void 0!==n?n:0;for(let o=0;o<e;o++)(null===(i=null==t?void 0:t.pages)||void 0===i?void 0:i[o].backgroundImage)&&(t.pages[o].backgroundImage=this.cdnService.getMyCdn(null!==(s=t.pages[o].backgroundImage)&&void 0!==s?s:"")),(null===(c=t.pages)||void 0===c?void 0:c[o].draw)&&(t.pages[o].draw=this.cdnService.getMyCdn(t.pages[o].draw));t=JSON.stringify(t),g.result=t}let r=this.commonService.parseJson(null!==(a=g.files)&&void 0!==a?a:"");if(null!=r){for(let t=0;t<r.length;t++)r[t].url&&(r[t].url=this.cdnService.getMyCdn(r[t].url)),r[t].thumb&&(r[t].thumb=this.cdnService.getMyCdn(r[t].thumb));r=JSON.stringify(r),g.files=r}}let f=this.result.hasOwnProperty("studentObj")?this.result.studentObj:{},k=this.result.hasOwnProperty("classroomObj")?this.result.classroomObj:{},_=this.result.hasOwnProperty("homeworkObj")?this.result.homeworkObj:{},v=this.commonService.parseJson(null!==(r=g.result)&&void 0!==r?r:"");if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let t=0;t<(null!==(d=null===(l=this.jsonData.pages)||void 0===l?void 0:l.length)&&void 0!==d?d:0);t++)(null===(b=this.jsonData.pages)||void 0===b?void 0:b[t].hasOwnProperty("backgroundImage"))&&(this.jsonData.pages[t].backgroundImage=this.cdnService.getMyCdn(null!==(h=this.jsonData.pages[t].backgroundImage)&&void 0!==h?h:"")),(null===(m=this.jsonData.pages)||void 0===m?void 0:m[t].hasOwnProperty("draw"))&&(this.jsonData.pages[t].draw=this.cdnService.getMyCdn(null!==(u=this.jsonData.pages[t].draw)&&void 0!==u?u:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="edit",this.jsonData.answer_obj=g,this.jsonData.student_obj=f,this.jsonData.classroom_obj=k,this.jsonData.homework_obj=_,v&&v.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=v.hideMark),p.postMessage(this.jsonData,"*");else{let t=[];this.files.forEach(e=>{t.push({backgroundImage:e.url})});let e={cmd:"initMNote",mode:"edit",pages:t,answer_obj:g,student_obj:f,classroom_obj:k,homework_obj:_};v&&v.hasOwnProperty("hideMark")&&(e.hideMark=v.hideMark),p.postMessage(e,"*")}}}sendDataToIframeHistory(){var t,e,o,n,i,s,c,a,r,l;const d=document.getElementById("mNote");d&&1==this.countLoad&&(d.src+="");const b=d?d.contentWindow:null;if(null!==b){let d=this.result.hasOwnProperty("answerObj")&&null!==(t=this.castObj(this.result.answerObj))&&void 0!==t?t:{};if(this.result.hasOwnProperty("answerObj")){let t=this.commonService.parseJson(null!==(e=d.result)&&void 0!==e?e:"");if(null!=t){for(let e=0;e<t.pages.length;e++)t.pages[e].backgroundImage&&(t.pages[e].backgroundImage=this.cdnService.getMyCdn(t.pages[e].backgroundImage)),t.pages[e].draw&&(t.pages[e].draw=this.cdnService.getMyCdn(t.pages[e].draw));t=JSON.stringify(t),d.result=t}let n=this.commonService.parseJson(null!==(o=d.files)&&void 0!==o?o:"");if(null!=n){for(let t=0;t<n.length;t++)n[t].url&&(n[t].url=this.cdnService.getMyCdn(n[t].url)),n[t].thumb&&(n[t].thumb=this.cdnService.getMyCdn(n[t].thumb));n=JSON.stringify(n),d.files=n}}let h=this.studentObj,m=this.classroomObj,u=this.homeworkObj,g=this.commonService.parseJson(null!==(n=d.result)&&void 0!==n?n:"");if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let t=0;t<(null!==(s=null===(i=this.jsonData.pages)||void 0===i?void 0:i.length)&&void 0!==s?s:0);t++)(null===(c=this.jsonData.pages)||void 0===c?void 0:c[t].hasOwnProperty("backgroundImage"))&&(this.jsonData.pages[t].backgroundImage=this.cdnService.getMyCdn(null!==(a=this.jsonData.pages[t].backgroundImage)&&void 0!==a?a:"")),(null===(r=this.jsonData.pages)||void 0===r?void 0:r[t].hasOwnProperty("draw"))&&(this.jsonData.pages[t].draw=this.cdnService.getMyCdn(null!==(l=this.jsonData.pages[t].draw)&&void 0!==l?l:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=d,this.jsonData.student_obj=h,this.jsonData.classroom_obj=m,this.jsonData.homework_obj=u,g&&g.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=g.hideMark),b.postMessage(this.jsonData,"*");else{let t=[];this.files.forEach(e=>{t.push({backgroundImage:e.url})});let e={cmd:"initMNote",mode:"view",pages:t,answer_obj:d,student_obj:h,classroom_obj:m,homework_obj:u};g&&g.hasOwnProperty("hideMark")&&(e.hideMark=g.hideMark),b.postMessage(e,"*")}}}goBack(){this.commonService.myNavigation(this.backtoLink?this.backtoLink:"/admin/homework/score-list/"+this.classID+"/"+this.homeworkID+"/"+this.homeworkObj.hashId);let t=document.body,e=document.getElementById("azota-app-html");null==e||e.classList.remove("overflow-hidden"),null==e||e.classList.remove("height-100"),t.classList.remove("overflow-hidden"),t.classList.remove("height-100")}getHistoryObjs(t){this.initStatusObj(),this.answerService.apiAnswerGetHistoryObjsGet(this.homeworkHashId,t).subscribe(t=>{var e,o,n;1==t.success?this.historyAnwerObjs=null!==(o=null===(e=t.data)||void 0===e?void 0:e.objs)&&void 0!==o?o:new Array:this.errorMessage=null!==(n=t.message)&&void 0!==n?n:"",this.stopStatusObj()})}getDataHistory(t){this.historyId=t,this.errorMessage="",this.countLoad=1,this.answerService.apiAnswerGetHistoryObjGet(this.homeworkHashId,this.answerId,parseInt(t,10)).subscribe(t=>{var e,o,n,i,s,c,a,r,l,d,b,h,m,u,g;if(1==t.success){if(this.zipdataService.convertSubmittedAnswersHistoryObj(null===(e=t.data)||void 0===e?void 0:e.answerObj),this.result=null!==(o=t.data)&&void 0!==o?o:{},this.markedByObj=null!==(i=null===(n=t.data)||void 0===n?void 0:n.markedByObj)&&void 0!==i?i:{},this.score=null!==(a=null===(c=null===(s=t.data)||void 0===s?void 0:s.answerObj)||void 0===c?void 0:c.point)&&void 0!==a?a:0,this.files=this.commonService.parseJson(null!==(d=null===(l=null===(r=t.data)||void 0===r?void 0:r.answerObj)||void 0===l?void 0:l.files)&&void 0!==d?d:""),null!=this.files)for(let t=0;t<this.files.length;t++)this.files[t].url=this.cdnService.getMyCdn(null!==(h=null===(b=this.files)||void 0===b?void 0:b[t].url)&&void 0!==h?h:""),this.files[t].thumb=this.cdnService.getMyCdn(null!==(u=null===(m=this.files)||void 0===m?void 0:m[t].thumb)&&void 0!==u?u:"");this.handleJsonData(),this.hasLoadedData=!0,1==this.countLoad&&(this.hasSendDataToIframe=!1),0==this.hasSendDataToIframe&&(this.hasSendDataToIframe=!0,this.sendDataToIframeHistory()),this.successStatusObj(),this.countLoad++}else this.errorMessage=null!==(g=t.message)&&void 0!==g?g:"",this.stopStatusObj()})}handleJsonData(){var t,e,o,n,i,s,c;this.jsonData={},(null===(e=null===(t=this.result)||void 0===t?void 0:t.answerObj)||void 0===e?void 0:e.confirmedAt)||(null===(n=null===(o=this.result)||void 0===o?void 0:o.answerObj)||void 0===n?void 0:n.result)||(this.isMarked=!1),(null===(i=this.result.answerObj)||void 0===i?void 0:i.confirmedAt)&&(this.isMarked=!0,this.jsonData=this.commonService.parseJson(null!==(c=null===(s=this.result.answerObj)||void 0===s?void 0:s.result)&&void 0!==c?c:""),null==this.jsonData&&(this.isMarked=!1))}getData(t){this.initStatusObj(),this.errorMessage="",this.answerId=t,this.answerService.apiAnswerGetObjGet(this.homeworkHashId,t).subscribe(t=>{var e,o,n,i,s,c,a,r,l,d,b,h,m,u,g,p,f,k,_,v,w;if(1==t.success)if(this.zipdataService.convertSubmittedAnswersObj(null===(e=t.data)||void 0===e?void 0:e.answerObj),(null===(o=t.data)||void 0===o?void 0:o.hasOwnProperty("studentObj"))&&null!=(null===(n=t.data)||void 0===n?void 0:n.studentObj)){if(this.result=t.data,this.markedByObj=null!==(i=t.data.markedByObj)&&void 0!==i?i:{},this.score=null!==(a=null===(c=null===(s=t.data)||void 0===s?void 0:s.answerObj)||void 0===c?void 0:c.point)&&void 0!==a?a:0,this.homeworkID=null!==(l=null===(r=t.data.homeworkObj)||void 0===r?void 0:r.id)&&void 0!==l?l:0,this.classID=null!==(b=null===(d=t.data.classroomObj)||void 0===d?void 0:d.id)&&void 0!==b?b:0,this.files=this.commonService.parseJson(null!==(m=null===(h=t.data.answerObj)||void 0===h?void 0:h.files)&&void 0!==m?m:""),this.studentObj=t.data.studentObj,this.classroomObj=null!==(u=t.data.classroomObj)&&void 0!==u?u:{},null!=this.files)for(let t=0;t<this.files.length;t++)this.files[t].url=this.cdnService.getMyCdn(null!==(p=null===(g=this.files)||void 0===g?void 0:g[t].url)&&void 0!==p?p:""),this.files[t].thumb=this.cdnService.getMyCdn(null!==(k=null===(f=this.files)||void 0===f?void 0:f[t].thumb)&&void 0!==k?k:"");this.homeworkObj=null!==(_=t.data.homeworkObj)&&void 0!==_?_:{},this.studentName=null!==(v=t.data.studentObj.fullName)&&void 0!==v?v:"",this.handleJsonData(),this.hasLoadedData=!0,0==this.hasSendDataToIframe&&(this.hasSendDataToIframe=!0,this.sendDataToIframe()),this.successStatusObj()}else this.errorMessage="lang_core_not_found_student",this.stopStatusObj();else this.errorMessage=null!==(w=t.message)&&void 0!==w?w:"",this.stopStatusObj()})}openDialog(t,e){this.dialog.open(Xo,{width:"280px",autoFocus:!1,data:{score:e,status:t,homeWorkID:this.homeworkID,homeworkHashId:this.homeworkHashId,classID:this.classID,backtoLink:this.backtoLink}}).afterClosed().subscribe(t=>{})}handleOpenReSubmit(){var t;this.openDialogReSubmit(!0,null!==(t=this.homeworkObj.deadline)&&void 0!==t?t:void 0,this.homeworkObj,this.answerId,this.studentName)}openDialogReSubmit(t,e,o,n,i){this.dialog.open(Ko,{width:"380px",panelClass:"cleanResultDialogBox",data:{status:t,deadline:e,itemHomework:o,ans_id:n,name:i,redirect:!0,classID:this.classID}}).afterClosed().subscribe(t=>{})}remark(t,e,o){let n=JSON.stringify({type:"homework",id:this.homeworkObj.id,user:this.homeworkObj.tenantId});if(""==this.historyId)if(1==this.permissionService.hasMarkPointPermission("homework",this.homeworkObj.permissionObj)){let i={id:t,comment:o.comment,hideMark:o.hideMark?1:0,point:e?parseFloat(e.replace(",",".")):0,result:this.zipdataService.convertContentGzip(JSON.stringify(o)),homeworkHashId:this.homeworkHashId};this.answerService.apiAnswerSaveResultPost(i,n).subscribe(t=>{var e,o;1==t.success?(this.openDialog(!0,null===(o=null===(e=t.data)||void 0===e?void 0:e.obj)||void 0===o?void 0:o.point),this.successStatusObj()):(this.stopStatusObj(),this.showErrorSnack("Ch\u1ea5m \u0111i\u1ec3m kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i"))})}else this.showErrorSnack("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n ch\u1ea5m b\xe0i t\u1eadp n\xe0y!"),this.stopStatusObj();else this.stopStatusObj(),this.showErrorSnack("B\u1ea1n kh\xf4ng th\u1ec3 ch\u1ea5m l\u1ea1i l\u1ecbch s\u1eed l\xe0m b\xe0i c\u1ee7a h\u1ecdc sinh")}ngOnInit(){var t,e,o,n;let i=document.body,s=document.getElementById("azota-app-html");null==s||s.classList.add("overflow-hidden"),null==s||s.classList.add("height-100"),i.classList.add("overflow-hidden"),i.classList.add("height-100"),this.iframeSrc=null!==(t=this.envService.getEnvValue("classliveUrl"))&&void 0!==t?t:"";const c=this.commonService.getMyParam(this.activeRoute,"id")?Number(this.commonService.getMyParam(this.activeRoute,"id")):0,a=null!==(e=this.commonService.getMyParam(this.activeRoute,"historyId"))&&void 0!==e?e:"";this.homeworkHashId=null!==(o=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==o?o:"",this.backtoLink=null!==(n=this.commonService.getMyQueryParam("backto"))&&void 0!==n?n:"",this.getData(c),this.getHistoryObjs(c),a&&this.getDataHistory(a),this.commonService.translateMetaData({title:"lang_cms_homework_mark_exercise_title",description:"lang_cms_homework_mark_exercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnDestroy(){this.goBack(),window.removeEventListener("message",this.handleIframe),super.ngDestroy()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(c.a),p.Pb(_.a),p.Pb(Ne.a),p.Pb(f.a),p.Pb(Zo.a),p.Pb(s.b),p.Pb(tn.a),p.Pb(v.a),p.Pb(en.a),p.Pb(yt.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-mark-exericse"]],hostBindings:function(t,e){1&t&&p.cc("popstate",function(t){return e.onPopState(t)},!1,p.Dc)},features:[p.Ab],decls:19,vars:13,consts:[["id","markContainer",1,"maxW1000"],["id","titleRow"],[1,"block-left"],["mat-button","",3,"title","click"],["mat-icon-button","",3,"matTooltip","matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngFor","ngForOf"],["class","studentInfo","style","padding-right: 10px; color: #fff",4,"ngIf"],[3,"customText",4,"ngIf"],[3,"hidden"],[4,"ngIf"],["class","card-box listPhotos",4,"ngIf"],["mat-icon-button","",3,"matTooltip","matMenuTriggerFor"],[1,"studentInfo",2,"padding-right","10px","color","#fff"],[2,"cursor","pointer",3,"matTooltip","nameCreateAvatar","size","linkAvatar"],[3,"customText"],[1,"row","justify-content-center","py-5"],[1,"col-12","text-center"],[1,"alert","alert-danger"],[1,"card-box","listPhotos"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Vb(1,"div",1),p.Vb(2,"div",2),p.Vb(3,"mat-icon",3),p.cc("click",function(){return e.goBack()}),p.hc(4,"mytranslate"),p.Tc(5,"keyboard_arrow_left"),p.Ub(),p.Rc(6,sn,4,4,"button",4),p.Vb(7,"mat-menu",null,5),p.Vb(9,"button",6),p.cc("click",function(){return e.reloadPage()}),p.Vb(10,"span"),p.Tc(11),p.hc(12,"mytranslate"),p.Ub(),p.Ub(),p.Rc(13,cn,6,8,"ng-container",7),p.Ub(),p.Ub(),p.Rc(14,rn,3,3,"h4",8),p.Ub(),p.Rc(15,ln,2,3,"azt-loading-effect",9),p.Vb(16,"div",10),p.Rc(17,dn,6,3,"div",11),p.Rc(18,bn,3,3,"div",12),p.Ub(),p.Ub()),2&t&&(p.Db(3),p.oc("title",p.ic(4,9,"lang_buttom_back")),p.Db(3),p.nc("ngIf",null!=e.historyAnwerObjs&&e.historyAnwerObjs.length>0),p.Db(5),p.Uc(p.ic(12,11,"lang_homework_mark_exercise_last")),p.Db(2),p.nc("ngForOf",e.historyAnwerObjs),p.Db(1),p.nc("ngIf",e.classroomObj),p.Db(1),p.nc("ngIf",e.statusObj.loading),p.Db(1),p.nc("hidden",e.statusObj.loading),p.Db(1),p.nc("ngIf",""!=e.errorMessage),p.Db(1),p.nc("ngIf",""==e.errorMessage))},directives:[jt.a,n.m,on.a,on.b,n.l,Dt.b,Tt.a,on.d,nn.a,Ut.a],pipes:[Rt.q,n.e,Rt.u],styles:["#markContainer[_ngcontent-%COMP%], #titleRow[_ngcontent-%COMP%]{position:relative}#titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;align-items:center;display:flex;justify-content:space-between;color:#fff}#titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}#titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}#titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}.block-left[_ngcontent-%COMP%]{display:flex;align-items:center}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width:1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),t})();const mn=[{path:"",component:(()=>{class t extends g.a{constructor(t){super(t),this.commonService=t}ngOnInit(){super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(f.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["homework-master-page"]],features:[p.Ab],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Qb(1,"router-outlet"),p.Ub())},directives:[c.m],styles:[""]}),t})(),canActivate:[ut.a],children:[{path:"",canActivateChild:[ut.a],children:[{path:"classes",component:Ie},{path:"classes/:page",component:Ie},{path:"homework-list/:id",component:Yo},{path:"add-new-homework/:id",component:de},{path:"add-new-homework/:id/:hash_id",component:de},{path:"score-list/:class_id/:id/:hash_id",component:mt},{path:"export-homework/:class_id/:id/:hash_id",component:Ho},{path:"mark-exercise/:id/:hash_id",component:hn},{path:"create-homework-success/:hash_ids",component:fo},{path:"content-store",component:ao},{path:"",component:Ie}]}]}];let un=(()=>{class t{}return t.\u0275mod=p.Nb({type:t}),t.\u0275inj=p.Mb({factory:function(e){return new(e||t)},imports:[[c.l.forChild(mn)],c.l,k.c]}),t})();function gn(t,e){1&t&&(p.Vb(0,"span"),p.Qb(1,"span",12),p.Tc(2,"\xa0"),p.Ub())}function pn(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",1),p.Vb(1,"div",2),p.Vb(2,"div",3),p.Vb(3,"p",4),p.Tc(4),p.hc(5,"mytranslate"),p.Ub(),p.Vb(6,"p",5),p.Vb(7,"span",6),p.Tc(8),p.Ub(),p.Ub(),p.Ub(),p.Vb(9,"div",7),p.Vb(10,"div",8),p.Vb(11,"button",9),p.cc("click",function(){return p.Ec(t),p.gc().btnCloseDialog()}),p.Tc(12),p.hc(13,"mytranslate"),p.Ub(),p.Ub(),p.Vb(14,"button",10),p.cc("click",function(){return p.Ec(t),p.gc().confirmDelete()}),p.Rc(15,gn,3,0,"span",11),p.Tc(16),p.hc(17,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=p.gc();p.Db(4),p.Vc(" ",p.ic(5,7,"lang_homework_utils_delete_homework_dialog_title"),":"),p.Db(3),p.oc("matTooltip",t.data.homeworkObj?t.data.homeworkObj.name:""),p.Db(1),p.Uc(t.data.homeworkObj?t.data.homeworkObj.name:""),p.Db(4),p.Vc(" ",p.ic(13,9,"lang_cms_common_close_btn")," "),p.Db(2),p.nc("disabled",t.statusObj.loading),p.Db(1),p.nc("ngIf",!0===t.statusObj.loading),p.Db(1),p.Vc(" ",p.ic(17,11,"lang_cms_common_confirm_btn")," ")}}let fn=(()=>{class t extends g.a{constructor(t,e){super(t),this.commonService=t,this.homeworkService=e,this.data={homeworkObj:{},isShow:!1},this.closeDialog=new p.o,this.subscriptions=new h.a,this.form=new i.k({}),this.type=0}confirmDelete(){var t;this.initStatusObj(),this.subscriptions.add(this.homeworkService.apiHomeworkDeleteObjGet(null===(t=this.data.homeworkObj)||void 0===t?void 0:t.hashId).subscribe(t=>{var e;1==t.success?(this.closeDialog.emit(!0),this.successStatusObj(),this.showSuccessSnack("X\xf3a b\xe0i t\u1eadp th\xe0nh c\xf4ng")):(this.btnCloseDialog(),this.errorStatusObj(null!==(e=t.message)&&void 0!==e?e:"",!0))}))}btnCloseDialog(){this.closeDialog.emit(!1)}ngOnInit(){super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(f.a),p.Pb(u.J))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-delete-homework"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[p.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[1,"h5","mb-1"],[1,"h5","text-danger",2,"padding-bottom","21px","border-bottom","1px solid #b2b4b7"],[1,"truncate",3,"matTooltip"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&p.Rc(0,pn,18,13,"div",0),2&t&&p.nc("ngIf",e.data.isShow)},directives:[n.m,Tt.a,Dt.b],pipes:[Rt.q],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),t})();const kn=["TABLE"],_n=function(){return{}};function vn(t,e){if(1&t&&(p.Vb(0,"tr"),p.Vb(1,"td",4),p.Tc(2),p.Ub(),p.Vb(3,"td",4),p.Tc(4),p.hc(5,"date"),p.Ub(),p.Vb(6,"td",4),p.Tc(7),p.Ub(),p.Vb(8,"td",4),p.Tc(9),p.hc(10,"mytranslate"),p.Ub(),p.Vb(11,"td",4),p.Tc(12),p.Ub(),p.Ub()),2&t){const t=e.$implicit,o=p.gc();p.Db(2),p.Uc(t.fullName),p.Db(2),p.Uc(p.jc(5,5,t.birthday,"dd/MM/yyyy")),p.Db(3),p.Uc(t.code),p.Db(2),p.Uc(t.isMarked?o.checkPoint(t.point?t.point:0):p.ic(10,8,"lang_homework_utils_excel_table_export_not_point")),p.Db(3),p.Uc(o.getComment(t.answer?t.answer:p.sc(10,_n)))}}let wn=(()=>{class t extends g.a{constructor(t){super(t),this.commonService=t,this.studentList=[],this.homeworkObj={},this.currentDate=new Date,this.tableType="homework"}ExportTOExcel(){var t,e;const o=zo.utils.table_to_sheet(null===(t=this.TABLE)||void 0===t?void 0:t.nativeElement),n=zo.utils.book_new();zo.utils.book_append_sheet(n,o,"Sheet1"),this.homeworkObj.hasOwnProperty("name")?zo.writeFile(n,this.commonService.createFileNameExportFile([null!==(e=this.homeworkObj.name)&&void 0!==e?e:""])+"-ScoreSheet.xlsx"):zo.writeFile(n,this.commonService.createFileNameExportFile(["ScoreSheet"])+".xlsx")}checkPoint(t){switch(t){case 1e3:return"\u0110\u1ea1t";case 1001:return"Ch\u01b0a \u0110\u1ea1t";case 2e3:return"Ho\xe0n Th\xe0nh";case 2001:return"Ch\u01b0a Ho\xe0n Th\xe0nh";case 3e3:return"Ho\xe0n Th\xe0nh T\u1ed1t";default:return t}}getComment(t){var e="";return null!=t&&t.result&&(e=this.commonService.parseJson(t.result).comment),e}ngOnInit(){super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(f.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-excel-export"]],viewQuery:function(t,e){if(1&t&&p.cd(kn,!0),2&t){let t;p.zc(t=p.dc())&&(e.TABLE=t.first)}},inputs:{studentList:"studentList",homeworkObj:"homeworkObj",currentDate:"currentDate",tableType:"tableType"},features:[p.Ab],decls:44,vars:31,consts:[[1,"table","table-bordered","d-none",3,"id","click"],["TABLE",""],[1,"thead-dark"],["colspan","10"],[1,"border-table"],[4,"ngFor","ngForOf"],["colspan","2"]],template:function(t,e){1&t&&(p.Vb(0,"table",0,1),p.cc("click",function(){return e.ExportTOExcel()}),p.Vb(2,"thead",2),p.Vb(3,"tr"),p.Vb(4,"th",3),p.Tc(5),p.hc(6,"mytranslate"),p.Ub(),p.Ub(),p.Vb(7,"tr"),p.Qb(8,"th"),p.Ub(),p.Vb(9,"tr"),p.Vb(10,"th",3),p.Tc(11),p.hc(12,"mytranslate"),p.hc(13,"date"),p.Ub(),p.Ub(),p.Vb(14,"tr"),p.Qb(15,"th"),p.Ub(),p.Vb(16,"tr"),p.Vb(17,"th",4),p.Tc(18),p.hc(19,"mytranslate"),p.Ub(),p.Vb(20,"th",4),p.Tc(21),p.hc(22,"mytranslate"),p.Ub(),p.Vb(23,"th",4),p.Tc(24),p.hc(25,"mytranslate"),p.Ub(),p.Vb(26,"th",4),p.Tc(27),p.hc(28,"mytranslate"),p.Ub(),p.Vb(29,"th",4),p.Tc(30),p.hc(31,"mytranslate"),p.Ub(),p.Ub(),p.Ub(),p.Vb(32,"tbody"),p.Rc(33,vn,13,11,"tr",5),p.Qb(34,"tr"),p.Vb(35,"tr"),p.Qb(36,"td"),p.Qb(37,"td"),p.Qb(38,"td"),p.Qb(39,"td"),p.Vb(40,"td",6),p.Tc(41),p.hc(42,"mytranslate"),p.Ub(),p.Qb(43,"td"),p.Ub(),p.Ub(),p.Ub()),2&t&&(p.pc("id","table_",e.tableType,""),p.Db(5),p.Wc("",p.ic(6,12,"lang_homework_utils_excel_table_export_homework"),": ",e.homeworkObj.name,""),p.Db(6),p.Wc("",p.ic(12,14,"lang_homework_utils_excel_table_export_time_export_result"),": ",p.jc(13,16,e.currentDate,"dd/MM/yyyy"),""),p.Db(7),p.Uc(p.ic(19,19,"lang_first_and_last_name")),p.Db(3),p.Uc(p.ic(22,21,"lang_birthday")),p.Db(3),p.Uc(p.ic(25,23,"lang_number_code")),p.Db(3),p.Uc(p.ic(28,25,"lang_point")),p.Db(3),p.Uc(p.ic(31,27,"lang_homework_utils_excel_table_export_comment")),p.Db(3),p.nc("ngForOf",e.studentList),p.Db(8),p.Vc("",p.ic(42,29,"lang_homework_utils_excel_table_export_verifil_teacher"),": "))},directives:[n.l],pipes:[Rt.q,n.e],encapsulation:2}),t})();var xn=o("XhcP"),On=o("CB8n"),yn=o("EXc1"),Sn=o("1jcm");function Un(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div"),p.Vb(1,"div",3),p.Vb(2,"p",4),p.Tc(3,"Ch\u01b0a c\xf3 h\u1ecdc sinh n\xe0o n\u1ed9p b\xe0i t\u1eadp"),p.Ub(),p.Vb(4,"a",5),p.cc("click",function(){return p.Ec(t),p.gc().showCopySuccess()}),p.Vb(5,"mat-icon",6),p.Tc(6,"share"),p.Ub(),p.Vb(7,"span",6),p.Tc(8,"\xa0Copy link b\xe0i t\u1eadp"),p.Ub(),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=p.gc();p.Db(4),p.nc("cdkCopyToClipboard",t.copyLinkHomeWorkToClipboard())}}function Vn(t,e){1&t&&(p.Vb(0,"p",28),p.Tc(1," Ch\u01b0a ch\u1ea5m "),p.Ub())}function Cn(t,e){1&t&&(p.Vb(0,"p",29),p.Tc(1," Ch\u01b0a n\u1ed9p "),p.Ub())}function Dn(t,e){1&t&&(p.Vb(0,"p",29),p.Tc(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),p.Ub())}function jn(t,e){if(1&t&&(p.Vb(0,"p",30),p.Tc(1," \u0110i\u1ec3m: "),p.Vb(2,"b"),p.Qb(3,"azt-check-mark",31),p.Ub(),p.Ub()),2&t){const t=p.gc(2).$implicit;p.Db(3),p.nc("mark",t.point)}}function Tn(t,e){if(1&t&&(p.Vb(0,"p",32),p.Tc(1),p.Ub()),2&t){const t=p.gc(2).$implicit,e=p.gc(2);p.Db(1),p.Vc(" ",e.calculationTime(t.createdAt)," tr\u01b0\u1edbc ")}}function Pn(t,e){if(1&t&&(p.Vb(0,"div",22),p.Vb(1,"p",32),p.Tc(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),p.Ub(),p.Vb(3,"p",32),p.Tc(4),p.Ub(),p.Ub()),2&t){const t=p.gc(2).$implicit;p.Db(4),p.Vc(" ",(null==t.answerFileObjs?null:t.answerFileObjs.length)||0," ")}}const Mn=function(t){return[t]},In=function(t){return{backto:t}},Rn=function(t){return{disableClick:t}};function An(t,e){if(1&t&&(p.Vb(0,"div"),p.Vb(1,"a",13),p.hc(2,"mylocalize"),p.Vb(3,"div",14),p.Vb(4,"div",15),p.Vb(5,"span",16),p.Qb(6,"azt-create-avatar",17),p.Ub(),p.Vb(7,"div",18),p.Vb(8,"div",19),p.Vb(9,"span",20),p.Vb(10,"span",21),p.Tc(11),p.Ub(),p.Ub(),p.Ub(),p.Vb(12,"div",22),p.Rc(13,Vn,2,0,"p",23),p.Rc(14,Cn,2,0,"p",24),p.Rc(15,Dn,2,0,"p",24),p.Rc(16,jn,4,1,"p",25),p.Rc(17,Tn,2,1,"p",26),p.Ub(),p.Rc(18,Pn,5,1,"div",27),p.Ub(),p.Ub(),p.Ub(),p.Ub(),p.Ub()),2&t){const t=p.gc().$implicit,e=p.gc(2);p.Db(1),p.nc("routerLink",p.tc(15,Mn,p.ic(2,13,"/admin/homework/mark-exercise/"+t.answer.id+"/"+e.obj.hashId)))("queryParams",p.tc(17,In,e.backToLink)),p.Db(2),p.nc("ngClass",p.tc(19,Rn,t.isNotSubmit||t.mustReSubmit)),p.Db(3),p.nc("linkAvatar",t.avatar)("nameCreateAvatar",t.fullName)("size",30),p.Db(5),p.Uc(t.fullName),p.Db(2),p.nc("ngIf",t.isSubmitted),p.Db(1),p.nc("ngIf",t.isNotSubmit),p.Db(1),p.nc("ngIf",t.mustReSubmit),p.Db(1),p.nc("ngIf",t.isMarked),p.Db(1),p.nc("ngIf",null!=t.createdAt),p.Db(1),p.nc("ngIf",t.isMarked||t.isSubmitted)}}function Nn(t,e){1&t&&(p.Vb(0,"p",28),p.Tc(1," Ch\u01b0a ch\u1ea5m "),p.Ub())}function En(t,e){1&t&&(p.Vb(0,"p",29),p.Tc(1," Ch\u01b0a n\u1ed9p "),p.Ub())}function Hn(t,e){1&t&&(p.Vb(0,"p",29),p.Tc(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),p.Ub())}function Fn(t,e){if(1&t&&(p.Vb(0,"p",30),p.Tc(1," \u0110i\u1ec3m: "),p.Vb(2,"b"),p.Tc(3),p.Ub(),p.Ub()),2&t){const t=p.gc(2).$implicit;p.Db(3),p.Uc(t.point)}}function Ln(t,e){if(1&t&&(p.Vb(0,"p",32),p.Tc(1),p.Ub()),2&t){const t=p.gc(2).$implicit,e=p.gc(2);p.Db(1),p.Vc(" ",e.calculationTime(t.createdAt)," tr\u01b0\u1edbc ")}}function zn(t,e){1&t&&(p.Vb(0,"div",22),p.Vb(1,"p",32),p.Tc(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),p.Ub(),p.Vb(3,"p",32),p.Tc(4," 0 "),p.Ub(),p.Ub())}function Bn(t,e){if(1&t){const t=p.Wb();p.Vb(0,"div",14),p.Vb(1,"div",15),p.Vb(2,"span",16),p.Qb(3,"azt-create-avatar",17),p.Ub(),p.Vb(4,"div",33),p.cc("click",function(){p.Ec(t);const e=p.gc().$implicit;return p.gc(2).goToResultReview(e)}),p.Vb(5,"div",19),p.Vb(6,"span",20),p.Vb(7,"span",21),p.Tc(8),p.Ub(),p.Ub(),p.Ub(),p.Vb(9,"div",22),p.Rc(10,Nn,2,0,"p",23),p.Rc(11,En,2,0,"p",24),p.Rc(12,Hn,2,0,"p",24),p.Rc(13,Fn,4,1,"p",25),p.Rc(14,Ln,2,1,"p",26),p.Ub(),p.Rc(15,zn,5,0,"div",27),p.Ub(),p.Ub(),p.Ub()}if(2&t){const t=p.gc().$implicit;p.nc("ngClass",p.tc(11,Rn,t.isNotSubmit||t.mustReSubmit)),p.Db(3),p.nc("linkAvatar",t.avatar)("nameCreateAvatar",t.fullName)("size",30),p.Db(5),p.Uc(t.fullName),p.Db(2),p.nc("ngIf",t.isSubmitted),p.Db(1),p.nc("ngIf",t.isNotSubmit),p.Db(1),p.nc("ngIf",t.mustReSubmit),p.Db(1),p.nc("ngIf",t.isMarked),p.Db(1),p.nc("ngIf",null!=t.createdAt),p.Db(1),p.nc("ngIf",t.isMarked||t.isSubmitted)}}const Wn=function(t){return{"col-lg-4":t}};function Gn(t,e){if(1&t&&(p.Vb(0,"div",10),p.Rc(1,An,19,21,"div",11),p.Rc(2,Bn,16,13,"ng-template",null,12,p.Sc),p.Ub()),2&t){const t=e.$implicit,o=p.Ac(3),n=p.gc(2);p.nc("ngClass",p.tc(3,Wn,n.isOpenSideNav)),p.Db(1),p.nc("ngIf",t.answer)("ngIfElse",o)}}function Jn(t,e){if(1&t&&(p.Vb(0,"div",7),p.Vb(1,"div",8),p.Rc(2,Gn,4,5,"div",9),p.Ub(),p.Ub()),2&t){const t=p.gc();p.Db(2),p.nc("ngForOf",t.studentLists)}}let Qn=(()=>{class t extends g.a{constructor(t,e){super(t),this.commonService=t,this.timeService=e,this.isSortByTime=!1,this.backToLink="",this.searchKey="",this.studentLists=[],this.isNotTestedYet=!1,this.isOpenSideNav=!0,this.obj={},this.goToResult=new p.o}goToResultReview(t){t.isNotSubmit||t.mustReSubmit||this.goToResult.emit(t)}copyLinkHomeWorkToClipboard(){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${this.obj.hashId}`}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}calculationTime(t,e){return this.timeService.calculationTime(t,e)}}return t.\u0275fac=function(e){return new(e||t)(p.Pb(f.a),p.Pb(Bo.a))},t.\u0275cmp=p.Jb({type:t,selectors:[["app-student-homework-result"]],inputs:{isSortByTime:"isSortByTime",backToLink:"backToLink",searchKey:"searchKey",studentLists:"studentLists",isNotTestedYet:"isNotTestedYet",isOpenSideNav:"isOpenSideNav",obj:"obj"},outputs:{goToResult:"goToResult"},features:[p.Ab],decls:3,vars:2,consts:[[1,"box-content","py-2","scrollable-content"],[4,"ngIf"],["class","pt-0 pb-2 px-3 ",4,"ngIf"],[1,"text-center","mt-3"],[1,"h5"],[1,"clickable",2,"user-select","none",3,"cdkCopyToClipboard","click"],[2,"vertical-align","middle","color","#333333"],[1,"pt-0","pb-2","px-3"],[1,"row","ml-0","mr-0","pl-0","pr-0","mt-2"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2",3,"ngClass"],[4,"ngIf","ngIfElse"],["answerIdNull",""],[3,"routerLink","queryParams"],[1,"box-item",3,"ngClass"],[1,"student-item"],[1,"stdimg","align-self-center"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"stdinfo"],[1,"stdinfo-fullname"],[2,"vertical-align","middle"],[2,"vertical-align","middle","color","#333333","font-weight","400","font-size","15px","word-break","break-word"],[1,"d-flex","justify-content-between"],["style","color: #F39C12; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","color: #9F0000; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px; color: #9C9C9C",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[2,"color","#F39C12","font-size","13px","margin-bottom","2px"],[2,"color","#9F0000","font-size","13px","margin-bottom","2px"],[2,"font-size","13px","margin-bottom","2px"],[3,"mark"],[2,"font-size","13px","margin-bottom","2px","color","#9C9C9C"],[1,"stdinfo",3,"click"]],template:function(t,e){1&t&&(p.Vb(0,"div",0),p.Rc(1,Un,9,1,"div",1),p.Rc(2,Jn,3,1,"div",2),p.Ub()),2&t&&(p.Db(1),p.nc("ngIf",e.isNotTestedYet),p.Db(1),p.nc("ngIf",!e.isNotTestedYet))},directives:[n.m,be.a,jt.a,n.l,n.k,c.k,nn.a,Oo.a],pipes:[Rt.p],styles:[".box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border:1px solid #e9e9e9;border-radius:5px;box-shadow:none}a[_ngcontent-%COMP%]{color:#000}.disableClick[_ngcontent-%COMP%]{cursor:default!important}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 166px);overflow-y:scroll}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px;margin:5px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 5px #cecece;border-radius:10px}.scrollable-content[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cfcece;border-radius:10px}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;cursor:pointer;position:relative}.badge-testing[_ngcontent-%COMP%]{position:absolute;top:0;right:6px;border-radius:4px;padding:0 3px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.link-stu[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%]{display:flex}.link-stu[_ngcontent-%COMP%]{align-items:center}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.create-avatar[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin-top:2px;border-radius:50%;width:30px;text-transform:uppercase;height:30px;background:#ddd;text-align:center;padding-top:5px}@media screen and (max-width:750px){.scrollable-content[_ngcontent-%COMP%]{min-height:calc(100vh - 170px);height:auto;overflow-y:inherit}.tested_list_container[_ngcontent-%COMP%]{height:auto}}"]}),t})(),qn=(()=>{class t{}return t.\u0275mod=p.Nb({type:t}),t.\u0275inj=p.Mb({factory:function(e){return new(e||t)},imports:[[c.l,n.c,b.a,a.b,un,i.m,i.x,s.f,d.a,r.b,l.a]]}),t})();p.Kc(mt,[Mt.a,n.m,Ut.a,fn,It.a,xn.b,xn.a,n.k,Dt.b,be.a,jt.a,On.a,yn.a,n.l,Tt.a,c.k,xn.c,i.B,i.s,i.l,i.d,i.r,i.j,on.d,on.a,on.b,Sn.a,Qn,wn],[Rt.q,n.e,Rt.p,Rt.i,Rt.h,n.u])},loSA:function(t,e,o){"use strict";o.d(e,"a",function(){return m});var n=o("gm2p"),i=o("fXoL"),s=o("ofXK"),c=o("Qu3c");function a(t,e){1&t&&(i.Vb(0,"span",6),i.Tc(1,"\u0110"),i.Ub())}function r(t,e){1&t&&(i.Vb(0,"span",7),i.Tc(1,"C\u0110"),i.Ub())}function l(t,e){1&t&&(i.Vb(0,"span",8),i.Tc(1,"HT"),i.Ub())}function d(t,e){1&t&&(i.Vb(0,"span",9),i.Tc(1,"CHT"),i.Ub())}function b(t,e){1&t&&(i.Vb(0,"span",10),i.Tc(1,"HTT"),i.Ub())}function h(t,e){if(1&t&&(i.Vb(0,"span",11),i.Tc(1),i.Ub()),2&t){const t=i.gc();i.Db(1),i.Uc(t.mark)}}let m=(()=>{class t extends n.a{constructor(){super(...arguments),this.mark=0}}return t.\u0275fac=function(e){return u(e||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[i.Ab],decls:6,vars:6,consts:[["class","text-mark mb-0","matTooltip","\u0110\u1ea1t",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ch\u01b0a \u0110\u1ea1t",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ho\xe0n Th\xe0nh",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ch\u01b0a Ho\xe0n Th\xe0nh",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ho\xe0n Th\xe0nh T\u1ed1t",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],["matTooltip","\u0110\u1ea1t",1,"text-mark","mb-0"],["matTooltip","Ch\u01b0a \u0110\u1ea1t",1,"text-mark","mb-0"],["matTooltip","Ho\xe0n Th\xe0nh",1,"text-mark","mb-0"],["matTooltip","Ch\u01b0a Ho\xe0n Th\xe0nh",1,"text-mark","mb-0"],["matTooltip","Ho\xe0n Th\xe0nh T\u1ed1t",1,"text-mark","mb-0"],[1,"text-mark","mb-0"]],template:function(t,e){1&t&&(i.Rc(0,a,2,0,"span",0),i.Rc(1,r,2,0,"span",1),i.Rc(2,l,2,0,"span",2),i.Rc(3,d,2,0,"span",3),i.Rc(4,b,2,0,"span",4),i.Rc(5,h,2,1,"span",5)),2&t&&(i.nc("ngIf","1000"==e.mark),i.Db(1),i.nc("ngIf","1001"==e.mark),i.Db(1),i.nc("ngIf","2000"==e.mark),i.Db(1),i.nc("ngIf","2001"==e.mark),i.Db(1),i.nc("ngIf","3000"==e.mark),i.Db(1),i.nc("ngIf","2001"!=e.mark&&"2000"!=e.mark&&"1001"!=e.mark&&"1000"!=e.mark&&"3000"!=e.mark))},directives:[s.m,c.a],encapsulation:2}),t})();const u=i.Xb(m)}}]);