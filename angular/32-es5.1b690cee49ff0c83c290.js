!function(){function n(t,e,o){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(n,t,e){var o=function(n,t){for(;!Object.prototype.hasOwnProperty.call(n,t)&&null!==(n=c(n)););return n}(n,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(e):i.value}})(t,e,o||t)}function t(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&e(n,t)}function e(n,t){return(e=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function o(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}();return function(){var e,o=c(n);if(t){var r=c(this).constructor;e=Reflect.construct(o,arguments,r)}else e=o.apply(this,arguments);return i(this,e)}}function i(n,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n):t}function c(n){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function r(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function a(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function s(n,t,e){return t&&a(n.prototype,t),e&&a(n,e),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"3u6u":function(e,i,a){"use strict";a.r(i),a.d(i,"TeacherQAModule",function(){return dn});var l=a("ofXK"),u=a("3Pt+"),d=a("0IaG"),g=a("tyNb"),p=a("fB2i"),b=a("IkSl"),f=a("rIor"),h=a("Zhhu"),m=a("vvyD"),v=a("sOeQ"),O=a("Avyq"),_=a("wccm"),x=a("fXoL"),P=a("oUVn"),w=a("hZBc"),C=a("nzN9"),M=a("AWii"),k=a("iWHX");function y(n,t){1&n&&x.Qb(0,"azt-loading-effect")}function I(n,t){1&n&&(x.Vb(0,"div",3),x.Qb(1,"azt-list-questions"),x.Ub())}var j,S,Q=((S=function(){function n(t){r(this,n),this.commonService=t,this.isLoading=!1}return s(n,[{key:"ngOnInit",value:function(){this.isLoading=!0,this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"}),this.isLoading=!1}}]),n}()).\u0275fac=function(n){return new(n||S)(x.Pb(P.a))},S.\u0275cmp=x.Jb({type:S,selectors:[["app-list-questions-student"]],decls:5,vars:6,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"pl-2","pr-2",2,"max-width","700px","margin","auto"]],template:function(n,t){if(1&n&&(x.Qb(0,"header-backend",0),x.hc(1,"mytranslate"),x.Rc(2,y,1,0,"azt-loading-effect",1),x.Rc(3,I,2,0,"ng-template",null,2,x.Sc)),2&n){var e=x.Ac(4);x.nc("headerTitle",x.ic(1,4,"lang_teacher_qa_list_questions_student_header_title"))("back_link","/admin/testbank/dashboard"),x.Db(2),x.nc("ngIf",t.isLoading)("ngIfElse",e)}},directives:[w.a,l.m,C.a,M.a],pipes:[k.q],styles:[".content[_ngcontent-%COMP%]{padding:15px;margin-top:20px!important;margin:auto;max-width:430px;background:inherit;background-color:#ececec;border-radius:5px;box-shadow:0 0 5px rgba(0,0,0,.14)}.content-header[_ngcontent-%COMP%]{text-align:center}.content-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px}.content-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .content-list-view[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{max-width:270px;background:inherit;background-color:#169bd5;border:none;border-radius:5px;color:#fff;font-weight:500}.view-single[_ngcontent-%COMP%]{padding:10px 15px;background:inherit;background-color:#fff;box-sizing:border-box;border:1px solid #ececec;border-radius:5px;box-shadow:none;font-style:normal;font-size:12px;color:#494949}"]}),S),U=((j=function(){function n(){r(this,n)}return s(n,[{key:"ngOnInit",value:function(){}}]),n}()).\u0275fac=function(n){return new(n||j)},j.\u0275cmp=x.Jb({type:j,selectors:[["question-master-page"]],decls:2,vars:0,consts:[["id","student-layout"]],template:function(n,t){1&n&&(x.Vb(0,"div",0),x.Qb(1,"router-outlet"),x.Ub())},directives:[g.m],styles:[""]}),j),A=a("quSY"),z=a("KVcZ"),V=a("gm2p"),D=a("0pw4"),F=a("diKk"),q=a("tk/3"),T=a("BTbT"),E=a("VMFx"),R=a("Txro"),G=a("NFeN"),L=a("Qu3c"),N=a("wAhq");function B(n,t){if(1&n){var e=x.Wb();x.Vb(0,"div",21),x.Vb(1,"span",22),x.cc("click",function(){x.Ec(e);var n=t.$implicit;return x.gc(2).onShowFile(n,-1)}),x.Tc(2),x.Ub(),x.Vb(3,"span"),x.Tc(4),x.Ub(),x.Vb(5,"i",23),x.cc("click",function(){x.Ec(e);var n=t.$implicit;return x.gc(2).removeAttach(n)}),x.hc(6,"mytranslate"),x.Ub(),x.Ub()}if(2&n){var o=t.$implicit;x.Db(1),x.nc("matTooltip",(null==o?null:o.name)||""),x.Db(1),x.Uc(o.name),x.Db(2),x.Vc(".",o.extension,""),x.Db(1),x.oc("matTooltip",x.ic(6,4,"lang_teacher_qa_form_input_answer_remove_file"))}}function W(n,t){if(1&n&&(x.Tb(0),x.Rc(1,B,7,6,"div",20),x.Sb()),2&n){var e=x.gc();x.Db(1),x.nc("ngForOf",e.filesUploaded)}}function J(n,t){1&n&&x.Qb(0,"span",24)}function K(n,t){1&n&&(x.Vb(0,"span"),x.Qb(1,"span",24),x.Tc(2,"\xa0"),x.Ub())}function X(n,t){if(1&n){var e=x.Wb();x.Vb(0,"div"),x.Vb(1,"azt-preview-media",25),x.cc("closePreview",function(){return x.Ec(e),x.gc().onFileClose()}),x.Ub(),x.Ub()}if(2&n){var o=x.gc();x.Db(1),x.nc("fileOption",o.previewFile)}}var Z,$=function(){return[]},H=function(n){return{height:250,menubar:!1,plugins:n,toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify"}},Y=((Z=function(e){t(a,e);var i=o(a);function a(n,t,e,o){var c;return r(this,a),(c=i.call(this,n)).commonService=n,c.teacherQuestionService=t,c.apiUploadService=e,c.fb=o,c.closeFormInputAnswer=new x.o,c.fetchNewData=new x.o,c.isLoading=!1,c.form=new u.k({}),c.loadingUpload=!1,c.uploadProgress=-1,c.filesUploaded=[],c.previewFile={},c.isShowPreviewFile=!1,c}return s(a,[{key:"cleanContent",value:function(){var n=this.form.controls.content.value.replace(/<img .*?>/gim,"");this.form.controls.content.setValue(n)}},{key:"uploadFile",value:function(n){var t=this;n&&(Object(T.j)(n.type)?(this.loadingUpload=!0,this.uploadProgress=0,Object(T.a)(n).then(function(e){t.apiUploadService.uploadToCdnForAnswerQA(e).subscribe(function(e){e.type!=q.d.UploadProgress&&(1==e.success?(t.loadingUpload=!1,t.uploadProgress=-1,e.data&&t.filesUploaded.push(e.data)):(t.loadingUpload=!1,t.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh (T\xean: "+n.name+")! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+e.message,"")))})})):this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3!",""))}},{key:"onFileClose",value:function(){this.isShowPreviewFile=!1,this.previewFile={}}},{key:"onShowFile",value:function(n,t){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},n),{index:t})}},{key:"onFileSelected",value:function(n){var t=!!n&&n[0];0!=t&&this.uploadFile(t)}},{key:"saveAnswer",value:function(){var n=this,t=this.commonService.getFormObj(this.form);if(this.form.invalid)this.commonService.snackError("Vui l\xf2ng nh\u1eadp n\u1ed9i dung c\xe2u tr\u1ea3 l\u1eddi","");else{this.cleanContent(),this.isLoading=!0;var e={assetGroupId:this.assetGroupId,content:t.content,files:JSON.stringify(this.filesUploaded)};this.subscriptions.add(this.teacherQuestionService.apiTeacherQuestionSaveAnswerObjPost(e).subscribe(function(t){t.success?(n.commonService.snackSuccess("G\u1eedi c\xe2u tr\u1ea3 l\u1eddi th\xe0nh c\xf4ng",""),n.fetchNewData.emit(),n.isLoading=!1,n.cancelAnswer()):(n.commonService.snackError("G\u1eedi c\xe2u tr\u1ea3 l\u1eddi kh\xf4ng th\xe0nh c\xf4ng",""),n.isLoading=!1)}))}}},{key:"removeAttach",value:function(n){var t=this.filesUploaded.indexOf(n);this.filesUploaded.splice(t,1)}},{key:"cancelAnswer",value:function(){this.form.controls.content.setValue(""),this.file=null,this.closeFormInputAnswer.emit()}},{key:"ngOnInit",value:function(){this.form=this.fb.group({File:new u.h(""),content:new u.h("",[u.z.required])}),n(c(a.prototype),"ngOnInit",this).call(this)}}]),a}(V.a)).\u0275fac=function(n){return new(n||Z)(x.Pb(P.a),x.Pb(z.e),x.Pb(E.a),x.Pb(u.g))},Z.\u0275cmp=x.Jb({type:Z,selectors:[["form-input-answer-teacher"]],inputs:{assetGroupId:"assetGroupId"},outputs:{closeFormInputAnswer:"closeFormInputAnswer",fetchNewData:"fetchNewData"},features:[x.Ab],decls:33,vars:23,consts:[[1,"form-horizontal","text-center",3,"formGroup"],[1,"create-answer"],[1,"answer-editor"],["formControlName","content","apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"init"],[1,"answer-upload"],["id","dropzoneAreaFrame",1,"text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],["appDragDrop","",1,"px-4","py-3","rounded",3,"filesChangeEmiter"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File",1,"form-control","file-input",3,"change"],["fileSelect",""],[1,"d-block","text-dark-green"],[1,"answer-save"],[1,"mt-1","text-left"],[1,"attachs"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[1,"answer-buttons"],[1,"btn-cannel",3,"click"],[1,"btn-save",3,"disabled","click"],["class","att-item",4,"ngFor","ngForOf"],[1,"att-item"],[1,"image-preview","truncate",3,"matTooltip","click"],[1,"fas","fa-window-close",3,"matTooltip","click"],["role","status",1,"spinner-border","spinner-border-sm"],[3,"fileOption","closePreview"]],template:function(n,t){if(1&n){var e=x.Wb();x.Vb(0,"form",0),x.Vb(1,"div",1),x.Vb(2,"div",2),x.Qb(3,"editor",3),x.Ub(),x.Vb(4,"div",4),x.Vb(5,"div",5),x.cc("click",function(){return x.Ec(e),x.Ac(12).click()}),x.Vb(6,"div",6),x.cc("filesChangeEmiter",function(n){return t.onFileSelected(n)}),x.Vb(7,"div",7),x.Vb(8,"a",8),x.Vb(9,"mat-icon"),x.Tc(10,"cloud_upload"),x.Ub(),x.Ub(),x.Vb(11,"input",9,10),x.cc("change",function(n){return t.onFileSelected(n.target.files)}),x.Ub(),x.Vb(13,"span",11),x.Tc(14),x.hc(15,"mytranslate"),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Vb(16,"div",12),x.Vb(17,"h4",13),x.Tc(18),x.hc(19,"mytranslate"),x.Ub(),x.Vb(20,"div",14),x.Rc(21,W,2,1,"ng-container",15),x.Tc(22," \xa0 "),x.Rc(23,J,1,0,"span",16),x.Ub(),x.Vb(24,"div",17),x.Vb(25,"button",18),x.cc("click",function(){return t.cancelAnswer()}),x.Tc(26),x.hc(27,"mytranslate"),x.Ub(),x.Vb(28,"button",19),x.cc("click",function(){return t.saveAnswer()}),x.Rc(29,K,3,0,"span",15),x.Tc(30),x.hc(31,"mytranslate"),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Ub(),x.Rc(32,X,2,1,"div",15)}2&n&&(x.nc("formGroup",t.form),x.Db(3),x.nc("init",x.tc(21,H,x.sc(20,$))),x.Db(11),x.Uc(x.ic(15,12,"lang_teacher_qa_form_input_answer_note_tutorial")),x.Db(4),x.Wc("",x.ic(19,14,"lang_teacher_qa_form_input_answer_title_file")," (",t.filesUploaded.length,")"),x.Db(3),x.nc("ngIf",t.filesUploaded.length>0),x.Db(2),x.nc("ngIf",t.loadingUpload),x.Db(3),x.Uc(x.ic(27,16,"lang_buttom_cancel")),x.Db(2),x.nc("disabled",t.isLoading),x.Db(1),x.nc("ngIf",t.isLoading),x.Db(1),x.Vc(" ",x.ic(31,18,"lang_buttom_send")," "),x.Db(2),x.nc("ngIf",t.isShowPreviewFile))},directives:[u.B,u.s,u.l,p.a,u.r,u.j,R.a,G.a,u.d,l.m,l.l,L.a,N.a],pipes:[k.q],styles:["button[_ngcontent-%COMP%]{border:none;text-transform:none}.question-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px}.question-info[_ngcontent-%COMP%]{display:flex;align-items:center}.question-text[_ngcontent-%COMP%]{font-size:13px;color:#9a9a9a;margin-right:10px}.question-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.block-list-answer[_ngcontent-%COMP%], .question-content[_ngcontent-%COMP%]{margin-top:15px}.answer-count[_ngcontent-%COMP%]{font-size:18px;color:#333}.block-answer[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding-bottom:10px;border-bottom:1px solid #d0d0d0}.block-answer-left[_ngcontent-%COMP%]{margin-right:10px}.count-view[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:5px;display:flex;justify-content:center;align-items:center;padding:6px}.count-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.true-answer[_ngcontent-%COMP%]{color:#0ca74a}.true-answer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}.block-answer-right[_ngcontent-%COMP%]{padding-right:15px}.confirm[_ngcontent-%COMP%]{padding:6px 7px;background:#e8e8e8;border-radius:5px;font-size:12px}.btn-unconfirm[_ngcontent-%COMP%]{color:#00a7d0;background:transparent;transition:all .5s}.btn-unconfirm[_ngcontent-%COMP%]:hover{color:#026680;font-weight:700}.btn-confirm[_ngcontent-%COMP%]{background:#169bd5;color:#fff;font-size:13px;transition:all .5s;border-radius:5px;padding:5px 7px 5px 20px}.btn-confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.btn-confirm[_ngcontent-%COMP%]:hover{background:#0b6992}.block-answer-bottom[_ngcontent-%COMP%]{margin-top:15px;justify-content:flex-end}.block-answer-bottom[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.time-ago[_ngcontent-%COMP%]{color:#868686;font-size:10px;margin-bottom:0}.btn-all-add[_ngcontent-%COMP%]{color:#00a7d0}.answer-upload[_ngcontent-%COMP%], .create-answer[_ngcontent-%COMP%]{margin-top:20px}.upload-file[_ngcontent-%COMP%]{background-color:#fff;height:100px;display:flex;justify-content:center;align-items:center}.upload-file-text[_ngcontent-%COMP%]{font-size:16px}.image-preview[_ngcontent-%COMP%]{cursor:pointer}.answer-editor[_ngcontent-%COMP%]{min-height:250px}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]{flex:auto;margin-right:15px;margin-top:15px;display:flex;flex-wrap:wrap}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]{max-width:250px;margin-right:20px;display:flex;align-items:center}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-style:italic;display:block;text-decoration:underline}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:rgba(255,0,0,.7098039215686275);margin-left:5px}.answer-save[_ngcontent-%COMP%]   .attachs[_ngcontent-%COMP%]   .att-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}.answer-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#a1a1a1}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}"]}),Z);function nn(n,t){if(1&n){var e=x.Wb();x.Vb(0,"button",4),x.cc("click",function(){return x.Ec(e),x.gc().isShowFormInputAnswer=!0}),x.Tc(1,"+ Tr\u1ea3 l\u1eddi"),x.Ub()}}function tn(n,t){if(1&n){var e=x.Wb();x.Vb(0,"button",8),x.cc("click",function(){return x.Ec(e),x.gc(2).clickRelate("prev")}),x.Qb(1,"i",9),x.Ub()}}function en(n,t){if(1&n){var e=x.Wb();x.Vb(0,"button",10),x.cc("click",function(){return x.Ec(e),x.gc(2).clickRelate("next")}),x.Qb(1,"i",11),x.Ub()}}function on(n,t){if(1&n&&(x.Vb(0,"div",5),x.Rc(1,tn,2,0,"button",6),x.Rc(2,en,2,0,"button",7),x.Ub()),2&n){var e=x.gc();x.Db(1),x.nc("ngIf",e.previousQuestionId),x.Db(1),x.nc("ngIf",e.nextQuestionId)}}function cn(n,t){if(1&n){var e=x.Wb();x.Vb(0,"form-input-answer-teacher",12),x.cc("fetchNewData",function(){return x.Ec(e),x.gc().getData()})("closeFormInputAnswer",function(){return x.Ec(e),x.gc().isShowFormInputAnswer=!1}),x.Ub()}if(2&n){var o=x.gc();x.nc("assetGroupId",o.assetGroupStatisticObj.assetGroupId)}}var rn,an,sn,ln=[{path:"",component:U,canActivate:[_.a],children:[{path:"",canActivateChild:[_.a],children:[{path:"view-question/:id",component:(rn=function(e){t(a,e);var i=o(a);function a(n,t,e,o,c){var s;return r(this,a),(s=i.call(this,t)).activeRoute=n,s.commonService=t,s._location=e,s.localStorageObjetct=o,s.teacherQuestionService=c,s.subscriptions=new A.a,s.isLoading=!1,s.isShowFormInputAnswer=!1,s.studentAnswerObj={},s}return s(a,[{key:"getData",value:function(){var n=this;this.isLoading=!0;var t=Number(this.activeRoute.snapshot.paramMap.get("id"));this.subscriptions.add(this.teacherQuestionService.apiTeacherQuestionGetAnswerObjsGet(t,1).subscribe(function(t){var e,o,i,c,r,a,s,l,u,d,g,p,b,f,h,m,v,O;t.success?(n.curQuestionObj=null!==(o=null===(e=t.data)||void 0===e?void 0:e.curQuestionObj)&&void 0!==o?o:{},n.assetGroupStatisticObj=null!==(c=null===(i=t.data)||void 0===i?void 0:i.assetGroupStatisticObj)&&void 0!==c?c:{},n.assetObjectObj=null!==(a=null===(r=t.data)||void 0===r?void 0:r.assetObjectObj)&&void 0!==a?a:{},n.answerObjs=null!==(l=null===(s=t.data)||void 0===s?void 0:s.answerObjs)&&void 0!==l?l:[],n.studentAnswerObj=null!==(d=null===(u=t.data)||void 0===u?void 0:u.studentAnswerObj)&&void 0!==d?d:{},n.answerObjs.forEach(function(t){var e,o;t.files&&(t.fileObjs=null!==(o=n.castJsonToObj(null!==(e=t.files)&&void 0!==e?e:""))&&void 0!==o?o:[])}),n.sortAnswer(),n.nextQuestionId=null!==(p=null===(g=t.data)||void 0===g?void 0:g.nextQuestionId)&&void 0!==p?p:0,n.questionIds=null!==(f=null===(b=t.data)||void 0===b?void 0:b.questionIds)&&void 0!==f?f:[],n.previousQuestionId=null!==(m=null===(h=t.data)||void 0===h?void 0:h.previousQuestionId)&&void 0!==m?m:0,n.isEndPage=null!==(O=null===(v=t.data)||void 0===v?void 0:v.isEndPage)&&void 0!==O?O:0,n.isLoading=!1):(n.commonService.snackError("C\xf3 l\u1ed7i khi xem chi ti\u1ebft c\xe2u h\u1ecfi",""),n.isLoading=!1)}))}},{key:"sortAnswer",value:function(){this.answerObjs.sort(function(n,t){var e,o;return(null!==(e=t.totalAccept)&&void 0!==e?e:0)-(null!==(o=n.totalAccept)&&void 0!==o?o:0)})}},{key:"clickRelate",value:function(n){var t=this;this.subscriptions.add(this.teacherQuestionService.apiTeacherQuestionGetQuestionObjGet("next"==n?this.nextQuestionId:this.previousQuestionId).subscribe(function(n){var e,o,i,c,r,a;n.success?(t.curQuestionObj=null!==(o=null===(e=n.data)||void 0===e?void 0:e.curQuestionObj)&&void 0!==o?o:{},t.nextQuestionId=null!==(c=null===(i=n.data)||void 0===i?void 0:i.nextQuestionId)&&void 0!==c?c:0,t.previousQuestionId=null!==(a=null===(r=n.data)||void 0===r?void 0:r.previousQuestionId)&&void 0!==a?a:0):t.commonService.snackError("C\xf3 l\u1ed7i khi xem chi ti\u1ebft c\xe2u h\u1ecfi","")}))}},{key:"backClicked",value:function(){this._location.back()}},{key:"deleteQuestion",value:function(n){var t=this;this.teacherQuestionService.apiTeacherQuestionDeleteObjGet(n).subscribe(function(n){n.success?(t.nextQuestionId?t.clickRelate("next"):t.previousQuestionId&&!t.nextQuestionId?t.clickRelate("prev"):t.previousQuestionId||t.nextQuestionId||t.commonService.myNavigation("/admin/testbank/dashboard"),t.localStorageObjetct.removeCacheByValue("TeacherQuestion/GetAnswerObjs"),t.commonService.snackSuccess("X\xf3a c\xe2u h\u1ecfi th\xe0nh c\xf4ng","")):t.commonService.snackError("X\xf3a c\xe2u h\u1ecfi kh\xf4ng th\xe0nh c\xf4ng","")})}},{key:"ngOnInit",value:function(){this.commonService.translateMetaData({title:"lang_cms_view_question_student_title",description:"lang_cms_view_question_student_description",image:"lang_cms_test_image"}),this.getData(),n(c(a.prototype),"ngOnInit",this).call(this)}}]),a}(V.a),rn.\u0275fac=function(n){return new(n||rn)(x.Pb(g.a),x.Pb(P.a),x.Pb(l.i),x.Pb(D.a),x.Pb(z.e))},rn.\u0275cmp=x.Jb({type:rn,selectors:[["app-teacher-view-question"]],features:[x.Ab],decls:4,vars:12,consts:[[3,"isBackend","totalQuestion","studentAnswerObj","curQuestionObj","answerObjs","assetGroupStatisticObj","assetObjectObj","isEndPage","isLoading","sendEvent"],["buttonShowFormInput","","class","btn btn-primary",3,"click",4,"ngIf"],["nextBack","","id","nextBack",4,"ngIf"],["answerInput","",3,"assetGroupId","fetchNewData","closeFormInputAnswer",4,"ngIf"],["buttonShowFormInput","",1,"btn","btn-primary",3,"click"],["nextBack","","id","nextBack"],["id","buttonPrev","class","btn btn-info",3,"click",4,"ngIf"],["id","buttonNext","class","btn btn-info",3,"click",4,"ngIf"],["id","buttonPrev",1,"btn","btn-info",3,"click"],[1,"fas","fa-angle-left",2,"font-size","18px"],["id","buttonNext",1,"btn","btn-info",3,"click"],[1,"fas","fa-angle-right",2,"font-size","18px"],["answerInput","",3,"assetGroupId","fetchNewData","closeFormInputAnswer"]],template:function(n,t){1&n&&(x.Vb(0,"azt-view-answer-question",0),x.cc("sendEvent",function(n){return t.deleteQuestion(n)}),x.Rc(1,nn,2,0,"button",1),x.Rc(2,on,3,2,"div",2),x.Rc(3,cn,1,1,"form-input-answer-teacher",3),x.Ub()),2&n&&(x.nc("isBackend",!0)("totalQuestion",null==t.questionIds?null:t.questionIds.length)("studentAnswerObj",t.studentAnswerObj)("curQuestionObj",t.curQuestionObj)("answerObjs",t.answerObjs)("assetGroupStatisticObj",t.assetGroupStatisticObj)("assetObjectObj",t.assetObjectObj)("isEndPage",t.isEndPage)("isLoading",t.isLoading),x.Db(1),x.nc("ngIf",!t.isShowFormInputAnswer),x.Db(1),x.nc("ngIf",t.previousQuestionId||t.nextQuestionId),x.Db(1),x.nc("ngIf",t.isShowFormInputAnswer))},directives:[F.a,l.m,Y],styles:[".block-list[_ngcontent-%COMP%]{background:#ececec;padding:10px;border-radius:5px;box-shadow:0 0 5px rgba(0,0,0,.14)}.block-list-bottom[_ngcontent-%COMP%]{margin:10px 0}.block-list-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{border:none;display:flex;align-items:center;color:#707070;background:transparent}.block-list-bottom[_ngcontent-%COMP%]   .btn-add-text[_ngcontent-%COMP%]{text-transform:none;margin-left:2px}button[_ngcontent-%COMP%]{border:none;text-transform:none}.block-else[_ngcontent-%COMP%]{height:90px;display:flex;justify-content:center;align-items:center;border-radius:5px}.text-else[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.question-title[_ngcontent-%COMP%]{font-weight:600;margin-bottom:10px}.question-info[_ngcontent-%COMP%]{display:flex;align-items:center}.question-text[_ngcontent-%COMP%]{font-size:13px;color:#9a9a9a;margin-right:10px}.question-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#000}.block-list-answer[_ngcontent-%COMP%], .question-content[_ngcontent-%COMP%]{margin-top:15px}.answer-count[_ngcontent-%COMP%]{font-size:18px;color:#333}.block-answer[_ngcontent-%COMP%]{display:flex;margin-top:15px;padding-bottom:10px;border-bottom:1px solid #d0d0d0}.block-answer-left[_ngcontent-%COMP%]{margin-right:10px}.count-view[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:5px;display:flex;justify-content:center;align-items:center;padding:6px}.count-view[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px}.true-answer[_ngcontent-%COMP%]{color:#0ca74a}.true-answer[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:5px}.block-answer-right[_ngcontent-%COMP%]{padding-right:15px}.confirm[_ngcontent-%COMP%]{padding:6px 7px;background:#e8e8e8;border-radius:5px;font-size:12px}.btn-unconfirm[_ngcontent-%COMP%]{color:#00a7d0;background:transparent;transition:all .5s}.btn-unconfirm[_ngcontent-%COMP%]:hover{color:#026680;font-weight:700}.btn-confirm[_ngcontent-%COMP%]{background:#169bd5;color:#fff;font-size:13px;transition:all .5s;border-radius:5px;padding:5px 7px 5px 20px}.btn-confirm[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:10px;font-size:20px}.btn-confirm[_ngcontent-%COMP%]:hover{background:#0b6992}.block-answer-bottom[_ngcontent-%COMP%]{margin-top:15px;justify-content:flex-end}.block-answer-bottom[_ngcontent-%COMP%], .user-info[_ngcontent-%COMP%]{display:flex;align-items:center}.time-ago[_ngcontent-%COMP%]{color:#868686;font-size:10px;margin-bottom:0}.btn-all-add[_ngcontent-%COMP%]{color:#00a7d0}.answer-upload[_ngcontent-%COMP%], .create-answer[_ngcontent-%COMP%]{margin-top:20px}.upload-file[_ngcontent-%COMP%]{background-color:#fff;height:100px;display:flex;justify-content:center;align-items:center}.upload-file-text[_ngcontent-%COMP%]{font-size:16px}.answer-editor[_ngcontent-%COMP%]{min-height:250px}.answer-save[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-top:15px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.is-dragover[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{background-color:#c8e6c9}#nextBack[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;justify-content:center;top:50%;margin-top:-18px;width:20px;right:-26px;background-color:rgba(24,162,184,.4117647058823529)}#nextBack[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#18a2b8}#nextBack[_ngcontent-%COMP%]   button#buttonPrev[_ngcontent-%COMP%]{left:-26px}"]}),rn)},{path:"list-questions",component:Q}]}]}],un=((sn=function n(){r(this,n)}).\u0275mod=x.Nb({type:sn}),sn.\u0275inj=x.Mb({factory:function(n){return new(n||sn)},imports:[[g.l.forChild(ln)],g.l,O.c]}),sn),dn=((an=function n(){r(this,n)}).\u0275mod=x.Nb({type:an}),an.\u0275inj=x.Mb({factory:function(n){return new(n||an)},imports:[[g.l,l.c,m.a,p.b,u.m,u.x,d.f,v.a,b.b,f.b,un,h.a]]}),an)}}])}();