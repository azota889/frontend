"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[649],{45668:(Q,D,f)=>{f.d(D,{J:()=>G});var M=f(5e3),m=f(16384),k=f(42873);let G=(()=>{class a{constructor(u,_){this.baseApiService=u,this.redirectService=_}canActivate(u,_){return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginAnonymous(_.url),!1)}canActivateChild(u,_){return this.canActivate(u,_)}canLoad(u){const _=`/${u.path}`;return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginByReturnUrl(_),!1)}}return a.\u0275fac=function(u){return new(u||a)(M.LFG(m._),M.LFG(k.V))},a.\u0275prov=M.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},86317:(Q,D,f)=>{f.d(D,{K:()=>m});var M=f(5e3);let m=(()=>{class k{constructor(){this.collator=new Intl.Collator("vi-VN",{sensitivity:"variant",usage:"sort"})}sortFirstNameStudents(a){if(a){var p="fullName";return a.sort((u,_)=>{var d,s;return u.hasOwnProperty(p)&&_.hasOwnProperty(p)?this.collator.compare(this.getFirstName(null===(d=u[p])||void 0===d?void 0:d.toString().trim()),this.getFirstName(null===(s=_[p])||void 0===s?void 0:s.toString().trim())):0})}return a}sortTimeDESC(a){for(var p=[],u=[],d="createdAt",s=0;s<a.length;s++)a[s].hasOwnProperty(d)&&(null!=a[s][d]&&""!=a[s][d]?p.push(a[s]):u.push(a[s]));for(s=0;s<p.length;s++){let P;for(var v=s+1;v<p.length;v++)if(p[s].hasOwnProperty(d)&&p[v].hasOwnProperty(d)){var b;b=Math.floor(new Date(p[s][d]).getTime()/1e3),Math.floor(new Date(p[v][d]).getTime()/1e3)>b&&(P=p[s],p[s]=p[v],p[v]=P)}}return p.concat(u)}sortTimeASC(a){for(var p=[],u=[],d="createdAt",s=0;s<a.length;s++)a[s].hasOwnProperty(d)&&(null!=a[s][d]&&""!=a[s][d]?p.push(a[s]):u.push(a[s]));for(s=0;s<p.length;s++){let P;for(var v=s+1;v<p.length;v++)if(p[s].hasOwnProperty(d)&&p[v].hasOwnProperty(d)){var b;b=Math.floor(new Date(p[s][d]).getTime()/1e3),Math.floor(new Date(p[v][d]).getTime()/1e3)<b&&(P=p[s],p[s]=p[v],p[v]=P)}}return p.concat(u)}sortMarkDESC(a,p){for(var u="confirmedAt",_="mark",d=0;d<a.length;d++){let T;for(var s=d+1;s<a.length;s++)a[d].hasOwnProperty(u)&&a[s].hasOwnProperty(u)&&a[d].hasOwnProperty(_)&&a[s].hasOwnProperty(_)&&(p?(null!=a[s][u]?a[s][_]:null==a[s][u]&&null!=a[s][_]?-1:-2)>(null!=a[d][u]?a[d][_]:null==a[d][u]&&null!=a[d][_]?-1:-2)&&(T=a[d],a[d]=a[s],a[s]=T):(null!=a[s][_]?a[s][_]:-1)>(null!=a[d][_]?a[d][_]:-1)&&(T=a[d],a[d]=a[s],a[s]=T))}return a}sortMarkASC(a,p){for(var u="confirmedAt",_="mark",d=0;d<a.length;d++){let T;for(var s=d+1;s<a.length;s++)a[d].hasOwnProperty(u)&&a[s].hasOwnProperty(u)&&a[d].hasOwnProperty(_)&&a[s].hasOwnProperty(_)&&(p?(null!=a[s][u]?a[s][_]:null==a[s][u]&&null!=a[s][_]?-1:-2)<(null!=a[d][u]?a[d][_]:null==a[d][u]&&null!=a[d][_]?-1:-2)&&(T=a[d],a[d]=a[s],a[s]=T):a[s][_]<a[d][_]&&(T=a[d],a[d]=a[s],a[s]=T))}return a}sortFirstNameStudentsInClass(a){var p=[],u="results";return a.forEach(_=>{_.hasOwnProperty(u)&&(_[u]=this.sortFirstNameStudents(_[u])),p.push(_)}),p}sortTimeStudentsInClass(a,p){var u=[],_="results";return a.forEach(d=>{d.hasOwnProperty(_)&&(d[_]=1==p?this.sortTimeDESC(d[_]):this.sortTimeASC(d[_])),u.push(d)}),u}sortMarkStudentsInClass(a,p,u){var _=[],d="results";return a.forEach(s=>{s.hasOwnProperty(d)&&(s[d]=1==p?this.sortMarkDESC(s[d]):this.sortMarkASC(s[d])),_.push(s)}),_}sortGroupName(a){if(a){var p="name";return a.sort((u,_)=>{var d,s;return u.hasOwnProperty(p)&&_.hasOwnProperty(p)?this.collator.compare(this.getGroupName(null===(d=u[p])||void 0===d?void 0:d.toString().trim()),this.getGroupName(null===(s=_[p])||void 0===s?void 0:s.toString().trim())):0})}return a}sortArrayByMultipleObjectKeyAsc(a,p,u){return a&&(a.sort((_,d)=>{var s,v,b,T;if(_.hasOwnProperty(p)&&d.hasOwnProperty(p)&&_.hasOwnProperty(u)&&d.hasOwnProperty(u)){if("pos"==p&&"id"==u){var e=_[p]<d[p]?-1:_[p]==d[p]?0:1;return 0==e?_[u]<d[u]?-1:_[u]==d[u]?0:1:e}var N=this.collator.compare(this.getFirstName(null===(s=_[p])||void 0===s?void 0:s.toString().trim()),this.getFirstName(null===(v=d[p])||void 0===v?void 0:v.toString().trim()));return 0==N?this.collator.compare(this.getFirstName(null===(b=_[u])||void 0===b?void 0:b.toString().trim()),this.getFirstName(null===(T=d[u])||void 0===T?void 0:T.toString().trim())):N}return 0}),a)}getFirstName(a){return null!=a?a.split(" ").slice(-1).join(" ").toUpperCase():""}getGroupName(a){return null!=a?a.split(" ").slice(-1).join("").toLowerCase():""}}return k.\u0275fac=function(a){return new(a||k)},k.\u0275prov=M.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},5649:(Q,D,f)=>{f.r(D),f.d(D,{TeacherGroupModule:()=>vt});var M=f(69808),m=f(93075),k=f(88341),G=f(74202),a=f(51908),p=f(1737),u=f(63728),_=f(44841),d=f(71410),s=f(75658),v=f(60157),b=f(25127),T=f(55330),e=f(5e3),P=f(35018),N=f(86317);const q=["drawer"];function B(n,r){1&n&&e._UZ(0,"azt-loading-effect")}const j=function(n){return{"class-active":n}};function R(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"button",28),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(4).clickGroup(c)}),e.TgZ(2,"mat-icon",29),e._uU(3,"people"),e.qZA(),e.TgZ(4,"span",30),e._uU(5),e.qZA()(),e.TgZ(6,"button",31)(7,"mat-icon"),e._uU(8,"more_vert"),e.qZA()(),e.TgZ(9,"mat-menu",null,32)(11,"button",33),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(4).deleteGroup(c)}),e.TgZ(12,"mat-icon"),e._uU(13,"delete"),e.qZA(),e.TgZ(14,"span"),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()(),e.TgZ(17,"button",33),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(4).editGroup(c)}),e.TgZ(18,"mat-icon"),e._uU(19,"edit"),e.qZA(),e.TgZ(20,"span"),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()()()()}if(2&n){const t=r.$implicit,o=e.MAs(10),i=e.oxw(4);e.Q6J("ngClass",e.VKq(10,j,t.id==i.groupId)),e.xp6(1),e.Q6J("id","group_id_"+t.id),e.xp6(4),e.Oqu(t.name),e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(9),e.Oqu(e.lcZ(16,6,"lang_buttom_delete")),e.xp6(6),e.Oqu(e.lcZ(22,8,"lang_buttom_edit"))}}function $(n,r){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,R,23,12,"div",26),e.ALo(2,"appFilter"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,null==t.teacherGroupObj?null:t.teacherGroupObj.groups,t.searchKey.value))}}function K(n,r){if(1&n&&e._UZ(0,"azt-create-avatar",40),2&n){const t=e.oxw().$implicit;e.MGl("matTooltip","id: ",t.teacherId,""),e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function V(n,r){if(1&n&&e._UZ(0,"azt-create-avatar",41),2&n){const t=e.oxw().$implicit;e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function X(n,r){1&n&&(e.TgZ(0,"p",42),e._uU(1,"Ch\u01b0a \u0111\u0103ng k\xfd"),e.qZA())}function ee(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"button",28),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(4).clickUser(c)}),e.YNc(2,K,1,3,"azt-create-avatar",34),e.YNc(3,V,1,2,"azt-create-avatar",35),e.TgZ(4,"div",36)(5,"p",37),e._uU(6),e.qZA(),e.TgZ(7,"p",38),e._uU(8),e.qZA(),e.YNc(9,X,2,0,"p",39),e.qZA()(),e.TgZ(10,"button",31)(11,"mat-icon"),e._uU(12,"more_vert"),e.qZA()(),e.TgZ(13,"mat-menu",null,32)(15,"button",33),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(4).deleteTeacher(c)}),e.TgZ(16,"mat-icon"),e._uU(17,"delete"),e.qZA(),e.TgZ(18,"span"),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()(),e.TgZ(21,"button",33),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(4).editTeacher(c)}),e.TgZ(22,"mat-icon"),e._uU(23,"edit"),e.qZA(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()()()()}if(2&n){const t=r.$implicit,o=e.MAs(14),i=e.oxw(4);e.Q6J("ngClass",e.VKq(14,j,t.id==i.teacherId)),e.xp6(1),e.Q6J("id","teacher_id_"+t.id),e.xp6(1),e.Q6J("ngIf",null!=t.teacherId),e.xp6(1),e.Q6J("ngIf",null==t.teacherId),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.Oqu(t.phone),e.xp6(1),e.Q6J("ngIf",null==t.teacherId),e.xp6(1),e.Q6J("matMenuTriggerFor",o),e.xp6(9),e.Oqu(e.lcZ(20,10,"lang_buttom_delete")),e.xp6(6),e.Oqu(e.lcZ(26,12,"lang_buttom_edit"))}}function te(n,r){if(1&n&&(e.TgZ(0,"div",25),e.YNc(1,ee,27,16,"div",26),e.ALo(2,"appFilter"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,null==t.teacherGroupObj?null:t.teacherGroupObj.teachers,t.searchKey.value))}}const z=function(){return{suppressScrollX:!0}};function ne(n,r){if(1&n&&(e.TgZ(0,"div",22)(1,"perfect-scrollbar",23),e.YNc(2,$,3,4,"div",24),e.YNc(3,te,3,4,"div",24),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("config",e.DdM(4,z))("scrollIndicators",!0),e.xp6(1),e.Q6J("ngIf",null==t.teacherGroupObj?null:t.teacherGroupObj.groups),e.xp6(1),e.Q6J("ngIf",null==t.teacherGroupObj?null:t.teacherGroupObj.teachers)}}function oe(n,r){1&n&&(e.TgZ(0,"div",43)(1,"span",44),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_teacher_group_group_note_not_found_group_and_teacher")))}function ie(n,r){1&n&&(e.TgZ(0,"div",45)(1,"div",46)(2,"span",47),e._uU(3,"Loading..."),e.qZA()()())}function ae(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).toggleDrawer()}),e.ALo(1,"mytranslate"),e.TgZ(2,"mat-icon",58),e._uU(3," menu_open"),e.qZA()()}2&n&&e.s9C("matTooltip",e.lcZ(1,1,"lang_teacher_group_group_open_menu"))}function re(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",57),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).toggleDrawer()}),e.ALo(1,"mytranslate"),e.TgZ(2,"mat-icon",59),e._uU(3,"menu_open"),e.qZA()()}2&n&&e.s9C("matTooltip",e.lcZ(1,1,"lang_teacher_group_group_close_menu"))}function ce(n,r){if(1&n&&e._UZ(0,"azt-create-avatar",40),2&n){const t=e.oxw().$implicit;e.MGl("matTooltip","id: ",t.teacherId,""),e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function le(n,r){if(1&n&&e._UZ(0,"azt-create-avatar",41),2&n){const t=e.oxw().$implicit;e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function se(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",88),e.YNc(1,ce,1,3,"azt-create-avatar",34),e.YNc(2,le,1,2,"azt-create-avatar",35),e.TgZ(3,"div",36)(4,"p",37),e._uU(5),e.qZA()(),e.TgZ(6,"button",89),e.NdJ("click",function(){const i=e.CHM(t),c=i.$implicit,l=i.index;return e.oxw(4).deleteDialog(c,l)}),e._UZ(7,"i",90),e.ALo(8,"mytranslate"),e.qZA()()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",null!=t.teacherId),e.xp6(1),e.Q6J("ngIf",null==t.teacherId),e.xp6(3),e.Oqu(t.fullName),e.xp6(2),e.s9C("matTooltip",e.lcZ(8,4,"lang_buttom_delete"))}}function de(n,r){if(1&n&&e._UZ(0,"azt-create-avatar",40),2&n){const t=e.oxw().$implicit;e.MGl("matTooltip","id:",t.teacherId,""),e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function _e(n,r){if(1&n&&e._UZ(0,"azt-create-avatar",41),2&n){const t=e.oxw().$implicit;e.Q6J("nameCreateAvatar",t.fullName)("size",30)}}function pe(n,r){1&n&&e._UZ(0,"div",95)}const ue=function(n){return{"color-disabled":n}};function he(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",92)(2,"button",93),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw(5).addMemberInGroup(c)}),e.YNc(3,de,1,3,"azt-create-avatar",34),e.YNc(4,_e,1,2,"azt-create-avatar",35),e.TgZ(5,"div",36)(6,"p",37),e._uU(7),e.qZA()()(),e.YNc(8,pe,1,0,"div",94),e.qZA()()}if(2&n){const t=r.$implicit,o=e.oxw(5);e.xp6(1),e.Q6J("disabled",0==o.isLoadingMoreMembers),e.xp6(1),e.Q6J("ngClass",e.VKq(6,ue,t.inGroup)),e.xp6(1),e.Q6J("ngIf",null!=t.teacherId),e.xp6(1),e.Q6J("ngIf",null==t.teacherId),e.xp6(3),e.hij(" ",t.fullName,""),e.xp6(1),e.Q6J("ngIf",o.isLoadingMoreMembers==t.id)}}function ge(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,he,9,8,"div",91),e.ALo(2,"appFilter"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,t.dataTeacherSearch,t.searchValue.value))}}function me(n,r){1&n&&(e.TgZ(0,"div",96)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_not_data")))}function fe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",60)(1,"div",61)(2,"div",62)(3,"h3",63),e._uU(4),e.ALo(5,"mytranslate"),e.TgZ(6,"span",64),e._uU(7),e.qZA()()(),e.TgZ(8,"div",65)(9,"button",66)(10,"i",67),e._uU(11,"person_add"),e.qZA(),e.TgZ(12,"span",68),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()(),e.TgZ(15,"button",69),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).deleteAllTeacherGroup()}),e.TgZ(16,"i",67),e._uU(17,"delete"),e.qZA(),e.TgZ(18,"span",68),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()(),e.TgZ(21,"mat-menu",null,70)(23,"div",71),e.NdJ("click",function(i){return i.stopPropagation()}),e.TgZ(24,"div",72)(25,"p",73),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"form",74),e._UZ(29,"textarea",75),e.qZA()(),e.TgZ(30,"div",76)(31,"small",77),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()(),e.TgZ(34,"div",78)(35,"button",79),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).addAllTeacherToGroup()}),e.TgZ(36,"i",67),e._uU(37,"add"),e.qZA(),e.TgZ(38,"span",68),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()()()()()()(),e.TgZ(41,"div",80),e.YNc(42,se,9,6,"div",81),e.TgZ(43,"div",82)(44,"button",83),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).addMember()}),e.TgZ(45,"i",67),e._uU(46,"person_add"),e.qZA(),e.TgZ(47,"span",84),e._uU(48),e.ALo(49,"mytranslate"),e.qZA()(),e.TgZ(50,"mat-menu",null,32)(52,"div",71),e.NdJ("click",function(i){return i.stopPropagation()}),e.TgZ(53,"div",9),e._UZ(54,"input",85),e.ALo(55,"mytranslate"),e.TgZ(56,"mat-icon",11),e._uU(57,"search"),e.qZA()(),e.TgZ(58,"div",86)(59,"div",25),e.YNc(60,ge,3,4,"div",1),e.YNc(61,me,4,3,"ng-template",null,87,e.W1O),e.qZA()()()()()()()}if(2&n){const t=e.MAs(22),o=e.MAs(51),i=e.MAs(62),c=e.oxw(3);e.xp6(4),e.hij(" ",e.lcZ(5,16,"lang_teacher_group_group_member_in_group"),": "),e.xp6(3),e.hij(" ",null==c.groupObj?null:c.groupObj.name," "),e.xp6(2),e.Q6J("matMenuTriggerFor",t),e.xp6(4),e.Oqu(e.lcZ(14,18,"lang_teacher_group_group_more")),e.xp6(6),e.Oqu(e.lcZ(20,20,"lang_buttom_delete_all")),e.xp6(7),e.hij(" ",e.lcZ(27,22,"lang_teacher_group_group_list_phone_teacher"),""),e.xp6(2),e.Q6J("formGroup",c.form),e.xp6(4),e.hij("* ",e.lcZ(33,24,"lang_teacher_group_group_note_enter_phone"),"."),e.xp6(7),e.Oqu(e.lcZ(40,26,"lang_buttom_add")),e.xp6(3),e.Q6J("ngForOf",c.teachersInGroup),e.xp6(2),e.Q6J("matMenuTriggerFor",o),e.xp6(4),e.Oqu(e.lcZ(49,28,"lang_teacher_group_group_add_member")),e.xp6(6),e.s9C("placeholder",e.lcZ(55,30,"lang_teacher_group_group_search_name_or_phone")),e.Q6J("formControl",c.searchValue),e.xp6(6),e.Q6J("ngIf",c.dataTeacherSearch)("ngIfElse",i)}}function ve(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",113)(1,"input",114),e.NdJ("change",function(i){const l=e.CHM(t).index,h=e.oxw(2).index;return e.oxw(5).onCheckChange(i,h,l)}),e.qZA(),e.TgZ(2,"label",115),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,o=r.index,i=e.oxw(2).index;e.xp6(1),e.Q6J("id","role_"+i+"_"+o)("checked",t.checked),e.xp6(1),e.Q6J("for","role_"+i+"_"+o),e.xp6(1),e.hij(" ",t.description," ")}}function xe(n,r){if(1&n&&(e.TgZ(0,"div",108)(1,"div",109)(2,"h3",110),e._uU(3),e.qZA(),e.TgZ(4,"div",111),e.YNc(5,ve,4,4,"div",112),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.s9C("matTooltip",t.name),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngForOf",t.permissionArray)}}function be(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",113)(1,"input",114),e.NdJ("change",function(i){const l=e.CHM(t).index,h=e.oxw(2).index;return e.oxw(5).onCheckChange(i,h,l)}),e.qZA(),e.TgZ(2,"label",115),e._uU(3),e.qZA()()}if(2&n){const t=r.$implicit,o=r.index,i=e.oxw(2).index;e.xp6(1),e.Q6J("id","role_"+i+"_"+o)("checked",t.checked),e.xp6(1),e.Q6J("for","role_"+i+"_"+o),e.xp6(1),e.hij(" ",t.description," ")}}function Te(n,r){if(1&n&&(e.TgZ(0,"div",108)(1,"div",109)(2,"h3",110),e._uU(3),e.qZA(),e.TgZ(4,"div",111),e.YNc(5,be,4,4,"div",112),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.s9C("matTooltip",t.name),e.xp6(1),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngForOf",t.permissionArray)}}function Ce(n,r){if(1&n&&(e.ynx(0),e.YNc(1,xe,6,3,"div",107),e.YNc(2,Te,6,3,"div",107),e.BQk()),2&n){const t=r.$implicit,o=e.oxw(5);e.xp6(1),e.Q6J("ngIf",o.hasPermissionClass.value&&t.teamPermisions),e.xp6(1),e.Q6J("ngIf",!o.hasPermissionClass.value)}}function Oe(n,r){if(1&n&&(e.TgZ(0,"div",105)(1,"div",106),e.YNc(2,Ce,3,2,"ng-container",91),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",t.classListData)}}function Ae(n,r){1&n&&(e.TgZ(0,"div",116)(1,"span",44),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_not_data")))}function Ze(n,r){if(1&n&&(e.TgZ(0,"div",97)(1,"div",61)(2,"div",62)(3,"h3",63),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"a",98)(7,"span"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e._UZ(10,"i",99),e.qZA()(),e.TgZ(11,"div",100),e._UZ(12,"input",101),e.TgZ(13,"label",102),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()(),e.YNc(16,Oe,3,1,"div",103),e.YNc(17,Ae,4,3,"ng-template",null,104,e.W1O),e.qZA()),2&n){const t=e.MAs(18),o=e.oxw(3);e.xp6(4),e.hij(" ",e.lcZ(5,6,"lang_teacher_group_group_decentralization_in_class")," "),e.xp6(4),e.Oqu(e.lcZ(9,8,"lang_teacher_group_group_learn_about")),e.xp6(4),e.Q6J("formControl",o.hasPermissionClass),e.xp6(2),e.hij(" ",e.lcZ(15,10,"lang_teacher_group_group_vew_class_have_permision")," "),e.xp6(2),e.Q6J("ngIf",o.classListData&&o.classListData.length>0)("ngIfElse",t)}}function Me(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",48)(1,"div",49),e.YNc(2,ae,4,3,"a",50),e.YNc(3,re,4,3,"a",50),e.qZA(),e.TgZ(4,"div",51)(5,"perfect-scrollbar",23),e.YNc(6,fe,63,32,"div",52),e.YNc(7,Ze,19,12,"div",53),e.qZA()(),e.TgZ(8,"div",54)(9,"button",55),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).clickCannel()}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).saveData()}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!t.isOpenSideNav||t.isMobile),e.xp6(1),e.Q6J("ngIf",t.isOpenSideNav&&!t.isMobile),e.xp6(2),e.Q6J("config",e.DdM(12,z))("scrollIndicators",!0),e.xp6(1),e.Q6J("ngIf",t.checkGroup),e.xp6(1),e.Q6J("ngIf",t.checkRoleUser),e.xp6(3),e.hij(" ",e.lcZ(11,8,"lang_buttom_cancel")," "),e.xp6(3),e.hij(" ",e.lcZ(14,10,"lang_buttom_save")," ")}}function we(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-delete-dialog",117),e.NdJ("closeDialog",function(i){return e.CHM(t),e.oxw(2).closeDeleteMemberInGroup(i)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("data",t.dataDeleteDialog)}}function Pe(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-add-teacher",117),e.NdJ("closeDialog",function(i){return e.CHM(t),e.oxw(2).closeAddTeacher(i)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("data",t.dataAddTeacherDialog)}}function ye(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"app-add-group",117),e.NdJ("closeDialog",function(i){return e.CHM(t),e.oxw(2).closeAddGroup(i)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("data",t.dataAddGroupDialog)}}const ke=function(n,r){return{"w-80":n,"w-33":r}};function Ge(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",3),e.NdJ("resize",function(i){return e.CHM(t),e.oxw().onResize(i)},!1,e.Jf7),e.TgZ(1,"mat-drawer-container",4)(2,"mat-drawer",5,6)(4,"div",7)(5,"div",8)(6,"div",9),e._UZ(7,"input",10),e.TgZ(8,"mat-icon",11),e._uU(9,"search"),e.qZA()(),e.YNc(10,ne,4,5,"div",12),e.YNc(11,oe,4,3,"ng-template",null,13,e.W1O),e.TgZ(13,"div",14)(14,"button",15),e.NdJ("click",function(){return e.CHM(t),e.oxw().addTeacher()}),e._uU(15),e.ALo(16,"mytranslate"),e.qZA(),e.TgZ(17,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().addGroup()}),e._uU(18),e.ALo(19,"mytranslate"),e.qZA()()()()(),e.TgZ(20,"mat-drawer-content",17)(21,"div",18),e.YNc(22,ie,4,0,"div",19),e.YNc(23,Me,15,13,"ng-template",null,20,e.W1O),e.qZA()()(),e.YNc(25,we,1,1,"app-delete-dialog",21),e.YNc(26,Pe,1,1,"app-add-teacher",21),e.YNc(27,ye,1,1,"app-add-group",21),e.qZA()}if(2&n){const t=e.MAs(12),o=e.MAs(24),i=e.oxw();e.xp6(1),e.Q6J("hasBackdrop",i.hasBackdrop),e.xp6(1),e.s9C("opened",i.isMobile?"false":"true"),e.Q6J("mode",i.mode)("ngClass",e.WLB(18,ke,i.isMobile,!i.isMobile)),e.xp6(5),e.Q6J("formControl",i.searchKey),e.xp6(3),e.Q6J("ngIf",(null==i.teacherGroupObj||null==i.teacherGroupObj.groups?null:i.teacherGroupObj.groups.length)||(null==i.teacherGroupObj||null==i.teacherGroupObj.teachers?null:i.teacherGroupObj.teachers.length))("ngIfElse",t),e.xp6(5),e.hij("+ ",e.lcZ(16,14,"lang_teacher_group_group_add_student"),""),e.xp6(3),e.hij("+ ",e.lcZ(19,16,"lang_teacher_group_group_add_group_teacher"),""),e.xp6(4),e.Q6J("ngIf",i.isLoadingData)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.dataDeleteDialog.isShow),e.xp6(1),e.Q6J("ngIf",null==i.dataAddTeacherDialog?null:i.dataAddTeacherDialog.isShow),e.xp6(1),e.Q6J("ngIf",null==i.dataAddGroupDialog?null:i.dataAddGroupDialog.isShow)}}let E=(()=>{class n extends T.Q{constructor(t,o,i,c,l,h,g){super(o),this.activeRoute=t,this.commonService=o,this.fb=i,this.vps=c,this.teacherGroupService=l,this.permisionTeamService=h,this.sortService=g,this.form=new m.cw({}),this.isLoadingData=!1,this.type=2,this.hasBackdrop=!1,this.mode="side",this.isMobile=!1,this.isShowActions=!0,this.isOpenSideNav=!0,this.addMemberDialog=!1,this.checkGroup=!1,this.checkRoleUser=!1,this.dataDeleteDialog={isShow:!1,index:-1},this.searchValue=new m.NI(""),this.searchKey=new m.NI(""),this.classListData=[],this.hasPermissionClass=new m.NI(!1),this.dataTeacherSearch=[]}onScroll(){const t=window.pageYOffset;if(this.isMobile){let o=document.getElementById("toggle-nav");t>0?null==o||o.classList.add("fixed-nav"):null==o||o.classList.remove("fixed-nav")}}clickCannel(){this.checkGroup&&this.checkRoleUser?this.getTeacherInGroup(this.groupId):this.getPermissionMyTeacher(this.teacherId)}addTeacher(){this.dataAddTeacherDialog={isShow:!0,type:"add_teacher"}}editTeacher(t){this.dataAddTeacherDialog={teamTeacherObj:t,isShow:!0,type:"edit_teacher"}}deleteTeacher(t){this.dataDeleteDialog={teamTeacherObj:t,groupId:this.groupId,isShow:!0,index:0,type:"delete_teacher"}}editGroup(t){this.dataAddGroupDialog={groupWithTeacherData:t,isShow:!0,type:"edit_group"}}deleteGroup(t){this.dataDeleteDialog={groupWithTeacherData:t,groupId:this.groupId,isShow:!0,index:0,type:"delete_group"}}addGroup(){this.dataAddGroupDialog={isShow:!0,type:"add_group"}}addMember(){this.addMemberDialog=!this.addMemberDialog}closeAddTeacher(t){t?(this.dataAddTeacherDialog={isShow:!1},this.getData()):this.dataAddTeacherDialog={isShow:!1}}closeAddGroup(t){t?(this.dataAddGroupDialog={isShow:!1},this.getData()):this.dataAddGroupDialog={isShow:!1}}clickGroup(t){this.checkGroup=!0,this.checkRoleUser=!0,this.groupId=t.id,this.teacherId=void 0,this.getTeacherInGroup(this.groupId),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/0/"+this.groupId)}clickUser(t){this.checkGroup=!1,this.checkRoleUser=!0,this.teacherId=t.id,this.groupId=void 0,this.getPermissionMyTeacher(t.id),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/1/"+this.teacherId)}closeDeleteMemberInGroup(t){var o;if(t)switch(t.type){case"delete_member":this.getTeacherInGroup(this.groupId),this.dataDeleteDialog.index&&(null===(o=this.teachersInGroup)||void 0===o||o.splice(this.dataDeleteDialog.index,1)),this.dataDeleteDialog={isShow:!1,index:-1};break;case"delete_group":case"delete_teacher":this.getData(),this.dataDeleteDialog={isShow:!1,index:-1},this.commonService.myNavigation("/admin/teacher-group/2/0");break;case"delete_all_teacher_group":this.getTeacherInGroup(this.groupId),this.dataDeleteDialog={isShow:!1,index:-1}}else this.dataDeleteDialog={isShow:!1,index:-1}}deleteDialog(t,o){this.dataDeleteDialog={teamTeacherObj:t,groupId:this.groupId,isShow:!0,index:o,type:"delete_member"}}deleteAllTeacherGroup(){var t;let o=[];null===(t=this.teachersInGroup)||void 0===t||t.forEach(i=>{this.commonService.filterArray(o,i.id)||i.id&&o.push(i.id)}),this.dataDeleteDialog={groupObj:this.groupObj,teacherIds:o,type:"delete_all_teacher_group",isShow:!0}}toggleShowActions(){this.isShowActions=!this.isShowActions}toggleDrawer(){var t;null===(t=this.drawer)||void 0===t||t.toggle(),this.isOpenSideNav=!this.isOpenSideNav}onResize(t){t.target.innerWidth<1200?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0,this.isShowActions=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1,this.isShowActions=!0,this.isOpenSideNav=!0)}checkWidth(){window.innerWidth<1200?(this.isMobile=!0,this.mode="over",this.isShowActions=!0,this.hasBackdrop=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.isShowActions=!0,this.hasBackdrop=!1)}getData(){this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetObjsGet().subscribe(t=>{var o,i,c,l,h,g;1===t.success?(this.teacherGroupObj=t.data,(null===(o=this.teacherGroupObj)||void 0===o?void 0:o.teachers)&&(this.teacherGroupObj.teachers=this.sortService.sortFirstNameStudents(this.teacherGroupObj.teachers)),(null===(i=this.teacherGroupObj)||void 0===i?void 0:i.groups)&&(null===(l=null===(c=this.teacherGroupObj)||void 0===c?void 0:c.groups)||void 0===l?void 0:l.length)>0?(this.checkGroup=!0,this.checkRoleUser=!0,this.getTeacherInGroup(this.teacherGroupObj.groups[0].id)):(this.checkGroup=!1,this.checkRoleUser=!1),(null===(h=this.teacherGroupObj)||void 0===h?void 0:h.groups)&&0===this.teacherGroupObj.groups.length&&this.teacherGroupObj.teachers&&this.teacherGroupObj.teachers.length>0&&(this.checkGroup=!1,this.checkRoleUser=!0,this.getPermissionMyTeacher(this.teacherGroupObj.teachers[0].id)),this.successStatusObj()):this.errorStatusObj(null!==(g=t.message)&&void 0!==g?g:"",!0)})}getTeacherInGroup(t){this.isLoadingData=!0,this.permisionTeamService.apiPermisionTeamGetAllPermisionWithGroupGet(t).subscribe(o=>{var i,c,l,h,g,C;1===o.success?(this.teachersInGroup=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.teacherObjs,this.groupId=null===(l=null===(c=null==o?void 0:o.data)||void 0===c?void 0:c.groupObj)||void 0===l?void 0:l.id,this.teacherId=void 0,this.groupObj=null===(h=null==o?void 0:o.data)||void 0===h?void 0:h.groupObj,this.processData(null!==(C=null===(g=o.data)||void 0===g?void 0:g.classObjs)&&void 0!==C?C:[]),setTimeout(()=>{this.checkTeacherInGroup()},1e3)):0===t?this.isLoadingData=!1:this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1})}checkTeacherInGroup(){var t,o,i;this.dataTeacherSearch=null!==(o=this.commonService.myClone(null===(t=this.teacherGroupObj)||void 0===t?void 0:t.teachers))&&void 0!==o?o:[];let c=this.teachersInGroup?this.teachersInGroup.length:0;for(let l=0;l<c;l++)for(let h=0;h<this.dataTeacherSearch.length;h++)(null===(i=this.teachersInGroup)||void 0===i?void 0:i[l].id)===this.dataTeacherSearch[h].id&&(this.dataTeacherSearch[h].inGroup=!0)}getPermissionMyTeacher(t){this.isLoadingData=!0,this.permisionTeamService.apiPermisionTeamGetAllPermisionWithMemberGet(t).subscribe(o=>{var i,c;1===o.success?(this.teacherId=t,this.processData(null!==(c=null===(i=o.data)||void 0===i?void 0:i.objs)&&void 0!==c?c:[])):this.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1})}processData(t){var o,i,c,l,h,g,C;let Z=null!==(o=t.length)&&void 0!==o?o:0;this.classListData=[];for(let x=0;x<Z;x++){let y=Object.assign(Object.assign({},t[x]),{permissionArray:null!==(i=this.commonService.myClone(this.permissionData))&&void 0!==i?i:[],permissionIds:[]});null===(c=this.classListData)||void 0===c||c.push(y)}for(let x=0;x<this.classListData.length;x++)if(this.classListData[x].permissionArray){let y=null!==(h=null===(l=this.classListData[x].permissionArray)||void 0===l?void 0:l.length)&&void 0!==h?h:0;for(let O=0;O<y;O++)if(this.classListData[x].teamPermisions&&(null===(g=this.classListData[x].teamPermisions)||void 0===g?void 0:g[O]))switch(null===(C=this.classListData[x].teamPermisions)||void 0===C?void 0:C[O].id){case 1:this.classListData[x].permissionArray[0].checked=!0;break;case 2:this.classListData[x].permissionArray[1].checked=!0;break;case 3:this.classListData[x].permissionArray[2].checked=!0}}}getPermissionObjs(){this.initStatusObj(),this.permisionTeamService.apiPermisionTeamGetAllPermisionsGet(1).subscribe(o=>{var i;1===o.success?this.permissionData=null===(i=o.data)||void 0===i?void 0:i.objs:this.showErrorSnack("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng")})}addMemberInGroup(t){this.isLoadingMoreMembers=t.id,this.teacherGroupService.apiTeacherGroupAddTeacherWithGroupPost({groupId:this.groupId,teacherTeamId:t.id}).subscribe(i=>{var c,l;1===i.success?(null===(c=this.teachersInGroup)||void 0===c||c.push(t),this.isLoadingMoreMembers=!1,this.checkTeacherInGroup(),this.commonService.snackSuccess("Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m th\xe0nh c\xf4ng","")):this.showErrorSnack(null!==(l=i.message)&&void 0!==l?l:""),this.isLoadingMoreMembers=!1,this.searchValue.setValue("")})}addAllTeacherToGroup(){let t=this.commonService.getFormObj(this.form),o=t.listPhone?t.listPhone.toString():"",i=[];o.includes("\n")?o.split("\n").forEach(l=>{this.commonService.filterArray(i,l)||""!=l.trim()&&i.push(l.trim())}):o.split(" ").forEach(l=>{this.commonService.filterArray(i,l)||""!=l.trim()&&i.push(l.trim())}),this.teacherGroupService.apiTeacherGroupAddTeachersWithGroupPost({groupId:this.groupId,TeacherPhone:i}).subscribe(l=>{var h,g,C;if(1===l.success){this.getTeacherInGroup(this.groupId);let Z=(null===(h=null==l?void 0:l.data)||void 0===h?void 0:h.countSave)?l.data.countSave:0,x=(null===(g=null==l?void 0:l.data)||void 0===g?void 0:g.totalTeacher)?l.data.totalTeacher:0;Z===x?this.showSuccessSnack("Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m th\xe0nh c\xf4ng"):this.commonService.snackSuccess("Th\xeam th\xe0nh c\xf4ng "+Z+"/"+x+" gi\xe1o vi\xean v\xe0o nh\xf3m!","")}else this.showErrorSnack(null!==(C=l.message)&&void 0!==C?C:""),this.isLoadingData=!1})}onCheckChange(t,o,i){this.classListData[o].permissionArray[i].checked=!!t.target.checked}saveData(){var t,o,i,c,l,h,g,C,Z,x;let y={groupId:this.groupId,classWithPermissions:[]},O={teacherId:this.teacherId,classWithPermissions:[]},A={classId:-1,permissionIds:[]},xt=null!==(o=null===(t=this.classListData)||void 0===t?void 0:t.length)&&void 0!==o?o:0;for(let w=0;w<xt;w++)if(null===(i=this.classListData)||void 0===i?void 0:i[w]){this.classListData[w].permissionIds=[],A.classId=this.classListData[w].id;let bt=null!==(l=null===(c=this.classListData[w].permissionArray)||void 0===c?void 0:c.length)&&void 0!==l?l:0;for(let J=0;J<bt;J++)(null===(h=this.classListData[w].permissionArray)||void 0===h?void 0:h[J].checked)&&(null===(g=this.classListData[w].permissionIds)||void 0===g||g.push(null!==(C=this.classListData[w].permissionArray[J].id)&&void 0!==C?C:-1),A.permissionIds=this.classListData[w].permissionIds);this.checkGroup?null===(Z=y.classWithPermissions)||void 0===Z||Z.push(A):null===(x=O.classWithPermissions)||void 0===x||x.push(A),A={classId:-1,permissionIds:[]}}this.isLoadingData=!0,this.checkGroup?this.permisionTeamService.apiPermisionTeamUpdateGroupPermissionPost(y).subscribe(w=>{1===w.success?(this.getTeacherInGroup(this.groupId),this.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")):(this.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1)}):this.permisionTeamService.apiPermisionTeamUpdateTeacherPermissionPost(O).subscribe(w=>{1===w.success?(this.getPermissionMyTeacher(this.teacherId),this.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")):(this.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),this.isLoadingData=!1)})}ngOnInit(){var t,o;this.form=this.fb.group({listPhone:[""]}),this.type=null!==(t=this.commonService.getMyParam(this.activeRoute,"type"))&&void 0!==t?t:"";let i=null!==(o=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==o?o:"0";if(this.getData(),this.getPermissionObjs(),this.checkWidth(),this.type&&i){let c=Number(i);switch(this.type){case"0":this.checkGroup=!0,this.checkRoleUser=!0,this.groupId=c,this.vps.scrollToAnchor("group_id_"+this.groupId);break;case"1":this.checkGroup=!1,this.checkRoleUser=!0,this.teacherId=c,this.vps.scrollToAnchor("teacher_id_"+this.teacherId),this.getPermissionMyTeacher(this.teacherId)}}this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(G.gz),e.Y36(P.v),e.Y36(m.qu),e.Y36(M.EM),e.Y36(b.Kq),e.Y36(b.$W),e.Y36(N.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-group-teacher"]],viewQuery:function(t,o){if(1&t&&e.Gf(q,5),2&t){let i;e.iGM(i=e.CRH())&&(o.drawer=i.first)}},hostBindings:function(t,o){1&t&&e.NdJ("scroll",function(c){return o.onScroll(c)},!1,e.Jf7)},features:[e.qOj],decls:5,vars:6,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["id","teacher-group",1,"container","mt-3","pb-mb-80",3,"resize"],[1,"group_container",2,"border-radius","5px",3,"hasBackdrop"],[1,"bg-custom",3,"mode","opened","ngClass"],["drawer",""],[1,"container-fluid","pl-0","p-mbr-0"],[1,"slider-nav"],[1,"search"],["type","text","placeholder","T\xecm t\xean ho\u1eb7c S\u0110T",1,"search-input",3,"formControl"],[1,"search-icon"],["class","group",4,"ngIf","ngIfElse"],["blockElse",""],[1,"slider-bottom"],[1,"btn-add","mr-3",3,"click"],[1,"btn-add",3,"click"],[1,"mat-drawer-custom"],[1,"container-fluid","p-0"],["class","slider-content","style","display: flex; justify-content: center; align-items: center;",4,"ngIf","ngIfElse"],["doneLoadingData",""],[3,"data","closeDialog",4,"ngIf"],[1,"group"],[3,"config","scrollIndicators"],["class","group-content",4,"ngIf"],[1,"group-content"],["class","group-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"group-item",3,"ngClass"],[1,"group-btn",3,"id","click"],[1,"group-icon"],[1,"group-name",2,"text-align","left"],["mat-icon-button","",1,"group-btn-menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[3,"matTooltip","nameCreateAvatar","size",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"group-info"],[1,"group-name"],[1,"group-text"],["style","margin-top: 1px;","class","group-text",4,"ngIf"],[3,"matTooltip","nameCreateAvatar","size"],[3,"nameCreateAvatar","size"],[1,"group-text",2,"margin-top","1px"],[1,"group",2,"display","flex","justify-content","center","align-items","center"],[1,"note-text"],[1,"slider-content",2,"display","flex","justify-content","center","align-items","center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"slider-content"],["id","toggle-nav",1,"toggle-nav"],["class","clickable",3,"matTooltip","click",4,"ngIf"],[1,"slider-body-main"],["class","slider-content-block mt-2 mb-0",4,"ngIf"],["class","slider-content-block mt-2",4,"ngIf"],["id","slider-content-footer ",1,"slider-content-footer"],[1,"btn-cannel",3,"click"],[1,"btn-save",3,"click"],[1,"clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#646464","transform","rotateY(180deg)"],[2,"vertical-align","middle","color","#646464"],[1,"slider-content-block","mt-2","mb-0"],[1,"slider-bar"],[1,"slider-bar-left"],[1,"slider-bar-title"],[2,"font-weight","bold"],[1,"slider-bar-right","d-flex","align-self-center"],[1,"btn-add-member",3,"matMenuTriggerFor"],[1,"material-icons"],[2,"vertical-align","middle","margin-top","3px"],[1,"btn-del-all-member",3,"click"],["menuAddMultiple","matMenu"],[1,"search-member",3,"click"],[1,"text-center"],[1,"mb-1",2,"font-size","14px","font-weight","450"],[1,"form-horizontal",3,"formGroup"],["type","text","id","add_all_teacher_phone","rows","10","formControlName","listPhone",1,"form-control"],[1,"text-justify"],[1,"pt-1","text-justify",2,"color","#00000066","line-height","0"],[1,"d-flex","justify-content-end"],[1,"btn-add-all-member",3,"click"],[1,"slider-bar-body"],["class","group-body-item",4,"ngFor","ngForOf"],[1,"add-member"],[1,"btn-add-member",3,"matMenuTriggerFor","click"],[2,"vertical-align","middle","margin-top","2px"],["type","text",1,"search-input",3,"placeholder","formControl"],[1,"search-result"],["dataNull",""],[1,"group-body-item"],[1,"btn-delete",3,"click"],[1,"fa","fa-times",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"group-item",3,"disabled"],[1,"group-btn",3,"ngClass","click"],["class","spinner-border spinner-border-sm","style","color: silver;","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","silver"],[2,"display","flex","justify-content","center","align-items","center"],[1,"slider-content-block","mt-2"],["href","","target","_blank",1,"link-research","d-none"],[1,"fa","fa-external-link-alt"],[1,"slider-bar-right"],["type","checkbox","id","checkbox_role_hiden",1,"checkbox-input",3,"formControl"],["for","checkbox_role_hiden",1,"text-checkbox"],["class","slider-body",4,"ngIf","ngIfElse"],["templateElse",""],[1,"slider-body"],[1,"row"],["class","col-md-6 col-lg-4 col-xs-12 px-2 mb-3",4,"ngIf"],[1,"col-md-6","col-lg-4","col-xs-12","px-2","mb-3"],[1,"role-teacher"],[1,"class-title",3,"matTooltip"],[1,"role-content"],["class","role-item",4,"ngFor","ngForOf"],[1,"role-item"],["type","checkbox",1,"checkbox-input",3,"id","checked","change"],[1,"text-checkbox",3,"for"],[1,"slider-body",2,"display","flex","justify-content","center","align-items","center"],[3,"data","closeDialog"]],template:function(t,o){if(1&t&&(e._UZ(0,"header-backend",0),e.ALo(1,"mytranslate"),e.YNc(2,B,1,0,"azt-loading-effect",1),e.YNc(3,Ge,28,21,"ng-template",null,2,e.W1O)),2&t){const i=e.MAs(4);e.Q6J("headerTitle",e.lcZ(1,4,"lang_teacher_group_group_header_title"))("back_link","/admin/testbank/dashboard"),e.xp6(2),e.Q6J("ngIf",o.statusObj.loading)("ngIfElse",i)}},styles:["*[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px);padding:15px}.slider-content[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9e9e9;height:calc(100vh - 80px);border-radius:5px;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:15px;margin-bottom:15px}.add-member[_ngcontent-%COMP%]{margin-bottom:15px;position:relative;display:flex}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{background:#fff;border-radius:5px;padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:3px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;padding:4px;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#eee}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.group-item[_ngcontent-%COMP%]:hover{background:#eee;border-radius:5px}@media screen and (max-width: 1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width: 480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0px;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width: 321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),n})();var Ie=f(37389),Y=f(45668);const De=[{path:"",component:E,canActivate:[Y.J],children:[{path:"",canActivateChild:[Y.J],children:[{path:"",component:E}]}]}];let Ne=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[G.Bz.forChild(De)],G.Bz,Ie.fQ]}),n})();var F=f(41303),W=f(16384),S=f(51377),I=f(1033);function Se(n,r){1&n&&(e.TgZ(0,"p",22),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_teacher_group_utilt_add_group_add_group_teacher")))}function Je(n,r){1&n&&(e.TgZ(0,"p",22),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_teacher_group_utilt_add_group_edit_group_teacher")))}function qe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"lang_required_enter_name_group"),"!"))}function Ee(n,r){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,qe,3,3,"div",21),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("groupName","noWhiteSpace"))}}function Ue(n,r){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",24),e._uU(2,"\xa0"),e.qZA())}function Le(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_buttom_save")))}function Qe(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_buttom_update")))}function je(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"form",3)(3,"div",4),e.YNc(4,Se,3,3,"p",5),e.YNc(5,Je,3,3,"p",5),e.TgZ(6,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().btnCloseDialog(!1)}),e._UZ(7,"i",7),e.qZA()(),e.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"label",11),e._uU(12),e.ALo(13,"mytranslate"),e.qZA(),e.TgZ(14,"div",12),e._UZ(15,"input",13),e.ALo(16,"mytranslate"),e.qZA(),e.YNc(17,Ee,2,1,"div",14),e.qZA()()(),e.TgZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"div",18)(22,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().btnCloseDialog(!1)}),e._uU(23),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmAction()}),e.YNc(26,Ue,3,0,"span",21),e.YNc(27,Le,3,3,"span",21),e.YNc(28,Qe,3,3,"span",21),e.qZA()()()()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(2),e.Q6J("ngIf","add_group"===(null==t.data?null:t.data.type)),e.xp6(1),e.Q6J("ngIf","edit_group"===(null==t.data?null:t.data.type)),e.xp6(7),e.Oqu(e.lcZ(13,11,"lang_teacher_group_utilt_add_group_lable_group")),e.xp6(3),e.s9C("placeholder",e.lcZ(16,13,"lang_teacher_group_utilt_add_group_lable_group")),e.xp6(2),e.Q6J("ngIf",t.form.controls.groupName.invalid&&t.form.controls.groupName.dirty),e.xp6(6),e.hij(" ",e.lcZ(24,15,"lang_buttom_cancel")," "),e.xp6(2),e.Q6J("disabled",t.statusObj.loading||t.form.invalid),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.Q6J("ngIf","add_group"===(null==t.data?null:t.data.type)),e.xp6(1),e.Q6J("ngIf","edit_group"===(null==t.data?null:t.data.type))}}let ze=(()=>{class n extends T.Q{constructor(t,o,i,c){super(o),this.fb=t,this.commonService=o,this.baseApiService=i,this.teacherGroupService=c,this.closeDialog=new e.vpe,this.form=new m.cw({})}getErrorType(t,o){var i;return!(!this.form.controls[t]||!this.form.controls[t].errors||!(null===(i=this.form.controls[t].errors)||void 0===i?void 0:i[o]))}confirmAction(){var t,o,i;if("add_group"===(null===(t=this.data)||void 0===t?void 0:t.type)){let c=this.commonService.getFormObj(this.form);this.form.valid&&(this.initStatusObj(),this.subscriptions.add(this.teacherGroupService.apiTeacherGroupSaveGroupWithTeamPost({groupName:c.groupName}).subscribe(h=>{var g;1==h.success?(this.btnCloseDialog(!0),this.showSuccessSnack("Th\xeam nh\xf3m th\xe0nh c\xf4ng"),this.successStatusObj()):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(g=h.message)&&void 0!==g?g:"",!0))})))}else{let c=this.commonService.getFormObj(this.form);if(this.form.valid){this.initStatusObj();let l={id:null===(i=null===(o=this.data)||void 0===o?void 0:o.groupWithTeacherData)||void 0===i?void 0:i.id,groupName:c.groupName};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupUpdateGroupWithTeamPost(l).subscribe(h=>{var g;1==h.success?(this.btnCloseDialog(!0),this.showSuccessSnack("S\u1eeda nh\xf3m th\xe0nh c\xf4ng"),this.successStatusObj()):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(g=h.message)&&void 0!==g?g:"",!0))}))}}}btnCloseDialog(t){t?this.closeDialog.emit(t):this.closeDialog.emit()}ngOnInit(){var t;this.form=this.fb.group({groupName:new m.NI("",[m.kI.required,F._.noWhiteSpace])}),(null===(t=this.data)||void 0===t?void 0:t.groupWithTeacherData)&&this.form.controls.groupName.setValue(this.data.groupWithTeacherData.name),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.qu),e.Y36(P.v),e.Y36(W._),e.Y36(b.Kq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-group"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[e.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],[1,"form-content"],[1,"form-group"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","id","full-name","formControlName","groupName",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","text-right"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&e.YNc(0,je,29,17,"div",0),2&t&&e.Q6J("ngIf",null==o.data?null:o.data.isShow)},directives:[M.O5,m._Y,m.JL,m.sg,m.Fj,m.JJ,m.u,S.lW],pipes:[I.bT],styles:["*[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px #5b5b5b59}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();var H=f(31279);function Ye(n,r){1&n&&(e.TgZ(0,"p",20),e._uU(1,"Th\xeam gi\xe1o vi\xean"),e.qZA())}function Fe(n,r){1&n&&(e.TgZ(0,"p",20),e._uU(1,"S\u1eeda gi\xe1o vi\xean"),e.qZA())}function We(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Ch\u01b0a c\xf3 file \u0111\u01b0\u1ee3c ch\u1ecdn"),e.qZA())}function He(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div",34),e.NdJ("click",function(i){return i.stopPropagation()}),e.TgZ(2,"div",35),e._UZ(3,"img",36),e.ALo(4,"convertCdn"),e.qZA(),e.TgZ(5,"div",37),e._uU(6),e.qZA(),e.TgZ(7,"div",38)(8,"button",39),e.NdJ("click",function(i){return e.CHM(t),e.oxw(3).removeFile(i)}),e._uU(9,"X\xf3a"),e.qZA()()()()}if(2&n){const t=e.oxw(3);e.xp6(3),e.Q6J("src",e.lcZ(4,2,"azota_assets/images/excel.png"),e.LSH),e.xp6(3),e.Oqu(t.file?t.file.name:"")}}function Be(n,r){1&n&&(e.TgZ(0,"span",40),e._uU(1,"K\xe9o th\u1ea3 file Excel ho\u1eb7c Click \u0111\u1ec3 ch\u1ecdn file"),e.qZA())}function Re(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22),e.NdJ("click",function(){return e.CHM(t),e.MAs(8).click()}),e.TgZ(2,"div",23)(3,"div",24)(4,"a",25)(5,"mat-icon"),e._uU(6,"cloud_upload"),e.qZA()(),e.TgZ(7,"input",26,27),e.NdJ("change",function(i){return e.CHM(t),e.oxw(2).onFileSelected(i)}),e.qZA(),e.YNc(9,We,2,0,"span",28),e.YNc(10,He,10,4,"ng-template",null,29,e.W1O),e.YNc(12,Be,2,0,"span",30),e.qZA()()(),e.TgZ(13,"div",31)(14,"a",32),e.ALo(15,"convertLink"),e.TgZ(16,"span"),e._uU(17,"T\u1ea3i file bi\u1ec3u m\u1eabu "),e.qZA(),e.TgZ(18,"mat-icon"),e._uU(19,"save_alt"),e.qZA()()()()}if(2&n){const t=e.MAs(11),o=e.oxw(2);e.xp6(9),e.Q6J("ngIf",!o.file)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",!o.file),e.xp6(2),e.s9C("download",o.changeNameDownloadFile("excel_add_teacher_exp_v4")),e.Q6J("href",e.lcZ(15,5,"blob/master/azota_assets/medias/excel_add_teacher_exp_v4.xlsx?raw=true"),e.LSH)}}function $e(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij("",e.lcZ(2,1,"lang_cms_utils_folder_name_validate_space"),"!"))}function Ke(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,$e,3,3,"div",19),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.getErrorType("fullName","noWhiteSpace"))}}function Ve(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),e.qZA())}function Xe(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),e.qZA())}function et(n,r){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Ve,2,0,"div",19),e.YNc(2,Xe,2,0,"div",19),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.getErrorType("phone","required")),e.xp6(1),e.Q6J("ngIf",t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function tt(n,r){if(1&n&&(e.TgZ(0,"div",21)(1,"div",41)(2,"label",42),e._uU(3,"H\u1ecd v\xe0 t\xean"),e.qZA(),e.TgZ(4,"div",43),e._UZ(5,"input",44),e.qZA(),e.YNc(6,Ke,2,1,"div",45),e.qZA()(),e.TgZ(7,"div",21)(8,"div",41)(9,"label",46),e._uU(10,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),e.qZA(),e.TgZ(11,"div",43),e._UZ(12,"input",47),e.qZA(),e.YNc(13,et,3,2,"div",45),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.form.controls.fullName.invalid&&t.form.controls.fullName.dirty),e.xp6(7),e.Q6J("ngIf",t.form.controls.phone.invalid&&t.form.controls.phone.dirty)}}function nt(n,r){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",49),e._uU(2,"\xa0"),e.qZA())}function ot(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_buttom_save")))}function it(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_buttom_update")))}function at(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"form",3)(3,"div",4),e.YNc(4,Ye,2,0,"p",5),e.YNc(5,Fe,2,0,"p",5),e.TgZ(6,"button",6),e.NdJ("click",function(){return e.CHM(t),e.oxw().btnCloseDialog(!1)}),e._UZ(7,"i",7),e.qZA()(),e.YNc(8,Re,20,7,"div",8),e.YNc(9,tt,14,2,"ng-template",null,9,e.W1O),e.TgZ(11,"div",10)(12,"div",11)(13,"a",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().showImportExcel()}),e.TgZ(14,"span",13),e._uU(15),e.qZA()()(),e.TgZ(16,"div",14)(17,"div",15)(18,"div",16)(19,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw().btnCloseDialog(!1)}),e._uU(20),e.ALo(21,"mytranslate"),e.qZA(),e.TgZ(22,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmAction()}),e.YNc(23,nt,3,0,"span",19),e.YNc(24,ot,3,3,"span",19),e.YNc(25,it,3,3,"span",19),e.qZA()()()()()()()()}if(2&n){const t=e.MAs(10),o=e.oxw();e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(2),e.Q6J("ngIf","add_teacher"==(null==o.data?null:o.data.type)),e.xp6(1),e.Q6J("ngIf","edit_teacher"==(null==o.data?null:o.data.type)),e.xp6(3),e.Q6J("ngIf",o.importExcel)("ngIfElse",t),e.xp6(7),e.Oqu(o.importExcel?"Quay l\u1ea1i":"Nh\u1eadp t\u1eeb File Excel"),e.xp6(5),e.hij(" ",e.lcZ(21,11,"lang_buttom_cancel")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading||o.form.invalid&&!o.importExcel||1==o.importExcel&&null==o.file),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf","add_teacher"==(null==o.data?null:o.data.type)),e.xp6(1),e.Q6J("ngIf","edit_teacher"==(null==o.data?null:o.data.type))}}let rt=(()=>{class n extends T.Q{constructor(t,o,i,c){super(o),this.fb=t,this.commonService=o,this.baseApiService=i,this.teacherGroupService=c,this.closeDialog=new e.vpe,this.form=new m.cw({}),this.importExcel=!1,this.file=null}getErrorType(t,o){var i;return!(!this.form.controls[t]||!this.form.controls[t].errors||!(null===(i=this.form.controls[t].errors)||void 0===i?void 0:i[o]))}onFileSelected(t){let c=t.target.files;this.file=c?c[0]:this.file,this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.commonService.snackError("Vui l\xf2ng ch\u1ecdn \u0111\xfang t\u1ec7p tin Excel",""))}removeFile(t){t.stopPropagation(),this.file=null}confirmAction(){var t,o,i;let c=this.commonService.getFormObj(this.form);if(this.initStatusObj(),this.importExcel)this.subscriptions.add(this.teacherGroupService.apiTeacherGroupAddTeacherIntoTeamWithExcelPostForm(this.file).subscribe(l=>{var h,g,C,Z;if(1==l.success){this.btnCloseDialog(!0);let x=(null===(h=l.data)||void 0===h?void 0:h.saveSuccess)?l.data.saveSuccess:0,y=(null===(g=l.data)||void 0===g?void 0:g.totalTeacher)?l.data.totalTeacher:0,O=(null===(C=l.data)||void 0===C?void 0:C.notValidPhone)?l.data.notValidPhone:0;this.showSuccessSnack(x===y?"Th\xeam gi\xe1o vi\xean v\xe0o danh b\u1ea1 th\xe0nh c\xf4ng":"Th\xeam th\xe0nh c\xf4ng "+x+"/"+y+" gi\xe1o vi\xean v\xe0o danh b\u1ea1! Trong \u0111\xf3 c\xf3 "+O+" S\u0110T sai \u0111\u1ecbnh d\u1ea1ng."),this.successStatusObj()}else this.btnCloseDialog(!1),this.errorStatusObj(null!==(Z=l.message)&&void 0!==Z?Z:"",!0)}));else switch(null===(t=this.data)||void 0===t?void 0:t.type){case"add_teacher":this.form.valid&&this.subscriptions.add(this.teacherGroupService.apiTeacherGroupAddTeacherWithTeamPost({numberphone:c.phone,fullname:c.fullName}).subscribe(h=>{var g;1===h.success?(this.btnCloseDialog(!0),this.showSuccessSnack("Th\xeam gi\xe1o vi\xean th\xe0nh c\xf4ng"),this.successStatusObj()):this.errorStatusObj(null!==(g=h.message)&&void 0!==g?g:"",!0)}));break;case"edit_teacher":if(this.form.valid){let l={id:null===(i=null===(o=this.data)||void 0===o?void 0:o.teamTeacherObj)||void 0===i?void 0:i.id,numberphone:c.phone,fullname:c.fullName};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupUpdateTeacherWithTeamPost(l).subscribe(h=>{var g;1==h.success?(this.btnCloseDialog(!0),this.showSuccessSnack("S\u1eeda th\xf4ng tin gi\xe1o vi\xean th\xe0nh c\xf4ng"),this.successStatusObj()):(this.btnCloseDialog(!1),this.errorStatusObj(null!==(g=h.message)&&void 0!==g?g:"",!0))}))}}}btnCloseDialog(t){t?this.closeDialog.emit(t):this.closeDialog.emit()}showImportExcel(){this.importExcel=!this.importExcel}changeNameDownloadFile(t){return this.commonService.createFileNameExportFile([t])+".xlsx"}ngOnInit(){var t,o,i;this.form=this.fb.group({phone:["",[m.kI.required,m.kI.pattern("^[0-9]*$"),m.kI.minLength(10),m.kI.maxLength(10)]],fullName:new m.NI("",[m.kI.required,F._.noWhiteSpace]),File:new m.NI("")}),"edit_teacher"==(null===(t=this.data)||void 0===t?void 0:t.type)&&(this.form.controls.phone.setValue(null===(o=this.data.teamTeacherObj)||void 0===o?void 0:o.phone),this.form.controls.fullName.setValue(null===(i=this.data.teamTeacherObj)||void 0===i?void 0:i.fullName)),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.qu),e.Y36(P.v),e.Y36(W._),e.Y36(b.Kq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-teacher"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[e.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],["class","form-group",4,"ngIf","ngIfElse"],["NormalForm",""],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","col-sm-6","align-self-center","my-2"],[1,"clickable","text-info","float-left",3,"click"],[2,"vertical-align","middle"],[1,"col-12","col-sm-6","align-self-center"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"form-group"],[1,"col-sm-12","text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],[1,"px-4","py-3","rounded"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"form-control","file-input",3,"change"],["fileSelect",""],[4,"ngIf","ngIfElse"],["exitsFile",""],["class","d-block mt-20 text-dark-green mt-3",4,"ngIf"],[1,"text-center","file","mt-2"],["target","_self",1,"dz-clickable",3,"href","download"],[1,"d-flex","align-items-center","justify-content-center","m-3"],[1,"fileinfo","p-3",3,"click"],[1,"title"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"file-name"],[1,"action"],[1,"btn-remove",3,"click"],[1,"d-block","mt-20","text-dark-green","mt-3"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","id","full-name","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","number-phone",1,"text-feild"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","id","number-phone","formControlName","phone",1,"form-control"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&e.YNc(0,at,26,13,"div",0),2&t&&e.Q6J("ngIf",null==o.data?null:o.data.isShow)},directives:[M.O5,m._Y,m.JL,m.sg,H.Hw,m.Fj,m.JJ,m.u,S.lW],pipes:[I.BI,I.Gu,I.bT],styles:["*[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px #5b5b5b59}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:aliceblue}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),n})();function ct(n,r){if(1&n&&(e.TgZ(0,"p",10),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,3,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher")," "),e.xp6(3),e.Oqu(null==t.data||null==t.data.teamTeacherObj?null:t.data.teamTeacherObj.fullName),e.xp6(1),e.hij(" ",e.lcZ(6,5,"lang_teacher_group_utilt_delete_dialog_out_group"),"? ")}}function lt(n,r){if(1&n&&(e.TgZ(0,"p",10),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),e.xp6(3),e.Oqu(null==t.data||null==t.data.groupWithTeacherData?null:t.data.groupWithTeacherData.name)}}function st(n,r){if(1&n&&(e.TgZ(0,"p",10),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),e.xp6(3),e.Oqu(null==t.data||null==t.data.teamTeacherObj?null:t.data.teamTeacherObj.fullName)}}function dt(n,r){if(1&n&&(e.TgZ(0,"p",10),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b"),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher_in_group")," "),e.xp6(3),e.Oqu(null==t.data||null==t.data.groupObj?null:t.data.groupObj.name)}}function _t(n,r){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",11),e._uU(2,"\xa0"),e.qZA())}function pt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e.YNc(3,ct,7,7,"p",4),e.YNc(4,lt,5,4,"p",4),e.YNc(5,st,5,4,"p",4),e.YNc(6,dt,5,4,"p",4),e.qZA(),e.TgZ(7,"div",5)(8,"div",6)(9,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().btnCloseDialog()}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().confirmDelete()}),e.YNc(13,_t,3,0,"span",9),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf","delete_member"==(null==t.data?null:t.data.type)),e.xp6(1),e.Q6J("ngIf","delete_group"==(null==t.data?null:t.data.type)),e.xp6(1),e.Q6J("ngIf","delete_teacher"==(null==t.data?null:t.data.type)),e.xp6(1),e.Q6J("ngIf","delete_all_teacher_group"==(null==t.data?null:t.data.type)),e.xp6(4),e.hij(" ",e.lcZ(11,8,"lang_cms_common_close_btn")," "),e.xp6(2),e.Q6J("disabled",t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(15,10,"lang_cms_common_confirm_btn")," ")}}let ut=(()=>{class n extends T.Q{constructor(t,o){super(t),this.commonService=t,this.teacherGroupService=o,this.closeDialog=new e.vpe}confirmDelete(){var t,o,i,c,l,h,g,C,Z;switch(this.initStatusObj(),null===(t=this.data)||void 0===t?void 0:t.type){case"delete_member":let x={groupId:this.data.groupId,teacherTeamId:null===(i=null===(o=this.data)||void 0===o?void 0:o.teamTeacherObj)||void 0===i?void 0:i.id};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithGroupPost(x).subscribe(O=>{var A;1===O.success?(this.showSuccessSnack("X\xf3a gi\xe1o vi\xean kh\u1ecfi nh\xf3m th\xe0nh c\xf4ng"),this.closeDialog.emit(this.data),this.successStatusObj()):this.errorStatusObj(null!==(A=O.message)&&void 0!==A?A:"",!0)}));break;case"delete_group":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteGroupWithTeamGet(null===(l=null===(c=this.data)||void 0===c?void 0:c.groupWithTeacherData)||void 0===l?void 0:l.id).subscribe(O=>{var A;1===O.success?(this.commonService.snackSuccess("X\xf3a nh\xf3m th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data),this.successStatusObj()):this.errorStatusObj(null!==(A=O.message)&&void 0!==A?A:"",!0)}));break;case"delete_teacher":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithTeamGet(null===(g=null===(h=this.data)||void 0===h?void 0:h.teamTeacherObj)||void 0===g?void 0:g.id).subscribe(O=>{var A;1==O.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data),this.successStatusObj()):this.errorStatusObj(null!==(A=O.message)&&void 0!==A?A:"",!0)}));break;case"delete_all_teacher_group":let y={groupId:null===(Z=null===(C=this.data)||void 0===C?void 0:C.groupObj)||void 0===Z?void 0:Z.id,teamTeacherIds:this.data.teacherIds};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteMultipleTeacherWithGroupPost(y).subscribe(O=>{var A;1==O.success?(this.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),this.closeDialog.emit(this.data),this.successStatusObj()):this.errorStatusObj(null!==(A=O.message)&&void 0!==A?A:"",!0)}))}}btnCloseDialog(){this.closeDialog.emit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(P.v),e.Y36(b.Kq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-delete-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[e.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],["class","h5 para_respon font-weight-normal",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","","color","warn",1,"btn-save",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"h5","para_respon","font-weight-normal"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&e.YNc(0,pt,16,12,"div",0),2&t&&e.Q6J("ngIf",null==o.data?null:o.data.isShow)},directives:[M.O5,S.lW],pipes:[I.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:#0000008f}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.btn-save[_ngcontent-%COMP%], .btn-cannel[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover{background:#bd2c22}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),n})();var ht=f(17852),gt=f(47691),U=f(18160),L=f(14538),mt=f(64123),ft=f(89824);let vt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[G.Bz,M.ez,v.j,a.Z_,m.u5,m.UX,k.Is,s.Z,p.xC,u.QG,Ne,_.Xd,d.W]]}),n})();e.B6R(E,[ht.p,M.O5,gt.Q,U.kh,U.jA,M.mk,m.Fj,m.JJ,m.oH,H.Hw,_.Vv,M.sg,S.lW,L.p6,L.VK,L.OP,mt.t,ft.gM,U.LW,m._Y,m.JL,m.sg,m.u,m.Wl,ut,rt,ze],[I.bT,I.gB])}}]);