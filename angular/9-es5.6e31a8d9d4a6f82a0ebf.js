!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(s){i=!0,r=s}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function n(e,t,o){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(o){var i=Object.getOwnPropertyDescriptor(o,t);return i.get?i.get.call(n):i.value}})(e,t,o||e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{CB8n:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var i=n("gm2p"),c=n("fXoL"),l=n("NFeN"),d=n("Qu3c"),b=n("STbY"),u=function(){var e=function(e){a(n,e);var t=s(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).linkUrl="",e.id="",e.fileName="",e}return r(n,[{key:"bindUrlToQrCode",value:function(){var e=document.getElementById("qrcode_making"+this.id);e&&(e.textContent=""),this.qrcode=this.commonService.createObjectQrcode(this.linkUrl,128,128,"url",!1,"qrcode_making"+this.id)}},{key:"downloadQrCode",value:function(){var e=this.qrcode._oDrawing.dataURL,t=document.createElement("a");document.body.appendChild(t),t.setAttribute("href",e),t.setAttribute("download",""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg"),t.click()}}]),n}(i.a);return e.\u0275fac=function(t){return m(t||e)},e.\u0275cmp=c.Jb({type:e,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",id:"id",fileName:"fileName"},features:[c.Ab],decls:10,vars:2,consts:[["matTooltip","Qu\xe9t ho\u1eb7c t\u1ea3i m\xe3 QR code",1,"clickable",2,"font-size","19px","height","19px","width","19px",3,"matMenuTriggerFor","click"],["showQrCode","matMenu"],[1,"content",3,"click"],[1,"upload-qr-box-item-content-qr",3,"id"],[1,"pt-2","clickable",2,"color","#007bff","align-items","center","display","flex","justify-content","center",3,"click"]],template:function(e,t){if(1&e&&(c.Vb(0,"mat-icon",0),c.cc("click",function(){return t.bindUrlToQrCode()}),c.Tc(1,"qr_code"),c.Ub(),c.Vb(2,"mat-menu",null,1),c.Vb(4,"div",2),c.cc("click",function(e){return e.stopPropagation()}),c.Qb(5,"div",3),c.Vb(6,"div",4),c.cc("click",function(){return t.downloadQrCode()}),c.Vb(7,"mat-icon"),c.Tc(8,"save_alt"),c.Ub(),c.Tc(9," T\u1ea3i v\u1ec1 m\xe1y"),c.Ub(),c.Ub(),c.Ub()),2&e){var n=c.Ac(3);c.nc("matMenuTriggerFor",n),c.Db(5),c.pc("id","qrcode_making",t.id,"")}},directives:[l.a,d.a,b.d,b.a],styles:[".upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:#fff;padding:5px;border-radius:5px}.content[_ngcontent-%COMP%]{margin:0 20px}"]}),e}(),m=c.Xb(u)},keXk:function(t,i,c){"use strict";c.r(i),c.d(i,"HomeworkFrontModule",function(){return hn});var l,u=c("ofXK"),m=c("3Pt+"),h=c("0IaG"),g=c("tyNb"),f=c("fB2i"),p=c("IkSl"),v=c("rIor"),_=c("Zhhu"),w=c("sOeQ"),k=c("vvyD"),O=c("Avyq"),j=c("6Fp8"),x=c("gm2p"),y=c("fXoL"),M=((l=function(e){a(n,e);var t=s(n);function n(){return o(this,n),t.apply(this,arguments)}return n}(x.a)).\u0275fac=function(e){return C(e||l)},l.\u0275cmp=y.Jb({type:l,selectors:[["app-test-dashboard"]],features:[y.Ab],decls:2,vars:0,consts:[["id","homework-frontend-layout"]],template:function(e,t){1&e&&(y.Vb(0,"div",0),y.Qb(1,"router-outlet"),y.Ub())},directives:[g.m],styles:[""]}),l),C=y.Xb(M),P=c("mrSG"),U=c("tk/3"),D=c("itXk"),V=c("PYj7"),S=c("BTbT"),I=c("oUVn"),F=c("5ete"),T=c("Bjt4"),R=c("0pw4"),A=c("VMFx"),L=c("ATyy"),H=c("f4AX"),z=c("luLc"),E=c("qJLG"),N=c("k3bj"),q=c("1ffk"),Q=c("iWHX"),W=function(e){return[e]};function J(e,t){1&e&&(y.Vb(0,"p"),y.Vb(1,"a",7),y.hc(2,"localize"),y.Tc(3),y.hc(4,"mytranslate"),y.Ub(),y.Ub()),2&e&&(y.Db(1),y.nc("routerLink",y.tc(6,W,y.ic(2,2,"/admin/testbank/dashboard"))),y.Db(2),y.Uc(y.ic(4,4,"lang_homework_homework_frontend_utils_back_to_teacher")))}function B(e,t){if(1&e&&(y.Vb(0,"span"),y.Tc(1),y.Ub()),2&e){var n=y.gc(3);y.Db(1),y.Xc(" ",n.userObj.id,".",n.userObj.fullName,".Zalo:",n.userObj.zaloId," ")}}function $(e,t){if(1&e&&(y.Vb(0,"span"),y.Tc(1),y.hc(2,"anonymousFullName"),y.hc(3,"anonymousPhone"),y.Ub()),2&e){var n=y.gc(3);y.Db(1),y.Xc(" ",n.userObj.id,".",y.ic(2,3,n.userObj),".",null!=n.userObj&&n.userObj.phone?null==n.userObj?null:n.userObj.phone:y.ic(3,5,"")," ")}}function G(e,t){if(1&e&&(y.Vb(0,"p"),y.Tc(1),y.hc(2,"mytranslate"),y.Rc(3,B,2,3,"span",2),y.Rc(4,$,4,7,"span",2),y.Ub()),2&e){var n=y.gc(2);y.Db(1),y.Vc(" ",y.ic(2,3,"lang_homework_homework_frontend_utils_account"),": "),y.Db(2),y.nc("ngIf",n.userObj.zaloId),y.Db(1),y.nc("ngIf",!n.userObj.zaloId)}}var X=function(e){return{return_url:e}},Y=function(e){return{return_url:e,from:"register",user_click:"true"}};function K(e,t){if(1&e&&(y.Vb(0,"p"),y.Tc(1),y.hc(2,"mytranslate"),y.Vb(3,"a",8),y.hc(4,"localize"),y.Tc(5),y.hc(6,"mytranslate"),y.Ub(),y.Tc(7),y.hc(8,"mytranslate"),y.Vb(9,"a",8),y.hc(10,"localize"),y.Tc(11),y.hc(12,"mytranslate"),y.Ub(),y.Ub()),2&e){var n=y.gc(2);y.Db(1),y.Vc("",y.ic(2,8,"lang_homework_homework_frontend_utils_tutorial")," "),y.Db(2),y.nc("routerLink",y.tc(20,W,y.ic(4,10,"/auth/register/1")))("queryParams",y.tc(22,X,n.returnUrl)),y.Db(2),y.Uc(y.ic(6,12,"lang_buttom_register")),y.Db(2),y.Vc(" ",y.ic(8,14,"lang_homework_homework_frontend_utils_or_account")," "),y.Db(2),y.nc("routerLink",y.tc(24,W,y.ic(10,16,"/auth/login")))("queryParams",y.tc(26,Y,n.returnUrl)),y.Db(2),y.Uc(y.ic(12,18,"lang_buttom_login"))}}function Z(e,t){1&e&&(y.Vb(0,"p"),y.Tc(1),y.hc(2,"mytranslate"),y.Vb(3,"a",7),y.hc(4,"localize"),y.Tc(5),y.hc(6,"mytranslate"),y.Ub(),y.Ub()),2&e&&(y.Db(1),y.Vc("",y.ic(2,3,"lang_homework_homework_frontend_utils_tutorial_register"),": "),y.Db(2),y.nc("routerLink",y.tc(9,W,y.ic(4,5,"/auth/switch-teacher-student"))),y.Db(2),y.Uc(y.ic(6,7,"lang_homework_homework_frontend_utils_register_teacher")))}function ee(e,t){if(1&e&&(y.Vb(0,"div",1),y.Rc(1,J,5,8,"p",2),y.Rc(2,G,5,5,"p",2),y.Rc(3,K,13,28,"p",2),y.Rc(4,Z,7,11,"p",2),y.Vb(5,"p"),y.Vb(6,"a",3),y.Qb(7,"img",4),y.Ub(),y.Vb(8,"a",5),y.Qb(9,"img",6),y.hc(10,"convertCdn"),y.Ub(),y.Ub(),y.Ub()),2&e){var n=y.gc();y.Db(1),y.nc("ngIf",n.checkTeacher()),y.Db(1),y.nc("ngIf",!n.checkAnonymous()),y.Db(1),y.nc("ngIf",n.checkAnonymous()),y.Db(1),y.nc("ngIf",!n.checkTeacher()),y.Db(3),y.nc("src","https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png",y.Ic),y.Db(2),y.nc("src",y.ic(10,6,"azota_assets/images/2928664.svg"),y.Ic)}}var te,ne=((te=function(e){a(i,e);var t=s(i);function i(e,n,r){var a;return o(this,i),(a=t.call(this,n)).baseApiService=e,a.commonService=n,a.globalService=r,a.userObj={},a.returnUrl="",a}return r(i,[{key:"checkAnonymous",value:function(){return this.baseApiService.isAnonymousRole()}},{key:"checkTeacher",value:function(){return this.baseApiService.isTeacherRole()}},{key:"ngOnInit",value:function(){var e=this;this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getCurrentUrl(),this.userObj=this.baseApiService.getUserObj(),this.globalService.loginMessage.subscribe(function(t){e.userObj=e.baseApiService.getUserObj()}),n(b(i.prototype),"ngOnInit",this).call(this)}}]),i}(x.a)).\u0275fac=function(e){return new(e||te)(y.Pb(F.a),y.Pb(I.a),y.Pb(q.a))},te.\u0275cmp=y.Jb({type:te,selectors:[["homework-frontend-footer"]],features:[y.Ab],decls:1,vars:1,consts:[["class","text-center mt-3",4,"ngIf"],[1,"text-center","mt-3"],[4,"ngIf"],["href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener"],["alt","Get it on Google Play","width","150px",1,"play-store-badge",3,"src"],["href","https://apps.apple.com/ua/app/azota/id1556025594","target","_blank","rel","noopener"],["alt","Download on the App Store","width","130px",1,"app-store-badge",3,"src"],[3,"routerLink"],[3,"routerLink","queryParams"]],template:function(e,t){1&e&&y.Rc(0,ee,11,8,"div",0),2&e&&y.nc("ngIf",0!=t.userObj.id)},directives:[u.m,g.k],pipes:[Q.f,O.d,Q.z,Q.a,Q.b],encapsulation:2}),te),oe=c("nzN9"),ie=c("6DXj"),re=c("CB8n"),ae=c("YTzd"),ce=c("clS4"),se=c("bTqV"),le=["ContentDialog"];function de(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",1),y.Vb(1,"div",2,3),y.Vb(3,"div",4),y.Vb(4,"p",5),y.Tc(5," H\u1ecdc sinh "),y.Vb(6,"b"),y.Tc(7),y.Ub(),y.Tc(8),y.Vb(9,"b"),y.Tc(10),y.Ub(),y.Tc(11,". \u0110\u0103ng nh\u1eadp \u0111\u1ec3 ti\u1ebfp t\u1ee5c! "),y.Ub(),y.Ub(),y.Vb(12,"div",6),y.Vb(13,"div",7),y.Vb(14,"button",8),y.cc("click",function(){return y.Ec(n),y.gc().btnCloseDialog()}),y.Tc(15),y.hc(16,"mytranslate"),y.Ub(),y.Ub(),y.Vb(17,"button",9),y.cc("click",function(){return y.Ec(n),y.gc().goToLogin()}),y.Tc(18," \u0110\u0103ng nh\u1eadp "),y.Ub(),y.Ub(),y.Ub(),y.Ub()}if(2&e){var o=y.gc();y.Db(7),y.Uc(null==o.data||null==o.data.studentObj?null:o.data.studentObj.fullName),y.Db(1),y.Vc(" \u0111\xe3 \u0111\u01b0\u1ee3c ch\u1ecdn b\u1edfi T\xe0i kho\u1ea3n ",""!=(null==o.data||null==o.data.studentObj?null:o.data.studentObj.last4DigitPhone)?" v\u1edbi S\u0110T c\xf3 \u0111u\xf4i - xxx xxx":"v\u1edbi t\xean Zalo - "," "),y.Db(2),y.Uc(""!=(null==o.data||null==o.data.studentObj?null:o.data.studentObj.last4DigitPhone)?null==o.data||null==o.data.studentObj?null:o.data.studentObj.last4DigitPhone:null==o.data||null==o.data.studentObj?null:o.data.studentObj.zaloName),y.Db(5),y.Vc(" ",y.ic(16,4,"lang_buttom_close")," ")}}var be,ue=((be=function(e){a(n,e);var t=s(n);function n(e,i,r){var a;return o(this,n),(a=t.call(this,e)).commonService=e,a.router=i,a.redirectService=r,a.closeDialog=new y.o,a}return r(n,[{key:"onGlobalClick",value:function(e){var t;(null===(t=this.contentDialog)||void 0===t?void 0:t.nativeElement.contains(e.target))||this.closeDialog.emit(!0)}},{key:"btnCloseDialog",value:function(){this.closeDialog.emit(!0)}},{key:"goToRegister",value:function(){var e,t,n="".concat(this.router.url,"%3FstudentId%3D").concat(null===(t=null===(e=this.data)||void 0===e?void 0:e.studentObj)||void 0===t?void 0:t.id);this.redirectService.redirectRegisterForStudentWithReturnUrl(n)}},{key:"goToLogin",value:function(){var e,t,n,o,i=""+this.router.url;if(-1!==i.indexOf("?")){var r=i.slice(0,i.indexOf("?"));r="".concat(r,"%3FstudentId%3D").concat(null===(t=null===(e=this.data)||void 0===e?void 0:e.studentObj)||void 0===t?void 0:t.id),this.redirectService.redirectToLoginBackLinkWithFromRegister(r)}else i="".concat(i,"%3FstudentId%3D").concat(null===(o=null===(n=this.data)||void 0===n?void 0:n.studentObj)||void 0===o?void 0:o.id),this.redirectService.redirectToLoginBackLinkWithFromRegister(i)}}]),n}(x.a)).\u0275fac=function(e){return new(e||be)(y.Pb(I.a),y.Pb(g.i),y.Pb(ce.a))},be.\u0275cmp=y.Jb({type:be,selectors:[["app-require-login"]],viewQuery:function(e,t){var n;1&e&&y.cd(le,!0),2&e&&y.zc(n=y.dc())&&(t.contentDialog=n.first)},hostBindings:function(e,t){1&e&&y.cc("mousedown",function(e){return t.onGlobalClick(e)},!1,y.Cc)},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[y.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],["ContentDialog",""],[1,"text-custom"],[1,"mb-2","h5","para_respon","font-weight-normal"],[1,"d-flex","float-right","mt-1"],[1,"azt-block-button","mr-3"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,t){1&e&&y.Rc(0,de,19,6,"div",0),2&e&&y.nc("ngIf",null==t.data?null:t.data.isShow)},directives:[u.m,se.b],pipes:[Q.z],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:800px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;background:#000;width:2px;display:block;height:35px;margin:0 10px -18px}.text-custom[_ngcontent-%COMP%]{text-align:justify}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),be);function me(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",3),y.Vb(1,"div",4),y.Vb(2,"p",5),y.Tc(3),y.hc(4,"mytranslate"),y.Ub(),y.Vb(5,"a",6),y.cc("click",function(){return y.Ec(n),y.gc(2).redirectToRegister()}),y.Tc(6),y.hc(7,"mytranslate"),y.Ub(),y.Vb(8,"p",7),y.Tc(9),y.hc(10,"mytranslate"),y.Ub(),y.Vb(11,"a",6),y.cc("click",function(){return y.Ec(n),y.gc(2).redirectToLogin()}),y.Tc(12),y.hc(13,"mytranslate"),y.Ub(),y.Ub(),y.Ub()}2&e&&(y.Db(3),y.Vc("",y.ic(4,4,"lang_homework_homework_frontend_submit_homework_register_account_submit"),"!"),y.Db(3),y.Uc(y.ic(7,6,"lang_buttom_register")),y.Db(3),y.Vc("",y.ic(10,8,"lang_homework_homework_frontend_submit_homework_have_account"),"?"),y.Db(3),y.Uc(y.ic(13,10,"lang_buttom_login")))}function he(e,t){1&e&&(y.Vb(0,"span"),y.Qb(1,"span",13),y.Tc(2,"\xa0"),y.Ub())}function ge(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",3),y.Vb(1,"div",4),y.Vb(2,"p",8),y.Tc(3),y.hc(4,"mytranslate"),y.Ub(),y.Vb(5,"p",9),y.Tc(6),y.hc(7,"mytranslate"),y.Ub(),y.Ub(),y.Vb(8,"div",10),y.Vb(9,"button",11),y.cc("click",function(){return y.Ec(n),y.gc(2).confirmQuit()}),y.Rc(10,he,3,0,"span",12),y.Tc(11),y.hc(12,"mytranslate"),y.Ub(),y.Ub(),y.Ub()}if(2&e){var o=y.gc(2);y.Db(3),y.Vc("",y.ic(4,4,"lang_homework_homework_frontend_submit_homework_register_account_submit"),"!"),y.Db(3),y.Uc(y.ic(7,6,"lang_buttom_register")),y.Db(4),y.nc("ngIf",!0===o.isLoading),y.Db(1),y.Vc(" ",y.ic(12,8,"lang_buttom_confirm")," ")}}function fe(e,t){if(1&e&&(y.Vb(0,"div",1),y.Rc(1,me,14,12,"div",2),y.Rc(2,ge,13,10,"div",2),y.Ub()),2&e){var n=y.gc();y.Db(1),y.nc("ngIf",0==n.viewType),y.Db(1),y.nc("ngIf",1==n.viewType)}}var pe,ve=((pe=function(e){a(i,e);var t=s(i);function i(e,n,r){var a;return o(this,i),(a=t.call(this,e)).commonService=e,a.router=n,a.redirectService=r,a.closeDialog=new y.o,a.isLoading=!1,a.viewType=0,a}return r(i,[{key:"confirmQuit",value:function(){this.closeDialog.emit(!0)}},{key:"checkType",value:function(e){"redirect_register"==e?this.viewType=0:"submit_name"==e&&(this.viewType=1)}},{key:"redirectToRegister",value:function(){this.redirectService.redirectRegisterForStudent()}},{key:"redirectToLogin",value:function(){this.redirectService.redirectToLoginBackLinkWithFromRegister(""+this.router.url)}},{key:"ngOnInit",value:function(){this.data&&this.checkType(this.data.type),n(b(i.prototype),"ngOnInit",this).call(this)}}]),i}(x.a)).\u0275fac=function(e){return new(e||pe)(y.Pb(I.a),y.Pb(g.i),y.Pb(ce.a))},pe.\u0275cmp=y.Jb({type:pe,selectors:[["app-message-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[y.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],["class","school-info p-4",4,"ngIf"],[1,"school-info","p-4"],[1,"text-center"],[1,"mb-2","h5"],[1,"mb-0","h4","text-info","clickable",3,"click"],[1,"mb-2","h5","mt-4"],[1,"mb-1","h5"],[1,"mb-0","h4","text-info"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&y.Rc(0,fe,3,2,"div",0),2&e&&y.nc("ngIf",null==t.data?null:t.data.isShow)},directives:[u.m,se.b],pipes:[Q.z],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;background:#000;width:2px;display:block;height:35px;margin:0 10px -18px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),pe),_e=c("wAhq"),we=c("NFeN"),ke=c("loSA");function Oe(e,t){if(1&e){var n=y.Wb();y.Vb(0,"a",14),y.cc("click",function(){y.Ec(n);var e=y.gc().$implicit;return y.gc(2).viewDetailHistory(null==e?null:e.id)}),y.Tc(1,"Xem chi ti\u1ebft"),y.Ub()}}function je(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",17),y.Vb(1,"a",18),y.cc("click",function(){y.Ec(n);var e=t.$implicit;return y.gc(4).onShowFile(e,-1)}),y.Vb(2,"mat-icon",19),y.Tc(3,"attach_file"),y.Ub(),y.Vb(4,"span",20),y.Tc(5),y.Ub(),y.Ub(),y.Ub()}if(2&e){var o=t.$implicit;y.Db(4),y.nc("title",o.name),y.Db(1),y.Uc(o.name)}}function xe(e,t){if(1&e&&(y.Vb(0,"div",15),y.Rc(1,je,6,2,"div",16),y.Ub()),2&e){var n=y.gc().$implicit;y.Db(1),y.nc("ngForOf",n.fileParse)}}function ye(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",17),y.Vb(1,"a",18),y.cc("click",function(){y.Ec(n);var e=t.$implicit;return y.gc(5).onShowFile(e,-1)}),y.Vb(2,"mat-icon",19),y.Tc(3,"attach_file"),y.Ub(),y.Vb(4,"span",20),y.Tc(5),y.Ub(),y.Ub(),y.Ub()}if(2&e){var o=t.$implicit;y.Db(4),y.nc("title",o.name),y.Db(1),y.Uc(o.name)}}function Me(e,t){if(1&e&&(y.Vb(0,"div",15),y.Rc(1,ye,6,2,"div",16),y.Ub()),2&e){var n=y.gc(2).$implicit;y.Db(1),y.nc("ngForOf",n.fileParse)}}function Ce(e,t){if(1&e&&(y.Vb(0,"p",8),y.Qb(1,"azt-check-mark",29),y.Ub()),2&e){var n=y.gc(3).$implicit;y.Db(1),y.nc("mark",n.point)}}function Pe(e,t){if(1&e&&(y.Vb(0,"div",23),y.Vb(1,"div",24),y.Rc(2,Ce,2,1,"p",25),y.Ub(),y.Vb(3,"div",26),y.Vb(4,"span",27),y.Tc(5),y.hc(6,"mytranslate"),y.Ub(),y.Qb(7,"div",28),y.Ub(),y.Ub()),2&e){var n=y.gc(2).$implicit;y.Db(2),y.nc("ngIf",!n.hideMark),y.Db(3),y.Uc(y.ic(6,3,"lang_homework_homework_frontend_utils_comment")),y.Db(2),y.nc("innerHTML",n.note,y.Fc)}}function Ue(e,t){if(1&e&&(y.Vb(0,"div",21),y.Rc(1,Me,2,1,"div",12),y.Rc(2,Pe,8,5,"div",22),y.Ub()),2&e){var n=y.gc().$implicit;y.Db(1),y.nc("ngIf",n.fileParse&&n.fileParse.length>0),y.Db(1),y.nc("ngIf",null!=n&&null!=n.confirmedAt)}}function De(e,t){if(1&e&&(y.Vb(0,"div",6),y.Vb(1,"div",7),y.Vb(2,"span",8),y.Tc(3),y.hc(4,"date"),y.Ub(),y.Rc(5,Oe,2,0,"a",9),y.Ub(),y.Vb(6,"div",7),y.Vb(7,"span",10),y.Tc(8),y.hc(9,"mytranslate"),y.Vb(10,"span",11),y.Tc(11),y.Ub(),y.Ub(),y.Ub(),y.Rc(12,xe,2,1,"div",12),y.Rc(13,Ue,3,2,"div",13),y.Ub()),2&e){var n=t.$implicit;y.Db(3),y.Vc("N\u1ed9p l\xfac: ",y.jc(4,6,n.createdAt,"dd/MM/yyyy hh:mm"),""),y.Db(2),y.nc("ngIf",n.result),y.Db(3),y.Vc("",y.ic(9,9,"lang_homework_homework_frontend_utils_request_submit"),": "),y.Db(3),y.Uc(n.resendNote),y.Db(1),y.nc("ngIf",!n.result&&n.files),y.Db(1),y.nc("ngIf",n.result)}}function Ve(e,t){if(1&e&&(y.Vb(0,"div",1),y.Vb(1,"div",2),y.Vb(2,"div",3),y.Vb(3,"span",4),y.Tc(4),y.hc(5,"mytranslate"),y.Ub(),y.Ub(),y.Ub(),y.Rc(6,De,14,11,"div",5),y.Ub()),2&e){var n=y.gc();y.Db(4),y.Uc(y.ic(5,2,"lang_homework_homework_frontend_utils_history_submit")),y.Db(2),y.nc("ngForOf",n.dataAnswerHistory)}}var Se,Ie=((Se=function(e){a(n,e);var t=s(n);function n(e,i){var r;return o(this,n),(r=t.call(this,e)).commonService=e,r.cdnService=i,r.previewFileEmit=new y.o,r.isShowPreviewFile=!1,r.answerFile=null,r}return r(n,[{key:"viewDetailHistory",value:function(e){var t,n;this.commonService.myNavigation("/homework/view-homework/"+(null===(t=this.dataHomeworkObj)||void 0===t?void 0:t.id)+"/"+(null===(n=this.dataHomeworkObj)||void 0===n?void 0:n.hashId)+"/"+e)}},{key:"onFileClose",value:function(){this.isShowPreviewFile=!1}},{key:"onShowFile",value:function(e,t){this.isShowPreviewFile=!0;var n=Object.assign(Object.assign({},e),{index:t});this.previewFileEmit.emit(n)}}]),n}(x.a)).\u0275fac=function(e){return new(e||Se)(y.Pb(I.a),y.Pb(E.a))},Se.\u0275cmp=y.Jb({type:Se,selectors:[["app-answer-history"]],inputs:{dataAnswerHistory:"dataAnswerHistory",dataHomeworkObj:"dataHomeworkObj"},outputs:{previewFileEmit:"previewFileEmit"},features:[y.Ab],decls:1,vars:1,consts:[["class","card-box mt-3",4,"ngIf"],[1,"card-box","mt-3"],[1,"row","top-row"],[1,"col-12","text-center"],[1,"h5","text-white"],["class","ml-0 mr-0 mt-4 attach-container p-2",4,"ngFor","ngForOf"],[1,"ml-0","mr-0","mt-4","attach-container","p-2"],[1,"flex-title","mt-2","pl-3","pr-3"],[1,"mb-0"],[3,"click",4,"ngIf"],[1,"mb-0",2,"font-weight","400"],[1,"text-danger","text-bold"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","mt-2",4,"ngIf"],[3,"click"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6",3,"title"],[1,"mt-2"],["class","row justify-content-between mt-2","style","margin: 16px!important;",4,"ngIf"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-sm-3","col-md-3","col-lg-3","_col-left_result","text-center"],["class","mb-0",4,"ngIf"],[1,"col-sm-8","col-md-8","col-lg-8","_col-right_result"],[1,"h5","title"],[1,"content-homework","pt-3",3,"innerHTML"],[3,"mark"]],template:function(e,t){1&e&&y.Rc(0,Ve,7,4,"div",0),2&e&&y.nc("ngIf",t.dataAnswerHistory&&t.dataAnswerHistory.length>0)},directives:[u.m,u.l,we.a,ke.a],pipes:[Q.z,u.e],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0;border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;margin-left:5px}.files[_ngcontent-%COMP%], .flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}"]}),Se),Fe=c("Qu3c");function Te(e,t){1&e&&y.Qb(0,"azt-loading-effect")}function Re(e,t){if(1&e&&(y.Vb(0,"div"),y.Vb(1,"div",9),y.Vb(2,"div",10),y.Vb(3,"div",11),y.Tc(4),y.hc(5,"mytranslate"),y.Ub(),y.Ub(),y.Ub(),y.Ub()),2&e){var n=y.gc(2);y.Db(4),y.Uc(y.ic(5,1,n.statusObj.errorMessage))}}function Ae(e,t){if(1&e&&(y.Vb(0,"p",17),y.Tc(1),y.hc(2,"mytranslate"),y.Vb(3,"span",18),y.Tc(4),y.Ub(),y.Ub()),2&e){var n=y.gc(4);y.Db(1),y.Vc(" ",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_name_homework"),": "),y.Db(3),y.Uc(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.name)}}function Le(e,t){if(1&e&&(y.Vb(0,"div",15),y.Rc(1,Ae,5,4,"p",16),y.Vb(2,"p",17),y.Tc(3),y.hc(4,"mytranslate"),y.Vb(5,"span",18),y.Tc(6),y.Ub(),y.Qb(7,"azt-download-qr-code",19),y.Ub(),y.Ub()),2&e){var n=y.gc(3);y.Db(1),y.nc("ngIf",(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.name)&&""!=(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.name)),y.Db(2),y.Vc(" ",y.ic(4,5,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),y.Db(3),y.Uc(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.hashId),y.Db(1),y.nc("fileName","azota_submit_homework_qrcode_"+n.homeworkHashId)("linkUrl",n.urlLocation)}}function He(e,t){if(1&e){var n=y.Wb();y.Vb(0,"app-send-request",20),y.cc("confirmSend",function(e){return y.Ec(n),y.gc(3).confirmSendRequest(e)})("closeDialog",function(){return y.Ec(n),y.gc(3).closeRequestDialog()}),y.Ub()}if(2&e){var o=y.gc(3);y.nc("data",o.sendRequestData)}}function ze(e,t){if(1&e){var n=y.Wb();y.Vb(0,"app-require-login",21),y.cc("closeDialog",function(){return y.Ec(n),y.gc(3).closeRequireLogin()}),y.Ub()}if(2&e){var o=y.gc(3);y.nc("data",o.requireLogin)}}function Ee(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div"),y.Rc(1,Le,8,7,"div",12),y.Vb(2,"app-select-student",13),y.cc("selectChild",function(e){return y.Ec(n),y.gc(2).closeChooseStudent(e)})("approvedByName",function(e){return y.Ec(n),y.gc(2).approvedToClass(e)}),y.Ub(),y.Rc(3,He,1,1,"app-send-request",14),y.Rc(4,ze,1,1,"app-require-login",8),y.Ub()}if(2&e){var o=y.gc(2);y.Db(1),y.nc("ngIf",(null==o.obj?null:o.obj.homeworkObj)&&(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.hashId)&&""!=(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.hashId)),y.Db(1),y.nc("homeworkFlow",!0)("data",o.chooseChildData)("showAddStudent",null==o.chooseChildData.classObj?null:o.chooseChildData.classObj.showAddStudent),y.Db(1),y.nc("ngIf",null==o.sendRequestData?null:o.sendRequestData.isShow),y.Db(1),y.nc("ngIf",null==o.requireLogin?null:o.requireLogin.isShow)}}function Ne(e,t){if(1&e){var n=y.Wb();y.Vb(0,"app-message-dialog",21),y.cc("closeDialog",function(e){return y.Ec(n),y.gc(2).closeMessageDialog(e)}),y.Ub()}if(2&e){var o=y.gc(2);y.nc("data",o.messageDialogData)}}function qe(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div"),y.Vb(1,"azt-preview-media",23),y.cc("closePreview",function(){return y.Ec(n),y.gc(3).onFileClose()}),y.Ub(),y.Ub()}if(2&e){var o=y.gc(3);y.Db(1),y.nc("fileOption",o.previewFile)}}function Qe(e,t){1&e&&(y.Vb(0,"div",26),y.Vb(1,"span"),y.Tc(2),y.hc(3,"mytranslate"),y.Ub(),y.Ub()),2&e&&(y.Db(2),y.Uc(y.ic(3,1,"lang_core_over_time_deadline")))}function We(e,t){if(1&e&&(y.Vb(0,"p",17),y.Tc(1),y.hc(2,"mytranslate"),y.Vb(3,"span",18),y.Tc(4),y.Ub(),y.Ub()),2&e){var n=y.gc(6);y.Db(1),y.Vc(" ",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_name_homework"),": "),y.Db(3),y.Uc(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.name)}}function Je(e,t){if(1&e&&(y.Vb(0,"span",32),y.Tc(1),y.hc(2,"mytranslate"),y.hc(3,"date"),y.Ub()),2&e){var n=y.gc(6);y.Db(1),y.Wc("",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",y.jc(3,4,null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.deadline,"dd/MM/yyyy HH:mm:ss"),"")}}function Be(e,t){1&e&&(y.Vb(0,"span",32),y.Tc(1),y.hc(2,"mytranslate"),y.hc(3,"mytranslate"),y.Ub()),2&e&&(y.Db(1),y.Wc("",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",y.ic(3,4,"lang_homework_homework_frontend_submit_homework_not_time"),""))}function $e(e,t){if(1&e&&(y.Vb(0,"span",32),y.Tc(1),y.hc(2,"mytranslate"),y.hc(3,"date"),y.Ub()),2&e){var n=y.gc(6);y.Db(1),y.Wc("",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",y.jc(3,4,null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.deadline,"dd/MM/yyyy HH:mm:ss"),"")}}function Ge(e,t){1&e&&(y.Vb(0,"span",32),y.Tc(1),y.hc(2,"mytranslate"),y.hc(3,"mytranslate"),y.Ub()),2&e&&(y.Db(1),y.Wc("",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",y.ic(3,4,"lang_homework_homework_frontend_submit_homework_not_time"),""))}function Xe(e,t){if(1&e&&(y.Vb(0,"div",45),y.Vb(1,"div",46),y.Tc(2),y.hc(3,"mytranslate"),y.Ub(),y.Ub()),2&e){var n=y.gc(6);y.Db(2),y.Wc("",y.ic(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",n.currentChild.fullName,"")}}function Ye(e,t){if(1&e&&(y.Vb(0,"div",47),y.Vb(1,"div",46),y.Tc(2),y.hc(3,"mytranslate"),y.Ub(),y.Ub()),2&e){var n=y.gc(6);y.Db(2),y.Wc("",y.ic(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",n.currentChild.fullName,"")}}function Ke(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",51),y.Vb(1,"div",52),y.Vb(2,"a",53),y.cc("click",function(){y.Ec(n);var e=t.$implicit;return y.gc(7).onShowFile(e,-1)}),y.Vb(3,"mat-icon",54),y.Tc(4,"text_snippet"),y.Ub(),y.Vb(5,"span",55),y.Tc(6),y.Ub(),y.Ub(),y.Ub(),y.Ub()}if(2&e){var o=t.$implicit;y.Db(5),y.nc("title",o.name),y.Db(1),y.Uc(o.name)}}function Ze(e,t){if(1&e&&(y.Vb(0,"div",48),y.Vb(1,"div",49),y.Rc(2,Ke,7,2,"div",50),y.Ub(),y.Ub()),2&e){var n=y.gc(6);y.Db(2),y.nc("ngForOf",n.files)}}function et(e,t){if(1&e&&(y.Vb(0,"p",58),y.Tc(1),y.hc(2,"mytranslate"),y.Vb(3,"span",59),y.Tc(4),y.Ub(),y.Ub()),2&e){var n=y.gc(7);y.Db(1),y.Vc("",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_teacher_request_submit"),": "),y.Db(3),y.Uc(n.resendNote)}}function tt(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",65),y.Vb(1,"div",66),y.Vb(2,"div",67),y.cc("click",function(){return y.Ec(n),y.Ac(12).click()}),y.Vb(3,"div",52),y.Vb(4,"a",68),y.Vb(5,"mat-icon"),y.Tc(6,"add_a_photo"),y.Ub(),y.Ub(),y.Qb(7,"br"),y.Vb(8,"span"),y.Tc(9),y.hc(10,"mytranslate"),y.Ub(),y.Vb(11,"input",69,70),y.cc("change",function(e){return y.Ec(n),y.gc(8).captureFile(e)}),y.Ub(),y.Ub(),y.Ub(),y.Ub(),y.Vb(13,"div",66),y.Vb(14,"div",71),y.cc("click",function(){return y.Ec(n),y.Ac(24).click()}),y.Vb(15,"div",52),y.Vb(16,"a",68),y.Vb(17,"mat-icon"),y.Tc(18,"attach_file"),y.Ub(),y.Ub(),y.Qb(19,"br"),y.Vb(20,"span"),y.Tc(21),y.hc(22,"mytranslate"),y.Ub(),y.Vb(23,"input",72,73),y.cc("change",function(e){return y.Ec(n),y.gc(8).selectFile(e)}),y.Ub(),y.Ub(),y.Ub(),y.Ub(),y.Ub()}2&e&&(y.Db(9),y.Uc(y.ic(10,2,"lang_homework_homework_frontend_submit_homework_capture")),y.Db(12),y.Uc(y.ic(22,4,"lang_homework_homework_frontend_submit_homework_choose_file")))}function nt(e,t){1&e&&(y.Vb(0,"div",49),y.Vb(1,"div",74),y.Vb(2,"div",75),y.Vb(3,"span"),y.Tc(4),y.hc(5,"mytranslate"),y.Ub(),y.Ub(),y.Ub(),y.Ub()),2&e&&(y.Db(4),y.Vc("",y.ic(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function ot(e,t){1&e&&(y.Vb(0,"div",76),y.Vb(1,"p",17),y.Tc(2),y.hc(3,"mytranslate"),y.Ub(),y.Ub()),2&e&&(y.Db(2),y.Vc("",y.ic(3,1,"lang_homework_homework_frontend_submit_homework_loading_wait_it"),"!"))}var it=function(e){return{"width.%":e}};function rt(e,t){if(1&e&&(y.Vb(0,"div",79),y.Vb(1,"p",80),y.Tc(2),y.Ub(),y.Vb(3,"div",81),y.Qb(4,"div",82),y.Ub(),y.Ub()),2&e){var n=t.$implicit;y.Db(2),y.Uc(n.fileName),y.Db(2),y.nc("ngStyle",y.tc(2,it,n.uploadProgress))}}function at(e,t){if(1&e&&(y.Vb(0,"div",77),y.Rc(1,rt,5,4,"div",78),y.Ub()),2&e){var n=y.gc(8);y.Db(1),y.nc("ngForOf",n.convertObjToArray(n.fileUploadQueue))}}function ct(e,t){1&e&&(y.Vb(0,"div",76),y.Vb(1,"p",83),y.Tc(2),y.hc(3,"mytranslate"),y.Ub(),y.Ub()),2&e&&(y.Db(2),y.Vc("",y.ic(3,1,"lang_homework_homework_frontend_submit_homework_submit_success"),"!"))}function st(e,t){if(1&e){var n=y.Wb();y.Vb(0,"span",100),y.cc("click",function(){y.Ec(n);var e=y.gc().$implicit;return y.gc(9).removeImg(e.url)}),y.Vb(1,"mat-icon"),y.Tc(2,"cancel"),y.Ub(),y.Tc(3," \xa0\xa0\xa0\xa0\xa0\xa0 "),y.Ub()}}function lt(e,t){1&e&&(y.Vb(0,"span",101),y.Vb(1,"mat-icon",102),y.Tc(2,"check_box"),y.Ub(),y.Ub())}function dt(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",85),y.Vb(1,"a",86),y.Vb(2,"div",87),y.Vb(3,"div",88),y.Vb(4,"img",89),y.cc("click",function(){y.Ec(n);var e=t.$implicit;return y.gc(9).onShowFile(e,-1)}),y.hc(5,"mycdn"),y.Ub(),y.Ub(),y.Vb(6,"div",90),y.Vb(7,"div",91),y.Vb(8,"mat-icon",92),y.cc("click",function(){y.Ec(n);var e=t.index,o=y.gc(9);return o.switchAttributeArray(o.answerFileList,e,e-1)}),y.hc(9,"mytranslate"),y.Tc(10," keyboard_arrow_left"),y.Ub(),y.Vb(11,"mat-icon",93),y.cc("click",function(){y.Ec(n);var e=t.index,o=y.gc(9);return o.switchAttributeArray(o.answerFileList,e,e-1)}),y.hc(12,"mytranslate"),y.Tc(13,"arrow_upward "),y.Ub(),y.Ub(),y.Vb(14,"div",94),y.Tc(15),y.hc(16,"mytranslate"),y.Vb(17,"input",95,96),y.cc("keyup.enter",function(){y.Ec(n);var e=t.index,o=y.Ac(18);return y.gc(9).switchAttributeArrayInput(e,o.value)})("change",function(){y.Ec(n);var e=t.index,o=y.Ac(18);return y.gc(9).switchAttributeArrayInput(e,o.value)}),y.Ub(),y.Ub(),y.Vb(19,"div",97),y.Vb(20,"mat-icon",92),y.cc("click",function(){y.Ec(n);var e=t.index,o=y.gc(9);return o.switchAttributeArray(o.answerFileList,e,e+1)}),y.hc(21,"mytranslate"),y.Tc(22," keyboard_arrow_right"),y.Ub(),y.Vb(23,"mat-icon",93),y.cc("click",function(){y.Ec(n);var e=t.index,o=y.gc(9);return o.switchAttributeArray(o.answerFileList,e,e+1)}),y.hc(24,"mytranslate"),y.Tc(25,"arrow_downward "),y.Ub(),y.Ub(),y.Ub(),y.Ub(),y.Ub(),y.Rc(26,st,4,0,"span",98),y.Rc(27,lt,3,0,"span",99),y.Ub()}if(2&e){var o=t.$implicit,i=t.index,r=y.gc(9);y.Db(4),y.nc("src",y.ic(5,11,o.thumb),y.Ic),y.Db(4),y.oc("matTooltip",y.ic(9,13,"lang_homework_homework_frontend_submit_homework_go_to_front")),y.Db(3),y.oc("matTooltip",y.ic(12,15,"lang_homework_homework_frontend_submit_homework_go_to_top")),y.Db(4),y.Vc("",y.ic(16,17,"lang_homework_homework_frontend_submit_homework_page")," "),y.Db(2),y.oc("id","input_page_"+i),y.oc("max",null==r.answerFileList?null:r.answerFileList.length),y.oc("value",i+1),y.Db(3),y.oc("matTooltip",y.ic(21,19,"lang_homework_homework_frontend_submit_homework_go_to_backside")),y.Db(3),y.oc("matTooltip",y.ic(24,21,"lang_homework_homework_frontend_submit_homework_go_to_down")),y.Db(3),y.nc("ngIf",!(null!=r.obj&&r.obj.isMarked)),y.Db(1),y.nc("ngIf",r.isShowGreenCheckbox(o.url))}}function bt(e,t){if(1&e&&(y.Vb(0,"div",77),y.Rc(1,dt,28,23,"div",84),y.Ub()),2&e){var n=y.gc(8);y.Db(1),y.nc("ngForOf",n.answerFileList)}}function ut(e,t){if(1&e&&(y.Vb(0,"div"),y.Qb(1,"input",60),y.Rc(2,tt,25,6,"div",61),y.Rc(3,nt,6,3,"div",62),y.Rc(4,ot,4,3,"div",63),y.Rc(5,at,2,1,"div",64),y.Rc(6,ct,4,3,"div",63),y.Rc(7,bt,2,1,"div",64),y.Ub()),2&e){var n=y.gc(7);y.Db(2),y.nc("ngIf",!(null!=n.obj&&n.obj.isMarked)),y.Db(1),y.nc("ngIf",null==n.obj?null:n.obj.isMarked),y.Db(1),y.nc("ngIf",n.statusObjData.loading),y.Db(1),y.nc("ngIf",n.convertObjToArray(n.fileUploadQueue).length>0),y.Db(1),y.nc("ngIf",(null==n.answerFileList?null:n.answerFileList.length)&&(null==n.rawAnswerFileList?null:n.rawAnswerFileList.length)&&n.isSubmit),y.Db(1),y.nc("ngIf",null==n.answerFileList?null:n.answerFileList.length)}}function mt(e,t){if(1&e&&(y.Vb(0,"form",56),y.Rc(1,et,5,4,"p",57),y.Rc(2,ut,8,6,"div",7),y.Ub()),2&e){var n=y.gc(6);y.nc("formGroup",n.form),y.Db(1),y.nc("ngIf",n.hasResentComment),y.Db(1),y.nc("ngIf",n.files.length>0||0==n.files.length)}}function ht(e,t){1&e&&(y.Vb(0,"div",49),y.Vb(1,"div",74),y.Vb(2,"div",75),y.Vb(3,"span"),y.Tc(4),y.hc(5,"mytranslate"),y.Ub(),y.Ub(),y.Ub(),y.Ub()),2&e&&(y.Db(4),y.Vc("",y.ic(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function gt(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",85),y.Vb(1,"a",86),y.Vb(2,"div",87),y.Vb(3,"div",88),y.Vb(4,"img",104),y.cc("click",function(){y.Ec(n);var e=t.$implicit;return y.gc(9).onShowFile(e,-1)}),y.hc(5,"mycdn"),y.Ub(),y.Ub(),y.Ub(),y.Ub(),y.Ub()}if(2&e){var o=t.$implicit;y.Db(4),y.nc("src",y.ic(5,1,o.url),y.Ic)}}function ft(e,t){if(1&e&&(y.Vb(0,"div",77),y.Rc(1,gt,6,3,"div",84),y.Ub()),2&e){var n=y.gc(8);y.Db(1),y.nc("ngForOf",n.answerFileList)}}function pt(e,t){1&e&&(y.Vb(0,"div",105),y.Vb(1,"span"),y.Tc(2),y.hc(3,"mytranslate"),y.Ub(),y.Ub()),2&e&&(y.Db(2),y.Uc(y.ic(3,1,"lang_homework_homework_frontend_submit_homework_end_time_submit")))}function vt(e,t){if(1&e&&(y.Rc(0,ht,6,3,"div",62),y.Rc(1,ft,2,1,"div",64),y.Rc(2,pt,4,3,"div",103)),2&e){var n=y.gc(7);y.nc("ngIf",null==n.obj?null:n.obj.isMarked),y.Db(1),y.nc("ngIf",(null==n.obj?null:n.obj.isOverTime)&&(null==n.answerFileList?null:n.answerFileList.length)),y.Db(1),y.nc("ngIf",(null==n.obj?null:n.obj.isOverTime)&&!(null!=n.obj&&n.obj.isMarked))}}function _t(e,t){1&e&&y.Rc(0,vt,3,3,"ng-template")}function wt(e,t){1&e&&(y.Vb(0,"span"),y.Qb(1,"span",108),y.Tc(2,"\xa0"),y.Ub())}function kt(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",106),y.Vb(1,"button",107),y.cc("click",function(){return y.Ec(n),y.gc(6).submitHomework()}),y.Rc(2,wt,3,0,"span",7),y.Tc(3),y.hc(4,"mytranslate"),y.hc(5,"mytranslate"),y.Ub(),y.Ub()}if(2&e){var o=y.gc(6);y.Db(1),y.nc("disabled",o.statusObjData.loading||!(null!=o.answerFileList&&o.answerFileList.length)||(null==o.obj?null:o.obj.isMarked)),y.Db(1),y.nc("ngIf",!0===o.statusObjData.loading),y.Db(1),y.Vc("",null!=o.obj&&o.obj.isMarked?y.ic(4,3,"lang_homework_homework_frontend_submit_homework_submited"):y.ic(5,5,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function Ot(e,t){1&e&&(y.Vb(0,"span"),y.Qb(1,"span",108),y.Tc(2,"\xa0"),y.Ub())}function jt(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",106),y.Vb(1,"button",109),y.cc("click",function(){return y.Ec(n),y.gc(6).submitHomework()}),y.Rc(2,Ot,3,0,"span",7),y.Tc(3),y.hc(4,"mytranslate"),y.hc(5,"mytranslate"),y.Ub(),y.Ub()}if(2&e){var o=y.gc(6);y.Db(1),y.nc("disabled",o.statusObjData.loading||!(null!=o.answerFileList&&o.answerFileList.length)||(null==o.obj?null:o.obj.isOverTime)),y.Db(1),y.nc("ngIf",!0===o.statusObjData.loading),y.Db(1),y.Vc("",null!=o.obj&&o.obj.isMarked?y.ic(4,3,"lang_homework_homework_frontend_submit_homework_submited"):y.ic(5,5,"lang_homework_homework_frontend_submit_homework_end_dealine_submit")," ")}}var xt=function(e){return{"pt-2":e}};function yt(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div"),y.Vb(1,"div",15),y.Rc(2,We,5,4,"p",16),y.Vb(3,"p",17),y.Tc(4),y.hc(5,"mytranslate"),y.Vb(6,"span",18),y.Tc(7),y.Ub(),y.Qb(8,"azt-download-qr-code",19),y.Ub(),y.Ub(),y.Vb(9,"div",28),y.Vb(10,"div",29),y.Vb(11,"div",30),y.Vb(12,"div",31),y.Vb(13,"span",32),y.Tc(14),y.hc(15,"mytranslate"),y.hc(16,"date"),y.Ub(),y.Rc(17,Je,4,7,"span",33),y.Rc(18,Be,4,6,"span",33),y.Ub(),y.Vb(19,"div",34),y.Vb(20,"span",32),y.Tc(21),y.hc(22,"mytranslate"),y.hc(23,"date"),y.Ub(),y.Rc(24,$e,4,7,"span",33),y.Rc(25,Ge,4,6,"span",33),y.Ub(),y.Ub(),y.Vb(26,"div",30),y.Rc(27,Xe,4,4,"div",35),y.Rc(28,Ye,4,4,"div",36),y.Ub(),y.Ub(),y.Vb(29,"div",37),y.Qb(30,"div",38),y.Ub(),y.Rc(31,Ze,3,1,"div",39),y.Vb(32,"div",40),y.Rc(33,mt,3,3,"form",41),y.Rc(34,_t,1,0,void 0,7),y.Vb(35,"div",42),y.Rc(36,kt,6,7,"div",43),y.Rc(37,jt,6,7,"div",43),y.Ub(),y.Ub(),y.Ub(),y.Vb(38,"app-answer-history",44),y.cc("previewFileEmit",function(e){return y.Ec(n),y.gc(5).onShowFileTwo(e)}),y.Ub(),y.Ub()}if(2&e){var o=y.gc(5);y.Db(2),y.nc("ngIf",(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.name)&&""!=(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.name)),y.Db(2),y.Vc(" ",y.ic(5,24,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),y.Db(3),y.Uc(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.hashId),y.Db(1),y.nc("fileName","azota_submit_homework_qrcode_"+o.homeworkHashId)("linkUrl",o.urlLocation),y.Db(6),y.Wc("",y.ic(15,26,"lang_homework_homework_frontend_submit_homework_date_homework"),": ",y.jc(16,28,null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.createdAt,"dd/MM/yyyy HH:mm:ss"),""),y.Db(3),y.nc("ngIf",null!=(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),y.Db(1),y.nc("ngIf",null==(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),y.Db(3),y.Wc("",y.ic(22,31,"lang_homework_homework_frontend_submit_homework_date_homework"),": ",y.jc(23,33,null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.createdAt,"dd/MM/yyyy HH:mm:ss"),""),y.Db(3),y.nc("ngIf",null!=(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),y.Db(1),y.nc("ngIf",null==(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),y.Db(2),y.nc("ngIf",o.currentChild),y.Db(1),y.nc("ngIf",o.currentChild),y.Db(2),y.nc("innerHTML",null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.content,y.Fc),y.Db(1),y.nc("ngIf",o.files.length>0),y.Db(1),y.nc("ngClass",y.tc(36,xt,null==o.obj?null:o.obj.isOverTime)),y.Db(1),y.nc("ngIf",!(null!=o.obj&&o.obj.isOverTime)),y.Db(1),y.nc("ngIf",null==o.obj?null:o.obj.isOverTime),y.Db(2),y.nc("ngIf",!(null!=o.obj&&o.obj.isOverTime)),y.Db(1),y.nc("ngIf",null==o.obj?null:o.obj.isOverTime),y.Db(1),y.nc("dataAnswerHistory",o.answerHistory)("dataHomeworkObj",null==o.obj?null:o.obj.homeworkObj)}}function Mt(e,t){if(1&e&&(y.Vb(0,"p",17),y.Tc(1),y.hc(2,"mytranslate"),y.Vb(3,"span",18),y.Tc(4),y.Ub(),y.Ub()),2&e){var n=y.gc(6);y.Db(1),y.Vc(" ",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_name_homework"),": "),y.Db(3),y.Uc(null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.name)}}function Ct(e,t){if(1&e&&(y.Vb(0,"span",32),y.Tc(1),y.hc(2,"mytranslate"),y.hc(3,"date"),y.Ub()),2&e){var n=y.gc(6);y.Db(1),y.Wc("",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",y.jc(3,4,null==n.obj||null==n.obj.homeworkObj?null:n.obj.homeworkObj.deadline,"dd/MM/yyyy HH:mm:ss"),"")}}function Pt(e,t){1&e&&(y.Vb(0,"span",32),y.Tc(1),y.hc(2,"mytranslate"),y.hc(3,"mytranslate"),y.Ub()),2&e&&(y.Db(1),y.Wc("",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",y.ic(3,4,"lang_homework_homework_frontend_submit_homework_not_time"),""))}function Ut(e,t){if(1&e&&(y.Vb(0,"div",45),y.Vb(1,"div",46),y.Tc(2),y.hc(3,"mytranslate"),y.Ub(),y.Ub()),2&e){var n=y.gc(6);y.Db(2),y.Wc("",y.ic(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",n.currentChild.fullName,"")}}function Dt(e,t){if(1&e&&(y.Vb(0,"div",47),y.Vb(1,"div",46),y.Tc(2),y.hc(3,"mytranslate"),y.Ub(),y.Ub()),2&e){var n=y.gc(6);y.Db(2),y.Wc("",y.ic(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",n.currentChild.fullName,"")}}function Vt(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",51),y.Vb(1,"div",52),y.Vb(2,"a",53),y.cc("click",function(){y.Ec(n);var e=t.$implicit;return y.gc(6).onShowFile(e,-1)}),y.Vb(3,"mat-icon",54),y.Tc(4,"text_snippet"),y.Ub(),y.Vb(5,"span",55),y.Tc(6),y.Ub(),y.Ub(),y.Ub(),y.Ub()}if(2&e){var o=t.$implicit;y.Db(5),y.nc("title",o.name),y.Db(1),y.Uc(o.name)}}function St(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",79),y.Vb(1,"a",53),y.cc("click",function(){y.Ec(n);var e=t.$implicit;return y.gc(7).onShowFile(e,-1)}),y.Vb(2,"mat-icon",113),y.Tc(3,"attach_file "),y.Ub(),y.Vb(4,"span",55),y.Tc(5),y.Ub(),y.Ub(),y.Ub()}if(2&e){var o=t.$implicit;y.Db(4),y.nc("title",o.name),y.Db(1),y.Uc(o.name)}}function It(e,t){if(1&e&&(y.Vb(0,"div",77),y.Rc(1,St,6,2,"div",78),y.Ub()),2&e){var n=y.gc(6);y.Db(1),y.nc("ngForOf",n.answerFileList)}}function Ft(e,t){1&e&&y.Qb(0,"p",121)}function Tt(e,t){if(1&e&&(y.Vb(0,"p",121),y.Qb(1,"azt-check-mark",122),y.Ub()),2&e){var n=y.gc(7);y.Db(1),y.nc("mark",n.answerObj.point)}}function Rt(e,t){if(1&e&&y.Qb(0,"div",127),2&e){var n=y.gc(8);y.nc("innerHTML",n.answerObj.note,y.Fc)}}function At(e,t){if(1&e&&y.Qb(0,"div",128),2&e){var n=y.gc(8);y.nc("innerHTML",n.answerObj.note,y.Fc)}}function Lt(e,t){if(1&e&&y.Qb(0,"div",129),2&e){var n=y.gc(8);y.nc("innerHTML",n.answerObj.note,y.Fc)}}function Ht(e,t){if(1&e&&y.Qb(0,"div",130),2&e){var n=y.gc(8);y.nc("innerHTML",n.answerObj.note,y.Fc)}}function zt(e,t){if(1&e&&(y.Vb(0,"div"),y.Rc(1,Rt,1,1,"div",123),y.Rc(2,At,1,1,"div",124),y.Rc(3,Lt,1,1,"div",125),y.Rc(4,Ht,1,1,"div",126),y.Ub()),2&e){var n=y.gc(7);y.Db(1),y.nc("ngIf","font_chu_in"==n.answerObj.txtCommentFont),y.Db(1),y.nc("ngIf","font_chu_in_\u0111am"==n.answerObj.txtCommentFont),y.Db(1),y.nc("ngIf","font_chu_dep_z"==n.answerObj.txtCommentFont),y.Db(1),y.nc("ngIf","font_chu_in_nghieng"==n.answerObj.txtCommentFont)}}function Et(e,t){if(1&e&&y.Qb(0,"div",129),2&e){var n=y.gc(7);y.nc("innerHTML",n.answerObj.note,y.Fc)}}function Nt(e,t){if(1&e){var n=y.Wb();y.Vb(0,"span",111),y.Tc(1),y.hc(2,"mytranslate"),y.Ub(),y.Tc(3," ("),y.Vb(4,"a",114),y.cc("click",function(){return y.Ec(n),y.gc(6).viewDetail()}),y.Tc(5),y.hc(6,"mytranslate"),y.Ub(),y.Tc(7,") "),y.Vb(8,"div",115),y.Vb(9,"div",116),y.Rc(10,Ft,1,0,"p",117),y.Rc(11,Tt,2,1,"p",117),y.Ub(),y.Vb(12,"div",118),y.Vb(13,"span",119),y.Tc(14),y.hc(15,"mytranslate"),y.Ub(),y.Rc(16,zt,5,4,"div",4),y.Rc(17,Et,1,1,"ng-template",null,120,y.Sc),y.Ub(),y.Ub()}if(2&e){var o=y.Ac(18),i=y.gc(6);y.Db(1),y.Uc(y.ic(2,7,"lang_homework_homework_frontend_submit_homework_result")),y.Db(4),y.Uc(y.ic(6,9,"lang_homework_homework_frontend_submit_homework_view_detail_result")),y.Db(5),y.nc("ngIf",!i.isHideMark&&!i.answerObj.point),y.Db(1),y.nc("ngIf",!i.isHideMark&&i.answerObj.point),y.Db(3),y.Uc(y.ic(15,11,"lang_homework_homework_frontend_submit_homework_comment")),y.Db(2),y.nc("ngIf",null!=i.answerObj.txtCommentFont||null!=i.answerObj.txtCommentFont)("ngIfElse",o)}}function qt(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",15),y.Rc(1,Mt,5,4,"p",16),y.Vb(2,"p",17),y.Tc(3),y.hc(4,"mytranslate"),y.Vb(5,"span",18),y.Tc(6),y.Ub(),y.Qb(7,"azt-download-qr-code",19),y.Ub(),y.Ub(),y.Vb(8,"div",28),y.Vb(9,"div",29),y.Vb(10,"div",30),y.Vb(11,"span",32),y.Tc(12),y.hc(13,"mytranslate"),y.hc(14,"date"),y.Ub(),y.Rc(15,Ct,4,7,"span",33),y.Rc(16,Pt,4,6,"span",33),y.Ub(),y.Vb(17,"div",30),y.Rc(18,Ut,4,4,"div",35),y.Rc(19,Dt,4,4,"div",36),y.Ub(),y.Ub(),y.Vb(20,"div",37),y.Qb(21,"div",38),y.Ub(),y.Vb(22,"div",48),y.Vb(23,"div",49),y.Rc(24,Vt,7,2,"div",50),y.Ub(),y.Ub(),y.Vb(25,"div",110),y.Vb(26,"p"),y.Vb(27,"span",111),y.Tc(28),y.hc(29,"mytranslate"),y.Ub(),y.Tc(30),y.hc(31,"mytranslate"),y.hc(32,"date"),y.Ub(),y.Rc(33,It,2,1,"div",64),y.Rc(34,Nt,19,13,"ng-template",112),y.Ub(),y.Ub(),y.Vb(35,"app-answer-history",44),y.cc("previewFileEmit",function(e){return y.Ec(n),y.gc(5).onShowFileTwo(e)}),y.Ub()}if(2&e){var o=y.gc(5);y.Db(1),y.nc("ngIf",(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.name)&&""!=(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.name)),y.Db(2),y.Vc(" ",y.ic(4,20,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),y.Db(3),y.Uc(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.hashId),y.Db(1),y.nc("fileName","azota_submit_homework_qrcode_"+o.homeworkHashId)("linkUrl",o.urlLocation),y.Db(5),y.Wc("",y.ic(13,22,"lang_homework_homework_frontend_submit_homework_date_homework")," ",y.jc(14,24,null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.createdAt,"dd/MM/yyyy HH:mm:ss"),""),y.Db(3),y.nc("ngIf",null!=(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),y.Db(1),y.nc("ngIf",null==(null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.deadline)),y.Db(2),y.nc("ngIf",o.currentChild),y.Db(1),y.nc("ngIf",o.currentChild),y.Db(2),y.nc("innerHTML",null==o.obj||null==o.obj.homeworkObj?null:o.obj.homeworkObj.content,y.Fc),y.Db(3),y.nc("ngForOf",o.files),y.Db(4),y.Uc(y.ic(29,27,"lang_homework_homework_frontend_submit_homework_assignment")),y.Db(2),y.Wc(" (",y.ic(31,29,"lang_homework_homework_frontend_submit_homework_time_submit"),": ",y.jc(32,31,null==o.answerObj?null:o.answerObj.createdAt,"dd/MM/yyyy HH:mm:ss"),")"),y.Db(3),y.nc("ngIf",null==o.answerFileList?null:o.answerFileList.length),y.Db(1),y.nc("ngIf",null!=o.answerObj&&(null==o.obj?null:o.obj.isMarked)),y.Db(1),y.nc("dataAnswerHistory",o.answerHistory)("dataHomeworkObj",null==o.obj?null:o.obj.homeworkObj)}}function Qt(e,t){if(1&e&&(y.Rc(0,yt,39,38,"div",4),y.Rc(1,qt,36,34,"ng-template",null,27,y.Sc)),2&e){var n=y.Ac(2),o=y.gc(4);y.nc("ngIf",null==o.answerObj||null!=o.answerObj&&null==o.answerObj.confirmedAt)("ngIfElse",n)}}function Wt(e,t){if(1&e&&(y.Rc(0,Qe,4,3,"div",24),y.Rc(1,Qt,3,2,"ng-template",null,25,y.Sc)),2&e){var n=y.Ac(2),o=y.gc(3);y.nc("ngIf",(null==o.obj?null:o.obj.isOverTime)&&!(null!=o.obj&&null!=o.obj.answerObj&&o.obj.answerObj.createdAt))("ngIfElse",n)}}function Jt(e,t){if(1&e&&(y.Vb(0,"div"),y.Rc(1,qe,2,1,"div",4),y.Rc(2,Wt,3,2,"ng-template",null,22,y.Sc),y.Ub()),2&e){var n=y.Ac(3),o=y.gc(2);y.Db(1),y.nc("ngIf",o.isShowPreviewFile)("ngIfElse",n)}}function Bt(e,t){if(1&e&&(y.Rc(0,Re,6,3,"div",7),y.Rc(1,Ee,5,6,"div",7),y.Rc(2,Ne,1,1,"app-message-dialog",8),y.Rc(3,Jt,4,2,"div",7)),2&e){var n=y.gc();y.nc("ngIf",""!=n.statusObj.errorMessage),y.Db(1),y.nc("ngIf",n.selectChild),y.Db(1),y.nc("ngIf",n.messageDialogData.isShow),y.Db(1),y.nc("ngIf",n.normalFlow)}}function $t(e,t){if(1&e){var n=y.Wb();y.Vb(0,"div",131),y.Tc(1),y.hc(2,"mytranslate"),y.Vb(3,"a",132),y.cc("click",function(){y.Ec(n);var e=y.gc();return e.isShowErrorsBox=!e.isShowErrorsBox}),y.Tc(4),y.hc(5,"mytranslate"),y.hc(6,"mytranslate"),y.Ub(),y.Tc(7," ) "),y.Ub()}if(2&e){var o=y.gc();y.Db(1),y.Vc(" ",y.ic(2,2,"lang_homework_homework_frontend_submit_homework_error_exchange_data"),". ( "),y.Db(3),y.Uc(o.isShowErrorsBox?y.ic(5,4,"lang_homework_homework_frontend_submit_homework_hide_detail"):y.ic(6,6,"lang_homework_homework_frontend_submit_homework_view_detail"))}}function Gt(e,t){if(1&e&&(y.Vb(0,"div"),y.Vb(1,"div"),y.Tc(2),y.Ub(),y.Ub()),2&e){var n=t.$implicit;y.Db(2),y.Uc(n)}}function Xt(e,t){if(1&e&&(y.Vb(0,"div",131),y.Rc(1,Gt,3,1,"div",133),y.Ub()),2&e){var n=y.gc();y.Db(1),y.nc("ngForOf",n.logs)}}var Yt,Kt=((Yt=function(t){a(c,t);var i=s(c);function c(e,t,n,r,a,s,l,b,u,h,g,f,p,v){var _;return o(this,c),(_=i.call(this,n)).fb=e,_.activeRoute=t,_.commonService=n,_.baseApiService=r,_.myPdfService=a,_.localStorageObjetct=s,_.frontHomeworkService=l,_.frontAnswerService=b,_.frontStudentService=u,_.apiUploadService=h,_.zipdataService=g,_.userService=f,_.homeworkExamService=p,_.cdnService=v,_.form=new m.k({}),_.homeworkHashId="",_.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},_.currentChild={},_.files=[],_.hasResentComment=!1,_.isSubmit=!1,_.urlLocation="",_.isShowPreviewFile=!1,_.logs=[],_.isShowErrorsBox=!1,_.isHideMark=!1,_.fileUploadQueue=[],_.uploadCount=0,_.selectChild=!1,_.isPendingApproved=!1,_.messageDialogData={type:"",isShow:!1},_.normalFlow=!1,_.chooseChildData={isPendingApproved:!1,isShow:!1},_.backtoLink="/student/dashboard/1",_.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},_.requireLogin={studentObj:void 0,classId:-1,isShow:!1},_.countUpload=1,_.selectFile=function(e){return Object(P.a)(d(_),void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.target.files,t.prev=1,t.t0=regeneratorRuntime.keys(n);case 3:if((t.t1=t.t0()).done){t.next=24;break}if("length"==(o=t.t1.value)||"item"==o){t.next=22;break}if(!Object(S.j)(n[o].type)){t.next=21;break}if(!(Object(S.b)(n[o].size)<=200)){t.next=18;break}if(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},!Object(S.i)(n[o].type)){t.next=15;break}return t.next=11,this.myPdfService.getImageWithPdf(n[o]);case 11:i=t.sent,this.answerFile=n?n[o]:this.answerFile,this.uploadFiles(i,this.uploadCount),this.uploadCount+=1,t.next=16;break;case 15:this.answerFile=n?n[o]:this.answerFile,this.answerFile&&(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);case 16:t.next=19;break;case 18:this.commonService.snackError("Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB","");case 19:t.next=22;break;case 21:this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF","");case 22:t.next=3;break;case 24:e.target.value="",this.isSubmit=!1,t.next=30;break;case 27:t.prev=27,t.t2=t.catch(1),alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+t.t2);case 30:case"end":return t.stop()}},t,this,[[1,27]])}))},_.uploadFileVideo=function(e,t){return Object(P.a)(d(_),void 0,void 0,regeneratorRuntime.mark(function n(){var o,i,r,a,c,s=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c={qrcode:void 0,homeworkId:null===(i=null===(o=this.obj)||void 0===o?void 0:o.homeworkObj)||void 0===i?void 0:i.id,teacherId:null===(a=null===(r=this.obj)||void 0===r?void 0:r.homeworkObj)||void 0===a?void 0:a.tenantId},this.subscriptions.add(this.apiUploadService.uploadToVimeoProgress("front_homework",e,c).subscribe(function(n){var o;n.isOnProgress?s.fileUploadQueue.hasOwnProperty(t)?(s.fileUploadQueue[t].uploadProgress=Math.round(null!==(o=n.percentage)&&void 0!==o?o:0),s.fileUploadQueue[t].fileName=e.name):s.fileUploadQueue[t]={uploadProgress:0,fileName:e.name}:1==n.success?(delete s.fileUploadQueue[t],Array.isArray(s.answerFileList)||(s.answerFileList=[]),s.addFileWithProsess(Object.assign(Object.assign({},n.data),{lastModified:e.lastModified})),s.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""}):n.hasOwnProperty("code")&&401==n.code?s.countUpload<=3&&setTimeout(function(){s.countUpload++,s.uploadFileVideo(e,t)},15e3):(s.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},s.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin! Vui l\xf2ng th\u1eed l\u1ea1i sau! T\xean: "+e.name,""),s.commonService.gaEvent("FrontHomework_UploadError"))}));case 2:case"end":return n.stop()}},n,this)}))},_.uploadFiles=function(e,t){return Object(P.a)(d(_),void 0,void 0,regeneratorRuntime.mark(function n(){var o,i,r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=regeneratorRuntime.mark(function n(o){var i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=e[o],n.next=3,Object(S.a)(i).then(function(e){r.apiUploadService.uploadToCdnProgressForFrontendHomework(e).subscribe(function(n){n.type!=U.d.UploadProgress&&(1==n.success?(delete r.fileUploadQueue[t],Array.isArray(r.answerFileList)||(r.answerFileList=[]),r.addFileWithProsess(Object.assign(Object.assign({},n.data),{lastModified:e.lastModified}))):(r.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},r.commonService.snackError("Kh\xf4ng Upload \u0111\u01b0\u1ee3c t\u1ec7p tin (T\xean:"+i.name+"! Vui l\xf2ng th\u1eed l\u1ea1i sau!","")))})});case 3:o===e.length-1&&(r.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""});case 4:case"end":return n.stop()}},n)}),i=0;case 2:if(!(i<e.length)){n.next=7;break}return n.delegateYield(o(i),"t0",4);case 4:i++,n.next=2;break;case 7:case"end":return n.stop()}},n)}))},_.uploadFile=function(e,t){return Object(P.a)(d(_),void 0,void 0,regeneratorRuntime.mark(function n(){var o=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.isSubmit=!1,(Object(S.f)(e.type)||Object(S.m)(e.type)||Object(S.d)(e.type)||Object(S.i)(e.type)||Object(S.h)(e.type))&&Object(S.a)(e).then(function(n){o.apiUploadService.uploadToCdnProgressForFrontendHomework(n).subscribe(function(i){var r,a;if(i.type!=U.d.UploadProgress)1==i.success?(delete o.fileUploadQueue[t],Array.isArray(o.answerFileList)||(o.answerFileList=[]),o.addFileWithProsess(Object.assign(Object.assign({},i.data),{lastModified:n.lastModified})),o.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""}):(o.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},o.commonService.gaEvent("FrontHomework_UploadError"),o.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh (T\xean: "+e.name+")! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i: [SPLIT_LANG]"+i.message));else{var c=Math.round(null!==(r=i.loaded)&&void 0!==r?r:0/(null!==(a=i.total)&&void 0!==a?a:1)*100);o.fileUploadQueue.hasOwnProperty(t)?(o.fileUploadQueue[t].uploadProgress=c,o.fileUploadQueue[t].fileName=e.name):o.fileUploadQueue[t]={uploadProgress:0,fileName:e.name}}})});case 1:case"end":return n.stop()}},n,this)}))},_.captureFile=function(e){return Object(P.a)(d(_),void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.target.files,t.prev=1,t.t0=regeneratorRuntime.keys(n);case 3:if((t.t1=t.t0()).done){t.next=24;break}if("length"==(o=t.t1.value)||"item"==o){t.next=22;break}if(!Object(S.j)(n[o].type)){t.next=21;break}if(!(Object(S.b)(n[o].size)<=200)){t.next=18;break}if(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},!Object(S.i)(n[o].type)){t.next=15;break}return t.next=11,this.myPdfService.getImageWithPdf(n[o]);case 11:i=t.sent,this.answerFile=n?n[o]:this.answerFile,this.uploadFiles(i,this.uploadCount),this.uploadCount+=1,t.next=16;break;case 15:this.answerFile=n?n[o]:this.answerFile,this.answerFile&&(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);case 16:t.next=19;break;case 18:this.commonService.snackError("Vui l\xf2ng ch\u1ecdn file kh\xf4ng qu\xe1 200 MB","");case 19:t.next=22;break;case 21:this.commonService.snackError("\u0110\u1ecbnh d\u1ea1ng file kh\xf4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\xf2ng ch\u1ecdn t\u1ec7p tin \u1ea2nh, Video (ch\u01b0a h\u1ed7 tr\u1ee3 .wmv), Audio ho\u1eb7c File PDF","");case 22:t.next=3;break;case 24:e.target.value="",this.isSubmit=!1,t.next=30;break;case 27:t.prev=27,t.t2=t.catch(1),alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+t.t2);case 30:case"end":return t.stop()}},t,this,[[1,27]])}))},_.answerFile=null,_}return r(c,[{key:"isShowGreenCheckbox",value:function(e){if(this.rawAnswerFileList&&this.rawAnswerFileList.length>0)for(var t=0;t<this.rawAnswerFileList.length;t++)if(this.rawAnswerFileList[t].url===e)return!0;return!1}},{key:"onFileClose",value:function(){this.isShowPreviewFile=!1,this.previewFile={}}},{key:"onShowFile",value:function(e,t){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},e),{index:t})}},{key:"onShowFileTwo",value:function(e){this.isShowPreviewFile=!0,this.previewFile=e}},{key:"showAllSubmit",value:function(){this.commonService.myNavigation("/student/dashboard/1")}},{key:"viewDetail",value:function(){var e;this.commonService.myNavigation("/homework/view-homework/"+(null===(e=this.answerObj)||void 0===e?void 0:e.id)+"/"+this.homeworkHashId)}},{key:"viewDetailHistory",value:function(e){var t,n;this.commonService.myNavigation("/homework/view-homework/"+(null===(n=null===(t=this.obj)||void 0===t?void 0:t.homeworkObj)||void 0===n?void 0:n.id)+"/"+this.homeworkHashId+"/"+e)}},{key:"openChooseStudent",value:function(e){1==e?(this.chooseChildData.isPendingApproved=!1,this.chooseChildData.isShow=!0):(this.chooseChildData.isPendingApproved=!0,this.chooseChildData.isShow=!0)}},{key:"closeChooseStudent",value:function(e){var t,n,o,i,r,a=this;0==(null===(t=e.studentObj)||void 0===t?void 0:t.isVerified)||1==(null===(n=e.classroomObj)||void 0===n?void 0:n.freeChooseName)?this.frontStudentService.apiFrontStudentAddStudentToClassForHomeworkGet(this.homeworkHashId,null===(i=null===(o=this.obj)||void 0===o?void 0:o.classroomObj)||void 0===i?void 0:i.id,e.studentObj?e.studentObj.id:0).subscribe(function(e){var t;1===e.success?(a.getData(),a.selectChild=!1,a.isPendingApproved=!1):a.showErrorSnack(null!==(t=e.message)&&void 0!==t?t:"")}):this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?this.userService.getUserObj().id==(null===(r=e.studentObj)||void 0===r?void 0:r.parentId)?(this.urlStudentId=0,this.getData(),this.selectChild=!1,this.isPendingApproved=!1,this.normalFlow=!0):this.sendRequestData={studentObj:e.studentObj,classId:e.classId,isShow:!0}:this.requireLogin={studentObj:e.studentObj,isShow:!0}}},{key:"closeRequireLogin",value:function(){this.requireLogin={studentObj:void 0,isShow:!1}}},{key:"confirmSendRequest",value:function(e){e?(this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.commonService.snackSuccess("Y\xeau c\u1ea7u c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi cho Gi\xe1o vi\xean!","")):(this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.commonService.snackError("Ch\u01b0a th\u1ec3 g\u1eedi y\xeau c\u1ea7u! Vui l\xf2ng th\u1eed l\u1ea1i",""))}},{key:"closeRequestDialog",value:function(){this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1}}},{key:"approvedToClass",value:function(e){var t,n,o=this,i={fullName:e.nameEmit,homeworkHashId:this.homeworkHashId,classroomId:null===(n=null===(t=this.obj)||void 0===t?void 0:t.classroomObj)||void 0===n?void 0:n.id};this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForHomeworkPost(i).subscribe(function(e){var t;1==e.success?o.getData():o.showErrorSnack(null!==(t=e.message)&&void 0!==t?t:"")}))}},{key:"cloneArray",value:function(e){var t=[];return null==e||e.forEach(function(e){t.push(e)}),t}},{key:"fillData",value:function(){var e,t,n,o,i,r,a,c,s,l,d,b;if(this.files=this.commonService.parseJson(null!==(n=null===(t=null===(e=this.obj)||void 0===e?void 0:e.homeworkObj)||void 0===t?void 0:t.files)&&void 0!==n?n:""),null==this.files&&(this.files=new Array),(null===(o=this.obj)||void 0===o?void 0:o.answerObj)&&this.obj.answerObj.files&&(this.answerFileList=this.commonService.parseJson(this.obj.answerObj.files),this.rawAnswerFileList=this.cloneArray(this.commonService.parseJson(this.obj.answerObj.files))),null===(i=this.obj)||void 0===i?void 0:i.answerHistoryObjs){for(var u=0;u<this.obj.answerHistoryObjs.length;u++)this.resendNote=this.obj.answerHistoryObjs[0].resendNote,this.hasResentComment=!0,this.obj.answerHistoryObjs[u].result&&(this.obj.answerHistoryObjs[u].note=this.commonService.parseJson(null!==(r=this.obj.answerHistoryObjs[u].result)&&void 0!==r?r:"").comment);this.answerHistory=this.obj.answerHistoryObjs;for(var m=0;m<this.answerHistory.length;m++){if(this.answerHistory[m].result){var h=this.commonService.parseJson(null!==(a=this.answerHistory[m].resultNote)&&void 0!==a?a:"");this.answerHistory[m].hideMark=!(!h||!h.IsHideMark)&&h.IsHideMark}this.answerHistory[m].files&&(this.answerHistory[m].fileParse=this.commonService.parseJson(null!==(c=this.answerHistory[m].files)&&void 0!==c?c:""))}}(null===(s=this.obj)||void 0===s?void 0:s.answerObj)&&(this.answerObj=this.obj.answerObj,this.hasResentComment=!1),this.answerObj&&this.answerObj.result&&(this.answerObj.note=null!=this.commonService.parseJson(this.answerObj.result)?this.commonService.parseJson(this.answerObj.result).comment:"",this.answerObj.txtCommentFont=this.commonService.parseJson(this.commonService.parseJson(this.answerObj.result).staticTextConfig).txtCommentFont,this.isHideMark=null!=this.commonService.parseJson(this.answerObj.result)&&this.commonService.parseJson(this.answerObj.result).hideMark),null!=(null===(l=this.answerObj)||void 0===l?void 0:l.resultNote)&&null==(null===(d=this.answerObj)||void 0===d?void 0:d.note)&&(this.answerObj.note=null!=this.commonService.parseJson(this.answerObj.resultNote)?this.commonService.parseJson(this.answerObj.resultNote).Note:""),this.currentChild=(null===(b=this.obj)||void 0===b?void 0:b.studentObj)?this.obj.studentObj:this.baseApiService.getUserObj()}},{key:"closeMessageDialog",value:function(e){e&&(this.messageDialogData={type:"",isShow:!1})}},{key:"getData",value:function(){var e=this;this.initStatusObj(),this.frontHomeworkService.apiFrontHomeworkGetObjGet(this.homeworkHashId).subscribe(function(t){var n,o,i,r,a,c,s,l,d,b,u,m,h,g,f,p,v,_,w,k,O,j,x,y,M,C,P,U,D,V,S,I,F,T,R,A,L;if(1==t.success){if(e.zipdataService.convertAnswersHistories(t.data),e.zipdataService.convertSubmittedAnswersObj(null===(n=t.data)||void 0===n?void 0:n.answerObj),e.obj=t.data,e.dataProcess=t.data,e.zipdataService.convertHomeworkObj(null!==(i=null===(o=e.obj)||void 0===o?void 0:o.homeworkObj)&&void 0!==i?i:{}),e.commonService.translateMetaData({title:(null===(a=null===(r=e.obj)||void 0===r?void 0:r.homeworkObj)||void 0===a?void 0:a.name)+"- L\u1edbp:"+(null===(s=null===(c=e.obj)||void 0===c?void 0:c.classroomObj)||void 0===s?void 0:s.name),description:null===(d=null===(l=e.obj)||void 0===l?void 0:l.homeworkObj)||void 0===d?void 0:d.content}),1==(null===(u=null===(b=e.obj)||void 0===b?void 0:b.homeworkObj)||void 0===u?void 0:u.mustVerified))if(!e.baseApiService.isLogin()||e.baseApiService.isLogin()&&e.baseApiService.isAnonymousRole())e.messageDialogData={type:"redirect_register",isShow:!0},e.openChooseStudent(1),e.chooseChildData.studentObjs=e.obj.studentObjs,e.chooseChildData.classObj=e.obj.classroomObj,e.selectChild=!0,e.normalFlow=!1;else if((null===(m=e.obj)||void 0===m?void 0:m.studentObj)&&1==e.obj.studentObj.isVerified)if(e.urlStudentId){var H=null===(g=null===(h=e.obj)||void 0===h?void 0:h.studentObjs)||void 0===g?void 0:g.filter(function(t){return t.id==e.urlStudentId});e.selectChild=!0,e.normalFlow=!1,e.openChooseStudent(3),e.chooseChildData={studentObj:null==H?void 0:H[0],studentObjs:null===(f=e.obj)||void 0===f?void 0:f.studentObjs,classroomObj:e.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else e.fillData(),e.selectChild=!1,e.normalFlow=!0;else if((null===(p=e.obj)||void 0===p?void 0:p.studentObj)&&0==e.obj.studentObj.isVerified)if(e.urlStudentId){var z=null===(_=null===(v=e.obj)||void 0===v?void 0:v.studentObjs)||void 0===_?void 0:_.filter(function(t){return t.id==e.urlStudentId});e.selectChild=!0,e.normalFlow=!1,e.openChooseStudent(3),e.chooseChildData={studentObj:null==z?void 0:z[0],studentObjs:null===(w=e.obj)||void 0===w?void 0:w.studentObjs,classroomObj:e.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else e.selectChild=!0,e.normalFlow=!1,e.openChooseStudent(2),e.chooseChildData.studentObj=null===(k=e.dataProcess)||void 0===k?void 0:k.studentObj;else if(e.urlStudentId){var E=null===(j=null===(O=e.obj)||void 0===O?void 0:O.studentObjs)||void 0===j?void 0:j.filter(function(t){return t.id==e.urlStudentId});e.selectChild=!0,e.normalFlow=!1,e.openChooseStudent(3),e.chooseChildData={studentObj:null==E?void 0:E[0],studentObjs:null===(x=e.obj)||void 0===x?void 0:x.studentObjs,classroomObj:null===(y=e.obj)||void 0===y?void 0:y.classroomObj,isPendingApproved:!1,isShow:!0}}else e.selectChild=!0,e.normalFlow=!1,e.openChooseStudent(1),e.chooseChildData.studentObjs=null===(M=e.dataProcess)||void 0===M?void 0:M.studentObjs,e.chooseChildData.classObj=null===(C=e.dataProcess)||void 0===C?void 0:C.classroomObj;else if(null==(null===(P=e.obj)||void 0===P?void 0:P.studentObj))if(e.urlStudentId){var N=null===(D=null===(U=e.obj)||void 0===U?void 0:U.studentObjs)||void 0===D?void 0:D.filter(function(t){return t.id==e.urlStudentId});e.selectChild=!0,e.normalFlow=!1,e.openChooseStudent(3),e.chooseChildData={studentObj:null==N?void 0:N[0],studentObjs:null===(V=e.obj)||void 0===V?void 0:V.studentObjs,classroomObj:null===(S=e.obj)||void 0===S?void 0:S.classroomObj,isPendingApproved:!1,isShow:!0}}else e.selectChild=!0,e.normalFlow=!1,e.openChooseStudent(1),e.chooseChildData.studentObjs=null===(I=e.dataProcess)||void 0===I?void 0:I.studentObjs,e.chooseChildData.classObj=null===(F=e.dataProcess)||void 0===F?void 0:F.classroomObj;else if(e.urlStudentId){var q=null===(R=null===(T=e.obj)||void 0===T?void 0:T.studentObjs)||void 0===R?void 0:R.filter(function(t){return t.id==e.urlStudentId});e.selectChild=!0,e.normalFlow=!1,e.openChooseStudent(3),e.chooseChildData={studentObj:null==q?void 0:q[0],studentObjs:null===(A=e.obj)||void 0===A?void 0:A.studentObjs,classroomObj:e.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else e.isPendingApproved=!1,e.selectChild=!1,e.fillData(),e.normalFlow=!0;e.successStatusObj()}else e.errorStatusObj(null!==(L=t.message)&&void 0!==L?L:"",!0)}),this.commonService.gaEvent("FrontHomework_GetObj")}},{key:"convertObjToArray",value:function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(e[n]);return t}},{key:"addFileWithProsess",value:function(e){var t,n,o,i;e&&(null===(t=this.answerFileList)||void 0===t||t.push(e));for(var r=null!==(o=null===(n=this.answerFileList)||void 0===n?void 0:n.length)&&void 0!==o?o:0,a=0;a<r;a++)this.answerFileList&&!(null===(i=this.answerFileList)||void 0===i?void 0:i[a].lastModified)&&(this.answerFileList[a].lastModified=(new Date).getTime()),this.answerFileList&&!this.answerFileList[a].thumb&&(this.answerFileList[a].thumb=this.homeworkExamService.getThumbWithObj(this.answerFileList[a]));this.answerFileList&&this.answerFileList.length>0&&this.answerFileList.sort(function(e,t){return e.lastModified&&t.lastModified?e.lastModified-t.lastModified:0})}},{key:"removeImg",value:function(e){var t,n=null===(t=this.answerFileList)||void 0===t?void 0:t.filter(function(t){return t.url!==e});this.answerFileList=n}},{key:"submitHomework",value:function(){var e,t,n,o,i,r,a=this,c={homeworkHashId:null===(t=null===(e=this.obj)||void 0===e?void 0:e.homeworkObj)||void 0===t?void 0:t.hashId,studentId:this.currentChild.id,files:JSON.stringify(this.answerFileList)};if("[]"!=c.files){this.isSubmit=!1,this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""};var s=JSON.stringify({type:"homework",id:null===(o=null===(n=this.obj)||void 0===n?void 0:n.homeworkObj)||void 0===o?void 0:o.id,user:null===(r=null===(i=this.obj)||void 0===i?void 0:i.homeworkObj)||void 0===r?void 0:r.tenantId});this.frontAnswerService.apiFrontAnswerSaveObjPost(c,s).subscribe(function(e){var t;1==e.success?(a.localStorageObjetct.clearAllCache(),a.isSubmit=!0,a.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},a.rawAnswerFileList=a.cloneArray(a.answerFileList),a.showSuccessSnack("B\u1ea1n \u0111\xe3 n\u1ed9p b\xe0i th\xe0nh c\xf4ng"),a.hasResentComment=!1):(a.showErrorSnack(null!==(t=e.message)&&void 0!==t?t:""),a.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},a.isSubmit=!1)},function(e){a.logs.push("Err:"+e)})}else this.showErrorSnack("B\xe0i l\xe0m ch\u01b0a \u0111\u1ea7y \u0111\u1ee7. Vui l\xf2ng th\u1eed l\u1ea1i");this.commonService.gaEvent("FrontHomework_SaveObj")}},{key:"switchAttributeArray",value:function(e,t,n){var o,i,r;if(this.answerFileList&&(null===(o=this.answerFileList)||void 0===o?void 0:o.length)){if((null===(i=this.answerFileList)||void 0===i?void 0:i.length)<=t)return;if(this.answerFileList.length<=n)return;if(t<0)return;if(n<0)return;var a=this.castObj(this.answerFileList[t]);this.answerFileList[t]=null!==(r=this.castObj(this.answerFileList[n]))&&void 0!==r?r:{},this.answerFileList[n]=null!=a?a:{}}}},{key:"switchAttributeArrayInput",value:function(e,t){var n,o,i=Number(t)-1;i<=0?i=0:this.answerFileList&&i>=(null===(n=this.answerFileList)||void 0===n?void 0:n.length)&&(i=this.answerFileList.length),null===(o=this.answerFileList)||void 0===o||o.splice(i,0,this.answerFileList.splice(e,1)[0])}},{key:"ngOnInit",value:function(){var t=this;this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),Object(D.b)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(function(n){var o,i,r,a=e(n,2);a[0],a[1],""!=t.commonService.getMyQueryParam("backto")&&(t.backtoLink=null!==(o=t.commonService.getMyQueryParam("backto"))&&void 0!==o?o:"/student/dashboard/1");var c=null!==(i=t.commonService.getMyQueryParam("studentId"))&&void 0!==i?i:"0";t.urlStudentId=parseInt(c,10),t.homeworkHashId=null!==(r=t.commonService.getMyParam(t.activeRoute,"hash_id"))&&void 0!==r?r:"",t.getData()}),this.form=this.fb.group({file_data:new m.h("",m.A.required),file_capture:new m.h("",m.A.required),file:new m.h("",m.A.required)}),this.urlLocation=window.location.href,n(b(c.prototype),"ngOnInit",this).call(this)}}]),c}(x.a)).\u0275fac=function(e){return new(e||Yt)(y.Pb(m.g),y.Pb(g.a),y.Pb(I.a),y.Pb(F.a),y.Pb(T.a),y.Pb(R.a),y.Pb(V.G),y.Pb(V.y),y.Pb(V.L),y.Pb(A.a),y.Pb(L.a),y.Pb(H.a),y.Pb(z.a),y.Pb(E.a))},Yt.\u0275cmp=y.Jb({type:Yt,selectors:[["app-submit-homework"]],features:[y.Ab],decls:10,vars:6,consts:[[3,"headerTitle","back_link"],[1,"mt-3"],[1,"d-block"],[1,"container-fluid","mb-2","maxW1200",2,"min-height","calc(100vh - 300px)"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"row","justify-content-center","py-5"],[1,"col-12","text-center"],[1,"alert","alert-danger"],["class","text-center mt-2 mb-2",4,"ngIf"],[3,"homeworkFlow","data","showAddStudent","selectChild","approvedByName"],[3,"data","confirmSend","closeDialog",4,"ngIf"],[1,"text-center","mt-2","mb-2"],["class","h5",4,"ngIf"],[1,"h5"],[2,"color","#00a7d0"],[1,"pt-1","pl-2",3,"fileName","linkUrl"],[3,"data","confirmSend","closeDialog"],[3,"data","closeDialog"],["Main",""],[3,"fileOption","closePreview"],["class","alert alert-danger mt-3",4,"ngIf","ngIfElse"],["Normal",""],[1,"alert","alert-danger","mt-3"],["Result",""],[1,"card-box"],[1,"row","top-row"],[1,"col-12","col-sm-6","text-white"],[1,"d-none","d-sm-block"],[1,"d-block","mb-2"],["class","d-block mb-2",4,"ngIf"],[1,"d-sm-none","mb-2"],["class","d-none d-sm-block text-right",4,"ngIf"],["class","d-sm-none",4,"ngIf"],[1,"description"],[1,"content-homework","pt-3",3,"innerHTML"],["class","files",4,"ngIf"],[1,"summitForm","pt-5","pb-5",3,"ngClass"],["class","form-horizontal text-center",3,"formGroup",4,"ngIf"],[1,"mt-20","text-center"],["class","col-sm-12",4,"ngIf"],[3,"dataAnswerHistory","dataHomeworkObj","previewFileEmit"],[1,"d-none","d-sm-block","text-right"],[1,"font-500"],[1,"d-sm-none"],[1,"files"],[1,"row","ml-0","mr-0"],["class","col-6 col-sm-4 col-md-3 col-lg-2 pl-0",4,"ngFor","ngForOf"],[1,"col-6","col-sm-4","col-md-3","col-lg-2","pl-0"],[1,"file"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px"],[1,"truncate",2,"line-height","1.6",3,"title"],[1,"form-horizontal","text-center",3,"formGroup"],["class","h5 mb-3",4,"ngIf"],[1,"h5","mb-3"],[1,"text-danger"],["type","hidden","id","inp_hidden","formControlName","file_data",1,"form-control","file-input"],["class","row pl-3 pr-3",4,"ngIf"],["class","row ml-0 mr-0",4,"ngIf"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"row","pl-3","pr-3"],[1,"col-6","col-sm-6","col-md-6","col-lg-6","text-center","v-dragndrop","dropzone","dz-started"],["id","dropzone-3404",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_capture","multiple","","accept","image/*;capture=camera",1,"form-control","file-input",3,"change"],["fileCapture",""],["id","dropzone-3405",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],["type","file","id","file_select","multiple","",1,"form-control","file-input",3,"change"],["fileSelect",""],[1,"col-12"],[1,"alert","alert-danger","text-center"],[1,"text-center","m-4"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"h5","text-success"],["class","col-12 col-sm-12 col-md-4 col-xl-3 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-xl-3","col-lg-3"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px"],[1,"box_image_answer"],[1,"box_image_answer_content"],[2,"image-orientation","from-image",3,"src","click"],[1,"box_image_answer_control"],[1,"icon-prev"],["matTooltipPosition","below",1,"box_image_answer_pc",3,"matTooltip","click"],["matTooltipPosition","below",1,"box_image_answer_mobile",3,"matTooltip","click"],[1,"page-number"],["type","number","min","1",1,"input-page","text-center",3,"id","max","value","keyup.enter","change"],["myInput",""],[1,"icon-next"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge notify-suss",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge","notify-suss"],[2,"color","rgb(26,188,0)"],["class","alert alert-danger text-center mt-2 ml-5 mr-5",4,"ngIf"],[3,"src","click"],[1,"alert","alert-danger","text-center","mt-2","ml-5","mr-5"],[1,"col-sm-12"],["mat-raised-button","","color","primary",2,"margin-top","20px",3,"disabled","click"],["role","status",1,"spinner-border","spinner-border-sm"],["mat-raised-button","","color","danger",2,"margin-top","20px",3,"disabled","click"],[1,"summitForm","pt-3","pb-3","pl-2","pr-2"],[1,"h5","ml-3","text-dark"],[3,"ngIf"],[2,"font-size","20px","vertical-align","sub"],[2,"color","rgba(0, 167, 208, 1)","cursor","pointer",3,"click"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-md-3","_col-left","text-center"],["class","mb-0",4,"ngIf"],[1,"col-md-8","_col-right"],[1,"h5","title"],["fontText",""],[1,"mb-0"],[3,"mark"],["class","content-homework pt-3 text-writing",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-bold",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-beautiful",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-italy",3,"innerHTML",4,"ngIf"],[1,"content-homework","pt-3","text-writing",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-bold",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-beautiful",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-italy",3,"innerHTML"],["role","alert",1,"alert","alert-danger","mt-3"],["href","javscript:void(0)",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,t){if(1&e&&(y.Qb(0,"header-frontend",0),y.Vb(1,"div",1),y.Vb(2,"div",2),y.Vb(3,"div",3),y.Rc(4,Te,1,0,"azt-loading-effect",4),y.Rc(5,Bt,4,4,"ng-template",null,5,y.Sc),y.Ub(),y.Rc(7,$t,8,8,"div",6),y.Rc(8,Xt,2,1,"div",6),y.Ub(),y.Ub(),y.Qb(9,"homework-frontend-footer")),2&e){var n=y.Ac(6);y.nc("headerTitle",t.currentChild||null!=t.obj&&null!=t.obj.classroomObj&&t.obj.classroomObj.name?null==t.obj||null==t.obj.classroomObj?null:t.obj.classroomObj.name:"")("back_link",t.backtoLink),y.Db(4),y.nc("ngIf",t.statusObj.loading)("ngIfElse",n),y.Db(3),y.nc("ngIf",t.logs.length>0),y.Db(1),y.nc("ngIf",t.isShowErrorsBox)}},directives:[N.a,u.m,ne,oe.a,ie.a,re.a,ae.a,ue,ve,_e.a,u.k,Ie,u.l,we.a,m.C,m.t,m.l,m.d,m.s,m.j,u.n,Fe.a,se.b,ke.a],pipes:[Q.z,u.e,Q.x],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid #00a7d0;border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;border-top-left-radius:0;border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:0;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.students[_ngcontent-%COMP%]{border-width:0;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px rgba(0,0,0,.062745098)}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;padding:10px 15px;border:1px solid #e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:font_chu_dep;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}@font-face{font-family:font_chu_in;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/Roboto-Thin.ttf)}@font-face{font-family:font_chu_in_nghieng;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-It.otf)}@font-face{font-family:font_chu_in_dam;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-BoldIt.otf)}.text-writing[_ngcontent-%COMP%]{font-family:font_chu_in!important;font-weight:700}.text-writing-beautiful[_ngcontent-%COMP%]{font-family:font_chu_dep!important}.text-writing-italy[_ngcontent-%COMP%]{font-family:font_chu_in_nghieng!important}.text-writing-bold[_ngcontent-%COMP%]{font-family:font_chu_in_dam!important}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.select_class[_ngcontent-%COMP%]{background:inherit;background-color:#3c8dbc;box-sizing:border-box;border-radius:5px;box-shadow:none;color:#fff}.isSelected[_ngcontent-%COMP%]{border:2px solid #004f7b}.isDisabled[_ngcontent-%COMP%]{opacity:.6}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px}.input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width:768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width:576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .box_image_answer_control[_ngcontent-%COMP%]{width:100%;border:1px solid #03a7d0}.box_image_answer_control[_ngcontent-%COMP%]{background:#fff;border-top:none;display:flex;justify-content:space-evenly;align-items:center;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{padding:5px 30px;border-left:1px solid #03a7d0;border-right:1px solid #03a7d0;background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width:768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]}),Yt),Zt=c("lbRm"),en=c("STbY"),tn=c("UXJo");function nn(e,t){if(1&e&&(y.Vb(0,"h4",12),y.Tc(1),y.Ub()),2&e){var n=y.gc();y.Db(1),y.Wc(" ",null==n.result||null==n.result.studentObj?null:n.result.studentObj.fullName,", ",null==n.result||null==n.result.classroomObj?null:n.result.classroomObj.name," ")}}function on(e,t){1&e&&y.Qb(0,"azt-loading-effect")}function rn(e,t){if(1&e&&(y.Vb(0,"div",16),y.Vb(1,"div",17),y.Tc(2),y.hc(3,"mytranslate"),y.Ub(),y.Ub()),2&e){var n=y.gc(2);y.Db(2),y.Uc(y.ic(3,1,n.errorMessage))}}function an(e,t){if(1&e&&(y.Vb(0,"div",18),y.Qb(1,"iframe",19),y.hc(2,"safe"),y.Ub()),2&e){var n=y.gc(2);y.Db(1),y.nc("src",y.ic(2,1,n.iframeSrc),y.Gc)}}function cn(e,t){if(1&e&&(y.Vb(0,"div"),y.Vb(1,"div",13),y.Rc(2,rn,4,3,"div",14),y.Ub(),y.Ub(),y.Rc(3,an,3,3,"div",15)),2&e){var n=y.gc();y.Db(2),y.nc("ngIf",""!=n.errorMessage),y.Db(1),y.nc("ngIf",""==n.errorMessage)}}var sn,ln,dn,bn=((sn=function(e){a(i,e);var t=s(i);function i(e,n,r,a,c,s,l){var d;return o(this,i),(d=t.call(this,a)).activeRoute=e,d.frontAnswerService=n,d.frontAnswerHistoryService=r,d.commonService=a,d.cdnService=c,d.zipdataService=s,d.envService=l,d.homeworkHashId="",d.isMarked=!1,d.jsonData={},d.iframeSrc="",d.backLink="",d.files=[],d.handleIframe=function(e){var t,n,o,i,r,a,c,s,l,b,u,m,h,g,f;if("MNoteLoadComplete"==e.data){var p=document.getElementById("mNote"),v=p?p.contentWindow:null;if(null!==v){var _=(null===(t=d.result)||void 0===t?void 0:t.hasOwnProperty("answerObj"))&&null!==(n=d.castObj(d.result.answerObj))&&void 0!==n?n:{};if(null===(o=d.result)||void 0===o?void 0:o.hasOwnProperty("answerObj")){var w=JSON.parse(null!==(i=null==_?void 0:_.result)&&void 0!==i?i:"");if(null!=w){for(var k=0;k<w.pages.length;k++)w.pages[k].backgroundImage&&(w.pages[k].backgroundImage=d.cdnService.getMyCdn(w.pages[k].backgroundImage)),w.pages[k].draw&&(w.pages[k].draw=d.cdnService.getMyCdn(w.pages[k].draw));w=JSON.stringify(w),_.result=w}var O=JSON.parse(null!==(r=_.files)&&void 0!==r?r:"");if(null!=O){for(var j=0;j<O.length;j++)O[j].url&&(O[j].url=d.cdnService.getMyCdn(O[j].url)),O[j].thumb&&(O[j].thumb=d.cdnService.getMyCdn(O[j].thumb));O=JSON.stringify(O),_.files=O}}var x=(null===(a=d.result)||void 0===a?void 0:a.hasOwnProperty("studentObj"))?d.result.studentObj:{},y=(null===(c=d.result)||void 0===c?void 0:c.hasOwnProperty("classroomObj"))?d.result.classroomObj:{},M=(null===(s=d.result)||void 0===s?void 0:s.hasOwnProperty("homeworkObj"))?d.result.homeworkObj:{},C=d.commonService.parseJson(null!==(l=_.result)&&void 0!==l?l:""),P=!(!C||!C.hasOwnProperty("hideMark"))&&C.hideMark;if(d.jsonData&&d.jsonData.hasOwnProperty("pages"))for(var U=0;U<(null!==(u=null===(b=d.jsonData.pages)||void 0===b?void 0:b.length)&&void 0!==u?u:0);U++)(null===(m=d.jsonData.pages)||void 0===m?void 0:m[U].hasOwnProperty("backgroundImage"))&&(d.jsonData.pages[U].backgroundImage=d.cdnService.getMyCdn(null!==(h=d.jsonData.pages[U].backgroundImage)&&void 0!==h?h:"")),(null===(g=d.jsonData.pages)||void 0===g?void 0:g[U].hasOwnProperty("draw"))&&(d.jsonData.pages[U].draw=d.cdnService.getMyCdn(null!==(f=d.jsonData.pages[U].draw)&&void 0!==f?f:""));if(d.isMarked)d.jsonData.cmd="initMNote",d.jsonData.mode="view",d.jsonData.answer_obj=_,d.jsonData.student_obj=x,d.jsonData.classroom_obj=y,d.jsonData.homework_obj=M,d.jsonData.hideMark=P,v.postMessage(d.jsonData,"*");else{var D=[];d.files.forEach(function(e){D.push({backgroundImage:e.url})}),v.postMessage({cmd:"initMNote",pages:D,answer_obj:_,student_obj:x,classroom_obj:y,homework_obj:M,mode:"view",hideMark:P},"*")}}}},d}return r(i,[{key:"goBack",value:function(){this.commonService.myNavigation(""!=this.backLink&&null!=this.backLink?this.backLink:"/bai-tap/"+this.homeworkHashId)}},{key:"fillData",value:function(e){var t,n,o,i,r,a,c,s,l,d;if(e){if(this.zipdataService.convertSubmittedAnswersHistoryObj(null===(t=e.data)||void 0===t?void 0:t.answerObj),this.result=e.data,this.files=(null===(n=e.data)||void 0===n?void 0:n.answerObj)?this.commonService.parseJson(null!==(o=e.data.answerObj.files)&&void 0!==o?o:""):[],null!==this.files)for(var b=0;b<this.files.length;b++)this.files&&(this.files[b].url=this.cdnService.getMyCdn(null!==(i=this.files[b].url)&&void 0!==i?i:""),this.files[b].thumb=this.cdnService.getMyCdn(null!==(r=this.files[b].thumb)&&void 0!==r?r:""));(null===(c=null===(a=e.data)||void 0===a?void 0:a.answerObj)||void 0===c?void 0:c.confirmedAt)&&(this.isMarked=!0,this.jsonData=this.commonService.parseJson(this.cdnService.getMyCdn(null!==(d=null===(l=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.answerObj)||void 0===l?void 0:l.result)&&void 0!==d?d:"")),null===this.jsonData&&(this.isMarked=!1))}}},{key:"getData",value:function(e,t){var n=this;this.initStatusObj(),this.errorMessage="",t?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,t).subscribe(function(e){var t;1==e.success?(n.fillData(e),n.successStatusObj()):(n.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0),n.errorMessage=null==e?void 0:e.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,e).subscribe(function(e){var t;1==e.success?(n.fillData(e),n.successStatusObj()):(n.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0),n.errorMessage=e.message)})}},{key:"copyLinkToClipboard",value:function(){var e=this.getMyParam(this.activeRoute,"id");return"".concat(location.protocol+"//"+location.hostname+(location.port?":"+location.port:""),"/en/admin/homework/mark-exercise/").concat(e,"/").concat(this.homeworkHashId)}},{key:"showCopySuccess",value:function(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}},{key:"ngAfterViewInit",value:function(){window.addEventListener("message",this.handleIframe)}},{key:"ngOnInit",value:function(){var e,t,o,r,a;this.iframeSrc=null!==(e=this.envService.getEnvValue("classliveUrl"))&&void 0!==e?e:"";var c=null!==(t=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==t?t:"",s=parseInt(c,10);if(this.homeworkHashId=null!==(o=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==o?o:"",this.backLink=null!==(r=this.commonService.getMyQueryParam("backto"))&&void 0!==r?r:"",this.commonService.getMyParam(this.activeRoute,"history_id")){var l=null!==(a=this.commonService.getMyParam(this.activeRoute,"history_id"))&&void 0!==a?a:"",d=parseInt(l,10);this.getData(s,d)}else this.getData(s);this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),n(b(i.prototype),"ngOnInit",this).call(this)}},{key:"ngOnDestroy",value:function(){window.removeEventListener("message",this.handleIframe),n(b(i.prototype),"ngDestroy",this).call(this)}}]),i}(x.a)).\u0275fac=function(e){return new(e||sn)(y.Pb(g.a),y.Pb(V.y),y.Pb(V.x),y.Pb(I.a),y.Pb(E.a),y.Pb(L.a),y.Pb(Zt.a))},sn.\u0275cmp=y.Jb({type:sn,selectors:[["app-view-exercise"]],features:[y.Ab],decls:19,vars:8,consts:[["id","markContainer",1,"maxW1000","pt-3"],[1,"row","titleRow"],[1,"col","center-row"],["mat-button","","title","Quay l\u1ea1i",3,"click"],[1,"col","center-row",2,"justify-content","center"],["class","studentInfo","style","padding-right: 10px;",4,"ngIf"],[1,"col","center-row",2,"justify-content","flex-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"cdkCopyToClipboard","click"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"studentInfo",2,"padding-right","10px"],[1,"row","justify-content-center","py-5"],["class","col-12 text-center",4,"ngIf"],["class","card-box listPhotos","style","overflow : hidden",4,"ngIf"],[1,"col-12","text-center"],[1,"alert","alert-danger"],[1,"card-box","listPhotos",2,"overflow","hidden"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(e,t){if(1&e&&(y.Vb(0,"div",0),y.Vb(1,"div",1),y.Vb(2,"div",2),y.Vb(3,"mat-icon",3),y.cc("click",function(){return t.goBack()}),y.Tc(4,"keyboard_arrow_left"),y.Ub(),y.Ub(),y.Vb(5,"div",4),y.Rc(6,nn,2,2,"h4",5),y.Ub(),y.Vb(7,"div",6),y.Vb(8,"button",7),y.Vb(9,"mat-icon"),y.Tc(10,"more_vert"),y.Ub(),y.Ub(),y.Vb(11,"mat-menu",null,8),y.Vb(13,"button",9),y.cc("click",function(){return t.showCopySuccess()}),y.Tc(14),y.hc(15,"mytranslate"),y.Ub(),y.Ub(),y.Ub(),y.Ub(),y.Rc(16,on,1,0,"azt-loading-effect",10),y.Rc(17,cn,4,2,"ng-template",null,11,y.Sc),y.Ub()),2&e){var n=y.Ac(12),o=y.Ac(18);y.Db(6),y.nc("ngIf",null==t.result?null:t.result.answerObj),y.Db(2),y.nc("matMenuTriggerFor",n),y.Db(5),y.nc("cdkCopyToClipboard",t.copyLinkToClipboard()),y.Db(1),y.Uc(y.ic(15,6,"lang_homework_homework_frontend_utils_copy_send_teacher")),y.Db(2),y.nc("ngIf",t.statusObj.loading)("ngIfElse",o)}},directives:[we.a,u.m,se.b,en.d,en.a,en.b,tn.a,oe.a],pipes:[Q.z,Q.E],styles:["#markContainer[_ngcontent-%COMP%]{position:relative}.center-row[_ngcontent-%COMP%]{display:flex;align-items:center}.titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;margin:0;color:#fff}.titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{background:inherit;background-color:#f2f2f2;box-sizing:border-box;border:1px solid #e5e5e5;border-left:0;border-right:0;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width:1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),sn),un=[{path:"",component:M,canActivate:[j.a],children:[{path:"",canActivateChild:[j.a],children:[{path:":hash_id",component:Kt},{path:"view-homework/:id/:hash_id",component:bn},{path:"view-homework/:id/:hash_id/:history_id",component:bn}]}]}],mn=((dn=function e(){o(this,e)}).\u0275mod=y.Nb({type:dn}),dn.\u0275inj=y.Mb({factory:function(e){return new(e||dn)},imports:[[g.l.forChild(un)],g.l,O.c]}),dn),hn=((ln=function e(){o(this,e)}).\u0275mod=y.Nb({type:ln}),ln.\u0275inj=y.Mb({factory:function(e){return new(e||ln)},imports:[[g.l,u.c,k.a,f.b,m.n,m.y,h.f,w.a,p.b,mn,v.b,_.a]]}),ln)}}])}();