"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[810],{16810:(Rt,st,v)=>{v.r(st),v.d(st,{TrashModule:()=>ua});var x=v(69808),lt=v(93075),C=v(48966),X=v(74202),D=v(51908),rt=v(1737),y=v(63728),w=v(63312),Nt=v(75658),Jt=v(95880),It=v(37389),Lt=v(45668),t=v(5e3),ct=v(82878),M=v(35018),jt=v(53251),Et=v(17852),O=v(55330),Z=v(1033);let et=(()=>{class n extends O.Q{constructor(e,a,o,i){super(a),this.trashService=e,this.commonService=a,this.dialogRef=o,this.data=i}postRemoveExam(e){this.trashService.apiTrashRemoveExamPost(e).subscribe(a=>{1==a.success?(this.onNoClick("remove"),this.showSuccessSnack("lang_auto_xoa_de_thi_thanh_cong")):(this.onNoClick("cancel"),this.showErrorSnack("lang_auto_xoa_de_thi_khong_thanh_cong"))})}postRemoveExamCategory(e){this.trashService.apiTrashRemoveExamCategoryPost(e).subscribe(a=>{1==a.success?(this.onNoClick("remove"),this.showSuccessSnack("lang_auto_xoa_thu_muc_de_thi_thanh_cong")):(this.onNoClick("cancel"),this.showErrorSnack("lang_auto_xoa_thu_muc_de_thi_khong_thanh_cong"))})}postRemoveHomework(e){this.trashService.apiTrashRemoveHomeworkPost(e).subscribe(a=>{1==a.success?(this.onNoClick("remove"),this.showSuccessSnack("lang_auto_xoa_bai_tap_thanh_cong")):(this.onNoClick("cancel"),this.showErrorSnack("lang_auto_xoa_bai_tap_khong_thanh_cong"))})}postRemoveClassroom(e){this.trashService.apiTrashRemoveClassroomPost(e).subscribe(a=>{1==a.success?(this.onNoClick("remove"),this.showSuccessSnack("lang_auto_xoa_lop_hoc_thanh_cong")):(this.onNoClick("cancel"),this.showErrorSnack("lang_auto_xoa_lop_hoc_khong_thanh_cong"))})}postRemoveStudent(e){this.trashService.apiTrashRemoveStudentPost(e).subscribe(a=>{1==a.success?(this.onNoClick("remove"),this.showSuccessSnack("lang_auto_xoa_hoc_sinh_thanh_cong")):(this.onNoClick("cancel"),this.showErrorSnack("lang_auto_xoa_hoc_sinh_khong_thanh_cong"))})}changeRemove(e){var a=e.data;0==e.type?this.postRemoveClassroom(a):1==e.type?this.postRemoveStudent(a):2==e.type?this.postRemoveHomework(a):3==e.type?this.postRemoveExam(a):4==e.type&&this.postRemoveExamCategory(a)}ngOnInit(){}onNoClick(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ct.d),t.Y36(M.v),t.Y36(C.so),t.Y36(C.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-remove-dialog"]],features:[t.qOj],decls:21,vars:24,consts:[[2,"border-bottom","1px solid","margin-bottom","20px","padding-bottom","10px"],[2,"color","#6d6d6d","font-weight","400!important","text-align","center","font-size","18px"],[2,"text-transform","lowercase","color","#dc3545!important"],[2,"float","right"],["type","button",1,"btn","btn-danger","mr-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div")(1,"div",0)(2,"p",1),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"span",2),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.ALo(10,"mytranslate"),t.ALo(11,"mytranslate"),t.qZA(),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"div",3)(15,"button",4),t.NdJ("click",function(){return a.onNoClick("cancal")}),t._uU(16),t.ALo(17,"mytranslate"),t.qZA(),t.TgZ(18,"button",5),t.NdJ("click",function(){return a.changeRemove(a.data)}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,6,"lang_auto_ban_co_chac_chan_muon_xoa")," "),t.xp6(3),t.AsE(" ",null==a.data.data?null:a.data.data.length," ",0==a.data.type?t.lcZ(7,8,"lang_auto_lop_hoc"):1==a.data.type?t.lcZ(8,10,"lang_auto_hoc_sinh"):2==a.data.type?t.lcZ(9,12,"lang_auto_bai_tap"):3==a.data.type?t.lcZ(10,14,"lang_auto_de_thi"):4==a.data.type?t.lcZ(11,16,"lang_auto_thu_muc_de_thi"):""," "),t.xp6(6),t.hij(" ",t.lcZ(13,18,"lang_auto_da_danh_dau_ra_khoi_thung_rac")," "),t.xp6(4),t.Oqu(t.lcZ(17,20,"lang_auto_huy")),t.xp6(3),t.Oqu(t.lcZ(20,22,"lang_auto_tiep_tuc")))},dependencies:[Z.bT],encapsulation:2}),n})();var V=v(47423),at=v(77446),ot=v(25245),tt=v(87238),nt=v(47691),Qt=v(24096);function Ht(n,l){1&n&&(t.TgZ(0,"div")(1,"p",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_muon_khoi_phuc_lop_hoc")," "))}function Yt(n,l){1&n&&(t.TgZ(0,"div")(1,"p",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_muon_khoi_phuc_de_thi")," "))}function qt(n,l){1&n&&(t.TgZ(0,"div")(1,"p",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_muon_khoi_phuc_danh_muc")," "))}function Ut(n,l){1&n&&(t.TgZ(0,"div")(1,"p",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_muon_khoi_phuc_bai_tap")," "))}function Gt(n,l){1&n&&(t.TgZ(0,"div")(1,"p",11),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_ban_muon_khoi_phuc_hoc_sinh")," "))}function Kt(n,l){if(1&n&&(t.TgZ(0,"span",12),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.s9C("matTooltip",null==e.data||null==e.data.obj?null:e.data.obj.name),t.xp6(1),t.hij("",null==e.data||null==e.data.obj?null:e.data.obj.name," ?")}}function zt(n,l){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",13),t._uU(2,"\xa0"),t.qZA())}function Bt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3),t.YNc(3,Ht,4,3,"div",4),t.YNc(4,Yt,4,3,"div",4),t.YNc(5,qt,4,3,"div",4),t.YNc(6,Ut,4,3,"div",4),t.YNc(7,Gt,4,3,"div",4),t.TgZ(8,"p",5),t.YNc(9,Kt,2,2,"span",6),t.qZA()(),t.TgZ(10,"div",7)(11,"div",8)(12,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.btnCloseDialog())}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.TgZ(15,"button",10),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.confirmRevert())}),t.YNc(16,zt,3,0,"span",4),t._uU(17),t.ALo(18,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf","classroom"===e.typeString),t.xp6(1),t.Q6J("ngIf","exam"===e.typeString),t.xp6(1),t.Q6J("ngIf","category"===e.typeString),t.xp6(1),t.Q6J("ngIf","homework"===e.typeString),t.xp6(1),t.Q6J("ngIf","student"===e.typeString),t.xp6(2),t.Q6J("ngIf",null==e.data||null==e.data.obj?null:e.data.obj.name),t.xp6(4),t.hij(" ",t.lcZ(14,10,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",e.isLoading),t.xp6(1),t.Q6J("ngIf",!0===e.isLoading),t.xp6(1),t.hij(" ",t.lcZ(18,12,"lang_cms_common_confirm_btn")," ")}}let it=(()=>{class n extends O.Q{constructor(e,a){super(e),this.commonService=e,this.trashService=a,this.closeDialog=new t.vpe,this.subscriptions=new Qt.w,this.isLoading=!1,this.typeString=""}confirmRevert(){var e;switch(null===(e=this.data)||void 0===e?void 0:e.type){case 0:this.subscriptions.add(this.trashService.apiTrashRevertClassroomGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(a=>{var o,i;1==a.success?(this.closeDialog.emit(null===(o=this.data)||void 0===o?void 0:o.obj),this.showSuccessSnack("lang_auto_khoi_phuc_du_lieu_lop_hoc_thanh_cong")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=a.message)&&void 0!==i?i:""))}));break;case 1:this.subscriptions.add(this.trashService.apiTrashRevertStudentGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(a=>{var o,i;1==a.success?(this.closeDialog.emit(null===(o=this.data)||void 0===o?void 0:o.obj),this.showSuccessSnack("lang_auto_khoi_phuc_du_lieu_thanh_cong")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=a.message)&&void 0!==i?i:""))}));break;case 2:this.subscriptions.add(this.trashService.apiTrashRevertHomeworkGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(a=>{var o,i;1==a.success?(this.closeDialog.emit(null===(o=this.data)||void 0===o?void 0:o.obj),this.showSuccessSnack("lang_auto_khoi_phuc_du_lieu_thanh_cong")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=a.message)&&void 0!==i?i:""))}));break;case 3:this.subscriptions.add(this.trashService.apiTrashRevertExamGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(a=>{var o,i;1==a.success?(this.closeDialog.emit(null===(o=this.data)||void 0===o?void 0:o.obj),this.showSuccessSnack("lang_auto_khoi_phuc_du_lieu_thanh_cong")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=a.message)&&void 0!==i?i:""))}));break;case 4:this.subscriptions.add(this.trashService.apiTrashRevertExamCategoryGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(a=>{var o,i;1==a.success?(this.closeDialog.emit(null===(o=this.data)||void 0===o?void 0:o.obj),this.showSuccessSnack("lang_auto_khoi_phuc_du_lieu_thanh_cong")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=a.message)&&void 0!==i?i:""))}))}}checkType(){if(this.data)switch(this.data.type){case 0:this.typeString="classroom";break;case 1:this.typeString="student";break;case 2:this.typeString="homework";break;case 3:this.typeString="exam";break;case 4:this.typeString="category"}return this.typeString}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){this.checkType(),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(M.v),t.Y36(ct.d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-revert-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[4,"ngIf"],[1,"h5","text-danger",2,"padding-bottom","21px","border-bottom","1px solid #b2b4b7"],["class","truncate",3,"matTooltip",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[1,"h5","para_respon","font-weight-normal"],[1,"truncate",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,a){1&e&&t.YNc(0,Bt,19,14,"div",0),2&e&&t.Q6J("ngIf",null==a.data?null:a.data.isShow)},dependencies:[x.O5,V.lW,tt.gM,Z.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),n})();function Wt(n,l){1&n&&t._UZ(0,"azt-loading-effect")}function $t(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_khong_co_du_lieu")," "))}function Xt(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_bam_vao_nut_ben_duoi_den_xem_ban_ghi_cu_hon")," "))}function Vt(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clickRemoveAllData())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xoa")))}function te(n,l){if(1&n&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("matTooltip",e.name),t.xp6(1),t.Oqu(e.name)}}function ee(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"div",14)(4,"mat-checkbox",15),t.NdJ("change",function(o){const s=t.CHM(e).index,r=t.oxw(3);return t.KtG(r.updateAllComplete(o.checked,s))}),t.qZA()(),t.TgZ(5,"div",16)(6,"span",17),t.YNc(7,te,2,2,"span",18),t.qZA(),t.TgZ(8,"span",19),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",20),t.ALo(12,"date"),t._uU(13),t.ALo(14,"date"),t.qZA()()()(),t.TgZ(15,"div",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.clickRevertData(i.nextPage,i.id,i.name))}),t.TgZ(16,"div",22)(17,"span",23),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()()()}if(2&n){const e=l.$implicit;t.xp6(4),t.Q6J("checked",e.completed),t.xp6(3),t.Q6J("ngIf",e.name),t.xp6(2),t.hij(" ",t.lcZ(10,6,"lang_auto_thoi_gian_xoa"),": "),t.xp6(2),t.s9C("matTooltip",t.xi3(12,8,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(2),t.Oqu(t.xi3(14,11,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(5),t.Oqu(t.lcZ(19,14,"lang_auto_khoi_phuc"))}}function ae(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",8),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.setAll(o.checked))}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Vt,3,3,"a",9),t.YNc(5,ee,20,16,"div",10),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("checked",e.allComplete),t.xp6(1),t.hij(" ",t.lcZ(3,4,"lang_auto_chon_tat_ca")," "),t.xp6(2),t.Q6J("ngIf",1==e.someComplete()||1==e.allComplete),t.xp6(1),t.Q6J("ngForOf",null==e.task?null:e.task.subtasks)}}function oe(n,l){1&n&&t._UZ(0,"div",25)}function ne(n,l){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.seeMore())}),t.ALo(2,"mytranslate"),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_arrow_down"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"lang_auto_hien_ban_ghi_cu_hon")),t.Q6J("disabled",!e.nextPage)}}function ie(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-revert-dialog",27),t.NdJ("closeDialog",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.closeRevertDialog(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.dataRevertDialog)}}function se(n,l){if(1&n&&(t.YNc(0,$t,4,3,"div",2),t.YNc(1,Xt,4,3,"div",2),t.YNc(2,ae,6,6,"div",2),t.TgZ(3,"div",3)(4,"div",4),t.YNc(5,oe,1,0,"div",5),t.YNc(6,ne,5,4,"ng-container",2),t.qZA()(),t.YNc(7,ie,1,1,"app-revert-dialog",6)),2&n){const e=t.oxw();t.Q6J("ngIf",1==e.isCheckData&&!e.nextPage),t.xp6(1),t.Q6J("ngIf",1==e.isCheckData&&e.nextPage),t.xp6(1),t.Q6J("ngIf",0==e.isCheckData),t.xp6(3),t.Q6J("ngIf",1==e.loadingMore),t.xp6(1),t.Q6J("ngIf",0==e.loadingMore),t.xp6(1),t.Q6J("ngIf",null==e.dataRevertDialog?null:e.dataRevertDialog.isShow)}}let le=(()=>{class n extends O.Q{constructor(e,a){super(a),this.dialog=e,this.commonService=a,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new t.vpe,this.DataRemove=new t.vpe,this.SeeMore=new t.vpe,this.isLoading=!1,this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var e,a,o,i,s=[];if(0!=(null===(e=this.data)||void 0===e?void 0:e.length))for(var r=0;r<(null!==(o=null===(a=this.data)||void 0===a?void 0:a.length)&&void 0!==o?o:0);r++)s.push(Object.assign(Object.assign({},null===(i=this.data)||void 0===i?void 0:i[r]),{completed:!1}));this.task={completed:!1,subtasks:s}}setAll(e){var a;null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&(this.task.subtasks.forEach(o=>o.completed=e),this.allComplete=1==e)}updateAllComplete(e,a){var o,i;!(null===(o=this.task)||void 0===o)&&o.subtasks[a]&&(this.task.subtasks[a].completed=e),this.allComplete=null!=(null===(i=this.task)||void 0===i?void 0:i.subtasks)&&this.task.subtasks.every(s=>s.completed)}someComplete(){var e;return null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&this.task.subtasks.filter(a=>a.completed).length>0&&!this.allComplete}clickRemoveAllData(){var e,a,o,i,s,r=[],m=[];for(let c=0;c<(null!==(a=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==a?a:0);c++)1==(null===(o=this.task)||void 0===o?void 0:o.subtasks[c].completed)&&(r.push({id:Number(this.task.subtasks[c].id),curPage:null!==(i=this.task.subtasks[c].nextPage)&&void 0!==i?i:"",name:null!==(s=this.task.subtasks[c].name)&&void 0!==s?s:""}),m.push(Number(this.task.subtasks[c].id)));this.dialog.open(et,{width:"750px",data:{type:this.type,data:r}}).afterClosed().subscribe(c=>{var d,p,h;if(this.isLoading=!1,"remove"==c){for(let u=0;u<r.length;u++)for(let _=0;_<(null!==(p=null===(d=this.task)||void 0===d?void 0:d.subtasks.length)&&void 0!==p?p:0);_++)r[u].id==(null===(h=this.task)||void 0===h?void 0:h.subtasks[_].id)&&this.task.subtasks.splice(_,1);this.CalculateSkip(r),this.DataRemove.emit(m),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(e){var a,o,i;if(e){for(let s=0;s<(null!==(o=null===(a=this.task)||void 0===a?void 0:a.subtasks.length)&&void 0!==o?o:0);s++)e.id==(null===(i=this.task)||void 0===i?void 0:i.subtasks[s].id)&&this.task.subtasks.splice(s,1);this.CalculateSkip([e]),this.DataRevert.emit(e.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(e){for(var a=0;a<e.length;a++){var o=this.commonService.myParseJson(e[a].curPage);o&&1==o.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(e,a,o){this.dataRevertDialog={obj:{curPage:null!=e?e:"",id:Number(a),name:null!=o?o:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var e,a;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(a=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==a?a:0)>0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.uw),t.Y36(M.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-trash-class-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[t.qOj,t.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"],[3,"data","closeDialog"]],template:function(e,a){if(1&e&&(t.YNc(0,Wt,1,0,"azt-loading-effect",0),t.YNc(1,se,8,6,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",a.isLoading)("ngIfElse",o)}},dependencies:[x.sg,x.O5,V.lW,at.oG,ot.Hw,tt.gM,nt.Q,it,x.uU,Z.bT],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{border-width:0px;display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px #0000001f;margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width: 768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#ff1100}"]}),n})();function re(n,l){1&n&&t._UZ(0,"azt-loading-effect")}function ce(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_khong_co_du_lieu")," "))}function _e(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_bam_vao_nut_ben_duoi_den_xem_ban_ghi_cu_hon")," "))}function de(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clickRemoveAllData())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xoa")))}function pe(n,l){if(1&n&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("matTooltip",e.fullName),t.xp6(1),t.Oqu(e.fullName)}}function he(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"div",14)(4,"mat-checkbox",15),t.NdJ("change",function(o){const s=t.CHM(e).index,r=t.oxw(3);return t.KtG(r.updateAllComplete(o.checked,s))}),t.qZA()(),t.TgZ(5,"div",16)(6,"span",17),t.YNc(7,pe,2,2,"span",18),t.qZA(),t.TgZ(8,"span",19),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",20),t.ALo(12,"date"),t._uU(13),t.ALo(14,"date"),t.qZA()()()(),t.TgZ(15,"div",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.clickRevertData(i.nextPage,i.id,i.fullName))}),t.TgZ(16,"div",22)(17,"span",23),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()()()}if(2&n){const e=l.$implicit;t.xp6(4),t.Q6J("checked",e.completed),t.xp6(3),t.Q6J("ngIf",e.fullName),t.xp6(2),t.hij(" ",t.lcZ(10,6,"lang_auto_thoi_gian_xoa"),": "),t.xp6(2),t.s9C("matTooltip",t.xi3(12,8,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(2),t.Oqu(t.xi3(14,11,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(5),t.Oqu(t.lcZ(19,14,"lang_auto_khoi_phuc"))}}function me(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",8),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.setAll(o.checked))}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,de,3,3,"a",9),t.YNc(5,he,20,16,"div",10),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("checked",e.allComplete),t.xp6(1),t.hij(" ",t.lcZ(3,4,"lang_auto_chon_tat_ca")," "),t.xp6(2),t.Q6J("ngIf",1==e.someComplete()||1==e.allComplete),t.xp6(1),t.Q6J("ngForOf",null==e.task?null:e.task.subtasks)}}function ue(n,l){1&n&&t._UZ(0,"div",25)}function ge(n,l){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.seeMore())}),t.ALo(2,"mytranslate"),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_arrow_down"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"lang_auto_hien_ban_ghi_cu_hon")),t.Q6J("disabled",!e.nextPage)}}function ve(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-revert-dialog",27),t.NdJ("closeDialog",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.closeRevertDialog(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.dataRevertDialog)}}function fe(n,l){if(1&n&&(t.YNc(0,ce,4,3,"div",2),t.YNc(1,_e,4,3,"div",2),t.YNc(2,me,6,6,"div",2),t.TgZ(3,"div",3)(4,"div",4),t.YNc(5,ue,1,0,"div",5),t.YNc(6,ge,5,4,"ng-container",2),t.qZA()(),t.YNc(7,ve,1,1,"app-revert-dialog",6)),2&n){const e=t.oxw();t.Q6J("ngIf",1==e.isCheckData&&!e.nextPage),t.xp6(1),t.Q6J("ngIf",1==e.isCheckData&&e.nextPage),t.xp6(1),t.Q6J("ngIf",0==e.isCheckData),t.xp6(3),t.Q6J("ngIf",1==e.loadingMore),t.xp6(1),t.Q6J("ngIf",0==e.loadingMore),t.xp6(1),t.Q6J("ngIf",null==e.dataRevertDialog?null:e.dataRevertDialog.isShow)}}let be=(()=>{class n extends O.Q{constructor(e,a){super(a),this.dialog=e,this.commonService=a,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new t.vpe,this.DataRemove=new t.vpe,this.SeeMore=new t.vpe,this.isLoading=!1,this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1},this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var e,a,o,i,s=[];if(0!=(null===(e=this.data)||void 0===e?void 0:e.length))for(var r=0;r<(null!==(o=null===(a=this.data)||void 0===a?void 0:a.length)&&void 0!==o?o:0);r++)s.push(Object.assign(Object.assign({},null===(i=this.data)||void 0===i?void 0:i[r]),{completed:!1}));this.task={completed:!1,subtasks:s}}setAll(e){var a;null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&(this.task.subtasks.forEach(o=>o.completed=e),this.allComplete=1==e)}updateAllComplete(e,a){var o,i;!(null===(o=this.task)||void 0===o)&&o.subtasks[a]&&(this.task.subtasks[a].completed=e),this.allComplete=null!=(null===(i=this.task)||void 0===i?void 0:i.subtasks)&&this.task.subtasks.every(s=>s.completed)}someComplete(){var e;return null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&this.task.subtasks.filter(a=>a.completed).length>0&&!this.allComplete}clickRemoveAllData(){var e,a,o,i,s,r=[],m=[];for(let c=0;c<(null!==(a=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==a?a:0);c++)1==(null===(o=this.task)||void 0===o?void 0:o.subtasks[c].completed)&&(r.push({id:Number(this.task.subtasks[c].id),curPage:null!==(i=this.task.subtasks[c].nextPage)&&void 0!==i?i:"",name:null!==(s=this.task.subtasks[c].fullName)&&void 0!==s?s:""}),m.push(Number(this.task.subtasks[c].id)));this.dialog.open(et,{width:"750px",data:{type:this.type,data:r}}).afterClosed().subscribe(c=>{var d,p,h;if(this.isLoading=!1,"remove"==c){for(let u=0;u<r.length;u++)for(let _=0;_<(null!==(p=null===(d=this.task)||void 0===d?void 0:d.subtasks.length)&&void 0!==p?p:0);_++)r[u].id==(null===(h=this.task)||void 0===h?void 0:h.subtasks[_].id)&&this.task.subtasks.splice(_,1);this.CalculateSkip(r),this.DataRemove.emit(m),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(e){var a,o,i;if(e){for(let s=0;s<(null!==(o=null===(a=this.task)||void 0===a?void 0:a.subtasks.length)&&void 0!==o?o:0);s++)e.id==(null===(i=this.task)||void 0===i?void 0:i.subtasks[s].id)&&this.task.subtasks.splice(s,1);this.CalculateSkip([e]),this.DataRevert.emit(e.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(e){for(var a=0;a<e.length;a++){var o=this.commonService.myParseJson(e[a].curPage);o&&1==o.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(e,a,o){this.dataRevertDialog={obj:{curPage:null!=e?e:"",id:Number(a),name:null!=o?o:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var e,a;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(a=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==a?a:0)>=1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.uw),t.Y36(M.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-trash-student-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[t.qOj,t.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"],[3,"data","closeDialog"]],template:function(e,a){if(1&e&&(t.YNc(0,re,1,0,"azt-loading-effect",0),t.YNc(1,fe,8,6,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",a.isLoading)("ngIfElse",o)}},dependencies:[x.sg,x.O5,V.lW,at.oG,ot.Hw,tt.gM,nt.Q,it,x.uU,Z.bT],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{border-width:0px;display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px #0000001f;margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width: 768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#ff1100}"]}),n})();function xe(n,l){1&n&&t._UZ(0,"azt-loading-effect")}function ke(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_khong_co_du_lieu")," "))}function Te(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_bam_vao_nut_ben_duoi_den_xem_ban_ghi_cu_hon")," "))}function Ce(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clickRemoveAllData())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xoa")))}function ye(n,l){if(1&n&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("matTooltip",e.name),t.xp6(1),t.Oqu(e.name)}}function we(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"div",14)(4,"mat-checkbox",15),t.NdJ("change",function(o){const s=t.CHM(e).index,r=t.oxw(3);return t.KtG(r.updateAllComplete(o.checked,s))}),t.qZA()(),t.TgZ(5,"div",16)(6,"span",17),t.YNc(7,ye,2,2,"span",18),t.qZA(),t.TgZ(8,"span",19),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",20),t.ALo(12,"date"),t._uU(13),t.ALo(14,"date"),t.qZA()()()(),t.TgZ(15,"div",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.clickRevertData(i.nextPage,i.id,i.name))}),t.TgZ(16,"div",22)(17,"span",23),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()()()}if(2&n){const e=l.$implicit;t.xp6(4),t.Q6J("checked",e.completed),t.xp6(3),t.Q6J("ngIf",e.name),t.xp6(2),t.hij(" ",t.lcZ(10,6,"lang_auto_thoi_gian_xoa"),": "),t.xp6(2),t.s9C("matTooltip",t.xi3(12,8,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(2),t.Oqu(t.xi3(14,11,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(5),t.Oqu(t.lcZ(19,14,"lang_auto_khoi_phuc"))}}function De(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",8),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.setAll(o.checked))}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Ce,3,3,"a",9),t.YNc(5,we,20,16,"div",10),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("checked",e.allComplete),t.xp6(1),t.hij(" ",t.lcZ(3,4,"lang_auto_chon_tat_ca")," "),t.xp6(2),t.Q6J("ngIf",1==e.someComplete()||1==e.allComplete),t.xp6(1),t.Q6J("ngForOf",null==e.task?null:e.task.subtasks)}}function Me(n,l){1&n&&t._UZ(0,"div",25)}function Ze(n,l){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.seeMore())}),t.ALo(2,"mytranslate"),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_arrow_down"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"lang_auto_hien_ban_ghi_cu_hon")),t.Q6J("disabled",!e.nextPage)}}function Oe(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-revert-dialog",27),t.NdJ("closeDialog",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.closeRevertDialog(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.dataRevertDialog)}}function Pe(n,l){if(1&n&&(t.YNc(0,ke,4,3,"div",2),t.YNc(1,Te,4,3,"div",2),t.YNc(2,De,6,6,"div",2),t.TgZ(3,"div",3)(4,"div",4),t.YNc(5,Me,1,0,"div",5),t.YNc(6,Ze,5,4,"ng-container",2),t.qZA()(),t.YNc(7,Oe,1,1,"app-revert-dialog",6)),2&n){const e=t.oxw();t.Q6J("ngIf",1==e.isCheckData&&!e.nextPage),t.xp6(1),t.Q6J("ngIf",1==e.isCheckData&&e.nextPage),t.xp6(1),t.Q6J("ngIf",0==e.isCheckData),t.xp6(3),t.Q6J("ngIf",1==e.loadingMore),t.xp6(1),t.Q6J("ngIf",0==e.loadingMore),t.xp6(1),t.Q6J("ngIf",null==e.dataRevertDialog?null:e.dataRevertDialog.isShow)}}let Ae=(()=>{class n extends O.Q{constructor(e,a){super(a),this.dialog=e,this.commonService=a,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new t.vpe,this.DataRemove=new t.vpe,this.SeeMore=new t.vpe,this.isLoading=!1,this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1},this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var e,a,o,i,s=[];if(0!=(null===(e=this.data)||void 0===e?void 0:e.length))for(var r=0;r<(null!==(o=null===(a=this.data)||void 0===a?void 0:a.length)&&void 0!==o?o:0);r++)s.push(Object.assign(Object.assign({},null===(i=this.data)||void 0===i?void 0:i[r]),{completed:!1}));this.task={completed:!1,subtasks:s}}setAll(e){var a;null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&(this.task.subtasks.forEach(o=>o.completed=e),this.allComplete=1==e)}updateAllComplete(e,a){var o,i;!(null===(o=this.task)||void 0===o)&&o.subtasks[a]&&(this.task.subtasks[a].completed=e),this.allComplete=null!=(null===(i=this.task)||void 0===i?void 0:i.subtasks)&&this.task.subtasks.every(s=>s.completed)}someComplete(){var e;return null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&this.task.subtasks.filter(a=>a.completed).length>0&&!this.allComplete}clickRemoveAllData(){var e,a,o,i,s,r=[],m=[];for(let c=0;c<(null!==(a=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==a?a:0);c++)1==(null===(o=this.task)||void 0===o?void 0:o.subtasks[c].completed)&&(r.push({id:Number(this.task.subtasks[c].id),curPage:null!==(i=this.task.subtasks[c].nextPage)&&void 0!==i?i:"",name:null!==(s=this.task.subtasks[c].name)&&void 0!==s?s:""}),m.push(Number(this.task.subtasks[c].id)));this.dialog.open(et,{width:"750px",data:{type:this.type,data:r}}).afterClosed().subscribe(c=>{var d,p,h;if(this.isLoading=!1,"remove"==c){for(let u=0;u<r.length;u++)for(let _=0;_<(null!==(p=null===(d=this.task)||void 0===d?void 0:d.subtasks.length)&&void 0!==p?p:0);_++)r[u].id==(null===(h=this.task)||void 0===h?void 0:h.subtasks[_].id)&&this.task.subtasks.splice(_,1);this.CalculateSkip(r),this.DataRemove.emit(m),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(e){var a,o,i;if(e){for(let s=0;s<(null!==(o=null===(a=this.task)||void 0===a?void 0:a.subtasks.length)&&void 0!==o?o:0);s++)e.id==(null===(i=this.task)||void 0===i?void 0:i.subtasks[s].id)&&this.task.subtasks.splice(s,1);this.CalculateSkip([e]),this.DataRevert.emit(e.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(e){for(var a=0;a<e.length;a++){var o=this.commonService.myParseJson(e[a].curPage);o&&1==o.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(e,a,o){this.dataRevertDialog={obj:{curPage:null!=e?e:"",id:Number(a),name:null!=o?o:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var e,a;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(a=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==a?a:0)>=1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.uw),t.Y36(M.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-trash-exam-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[t.qOj,t.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"],[3,"data","closeDialog"]],template:function(e,a){if(1&e&&(t.YNc(0,xe,1,0,"azt-loading-effect",0),t.YNc(1,Pe,8,6,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",a.isLoading)("ngIfElse",o)}},dependencies:[x.sg,x.O5,V.lW,at.oG,ot.Hw,tt.gM,nt.Q,it,x.uU,Z.bT],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{border-width:0px;display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px #0000001f;margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width: 768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#ff1100}"]}),n})();function Se(n,l){1&n&&t._UZ(0,"azt-loading-effect")}function je(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_khong_co_du_lieu")," "))}function Fe(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_bam_vao_nut_ben_duoi_den_xem_ban_ghi_cu_hon")," "))}function Re(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clickRemoveAllData())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xoa")))}function Ne(n,l){if(1&n&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("matTooltip",e.name),t.xp6(1),t.Oqu(e.name)}}function Je(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"div",14)(4,"mat-checkbox",15),t.NdJ("change",function(o){const s=t.CHM(e).index,r=t.oxw(3);return t.KtG(r.updateAllComplete(o.checked,s))}),t.qZA()(),t.TgZ(5,"div",16)(6,"span",17),t.YNc(7,Ne,2,2,"span",18),t.qZA(),t.TgZ(8,"span",19),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",20),t.ALo(12,"date"),t._uU(13),t.ALo(14,"date"),t.qZA()()()(),t.TgZ(15,"div",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.clickRevertData(i.nextPage,i.id,i.name))}),t.TgZ(16,"div",22)(17,"span",23),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()()()}if(2&n){const e=l.$implicit;t.xp6(4),t.Q6J("checked",e.completed),t.xp6(3),t.Q6J("ngIf",e.name),t.xp6(2),t.hij(" ",t.lcZ(10,6,"lang_auto_thoi_gian_xoa"),": "),t.xp6(2),t.s9C("matTooltip",t.xi3(12,8,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(2),t.Oqu(t.xi3(14,11,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(5),t.Oqu(t.lcZ(19,14,"lang_auto_khoi_phuc"))}}function Ie(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",8),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.setAll(o.checked))}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Re,3,3,"a",9),t.YNc(5,Je,20,16,"div",10),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("checked",e.allComplete),t.xp6(1),t.hij(" ",t.lcZ(3,4,"lang_auto_chon_tat_ca")," "),t.xp6(2),t.Q6J("ngIf",1==e.someComplete()||1==e.allComplete),t.xp6(1),t.Q6J("ngForOf",null==e.task?null:e.task.subtasks)}}function Le(n,l){1&n&&t._UZ(0,"div",25)}function Ee(n,l){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.seeMore())}),t.ALo(2,"mytranslate"),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_arrow_down"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"lang_auto_hien_ban_ghi_cu_hon")),t.Q6J("disabled",!e.nextPage)}}function Qe(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-revert-dialog",27),t.NdJ("closeDialog",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.closeRevertDialog(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.dataRevertDialog)}}function He(n,l){if(1&n&&(t.YNc(0,je,4,3,"div",2),t.YNc(1,Fe,4,3,"div",2),t.YNc(2,Ie,6,6,"div",2),t.TgZ(3,"div",3)(4,"div",4),t.YNc(5,Le,1,0,"div",5),t.YNc(6,Ee,5,4,"ng-container",2),t.qZA()(),t.YNc(7,Qe,1,1,"app-revert-dialog",6)),2&n){const e=t.oxw();t.Q6J("ngIf",1==e.isCheckData&&!e.nextPage),t.xp6(1),t.Q6J("ngIf",1==e.isCheckData&&e.nextPage),t.xp6(1),t.Q6J("ngIf",0==e.isCheckData),t.xp6(3),t.Q6J("ngIf",1==e.loadingMore),t.xp6(1),t.Q6J("ngIf",0==e.loadingMore),t.xp6(1),t.Q6J("ngIf",null==e.dataRevertDialog?null:e.dataRevertDialog.isShow)}}let Ye=(()=>{class n extends O.Q{constructor(e,a){super(a),this.dialog=e,this.commonService=a,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new t.vpe,this.DataRemove=new t.vpe,this.SeeMore=new t.vpe,this.isLoading=!1,this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1},this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var e,a,o,i,s=[];if(0!=(null===(e=this.data)||void 0===e?void 0:e.length))for(var r=0;r<(null!==(o=null===(a=this.data)||void 0===a?void 0:a.length)&&void 0!==o?o:0);r++)s.push(Object.assign(Object.assign({},null===(i=this.data)||void 0===i?void 0:i[r]),{completed:!1}));this.task={completed:!1,subtasks:s}}setAll(e){var a;null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&(this.task.subtasks.forEach(o=>o.completed=e),this.allComplete=1==e)}updateAllComplete(e,a){var o,i;!(null===(o=this.task)||void 0===o)&&o.subtasks[a]&&(this.task.subtasks[a].completed=e),this.allComplete=null!=(null===(i=this.task)||void 0===i?void 0:i.subtasks)&&this.task.subtasks.every(s=>s.completed)}someComplete(){var e;return null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&this.task.subtasks.filter(a=>a.completed).length>0&&!this.allComplete}clickRemoveAllData(){var e,a,o,i,s,r=[],m=[];for(let c=0;c<(null!==(a=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==a?a:0);c++)1==(null===(o=this.task)||void 0===o?void 0:o.subtasks[c].completed)&&(r.push({id:Number(this.task.subtasks[c].id),curPage:null!==(i=this.task.subtasks[c].nextPage)&&void 0!==i?i:"",name:null!==(s=this.task.subtasks[c].name)&&void 0!==s?s:""}),m.push(Number(this.task.subtasks[c].id)));this.dialog.open(et,{width:"750px",data:{type:this.type,data:r}}).afterClosed().subscribe(c=>{var d,p,h;if(this.isLoading=!1,"remove"==c){for(let u=0;u<r.length;u++)for(let _=0;_<(null!==(p=null===(d=this.task)||void 0===d?void 0:d.subtasks.length)&&void 0!==p?p:0);_++)r[u].id==(null===(h=this.task)||void 0===h?void 0:h.subtasks[_].id)&&this.task.subtasks.splice(_,1);this.CalculateSkip(r),this.DataRemove.emit(m),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(e){var a,o,i;if(e){for(let s=0;s<(null!==(o=null===(a=this.task)||void 0===a?void 0:a.subtasks.length)&&void 0!==o?o:0);s++)e.id==(null===(i=this.task)||void 0===i?void 0:i.subtasks[s].id)&&this.task.subtasks.splice(s,1);this.CalculateSkip([e]),this.DataRevert.emit(e.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(e){for(var a=0;a<e.length;a++){var o=this.commonService.myParseJson(e[a].curPage);o&&1==o.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(e,a,o){this.dataRevertDialog={obj:{curPage:null!=e?e:"",id:Number(a),name:null!=o?o:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var e,a;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(a=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==a?a:0)>=1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.uw),t.Y36(M.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-trash-homework-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[t.qOj,t.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"],[3,"data","closeDialog"]],template:function(e,a){if(1&e&&(t.YNc(0,Se,1,0,"azt-loading-effect",0),t.YNc(1,He,8,6,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",a.isLoading)("ngIfElse",o)}},dependencies:[x.sg,x.O5,V.lW,at.oG,ot.Hw,tt.gM,nt.Q,it,x.uU,Z.bT],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{border-width:0px;display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px #0000001f;margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width: 768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#ff1100}"]}),n})();function qe(n,l){1&n&&t._UZ(0,"azt-loading-effect")}function Ue(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_khong_co_du_lieu")," "))}function Ge(n,l){1&n&&(t.TgZ(0,"div")(1,"div",7),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_auto_bam_vao_nut_ben_duoi_den_xem_ban_ghi_cu_hon")," "))}function Ke(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clickRemoveAllData())}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xoa")))}function ze(n,l){if(1&n&&(t.TgZ(0,"span",24),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.s9C("matTooltip",e.name),t.xp6(1),t.Oqu(e.name)}}function Be(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"div",14)(4,"mat-checkbox",15),t.NdJ("change",function(o){const s=t.CHM(e).index,r=t.oxw(3);return t.KtG(r.updateAllComplete(o.checked,s))}),t.qZA()(),t.TgZ(5,"div",16)(6,"span",17),t.YNc(7,ze,2,2,"span",18),t.qZA(),t.TgZ(8,"span",19),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",20),t.ALo(12,"date"),t._uU(13),t.ALo(14,"date"),t.qZA()()()(),t.TgZ(15,"div",21),t.NdJ("click",function(){const i=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.clickRevertData(i.nextPage,i.id,i.name))}),t.TgZ(16,"div",22)(17,"span",23),t._uU(18),t.ALo(19,"mytranslate"),t.qZA()()()()()}if(2&n){const e=l.$implicit;t.xp6(4),t.Q6J("checked",e.completed),t.xp6(3),t.Q6J("ngIf",e.name),t.xp6(2),t.hij(" ",t.lcZ(10,6,"lang_auto_thoi_gian_xoa"),": "),t.xp6(2),t.s9C("matTooltip",t.xi3(12,8,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(2),t.Oqu(t.xi3(14,11,e.deletedAt,"dd/MM/yyyy HH:mm")),t.xp6(5),t.Oqu(t.lcZ(19,14,"lang_auto_khoi_phuc"))}}function We(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"mat-checkbox",8),t.NdJ("change",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.setAll(o.checked))}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.YNc(4,Ke,3,3,"a",9),t.YNc(5,Be,20,16,"div",10),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("checked",e.allComplete),t.xp6(1),t.hij(" ",t.lcZ(3,4,"lang_auto_chon_tat_ca")," "),t.xp6(2),t.Q6J("ngIf",1==e.someComplete()||1==e.allComplete),t.xp6(1),t.Q6J("ngForOf",null==e.task?null:e.task.subtasks)}}function $e(n,l){1&n&&t._UZ(0,"div",25)}function Xe(n,l){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",26),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.seeMore())}),t.ALo(2,"mytranslate"),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_arrow_down"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"lang_auto_hien_ban_ghi_cu_hon")),t.Q6J("disabled",!e.nextPage)}}function Ve(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-revert-dialog",27),t.NdJ("closeDialog",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.closeRevertDialog(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",e.dataRevertDialog)}}function ta(n,l){if(1&n&&(t.YNc(0,Ue,4,3,"div",2),t.YNc(1,Ge,4,3,"div",2),t.YNc(2,We,6,6,"div",2),t.TgZ(3,"div",3)(4,"div",4),t.YNc(5,$e,1,0,"div",5),t.YNc(6,Xe,5,4,"ng-container",2),t.qZA()(),t.YNc(7,Ve,1,1,"app-revert-dialog",6)),2&n){const e=t.oxw();t.Q6J("ngIf",1==e.isCheckData&&!e.nextPage),t.xp6(1),t.Q6J("ngIf",1==e.isCheckData&&e.nextPage),t.xp6(1),t.Q6J("ngIf",0==e.isCheckData),t.xp6(3),t.Q6J("ngIf",1==e.loadingMore),t.xp6(1),t.Q6J("ngIf",0==e.loadingMore),t.xp6(1),t.Q6J("ngIf",null==e.dataRevertDialog?null:e.dataRevertDialog.isShow)}}let ea=(()=>{class n extends O.Q{constructor(e,a){super(a),this.dialog=e,this.commonService=a,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new t.vpe,this.DataRemove=new t.vpe,this.SeeMore=new t.vpe,this.isLoading=!1,this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1},this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var e,a,o,i,s=[];if(0!=(null===(e=this.data)||void 0===e?void 0:e.length))for(var r=0;r<(null!==(o=null===(a=this.data)||void 0===a?void 0:a.length)&&void 0!==o?o:0);r++)s.push(Object.assign(Object.assign({},null===(i=this.data)||void 0===i?void 0:i[r]),{completed:!1}));this.task={completed:!1,subtasks:s}}setAll(e){var a;null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&(this.task.subtasks.forEach(o=>o.completed=e),this.allComplete=1==e)}updateAllComplete(e,a){var o,i;!(null===(o=this.task)||void 0===o)&&o.subtasks[a]&&(this.task.subtasks[a].completed=e),this.allComplete=null!=(null===(i=this.task)||void 0===i?void 0:i.subtasks)&&this.task.subtasks.every(s=>s.completed)}someComplete(){var e;return null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&this.task.subtasks.filter(a=>a.completed).length>0&&!this.allComplete}clickRemoveAllData(){var e,a,o,i,s,r=[],m=[];for(let c=0;c<(null!==(a=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==a?a:0);c++)1==(null===(o=this.task)||void 0===o?void 0:o.subtasks[c].completed)&&(r.push({id:Number(this.task.subtasks[c].id),curPage:null!==(i=this.task.subtasks[c].nextPage)&&void 0!==i?i:"",name:null!==(s=this.task.subtasks[c].name)&&void 0!==s?s:""}),m.push(Number(this.task.subtasks[c].id)));this.dialog.open(et,{width:"750px",data:{type:this.type,data:r}}).afterClosed().subscribe(c=>{var d,p,h;if(this.isLoading=!1,"remove"==c){for(let u=0;u<r.length;u++)for(let _=0;_<(null!==(p=null===(d=this.task)||void 0===d?void 0:d.subtasks.length)&&void 0!==p?p:0);_++)r[u].id==(null===(h=this.task)||void 0===h?void 0:h.subtasks[_].id)&&this.task.subtasks.splice(_,1);this.CalculateSkip(r),this.DataRemove.emit(m),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(e){var a,o,i;if(e){for(let s=0;s<(null!==(o=null===(a=this.task)||void 0===a?void 0:a.subtasks.length)&&void 0!==o?o:0);s++)e.id==(null===(i=this.task)||void 0===i?void 0:i.subtasks[s].id)&&this.task.subtasks.splice(s,1);this.CalculateSkip([e]),this.DataRevert.emit(e.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(e){for(var a=0;a<e.length;a++){var o=this.commonService.myParseJson(e[a].curPage);o&&1==o.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(e,a,o){this.dataRevertDialog={obj:{curPage:null!=e?e:"",id:Number(a),name:null!=o?o:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var e,a;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(a=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==a?a:0)>=1)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.uw),t.Y36(M.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-trash-exam-category-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[t.qOj,t.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"],[3,"data","closeDialog"]],template:function(e,a){if(1&e&&(t.YNc(0,qe,1,0,"azt-loading-effect",0),t.YNc(1,ta,8,6,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",a.isLoading)("ngIfElse",o)}},dependencies:[x.sg,x.O5,V.lW,at.oG,ot.Hw,tt.gM,nt.Q,it,x.uU,Z.bT],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{border-width:0px;display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px #0000001f;margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width: 768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#ff1100}"]}),n})();function aa(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-trash-class-tab",9),t.NdJ("SeeMore",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.SeeMore(o))})("DataRevert",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.revertDataForTypeTab(o))})("DataRemove",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.removeDataForTypeTab(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",null==e.allDataTrash?null:e.allDataTrash.classRooms)("nextPage",e.nextPage)("type",0)}}function oa(n,l){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,aa,1,3,"app-trash-class-tab",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.typeTab)}}function na(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-trash-student-tab",9),t.NdJ("SeeMore",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.SeeMore(o))})("DataRevert",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.revertDataForTypeTab(o))})("DataRemove",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.removeDataForTypeTab(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",null==e.allDataTrash?null:e.allDataTrash.students)("nextPage",e.nextPage)("type",1)}}function ia(n,l){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,na,1,3,"app-trash-student-tab",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",1===e.typeTab)}}function sa(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-trash-homework-tab",9),t.NdJ("SeeMore",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.SeeMore(o))})("DataRevert",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.revertDataForTypeTab(o))})("DataRemove",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.removeDataForTypeTab(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",null==e.allDataTrash?null:e.allDataTrash.homeworks)("nextPage",e.nextPage)("type",2)}}function la(n,l){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,sa,1,3,"app-trash-homework-tab",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",2===e.typeTab)}}function ra(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-trash-exam-tab",11),t.NdJ("SeeMore",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.SeeMore(o))})("DataRevert",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.revertDataForTypeTab(o))}),t._uU(1,' (DataRemove)="removeDataForTypeTab($event)"> '),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",null==e.allDataTrash?null:e.allDataTrash.exams)("nextPage",e.nextPage)("type",3)}}function ca(n,l){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,ra,2,3,"app-trash-exam-tab",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",3===e.typeTab)}}function _a(n,l){if(1&n){const e=t.EpF();t.TgZ(0,"app-trash-exam-category-tab",9),t.NdJ("SeeMore",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.SeeMore(o))})("DataRevert",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.revertDataForTypeTab(o))})("DataRemove",function(o){t.CHM(e);const i=t.oxw(2);return t.KtG(i.removeDataForTypeTab(o))}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("data",null==e.allDataTrash?null:e.allDataTrash.categories)("nextPage",e.nextPage)("type",4)}}function da(n,l){if(1&n&&(t.TgZ(0,"div",7),t.YNc(1,_a,1,3,"app-trash-exam-category-tab",8),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",4===e.typeTab)}}function pa(n,l){1&n&&t._UZ(0,"div",12)}let Ft=(()=>{class n{constructor(e,a,o){this.router=e,this.trashService=a,this.commonService=o,this.isLoading=!1,this.typeTab=0,this.nextPage=""}getDataStudent(){this.trashService.apiTrashGetStudentObjsGet(this.nextPage.toString()).subscribe(e=>{var a,o,i,s,r,m,g,c,d,p;if(1==e.success){this.nextPage=null!==(o=null===(a=e.data)||void 0===a?void 0:a.nextPage)&&void 0!==o?o:"";var h=[];for(let _=0;_<(null!==(r=null===(s=null===(i=e.data)||void 0===i?void 0:i.objs)||void 0===s?void 0:s.length)&&void 0!==r?r:0);_++)h.push(Object.assign(Object.assign({},null===(g=null===(m=e.data)||void 0===m?void 0:m.objs)||void 0===g?void 0:g[_]),{nextPage:this.nextPage}));var u=null!==(p=null===(d=null===(c=this.allDataTrash)||void 0===c?void 0:c.students)||void 0===d?void 0:d.concat(h))&&void 0!==p?p:h;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{students:u})}this.isLoading=!1})}getDataHomework(){this.trashService.apiTrashGetHomeworkObjsGet(this.nextPage.toString()).subscribe(e=>{var a,o,i,s,r,m,g,c,d,p;if(1==e.success){var h=[];for(let _=0;_<(null!==(i=null===(o=null===(a=e.data)||void 0===a?void 0:a.objs)||void 0===o?void 0:o.length)&&void 0!==i?i:0);_++)h.push(Object.assign(Object.assign({},null===(r=null===(s=e.data)||void 0===s?void 0:s.objs)||void 0===r?void 0:r[_]),{nextPage:this.nextPage}));this.nextPage=null!==(g=null===(m=e.data)||void 0===m?void 0:m.nextPage)&&void 0!==g?g:"";var u=null!==(p=null===(d=null===(c=this.allDataTrash)||void 0===c?void 0:c.homeworks)||void 0===d?void 0:d.concat(h))&&void 0!==p?p:h;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{homeworks:u})}this.isLoading=!1})}getDataCategory(){this.trashService.apiTrashGetExamCategoryObjsGet(this.nextPage.toString()).subscribe(e=>{var a,o,i,s,r,m,g,c,d,p;if(1==e.success){var h=[];this.nextPage=null!==(o=null===(a=e.data)||void 0===a?void 0:a.nextPage)&&void 0!==o?o:"";for(let _=0;_<(null!==(r=null===(s=null===(i=e.data)||void 0===i?void 0:i.objs)||void 0===s?void 0:s.length)&&void 0!==r?r:0);_++)h.push(Object.assign(Object.assign({},null===(g=null===(m=e.data)||void 0===m?void 0:m.objs)||void 0===g?void 0:g[_]),{nextPage:this.nextPage}));var u=null!==(p=null===(d=null===(c=this.allDataTrash)||void 0===c?void 0:c.categories)||void 0===d?void 0:d.concat(h))&&void 0!==p?p:h;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{categories:u})}this.isLoading=!1})}getDataExam(){this.trashService.apiTrashGetExamObjsGet(this.nextPage).subscribe(e=>{var a,o,i,s,r,m,g,c,d,p;if(1==e.success){var h=[];this.nextPage=null!==(o=null===(a=e.data)||void 0===a?void 0:a.nextPage)&&void 0!==o?o:"";for(let _=0;_<(null!==(r=null===(s=null===(i=e.data)||void 0===i?void 0:i.objs)||void 0===s?void 0:s.length)&&void 0!==r?r:0);_++)h.push(Object.assign(Object.assign({},null===(g=null===(m=e.data)||void 0===m?void 0:m.objs)||void 0===g?void 0:g[_]),{nextPage:this.nextPage}));var u=null!==(p=null===(d=null===(c=this.allDataTrash)||void 0===c?void 0:c.exams)||void 0===d?void 0:d.concat(h))&&void 0!==p?p:h;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{exams:u})}this.isLoading=!1})}getDataClassroom(){this.trashService.apiTrashGetClassroomObjsGet(this.nextPage).subscribe(e=>{var a,o,i,s,r,m,g,c,d,p;if(1==e.success){this.nextPage=null!==(o=null===(a=e.data)||void 0===a?void 0:a.nextPage)&&void 0!==o?o:"";var h=[];for(let _=0;_<(null!==(r=null===(s=null===(i=e.data)||void 0===i?void 0:i.objs)||void 0===s?void 0:s.length)&&void 0!==r?r:0);_++)h.push(Object.assign(Object.assign({},null===(g=null===(m=e.data)||void 0===m?void 0:m.objs)||void 0===g?void 0:g[_]),{nextPage:this.nextPage}));var u=null!==(p=null===(d=null===(c=this.allDataTrash)||void 0===c?void 0:c.classRooms)||void 0===d?void 0:d.concat(h))&&void 0!==p?p:h;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{classRooms:u})}this.isLoading=!1})}calculateNextPage(e){var a=this.commonService.myParseJson(this.nextPage);a&&(a.skip=1==a.isArchive?null==e?void 0:e.skipArchive:null==e?void 0:e.skipLive),this.nextPage=JSON.stringify(a)}SelectedTabChange(e){this.isLoading=!0,this.nextPage="",this.allDataTrash={},null!=e&&e>=0&&(this.typeTab=e,this.commonService.myNavigation("/admin/trash/"+e)),this.getData()}SeeMore(e){this.calculateNextPage(e.skipObj),this.getData()}CheckDataForGetObj(){var e,a,o,i,s,r,m,g,c,d;0==(null===(a=null===(e=this.allDataTrash)||void 0===e?void 0:e.classRooms)||void 0===a?void 0:a.length)&&this.SelectedTabChange(-1),0==(null===(i=null===(o=this.allDataTrash)||void 0===o?void 0:o.students)||void 0===i?void 0:i.length)&&this.SelectedTabChange(-1),0==(null===(r=null===(s=this.allDataTrash)||void 0===s?void 0:s.homeworks)||void 0===r?void 0:r.length)&&this.SelectedTabChange(-1),0==(null===(g=null===(m=this.allDataTrash)||void 0===m?void 0:m.exams)||void 0===g?void 0:g.length)&&this.SelectedTabChange(-1),0==(null===(d=null===(c=this.allDataTrash)||void 0===c?void 0:c.categories)||void 0===d?void 0:d.length)&&this.SelectedTabChange(-1)}getData(){switch(this.typeTab){case 0:this.getDataClassroom();break;case 1:this.getDataStudent();break;case 2:this.getDataHomework();break;case 3:this.getDataExam();break;case 4:this.getDataCategory()}}revertDataForTypeTab(e){var a,o,i,s,r,m,g,c,d,p,h,u,_,P,A,S,j,F,R,N,J,I,L,E,Q,H,Y,q,U,G,K,z,B,W,$,T,f,_t,dt,pt,ht,mt,ut,gt,vt,ft,bt,xt,kt,Tt,Ct,yt,wt,Dt,Mt,Zt,Ot,Pt,At,St;if(0==this.typeTab)for(let b=0;b<(null!==(i=null===(o=null===(a=this.allDataTrash)||void 0===a?void 0:a.classRooms)||void 0===o?void 0:o.length)&&void 0!==i?i:0);b++)if(e===(null===(r=null===(s=this.allDataTrash)||void 0===s?void 0:s.classRooms)||void 0===r?void 0:r[b].id)){const k=null===(g=null===(m=this.allDataTrash)||void 0===m?void 0:m.classRooms)||void 0===g?void 0:g.indexOf(null===(d=null===(c=this.allDataTrash)||void 0===c?void 0:c.classRooms)||void 0===d?void 0:d[b]);k>-1&&(null===(h=null===(p=this.allDataTrash)||void 0===p?void 0:p.classRooms)||void 0===h||h.splice(k,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{classRooms:null===(u=this.allDataTrash)||void 0===u?void 0:u.classRooms}))}if(1==this.typeTab)for(let b=0;b<(null!==(A=null===(P=null===(_=this.allDataTrash)||void 0===_?void 0:_.students)||void 0===P?void 0:P.length)&&void 0!==A?A:0);b++)if(e===(null===(j=null===(S=this.allDataTrash)||void 0===S?void 0:S.students)||void 0===j?void 0:j[b].id)){const k=null===(R=null===(F=this.allDataTrash)||void 0===F?void 0:F.students)||void 0===R?void 0:R.indexOf(null===(J=null===(N=this.allDataTrash)||void 0===N?void 0:N.students)||void 0===J?void 0:J[b]);k>-1&&(null===(L=null===(I=this.allDataTrash)||void 0===I?void 0:I.students)||void 0===L||L.splice(k,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{students:null===(E=this.allDataTrash)||void 0===E?void 0:E.students}))}if(2==this.typeTab)for(let b=0;b<(null!==(Y=null===(H=null===(Q=this.allDataTrash)||void 0===Q?void 0:Q.homeworks)||void 0===H?void 0:H.length)&&void 0!==Y?Y:0);b++)if(e===(null===(U=null===(q=this.allDataTrash)||void 0===q?void 0:q.homeworks)||void 0===U?void 0:U[b].id)){const k=null===(K=null===(G=this.allDataTrash)||void 0===G?void 0:G.homeworks)||void 0===K?void 0:K.indexOf(null===(B=null===(z=this.allDataTrash)||void 0===z?void 0:z.homeworks)||void 0===B?void 0:B[b]);k>-1&&(null===($=null===(W=this.allDataTrash)||void 0===W?void 0:W.homeworks)||void 0===$||$.splice(k,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{homeworks:null===(T=this.allDataTrash)||void 0===T?void 0:T.homeworks}))}if(3==this.typeTab)for(let b=0;b<(null!==(dt=null===(_t=null===(f=this.allDataTrash)||void 0===f?void 0:f.exams)||void 0===_t?void 0:_t.length)&&void 0!==dt?dt:0);b++)if(e===(null===(ht=null===(pt=this.allDataTrash)||void 0===pt?void 0:pt.exams)||void 0===ht?void 0:ht[b].id)){const k=null===(ut=null===(mt=this.allDataTrash)||void 0===mt?void 0:mt.exams)||void 0===ut?void 0:ut.indexOf(null===(vt=null===(gt=this.allDataTrash)||void 0===gt?void 0:gt.exams)||void 0===vt?void 0:vt[b]);k>-1&&(null===(bt=null===(ft=this.allDataTrash)||void 0===ft?void 0:ft.exams)||void 0===bt||bt.splice(k,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{exams:null===(xt=this.allDataTrash)||void 0===xt?void 0:xt.exams}))}if(4==this.typeTab)for(let b=0;b<(null!==(Ct=null===(Tt=null===(kt=this.allDataTrash)||void 0===kt?void 0:kt.categories)||void 0===Tt?void 0:Tt.length)&&void 0!==Ct?Ct:0);b++)if(e===(null===(wt=null===(yt=this.allDataTrash)||void 0===yt?void 0:yt.categories)||void 0===wt?void 0:wt[b].id)){const k=null===(Mt=null===(Dt=this.allDataTrash)||void 0===Dt?void 0:Dt.categories)||void 0===Mt?void 0:Mt.indexOf(null===(Ot=null===(Zt=this.allDataTrash)||void 0===Zt?void 0:Zt.categories)||void 0===Ot?void 0:Ot[b]);k>-1&&(null===(At=null===(Pt=this.allDataTrash)||void 0===Pt?void 0:Pt.categories)||void 0===At||At.splice(k,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{categories:null===(St=this.allDataTrash)||void 0===St?void 0:St.categories}))}this.CheckDataForGetObj()}removeDataForTypeTab(e){var a,o,i,s,r,m,g,c,d,p,h,u,_,P,A,S,j,F,R,N,J,I,L,E,Q,H,Y,q,U,G,K,z,B,W,$;for(let T=0;T<e.length;T++){if(0==this.typeTab)for(let f=0;f<(null!==(i=null===(o=null===(a=this.allDataTrash)||void 0===a?void 0:a.classRooms)||void 0===o?void 0:o.length)&&void 0!==i?i:0);f++)e[T]==(null===(r=null===(s=this.allDataTrash)||void 0===s?void 0:s.classRooms)||void 0===r?void 0:r[f].id)&&(null===(g=null===(m=this.allDataTrash)||void 0===m?void 0:m.classRooms)||void 0===g||g.splice(f,1));if(1==this.typeTab)for(let f=0;f<(null!==(p=null===(d=null===(c=this.allDataTrash)||void 0===c?void 0:c.students)||void 0===d?void 0:d.length)&&void 0!==p?p:0);f++)e[T]==(null===(u=null===(h=this.allDataTrash)||void 0===h?void 0:h.students)||void 0===u?void 0:u[f].id)&&(null===(P=null===(_=this.allDataTrash)||void 0===_?void 0:_.students)||void 0===P||P.splice(f,1));if(2==this.typeTab)for(let f=0;f<(null!==(j=null===(S=null===(A=this.allDataTrash)||void 0===A?void 0:A.homeworks)||void 0===S?void 0:S.length)&&void 0!==j?j:0);f++)e[T]==(null===(R=null===(F=this.allDataTrash)||void 0===F?void 0:F.homeworks)||void 0===R?void 0:R[f].id)&&(null===(J=null===(N=this.allDataTrash)||void 0===N?void 0:N.homeworks)||void 0===J||J.splice(f,1));if(3==this.typeTab)for(let f=0;f<(null!==(E=null===(L=null===(I=this.allDataTrash)||void 0===I?void 0:I.exams)||void 0===L?void 0:L.length)&&void 0!==E?E:0);f++)e[T]==(null===(H=null===(Q=this.allDataTrash)||void 0===Q?void 0:Q.exams)||void 0===H?void 0:H[f].id)&&(null===(q=null===(Y=this.allDataTrash)||void 0===Y?void 0:Y.exams)||void 0===q||q.splice(f,1));if(4==this.typeTab)for(let f=0;f<(null!==(K=null===(G=null===(U=this.allDataTrash)||void 0===U?void 0:U.categories)||void 0===G?void 0:G.length)&&void 0!==K?K:0);f++)e[T]==(null===(B=null===(z=this.allDataTrash)||void 0===z?void 0:z.categories)||void 0===B?void 0:B[f].id)&&(null===($=null===(W=this.allDataTrash)||void 0===W?void 0:W.categories)||void 0===$||$.splice(f,1))}this.CheckDataForGetObj()}ngOnInit(){this.isLoading=!0;var e=this.router.snapshot.paramMap.get("type");this.typeTab=parseInt(e||"0",10),this.getData(),this.commonService.translateMetaData({title:"lang_cms_trash_title",description:"lang_cms_trash_description",image:"lang_cms_test_image"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(X.gz),t.Y36(ct.d),t.Y36(M.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-trash"]],decls:21,vars:26,consts:[[3,"headerTitle","headerBackTolink"],[1,"container"],[1,"app","py-4","maxW1200"],[3,"selectedIndex","selectedTabChange"],[3,"label"],["class","wrapper",4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","style","display: flex; margin: 20% auto;",4,"ngIf"],[1,"wrapper"],[3,"data","nextPage","type","SeeMore","DataRevert","DataRemove",4,"ngIf"],[3,"data","nextPage","type","SeeMore","DataRevert","DataRemove"],[3,"data","nextPage","type","SeeMore","DataRevert",4,"ngIf"],[3,"data","nextPage","type","SeeMore","DataRevert"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex","margin","20% auto"]],template:function(e,a){1&e&&(t._UZ(0,"header-backend",0),t.ALo(1,"mytranslate"),t.TgZ(2,"div",1)(3,"div",2)(4,"mat-tab-group",3),t.NdJ("selectedTabChange",function(i){return a.SelectedTabChange(i.index)}),t.TgZ(5,"mat-tab",4),t.ALo(6,"mytranslate"),t.YNc(7,oa,2,1,"div",5),t.qZA(),t.TgZ(8,"mat-tab",4),t.ALo(9,"mytranslate"),t.YNc(10,ia,2,1,"div",5),t.qZA(),t.TgZ(11,"mat-tab",4),t.ALo(12,"mytranslate"),t.YNc(13,la,2,1,"div",5),t.qZA(),t.TgZ(14,"mat-tab",4),t.ALo(15,"mytranslate"),t.YNc(16,ca,2,1,"div",5),t.qZA(),t.TgZ(17,"mat-tab",4),t.ALo(18,"mytranslate"),t.YNc(19,da,2,1,"div",5),t.qZA()(),t.YNc(20,pa,1,0,"div",6),t.qZA()()),2&e&&(t.Q6J("headerTitle",t.lcZ(1,14,"lang_auto_thung_rac"))("headerBackTolink","/admin/dashboard"),t.xp6(4),t.Q6J("selectedIndex",a.typeTab),t.xp6(1),t.s9C("label",t.lcZ(6,16,"lang_auto_lop_hoc")),t.xp6(2),t.Q6J("ngIf",!1===a.isLoading),t.xp6(1),t.s9C("label",t.lcZ(9,18,"lang_auto_hoc_sinh")),t.xp6(2),t.Q6J("ngIf",!1===a.isLoading),t.xp6(1),t.s9C("label",t.lcZ(12,20,"lang_auto_bai_tap")),t.xp6(2),t.Q6J("ngIf",!1===a.isLoading),t.xp6(1),t.s9C("label",t.lcZ(15,22,"lang_auto_de_thi")),t.xp6(2),t.Q6J("ngIf",!1===a.isLoading),t.xp6(1),t.s9C("label",t.lcZ(18,24,"lang_auto_thu_muc_de_thi")),t.xp6(2),t.Q6J("ngIf",!1===a.isLoading),t.xp6(1),t.Q6J("ngIf",!0===a.isLoading))},dependencies:[x.O5,jt.SP,jt.uX,Et.p,le,be,Ae,Ye,ea,Z.bT],styles:[".wrapper[_ngcontent-%COMP%]{overflow-x:hidden}"]}),n})();const ha=[{path:"",component:Ft,canActivate:[Lt.J],children:[{path:"",component:Ft}]}];let ma=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[X.Bz.forChild(ha),X.Bz,It.fQ]}),n})(),ua=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[X.Bz,x.ez,Jt.j,D.Z_,lt.u5,lt.UX,C.Is,Nt.Z,rt.xC,y.QG,ma,w.W]}),n})()},45668:(Rt,st,v)=>{v.d(st,{J:()=>X});var x=v(5e3),lt=v(43147),C=v(42873);let X=(()=>{class D{constructor(y,w){this.baseApiService=y,this.redirectService=w}canActivate(y,w){return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginAnonymous(w.url),!1)}canActivateChild(y,w){return this.canActivate(y,w)}canLoad(y){const w=`/${y.path}`;return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginByReturnUrl(w),!1)}}return D.\u0275fac=function(y){return new(y||D)(x.LFG(lt._),x.LFG(C.V))},D.\u0275prov=x.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()}}]);