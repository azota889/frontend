"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[808],{12011:(Le,ve,f)=>{f.d(ve,{Dh:()=>de,GT:()=>ue,cc:()=>e,hO:()=>N,on:()=>_e,pX:()=>D,xv:()=>fe});var A=f(5e3),u=f(70127),g=f(26351);Le=f.hmd(Le);const O=["ngOnDestroy"],D=(C,Q,I,Y={})=>new Proxy(C,{get:(H,$)=>I.runOutsideAngular(()=>{var W;if(C[$])return!(null===(W=null==Y?void 0:Y.spy)||void 0===W)&&W.get&&Y.spy.get($,C[$]),C[$];if(O.indexOf($)>-1)return()=>{};const L=Q.toPromise().then(X=>{const Z=X&&X[$];return"function"==typeof Z?Z.bind(X):Z&&Z.then?Z.then(K=>I.run(()=>K)):I.run(()=>Z)});return new Proxy(()=>{},{get:(X,Z)=>L[Z],apply:(X,Z,K)=>L.then(P=>{var w;const j=P&&P(...K);return!(null===(w=null==Y?void 0:Y.spy)||void 0===w)&&w.apply&&Y.spy.apply($,K,j),j})})})}),ue=(C,Q)=>{Q.forEach(I=>{Object.getOwnPropertyNames(I.prototype||I).forEach(Y=>{Object.defineProperty(C.prototype,Y,Object.getOwnPropertyDescriptor(I.prototype||I,Y))})})};class pe{constructor(Q){return Q}}const de=new A.OlP("angularfire2.app.options"),fe=new A.OlP("angularfire2.app.name");function _e(C,Q,I){const H="object"==typeof I&&I||{};H.name=H.name||"string"==typeof I&&I||"[DEFAULT]";const W=u.Z.apps.filter(L=>L&&L.name===H.name)[0]||Q.runOutsideAngular(()=>u.Z.initializeApp(C,H));try{JSON.stringify(C)!==JSON.stringify(W.options)&&xe("error",`${W.name} Firebase App already initialized with different options${Le.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(L){}return new pe(W)}const xe=(C,...Q)=>{(0,A.X6Q)()&&"undefined"!=typeof console&&console[C](...Q)},re={provide:pe,useFactory:_e,deps:[de,A.R0b,[new A.FiY,fe]]};let N=(()=>{class C{constructor(I){u.Z.registerVersion("angularfire",g.q4.full,"core"),u.Z.registerVersion("angularfire",g.q4.full,"app-compat"),u.Z.registerVersion("angular",A.q4F.full,I.toString())}static initializeApp(I,Y){return{ngModule:C,providers:[{provide:de,useValue:I},{provide:fe,useValue:Y}]}}}return C.\u0275fac=function(I){return new(I||C)(A.LFG(A.Lbi))},C.\u0275mod=A.oAB({type:C}),C.\u0275inj=A.cJS({providers:[re]}),C})();function e(C,Q,I,Y,H){const[,$,W]=globalThis.\u0275AngularfireInstanceCache.find(L=>L[0]===C)||[];if($)return function B(C,Q){try{return C.toString()===Q.toString()}catch(I){return C===Q}}(H,W)||(q("error",`${Q} was already initialized on the ${I} Firebase App with different settings.${F?" You may need to reload as Firebase is not HMR aware.":""}`),q("warn",{is:H,was:W})),$;{const L=Y();return globalThis.\u0275AngularfireInstanceCache.push([C,L,H]),L}}const F=!!Le.hot,q=(C,...Q)=>{(0,A.X6Q)()&&"undefined"!=typeof console&&console[C](...Q)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},26351:(Le,ve,f)=>{f.d(ve,{q4:()=>Rr,iC:()=>Br,HU:()=>Ho,vb:()=>Dr,JM:()=>eo});var A=f(5e3),u=f(15867),g=f(49671),O=f(49681),D=f(42090),ue=f(34859),pe=f(41877),de=f(98766);const fe="@firebase/installations",_e="0.5.11",re=`w:${_e}`,N="FIS_v2",Q=new D.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function I(r){return r instanceof D.ZR&&r.code.includes("request-failed")}function Y({projectId:r}){return`https://firebaseinstallations.googleapis.com/v1/projects/${r}/installations`}function H(r){return{token:r.token,requestStatus:2,expiresIn:P(r.expiresIn),creationTime:Date.now()}}function $(r,a){return W.apply(this,arguments)}function W(){return(W=(0,g.Z)(function*(r,a){const d=(yield a.json()).error;return Q.create("request-failed",{requestName:r,serverCode:d.code,serverMessage:d.message,serverStatus:d.status})})).apply(this,arguments)}function L({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function X(r,{refreshToken:a}){const l=L(r);return l.append("Authorization",function w(r){return`${N} ${r}`}(a)),l}function Z(r){return K.apply(this,arguments)}function K(){return(K=(0,g.Z)(function*(r){const a=yield r();return a.status>=500&&a.status<600?r():a})).apply(this,arguments)}function P(r){return Number(r.replace("s","000"))}function j(r,a){return he.apply(this,arguments)}function he(){return(he=(0,g.Z)(function*({appConfig:r,heartbeatServiceProvider:a},{fid:l}){const d=Y(r),p=L(r),h=a.getImmediate({optional:!0});if(h){const E=yield h.getHeartbeatsHeader();E&&p.append("x-firebase-client",E)}const b={method:"POST",headers:p,body:JSON.stringify({fid:l,authVersion:N,appId:r.appId,sdkVersion:re})},S=yield Z(()=>fetch(d,b));if(S.ok){const E=yield S.json();return{fid:E.fid||l,registrationStatus:2,refreshToken:E.refreshToken,authToken:H(E.authToken)}}throw yield $("Create Installation",S)})).apply(this,arguments)}function ge(r){return new Promise(a=>{setTimeout(a,r)})}const ti=/^[cdef][\w-]{21}$/;function ni(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const l=function oi(r){return function It(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}(r).substr(0,22)}(r);return ti.test(l)?l:""}catch(r){return""}}function Ee(r){return`${r.appName}!${r.appId}`}const Ae=new Map;function Lt(r,a){const l=Ee(r);oo(l,a),function ri(r,a){const l=function io(){return!te&&"BroadcastChannel"in self&&(te=new BroadcastChannel("[Firebase] FID Change"),te.onmessage=r=>{oo(r.data.key,r.data.fid)}),te}();l&&l.postMessage({key:r,fid:a}),function ro(){0===Ae.size&&te&&(te.close(),te=null)}()}(l,a)}function oo(r,a){const l=Ae.get(r);if(l)for(const d of l)d(a)}let te=null;const Pe="firebase-installations-store";let Pt=null;function Mt(){return Pt||(Pt=(0,de.X3)("firebase-installations-database",1,{upgrade:(r,a)=>{0===a&&r.createObjectStore(Pe)}})),Pt}function st(r,a){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,g.Z)(function*(r,a){const l=Ee(r),p=(yield Mt()).transaction(Pe,"readwrite"),h=p.objectStore(Pe),y=yield h.get(l);return yield h.put(a,l),yield p.done,(!y||y.fid!==a.fid)&&Lt(r,a.fid),a})).apply(this,arguments)}function qt(r){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,g.Z)(function*(r){const a=Ee(r),d=(yield Mt()).transaction(Pe,"readwrite");yield d.objectStore(Pe).delete(a),yield d.done})).apply(this,arguments)}function Ge(r,a){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,g.Z)(function*(r,a){const l=Ee(r),p=(yield Mt()).transaction(Pe,"readwrite"),h=p.objectStore(Pe),y=yield h.get(l),b=a(y);return void 0===b?yield h.delete(l):yield h.put(b,l),yield p.done,b&&(!y||y.fid!==b.fid)&&Lt(r,b.fid),b})).apply(this,arguments)}function Rt(r){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,g.Z)(function*(r){let a;const l=yield Ge(r.appConfig,d=>{const p=ci(d),h=li(r,p);return a=h.registrationPromise,h.installationEntry});return""===l.fid?{installationEntry:yield a}:{installationEntry:l,registrationPromise:a}})).apply(this,arguments)}function ci(r){return so(r||{fid:ni(),registrationStatus:0})}function li(r,a){if(0===a.registrationStatus){if(!navigator.onLine)return{installationEntry:a,registrationPromise:Promise.reject(Q.create("app-offline"))};const l={fid:a.fid,registrationStatus:1,registrationTime:Date.now()},d=function ui(r,a){return jt.apply(this,arguments)}(r,l);return{installationEntry:l,registrationPromise:d}}return 1===a.registrationStatus?{installationEntry:a,registrationPromise:di(r)}:{installationEntry:a}}function jt(){return(jt=(0,g.Z)(function*(r,a){try{const l=yield j(r,a);return st(r.appConfig,l)}catch(l){throw I(l)&&409===l.customData.serverCode?yield qt(r.appConfig):yield st(r.appConfig,{fid:a.fid,registrationStatus:0}),l}})).apply(this,arguments)}function di(r){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,g.Z)(function*(r){let a=yield ao(r.appConfig);for(;1===a.registrationStatus;)yield ge(100),a=yield ao(r.appConfig);if(0===a.registrationStatus){const{installationEntry:l,registrationPromise:d}=yield Rt(r);return d||l}return a})).apply(this,arguments)}function ao(r){return Ge(r,a=>{if(!a)throw Q.create("installation-not-found");return so(a)})}function so(r){return function _i(r){return 1===r.registrationStatus&&r.registrationTime+1e4<Date.now()}(r)?{fid:r.fid,registrationStatus:0}:r}function gi(r,a){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,g.Z)(function*({appConfig:r,heartbeatServiceProvider:a},l){const d=pi(r,l),p=X(r,l),h=a.getImmediate({optional:!0});if(h){const E=yield h.getHeartbeatsHeader();E&&p.append("x-firebase-client",E)}const b={method:"POST",headers:p,body:JSON.stringify({installation:{sdkVersion:re,appId:r.appId}})},S=yield Z(()=>fetch(d,b));if(S.ok)return H(yield S.json());throw yield $("Generate Auth Token",S)})).apply(this,arguments)}function pi(r,{fid:a}){return`${Y(r)}/${a}/authTokens:generate`}function Jt(r){return zt.apply(this,arguments)}function zt(){return(zt=(0,g.Z)(function*(r,a=!1){let l;const d=yield Ge(r.appConfig,h=>{if(!lo(h))throw Q.create("not-registered");const y=h.authToken;if(!a&&uo(y))return h;if(1===y.requestStatus)return l=hi(r,a),h;{if(!navigator.onLine)throw Q.create("app-offline");const b=vi(h);return l=mi(r,b),b}});return l?yield l:d.authToken})).apply(this,arguments)}function hi(r,a){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,g.Z)(function*(r,a){let l=yield co(r.appConfig);for(;1===l.authToken.requestStatus;)yield ge(100),l=yield co(r.appConfig);const d=l.authToken;return 0===d.requestStatus?Jt(r,a):d})).apply(this,arguments)}function co(r){return Ge(r,a=>{if(!lo(a))throw Q.create("not-registered");return function Ze(r){return 1===r.requestStatus&&r.requestTime+1e4<Date.now()}(a.authToken)?Object.assign(Object.assign({},a),{authToken:{requestStatus:0}}):a})}function mi(r,a){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(r,a){try{const l=yield gi(r,a),d=Object.assign(Object.assign({},a),{authToken:l});return yield st(r.appConfig,d),l}catch(l){if(!I(l)||401!==l.customData.serverCode&&404!==l.customData.serverCode){const d=Object.assign(Object.assign({},a),{authToken:{requestStatus:0}});yield st(r.appConfig,d)}else yield qt(r.appConfig);throw l}})).apply(this,arguments)}function lo(r){return void 0!==r&&2===r.registrationStatus}function uo(r){return 2===r.requestStatus&&!function fi(r){const a=Date.now();return a<r.creationTime||r.creationTime+r.expiresIn<a+36e5}(r)}function vi(r){const a={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:a})}function Vt(){return(Vt=(0,g.Z)(function*(r){const a=r,{installationEntry:l,registrationPromise:d}=yield Rt(a);return d?d.catch(console.error):Jt(a).catch(console.error),l.fid})).apply(this,arguments)}function Kt(){return(Kt=(0,g.Z)(function*(r,a=!1){const l=r;return yield bi(l),(yield Jt(l,a)).token})).apply(this,arguments)}function bi(r){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,g.Z)(function*(r){const{registrationPromise:a}=yield Rt(r);a&&(yield a)})).apply(this,arguments)}function en(r){return Q.create("missing-app-config-values",{valueName:r})}const _o="installations",Ti=r=>{const a=r.getProvider("app").getImmediate(),l=function Ci(r){if(!r||!r.options)throw en("App Configuration");if(!r.name)throw en("App Name");const a=["projectId","apiKey","appId"];for(const l of a)if(!r.options[l])throw en(l);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}(a);return{app:a,appConfig:l,heartbeatServiceProvider:(0,O._getProvider)(a,"heartbeat"),_delete:()=>Promise.resolve()}},Si=r=>{const a=r.getProvider("app").getImmediate(),l=(0,O._getProvider)(a,_o).getImmediate();return{getId:()=>function Me(r){return Vt.apply(this,arguments)}(l),getToken:p=>function yi(r){return Kt.apply(this,arguments)}(l,p)}};(function Zi(){(0,O._registerComponent)(new ue.wA(_o,Ti,"PUBLIC")),(0,O._registerComponent)(new ue.wA("installations-internal",Si,"PRIVATE"))})(),(0,O.registerVersion)(fe,_e),(0,O.registerVersion)(fe,_e,"esm2017");const tn="@firebase/remote-config",le=new D.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qi{constructor(a,l,d,p){this.client=a,this.storage=l,this.storageCache=d,this.logger=p}isCachedDataFresh(a,l){if(!l)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const d=Date.now()-l,p=d<=a;return this.logger.debug(`Config fetch cache check. Cache age millis: ${d}. Cache max age millis (minimumFetchIntervalMillis setting): ${a}. Is cache hit: ${p}.`),p}fetch(a){var l=this;return(0,g.Z)(function*(){const[d,p]=yield Promise.all([l.storage.getLastSuccessfulFetchTimestampMillis(),l.storage.getLastSuccessfulFetchResponse()]);if(p&&l.isCachedDataFresh(a.cacheMaxAgeMillis,d))return p;a.eTag=p&&p.eTag;const h=yield l.client.fetch(a),y=[l.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===h.status&&y.push(l.storage.setLastSuccessfulFetchResponse(h)),yield Promise.all(y),h})()}}function Qi(r=navigator){return r.languages&&r.languages[0]||r.language}class Ni{constructor(a,l,d,p,h,y){this.firebaseInstallations=a,this.sdkVersion=l,this.namespace=d,this.projectId=p,this.apiKey=h,this.appId=y}fetch(a){var l=this;return(0,g.Z)(function*(){var d,p,h;const[y,b]=yield Promise.all([l.firebaseInstallations.getId(),l.firebaseInstallations.getToken()]),E=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${l.projectId}/namespaces/${l.namespace}:fetch?key=${l.apiKey}`,U={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":a.eTag||"*"},T={sdk_version:l.sdkVersion,app_instance_id:y,app_instance_id_token:b,app_id:l.appId,language_code:Qi()},se={method:"POST",headers:U,body:JSON.stringify(T)},me=fetch(E,se),no=new Promise((ze,rt)=>{a.signal.addEventListener(()=>{const Xo=new Error("The operation was aborted.");Xo.name="AbortError",rt(Xo)})});let ot;try{yield Promise.race([me,no]),ot=yield me}catch(ze){let rt="fetch-client-network";throw"AbortError"===(null===(d=ze)||void 0===d?void 0:d.name)&&(rt="fetch-timeout"),le.create(rt,{originalErrorMessage:null===(p=ze)||void 0===p?void 0:p.message})}let it=ot.status;const ga=ot.headers.get("ETag")||void 0;let Wo,kt;if(200===ot.status){let ze;try{ze=yield ot.json()}catch(rt){throw le.create("fetch-client-parse",{originalErrorMessage:null===(h=rt)||void 0===h?void 0:h.message})}Wo=ze.entries,kt=ze.state}if("INSTANCE_STATE_UNSPECIFIED"===kt?it=500:"NO_CHANGE"===kt?it=304:("NO_TEMPLATE"===kt||"EMPTY_CONFIG"===kt)&&(Wo={}),304!==it&&200!==it)throw le.create("fetch-status",{httpStatus:it});return{status:it,eTag:ga,config:Wo}})()}}class mo{constructor(a,l){this.client=a,this.storage=l}fetch(a){var l=this;return(0,g.Z)(function*(){const d=(yield l.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return l.attemptFetch(a,d)})()}attemptFetch(a,{throttleEndTimeMillis:l,backoffCount:d}){var p=this;return(0,g.Z)(function*(){yield function Ri(r,a){return new Promise((l,d)=>{const p=Math.max(a-Date.now(),0),h=setTimeout(l,p);r.addEventListener(()=>{clearTimeout(h),d(le.create("fetch-throttle",{throttleEndTimeMillis:a}))})})}(a.signal,l);try{const h=yield p.client.fetch(a);return yield p.storage.deleteThrottleMetadata(),h}catch(h){if(!function sn(r){if(!(r instanceof D.ZR&&r.customData))return!1;const a=Number(r.customData.httpStatus);return 429===a||500===a||503===a||504===a}(h))throw h;const y={throttleEndTimeMillis:Date.now()+(0,D.$s)(d),backoffCount:d+1};return yield p.storage.setThrottleMetadata(y),p.attemptFetch(a,y)}})()}}class Di{constructor(a,l,d,p,h){this.app=a,this._client=l,this._storageCache=d,this._storage=p,this._logger=h,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ut(r,a){var l;const d=r.target.error||void 0;return le.create(a,{originalErrorMessage:d&&(null===(l=d)||void 0===l?void 0:l.message)})}const Ue="app_namespace_store";class Yi{constructor(a,l,d,p=function zi(){return new Promise((r,a)=>{var l;try{const d=indexedDB.open("firebase_remote_config",1);d.onerror=p=>{a(ut(p,"storage-open"))},d.onsuccess=p=>{r(p.target.result)},d.onupgradeneeded=p=>{0===p.oldVersion&&p.target.result.createObjectStore(Ue,{keyPath:"compositeKey"})}}catch(d){a(le.create("storage-open",{originalErrorMessage:null===(l=d)||void 0===l?void 0:l.message}))}})}()){this.appId=a,this.appName=l,this.namespace=d,this.openDbPromise=p}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(a){return this.set("last_fetch_status",a)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(a){return this.set("last_successful_fetch_timestamp_millis",a)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(a){return this.set("last_successful_fetch_response",a)}getActiveConfig(){return this.get("active_config")}setActiveConfig(a){return this.set("active_config",a)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(a){return this.set("active_config_etag",a)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(a){return this.set("throttle_metadata",a)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(a){var l=this;return(0,g.Z)(function*(){const d=yield l.openDbPromise;return new Promise((p,h)=>{var y;const S=d.transaction([Ue],"readonly").objectStore(Ue),E=l.createCompositeKey(a);try{const U=S.get(E);U.onerror=T=>{h(ut(T,"storage-get"))},U.onsuccess=T=>{const se=T.target.result;p(se?se.value:void 0)}}catch(U){h(le.create("storage-get",{originalErrorMessage:null===(y=U)||void 0===y?void 0:y.message}))}})})()}set(a,l){var d=this;return(0,g.Z)(function*(){const p=yield d.openDbPromise;return new Promise((h,y)=>{var b;const E=p.transaction([Ue],"readwrite").objectStore(Ue),U=d.createCompositeKey(a);try{const T=E.put({compositeKey:U,value:l});T.onerror=se=>{y(ut(se,"storage-set"))},T.onsuccess=()=>{h()}}catch(T){y(le.create("storage-set",{originalErrorMessage:null===(b=T)||void 0===b?void 0:b.message}))}})})()}delete(a){var l=this;return(0,g.Z)(function*(){const d=yield l.openDbPromise;return new Promise((p,h)=>{var y;const S=d.transaction([Ue],"readwrite").objectStore(Ue),E=l.createCompositeKey(a);try{const U=S.delete(E);U.onerror=T=>{h(ut(T,"storage-delete"))},U.onsuccess=()=>{p()}}catch(U){h(le.create("storage-delete",{originalErrorMessage:null===(y=U)||void 0===y?void 0:y.message}))}})})()}createCompositeKey(a){return[this.appId,this.appName,this.namespace,a].join()}}class Gi{constructor(a){this.storage=a}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var a=this;return(0,g.Z)(function*(){const l=a.storage.getLastFetchStatus(),d=a.storage.getLastSuccessfulFetchTimestampMillis(),p=a.storage.getActiveConfig(),h=yield l;h&&(a.lastFetchStatus=h);const y=yield d;y&&(a.lastSuccessfulFetchTimestampMillis=y);const b=yield p;b&&(a.activeConfig=b)})()}setLastFetchStatus(a){return this.lastFetchStatus=a,this.storage.setLastFetchStatus(a)}setLastSuccessfulFetchTimestampMillis(a){return this.lastSuccessfulFetchTimestampMillis=a,this.storage.setLastSuccessfulFetchTimestampMillis(a)}setActiveConfig(a){return this.activeConfig=a,this.storage.setActiveConfig(a)}}function Ki(){return ln.apply(this,arguments)}function ln(){return(ln=(0,g.Z)(function*(){if(!(0,D.hl)())return!1;try{return yield(0,D.eu)()}catch(r){return!1}})).apply(this,arguments)}!function Vi(){(0,O._registerComponent)(new ue.wA("remote-config",function r(a,{instanceIdentifier:l}){const d=a.getProvider("app").getImmediate(),p=a.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw le.create("registration-window");if(!(0,D.hl)())throw le.create("indexed-db-unavailable");const{projectId:h,apiKey:y,appId:b}=d.options;if(!h)throw le.create("registration-project-id");if(!y)throw le.create("registration-api-key");if(!b)throw le.create("registration-app-id");const S=new Yi(b,d.name,l=l||"firebase"),E=new Gi(S),U=new pe.Yd(tn);U.logLevel=pe.in.ERROR;const T=new Ni(p,O.SDK_VERSION,l,h,y,b),se=new mo(T,S),me=new qi(se,S,E,U),no=new Di(d,me,E,S,U);return function Pi(r){const a=(0,D.m9)(r);a._initializePromise||(a._initializePromise=a._storageCache.loadFromStorage().then(()=>{a._isInitializationComplete=!0}))}(no),no},"PUBLIC").setMultipleInstances(!0)),(0,O.registerVersion)(tn,"0.3.10"),(0,O.registerVersion)(tn,"0.3.10","esm2017")}();const Hi="/firebase-messaging-sw.js",dt="/firebase-cloud-messaging-push-scope",z="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",fo="google.c.a.c_id",$i="google.c.a.c_l",_t="google.c.a.ts",Wi="google.c.a.e";var Fe=(()=>{return(r=Fe||(Fe={})).PUSH_RECEIVED="push-received",r.NOTIFICATION_CLICKED="notification-clicked",Fe;var r})();function ye(r){const a=new Uint8Array(r);return btoa(String.fromCharCode(...a)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Xi(r){const l=(r+"=".repeat((4-r.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),d=atob(l),p=new Uint8Array(d.length);for(let h=0;h<d.length;++h)p[h]=d.charCodeAt(h);return p}const un="fcm_token_details_db",vo="fcm_token_object_Store";function tr(r){return dn.apply(this,arguments)}function dn(){return dn=(0,g.Z)(function*(r){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(h=>h.name).includes(un))return null;let a=null;return(yield(0,de.X3)(un,5,{upgrade:(d=(0,g.Z)(function*(p,h,y,b){var S;if(h<2||!p.objectStoreNames.contains(vo))return;const E=b.objectStore(vo),U=yield E.index("fcmSenderId").get(r);if(yield E.clear(),U)if(2===h){const T=U;if(!T.auth||!T.p256dh||!T.endpoint)return;a={token:T.fcmToken,createTime:null!==(S=T.createTime)&&void 0!==S?S:Date.now(),subscriptionOptions:{auth:T.auth,p256dh:T.p256dh,endpoint:T.endpoint,swScope:T.swScope,vapidKey:"string"==typeof T.vapidKey?T.vapidKey:ye(T.vapidKey)}}}else if(3===h){const T=U;a={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:ye(T.auth),p256dh:ye(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:ye(T.vapidKey)}}}else if(4===h){const T=U;a={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:ye(T.auth),p256dh:ye(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:ye(T.vapidKey)}}}}),function(h,y,b,S){return d.apply(this,arguments)})})).close(),yield(0,de.Lj)(un),yield(0,de.Lj)("fcm_vapid_details_db"),yield(0,de.Lj)("undefined"),nr(a)?a:null;var d}),dn.apply(this,arguments)}function nr(r){if(!r||!r.subscriptionOptions)return!1;const{subscriptionOptions:a}=r;return"number"==typeof r.createTime&&r.createTime>0&&"string"==typeof r.token&&r.token.length>0&&"string"==typeof a.auth&&a.auth.length>0&&"string"==typeof a.p256dh&&a.p256dh.length>0&&"string"==typeof a.endpoint&&a.endpoint.length>0&&"string"==typeof a.swScope&&a.swScope.length>0&&"string"==typeof a.vapidKey&&a.vapidKey.length>0}const qe="firebase-messaging-store";let _n=null;function gt(){return _n||(_n=(0,de.X3)("firebase-messaging-database",1,{upgrade:(r,a)=>{0===a&&r.createObjectStore(qe)}})),_n}function yo(r){return gn.apply(this,arguments)}function gn(){return(gn=(0,g.Z)(function*(r){const a=mn(r),d=yield(yield gt()).transaction(qe).objectStore(qe).get(a);if(d)return d;{const p=yield tr(r.appConfig.senderId);if(p)return yield pn(r,p),p}})).apply(this,arguments)}function pn(r,a){return hn.apply(this,arguments)}function hn(){return(hn=(0,g.Z)(function*(r,a){const l=mn(r),p=(yield gt()).transaction(qe,"readwrite");return yield p.objectStore(qe).put(a,l),yield p.done,a})).apply(this,arguments)}function rr(r){return pt.apply(this,arguments)}function pt(){return(pt=(0,g.Z)(function*(r){const a=mn(r),d=(yield gt()).transaction(qe,"readwrite");yield d.objectStore(qe).delete(a),yield d.done})).apply(this,arguments)}function mn({appConfig:r}){return r.appId}const ne=new D.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sr(r,a){return fn.apply(this,arguments)}function fn(){return(fn=(0,g.Z)(function*(r,a){var l;const d=yield xn(r),p=xo(a),h={method:"POST",headers:d,body:JSON.stringify(p)};let y;try{y=yield(yield fetch(bn(r.appConfig),h)).json()}catch(b){throw ne.create("token-subscribe-failed",{errorInfo:null===(l=b)||void 0===l?void 0:l.toString()})}if(y.error)throw ne.create("token-subscribe-failed",{errorInfo:y.error.message});if(!y.token)throw ne.create("token-subscribe-no-token");return y.token})).apply(this,arguments)}function cr(r,a){return vn.apply(this,arguments)}function vn(){return(vn=(0,g.Z)(function*(r,a){var l;const d=yield xn(r),p=xo(a.subscriptionOptions),h={method:"PATCH",headers:d,body:JSON.stringify(p)};let y;try{y=yield(yield fetch(`${bn(r.appConfig)}/${a.token}`,h)).json()}catch(b){throw ne.create("token-update-failed",{errorInfo:null===(l=b)||void 0===l?void 0:l.toString()})}if(y.error)throw ne.create("token-update-failed",{errorInfo:y.error.message});if(!y.token)throw ne.create("token-update-no-token");return y.token})).apply(this,arguments)}function bo(r,a){return yn.apply(this,arguments)}function yn(){return(yn=(0,g.Z)(function*(r,a){var l;const p={method:"DELETE",headers:yield xn(r)};try{const y=yield(yield fetch(`${bn(r.appConfig)}/${a}`,p)).json();if(y.error)throw ne.create("token-unsubscribe-failed",{errorInfo:y.error.message})}catch(h){throw ne.create("token-unsubscribe-failed",{errorInfo:null===(l=h)||void 0===l?void 0:l.toString()})}})).apply(this,arguments)}function bn({projectId:r}){return`https://fcmregistrations.googleapis.com/v1/projects/${r}/registrations`}function xn(r){return An.apply(this,arguments)}function An(){return(An=(0,g.Z)(function*({appConfig:r,installations:a}){const l=yield a.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r.apiKey,"x-goog-firebase-installations-auth":`FIS ${l}`})})).apply(this,arguments)}function xo({p256dh:r,auth:a,endpoint:l,vapidKey:d}){const p={web:{endpoint:l,auth:a,p256dh:r}};return d!==z&&(p.web.applicationPubKey=d),p}const lr=6048e5;function ur(r){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,g.Z)(function*(r){const a=yield _r(r.swRegistration,r.vapidKey),l={vapidKey:r.vapidKey,swScope:r.swRegistration.scope,endpoint:a.endpoint,auth:ye(a.getKey("auth")),p256dh:ye(a.getKey("p256dh"))},d=yield yo(r.firebaseDependencies);if(d){if(gr(d.subscriptionOptions,l))return Date.now()>=d.createTime+lr?dr(r,{token:d.token,createTime:Date.now(),subscriptionOptions:l}):d.token;try{yield bo(r.firebaseDependencies,d.token)}catch(p){console.warn(p)}return Co(r.firebaseDependencies,l)}return Co(r.firebaseDependencies,l)})).apply(this,arguments)}function Ao(r){return wn.apply(this,arguments)}function wn(){return(wn=(0,g.Z)(function*(r){const a=yield yo(r.firebaseDependencies);a&&(yield bo(r.firebaseDependencies,a.token),yield rr(r.firebaseDependencies));const l=yield r.swRegistration.pushManager.getSubscription();return!l||l.unsubscribe()})).apply(this,arguments)}function dr(r,a){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,g.Z)(function*(r,a){try{const l=yield cr(r.firebaseDependencies,a),d=Object.assign(Object.assign({},a),{token:l,createTime:Date.now()});return yield pn(r.firebaseDependencies,d),l}catch(l){throw yield Ao(r),l}})).apply(this,arguments)}function Co(r,a){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,g.Z)(function*(r,a){const d={token:yield sr(r,a),createTime:Date.now(),subscriptionOptions:a};return yield pn(r,d),d.token})).apply(this,arguments)}function _r(r,a){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,g.Z)(function*(r,a){return(yield r.pushManager.getSubscription())||r.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Xi(a)})})).apply(this,arguments)}function gr(r,a){return a.vapidKey===r.vapidKey&&a.endpoint===r.endpoint&&a.auth===r.auth&&a.p256dh===r.p256dh}function wo(r){const a={from:r.from,collapseKey:r.collapse_key,messageId:r.fcmMessageId};return function pr(r,a){if(!a.notification)return;r.notification={};const l=a.notification.title;l&&(r.notification.title=l);const d=a.notification.body;d&&(r.notification.body=d);const p=a.notification.image;p&&(r.notification.image=p)}(a,r),function hr(r,a){!a.data||(r.data=a.data)}(a,r),function mr(r,a){var l,d,p,h,y;if(!(a.fcmOptions||null!==(l=a.notification)&&void 0!==l&&l.click_action))return;r.fcmOptions={};const b=null!==(p=null===(d=a.fcmOptions)||void 0===d?void 0:d.link)&&void 0!==p?p:null===(h=a.notification)||void 0===h?void 0:h.click_action;b&&(r.fcmOptions.link=b);const S=null===(y=a.fcmOptions)||void 0===y?void 0:y.analytics_label;S&&(r.fcmOptions.analyticsLabel=S)}(a,r),a}function fr(r){return"object"==typeof r&&!!r&&fo in r}function To(r,a){const l=[];for(let d=0;d<r.length;d++)l.push(r.charAt(d)),d<a.length&&l.push(a.charAt(d));return l.join("")}function kn(r){return ne.create("missing-app-config-values",{valueName:r})}To("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),To("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class yr{constructor(a,l,d){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const p=function vr(r){if(!r||!r.options)throw kn("App Configuration Object");if(!r.name)throw kn("App Name");const a=["projectId","apiKey","appId","messagingSenderId"],{options:l}=r;for(const d of a)if(!l[d])throw kn(d);return{appName:r.name,projectId:l.projectId,apiKey:l.apiKey,appId:l.appId,senderId:l.messagingSenderId}}(a);this.firebaseDependencies={app:a,appConfig:p,installations:l,analyticsProvider:d}}_delete(){return Promise.resolve()}}function So(r){return In.apply(this,arguments)}function In(){return(In=(0,g.Z)(function*(r){var a;try{r.swRegistration=yield navigator.serviceWorker.register(Hi,{scope:dt}),r.swRegistration.update().catch(()=>{})}catch(l){throw ne.create("failed-service-worker-registration",{browserErrorMessage:null===(a=l)||void 0===a?void 0:a.message})}})).apply(this,arguments)}function br(r,a){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,g.Z)(function*(r,a){if(!a&&!r.swRegistration&&(yield So(r)),a||!r.swRegistration){if(!(a instanceof ServiceWorkerRegistration))throw ne.create("invalid-sw-registration");r.swRegistration=a}})).apply(this,arguments)}function Zo(r,a){return On.apply(this,arguments)}function On(){return(On=(0,g.Z)(function*(r,a){a?r.vapidKey=a:r.vapidKey||(r.vapidKey=z)})).apply(this,arguments)}function Ln(){return(Ln=(0,g.Z)(function*(r,a){if(!navigator)throw ne.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ne.create("permission-blocked");return yield Zo(r,null==a?void 0:a.vapidKey),yield br(r,null==a?void 0:a.serviceWorkerRegistration),ur(r)})).apply(this,arguments)}function ht(r,a,l){return mt.apply(this,arguments)}function mt(){return(mt=(0,g.Z)(function*(r,a,l){const d=Io(a);(yield r.firebaseDependencies.analyticsProvider.get()).logEvent(d,{message_id:l[fo],message_name:l[$i],message_time:l[_t],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Io(r){switch(r){case Fe.NOTIFICATION_CLICKED:return"notification_open";case Fe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function je(){return(je=(0,g.Z)(function*(r,a){const l=a.data;if(!l.isFirebaseMessaging)return;r.onMessageHandler&&l.messageType===Fe.PUSH_RECEIVED&&("function"==typeof r.onMessageHandler?r.onMessageHandler(wo(l)):r.onMessageHandler.next(wo(l)));const d=l.data;fr(d)&&"1"===d[Wi]&&(yield ht(r,l.messageType,d))})).apply(this,arguments)}const Qe="@firebase/messaging",Oo=r=>{const a=new yr(r.getProvider("app").getImmediate(),r.getProvider("installations-internal").getImmediate(),r.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",l=>function xr(r,a){return je.apply(this,arguments)}(a,l)),a},Ar=r=>{const a=r.getProvider("messaging").getImmediate();return{getToken:d=>function ko(r,a){return Ln.apply(this,arguments)}(a,d)}};function vt(){return En.apply(this,arguments)}function En(){return(En=(0,g.Z)(function*(){try{yield(0,D.eu)()}catch(r){return!1}return"undefined"!=typeof window&&(0,D.hl)()&&(0,D.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Lo(){(0,O._registerComponent)(new ue.wA("messaging",Oo,"PUBLIC")),(0,O._registerComponent)(new ue.wA("messaging-internal",Ar,"PRIVATE")),(0,O.registerVersion)(Qe,"0.9.15"),(0,O.registerVersion)(Qe,"0.9.15","esm2017")}();const bt="analytics",wr="firebase_id",ia="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tr="https://www.googletagmanager.com/gtag/js",ae=new pe.Yd("@firebase/analytics");function Sr(r){return Promise.all(r.map(a=>a.catch(l=>l)))}function ra(r,a){const l=document.createElement("script");l.src=`${Tr}?l=${r}&id=${a}`,l.async=!0,document.head.appendChild(l)}function Pn(r,a,l,d,p,h){return xt.apply(this,arguments)}function xt(){return(xt=(0,g.Z)(function*(r,a,l,d,p,h){const y=d[p];try{if(y)yield a[y];else{const S=(yield Sr(l)).find(E=>E.measurementId===p);S&&(yield a[S.appId])}}catch(b){ae.error(b)}r("config",p,h)})).apply(this,arguments)}function He(r,a,l,d,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,g.Z)(function*(r,a,l,d,p){try{let h=[];if(p&&p.send_to){let y=p.send_to;Array.isArray(y)||(y=[y]);const b=yield Sr(l);for(const S of y){const E=b.find(T=>T.measurementId===S),U=E&&a[E.appId];if(!U){h=[];break}h.push(U)}}0===h.length&&(h=Object.values(a)),yield Promise.all(h),r("event",d,p||{})}catch(h){ae.error(h)}})).apply(this,arguments)}function kr(){const r=window.document.getElementsByTagName("script");for(const a of Object.values(r))if(a.src&&a.src.includes(Tr))return a;return null}const G=new D.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Po=new class Ir{constructor(a={},l=1e3){this.throttleMetadata=a,this.intervalMillis=l}getThrottleMetadata(a){return this.throttleMetadata[a]}setThrottleMetadata(a,l){this.throttleMetadata[a]=l}deleteThrottleMetadata(a){delete this.throttleMetadata[a]}};function Or(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}function Mo(r){return qn.apply(this,arguments)}function qn(){return(qn=(0,g.Z)(function*(r){var a;const{appId:l,apiKey:d}=r,p={method:"GET",headers:Or(d)},h=ia.replace("{app-id}",l),y=yield fetch(h,p);if(200!==y.status&&304!==y.status){let b="";try{const S=yield y.json();null!==(a=S.error)&&void 0!==a&&a.message&&(b=S.error.message)}catch(S){}throw G.create("config-fetch-failed",{httpStatus:y.status,responseMessage:b})}return y.json()})).apply(this,arguments)}function Lr(r){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,g.Z)(function*(r,a=Po,l){const{appId:d,apiKey:p,measurementId:h}=r.options;if(!d)throw G.create("no-app-id");if(!p){if(h)return{measurementId:h,appId:d};throw G.create("no-api-key")}const y=a.getThrottleMetadata(d)||{backoffCount:0,throttleEndTimeMillis:Date.now()},b=new Nn;return setTimeout((0,g.Z)(function*(){b.abort()}),void 0!==l?l:6e4),Uo({appId:d,apiKey:p,measurementId:h},y,b,a)})).apply(this,arguments)}function Uo(r,a,l){return oe.apply(this,arguments)}function oe(){return(oe=(0,g.Z)(function*(r,{throttleEndTimeMillis:a,backoffCount:l},d,p=Po){var h,y;const{appId:b,measurementId:S}=r;try{yield Ct(d,a)}catch(E){if(S)return ae.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${null===(h=E)||void 0===h?void 0:h.message}]`),{appId:b,measurementId:S};throw E}try{const E=yield Mo(r);return p.deleteThrottleMetadata(b),E}catch(E){const U=E;if(!qo(U)){if(p.deleteThrottleMetadata(b),S)return ae.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${S} provided in the "measurementId" field in the local Firebase config. [${null==U?void 0:U.message}]`),{appId:b,measurementId:S};throw E}const T=503===Number(null===(y=null==U?void 0:U.customData)||void 0===y?void 0:y.httpStatus)?(0,D.$s)(l,p.intervalMillis,30):(0,D.$s)(l,p.intervalMillis),se={throttleEndTimeMillis:Date.now()+T,backoffCount:l+1};return p.setThrottleMetadata(b,se),ae.debug(`Calling attemptFetch again in ${T} millis`),Uo(r,se,d,p)}})).apply(this,arguments)}function Ct(r,a){return new Promise((l,d)=>{const p=Math.max(a-Date.now(),0),h=setTimeout(l,p);r.addEventListener(()=>{clearTimeout(h),d(G.create("fetch-throttle",{throttleEndTimeMillis:a}))})})}function qo(r){if(!(r instanceof D.ZR&&r.customData))return!1;const a=Number(r.customData.httpStatus);return 429===a||500===a||503===a||504===a}class Nn{constructor(){this.listeners=[]}addEventListener(a){this.listeners.push(a)}abort(){this.listeners.forEach(a=>a())}}function wt(){return $e.apply(this,arguments)}function $e(){return($e=(0,g.Z)(function*(){var r;if(!(0,D.hl)())return ae.warn(G.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,D.eu)()}catch(a){return ae.warn(G.create("indexeddb-unavailable",{errorInfo:null===(r=a)||void 0===r?void 0:r.toString()}).message),!1}return!0})).apply(this,arguments)}function Fn(){return(Fn=(0,g.Z)(function*(r,a,l,d,p,h,y){var b;const S=Lr(r);S.then(me=>{l[me.measurementId]=me.appId,r.options.measurementId&&me.measurementId!==r.options.measurementId&&ae.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${me.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(me=>ae.error(me)),a.push(S);const E=wt().then(me=>{if(me)return d.getId()}),[U,T]=yield Promise.all([S,E]);kr()||ra(h,U.measurementId),p("js",new Date);const se=null!==(b=null==y?void 0:y.config)&&void 0!==b?b:{};return se.origin="firebase",se.update=!0,null!=T&&(se[wr]=T),p("config",U.measurementId,se),U.measurementId})).apply(this,arguments)}class Er{constructor(a){this.app=a}_delete(){return delete Ce[this.app.options.appId],Promise.resolve()}}let Ce={},Qo=[];const No={};let We,Be,ke="dataLayer",Dn=!1;function Mr(r,a,l){!function Pr(){const r=[];if((0,D.ru)()&&r.push("This is a browser extension environment."),(0,D.zI)()||r.push("Cookies are not available."),r.length>0){const a=r.map((d,p)=>`(${p+1}) ${d}`).join(" "),l=G.create("invalid-analytics-context",{errorInfo:a});ae.warn(l.message)}}();const d=r.options.appId;if(!d)throw G.create("no-app-id");if(!r.options.apiKey){if(!r.options.measurementId)throw G.create("no-api-key");ae.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ce[d])throw G.create("already-exists",{id:d});if(!Dn){!function aa(r){let a=[];Array.isArray(window[r])?a=window[r]:window[r]=a}(ke);const{wrappedGtag:h,gtagCore:y}=function Zr(r,a,l,d,p){let h=function(...y){window[d].push(arguments)};return window[p]&&"function"==typeof window[p]&&(h=window[p]),window[p]=function Eo(r,a,l,d){function h(){return(h=(0,g.Z)(function*(y,b,S){try{"event"===y?yield He(r,a,l,b,S):"config"===y?yield Pn(r,a,l,d,b,S):r("set",b)}catch(E){ae.error(E)}})).apply(this,arguments)}return function p(y,b,S){return h.apply(this,arguments)}}(h,r,a,l),{gtagCore:h,wrappedGtag:window[p]}}(Ce,Qo,No,ke,"gtag");Be=h,We=y,Dn=!0}return Ce[d]=function Rn(r,a,l,d,p,h,y){return Fn.apply(this,arguments)}(r,Qo,No,a,We,ke,l),new Er(r)}function Xe(){return(Xe=(0,g.Z)(function*(r,a,l,d,p){if(p&&p.global)r("event",l,d);else{const h=yield a;r("event",l,Object.assign(Object.assign({},d),{send_to:h}))}})).apply(this,arguments)}function zo(){return nt.apply(this,arguments)}function nt(){return(nt=(0,g.Z)(function*(){if((0,D.ru)()||!(0,D.zI)()||!(0,D.hl)())return!1;try{return yield(0,D.eu)()}catch(r){return!1}})).apply(this,arguments)}const Tt="@firebase/analytics";!function Yo(){(0,O._registerComponent)(new ue.wA(bt,(a,{options:l})=>Mr(a.getProvider("app").getImmediate(),a.getProvider("installations-internal").getImmediate(),l),"PUBLIC")),(0,O._registerComponent)(new ue.wA("analytics-internal",function r(a){try{const l=a.getProvider(bt).getImmediate();return{logEvent:(d,p,h)=>function zn(r,a,l,d){r=(0,D.m9)(r),function Ro(r,a,l,d,p){return Xe.apply(this,arguments)}(Be,Ce[r.app.options.appId],a,l,d).catch(p=>ae.error(p))}(l,d,p,h)}}catch(l){throw G.create("interop-component-reg-failed",{reason:l})}},"PRIVATE")),(0,O.registerVersion)(Tt,"0.7.11"),(0,O.registerVersion)(Tt,"0.7.11","esm2017")}();var qr=f(30341),Go=f(20353),Zt=f(2994),Qr=f(13334),Nr=f(57770);const Rr=new A.GfV("7.4.1"),Yn="__angularfire_symbol__analyticsIsSupportedValue",Gn="__angularfire_symbol__analyticsIsSupported",Vn="__angularfire_symbol__remoteConfigIsSupportedValue",Kn="__angularfire_symbol__remoteConfigIsSupported",Hn="__angularfire_symbol__messagingIsSupportedValue",$n="__angularfire_symbol__messagingIsSupported";function eo(r,a,l){if(a){if(1===a.length)return a[0];const h=a.filter(y=>y.app===l);if(1===h.length)return h[0]}return l.container.getProvider(r).getImmediate({optional:!0})}globalThis[Gn]||(globalThis[Gn]=zo().then(r=>globalThis[Yn]=r).catch(()=>globalThis[Yn]=!1)),globalThis[$n]||(globalThis[$n]=vt().then(r=>globalThis[Hn]=r).catch(()=>globalThis[Hn]=!1)),globalThis[Kn]||(globalThis[Kn]=Ki().then(r=>globalThis[Vn]=r).catch(()=>globalThis[Vn]=!1));const Dr=(r,a)=>{const l=a?[a]:(0,u.C6)(),d=[];return l.forEach(p=>{p.container.getProvider(r).instances.forEach(y=>{d.includes(y)||d.push(y)})}),d};function Je(){}class Vo{constructor(a,l=qr.N){this.zone=a,this.delegate=l}now(){return this.delegate.now()}schedule(a,l,d){const p=this.zone;return this.delegate.schedule(function(y){p.runGuarded(()=>{a.apply(this,[y])})},l,d)}}class Ko{constructor(a){this.zone=a,this.task=null}call(a,l){const d=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Je,{},Je,Je)),l.pipe((0,Zt.b)({next:d,complete:d,error:d})).subscribe(a).add(d)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ho=(()=>{class r{constructor(l){this.ngZone=l,this.outsideAngular=l.runOutsideAngular(()=>new Vo(Zone.current)),this.insideAngular=l.run(()=>new Vo(Zone.current,Go.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return r.\u0275fac=function(l){return new(l||r)(A.LFG(A.R0b))},r.\u0275prov=A.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Ie(){const r=globalThis.\u0275AngularFireScheduler;if(!r)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return r}function Br(r){return Ie(),function _a(r){return function(l){return(l=l.lift(new Ko(r.ngZone))).pipe((0,Qr.R)(r.outsideAngular),(0,Nr.QV)(r.insideAngular))}}(Ie())(r)}},56808:(Le,ve,f)=>{f.r(ve),f.d(ve,{AuthModule:()=>Ts});var A=f(69808),u=f(12011),g=f(93075),O=f(74202),D=f(51908),ue=f(63728),pe=f(47470),de=f(75658),fe=f(49088),_e=f(92340),xe=f(8785),re=f(37389),N=f(55330),e=f(5e3),B=f(35018),F=f(43147),q=f(42873),C=f(48966),Q=f(81760),I=f(20371),Y=f(30004),H=f(70024),$=f(40520),W=f(90508),L=f(67322),X=f(22313),Z=f(74693),K=f(34782),P=f(74107),w=f(1033);function j(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function he(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ge(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function It(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"mat-form-field",5)(2,"mat-select",17),e.NdJ("valueChange",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.department_select=i)})("selectionChange",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.selectDepartment(i.value))}),e.ALo(3,"mytranslate"),e.YNc(4,ge,2,2,"mat-option",7),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.s9C("placeholder",e.lcZ(3,3,"lang_testbank_utils_school_info_select_department")),e.Q6J("value",t.department_select),e.xp6(2),e.Q6J("ngForOf",t.departments)}}function ti(n,s){if(1&n&&(e.TgZ(0,"mat-option",16),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Ot(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",18),e._uU(2,"\xa0"),e.qZA())}let ni=(()=>{class n extends N.Q{constructor(t,o,i,c,_,m,v,x){super(t),this.commonService=t,this.dom=o,this.formBuilder=i,this.schoolConfigService=c,this.schoolInfoService=_,this.browserStorageService=m,this.dialogRef=v,this.infoSchool=!1,this.form=new g.nJ({}),this.departments=[],this.levels=[],this.schools=[],this.locations=[],this.location_select=null,this.department_select=null,this.level_select=null,this.school_select=null,this.infoSchool=x.infoSchool}ngOnInit(){var t,o;"boolean"!=typeof this.infoSchool&&(this.location_select=this.infoSchool.provinceId,this.level_select=this.infoSchool.typeId,(null!==(t=this.infoSchool.typeId)&&void 0!==t?t:0)<=3?this.GetDistrictsByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.department_select=this.infoSchool.districtId,this.getListSchool(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)}))}):(null!==(o=this.infoSchool.typeId)&&void 0!==o?o:0)>3&&this.getListSchoolByProvince(()=>{"boolean"!=typeof this.infoSchool&&(this.school_select=this.infoSchool.id)})),this.initData(),this.form=this.formBuilder.group({LocationName:new g.p4("",g.kI.required),LevelName:new g.p4("",g.kI.required),DepartmentName:new g.p4("",g.kI.required),SchoolName:new g.p4("",g.kI.required)}),super.ngOnInit()}initData(){this.GetProvinces(),this.GetTypeSchool()}selectLocation(t){this.location_select=t,this.department_select=null,this.departments=[],this.GetDistrictsByProvince()}selectLevel(t){this.schools=[],this.school_select=null,this.level_select=t,t<=3?(this.getListSchool(),this.GetDistrictsByProvince()):t>3&&this.getListSchoolByProvince()}selectDepartment(t){this.schools=[],this.school_select=null,this.department_select=t,this.getListSchool()}selectSchool(t){this.school_select=t}saveInfo(){var t;if(this.school_select)if(-1===this.school_select)this.btnCloseDialog(!0);else{let o={schoolId:null!==(t=this.school_select)&&void 0!==t?t:0};this.schoolConfigService.apiSchoolConfigPushSchoolInfoPost(o).subscribe(i=>{var c,_;i&&1==i.success?(this.showSuccessSnack("lang_auto_cap_nhat_thong_tin_thanh_cong"),this.btnCloseDialog(null!==(_=null===(c=i.data)||void 0===c?void 0:c.obj)&&void 0!==_&&_)):this.showErrorSnack("lang_auto_cap_nhat_thong_tin_khong_thanh_cong_vui_long_thao_tac_lai")})}else this.commonService.snackError("Vui l\xf2ng ch\u1ecdn tr\u01b0\u1eddng m\xecnh \u0111ang gi\u1ea3ng d\u1ea1y","")}btnCloseDialog(t){this.dialogRef.close(t)}GetProvinces(){this.schoolInfoService.apiSchoolInfoGetProvincesGet().subscribe(t=>{var o,i;t&&(this.locations=null!==(i=null===(o=t.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:new Array,this.locations=this.sortName(this.locations))})}GetTypeSchool(){this.schoolInfoService.apiSchoolInfoGetTypeSchoolGet().subscribe(t=>{var o,i;t&&(this.levels=null!==(i=null===(o=t.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:new Array)})}GetDistrictsByProvince(t=(()=>{})){var o;this.schoolInfoService.apiSchoolInfoGetDistrictsByProvinceGet(null!==(o=this.location_select)&&void 0!==o?o:0).subscribe(i=>{var c,_;i&&(this.departments=null!==(_=null===(c=i.data)||void 0===c?void 0:c.objs)&&void 0!==_?_:new Array,this.departments=this.sortName(this.departments),t())})}getListSchoolByProvince(t=(()=>{})){this.location_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByProvinceGet(this.location_select,this.level_select).subscribe(o=>{var i,c,_,m;o&&(this.schools=null!==(c=null===(i=o.data)||void 0===i?void 0:i.objs)&&void 0!==c?c:new Array,this.schools=this.sortName(this.schools),this.schools.push({id:-1,name:"Kh\xe1c",districtId:null!==(_=this.department_select)&&void 0!==_?_:0,typeId:null!==(m=this.level_select)&&void 0!==m?m:0}),t())})}getListSchool(t=(()=>{})){this.department_select&&this.level_select&&this.schoolInfoService.apiSchoolInfoGetSchoolsByDistrictGet(this.department_select,this.level_select).subscribe(o=>{var i,c,_,m;o&&(this.schools=null!==(c=null===(i=o.data)||void 0===i?void 0:i.objs)&&void 0!==c?c:new Array,this.schools=this.sortName(this.schools),this.schools.push({id:-1,name:"Kh\xe1c",districtId:null!==(_=this.department_select)&&void 0!==_?_:0,typeId:null!==(m=this.level_select)&&void 0!==m?m:0}),t())})}sortName(t){return t.sort((o,i)=>{var c,_,m,v;return null!==(v=null===(c=o.name)||void 0===c?void 0:c.trim().localeCompare(null!==(m=null===(_=i.name)||void 0===_?void 0:_.trim())&&void 0!==m?m:""))&&void 0!==v?v:-1}),t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(X.H7),e.Y36(g.QS),e.Y36(Z.Tt),e.Y36(Z.pX),e.Y36(K.z),e.Y36(C.so,8),e.Y36(C.WI,8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-school-info"]],features:[e.qOj],decls:31,vars:28,consts:[[1,"box","p-5",2,"max-height","80vh","overflow-y","auto"],[1,"text-md","font-medium","flex","items-center"],[1,"text-xs","text-slate-500","dark:text-slate-400","mt-2"],[1,"mt-3",3,"formGroup"],[1,"form-group","mb-3"],["appearance","outline"],["name","LocationName",3,"value","placeholder","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","LevelName",3,"value","placeholder","valueChange","selectionChange"],["class","form-group mb-3",4,"ngIf"],[1,"form-group"],["name","SchoolName",3,"value","placeholder","valueChange","selectionChange"],[1,"mt-3","mb-2","text-right"],[1,"btn","btn-outline-secondary","w-24","mr-3",3,"click"],[1,"btn","btn-primary","w-24",3,"disabled","click"],[4,"ngIf"],[3,"value"],["name","DepartmentName",3,"value","placeholder","valueChange","selectionChange"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2," C\u1eadp nh\u1eadt th\xf4ng tin tr\u01b0\u1eddng "),e.qZA(),e.TgZ(3,"div",2),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"form",3)(7,"div",4)(8,"mat-form-field",5)(9,"mat-select",6),e.NdJ("valueChange",function(c){return o.location_select=c})("selectionChange",function(c){return o.selectLocation(c.value)}),e.ALo(10,"mytranslate"),e.YNc(11,j,2,2,"mat-option",7),e.qZA()()(),e.TgZ(12,"div",4)(13,"mat-form-field",5)(14,"mat-select",8),e.NdJ("valueChange",function(c){return o.level_select=c})("selectionChange",function(c){return o.selectLevel(c.value)}),e.ALo(15,"mytranslate"),e.YNc(16,he,2,2,"mat-option",7),e.qZA()()(),e.YNc(17,It,5,5,"div",9),e.TgZ(18,"div",10)(19,"mat-form-field",5)(20,"mat-select",11),e.NdJ("valueChange",function(c){return o.school_select=c})("selectionChange",function(c){return o.selectSchool(c.value)}),e.ALo(21,"mytranslate"),e.YNc(22,ti,2,2,"mat-option",7),e.qZA()()()(),e.TgZ(23,"div",12)(24,"button",13),e.NdJ("click",function(){return o.btnCloseDialog(!1)}),e._uU(25),e.ALo(26,"mytranslate"),e.qZA(),e.TgZ(27,"button",14),e.NdJ("click",function(){return o.saveInfo()}),e.YNc(28,Ot,3,0,"span",15),e._uU(29),e.ALo(30,"mytranslate"),e.qZA()()()),2&t){let i;e.xp6(4),e.hij(" ",e.lcZ(5,16,"lang_testbank_utils_school_info_note_tutorial")," "),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(3),e.s9C("placeholder",e.lcZ(10,18,"lang_testbank_utils_school_info_select_province")),e.Q6J("value",o.location_select),e.xp6(2),e.Q6J("ngForOf",o.locations),e.xp6(3),e.s9C("placeholder",e.lcZ(15,20,"lang_testbank_utils_school_info_select_level")),e.Q6J("value",o.level_select),e.xp6(2),e.Q6J("ngForOf",o.levels),e.xp6(1),e.Q6J("ngIf",(null!==(i=o.level_select)&&void 0!==i?i:0)<=3),e.xp6(3),e.s9C("placeholder",e.lcZ(21,22,"lang_testbank_utils_school_info_select_school")),e.Q6J("value",o.school_select),e.xp6(2),e.Q6J("ngForOf",o.schools),e.xp6(3),e.hij(" ",e.lcZ(26,24,"lang_testbank_utils_school_info_later")," "),e.xp6(2),e.Q6J("disabled",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!0===o.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(30,26,"lang_buttom_save")," ")}},dependencies:[A.sg,A.O5,W.ey,L.KE,P.gD,g._Y,g.JL,g.sg,w.bT],encapsulation:2}),n})();var oi=f(96551),Ee=f(60703),Ae=f(41303),Lt=f(51442),Et=f(88386),ii=f(12813),oo=f(98833),ri=f(64123),te=f(49692);function io(n,s){1&n&&(e.TgZ(0,"div",62),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_ho_va_ten")," "))}function ro(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1,"OK"),e.qZA())}function ai(n,s){1&n&&e._UZ(0,"input",63)}function si(n,s){1&n&&(e._UZ(0,"input",64),e.ALo(1,"mytranslate")),2&n&&e.s9C("placeholder",e.lcZ(1,1,"lang_auto_nhap_email")+"...")}function Pe(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" *",e.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function Pt(n,s){if(1&n&&(e.TgZ(0,"div",65),e.YNc(1,Pe,3,3,"div",66),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.getErrorType("email","email")||t.getErrorType("email","pattern"))}}function Mt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",67),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goToConfirmEmail())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_click_vao_day_neu_ban_muon_doi_email")))}function st(n,s){1&n&&e._UZ(0,"input",68)}function Ut(n,s){1&n&&(e._UZ(0,"input",69),e.ALo(1,"mytranslate")),2&n&&e.s9C("placeholder",e.lcZ(1,1,"lang_auto_nhap_so_dien_thoai")+"...")}function qt(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_so_dien_thoai_chi_gom_cac_chu_so_va_dai_10_ky_tu")," "))}function Qt(n,s){if(1&n&&(e.TgZ(0,"div",65),e.YNc(1,qt,3,3,"div",66),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.getErrorType("phone","pattern")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength"))}}function Ge(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",67),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.goToConfirm())}),e._uU(1),e.ALo(2,"mytranslate"),e.ALo(3,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.AsE("",e.lcZ(2,2,"lang_auto_click_vao_day_neu_ban_muon_doi_so")," ",e.lcZ(3,4,"lang_auto_dien_thoai"),""))}function Nt(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",70)(1,"g",71)(2,"g",72),e._UZ(3,"circle",73),e.TgZ(4,"path",74),e._UZ(5,"animateTransform",75),e.qZA()()()())}function Rt(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",88),e.NdJ("click",function(i){return i.stopPropagation()}),e.TgZ(1,"div",89)(2,"span",90),e.O4$(),e.TgZ(3,"svg",91),e._UZ(4,"path",92)(5,"line",93)(6,"line",94),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(9,"a",95),e.NdJ("click",function(i){e.CHM(t);const c=e.oxw(2);return e.KtG(c.fileChangeEvent(i))}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"input",96,8),e.NdJ("change",function(i){e.CHM(t);const c=e.oxw(2);return e.KtG(c.fileChangeEvent(i))}),e.qZA()()()}2&n&&(e.xp6(7),e.hij(" ",e.lcZ(8,2,"lang_auto_file_ban_chon_khong_phai_la_anh_vui_long")," "),e.xp6(3),e.Oqu(e.lcZ(11,4,"lang_auto_chon_lai")))}function Ft(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",76)(1,"div",77)(2,"div",78)(3,"div",79)(4,"div",80),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()(),e.TgZ(7,"div",81)(8,"div",82),e.YNc(9,Rt,14,6,"div",83),e.TgZ(10,"image-cropper",84),e.NdJ("imageCropped",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.imageCropped(i))})("loadImageFailed",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.loadImageFailed())}),e.qZA()()(),e.TgZ(11,"div",85)(12,"button",86),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeDialog())}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.TgZ(15,"button",87),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.submitAvatar())}),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,9,"lang_auto_cap_nhat_anh_dai_dien")),e.xp6(4),e.Q6J("ngIf",!1===t.textImageFailed),e.xp6(1),e.Q6J("imageChangedEvent",t.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",150)("cropperMinWidth",128),e.xp6(3),e.Oqu(e.lcZ(14,11,"lang_auto_huy")),e.xp6(3),e.Oqu(e.lcZ(17,13,"lang_auto_cap_nhat"))}}let ci=(()=>{class n extends N.Q{constructor(t,o,i,c,_,m,v,x,k){super(t),this.commonService=t,this.formBuilder=o,this.userInfoService=i,this.userService=c,this.baseApiService=_,this.datePipe=m,this.dialog=v,this.apiUploadService=x,this.schoolConfigService=k,this.userObj={},this.isTeacherDashboard=!1,this.saveUserObj=new e.vpe,this.form=new g.nJ({}),this.prevData="",this.returnUrl="",this.backLink="",this.imageChangedEvent=void 0,this.croppedImage="",this.imageFileName="",this.textImageFailed=void 0,this.isSubmit=!1,this.infoSchool={}}fileChangeEvent(t){var o,i;const c=t.target;(null===(o=null==c?void 0:c.files)||void 0===o?void 0:o.length)&&c.files[0].size<=5242880?(this.imageChangedEvent=t,this.imageFileName=null!==(i=null==c?void 0:c.files)&&void 0!==i&&i.length?c.files[0].name:"",this.textImageFailed=!0):this.showErrorSnack("lang_auto_vui_long_chon_anh_co_kich_thuoc_nho_hon_5mb")}b64toFile(t,o){t=t.replace("data:image/png;base64,","");let _=window.atob(t),m=[];for(let x=0;x<_.length;x+=512){let k=_.slice(x,x+512),R=new Array(k.length);for(let M=0;M<k.length;M++)R[M]=k.charCodeAt(M);let J=new Uint8Array(R);m.push(J)}return new File(m,o,{type:"image/png"})}imageCropped(t){var o,i;this.croppedImage=null!==(o=t.base64)&&void 0!==o?o:"";let c=this.b64toFile(null!==(i=t.base64)&&void 0!==i?i:"",this.imageFileName);this.saveAvatar=c}submitAvatar(){var t;(null===(t=this.imageChangedEvent)||void 0===t?void 0:t.target).files=null,this.imageChangedEvent=void 0,this.initStatusObj(),this.uploadFile(this.saveAvatar)}removeDialog(){var t;(null===(t=this.imageChangedEvent)||void 0===t?void 0:t.target).files=null,this.imageChangedEvent=void 0}loadImageFailed(){this.textImageFailed=!1}uploadFile(t){t?(this.isSubmit=!1,(0,Lt.Or)(t.type)&&(0,Lt.hv)(t).then(o=>{this.apiUploadService.uploadToCdnForAvatar(o).subscribe(i=>{var c,_;if(i.type!=$.dt.UploadProgress)if(1==i.success){let m={avatarUrl:null!==(_=null===(c=i.data)||void 0===c?void 0:c.url)&&void 0!==_?_:""};this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(m).subscribe(v=>{1==v.success?(this.successStatusObj(),this.userObj=this.baseApiService.getUserObj()):this.errorStatusObj("lang_auto_cap_nhat_thong_tin_khong_thanh_cong",!0)}))}else this.errorStatusObj("lang_auto_khong_upload_duoc_anh_vui_long_thu_lai_sau_loi_split_lang"+i.message,!0)})})):this.errorStatusObj("lang_auto_crop_anh_loi_vui_long_thu_lai",!0)}openDialogInfoSchool(){this.dialog.open(ni,{data:{infoSchool:this.infoSchool}}).afterClosed().subscribe(o=>{o&&(this.infoSchool=o)})}checkSchoolInfo(){this.schoolConfigService.apiSchoolConfigGetSchoolInfoGet().subscribe(t=>{var o,i;this.infoSchool=null!==(i=null===(o=t.data)||void 0===o?void 0:o.obj)&&void 0!==i?i:{}})}changeInfo(){var t;if(this.form.valid){let o=this.commonService.getFormObj(this.form),i=this.userObj.birthday?new Date(this.userObj.birthday):new Date(1990,1,1),c=o.birthday?new Date(Date.parse(o.birthday)):i,_={fullName:o.fullName,birthday:null!==(t=this.datePipe.transform(c,"yyyy-MM-ddTHH:mm:ss"))&&void 0!==t?t:"",gender:o.gender,email:o.email,phone:o.phone};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(_).subscribe(m=>{var v,x;1==m.success?(this.saveUserObj.emit(m.data),this.userObj=null!==(v=m.data)&&void 0!==v?v:{},this.successStatusObj("lang_auto_cap_nhat_thong_tin_thanh_cong",!0)):this.errorStatusObj(null!==(x=m.message)&&void 0!==x?x:"",!0)}))}}initData(){let t=this.userObj.birthday?new Date(this.userObj.birthday):new Date(1990,1,1);this.form.patchValue({fullName:this.userService.isAnonymousName(this.userObj)?"":this.userObj.fullName,email:this.userObj.email?this.userObj.email:"",phone:this.userObj.phone?this.userObj.phone:"",gender:1!=this.userObj.gender?"0":"1"}),this.form.controls.birthday.setValue(t)}getErrorType(t,o){var i,c,_,m,v,x;return!(null===(_=null===(c=null===(i=this.form.controls)||void 0===i?void 0:i[t])||void 0===c?void 0:c.errors)||void 0===_||!_[o])&&(null===(x=null===(v=null===(m=this.form.controls)||void 0===m?void 0:m[t])||void 0===v?void 0:v.errors)||void 0===x?void 0:x[o])}goToConfirm(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1);var t="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=change_phone";this.commonService.myNavigationWithQueryString("/auth/checking_service",t)}goToConfirmEmail(){this.returnUrl="/auth/account-setting/"+(this.isTeacherDashboard?0:1);var t="?return_url="+encodeURIComponent(this.returnUrl);this.commonService.myNavigationWithQueryString("/auth/change-email",t)}checkEnableChangeEmailOrPhone(t,o){if("email"==o){if(!t||!t.match(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/))return!0}else if("phone"==o&&(!t||t.length>15))return!0;return!1}ngOnInit(){this.form=this.formBuilder.group({fullName:new g.p4("",[g.kI.required,Ae._.noWhiteSpace]),gender:new g.p4(""),birthday:new g.p4(""),phone:new g.p4("",[g.kI.pattern("^[0-9]{10}$")]),email:new g.p4("",[g.kI.email,g.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)])}),this.initData(),this.form.valueChanges.subscribe(t=>{let o=JSON.stringify(t);o!=this.prevData&&(this.prevData=o,this.form.patchValue(t))}),this.checkSchoolInfo(),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(g.QS),e.Y36(Z.$C),e.Y36(Et.K),e.Y36(F._),e.Y36(A.uU),e.Y36(C.uw),e.Y36(ii.$),e.Y36(Z.Tt))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-general"]],inputs:{userObj:"userObj",isTeacherDashboard:"isTeacherDashboard"},outputs:{saveUserObj:"saveUserObj"},features:[e._Bn([A.uU,{provide:H.fM,useClass:Ee.HF,deps:[W.Ad,Ee.o8]},{provide:H.ab,useValue:oi.ws},{provide:L.o2,useValue:{floatLabel:"never"}}]),e.qOj],decls:98,vars:61,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"avatar","flex","items-center"],[1,"w-24","h-24","image-fit"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"ml-4","mr-auto"],[1,"font-medium","text-base","cursor-pointer","relative"],["type","file","multiple","","accept","image/*;capture=camera",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"],["fileCapture",""],[1,"btn","btn-sm","btn-outline-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","17 8 12 3 7 8"],["x1","12","y1","3","x2","12","y2","15"],[1,"text-slate-500","mt-1"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12","lg:col-span-6"],["for","azt-acs-fullname",1,"form-label","font-medium"],["id","azt-acs-fullname","type","text","formControlName","fullName",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","azt-asc-time-picker",1,"form-label","font-medium"],[1,"azt-time-picker"],["matInput","","id","azt-asc-time-picker","formControlName","birthday","readonly","",1,"form-birthday","bg-white",3,"placeholder","ngxMatDatetimePicker","click"],["matSuffix","",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","lucide"],["x","3","y","4","width","18","height","18","rx","2","ry","2"],["x1","16","y1","2","x2","16","y2","6"],["x1","8","y1","2","x2","8","y2","6"],["x1","3","y1","10","x2","21","y2","10"],["d","M8 14h.01"],["d","M12 14h.01"],["d","M16 14h.01"],["d","M8 18h.01"],["d","M12 18h.01"],["d","M16 18h.01"],[3,"hideTime"],["birthDay",""],[1,"col-span-12"],[1,"form-label","font-medium"],[1,"text-md","flex","items-center"],["type","text","readonly","",1,"form-control","mr-2",3,"value"],[1,"w-24","btn","btn-outline-secondary",3,"click"],["d","M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"],["d","M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"],["for","",1,"form-label","font-medium"],["type","text","class","form-control mr-2 mb-1","formControlName","email","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","email",3,"placeholder",4,"ngIf"],["style","color: red;",4,"ngIf"],["class","clickable text-info","style","font-size: 13px;  color: blue; padding-left: 5px;",3,"click",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone","readonly","",4,"ngIf"],["type","text","class","form-control mr-2 mb-1","formControlName","phone",3,"placeholder",4,"ngIf"],["class","clickable text-info","style","font-size: 13px; color: blue; padding-left: 5px;",3,"click",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","border","border-slate-200","dark:border-darkmode-300","p-2","rounded-md"],[1,"form-check","w-24","mr-2"],["id","azt-acs-gender-male","formControlName","gender","type","radio","value","1",1,"form-check-input"],["for","azt-acs-gender-male",1,"form-check-label"],["id","azt-acs-gender-female","type","radio","formControlName","gender","value","0",1,"form-check-input"],["for","azt-acs-gender-female",1,"form-check-label"],[1,"text-right","mt-5"],[1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],["style","position: fixed; left: 0; top: 0; z-index: 9999; background: #303030b0; width: 100%; height: 100%; padding: 20px;",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],["type","text","formControlName","email","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","email",1,"form-control","mr-2","mb-1",3,"placeholder"],[2,"color","red"],[4,"ngIf"],[1,"clickable","text-info",2,"font-size","13px","color","blue","padding-left","5px",3,"click"],["type","text","formControlName","phone","readonly","",1,"form-control","mr-2","mb-1"],["type","text","formControlName","phone",1,"form-control","mr-2","mb-1",3,"placeholder"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[2,"position","fixed","left","0","top","0","z-index","9999","background","#303030b0","width","100%","height","100%","padding","20px"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"font-medium","text-base","mr-auto"],[1,"modal-body",2,"max-height","430px","overflow-y","auto"],[1,"img-container"],["class","profile-img",3,"click",4,"ngIf"],[3,"imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","cropperMinWidth","imageCropped","loadImageFailed"],[1,"modal-footer"],["control-id","ControlID-2",1,"btn","btn-secondary","w-24","mr-2",3,"click"],["id","crop-button","control-id","ControlID-3",1,"btn","btn-primary","w-24",3,"click"],[1,"profile-img",3,"click"],[1,"text-center","relative"],[1,"text-danger"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block"],["d","m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"],["x1","12","y1","9","x2","12","y2","13"],["x1","12","y1","17","x2","12.01","y2","17"],[1,"text-primary","mr-1","cursor-pointer",3,"click"],["accept","image/*;capture=camera","type","file",1,"w-full","h-full","top-0","left-0","absolute","opacity-0","cursor-pointer",3,"change"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3),e._UZ(4,"azt-create-avatar",4),e.qZA(),e.TgZ(5,"div",5)(6,"div",6)(7,"input",7,8),e.NdJ("change",function(_){return o.fileChangeEvent(_)}),e.qZA(),e.TgZ(9,"button",9),e.NdJ("click",function(_){return o.fileChangeEvent(_)}),e.O4$(),e.TgZ(10,"svg",10),e._UZ(11,"path",11)(12,"polyline",12)(13,"line",13),e.qZA(),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(16,"div",14),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()(),e.TgZ(19,"div",15)(20,"div",16)(21,"label",17),e._uU(22),e.ALo(23,"mytranslate"),e.qZA(),e._UZ(24,"input",18),e.ALo(25,"mytranslate"),e.YNc(26,io,3,3,"div",19),e.qZA(),e.TgZ(27,"div",16)(28,"label",20),e._uU(29),e.ALo(30,"mytranslate"),e.qZA(),e.TgZ(31,"mat-form-field",21)(32,"input",22),e.NdJ("click",function(){e.CHM(i);const _=e.MAs(47);return e.KtG(_.open())}),e.ALo(33,"mytranslate"),e.qZA(),e.TgZ(34,"button",23),e.NdJ("click",function(_){return e.CHM(i),e.MAs(47).open(),e.KtG(_.stopPropagation())}),e.O4$(),e.TgZ(35,"svg",24),e._UZ(36,"rect",25)(37,"line",26)(38,"line",27)(39,"line",28)(40,"path",29)(41,"path",30)(42,"path",31)(43,"path",32)(44,"path",33)(45,"path",34),e.qZA()(),e.kcU(),e.TgZ(46,"ngx-mat-datetime-picker",35,36),e.YNc(48,ro,2,0,"ng-template"),e.qZA()()(),e.TgZ(49,"div",37)(50,"label",38),e._uU(51),e.ALo(52,"mytranslate"),e.qZA(),e.TgZ(53,"div",39),e._UZ(54,"input",40),e.TgZ(55,"button",41),e.NdJ("click",function(){return o.openDialogInfoSchool()}),e.O4$(),e.TgZ(56,"svg",10),e._UZ(57,"path",42)(58,"path",43),e.qZA(),e._uU(59),e.ALo(60,"mytranslate"),e.qZA()()(),e.kcU(),e.TgZ(61,"div",16)(62,"label",44),e._uU(63),e.ALo(64,"mytranslate"),e.qZA(),e.YNc(65,ai,1,0,"input",45),e.YNc(66,si,2,3,"input",46),e.YNc(67,Pt,2,1,"div",47),e.YNc(68,Mt,3,3,"a",48),e.qZA(),e.TgZ(69,"div",16)(70,"label",44),e._uU(71),e.ALo(72,"mytranslate"),e.qZA(),e.YNc(73,st,1,0,"input",49),e.YNc(74,Ut,2,3,"input",50),e.YNc(75,Qt,2,1,"div",47),e.YNc(76,Ge,4,6,"a",51),e.qZA(),e.TgZ(77,"div",16)(78,"label",44),e._uU(79),e.ALo(80,"mytranslate"),e.qZA(),e.TgZ(81,"div",52)(82,"div",53),e._UZ(83,"input",54),e.TgZ(84,"label",55),e._uU(85),e.ALo(86,"mytranslate"),e.qZA()(),e.TgZ(87,"div",53),e._UZ(88,"input",56),e.TgZ(89,"label",57),e._uU(90),e.ALo(91,"mytranslate"),e.qZA()()()()(),e.TgZ(92,"div",58)(93,"button",59),e.NdJ("click",function(){return o.changeInfo()}),e.YNc(94,Nt,6,0,"svg",60),e._uU(95),e.ALo(96,"mytranslate"),e.qZA()()()(),e.YNc(97,Ft,18,15,"div",61)}if(2&t){const i=e.MAs(47);e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(3),e.Q6J("linkAvatar",o.userObj.avatar)("nameCreateAvatar",o.userObj.fullName)("size",96),e.xp6(10),e.hij(" ",e.lcZ(15,33,"lang_auto_tai_len")," "),e.xp6(3),e.hij(" ",e.lcZ(18,35,"lang_auto_tai_anh_jpg_hoac_png_kich_thuoc_toi_da_5mb")," "),e.xp6(5),e.hij(" ",e.lcZ(23,37,"lang_auto_ho_va_ten")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(25,39,"lang_auto_nhap_ho_va_ten")+"..."),e.xp6(2),e.Q6J("ngIf",o.form.controls.fullName.errors),e.xp6(3),e.Oqu(e.lcZ(30,41,"lang_auto_ngay_sinh")),e.xp6(3),e.s9C("placeholder",e.lcZ(33,43,"lang_auto_ngay_sinh")),e.Q6J("ngxMatDatetimePicker",i),e.xp6(14),e.Q6J("hideTime",!0),e.xp6(5),e.Oqu(e.lcZ(52,45,"lang_auto_thong_tin_truong")),e.xp6(3),e.s9C("value",o.infoSchool.name),e.xp6(5),e.hij(" ",e.lcZ(60,47,"lang_auto_sua")," "),e.xp6(4),e.hij(" ",e.lcZ(64,49,"lang_auto_email")," "),e.xp6(2),e.Q6J("ngIf",o.userObj.email),e.xp6(1),e.Q6J("ngIf",!o.userObj.email),e.xp6(1),e.Q6J("ngIf",o.form.controls.email.invalid&&o.form.controls.email.dirty),e.xp6(1),e.Q6J("ngIf",o.userObj.email),e.xp6(3),e.hij(" ",e.lcZ(72,51,"lang_auto_so_dien_thoai")," "),e.xp6(2),e.Q6J("ngIf",o.userObj.phone),e.xp6(1),e.Q6J("ngIf",!o.userObj.phone),e.xp6(1),e.Q6J("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),e.xp6(1),e.Q6J("ngIf",o.userObj.phone),e.xp6(3),e.hij(" ",e.lcZ(80,53,"lang_auto_gioi_tinh")," "),e.xp6(6),e.hij(" ",e.lcZ(86,55,"lang_auto_nam")," "),e.xp6(5),e.hij(" ",e.lcZ(91,57,"lang_auto_nu")," "),e.xp6(3),e.Q6J("disabled",o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(96,59,"lang_auto_cap_nhat")," "),e.xp6(2),e.Q6J("ngIf",o.imageChangedEvent)}},dependencies:[A.O5,g._Y,g.Fj,g._,g.JJ,g.JL,L.KE,L.R9,oo.Nt,H.AB,H.g2,g.sg,g.u,ri.t,te.M,ue.ap,w.bT],styles:[".source-image{\n    margin: auto !important;\n  }\n  .modal-dialog[_ngcontent-%COMP%]{\n    max-width: 500px;\n    margin: auto;\n  }"]}),n})();function li(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function ui(n,s){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,li,3,3,"span",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.oldPassword.errors.required)}}function jt(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function di(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Dt(n,s){if(1&n&&(e.TgZ(0,"div",14),e.YNc(1,jt,3,3,"span",15),e.YNc(2,di,3,3,"span",15),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.newPassword.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.newPassword.errors.minlength)}}function ao(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",16)(1,"g",17)(2,"g",18),e._UZ(3,"circle",19),e.TgZ(4,"path",20),e._UZ(5,"animateTransform",21),e.qZA()()()())}let so=(()=>{class n extends N.Q{constructor(t,o,i){super(t),this.commonService=t,this.formBuilder=o,this.userInfoService=i,this.form=new g.nJ({})}changeInfo(){if(this.form.valid){let t=this.commonService.getFormObj(this.form),o={password:t.newPassword,oldPassword:t.oldPassword};this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoUpdateInfoPost(o).subscribe(i=>{var c;1==i.success?this.successStatusObj("lang_auto_cap_nhat_mat_khau_thanh_cong",!0):this.errorStatusObj(null!==(c=i.message)&&void 0!==c?c:"",!0)}))}}forgotPassword(){this.commonService.gaEvent("sign_in_forgot_password");var t="?return_url="+encodeURIComponent("/auth/account-setting/0");this.commonService.myNavigationWithQueryString("/auth/confirm_forgot_password",t)}ngOnInit(){this.form=this.formBuilder.group({oldPassword:new g.p4("",[g.kI.required]),newPassword:new g.p4("",[g.kI.required,g.kI.minLength(6)])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(g.QS),e.Y36(Z.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-password"]],features:[e.qOj],decls:28,vars:26,consts:[[1,"intro-x","box","p-5"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","old-password",1,"form-label","font-medium"],["id","old-password","type","password","formControlName","oldPassword",1,"form-control",3,"placeholder"],[1,"leading-relaxed","text-slate-500","text-xs","mt-2"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],["for","new-password",1,"form-label","font-medium"],["id","new-password","type","password","formControlName","newPassword",1,"form-control",3,"placeholder"],[1,"flex","mt-5","items-center"],[1,"text-primary","font-medium","inline-block","mr-auto",3,"click"],[1,"btn","w-32","btn-primary",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[4,"ngIf"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e._UZ(7,"input",5),e.ALo(8,"mytranslate"),e.TgZ(9,"div",6),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.YNc(12,ui,2,1,"div",7),e.qZA(),e.TgZ(13,"div",3)(14,"label",8),e._uU(15),e.ALo(16,"mytranslate"),e.qZA(),e._UZ(17,"input",9),e.ALo(18,"mytranslate"),e.YNc(19,Dt,3,2,"div",7),e.qZA()(),e.TgZ(20,"div",10)(21,"a",11),e.NdJ("click",function(){return o.forgotPassword()}),e._uU(22),e.ALo(23,"mytranslate"),e.qZA(),e.TgZ(24,"button",12),e.NdJ("click",function(){return o.changeInfo()}),e.YNc(25,ao,6,0,"svg",13),e._uU(26),e.ALo(27,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.hij(" ",e.lcZ(6,12,"lang_auto_mat_khau_hien_tai")," "),e.xp6(2),e.s9C("placeholder",e.lcZ(8,14,"lang_auto_nhap_mat_khau")+"..."),e.xp6(3),e.hij(" ",e.lcZ(11,16,"lang_auto_ban_can_nhap_mat_khau_hien_tai_de_co_the_doi_mat_khau_moi")," "),e.xp6(2),e.Q6J("ngIf",o.form.controls.oldPassword.errors&&(o.form.controls.oldPassword.dirty||o.form.controls.oldPassword.touched)),e.xp6(3),e.Oqu(e.lcZ(16,18,"lang_auto_mat_khau_moi")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,20,"lang_auto_nhap_mat_khau")+"..."),e.xp6(2),e.Q6J("ngIf",o.form.controls.newPassword.errors&&(o.form.controls.newPassword.dirty||o.form.controls.newPassword.touched)),e.xp6(3),e.Oqu(e.lcZ(23,22,"lang_auto_quen_mat_khau")),e.xp6(2),e.Q6J("disabled",o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(27,24,"lang_auto_cap_nhat")," "))},dependencies:[A.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,te.M,w.bT],encapsulation:2}),n})();function _i(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_email")," "))}function gi(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function Bt(n,s){if(1&n&&(e.TgZ(0,"div",8),e.YNc(1,_i,3,3,"span",1),e.YNc(2,gi,3,3,"span",1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.email||t.form.controls.email.errors.pattern)}}function pi(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"form",2)(2,"div",3)(3,"div",4)(4,"label",5),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e._UZ(7,"input",6),e.ALo(8,"mytranslate"),e.YNc(9,Bt,3,2,"div",7),e.TgZ(10,"div",8)(11,"span"),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()()(),e.TgZ(14,"div",9)(15,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeEmail())}),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(4),e.Oqu(e.lcZ(6,7,"lang_auto_email")),e.xp6(2),e.s9C("placeholder",e.lcZ(8,9,"lang_auto_nhap_email_moi")),e.xp6(2),e.Q6J("ngIf",t.form.controls.email.errors&&(t.form.controls.email.dirty||t.form.controls.email.touched)),e.xp6(3),e.Oqu(e.lcZ(13,11,t.statusObj.errorMessage)),e.xp6(3),e.Q6J("disabled",t.form.invalid),e.xp6(1),e.hij(" ",e.lcZ(17,13,"lang_auto_tiep_tuc")," ")}}function Jt(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",11),e.O4$(),e.TgZ(2,"svg",12),e._UZ(3,"path",13)(4,"path",14)(5,"path",15),e.qZA(),e.kcU(),e.TgZ(6,"p",16),e._uU(7),e.ALo(8,"mytranslate"),e.TgZ(9,"b"),e._uU(10),e.qZA(),e._uU(11),e.ALo(12,"mytranslate"),e.qZA()(),e.TgZ(13,"div",17),e._UZ(14,"div",18),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(7),e.hij(" ",e.lcZ(8,3,"lang_auto_vui_long_kiem_tra_email"),": "),e.xp6(3),e.Oqu(t.oldEmail),e.xp6(1),e.hij(" ",e.lcZ(12,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}let zt=(()=>{class n extends N.Q{constructor(t,o,i){super(t),this.commonService=t,this.formBuilder=o,this.userInfoService=i,this.form=new g.nJ({}),this.step=1,this.oldEmail=""}changeEmail(){this.form.valid&&(this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoChangeEmailPost({newEmail:this.form.controls.email.value}).subscribe(o=>{var i,c,_;1==o.success?(this.oldEmail=null!==(c=null===(i=o.data)||void 0===i?void 0:i.value)&&void 0!==c?c:"",this.successStatusObj(),this.step=2):this.errorStatusObj(null!==(_=o.message)&&void 0!==_?_:"")})))}ngOnInit(){this.form=this.formBuilder.group({email:new g.p4("",[g.kI.required,g.kI.email,g.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)])})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(g.QS),e.Y36(Z.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["setting-email"]],features:[e.qOj],decls:3,vars:2,consts:[[1,"intro-x","box","p-5"],[4,"ngIf"],[3,"formGroup"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","regular-form-1",1,"form-label","font-medium"],["id","regular-form-1","type","text","formControlName","email",1,"form-control",3,"placeholder"],["class","text-danger text-xs mt-2 fade",4,"ngIf"],[1,"text-danger","text-xs","mt-2","fade"],[1,"text-right","mt-5"],[1,"btn","w-32","btn-primary",3,"disabled","click"],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","lucide-check-circle","w-16","h-16","text-success","mx-auto","mt-3"],["d","M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"],["d","m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"],["d","m16 19 2 2 4-4"],[1,"text-slate-500","mt-3"],[1,"row"],[1,"col-md-12"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,pi,18,15,"ng-container",1),e.YNc(2,Jt,15,7,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading&&2==o.step))},dependencies:[A.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,te.M,w.bT],encapsulation:2}),n})();function hi(n,s){if(1&n&&(e.TgZ(0,"teacher-layout",2),e.GkF(1,3),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(3);e.Q6J("headerBackTolink",t.backLink),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function Yt(n,s){if(1&n&&(e.TgZ(0,"student-layout",2),e.GkF(1,3),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(3);e.Q6J("headerBackTolink",t.backLink),e.xp6(1),e.Q6J("ngTemplateOutlet",o)}}function co(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"setting-general",22),e.NdJ("saveUserObj",function(i){e.CHM(t);const c=e.oxw(2);return e.KtG(c.saveUserObjData(i))}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("userObj",t.userObj)("isTeacherDashboard",t.isTeacherDashboard)}}function mi(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"setting-password"),e.qZA())}function Gt(n,s){1&n&&(e.TgZ(0,"div",23)(1,"div",24)(2,"div",25)(3,"label",26),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e._UZ(6,"input",27),e.ALo(7,"mytranslate"),e.qZA()(),e.TgZ(8,"div",28)(9,"button",29),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,3,"lang_auto_nhap_so_dien_thoai_moi")),e.xp6(2),e.s9C("placeholder",e.lcZ(7,5,"lang_auto_nhap_so_dien_thoai")),e.xp6(4),e.hij(" ",e.lcZ(11,7,"lang_auto_tiep_tuc")," "))}function lo(n,s){1&n&&(e.TgZ(0,"div",30),e._UZ(1,"setting-email"),e.qZA())}const uo=function(n){return{"bg-primary text-white font-medium":n}};function fi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()(),e.TgZ(6,"div",8)(7,"div",9)(8,"div",10)(9,"button",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changModeView("general"))}),e.O4$(),e.TgZ(10,"svg",12),e._UZ(11,"path",13)(12,"circle",14),e.qZA(),e._uU(13),e.ALo(14,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(15,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changModeView("password"))}),e.O4$(),e.TgZ(16,"svg",12),e._UZ(17,"rect",16)(18,"path",17),e.qZA(),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()()()(),e.kcU(),e.TgZ(21,"div",18),e.YNc(22,co,2,2,"div",19),e.YNc(23,mi,2,0,"div",19),e.YNc(24,Gt,12,9,"div",20),e.YNc(25,lo,2,0,"div",21),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,9,"lang_auto_cai_dat_tai_khoan")," "),e.xp6(5),e.Q6J("ngClass",e.VKq(15,uo,"general"==t.modeView)),e.xp6(4),e.hij(" ",e.lcZ(14,11,"lang_auto_chung")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(17,uo,"password"==t.modeView)),e.xp6(4),e.hij(" ",e.lcZ(20,13,"lang_auto_doi_mat_khau")," "),e.xp6(3),e.Q6J("ngIf","general"==t.modeView),e.xp6(1),e.Q6J("ngIf","password"==t.modeView),e.xp6(1),e.Q6J("ngIf","phone"==t.modeView),e.xp6(1),e.Q6J("ngIf","email"==t.modeView)}}let vi=(()=>{class n extends N.Q{constructor(t,o,i,c,_,m){super(t),this.commonService=t,this.baseApiService=o,this.redirectService=i,this.dialog=c,this.activeRoute=_,this.mobileWebviewService=m,this.userObj={},this.prevData="",this.returnUrl="",this.backLink="",this.modeView="general",this.isTeacherDashboard=!1}changModeView(t){this.modeView=t}getInfo(){this.userObj=this.baseApiService.getUserObj()}saveUserObjData(t){this.userObj=t}ngOnInit(){this.baseApiService.isAnonymousRole()?this.redirectService.redirectSimpleRegister():(this.getInfo(),this.commonService.translateMetaData({title:"lang_cms_auth_change_info_title",description:"lang_cms_auth_change_info_description",image:"lang_cms_test_image"}),super.ngOnInit()),this.mobileWebviewService.sendComponentLoaded("account_setting_done"),this.isTeacherDashboard=0==Number(this.commonService.getMyParam(this.activeRoute,"dashboardType")),this.backLink=this.isTeacherDashboard?"/admin/dashboard":"student/dashboard"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(F._),e.Y36(q.V),e.Y36(C.uw),e.Y36(O.gz),e.Y36(Q.F))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-account-setting"]],features:[e.qOj],decls:4,vars:2,consts:[[3,"headerBackTolink",4,"ngIf"],["MainContentTpl",""],[3,"headerBackTolink"],[3,"ngTemplateOutlet"],[1,"account-setting","mx-auto"],[1,"grid","grid-cols-12","gap-5","mt-8"],[1,"col-span-12"],[1,"intro-y","text-lg","font-medium","mr-auto"],[1,"col-span-12","lg:col-span-3","2xl:col-span-2"],[1,"intro-y","box","p-5"],[1,"mt-1"],[1,"flex","items-center","px-3","py-2","rounded-md","w-full",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"flex","items-center","px-3","py-2","mt-2","rounded-md","w-full",3,"ngClass","click"],["x","3","y","11","width","18","height","11","rx","2","ry","2"],["d","M7 11V7a5 5 0 0 1 10 0v4"],[1,"col-span-12","lg:col-span-9","2xl:col-span-10"],[4,"ngIf"],["class","intro-x box p-5",4,"ngIf"],["class","",4,"ngIf"],[3,"userObj","isTeacherDashboard","saveUserObj"],[1,"intro-x","box","p-5"],[1,"grid","grid-cols-12","gap-5"],[1,"col-span-12","lg:col-span-6"],["for","regular-form-1",1,"form-label","font-medium"],["id","regular-form-1","type","text",1,"form-control",3,"placeholder"],[1,"text-right","mt-3"],[1,"btn","w-32","btn-primary"],[1,""]],template:function(t,o){1&t&&(e.YNc(0,hi,2,2,"teacher-layout",0),e.YNc(1,Yt,2,2,"student-layout",0),e.YNc(2,fi,26,19,"ng-template",null,1,e.W1O)),2&t&&(e.Q6J("ngIf",o.isTeacherDashboard),e.xp6(1),e.Q6J("ngIf",!o.isTeacherDashboard))},dependencies:[A.mk,A.O5,A.tP,I._,Y.L,ci,so,zt,w.bT],encapsulation:2}),n})();var Ze=f(47423),Me=f(25245);function Vt(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_email")," "))}function yi(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_email_phai_nhap_dung_dinh_dang")," "))}function Kt(n,s){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,Vt,3,3,"div",11),e.YNc(2,yi,3,3,"div",11),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.email.errors.email||t.form.controls.email.errors.pattern)}}function bi(n,s){if(1&n&&(e.TgZ(0,"div",28)(1,"label",29),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function Ht(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",30),e._uU(2,"\xa0"),e.qZA())}function xi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"form",15)(2,"div",16)(3,"div",17)(4,"div",18)(5,"div",19)(6,"span",20)(7,"mat-icon"),e._uU(8,"email_outlined"),e.qZA()()(),e._UZ(9,"input",21),e.ALo(10,"mytranslate"),e.qZA(),e.YNc(11,Kt,3,2,"div",22),e.qZA()(),e.YNc(12,bi,4,3,"div",23),e.TgZ(13,"div",16)(14,"div",17)(15,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmEmail())}),e.YNc(16,Ht,3,0,"span",11),e._uU(17),e.ALo(18,"mytranslate"),e.qZA(),e.TgZ(19,"div",25)(20,"a",26),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.backToRedirect())}),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form),e.xp6(8),e.s9C("placeholder",e.lcZ(10,8,"lang_auto_nhap_email_moi")),e.xp6(2),e.Q6J("ngIf",t.form.controls.email.errors&&t.form.controls.email.dirty),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(3),e.Q6J("disabled",t.statusObj.loading||t.form.invalid),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(18,10,"lang_auto_tiep_tuc")," "),e.xp6(4),e.Oqu(e.lcZ(22,12,"lang_auto_bo_qua"))}}function $t(n,s){if(1&n&&(e.TgZ(0,"div")(1,"div",16)(2,"div",17)(3,"p",6),e._uU(4),e.ALo(5,"mytranslate"),e.TgZ(6,"b"),e._uU(7),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(4),e.hij(" ",e.lcZ(5,3,"lang_auto_vui_long_kiem_tra_email"),": "),e.xp6(3),e.Oqu(t.oldEmail),e.xp6(1),e.hij(" ",e.lcZ(9,5,"lang_auto_va_an_vao_duong_link_he_thong_da_gui_de_xac_thuc_hoan_tat_viec_doi_email")," ")}}let Ai=(()=>{class n extends N.Q{constructor(t,o,i,c){super(o),this.baseApiService=t,this.commonService=o,this.formBuilder=i,this.userInfoService=c,this.form=new g.nJ({}),this.step=1,this.oldEmail=""}ignoreRequest(){this.baseApiService.redirectLoginByRole("")}confirmEmail(){this.form.valid&&(this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoChangeEmailPost({newEmail:this.form.controls.email.value}).subscribe(o=>{var i,c,_;1==o.success?(this.oldEmail=null!==(c=null===(i=o.data)||void 0===i?void 0:i.value)&&void 0!==c?c:"",this.successStatusObj(),this.step=2):this.errorStatusObj(null!==(_=o.message)&&void 0!==_?_:"")})))}handleClickDashboard(){this.baseApiService.redirectLoginByRole("")}backToRedirect(){let t=this.getMyQueryParam("return_url");t&&this.myNavigation(t)}ngOnInit(){this.form=this.formBuilder.group({email:new g.p4("",[g.kI.required,g.kI.email,g.kI.pattern(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/)])}),this.commonService.translateMetaData({title:"lang_cms_auth_change_mail_title",description:"lang_cms_auth_change_mail_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F._),e.Y36(B.v),e.Y36(g.QS),e.Y36(Z.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-account"]],features:[e.qOj],decls:21,vars:11,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"--tw-shadow","none !important","background","transparent !important","margin-top","10vh"],[1,"modal-body"],[1,"col-sm-6"],["id","authForm",1,"card","box","m-2","p-2"],[1,"text-center"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body","mt-2"],[1,"card-body"],[4,"ngIf"],[1,"mt-2"],[1,"text-center","mb-2","mt-3"],[1,"text-normal","clickable",3,"click"],[3,"formGroup"],[1,"row"],[1,"col-md-12"],[1,"input-group","mb-3"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["type","text","name","email","formControlName","email",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],["mat-raised-button","",1,"btn-azt-primary",2,"width","100%",3,"disabled","click"],[1,"mt-3","text-center"],[1,"clickable",3,"click"],[1,"alert","alert-danger"],[1,"form-group"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.ALo(8,"convertCdn"),e.TgZ(9,"h3",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9)(13,"div",10),e.YNc(14,xi,23,14,"div",11),e.YNc(15,$t,10,7,"div",11),e.qZA()(),e._UZ(16,"hr",12),e.TgZ(17,"div",13)(18,"a",14),e.NdJ("click",function(){return o.handleClickDashboard()}),e._uU(19),e.ALo(20,"mytranslate"),e.qZA()()()()()()()()),2&t&&(e.xp6(7),e.Q6J("src",e.lcZ(8,5,"azota_assets/images/logo.svg"),e.LSH),e.xp6(3),e.hij(" ",e.lcZ(11,7,"lang_auto_doi_email_moi")," "),e.xp6(4),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading&&2==o.step),e.xp6(4),e.Oqu(e.lcZ(20,9,"lang_auto_quay_lai_man_hinh_chinh")))},dependencies:[A.O5,g._Y,g.Fj,g.JJ,g.JL,Ze.lW,Me.Hw,g.sg,g.u,te.M,w.bT,w.BI],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}"]}),n})(),zr=(()=>{class n extends N.Q{constructor(t,o){super(t),this.commonService=t,this.userInfoService=o}get returnUrl(){var t;return null!==(t=this.commonService.getMyQueryParam("return_url"))&&void 0!==t?t:""}get confirm_type(){var t;return null!==(t=this.commonService.getMyQueryParam("confirm_type"))&&void 0!==t?t:""}ngOnInit(){this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(t=>{var o;if(1==t.success){let i=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+(null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.app);window.location.href=i.toString()}else this.showErrorSnack("lang_auto__blank_co_loi_khi_kiem_tra_dich_vu")})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(Z.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-checking-service"]],features:[e.qOj],decls:4,vars:3,consts:[[1,"mt-5","text-center"],["role","status",1,"spinner-border","spinner-border-md",2,"color","#2361ae"]],template:function(t,o){1&t&&(e.TgZ(0,"h2",0),e._UZ(1,"span",1),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&t&&(e.xp6(2),e.hij("\xa0 ",e.lcZ(3,1,"lang_auto_dang_kiem_tra_dich_vu_doing"),""))},dependencies:[w.bT],encapsulation:2}),n})();function Wt(n,s){1&n&&(e.TgZ(0,"div")(1,"div",15)(2,"div",16)(3,"span",17),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}let Yr=(()=>{class n extends N.Q{constructor(t,o,i){super(t),this.commonService=t,this.userInfoService=o,this.baseApiService=i}ngOnInit(){super.ngOnInit()}chooseRegisterStudent(){this.baseApiService.redirectLoginByRole("")}chooseRegisterTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{var o;1==t.success?this.baseApiService.redirectLoginByRole(""):this.errorStatusObj(null!==(o=t.message)&&void 0!==o?o:"",!0)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(Z.$C),e.Y36(F._))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-download-answer-sheet"]],features:[e.qOj],decls:28,vars:16,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"row","py-5"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body"],[4,"ngIf"],[1,"row",2,"justify-content","space-around"],[1,"col-sm-4","border-card","mb-3",3,"click"],[1,"df-logo"],[1,"fas","fa-graduation-cap","pb-3",2,"font-size","36px"],["width","36px","height","45px",1,"mb-3",3,"src"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.ALo(7,"convertCdn"),e.TgZ(8,"h3",7),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()(),e.TgZ(11,"div",8),e.YNc(12,Wt,6,3,"div",9),e.TgZ(13,"div",10)(14,"div",11),e.NdJ("click",function(){return o.chooseRegisterStudent()}),e.TgZ(15,"div",12),e._UZ(16,"i",13),e.TgZ(17,"p"),e._uU(18),e.ALo(19,"mytranslate"),e.qZA()()(),e.TgZ(20,"div",11),e.NdJ("click",function(){return o.chooseRegisterTeacher()}),e.TgZ(21,"div",12),e._UZ(22,"img",14),e.ALo(23,"convertCdn"),e.TgZ(24,"p"),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()()()()()()(),e._UZ(27,"div",2),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("src",e.lcZ(7,6,"azota_assets/images/logo.svg"),e.LSH),e.xp6(3),e.Oqu(e.lcZ(10,8,"lang_auto_chon_vai_tro")),e.xp6(3),e.Q6J("ngIf",o.statusObj.loading),e.xp6(6),e.Oqu(e.lcZ(19,10,"lang_auto_toi_la_hoc_sinh")),e.xp6(4),e.Q6J("src",e.lcZ(23,12,"azota_assets/images/teacher.png"),e.LSH),e.xp6(3),e.Oqu(e.lcZ(26,14,"lang_auto_toi_la_giao_vien")))},dependencies:[A.O5,w.bT,w.BI],styles:[".select-style[_ngcontent-%COMP%]{color:#868686!important}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}.select-style[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.select-style[_ngcontent-%COMP%]:hover, .select-style-active[_ngcontent-%COMP%]{color:#2361ae!important}.df-logo[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column}.register--login[_ngcontent-%COMP%]{width:88px;height:88px}.two-button[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:80%;height:100vh;margin:auto}.register-button[_ngcontent-%COMP%]{width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center}.btn-max-width[_ngcontent-%COMP%]{width:100%;padding-top:1.25rem;padding-bottom:1.25rem;font-size:1.5rem}.responsive__text[_ngcontent-%COMP%]{width:90%;margin-left:auto;margin-right:auto}.btn-outline-primary[_ngcontent-%COMP%]{color:#2361ae!important;border-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]{color:#fff!important;border-color:#2361ae!important;background-color:#2361ae!important}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0b818e!important}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#2361ae!important;border-color:#2361ae!important;background-color:#0eacbe26}.btn-border-fix[_ngcontent-%COMP%]{border-radius:10px!important}.border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0deg,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}.border-card[_ngcontent-%COMP%]:hover{box-shadow:10px 10px 20px #00000012,-10px -10px 20px #fffc}.button-color[_ngcontent-%COMP%]{background-color:#2361ae!important;color:#fff!important}"]}),n})();var Xt=f(64262);let Ci=(()=>{class n extends N.Q{constructor(t,o,i,c,_){super(t),this.commonService=t,this.userInfoService=o,this.baseApiService=i,this.localStorageObject=c,this.userService=_}getData(t){this.subscriptions.add(this.userInfoService.apiUserInfoConfirmPassFromEmailPost({secret:t}).subscribe(i=>{var c;1==i.success?(this.showSuccessSnack("lang_auto_doi_email_thanh_cong"),this.getInfo()):(this.errorStatusObj(null!==(c=i.message)&&void 0!==c?c:"",!0),this.myNavigation("/auth/login"))}))}getInfo(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoInfoGet().subscribe(t=>{var o,i;if(1==t.success){let c=null!==(o=t.data)&&void 0!==o?o:{};this.userService.saveUserObj(c),this.successStatusObj(),this.localStorageObject.clearAllCache(),this.baseApiService.redirectLoginByRole("")}else this.errorStatusObj(null!==(i=t.message)&&void 0!==i?i:"")}))}ignoreRequest(){this.baseApiService.redirectLoginByRole("")}confirmChangeEmail(){let t=this.commonService.getMyQueryParam("secret");t?this.getData(t):this.showErrorSnack("lang_auto_vui_long_truy_cap_link_duoc_gui_den_email_cua_ban")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(Z.$C),e.Y36(F._),e.Y36(Xt.L),e.Y36(Et.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-email"]],features:[e.qOj],decls:28,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["id","authForm",1,"box","p-3"],[1,"text-center"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],[1,"p-0","mt-2","mb-2"],[1,"card-body"],[1,"card-text"],[1,"flex","mt-3",2,"justify-content","space-between"],["mat-stroked-button","",2,"width","45%",3,"click"],["mat-stroked-button","",1,"btn-azt-primary",2,"width","45%","margin-left","15px",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.ALo(8,"convertCdn"),e.TgZ(9,"h3",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9)(13,"p",10),e._uU(14),e.ALo(15,"mytranslate"),e.ALo(16,"mytranslate"),e.ALo(17,"mytranslate"),e.ALo(18,"mytranslate"),e.ALo(19,"mytranslate"),e.qZA(),e.TgZ(20,"div",11)(21,"button",12),e.NdJ("click",function(){return o.ignoreRequest()}),e._uU(22),e.ALo(23,"mytranslate"),e.qZA(),e.TgZ(24,"button",13),e.NdJ("click",function(){return o.confirmChangeEmail()}),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()()()()(),e._UZ(27,"div",3),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("src",e.lcZ(8,9,"azota_assets/images/logo.svg"),e.LSH),e.xp6(3),e.hij(" ",e.lcZ(11,11,"lang_auto_xac_nhan_doi_email_moi")," "),e.xp6(4),e.xDo(" ",e.lcZ(15,13,"lang_auto_ban_vua_yeu_cau_thay_doi_email_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',e.lcZ(16,15,"lang_auto_xac_nhan"),'" ',e.lcZ(17,17,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',e.lcZ(18,19,"lang_auto_huy"),'" ',e.lcZ(19,21,"lang_auto_de_huy_bo_yeu_cau_nay")," "),e.xp6(8),e.hij(" ",e.lcZ(23,23,"lang_cms_common_close_btn")," "),e.xp6(3),e.hij(" ",e.lcZ(26,25,"lang_cms_common_confirm_btn")," "))},dependencies:[Ze.lW,w.bT,w.BI],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}"]}),n})();function en(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",12)(1,"div",13),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.ALo(6,"mytranslate"),e.ALo(7,"mytranslate"),e.qZA(),e.TgZ(8,"div",14)(9,"button",15),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.ignoreRequest())}),e._uU(10),e.ALo(11,"mytranslate"),e.qZA(),e.TgZ(12,"button",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmPassword())}),e._uU(13),e.ALo(14,"mytranslate"),e.qZA()()()}2&n&&(e.xp6(2),e.xDo(" ",e.lcZ(3,7,"lang_auto_ban_vua_yeu_cau_thay_doi_mat_khau_cho_tai_khoan_tren_azota_hay_bam_nut"),' "',e.lcZ(4,9,"lang_auto_xac_nhan"),'" ',e.lcZ(5,11,"lang_auto_ben_duoi_neu_do_la_ban_neu_khong_vui_long_bam_nut"),' "',e.lcZ(6,13,"lang_auto_huy"),'" ',e.lcZ(7,15,"lang_auto_de_huy_bo_yeu_cau_nay")," "),e.xp6(8),e.hij(" ",e.lcZ(11,17,"lang_cms_common_close_btn")," "),e.xp6(3),e.hij(" ",e.lcZ(14,19,"lang_cms_common_confirm_btn")," "))}function _o(n,s){1&n&&(e.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"span",19),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}const wi=function(n){return[n]},Ti=function(){return{user_click:"true"}};function Si(n,s){1&n&&(e.TgZ(0,"div",22)(1,"div",23),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"div",24)(5,"div",25)(6,"a",26),e.ALo(7,"localize"),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(2),e.hij(" ",e.lcZ(3,4,"lang_auto_mat_khau_moi_cua_ban_da_duoc_kich_hoat_thanh_cong")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(10,wi,e.lcZ(7,6,"/auth/login")))("queryParams",e.DdM(12,Ti)),e.xp6(2),e.Oqu(e.lcZ(9,8,"lang_auto_dang_nhap_tai_khoan")))}function Zi(n,s){if(1&n&&(e.TgZ(0,"div",22)(1,"div",27),e._uU(2),e.ALo(3,"mytranslate"),e.ALo(4,"mytranslate"),e.ALo(5,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.lnq(" ",e.lcZ(3,3,"lang_auto_da_co_loi_trong_qua_trinh_doi_mat_khau"),": ",e.lcZ(4,5,t.hasErrorMessage),"",e.lcZ(5,7,"lang_auto__vui_long_thu_lai_sau")," ")}}function tn(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Si,10,13,"div",20),e.YNc(2,Zi,6,9,"ng-template",null,21,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.hasErrorMessage)("ngIfElse",t)}}let go=(()=>{class n extends N.Q{constructor(t,o,i){super(o),this.baseApiService=t,this.commonService=o,this.smsService=i,this.form=new g.nJ({}),this.hasErrorMessage="",this.step=1}ignoreRequest(){this.baseApiService.redirectLoginByRole("")}confirmPassword(){var t;this.initStatusObj();var i={secret:null!==(t=this.commonService.getMyQueryParam("secret"))&&void 0!==t?t:""};this.step=2,this.smsService.apiSmsConfirmPassFromEmailPost(i).subscribe(c=>{var _;1==c.success?this.successStatusObj():(this.stopStatusObj(),this.hasErrorMessage=null!==(_=c.message)&&void 0!==_?_:"lang_core_invalid_data")})}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F._),e.Y36(B.v),e.Y36(Z.tr))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password-email"]],features:[e.qOj],decls:17,vars:7,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg","m-2"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],["id","authForm",1,"box","p-2"],[1,"text-center","mt-1"],[1,"h5"],[1,"card-body","mt-2"],["class","col-md-12",4,"ngIf"],[4,"ngIf"],[1,"col-md-12"],[1,"sms-info","alert","alert-warning","text-justify","m-2"],[1,"flex","mt-3","mb-2",2,"justify-content","space-between"],["mat-raised-button","",2,"width","45%","margin-right","15px",3,"click"],["mat-raised-button","","color","warn",2,"width","45%",3,"click"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["class","col-sm-12",4,"ngIf","ngIfElse"],["errorChangePass",""],[1,"col-sm-12"],[1,"sms-info","alert","alert-success"],[1,"text-center","mt-3"],[1,"mb-1"],[3,"routerLink","queryParams"],[1,"sms-info","alert","alert-danger"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7)(8,"span",8),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()(),e.TgZ(11,"div",9)(12,"div"),e.YNc(13,en,15,21,"div",10),e.qZA(),e.YNc(14,_o,6,3,"div",11),e.YNc(15,tn,4,2,"div",11),e.qZA()()(),e._UZ(16,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(8),e.Oqu(e.lcZ(10,5,"lang_auto_doi_mat_khau_moi")),e.xp6(4),e.Q6J("ngIf",1==o.step),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading&&2==o.step))},dependencies:[O.yS,A.O5,g._Y,g.JL,Ze.lW,g.sg,re.lO,w.bT],styles:['#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),n})();var nn=f(15867),Re=f(98937),ki=f(24096);let le=(()=>{class n{get windowRef(){return window}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Ii=["verifyCode"];function Oi(n,s){1&n&&(e.TgZ(0,"div",39),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij("*",e.lcZ(2,1,"lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu"),""))}function Li(n,s){if(1&n&&(e.TgZ(0,"div",37),e.YNc(1,Oi,3,3,"div",38),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.getErrorType("phone","required")||t.getErrorType("phone","minlength")||t.getErrorType("phone","maxlength")||t.getErrorType("phone","pattern"))}}function po(n,s){if(1&n&&(e.TgZ(0,"div",14)(1,"label",40),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function Ei(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"b",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.resendCode())}),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&n&&(e.xp6(1),e.hij("",e.lcZ(2,2,"lang_auto_khong_nhan_duoc_ma_xac_thuc")," "),e.xp6(3),e.Oqu(e.lcZ(5,4,"lang_auto_gui_lai")))}function on(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",42),e._uU(2,"\xa0"),e.qZA())}const Gr=function(n){return{"margin-left":n}};let rn=(()=>{class n extends N.Q{constructor(t,o,i,c,_,m,v){super(o),this.formBuilder=t,this.commonService=o,this.window=i,this.baseApiService=c,this.userInfoService=_,this.redirectService=m,this.browserStorageService=v,this.subscriptions=new ki.w,this.form=new g.nJ({}),this.confirm_type="forgot_password",this.isVerifying=!1,this.smsSent=!1,this.timeOut=60,this.captchaWidgetId="",this.isLoading=!0,this.app=(0,nn.ZF)(_e.N[`firebaseConfig_${this.firebaseApp}`],"confirm_account"),this.getAuthApp().useDeviceLanguage()}getInitApp(){return this.app}getAuthApp(){return(0,Re.v0)(this.app)}getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){var i,c;return!(null===(i=this.form.controls[t].errors)||void 0===i||!i[o])&&(null===(c=this.form.controls[t].errors)||void 0===c?void 0:c[o])}get firebaseApp(){var t;return null!==(t=this.commonService.getMyQueryParam("app_name"))&&void 0!==t?t:""}get returnUrl(){var t;return null!==(t=this.commonService.getMyQueryParam("return_url"))&&void 0!==t?t:""}getConfirmType(){var t;return null!==(t=this.commonService.getMyQueryParam("confirm_type"))&&void 0!==t?t:""}skipVerifyPhone(){var t,o=Math.round((new Date).getTime()/1e3);if(this.browserStorageService.saveSimpleStorage("skip_verify_phone",o.toString()),this.baseApiService.redirectLoginByRole(""),"confirm_phone_register"==this.getConfirmType())this.commonService.myNavigation("/admin/student/manage-class/0");else{let c=null!==(t=this.getMyQueryParam("return_url"))&&void 0!==t?t:"";this.commonService.myNavigation(c)}}handleConfirmUsage(){const t=this.form.value.phone;let o=this.getConfirmType();if(""!=t)switch(o){case"forgot_password":this.commonService.gaEvent("confirm_event_forgot_password"),this.userInfoService.apiUserInfoCheckPhoneExistsGet(t).subscribe(i=>{1==i.success?this.sendLoginCode("+84"+t.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())});break;case"change_phone":this.commonService.gaEvent("confirm_event_change_phone"),this.userInfoService.apiUserInfoCheckPhoneExistsGet(t).subscribe(i=>{1!=i.success?this.sendLoginCode("+84"+t.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())});break;default:this.commonService.gaEvent("confirm_event_confirm_phone"),this.userInfoService.apiUserInfoCheckUpdatePhoneExistsGet(t).subscribe(i=>{1!=i.success?this.sendLoginCode("+84"+t.slice(1)):(this.showErrorSnack("lang_auto_so_diem_thoai_chua_ton_tai_tren_he_thong"),this.reRenderCaptcha())})}else this.commonService.snackError("lang_auto_vui_long_nhap_so_dien_thoai",""),this.reRenderCaptcha()}sendLoginCode(t){const o=this.windowRef.recaptchaVerifier;(0,Re.$g)(this.getAuthApp(),t,o).then(i=>{this.windowRef.confirmationResult=i,this.smsSent=!0,this.timeOut=60,this.countDownTime()}).catch(i=>{console.log(i),"auth/quota-exceeded"==i.code?this.userInfoService.apiUserInfoFirebaseOverQuotaGet(this.firebaseApp).subscribe(c=>{1==c.success?this.userInfoService.apiUserInfoGetFirebaseConfigGet().subscribe(_=>{var m,v,x,k,R;if(1==_.success)if((null===(m=null==_?void 0:_.data)||void 0===m?void 0:m.app)!==this.firebaseApp){var J=this.commonService.getMyQueryParam("interval_app");if(J&&J!=(null===(v=null==_?void 0:_.data)||void 0===v?void 0:v.app)){J=J||(null!==(k=null===(x=null==_?void 0:_.data)||void 0===x?void 0:x.app)&&void 0!==k?k:"");let M=this.commonService.getLocalRouter("/auth/confirm_account")+"?return_url="+this.returnUrl+"&confirm_type="+this.confirm_type+"&app_name="+(null===(R=null==_?void 0:_.data)||void 0===R?void 0:R.app)+"&interval_app="+J;window.location.href=M.toString()}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN")}else this.showErrorSnack("OUT OF QUOTA FIREBASE, CONTACT ADMIN");else this.showErrorSnack("lang_auto_khong_lay_duoc_thong_tin_FirebaseApp")}):this.showErrorSnack("lang_auto_khong_danh_dau_duoc_firebase_het_quoata")}):(this.commonService.gaEvent("confirm_event_error_send_code"),this.smsSent=!1,this.showErrorSnack("lang_auto_co_loi_xay_ra_split_lang"+i.code))})}verify_code(t){this.windowRef.confirmationResult?(this.isVerifying=!0,this.windowRef.confirmationResult.confirm(t).then(o=>{this.isVerifying=!1;const i=o.user;let c=this.getConfirmType();"forgot_password"===c?this.commonService.myNavigationWithQueryString("/auth/set_new_password","?app_name="+this.firebaseApp+"&token="+encodeURIComponent(i.accessToken)):this.userInfoService.apiUserInfoUpdatePhoneOrPasswordByFirebasePost({firebaseToken:i.accessToken,password:"",appName:this.firebaseApp}).subscribe(m=>{1==m.success?(this.showSuccessSnack("lang_auto_cap_nhat_so_dien_thoai_thanh_cong"),"confirm_phone_register"==c?this.commonService.myNavigation("/admin/student/manage-class/0"):this.baseApiService.redirectLoginByRole("")):this.showErrorSnack("lang_auto_co_loi_xay_ra_split_lang"+m.message)})}).catch(o=>{console.log(o),this.isVerifying=!1,this.commonService.gaEvent("confirm_event_error_verify_code"),this.showErrorSnack("lang_auto_co_loi_xay_ra_split_lang"+o.code)})):(this.isVerifying=!1,this.showErrorSnack("lang_auto_ma_xac_thuc_khong_dung_vui_long_kiem_tra_lai"))}resendCode(){var t;this.reRenderCaptcha(),null===(t=document.getElementById("recaptcha-container"))||void 0===t||t.click()}countDownTime(){void 0!==this.myCountDown&&clearInterval(this.myCountDown),this.myCountDown=window.setInterval(()=>{this.timeOut>0&&this.timeOut--},1e3)}initForm(){this.form=this.formBuilder.group({phone:["",[g.kI.required,g.kI.minLength(10),g.kI.maxLength(10),g.kI.pattern(/^[0-9]*$/)]]})}handleClickLogout(){"forgot_password"==this.confirm_type||"change_phone"==this.confirm_type?this.baseApiService.redirectLoginByRole(""):(this.baseApiService.logout(),this.redirectService.redirectSimpleLogin())}reRenderCaptcha(){}handleEnterVerify(t,o){"Enter"==t.key&&(this.commonService.gaEvent("confirm_event_verify_code_by_press_enter"),this.verify_code(o))}ngOnInit(){this.initForm();let t=this.getConfirmType();switch(this.confirm_type=this.getConfirmType(),"forgot_password"!=t&&this.userInfoService.apiUserInfoInfoGet().subscribe(o=>{var i,c,_;1==o.success?1==(null===(i=null==o?void 0:o.new_user)||void 0===i?void 0:i.isVerifyPhone)?"change_phone"!=t&&this.baseApiService.redirectLoginByRole(""):(null===(c=null==o?void 0:o.new_user)||void 0===c?void 0:c.phone)&&(null===(_=null==o?void 0:o.new_user)||void 0===_?void 0:_.phone.length)<=10?this.form.setValue({phone:""}):(this.form.setValue({phone:""}),console.log("enter phone plz")):this.showErrorSnack(o.message?"lang_auto_co_loi_xay_ra_split_lang"+o.message:"")}),t){case"forgot_password":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"});break;case"change_phone":this.commonService.translateMetaData({title:"lang_cms_auth_confirm_change_phone_title",description:"lang_cms_auth_confirm_change_phone_description",image:"lang_cms_test_image"});break;default:this.commonService.translateMetaData({title:"lang_cms_auth_confirm_confirm_phone_title",description:"lang_cms_auth_confirm_confirm_phone_description",image:"lang_cms_test_image"})}super.ngOnInit()}ngAfterViewInit(){if(this.windowRef=this.window.windowRef,this.windowRef.recaptchaVerifier=new Re.lI("recaptcha-container",{size:"invisible",callback:()=>{this.handleConfirmUsage()}},this.getAuthApp()),this.windowRef.recaptchaVerifier.render().then(t=>{this.windowRef.recaptchaWidgetId=t}),this.verifyCode&&""!=this.verifyCode.nativeElement.value){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.addEventListener("keyup",o=>this.handleEnterVerify(o,t))}}ngOnDestroy(){if(clearInterval(this.myCountDown),this.verifyCode){let t=this.verifyCode.nativeElement.value;this.verifyCode.nativeElement.removeEventListener("keyup",o=>this.handleEnterVerify(o,t))}super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.QS),e.Y36(B.v),e.Y36(le),e.Y36(F._),e.Y36(Z.$C),e.Y36(q.V),e.Y36(K.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-account"]],viewQuery:function(t,o){if(1&t&&e.Gf(Ii,5),2&t){let i;e.iGM(i=e.CRH())&&(o.verifyCode=i.first)}},features:[e._Bn([le]),e.qOj],decls:66,vars:48,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"modal-dialog","modal-lg"],[1,"modal-content",2,"--tw-shadow","none !important","background","transparent !important","margin-top","10vh"],[1,"modal-body"],[1,"col-sm-6"],["id","authForm",1,"card","box","m-2","p-2"],[1,"text-center"],["alt","logo",2,"width","180px","margin","auto",3,"src"],[1,"p-0","mt-2"],[1,"card-body","mt-2"],["id","verify_wrap"],["id","enter_phone_area",3,"ngStyle"],["id","enter_phone_wrap"],[1,"form-horizontal",3,"formGroup"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["id","phoneInput","type","text","formControlName","phone","name","phone","autocomplete","off",1,"form-control",3,"placeholder"],["phoneInput",""],["class","p-2 pt-0 mb-2",4,"ngIf"],["id","recaptcha-container","color","primary","mat-raised-button","",3,"disabled"],[1,"mt-3","mb-2","text-center"],[1,"clickable",3,"click"],["class","form-group",4,"ngIf"],["id","verify_area",1,"form-group"],[1,"sms-info"],[2,"text-align","right","font-size","12px","margin-bottom","3px"],["class","mb-2 mt-2 resend-code",4,"ngIf"],["type","string","autocomplete","off",1,"form-control",3,"placeholder"],["verifyCode",""],[1,"input-group-append","ml-1"],["id","buttonVerify","mat-raised-button","","color","primary",3,"disabled","click"],[4,"ngIf"],[1,"text-center","mt-3"],[1,"text-normal","clickable",3,"click"],[1,"p-2","pt-0","mb-2"],["style","color: red;",4,"ngIf"],[2,"color","red"],[1,"col-sm-12","control-label","text-danger"],[1,"mb-2","mt-2","resend-code"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.ALo(8,"convertCdn"),e.TgZ(9,"h3",8),e._uU(10),e.ALo(11,"mytranslate"),e.ALo(12,"mytranslate"),e.qZA()(),e.TgZ(13,"div",9)(14,"div")(15,"div",10)(16,"div",11)(17,"div",12)(18,"form",13)(19,"div",14)(20,"div",15)(21,"div",16)(22,"div",17)(23,"span",18)(24,"mat-icon"),e._uU(25,"phone_outlined"),e.qZA()()(),e._UZ(26,"input",19,20),e.ALo(28,"mytranslate"),e.qZA(),e.YNc(29,Li,2,1,"div",21),e.TgZ(30,"button",22),e._uU(31),e.ALo(32,"mytranslate"),e.qZA(),e.TgZ(33,"div",23)(34,"a",24),e.NdJ("click",function(){return o.skipVerifyPhone()}),e._uU(35),e.ALo(36,"mytranslate"),e.qZA()()()()(),e.YNc(37,po,4,3,"div",25),e.qZA()(),e.TgZ(38,"div",26)(39,"div",15)(40,"div",27),e._uU(41),e.ALo(42,"mytranslate"),e.TgZ(43,"b"),e._uU(44),e.qZA(),e._uU(45),e.ALo(46,"mytranslate"),e.qZA(),e.TgZ(47,"div",28),e._uU(48),e.qZA(),e.YNc(49,Ei,6,6,"div",29),e.TgZ(50,"div",16),e._UZ(51,"input",30,31),e.ALo(53,"mytranslate"),e.TgZ(54,"div",32)(55,"button",33),e.NdJ("click",function(){e.CHM(i);const _=e.MAs(52);return e.KtG(o.verify_code(_.value))}),e.YNc(56,on,3,0,"span",34),e._uU(57),e.ALo(58,"mytranslate"),e.qZA()()()()()(),e._UZ(59,"hr"),e.TgZ(60,"div",35)(61,"a",36),e.NdJ("click",function(){return o.handleClickLogout()}),e._uU(62),e.ALo(63,"mytranslate"),e.ALo(64,"mytranslate"),e.ALo(65,"mytranslate"),e.qZA()()()()()()()()()()}if(2&t){const i=e.MAs(52);e.xp6(7),e.Q6J("src",e.lcZ(8,20,"azota_assets/images/logo.svg"),e.LSH),e.xp6(3),e.hij(" ","change_phone"==o.confirm_type?e.lcZ(11,22,"lang_auto_doi_so_diem_thoai_moi"):e.lcZ(12,24,"lang_auto_xac_thu_so_diem_thoai_cua_ban")," "),e.xp6(6),e.Q6J("ngStyle",e.VKq(46,Gr,o.smsSent?"-100%":"0")),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(8),e.s9C("placeholder",e.lcZ(28,26,"lang_auto_nhap_so_dien_thoai_moi")),e.xp6(3),e.Q6J("ngIf",o.form.controls.phone.invalid&&(o.form.controls.phone.dirty||o.form.controls.phone.touched)),e.xp6(1),e.Q6J("disabled",o.form.invalid),e.xp6(1),e.Oqu(e.lcZ(32,28,"lang_auto_tiep_tuc")),e.xp6(4),e.Oqu(e.lcZ(36,30,"lang_auto_bo_qua")),e.xp6(2),e.Q6J("ngIf",o.statusObj.errorMessage),e.xp6(4),e.hij(" ",e.lcZ(42,32,"lang_auto_mot_tin_nhan_chua_ma_xac_thuc_vua_duoc_gui_toi_so_dien_thoai")," "),e.xp6(3),e.Oqu(o.form.value.phone),e.xp6(1),e.hij("",e.lcZ(46,34,"lang_auto__vui_long_nhap_ma_nay_vao_o_duoi_day_roi_an_xac_thuc")," "),e.xp6(3),e.hij("",o.timeOut," s"),e.xp6(1),e.Q6J("ngIf",0==o.timeOut),e.xp6(2),e.s9C("placeholder",e.lcZ(53,36,"lang_auto_ma_xac_thuc")),e.xp6(4),e.Q6J("disabled",""==i.value||o.isVerifying),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(58,38,"lang_auto_xac_thuc")," "),e.xp6(5),e.hij(" ","forgot_password"==o.confirm_type?e.lcZ(63,40,"lang_auto_dang_nhap_tai_khoan"):"change_phone"==o.confirm_type?e.lcZ(64,42,"lang_auto_quay_lai_man_hinh_chinh"):e.lcZ(65,44,"lang_auto_dang_xuat")," ")}},dependencies:[A.O5,A.PC,g._Y,g.Fj,g.JJ,g.JL,Ze.lW,Me.Hw,g.sg,g.u,te.M,w.bT,w.BI],styles:["#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.input-group-text[_ngcontent-%COMP%]{border-right:0;border-top-left-radius:.25rem!important;border-bottom-left-radius:.25rem!important;background-color:#f3f4f524!important}"]}),n})();var Pi=f(75477);function Mi(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.switchModeUI("dark"))}),e.O4$(),e.TgZ(1,"svg",14),e._UZ(2,"path",15),e.qZA(),e.kcU(),e.TgZ(3,"span",16),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_che_de_toi")))}function an(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.switchModeUI("light"))}),e.O4$(),e.TgZ(1,"svg",14),e._UZ(2,"circle",17)(3,"path",18)(4,"path",19)(5,"path",20)(6,"path",21)(7,"path",22)(8,"path",23)(9,"path",24)(10,"path",25),e.qZA(),e.kcU(),e.TgZ(11,"span"),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()}2&n&&(e.xp6(12),e.Oqu(e.lcZ(13,1,"lang_auto_che_de_sang")))}const Vr=function(n){return[n]},Kr=["*"];let ct=(()=>{class n extends N.Q{constructor(t,o){super(t),this.commonService=t,this.browserStorageService=o,this.modeUI=""}switchModeUI(t){let o=document.getElementById("azota-app-html");this.modeUI=t,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(o.classList.remove("dark"),o.classList.add("light")):(o.classList.remove("light"),o.classList.add("dark"))}ngOnInit(){var t;super.ngOnInit(),this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":null!==(t=this.browserStorageService.getStorage("mode_ui"))&&void 0!==t?t:"light",this.switchModeUI(this.modeUI)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(K.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["auth-layout"]],features:[e.qOj],ngContentSelectors:Kr,decls:18,vars:10,consts:[[1,"azt-body",2,"padding","0"],[1,"flex"],[1,"content","relative",2,"padding","0","border-radius","0"],[1,"top-bar","py-2","px-3",2,"height","auto","z-index","0","border","none"],[1,"mr-auto"],[3,"routerLink"],["width","95px",3,"src"],[1,"mr-3"],[1,"mr-1"],["class","btn btn-transparent lg:text-slate-500",3,"click",4,"ngIf"],[1,"p-5","flex","items-center","w-full",2,"min-height","calc(100vh - 60px)"],[1,"p-5","box","mx-auto","w-full",2,"max-width","500px"],[1,"azt-content"],[1,"btn","btn-transparent","lg:text-slate-500",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5","mr-2"],["d","M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"],[1,""],["cx","12","cy","12","r","4"],["d","M12 2v2"],["d","M12 20v2"],["d","m4.93 4.93 1.41 1.41"],["d","m17.66 17.66 1.41 1.41"],["d","M2 12h2"],["d","M20 12h2"],["d","m6.34 17.66-1.41 1.41"],["d","m19.07 4.93-1.41 1.41"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),e.ALo(6,"mylocalize"),e._UZ(7,"img",6),e.ALo(8,"convertCdn"),e.qZA()(),e.TgZ(9,"div",7),e._UZ(10,"azt-switch-language"),e.qZA(),e.TgZ(11,"div",8),e.YNc(12,Mi,6,3,"button",9),e.YNc(13,an,14,3,"button",9),e.qZA()(),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12),e.Hsn(17),e.qZA()()()()()()),2&t&&(e.xp6(5),e.Q6J("routerLink",e.VKq(8,Vr,e.lcZ(6,4,"/"))),e.xp6(2),e.Q6J("src",e.lcZ(8,6,"azota_assets/images/logo.svg"),e.LSH),e.xp6(5),e.Q6J("ngIf","light"==o.modeUI),e.xp6(1),e.Q6J("ngIf","dark"==o.modeUI))},dependencies:[O.yS,A.O5,Pi.x,w.mp,w.bT,w.BI],encapsulation:2}),n})();function Hr(n,s){1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function lt(n,s){if(1&n&&(e.TgZ(0,"div",31)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.msgError)}}function $r(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",32),e._UZ(2,"path",33)(3,"circle",34),e.qZA()())}function Ui(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",32),e._UZ(2,"path",35)(3,"path",36)(4,"path",37)(5,"line",38),e.qZA()())}function qi(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")," "))}function Qi(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Ni(n,s){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,qi,3,3,"span",3),e.YNc(2,Qi,3,3,"span",3),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.minlength)}}function Ri(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",39)(1,"g",40)(2,"g",41),e._UZ(3,"circle",42),e.TgZ(4,"path",43),e._UZ(5,"animateTransform",44),e.qZA()()()())}const sn=function(n){return[n]},mo=function(){return{user_click:"true"}};function Fi(n,s){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"input",6),e.NdJ("input",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.checkValidateUser(i.form.controls.emailOrPhone.value))}),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,Hr,4,3,"div",7),e.YNc(6,lt,3,1,"div",7),e.qZA(),e.TgZ(7,"div",8),e._UZ(8,"input",9),e.ALo(9,"mytranslate"),e.TgZ(10,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.togglePassword())}),e.YNc(11,$r,4,0,"span",3),e.YNc(12,Ui,6,0,"span",3),e.qZA(),e.YNc(13,Ni,3,2,"div",7),e.qZA()(),e.TgZ(14,"div",11)(15,"a",12),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",13)(19,"button",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changePassword())}),e.YNc(20,Ri,6,0,"svg",15),e._uU(21),e.ALo(22,"mytranslate"),e.qZA()(),e.TgZ(23,"div",16)(24,"span",17),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()(),e.TgZ(27,"div",18)(28,"button",19),e.ALo(29,"localize"),e.O4$(),e.TgZ(30,"svg",20),e._UZ(31,"path",21)(32,"path",22)(33,"path",23)(34,"path",24)(35,"line",25),e.qZA(),e.kcU(),e.TgZ(36,"span",26),e._uU(37),e.ALo(38,"mytranslate"),e.qZA()()(),e.TgZ(39,"div",27)(40,"a",28),e.ALo(41,"localize"),e.O4$(),e.TgZ(42,"svg",29),e._UZ(43,"polyline",30),e.qZA(),e._uU(44),e.ALo(45,"mytranslate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.s9C("placeholder",e.lcZ(4,18,"lang_auto_email_hoac_so_dien_thoai")),e.xp6(2),e.Q6J("ngIf",t.form.controls.emailOrPhone.errors&&(t.form.controls.emailOrPhone.dirty||t.form.controls.emailOrPhone.touched)&&!t.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",t.checkValidateUsername),e.xp6(2),e.s9C("type",t.showPassword?"text":"password"),e.s9C("placeholder",e.lcZ(9,20,"lang_auto_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(3),e.hij(" ",e.lcZ(17,22,"lang_auto_huong_dan_doi_mat_khau_tren_azota")," "),e.xp6(3),e.Q6J("disabled",t.form.invalid),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij(" ",e.lcZ(22,24,"lang_auto_tiep_tuc")," "),e.xp6(4),e.hij(" ",e.lcZ(26,26,"lang_auto_hoac")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(36,sn,e.lcZ(29,28,"/auth/confirm_forgot_password_qr"))),e.xp6(9),e.hij(" ",e.lcZ(38,30,"lang_auto_su_dung_ma_qr_quen_mat_khau")," "),e.xp6(3),e.Q6J("routerLink",e.VKq(38,sn,e.lcZ(41,32,t.backLink?t.backLink:"/auth/login")))("queryParams",e.DdM(40,mo)),e.xp6(4),e.hij(" ",e.lcZ(45,34,t.backLink?"lang_powerpoint_frontend_chart_back":"lang_auto_quay_lai_dang_nhap")," ")}}function ji(n,s){if(1&n&&(e.TgZ(0,"div",48)(1,"a"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(1),e.uIk("href","sms:"+t.phone_send+"?body=MK "+t.response_change_pass.otp,e.LSH),e.xp6(1),e.Oqu(e.lcZ(3,2,"lang_auto__click_vao_day_de_gui_ngay__brackets"))}}function Di(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.changeStepByNext())}),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()}2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_tiep_tuc")," "))}function ut(n,s){if(1&n&&(e.TgZ(0,"div",53),e.O4$(),e.TgZ(1,"svg",54)(2,"g",40)(3,"g",41),e._UZ(4,"circle",42),e.TgZ(5,"path",43),e._UZ(6,"animateTransform",44),e.qZA()()()(),e.kcU(),e.TgZ(7,"div",53),e._uU(8),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(8),e.Oqu(t.currentMessage)}}function Ue(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45)(2,"div",26),e._uU(3),e.ALo(4,"mytranslate"),e.TgZ(5,"strong"),e._uU(6),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA(),e.TgZ(9,"div",46)(10,"strong"),e._uU(11),e.qZA(),e._uU(12),e.ALo(13,"mytranslate"),e.TgZ(14,"strong"),e._uU(15),e.qZA()(),e.YNc(16,ji,4,4,"div",47),e.TgZ(17,"div",48),e._uU(18),e.ALo(19,"mytranslate"),e.qZA(),e.TgZ(20,"div",48),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e.TgZ(23,"div",49),e.YNc(24,Di,3,3,"button",50),e.YNc(25,ut,9,1,"div",51),e.qZA()(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,11,"lang_auto_thong_tin_mat_khau_moi_cua_ban_da_duoc_ghi_nhan_de_kich_hoat_mat_khau_vua_tao_vui_long_su_dung_so_dien_thoai")," "),e.xp6(3),e.Oqu(t.data_change_pass.phone),e.xp6(1),e.hij(" ",e.lcZ(8,13,"lang_auto_va_soan_tin_nhan"),": "),e.xp6(4),e.hij("MK ",t.response_change_pass.otp,""),e.xp6(1),e.hij(" ",e.lcZ(13,15,"lang_auto_gui")," "),e.xp6(3),e.Oqu(t.phone_send),e.xp6(1),e.Q6J("ngIf",t.is_mobile),e.xp6(2),e.hij(' "',e.lcZ(19,17,"lang_auto_cuoc_phi_tin_nhan_duoc_tinh_theo_gia_cuoc_phi_thong_thuong_cua_nha_mang"),'" '),e.xp6(3),e.hij(" ",e.lcZ(22,19,"lang_auto_sau_khi_gui_tin_nhan_vui_long_bam_nut_ben_duoi_de_tiep_tuc")," "),e.xp6(3),e.Q6J("ngIf",2==t.step_by_step),e.xp6(1),e.Q6J("ngIf",3==t.step_by_step)}}function Bi(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45)(2,"div",53),e.O4$(),e.TgZ(3,"svg",55),e._UZ(4,"path",56)(5,"path",57)(6,"path",58),e.qZA()(),e.kcU(),e.TgZ(7,"div",59),e._uU(8),e.ALo(9,"mytranslate"),e.qZA(),e.TgZ(10,"div",60),e._uU(11),e.ALo(12,"mytranslate"),e.TgZ(13,"b"),e._uU(14),e.qZA(),e._uU(15),e.ALo(16,"mytranslate"),e.qZA(),e.TgZ(17,"div",61)(18,"div",62)(19,"a",63),e.ALo(20,"localize"),e.O4$(),e.TgZ(21,"svg",29),e._UZ(22,"polyline",30),e.qZA(),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(8),e.hij(" ",e.lcZ(9,7,"lang_auto_kiem_tra_email_cua_ban")," "),e.xp6(3),e.hij(" ",e.lcZ(12,9,"lang_auto_he_thong_da_gui_email_toi_dia_chi")," "),e.xp6(3),e.Oqu(t.form.controls.emailOrPhone.value),e.xp6(1),e.hij(" ",e.lcZ(16,11,"lang_auto__vui_long_kiem_tra_email_va_an_vao_duong_link_xac_nhan_de_viec_thay_doi_mat_khau_thanh_cong")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,sn,e.lcZ(20,13,"/auth/login")))("queryParams",e.DdM(19,mo)),e.xp6(4),e.hij(" ",e.lcZ(24,15,"lang_auto_quay_lai_dang_nhap")," ")}}let Ji=(()=>{class n extends N.Q{constructor(t,o,i,c,_){super(o),this.formBuilder=t,this.commonService=o,this.smsService=i,this.mobileWebviewService=c,this.browserStorageService=_,this.form=new g.nJ({}),this.step_by_step=1,this.currentMessage="",this.phone_send="",this.isOnApp=!1,this.backLink="",this.is_mobile=this.commonService.isMobileDevice(),this.response_change_pass={},this.data_change_pass={},this.checkValidateUsername=!1,this.msgError="",this.imgLanguage="",this.modeUI="",this.showPassword=!1}getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){var i,c;return!(null===(i=this.form.controls[t].errors)||void 0===i||!i[o])&&(null===(c=this.form.controls[t].errors)||void 0===c?void 0:c[o])}randomPhone(t){if(t.includes(",")){let o=t.split(",");return o[this.commonService.getRandomNumber(0,o.length-1)]}return t}togglePassword(){this.showPassword=!this.showPassword}changePassword(){if(this.form.valid){this.initStatusObj();var t=this.commonService.getFormObj(this.form),o={phone:t.emailOrPhone,password:t.password};this.smsService.apiSmsChangePassPost(o).subscribe(i=>{var c,_;1==i.success?(this.successStatusObj(),t.emailOrPhone.includes("@")?this.step_by_step=5:(this.step_by_step=2,this.response_change_pass=null!==(c=i.data)&&void 0!==c?c:{},this.data_change_pass=o)):this.errorStatusObj(null!==(_=i.message)&&void 0!==_?_:"")})}}getPhone(){this.initStatusObj(),this.smsService.apiSmsGetPhoneGet().subscribe(t=>{var o,i,c;1==t.success?(this.successStatusObj(),this.phone_send=this.randomPhone(null!==(i=null===(o=t.data)||void 0===o?void 0:o.phone)&&void 0!==i?i:"")):this.errorStatusObj(null!==(c=t.message)&&void 0!==c?c:"",!0)})}changeStepByNext(){this.initStatusObj(),this.commonService.getTranslate("lang_auto_dang_xu_ly_du_lieu").subscribe(t=>{this.currentMessage=t}),this.step_by_step=3,this.loop_check=window.setInterval(()=>{this.smsService.apiSmsCheckStatusGet(this.data_change_pass.phone).subscribe(t=>{var o,i;1==t.success?(this.successStatusObj(),1==(null===(o=t.data)||void 0===o?void 0:o.status)&&(this.step_by_step=4,clearInterval(this.loop_check))):(this.errorStatusObj(null!==(i=t.message)&&void 0!==i?i:""),this.commonService.getTranslate("lang_auto_he_thong_tam_thoi_khong_the_xu_ly_vui_long_thu_lai_sau").subscribe(c=>{this.currentMessage=c}),clearInterval(this.loop_check))})},1e3)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}switchModeUI(t){let o=document.getElementById("azota-app-html");this.modeUI=t,this.browserStorageService.saveStorage("mode_ui",this.modeUI),"light"==this.modeUI?(o.classList.remove("dark"),o.classList.add("light")):(o.classList.remove("light"),o.classList.add("dark"))}ngOnInit(){var t,o;this.modeUI=""==this.browserStorageService.getStorage("mode_ui")?"light":null!==(t=this.browserStorageService.getStorage("mode_ui"))&&void 0!==t?t:"light",this.switchModeUI(this.modeUI),this.backLink=null!==(o=this.getMyQueryParam("return_url"))&&void 0!==o?o:"",this.isOnApp=this.commonService.isMobileWebview(),this.form=this.formBuilder.group({emailOrPhone:["",[g.kI.required]],password:["",[g.kI.required,g.kI.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.getPhone(),super.ngOnInit(),this.mobileWebviewService.sendComponentLoaded("confirm_forgot_password")}ngOnDestroy(){this.loop_check&&clearInterval(this.loop_check),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.QS),e.Y36(B.v),e.Y36(Z.tr),e.Y36(Q.F),e.Y36(K.z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],inputs:{backLink:"backLink"},features:[e.qOj],decls:9,vars:7,consts:[[1,"azt-forget-password"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[4,"ngIf"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","emailOrPhone","autocomplete","username",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"azt-form-group","relative"],["formControlName","password","autocomplete","new-password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],["href","https://docs.azota.vn/#quen-mat-khau","target","blank",1,"text-primary","dark:text-slate-200"],[1,"intro-x","mt-5","text-center","xl:text-left"],[1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],[1,"btn","btn-outline-secondary","ml-1","w-full",3,"routerLink"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M3 7V5a2 2 0 0 1 2-2h2"],["d","M17 3h2a2 2 0 0 1 2 2v2"],["d","M21 17v2a2 2 0 0 1-2 2h-2"],["d","M7 21H5a2 2 0 0 1-2-2v-2"],["x1","7","y1","12","x2","17","y2","12"],[1,"text-md"],[1,"intro-x","mt-5","text-slate-600","flex","justify-between","dark:text-slate-500","text-center","xl:text-left"],[1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["points","15 18 9 12 15 6"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"],[1,"index-x","box","p-5","mt-8"],[2,"text-align","right","font-size","15px","margin","10px 0","text-align","center"],["class","sms-info text-center mb-3",4,"ngIf"],[1,"sms-info","text-center","mb-3"],[1,"mt-3"],["class","btn btn-primary w-full",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"btn","btn-primary","w-full",3,"click"],[1,"text-center"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","rgb(30, 41, 59)",1,"w-4","h-4","mx-auto"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-16","h-16","mx-auto","text-success"],["d","M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8"],["d","m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"],["d","m16 19 2 2 4-4"],[1,"text-center","mt-3","text-xl","font-bold"],[1,"text-md","mt-3","px-5","text-center"],[1,"text-center","mt-3"],[1,"mb-1"],[1,"btn","btn-primary","w-full",3,"routerLink","queryParams"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"form",1)(3,"h2",2),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.YNc(6,Fi,46,41,"ng-container",3),e.YNc(7,Ue,26,21,"ng-container",3),e.YNc(8,Bi,25,20,"ng-container",3),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(2),e.hij(" ",e.lcZ(5,5,"lang_auto_quen_mat_khau")," "),e.xp6(2),e.Q6J("ngIf",1==o.step_by_step),e.xp6(1),e.Q6J("ngIf",2==o.step_by_step||3==o.step_by_step),e.xp6(1),e.Q6J("ngIf",5==o.step_by_step))},dependencies:[O.rH,O.yS,A.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,te.M,ct,re.lO,w.bT],styles:[".btn-toggle-password[_ngcontent-%COMP%]{position:absolute;top:6px;right:0;border:none;background:transparent;z-index:99}.btn-toggle-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#757575;transition:all .5s}.btn-toggle-password[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{color:#434242}"]}),n})();function zi(n,s){1&n&&(e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}function Yi(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function Gi(n,s){if(1&n&&(e.TgZ(0,"div",27),e.YNc(1,Yi,3,3,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function Vi(n,s){if(1&n&&(e.TgZ(0,"div",14)(1,"label",28),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function Wr(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",29),e._uU(2,"\xa0"),e.qZA())}const cn=function(n){return[n]},Ki=function(){return{user_click:"true"}};function ln(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),e._UZ(4,"input",17),e.ALo(5,"mytranslate"),e.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),e._uU(9,"lock"),e.qZA()()()(),e.YNc(10,Gi,2,1,"div",20),e.qZA()(),e.YNc(11,Vi,4,3,"div",21),e.TgZ(12,"div",22)(13,"div",15)(14,"div",23)(15,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.form.invalid||i.statusObj.loading||i.changePassword())}),e.YNc(16,Wr,3,0,"span",10),e._uU(17),e.ALo(18,"mytranslate"),e.qZA()()()(),e._UZ(19,"hr"),e.TgZ(20,"div",25)(21,"a",26),e.ALo(22,"localize"),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.s9C("placeholder",e.lcZ(5,9,"lang_auto_mat_khau_moi")),e.xp6(6),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(4),e.Q6J("disabled",t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(18,11,"lang_auto_doi_mat_khau")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(17,cn,e.lcZ(22,13,"/auth/login")))("queryParams",e.DdM(19,Ki)),e.xp6(2),e.Oqu(e.lcZ(24,15,"lang_auto_dang_nhap_tai_khoan"))}}let Hi=(()=>{class n extends N.Q{constructor(t,o,i,c){super(o),this.formBuilder=t,this.commonService=o,this.baseApiService=i,this.userInfoService=c,this.form=new g.nJ({})}getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){var i,c;return!(null===(i=this.form.controls[t].errors)||void 0===i||!i[o])&&(null===(c=this.form.controls[t].errors)||void 0===c?void 0:c[o])}changePassword(){if(this.form.valid){var t=this.commonService.getFormObj(this.form),o=this.commonService.getMyQueryParam("token");this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConfirmForgotPasswordGet(o,t.password).subscribe(i=>{var c;1==i.success?(this.successStatusObj(),this.baseApiService.redirectLoginByRole("")):this.errorStatusObj(null!==(c=i.message)&&void 0!==c?c:"")}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[g.kI.required,g.kI.minLength(6)]]}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.QS),e.Y36(B.v),e.Y36(F._),e.Y36(Z.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password-admin"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"convertCdn"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,zi,6,3,"div",10),e.YNc(14,ln,25,20,"div",10),e.qZA()()(),e._UZ(15,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("src",e.lcZ(6,5,"azota_assets/images/logo.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading))},dependencies:[O.yS,A.O5,g._Y,g.Fj,g.JJ,g.JL,Ze.lW,Me.Hw,g.sg,g.u,te.M,re.lO,w.bT,w.BI],encapsulation:2}),n})();var dt=f(39105),z=f(49671);const fo=(()=>{class n{constructor(t,o,i,c,_){this._legacyCanvasSize=n.DEFAULT_CANVAS_SIZE,this._preferredCamera="environment",this._maxScansPerSecond=25,this._lastScanTimestamp=-1,this._destroyed=this._flashOn=this._paused=this._active=!1,this.$video=t,this.$canvas=document.createElement("canvas"),i&&"object"==typeof i?this._onDecode=o:(console.warn(i||c||_?"You're using a deprecated version of the QrScanner constructor which will be removed in the future":"Note that the type of the scan result passed to onDecode will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),this._legacyOnDecode=o),this._onDecodeError=(o="object"==typeof i?i:{}).onDecodeError||("function"==typeof i?i:this._onDecodeError),this._calculateScanRegion=o.calculateScanRegion||("function"==typeof c?c:this._calculateScanRegion),this._preferredCamera=o.preferredCamera||_||this._preferredCamera,this._legacyCanvasSize="number"==typeof i?i:"number"==typeof c?c:this._legacyCanvasSize,this._maxScansPerSecond=o.maxScansPerSecond||this._maxScansPerSecond,this._onPlay=this._onPlay.bind(this),this._onLoadedMetaData=this._onLoadedMetaData.bind(this),this._onVisibilityChange=this._onVisibilityChange.bind(this),this._updateOverlay=this._updateOverlay.bind(this),t.disablePictureInPicture=!0,t.playsInline=!0,t.muted=!0;let m=!1;if(t.hidden&&(t.hidden=!1,m=!0),document.body.contains(t)||(document.body.appendChild(t),m=!0),i=t.parentElement,o.highlightScanRegion||o.highlightCodeOutline){if(c=!!o.overlay,this.$overlay=o.overlay||document.createElement("div"),(_=this.$overlay.style).position="absolute",_.display="none",_.pointerEvents="none",this.$overlay.classList.add("scan-region-highlight"),!c&&o.highlightScanRegion){this.$overlay.innerHTML='<svg class="scan-region-highlight-svg" viewBox="0 0 238 238" preserveAspectRatio="none" style="position:absolute;width:100%;height:100%;left:0;top:0;fill:none;stroke:#e9b213;stroke-width:4;stroke-linecap:round;stroke-linejoin:round"><path d="M31 2H10a8 8 0 0 0-8 8v21M207 2h21a8 8 0 0 1 8 8v21m0 176v21a8 8 0 0 1-8 8h-21m-176 0H10a8 8 0 0 1-8-8v-21"/></svg>';try{this.$overlay.firstElementChild.animate({transform:["scale(.98)","scale(1.01)"]},{duration:400,iterations:1/0,direction:"alternate",easing:"ease-in-out"})}catch(v){}i.insertBefore(this.$overlay,this.$video.nextSibling)}o.highlightCodeOutline&&(this.$overlay.insertAdjacentHTML("beforeend",'<svg class="code-outline-highlight" preserveAspectRatio="none" style="display:none;width:100%;height:100%;fill:none;stroke:#e9b213;stroke-width:5;stroke-dasharray:25;stroke-linecap:round;stroke-linejoin:round"><polygon/></svg>'),this.$codeOutlineHighlight=this.$overlay.lastElementChild)}this._scanRegion=this._calculateScanRegion(t),requestAnimationFrame(()=>{let v=window.getComputedStyle(t);"none"===v.display&&(t.style.setProperty("display","block","important"),m=!0),"visible"!==v.visibility&&(t.style.setProperty("visibility","visible","important"),m=!0),m&&(console.warn("QrScanner has overwritten the video hiding style to avoid Safari stopping the playback."),t.style.opacity="0",t.style.width="0",t.style.height="0",this.$overlay&&this.$overlay.parentElement&&this.$overlay.parentElement.removeChild(this.$overlay),delete this.$overlay,delete this.$codeOutlineHighlight),this.$overlay&&this._updateOverlay()}),t.addEventListener("play",this._onPlay),t.addEventListener("loadedmetadata",this._onLoadedMetaData),document.addEventListener("visibilitychange",this._onVisibilityChange),window.addEventListener("resize",this._updateOverlay),this._qrEnginePromise=n.createQrEngine()}static set WORKER_PATH(t){console.warn("Setting QrScanner.WORKER_PATH is not required and not supported anymore. Have a look at the README for new setup instructions.")}static hasCamera(){return(0,z.Z)(function*(){try{return!!(yield n.listCameras(!1)).length}catch(t){return!1}})()}static listCameras(t=!1){return(0,z.Z)(function*(){if(!navigator.mediaDevices)return[];let i,o=function(){var c=(0,z.Z)(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(_=>"videoinput"===_.kind)});return function(){return c.apply(this,arguments)}}();try{t&&(yield o()).every(c=>!c.label)&&(i=yield navigator.mediaDevices.getUserMedia({audio:!1,video:!0}))}catch(c){}try{return(yield o()).map((c,_)=>({id:c.deviceId,label:c.label||(0===_?"Default Camera":`Camera ${_+1}`)}))}finally{i&&(console.warn("Call listCameras after successfully starting a QR scanner to avoid creating a temporary video stream"),n._stopVideoStream(i))}})()}hasFlash(){var t=this;return(0,z.Z)(function*(){let o;try{if(t.$video.srcObject){if(!(t.$video.srcObject instanceof MediaStream))return!1;o=t.$video.srcObject}else o=(yield t._getCameraStream()).stream;return"torch"in o.getVideoTracks()[0].getSettings()}catch(i){return!1}finally{o&&o!==t.$video.srcObject&&(console.warn("Call hasFlash after successfully starting the scanner to avoid creating a temporary video stream"),n._stopVideoStream(o))}})()}isFlashOn(){return this._flashOn}toggleFlash(){var t=this;return(0,z.Z)(function*(){t._flashOn?yield t.turnFlashOff():yield t.turnFlashOn()})()}turnFlashOn(){var t=this;return(0,z.Z)(function*(){if(!t._flashOn&&!t._destroyed&&(t._flashOn=!0,t._active&&!t._paused))try{if(!(yield t.hasFlash()))throw"No flash available";yield t.$video.srcObject.getVideoTracks()[0].applyConstraints({advanced:[{torch:!0}]})}catch(o){throw t._flashOn=!1,o}})()}turnFlashOff(){var t=this;return(0,z.Z)(function*(){t._flashOn&&(t._flashOn=!1,yield t._restartVideoStream())})()}destroy(){this.$video.removeEventListener("loadedmetadata",this._onLoadedMetaData),this.$video.removeEventListener("play",this._onPlay),document.removeEventListener("visibilitychange",this._onVisibilityChange),window.removeEventListener("resize",this._updateOverlay),this._destroyed=!0,this._flashOn=!1,this.stop(),n._postWorkerMessage(this._qrEnginePromise,"close")}start(){var t=this;return(0,z.Z)(function*(){if(t._destroyed)throw Error("The QR scanner can not be started as it had been destroyed.");if((!t._active||t._paused)&&("https:"!==window.location.protocol&&console.warn("The camera stream is only accessible if the page is transferred via https."),t._active=!0,!document.hidden))if(t._paused=!1,t.$video.srcObject)yield t.$video.play();else try{let{stream:o,facingMode:i}=yield t._getCameraStream();!t._active||t._paused?n._stopVideoStream(o):(t._setVideoMirror(i),t.$video.srcObject=o,yield t.$video.play(),t._flashOn&&(t._flashOn=!1,t.turnFlashOn().catch(()=>{})))}catch(o){if(!t._paused)throw t._active=!1,o}})()}stop(){this.pause(),this._active=!1}pause(t=!1){var o=this;return(0,z.Z)(function*(){if(o._paused=!0,!o._active)return!0;o.$video.pause(),o.$overlay&&(o.$overlay.style.display="none");let i=()=>{o.$video.srcObject instanceof MediaStream&&(n._stopVideoStream(o.$video.srcObject),o.$video.srcObject=null)};return t?(i(),!0):(yield new Promise(c=>setTimeout(c,300)),!!o._paused&&(i(),!0))})()}setCamera(t){var o=this;return(0,z.Z)(function*(){t!==o._preferredCamera&&(o._preferredCamera=t,yield o._restartVideoStream())})()}static scanImage(t,o,i,c,_=!1,m=!1){return(0,z.Z)(function*(){let v,x=!1;o&&("scanRegion"in o||"qrEngine"in o||"canvas"in o||"disallowCanvasResizing"in o||"alsoTryWithoutScanRegion"in o||"returnDetailedScanResult"in o)?(v=o.scanRegion,i=o.qrEngine,c=o.canvas,_=o.disallowCanvasResizing||!1,m=o.alsoTryWithoutScanRegion||!1,x=!0):console.warn(o||i||c||_||m?"You're using a deprecated api for scanImage which will be removed in the future.":"Note that the return type of scanImage will change in the future. To already switch to the new api today, you can pass returnDetailedScanResult: true."),o=!!i;try{let k,R,J;if([i,k]=yield Promise.all([i||n.createQrEngine(),n._loadImage(t)]),[c,R]=n._drawToCanvas(k,v,c,_),i instanceof Worker){let M=i;o||n._postWorkerMessageSync(M,"inversionMode","both"),J=yield new Promise((ie,we)=>{let Te,Se,be,Ye=-1;Se=ce=>{ce.data.id===Ye&&(M.removeEventListener("message",Se),M.removeEventListener("error",be),clearTimeout(Te),null!==ce.data.data?ie({data:ce.data.data,cornerPoints:n._convertPoints(ce.data.cornerPoints,v)}):we(n.NO_QR_CODE_FOUND))},be=ce=>{M.removeEventListener("message",Se),M.removeEventListener("error",be),clearTimeout(Te),we("Scanner error: "+(ce?ce.message||ce:"Unknown Error"))},M.addEventListener("message",Se),M.addEventListener("error",be),Te=setTimeout(()=>be("timeout"),1e4);let V=R.getImageData(0,0,c.width,c.height);Ye=n._postWorkerMessageSync(M,"decode",V,[V.data.buffer])})}else J=yield Promise.race([new Promise((M,ie)=>window.setTimeout(()=>ie("Scanner error: timeout"),1e4)),(0,z.Z)(function*(){try{var[M]=yield i.detect(c);if(!M)throw n.NO_QR_CODE_FOUND;return{data:M.rawValue,cornerPoints:n._convertPoints(M.cornerPoints,v)}}catch(ie){if(/not implemented|service unavailable/.test(M=ie.message||ie))return n._disableBarcodeDetector=!0,n.scanImage(t,{scanRegion:v,canvas:c,disallowCanvasResizing:_,alsoTryWithoutScanRegion:m});throw`Scanner error: ${M}`}})()]);return x?J:J.data}catch(k){if(!v||!m)throw k;let R=yield n.scanImage(t,{qrEngine:i,canvas:c,disallowCanvasResizing:_});return x?R:R.data}finally{o||n._postWorkerMessage(i,"close")}})()}setGrayscaleWeights(t,o,i,c=!0){n._postWorkerMessage(this._qrEnginePromise,"grayscaleWeights",{red:t,green:o,blue:i,useIntegerApproximation:c})}setInversionMode(t){n._postWorkerMessage(this._qrEnginePromise,"inversionMode",t)}static createQrEngine(t){return(0,z.Z)(function*(){return t&&console.warn("Specifying a worker path is not required and not supported anymore."),!n._disableBarcodeDetector&&"BarcodeDetector"in window&&BarcodeDetector.getSupportedFormats&&(yield BarcodeDetector.getSupportedFormats()).includes("qr_code")?new BarcodeDetector({formats:["qr_code"]}):f.e(920).then(f.bind(f,36920)).then(o=>o.createWorker())})()}_onPlay(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay(),this.$overlay&&(this.$overlay.style.display=""),this._scanFrame()}_onLoadedMetaData(){this._scanRegion=this._calculateScanRegion(this.$video),this._updateOverlay()}_onVisibilityChange(){document.hidden?this.pause():this._active&&this.start()}_calculateScanRegion(t){let o=Math.round(.6666666666666666*Math.min(t.videoWidth,t.videoHeight));return{x:Math.round((t.videoWidth-o)/2),y:Math.round((t.videoHeight-o)/2),width:o,height:o,downScaledWidth:this._legacyCanvasSize,downScaledHeight:this._legacyCanvasSize}}_updateOverlay(){requestAnimationFrame(()=>{if(this.$overlay){var t=this.$video,o=t.videoWidth,i=t.videoHeight,c=t.offsetWidth,_=t.offsetHeight,m=t.offsetLeft,v=t.offsetTop,x=window.getComputedStyle(t),k=x.objectFit,R=o/i,J=c/_;switch(k){case"none":var M=o,ie=i;break;case"fill":M=c,ie=_;break;default:("cover"===k?R>J:R<J)?M=(ie=_)*R:ie=(M=c)/R,"scale-down"===k&&(M=Math.min(M,o),ie=Math.min(ie,i))}var[we,Te]=x.objectPosition.split(" ").map((be,Ye)=>{const V=parseFloat(be);return be.endsWith("%")?(Ye?_-ie:c-M)*V/100:V});J=this._scanRegion.height||i,k=this._scanRegion.x||0;var Se=this._scanRegion.y||0;(R=this.$overlay.style).width=(x=this._scanRegion.width||o)/o*M+"px",R.height=J/i*ie+"px",R.top=`${v+Te+Se/i*ie}px`,i=/scaleX\(-1\)/.test(t.style.transform),R.left=`${m+(i?c-we-M:we)+(i?o-k-x:k)/o*M}px`,R.transform=t.style.transform}})}static _convertPoints(t,o){if(!o)return t;let i=o.x||0,c=o.y||0,_=o.width&&o.downScaledWidth?o.width/o.downScaledWidth:1;o=o.height&&o.downScaledHeight?o.height/o.downScaledHeight:1;for(let m of t)m.x=m.x*_+i,m.y=m.y*o+c;return t}_scanFrame(){var t=this;!this._active||this.$video.paused||this.$video.ended||("requestVideoFrameCallback"in this.$video?this.$video.requestVideoFrameCallback.bind(this.$video):requestAnimationFrame)((0,z.Z)(function*(){if(!(1>=t.$video.readyState)){var o=Date.now()-t._lastScanTimestamp,i=1e3/t._maxScansPerSecond;o<i&&(yield new Promise(_=>setTimeout(_,i-o))),t._lastScanTimestamp=Date.now();try{var c=yield n.scanImage(t.$video,{scanRegion:t._scanRegion,qrEngine:t._qrEnginePromise,canvas:t.$canvas})}catch(_){if(!t._active)return;t._onDecodeError(_)}!n._disableBarcodeDetector||(yield t._qrEnginePromise)instanceof Worker||(t._qrEnginePromise=n.createQrEngine()),c?(t._onDecode?t._onDecode(c):t._legacyOnDecode&&t._legacyOnDecode(c.data),t.$codeOutlineHighlight&&(clearTimeout(t._codeOutlineHighlightRemovalTimeout),t._codeOutlineHighlightRemovalTimeout=void 0,t.$codeOutlineHighlight.setAttribute("viewBox",`${t._scanRegion.x||0} ${t._scanRegion.y||0} ${t._scanRegion.width||t.$video.videoWidth} ${t._scanRegion.height||t.$video.videoHeight}`),t.$codeOutlineHighlight.firstElementChild.setAttribute("points",c.cornerPoints.map(({x:_,y:m})=>`${_},${m}`).join(" ")),t.$codeOutlineHighlight.style.display="")):t.$codeOutlineHighlight&&!t._codeOutlineHighlightRemovalTimeout&&(t._codeOutlineHighlightRemovalTimeout=setTimeout(()=>t.$codeOutlineHighlight.style.display="none",100))}t._scanFrame()}))}_onDecodeError(t){t!==n.NO_QR_CODE_FOUND&&console.log(t)}_getCameraStream(){var t=this;return(0,z.Z)(function*(){if(!navigator.mediaDevices)throw"Camera not found.";let o=/^(environment|user)$/.test(t._preferredCamera)?"facingMode":"deviceId",i=[{width:{min:1024}},{width:{min:768}},{}],c=i.map(_=>Object.assign({},_,{[o]:{exact:t._preferredCamera}}));for(let _ of[...c,...i])try{let m=yield navigator.mediaDevices.getUserMedia({video:_,audio:!1});return{stream:m,facingMode:t._getFacingMode(m)||(_.facingMode?t._preferredCamera:"environment"===t._preferredCamera?"user":"environment")}}catch(m){}throw"Camera not found."})()}_restartVideoStream(){var t=this;return(0,z.Z)(function*(){let o=t._paused;(yield t.pause(!0))&&!o&&t._active&&(yield t.start())})()}static _stopVideoStream(t){for(let o of t.getTracks())o.stop(),t.removeTrack(o)}_setVideoMirror(t){this.$video.style.transform="scaleX("+("user"===t?-1:1)+")"}_getFacingMode(t){return(t=t.getVideoTracks()[0])?/rear|back|environment/i.test(t.label)?"environment":/front|user|face/i.test(t.label)?"user":null:null}static _drawToCanvas(t,o,i,c=!1){i=i||document.createElement("canvas");let _=o&&o.x?o.x:0,m=o&&o.y?o.y:0,v=o&&o.width?o.width:t.videoWidth||t.width,x=o&&o.height?o.height:t.videoHeight||t.height;return c||(c=o&&o.downScaledWidth?o.downScaledWidth:v,o=o&&o.downScaledHeight?o.downScaledHeight:x,i.width!==c&&(i.width=c),i.height!==o&&(i.height=o)),(o=i.getContext("2d",{alpha:!1})).imageSmoothingEnabled=!1,o.drawImage(t,_,m,v,x,0,0,i.width,i.height),[i,o]}static _loadImage(t){return(0,z.Z)(function*(){if(t instanceof Image)return yield n._awaitImageLoad(t),t;if(t instanceof HTMLVideoElement||t instanceof HTMLCanvasElement||t instanceof SVGImageElement||"OffscreenCanvas"in window&&t instanceof OffscreenCanvas||"ImageBitmap"in window&&t instanceof ImageBitmap)return t;if(!(t instanceof File||t instanceof Blob||t instanceof URL||"string"==typeof t))throw"Unsupported image type.";{let o=new Image;o.src=t instanceof File||t instanceof Blob?URL.createObjectURL(t):t.toString();try{return yield n._awaitImageLoad(o),o}finally{(t instanceof File||t instanceof Blob)&&URL.revokeObjectURL(o.src)}}})()}static _awaitImageLoad(t){return(0,z.Z)(function*(){t.complete&&0!==t.naturalWidth||(yield new Promise((o,i)=>{let c=_=>{t.removeEventListener("load",c),t.removeEventListener("error",c),_ instanceof ErrorEvent?i("Image load error"):o()};t.addEventListener("load",c),t.addEventListener("error",c)}))})()}static _postWorkerMessage(t,o,i,c){return(0,z.Z)(function*(){return n._postWorkerMessageSync(yield t,o,i,c)})()}static _postWorkerMessageSync(t,o,i,c){if(!(t instanceof Worker))return-1;let _=n._workerMessageId++;return t.postMessage({id:_,type:o,data:i},c),_}}return n.DEFAULT_CANVAS_SIZE=400,n.NO_QR_CODE_FOUND="No QR code found",n._disableBarcodeDetector=!1,n._workerMessageId=0,n})();var $i=f(591),_t=f(10550),Wi=f(35171);function ea(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"zxing-scanner",7),e.NdJ("deviceChange",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.currentDevice=i)})("scanSuccess",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.onCodeResult(i))})("permissionResponse",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.onHasPermission(i))})("camerasFound",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.onCamerasFound(i))})("torchCompatible",function(i){e.CHM(t);const c=e.oxw();return e.KtG(c.onTorchCompatible(i))}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("torch",t.torchEnabled)("device",t.currentDevice)("tryHarder",t.tryHarder)("formats",t.formatsEnabled)}}function Fe(n,s){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("( ",t.contentResult," )")}}let ye=(()=>{class n extends N.Q{constructor(t){super(t),this.commonService=t,this.outContentScan=new e.vpe,this.outNotCamAllow=new e.vpe,this.isShowDebugLog=!1,this.isShowScanner=!1,this.availableDevices=[],this.currentDevice=void 0,this.hasDevices=!1,this.hasPermission=!1,this.qrResultString="",this.torchEnabled=!1,this.torchAvailable$=new $i.X(!1),this.tryHarder=!1,this.formatsEnabled=[dt.BarcodeFormat.CODE_128,dt.BarcodeFormat.DATA_MATRIX,dt.BarcodeFormat.EAN_13,dt.BarcodeFormat.QR_CODE],this.deviceCamSelect=0,this.contentResult=null,this.isShowLog=!1,this.snd=new Audio,this.snd=new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")}clearResult(){this.qrResultString=""}onCamerasFound(t){this.availableDevices=t,this.hasDevices=Boolean(t&&t.length)}onCodeResult(t){this.qrResultString=t,_t.g.isEncode(t)?this.switchChangeContent(_t.g.decode(t)):this.switchChangeContent(null)}onDeviceSelectChange(t){const o=this.availableDevices.find(i=>i.deviceId===t);this.currentDevice=o||void 0}onHasPermission(t){this.hasPermission=t}onTorchCompatible(t){this.torchAvailable$.next(t||!1)}toggleTorch(){this.torchEnabled=!this.torchEnabled}toggleTryHarder(){this.tryHarder=!this.tryHarder}switchVideoScan(){this.deviceCamSelect++,this.deviceCamSelect>=this.availableDevices.length&&(this.deviceCamSelect=0),this.currentDevice=this.availableDevices[this.deviceCamSelect]}unInitSscanCam(){this.isShowScanner=!1}initVideoScan(){this.isShowScanner=!0}initScanCam(){this.isShowScanner=!0}onFileSelected(t){let c=t.target.files;if(null!=c&&c.length){var _=c[0];if(!_)return;this.scanProcessSelectFile(t,_,0)}else console.log("jel"),this.switchChangeContent(null)}scanProcessSelectFile(t,o,i){fo.scanImage(o,{returnDetailedScanResult:!0}).then(c=>{this.thatLog("onFileSelected: 0 "+JSON.stringify(c)),t.target.value="";var _=c.data;this.thatLog("onFileSelected: 1 "+_),_t.g.isEncode(_)?this.switchChangeContent(_t.g.decode(_)):this.switchChangeContent(null)}).catch(c=>{i>=2?(t.target.value="",this.thatLog("onFileSelected: 2 "+JSON.stringify(c)),this.switchChangeContent(null)):this.scanProcessSelectFile(t,o,i++)})}pauseScanQrcode(){this.isShowScanner=!1}switchChangeContent(t){this.contentResult=t,this.pauseScanQrcode(),this.beep(),navigator&&navigator.vibrate&&navigator.vibrate(200),this.thatLog("switchChangeContent: "+t),this.outContentScan.emit(this.contentResult)}thatLog(t){!0===this.isShowDebugLog&&console.log("__AZT SCAN__ :: "+t)}beep(){this.snd&&this.snd.play()}ngOnDestroy(){this.unInitSscanCam(),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-scan-qrcode"]],outputs:{outContentScan:"outContentScan",outNotCamAllow:"outNotCamAllow"},features:[e.qOj],decls:11,vars:5,consts:[[1,"scan__card-video"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible",4,"ngIf"],[1,"text-center","mt-3","mb-2"],["class","text-center",4,"ngIf"],["type","file","name","fileQrcode",2,"display","none",3,"change"],["formChoseFile",""],[1,"link-center",3,"click"],[3,"torch","device","tryHarder","formats","deviceChange","scanSuccess","permissionResponse","camerasFound","torchCompatible"],[1,"text-center"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0),e.YNc(1,ea,1,4,"zxing-scanner",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,Fe,2,1,"span",3),e.TgZ(4,"input",4,5),e.NdJ("change",function(_){return o.onFileSelected(_)}),e.qZA(),e.TgZ(6,"a",6),e.NdJ("click",function(){e.CHM(i);const _=e.MAs(5);return e.KtG(_.click())}),e.TgZ(7,"mat-icon"),e._uU(8,"upload"),e.qZA(),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()()}2&t&&(e.xp6(1),e.Q6J("ngIf",o.isShowScanner),e.xp6(2),e.Q6J("ngIf",o.isShowLog),e.xp6(6),e.hij(" ",e.lcZ(10,3,"lang_auto_tai_len_ma_co_san"),""))},dependencies:[A.O5,Me.Hw,Wi.S,w.bT],styles:[".scan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.scan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.scan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})();const Xi=["aztScanQrcode"];function un(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function er(n,s){if(1&n&&(e.TgZ(0,"div",35),e.YNc(1,un,3,3,"div",33),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function vo(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",36),e._uU(2,"\xa0"),e.qZA())}function tr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",37)(1,"p",38),e._uU(2),e.ALo(3,"mytranslate"),e.qZA(),e.TgZ(4,"button",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.reloadProcessForgot())}),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()}2&n&&(e.xp6(2),e.hij(" *** ",e.lcZ(3,2,"lang_auto_khong_the_xac_nhan_yeu_cau_doi_mat_khau_ma_qrcode_va_so_dien_thoai_dang_nhap_khong_trung_khop_vui_long_thu_lai"),""),e.xp6(3),e.Oqu(e.lcZ(6,4,"lang_auto_thu_lai")))}function dn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25),e._UZ(4,"input",26),e.ALo(5,"mytranslate"),e.TgZ(6,"div",27)(7,"span",28)(8,"mat-icon"),e._uU(9,"qr_code"),e.qZA()()()()()(),e.TgZ(10,"div",23)(11,"div",24)(12,"div",25),e._UZ(13,"input",29),e.ALo(14,"mytranslate"),e.TgZ(15,"div",27)(16,"span",28)(17,"mat-icon"),e._uU(18,"lock"),e.qZA()()()(),e.YNc(19,er,2,1,"div",30),e.qZA()(),e.TgZ(20,"div",23)(21,"div",24)(22,"div",31)(23,"button",32),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.form.invalid||i.statusObj.loading||i.changePassword())}),e.YNc(24,vo,3,0,"span",33),e._uU(25),e.ALo(26,"mytranslate"),e.qZA()()(),e.YNc(27,tr,7,6,"div",34),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.s9C("placeholder",e.lcZ(5,8,"lang_auto_ma_xac_thuc")),e.uIk("disabled",!0),e.xp6(9),e.s9C("placeholder",e.lcZ(14,10,"lang_auto_mat_khau_moi")),e.xp6(6),e.Q6J("ngIf",t.form.controls.password.invalid&&t.form.controls.password.dirty),e.xp6(4),e.Q6J("disabled",t.statusObj.errorMessage||t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!0===t.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(26,12,"lang_auto_tiep_tuc")," "),e.xp6(2),e.Q6J("ngIf",t.statusObj.errorMessage)}}const nr=function(n){return{"d-none":n}},or=function(n){return[n]},ir=function(){return{user_click:"true"}};let qe=(()=>{class n extends N.Q{constructor(t,o,i,c){super(t),this.commonService=t,this.localStorageObjetct=o,this.formBuilder=i,this.qrCodeForgotPasswordService=c,this.form=new g.nJ({}),this.stepByStep=0,this.sussScanNextConf=!1}getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){var i,c;return!(null===(i=this.form.controls[t].errors)||void 0===i||!i[o])&&(null===(c=this.form.controls[t].errors)||void 0===c?void 0:c[o])}reloadProcessForgot(){this.elementaztScanQrcode&&this.elementaztScanQrcode.initScanCam(),this.stepByStep=0,this.form.reset(),this.initStatusObj(),this.sussScanNextConf=!1}outContentScan(t){null!==t?this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordAnonymousCheckForgotPasswordQrCodePost({hash:t}).subscribe(i=>{var c;1==i.success&&1==(null===(c=null==i?void 0:i.data)||void 0===c?void 0:c.status)?(this.stepByStep=1,this.form.controls.hash.setValue(t),this.sussScanNextConf=!0):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}):(this.showErrorSnack("lang_auto_phan_tich_ma_qrcode_that_bai_vui_long_thu_lai"),this.reloadProcessForgot())}changePassword(){this.initStatusObj();var t=this.commonService.getFormObj(this.form);this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordChangePasswordByQrcodePost({hash:t.hash,password:t.password}).subscribe(i=>{0!=i.success?(this.localStorageObjetct.clearAllCache(),this.successStatusObj("lang_auto_dat_lai_mat_khau_thanh_cong",!0),this.commonService.myNavigation("/auth/forgot_password_susscess")):(this.errorStatusObj("lang_auto_yeu_cau_doi_mat_khau_that_bai",!0),this.successStatusObj())})}ngAfterViewInit(){setTimeout(()=>{this.elementaztScanQrcode&&this.elementaztScanQrcode.initScanCam()},0)}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),this.form=this.formBuilder.group({hash:["",[g.kI.required]],password:["",[g.kI.required,g.kI.minLength(6)]]}),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(Xt.L),e.Y36(g.QS),e.Y36(Z.qY))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],viewQuery:function(t,o){if(1&t&&e.Gf(Xi,5),2&t){let i;e.iGM(i=e.CRH())&&(o.elementaztScanQrcode=i.first)}},features:[e.qOj],decls:38,vars:27,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"loginscan_scanmode_camvmb-2",3,"ngClass"],[1,"text-center","mb-2"],[3,"outContentScan"],["aztScanQrcode",""],["class","loginscan_scanmode_conf",4,"ngIf"],[1,"text-center","mb-3","mt-2"],[1,"mb-1"],["href","https://docs.azota.vn/#quen-mat-khau","target","blank"],[1,"text-normal","mt-1",3,"routerLink","queryParams"],[1,"loginscan_scanmode_conf"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","formControlName","hash",1,"form-control",3,"placeholder"],[1,"input-group-append"],["id","basic-addon3",1,"input-group-text"],["type","password","formControlName","password","autocomplete","new-password",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],[1,"text-right"],["mat-raised-button","","color","primary",1,"btn","btn-block",3,"disabled","click"],[4,"ngIf"],["class","col-sm-12 mt-2",4,"ngIf"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"col-sm-12","mt-2"],[1,"text-danger"],[1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"div",8)(9,"div",8)(10,"div",8),e.qZA()(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"span",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",12)(19,"div",13)(20,"div",14),e._uU(21),e.ALo(22,"mytranslate"),e.qZA(),e.TgZ(23,"azt-scan-qrcode",15,16),e.NdJ("outContentScan",function(c){return o.outContentScan(c)}),e.qZA()(),e.YNc(25,dn,28,14,"div",17),e.qZA(),e._UZ(26,"hr"),e.TgZ(27,"div",18)(28,"div",19)(29,"a",20),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()(),e.TgZ(32,"div")(33,"a",21),e.ALo(34,"localize"),e._uU(35),e.ALo(36,"mytranslate"),e.qZA()()()()(),e._UZ(37,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(7),e.Q6J("ngClass",o.stepByStep+2==1?"active":o.stepByStep+2>1?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.stepByStep+2==2?"active":o.stepByStep+2>2?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.stepByStep+2==3?"active":o.stepByStep+2>3?"active pro":""),e.xp6(6),e.Oqu(e.lcZ(17,12,"lang_auto_doi_mat_khau_moi_bang_ma_qrcode")),e.xp6(3),e.Q6J("ngClass",e.VKq(22,nr,o.sussScanNextConf)),e.xp6(2),e.hij(" ",e.lcZ(22,14,"lang_auto_di_chuyen_camera_toi_ma_qrcode")," "),e.xp6(4),e.Q6J("ngIf",o.sussScanNextConf),e.xp6(5),e.Oqu(e.lcZ(31,16,"lang_auto_huong_dan_doi_mat_khau_tren_azota")),e.xp6(3),e.Q6J("routerLink",e.VKq(24,or,e.lcZ(34,18,"/auth/login")))("queryParams",e.DdM(26,ir)),e.xp6(2),e.Oqu(e.lcZ(36,20,"lang_auto_dang_nhap_tai_khoan")))},dependencies:[O.yS,A.mk,A.O5,g._Y,g.Fj,g.JJ,g.JL,Ze.lW,Me.Hw,g.sg,g.u,ye,te.M,re.lO,w.bT],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}']}),n})();function _n(n,s){if(1&n&&(e.TgZ(0,"div",3),e.O4$(),e.TgZ(1,"svg",4),e._UZ(2,"line",5)(3,"line",6)(4,"circle",7),e.qZA(),e._uU(5),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.hij(" ",t.stringDuration," ")}}let gt=(()=>{class n extends N.Q{constructor(){super(...arguments),this.content="",this.width=0,this.height=0,this.expired=0,this.expiredAction=new e.vpe,this.startDuration=0,this.isDuration=!1,this.stringDuration="__ : __"}ngAfterViewInit(){setTimeout(()=>{this.reInitComponent()},0)}reInitComponent(){this.bindUrlToQrCode(),0!=this.expired&&(this.isDuration=!0,this.startDuration=Math.floor(Date.now()/1e3),this.initLoopDuration())}initLoopDuration(){this.loopDuration=setInterval(()=>{var t=Math.floor(Date.now()/1e3),i=this.expired-(t-this.startDuration);if(i<0)this.clearLoopDuration(),this.qrcode.clear(),this.expiredAction.emit();else{var c=Math.floor(i/60),_=i-60*c;this.stringDuration=(c<10?"0"+c:""+c)+" : "+(_<10?"0"+_:""+_)}},1e3)}clearLoopDuration(){this.loopDuration&&clearInterval(this.loopDuration)}bindUrlToQrCode(){this.qrcode=this.commonService.createObjectQrcode(this.content,this.width,this.height,"text",!0,"image-qrcode-created"),this.qrcode._oDrawing._elCanvas.style.width="100%",this.qrcode._oDrawing._elCanvas.style.opacity=".9"}downloadQrcode(t){t||(t="azota-qr"),t=this.getTimeSaveQrcode()+"_"+t+".jpg";var o=this.createFrameQrcodeSaveLocal(this.qrcode._oDrawing._elCanvas),i=document.createElement("a");document.body.appendChild(i),i.setAttribute("href",o),i.setAttribute("download",t),i.click()}getTimeSaveQrcode(){var t=new Date,o=t.getMonth()+1,i=t.getDate();return[t.getFullYear(),(o>9?"":"0")+o,(i>9?"":"0")+i].join("_")}createFrameQrcodeSaveLocal(t){var o=document.createElement("canvas");const i=o.getContext("2d");return o.width=420,o.height=420,i&&(i.fillStyle="white",i.fillRect(0,0,o.width,o.height),i.drawImage(t,0,0,t.width,t.height,Math.floor((o.height-t.height)/2),(o.width-t.width)/2,t.width,t.height)),o.toDataURL("image/jpeg",1)}}return n.\u0275fac=function(){let s;return function(o){return(s||(s=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["azt-create-qr-image"]],inputs:{content:"content",width:"width",height:"height",expired:"expired"},outputs:{expiredAction:"expiredAction"},features:[e.qOj],decls:3,vars:1,consts:[[1,"qr-scan-box"],["class","mx-auto flex items-center justify-center mb-2",4,"ngIf"],["id","image-qrcode-created"],[1,"mx-auto","flex","items-center","justify-center","mb-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-5","h-5","mr-2","lucide"],["x1","10","x2","14","y1","2","y2","2"],["x1","12","x2","15","y1","14","y2","11"],["cx","12","cy","14","r","8"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,_n,6,1,"div",1),e._UZ(2,"div",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.isDuration))},dependencies:[A.O5],encapsulation:2}),n})();const yo=["elementCreateQr"];function gn(n,s){if(1&n&&(e.TgZ(0,"div",10),e._UZ(1,"azt-create-qr-image",11,12),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("content",t.contentQrcodeHash)("width",300)("height",300)("expired",0)}}function pn(n,s){if(1&n&&(e.TgZ(0,"div",13),e.O4$(),e.TgZ(1,"svg",14),e._UZ(2,"path",15)(3,"path",16)(4,"path",17)(5,"line",18),e.qZA(),e.kcU(),e.TgZ(6,"div",19),e._uU(7),e.qZA()()),2&n){const t=e.oxw();e.xp6(7),e.hij(" ",t.noticeContentString," ")}}function hn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.downloadQrCode())}),e.O4$(),e.TgZ(2,"svg",22),e._UZ(3,"path",23)(4,"polyline",24)(5,"line",25),e.qZA(),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()}2&n&&(e.xp6(6),e.hij(" ",e.lcZ(7,1,"lang_auto_tai_xuong_ma")," "))}function rr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openDialog())}),e.O4$(),e.TgZ(2,"svg",22),e._UZ(3,"path",26)(4,"line",27)(5,"line",28)(6,"circle",29)(7,"path",30),e.qZA(),e._uU(8),e.ALo(9,"mytranslate"),e.qZA()()}2&n&&(e.xp6(8),e.hij(" ",e.lcZ(9,1,"lang_auto_tao_ma_quen_mat_khau_moi")," "))}const pt=function(n){return[n]};function mn(n,s){1&n&&(e.TgZ(0,"a",31),e.ALo(1,"localize"),e.O4$(),e.TgZ(2,"svg",32),e._UZ(3,"polyline",33),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&n&&(e.Q6J("routerLink",e.VKq(6,pt,e.lcZ(1,2,"/admin/dashboard"))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}function ar(n,s){1&n&&(e.TgZ(0,"a",31),e.ALo(1,"localize"),e.O4$(),e.TgZ(2,"svg",32),e._UZ(3,"polyline",33),e.qZA(),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&n&&(e.Q6J("routerLink",e.VKq(6,pt,e.lcZ(1,2,"/student/dashboard/0"))),e.xp6(4),e.hij(" ",e.lcZ(5,4,"lang_auto_quay_lai_dashboard")," "))}let ne=(()=>{class n extends N.Q{constructor(t,o,i,c){super(t),this.commonService=t,this.dialog=o,this.activeRoute=i,this.qrCodeForgotPasswordService=c,this.noticeContentString="",this.contentQrcodeHash="",this.role=0}checkQrThisMe(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCheckForgotPasswordQrCodeGet().subscribe(t=>{var o;1==t.success?0!=(null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.status)?this.commonService.getTranslate("lang_auto_ma_qrcode_da_ton_tai_ban_khong_the_xem_ma_hien_tai_tao_ma_moi_trong_truong_hop_ban_da_mat_ma_qrcode").subscribe(i=>{this.noticeContentString=i}):this.commonService.getTranslate("lang_auto_ban_chua_tao_ma_qrcode_dung_trong_truong_hop_quen_mat_khau_vui_long_tao_ma_qrcode_moi").subscribe(i=>{this.noticeContentString=i}):this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}createQrcodeForgot(){this.qrCodeForgotPasswordService.apiQrCodeForgotPasswordCreateForgotPasswordQrCodeGet().subscribe(t=>{var o,i;1==t.success?this.contentQrcodeHash=null!==(i=null===(o=t.data)||void 0===o?void 0:o.qrCode)&&void 0!==i?i:"":this.showErrorSnack("lang_auto_khong_co_ket_qua_phan_hoi")})}openDialog(){this.dialog.open(sr).afterClosed().subscribe(o=>{!0===o&&this.createQrcodeForgot()})}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-forgot")}ngOnInit(){var t,o=null!==(t=this.commonService.getMyParam(this.activeRoute,"role"))&&void 0!==t?t:"0";this.role=parseInt(o,10),this.checkQrThisMe(),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(C.uw),e.Y36(O.gz),e.Y36(Z.qY))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-gzip-tool"]],viewQuery:function(t,o){if(1&t&&e.Gf(yo,5),2&t){let i;e.iGM(i=e.CRH())&&(o.elementCreateQr=i.first)}},features:[e.qOj],decls:15,vars:9,consts:[[1,"azt-qr-create"],[1,"intro-x","font-bold","text-2xl","xl:text-3xl","text-center","xl:text-left"],[1,"intro-x","mt-3"],[1,"border","border-slate-200/60","dark:border-darkmode-400","rounded-md","p-3","flex","items-center",2,"height","350px"],["class","mx-auto",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-3"],["class","card-center-row",4,"ngIf"],[1,"intro-x","text-left","mt-3"],["class","text-primary dark:text-slate-200",3,"routerLink",4,"ngIf"],[1,"mx-auto"],[3,"content","width","height","expired"],["elementCreateQr",""],[1,"text-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-6","h-6","mx-auto"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"qrcode-block-note","mt-2"],[1,"card-center-row"],[1,"w-full","btn","btn-primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2","lucide"],["d","M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"],["points","7 10 12 15 17 10"],["x1","12","y1","15","x2","12","y2","3"],["d","M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"],["x1","16","y1","5","x2","22","y2","5"],["x1","19","y1","2","x2","19","y2","8"],["cx","9","cy","9","r","2"],["d","m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"],[1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",2)(6,"div",3),e.YNc(7,gn,3,4,"div",4),e.YNc(8,pn,8,1,"div",5),e.qZA(),e.TgZ(9,"div",6),e.YNc(10,hn,8,3,"div",7),e.YNc(11,rr,10,3,"div",7),e.qZA()(),e.TgZ(12,"div",8),e.YNc(13,mn,6,8,"a",9),e.YNc(14,ar,6,8,"a",9),e.qZA()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,7,"lang_auto_qrcode_quen_mat_khau")," "),e.xp6(4),e.Q6J("ngIf",o.contentQrcodeHash),e.xp6(1),e.Q6J("ngIf",!o.contentQrcodeHash&&o.noticeContentString),e.xp6(2),e.Q6J("ngIf",o.contentQrcodeHash),e.xp6(1),e.Q6J("ngIf",!o.contentQrcodeHash),e.xp6(2),e.Q6J("ngIf",0==o.role),e.xp6(1),e.Q6J("ngIf",1==o.role))},dependencies:[O.yS,A.O5,gt,ct,re.lO,w.bT]}),n})(),sr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["dialog-conf-content-qrcode-dialog"]],decls:41,vars:28,consts:[[1,"box"],[1,"border-b","border-slate-200/60","dark:border-darkmode-400"],[1,"p-5"],[1,"text-lg","font-medium","flex","items-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","mr-2","text-pending"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],[1,"mt-2"],[1,"text-slate-500","dark:text-slate-400"],[1,"text-slate-500","dark:text-slate-400","mt-1"],[1,"text-right","p-3"],["mat-dialog-close","",1,"btn","btn-secondary","mr-2"],["cdkFocusInitial","",1,"btn","btn-primary",3,"mat-dialog-close"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"rect",5)(6,"rect",6)(7,"rect",7)(8,"path",8)(9,"path",9)(10,"path",10)(11,"path",11)(12,"path",12)(13,"path",13)(14,"path",14)(15,"path",15)(16,"path",16),e.qZA(),e._uU(17),e.ALo(18,"mytranslate"),e.qZA(),e.kcU(),e.TgZ(19,"div",17)(20,"p",18),e._uU(21),e.ALo(22,"mytranslate"),e.ALo(23,"mytranslate"),e.ALo(24,"mytranslate"),e.qZA(),e.TgZ(25,"p",19),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e.TgZ(28,"p",19),e._uU(29),e.ALo(30,"mytranslate"),e._UZ(31,"br"),e._uU(32),e.ALo(33,"mytranslate"),e.qZA()()()(),e.TgZ(34,"div",20)(35,"button",21),e._uU(36),e.ALo(37,"mytranslate"),e.qZA(),e.TgZ(38,"button",22),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()()()),2&t&&(e.xp6(17),e.hij(" ",e.lcZ(18,10,"lang_auto_trinh_tao_ma_qrcode_quen_mat_khau")," "),e.xp6(4),e.lnq(" ",e.lcZ(22,12,"lang_auto_bam"),' "',e.lcZ(23,14,"lang_auto_xac_nhan"),'" ',e.lcZ(24,16,"lang_auto_dong_nghia_voi_viec_ban_da_hieu_ve_cac_dieu_sau")," "),e.xp6(5),e.hij(" ",e.lcZ(27,18,"lang_auto_1_ma_qrcode_quen_mat_khau_la_duy_nhat_khi_ban_tao_moi_ma_ma_cu_se_khong_con_gia_tri_su_dung")," "),e.xp6(3),e.hij(" ",e.lcZ(30,20,"lang_auto_2_ma_qrcode_quen_mat_khau_la_chia_khoa_vui_long_khong_chia_se_hay_de_nguoi_khac_co_duoc_ma_qrcode_cua_ban")," "),e.xp6(3),e.hij(" ",e.lcZ(33,22,"lang_auto_sau_khi_tao_thanh_cong_vui_long_tai_xuong_ma_qrcode_de_su_dung_cho_muc_dich_quen_mat_khau_sau_nay")," "),e.xp6(4),e.hij(" ",e.lcZ(37,24,"lang_auto_huy")," "),e.xp6(2),e.Q6J("mat-dialog-close",!0),e.xp6(1),e.hij(" ",e.lcZ(40,26,"lang_auto_xac_nhan")," "))},dependencies:[C.ZT,w.bT],encapsulation:2}),n})(),fn=(()=>{class n extends N.Q{constructor(){super(...arguments),this.step_by_step=3}redirectToCreateQrCode(){this.commonService.myNavigation("/auth/create-qr-forgot-pass/0")}redirectToHome(){this.commonService.myNavigation("/admin/dashboard")}}return n.\u0275fac=function(){let s;return function(o){return(s||(s=e.n5z(n)))(o||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[e.qOj],decls:30,vars:15,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6","m-5"],["src","https://azotacdn.studybymusic.com/storage_public/azota_assets/images/logo.svg","alt","logo",2,"width","180px","margin","auto","padding-bottom","15px"],[1,"wrapper-progressBar"],[1,"progressBar"],[1,"progressBar-li",3,"ngClass"],["id","authForm",1,"box","p-3",2,"margin","auto"],[1,"text-center"],[1,"h5"],[1,"card-body"],[1,"btn-block-center","mt-3"],[1,"btn","btn-outline-info","w-100","mr-3",3,"click"],[1,"btn","btn-outline-primary","w-100",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.TgZ(6,"div",6)(7,"div",7),e._UZ(8,"div",8)(9,"div",8)(10,"div",8),e.qZA()(),e._UZ(11,"br")(12,"br"),e.TgZ(13,"div",9)(14,"div",10)(15,"span",11),e._uU(16),e.ALo(17,"mytranslate"),e.qZA()(),e.TgZ(18,"div",12)(19,"p"),e._uU(20),e.ALo(21,"mytranslate"),e.qZA(),e.TgZ(22,"div",13)(23,"a",14),e.NdJ("click",function(){return o.redirectToHome()}),e._uU(24),e.ALo(25,"mytranslate"),e.qZA(),e.TgZ(26,"a",15),e.NdJ("click",function(){return o.redirectToCreateQrCode()}),e._uU(27),e.ALo(28,"mytranslate"),e.qZA()()()()(),e._UZ(29,"div",3),e.qZA()()()),2&t&&(e.xp6(8),e.Q6J("ngClass",o.step_by_step+2==1?"active":o.step_by_step+2>1?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.step_by_step+2==2?"active":o.step_by_step+2>2?"active pro":""),e.xp6(1),e.Q6J("ngClass",o.step_by_step+2==3?"active":o.step_by_step+2>3?"active pro":""),e.xp6(6),e.Oqu(e.lcZ(17,7,"lang_auto_doi_mat_khau_moi_thanh_cong")),e.xp6(4),e.Oqu(e.lcZ(21,9,"lang_auto_ban_da_doi_mat_khau_moi_thanh_cong_ma_qrcode_da_su_dung_co_the_su_dung_lai_de_dam_bao_an_toan_ban_nen_tao_lai_ma_qrcode")),e.xp6(4),e.Oqu(e.lcZ(25,11,"lang_auto_bo_qua_va_ve_trang_chu")),e.xp6(3),e.Oqu(e.lcZ(28,13,"lang_auto_tao_lai_ma_qrcode")))},dependencies:[A.mk,w.bT],styles:['#authForm[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125);max-width:550px;margin:0 auto}#recaptcha-container[_ngcontent-%COMP%]{width:100%}h2[_ngcontent-%COMP%]{text-align:center}.sms-info[_ngcontent-%COMP%]{font-size:13px;color:#5a5a5a;white-space:pre-line}.form-group[_ngcontent-%COMP%]{margin-bottom:0}#verify_wrap[_ngcontent-%COMP%]{padding-top:3px;white-space:nowrap;overflow:hidden}#verify_wrap[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-flex;width:100%}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_area[_ngcontent-%COMP%]{transition:margin ease .5s}#verify_wrap[_ngcontent-%COMP%]   div#enter_phone_wrap[_ngcontent-%COMP%]{width:100%}.resend-code[_ngcontent-%COMP%]{text-align:right;font-size:13px;color:#3c8dbc;white-space:pre-line}.loading[_ngcontent-%COMP%]{text-align:center;width:100%}.loading[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:18px;margin-bottom:10px}.wrapper-progressBar[_ngcontent-%COMP%]{width:100%}.progressBar[_ngcontent-%COMP%]{counter-reset:step}.progressBar-li[_ngcontent-%COMP%]{list-style-type:none;float:left;width:33.3%;position:relative;text-align:center}.progressBar-li[_ngcontent-%COMP%]:before{cursor:pointer;content:counter(step);counter-increment:step;line-height:30px;border-radius:50%;width:30px;height:30px;border:1px solid #ddd;display:block;text-align:center;margin:0 auto 10px;background-color:#fff}.pro[_ngcontent-%COMP%]:before{content:"\\f00c"!important;font-family:"Font Awesome 5 Free"!important;font-weight:900;background-color:green!important;color:#fff!important}.progressBar-li[_ngcontent-%COMP%]:after{content:"";position:absolute;width:100%;height:2px;background-color:#ddd;top:15px;left:-50%;z-index:-1}.progressBar-li[_ngcontent-%COMP%]:first-child:after{content:none}.progressBar-li.active[_ngcontent-%COMP%]{color:green}.progressBar-li.active[_ngcontent-%COMP%]:before{border-color:green;background-color:#fff}.progressBar-li.active[_ngcontent-%COMP%] + .progressBar-li[_ngcontent-%COMP%]:after{background-color:green}.link-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.btn-block-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}']}),n})();var cr=f(89892);const vn=["elementCreateQr"],bo=["aztScanQrcode"];function yn(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_de_dang_nhap_len_thiet_bi_nay_vui_long_tao_ma_de_thiet_bi_da_dang_nhap_quet")))}function bn(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_dung_thiet_bi_can_dang_nhap_quet_ma_ben_duoi")))}function xn(n,s){if(1&n&&(e.TgZ(0,"div",24),e._UZ(1,"span",25),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.xp6(2),e.AsE("\xa0",e.lcZ(3,2,"lang_auto_dang_cho_quet_ma_qrcode"),": ",t.nameSessionConfirm,"")}}function An(n,s){1&n&&(e.TgZ(0,"div",24),e._UZ(1,"span",25),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&n&&(e.xp6(2),e.hij("\xa0",e.lcZ(3,1,"lang_auto_dang_cho_quet_ma_qrcode"),""))}function xo(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e._UZ(3,"br"),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,3,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),e.xp6(3),e.AsE("",e.lcZ(5,5,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm,"")}}function lr(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",25),e._uU(2,"\xa0 "),e.TgZ(3,"span",32),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function ur(n,s){if(1&n&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultErr)}}function Cn(n,s){if(1&n&&(e.TgZ(0,"div",34),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultSuss)}}function Ao(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",25),e._uU(2,"\xa0"),e.qZA())}function wn(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",25),e._uU(2,"\xa0"),e.qZA())}function dr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.confContentPendingLogin(1))}),e.YNc(2,Ao,3,0,"span",3),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.confContentPendingLogin(2))}),e.YNc(6,wn,3,0,"span",3),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(4,6,"lang_auto_chap_nhan")," "),e.xp6(2),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(8,8,"lang_auto_tu_choi")," ")}}function Tn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",38),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.backScanActionWithIsLogin())}),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_quay_lai")))}function Co(n,s){if(1&n&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div",28),e.YNc(3,xo,6,7,"span",3),e.qZA(),e.YNc(4,lr,6,3,"div",3),e.YNc(5,ur,2,1,"div",29),e.YNc(6,Cn,2,1,"div",30),e.YNc(7,dr,9,10,"div",31),e.YNc(8,Tn,4,3,"div",3),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.nameSessionConfirm),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.Q6J("ngIf",t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.textResultSuss),e.xp6(1),e.Q6J("ngIf",!t.textResultSuss||!t.isConfirmBtn),e.xp6(1),e.Q6J("ngIf",t.isLogin&&!1===t.isLoadingBtn&&!0===t.isConfirmBtn)}}function Sn(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",42),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.createRequestLoginHashCodeAction())}),e.TgZ(1,"div",43)(2,"div")(3,"mat-icon"),e._uU(4,"sync"),e.qZA()(),e.TgZ(5,"div"),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()()}2&n&&(e.xp6(6),e.Oqu(e.lcZ(7,1,"lang_auto_tao_moi_ma")))}function _r(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"azt-create-qr-image",44,45),e.NdJ("expiredAction",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.expiredQrcodeAction())}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("content",t.contentCreateQrcode)("width",300)("height",300)("expired",t.durationQrcodeExpire)}}function Zn(n,s){if(1&n&&(e.TgZ(0,"div",39),e.YNc(1,Sn,8,3,"div",40),e.YNc(2,_r,2,4,"azt-create-qr-image",41),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!1===t.isLogin&&!t.contentCreateQrcode),e.xp6(1),e.Q6J("ngIf",t.contentCreateQrcode)}}function gr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"a",46),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.downloadQrCode())}),e.TgZ(1,"mat-icon"),e._uU(2,"download"),e.qZA(),e._uU(3),e.ALo(4,"mytranslate"),e.qZA()}2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"lang_auto_tai_xuong_ma"),""))}function wo(n,s){1&n&&(e.TgZ(0,"div",11)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.hij("",e.lcZ(3,1,"lang_auto_-_hoac_ban_co_the_upper")," -"))}function pr(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",11)(1,"a",47),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.switchModeView())}),e.TgZ(2,"span",48)(3,"mat-icon",49),e._uU(4,"center_focus_strong"),e.qZA(),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()()}2&n&&(e.xp6(5),e.hij(" ",e.lcZ(6,1,"lang_auto_quet_ma_qr_co_san"),""))}function hr(n,s){if(1&n&&(e.TgZ(0,"div",33),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultErr)}}function mr(n,s){if(1&n&&(e.TgZ(0,"div",34),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.textResultSuss)}}function fr(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",25),e._uU(2,"\xa0"),e.qZA())}function To(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"button",36),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.confContentLogin())}),e.YNc(2,fr,3,0,"span",3),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.reopenScanCamInit())}),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.isLoadingBtn||t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",e.lcZ(4,5,"lang_auto_dang_nhap")," "),e.xp6(2),e.Q6J("disabled",t.isLoadingBtn),e.xp6(1),e.Oqu(e.lcZ(7,7,"lang_auto_thu_lai"))}}function vr(n,s){if(1&n&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div",28),e._uU(3),e.ALo(4,"mytranslate"),e._UZ(5,"br"),e._uU(6),e.ALo(7,"mytranslate"),e.qZA(),e.YNc(8,hr,2,1,"div",29),e.YNc(9,mr,2,1,"div",30),e.YNc(10,To,8,9,"div",31),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,5,"lang_auto_xac_nhan_dang_nhap_tai_khoan")),e.xp6(3),e.Oqu(e.lcZ(7,7,"lang_auto_voi_ma_qr_da_phat_hien")),e.xp6(2),e.Q6J("ngIf",t.textResultErr),e.xp6(1),e.Q6J("ngIf",t.textResultSuss),e.xp6(1),e.Q6J("ngIf",!t.textResultSuss)}}function kn(n,s){1&n&&(e.TgZ(0,"div"),e._UZ(1,"span",25),e._uU(2,"\xa0 "),e.TgZ(3,"span",32),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()),2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"lang_auto_dang_cho_xu_ly")))}function yr(n,s){if(1&n&&e._UZ(0,"div",52),2&n){const t=e.oxw(2);e.Q6J("innerHTML",t.textResultErr,e.oJD)}}function So(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",25),e._uU(2,"\xa0"),e.qZA())}function In(n,s){if(1&n&&(e.TgZ(0,"button",53),e.YNc(1,So,3,0,"span",3),e._uU(2),e.qZA()),2&n){const t=e.oxw(2);e.Q6J("disabled",!t.textResultSuss),e.xp6(1),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.hij(" ",t.textResultSuss," ")}}function br(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",26)(1,"div",27)(2,"div",28)(3,"span"),e._uU(4),e.ALo(5,"mytranslate"),e._UZ(6,"br"),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()(),e.YNc(9,kn,6,3,"div",3),e.YNc(10,yr,1,1,"div",50),e.TgZ(11,"div",35),e.YNc(12,In,3,3,"button",51),e.TgZ(13,"button",37),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.reopenScanCamInit())}),e._uU(14),e.ALo(15,"mytranslate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,8,"lang_auto_dang_nhap_tai_khoan")),e.xp6(3),e.AsE("",e.lcZ(8,10,"lang_auto_voi_ma_qr_da_phat_hien"),": ",t.nameSessionConfirm,""),e.xp6(2),e.Q6J("ngIf",t.isLoadingBtn),e.xp6(1),e.Q6J("ngIf",t.textResultErr),e.xp6(2),e.Q6J("ngIf",!t.textResultSuss&&t.isLoadingBtn),e.xp6(1),e.Q6J("disabled",t.isLoadingBtn),e.xp6(1),e.Oqu(e.lcZ(15,12,"lang_auto_thu_lai"))}}const Ve=function(n){return{hidden:n}},Zo=function(n){return[n]},On=function(n){return{return_url:n}};let ko=(()=>{class n extends N.Q{constructor(t,o,i,c,_,m){super(t),this.commonService=t,this.baseApiService=o,this.localStorageObjetct=i,this.activeRoute=c,this.qrCodeLoginService=_,this.redirectService=m,this.returnUrl="",this.isLogin=!1,this.modeShowInit="create",this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.pendingDuration=!1,this.role=0,this.backToLink=""}forgotPassword(){this.commonService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}reloadLogin(){this.isLogin&&this.redirectService.redirectToDashboard()}downloadQrCode(){this.elementCreateQr&&this.elementCreateQr.downloadQrcode("azota-login")}switchModeView(){this.modeShowInit="create"===this.modeShowInit?"scan":"create",this.elementaztScanQrcode&&("scan"===this.modeShowInit?(this.elementaztScanQrcode.initScanCam(),this.clearLoopRefLogin(),this.clearLoopPendingLogin()):(this.elementaztScanQrcode.unInitSscanCam(),this.initLoopRefLogin(),this.initPendingLoadingConfirm()))}clearLoopPendingLogin(){this.loopPendingLogin&&clearInterval(this.loopPendingLogin)}clearLoopRefLogin(){this.loopRefCheckQrcodeLogin&&clearInterval(this.loopRefCheckQrcodeLogin)}reopenScanCamInit(){this.textResultErr="",this.textResultSuss="",this.elementaztScanQrcode&&(this.elementaztScanQrcode.initScanCam(),this.sussScanNextConf=!1)}backScanActionWithIsLogin(){this.isLogin&&(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.createQrCodeWithUser())}expiredQrcodeAction(){this.pendingDuration||(this.clearLoopRefLogin(),this.clearLoopPendingLogin(),this.initStatusObj(),this.contentCreateQrcode="",this.sussScanNextConf=!1,this.scanQrContent=void 0,this.scanQrContentConfirm="",this.isLoadingBtn=!1,this.isConfirmBtn=!1,this.textResultSuss="",this.textResultErr="",this.nameSessionConfirm="",this.durationQrcodeExpire=0,this.isLogin?(this.createQrCodeWithUser(),this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_da_tao_ma_qrcode_moi_vui_long_thao_tac_lai")):this.commonService.snackError("lang_auto_ma_qrcode_da_het_han_vui_long_tao_moi_va_thao_tac_lai"))}createQrCodeWithUser(){this.initStatusObj(),this.subscriptions.add(this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeGet().subscribe(t=>{var o,i,c,_;1==t.success?(this.successStatusObj(),this.contentCreateQrcode=null!==(i=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.qrCode)&&void 0!==i?i:"",this.durationQrcodeExpire=null!==(_=null===(c=null==t?void 0:t.data)||void 0===c?void 0:c.duration)&&void 0!==_?_:0,this.initPendingLoadingConfirm()):this.errorStatusObj("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u",!0)}))}outContentScan(t){var o;null!==t?(this.scanQrContent=t,this.sussScanNextConf=!0,this.isLogin||(null===(o=this.elementaztScanQrcode)||void 0===o||o.pauseScanQrcode(),this.isLoadingBtn=!0,this.textResultSuss="",this.qrCodeLoginService.apiQrCodeLoginCreateLoginQrCodeRequestPost({qrCode:this.scanQrContent}).subscribe(c=>{var _,m,v,x;this.isLoadingBtn=!1,console.log(c),1==c.success?(this.isLoadingBtn=!0,this.scanQrContentConfirm=null!==(m=null===(_=null==c?void 0:c.data)||void 0===_?void 0:_.qrCode)&&void 0!==m?m:"",this.nameSessionConfirm=null!==(x=null===(v=null==c?void 0:c.data)||void 0===v?void 0:v.name)&&void 0!==x?x:"",this.textResultSuss="",this.initLoopPendingLogin()):(this.textResultSuss="",this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(k=>{this.textResultErr=k}))}))):(this.sussScanNextConf=!0,this.commonService.getTranslate("lang_auto_ma_qrcode_da_het_han_hoac_ma_qrcode_khong_duoc_tao_boi_tai_khoan_da_dang_nhap_vui_long_tao_lai_ma_moi_va_thu_lai").subscribe(c=>{this.textResultErr=c}),this.commonService.snackError("M\xe3 Qrcode \u0111\xe3 h\u1ebft h\u1ea1n ho\u1eb7c kh\xf4ng \u0111\xfang. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 m\u1edbi v\xe0 th\u1eed l\u1ea1i.",""))}initLoopPendingLogin(){this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginCheckLoginQrCodeRequestConfirmedPost({qrCode:this.scanQrContentConfirm}).subscribe(o=>{var i,c;1==o.success&&(1==(null===(i=o.data)||void 0===i?void 0:i.status)?(this.clearLoopPendingLogin(),this.commonService.gaEvent("sign_in_login_in"),this.isLoadingBtn=!1,this.textResultSuss="",this.localStorageObjetct.clearAllCache(),this.successStatusObj("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng.",!0),this.baseApiService.redirectLoginByRole(null!==(c=this.commonService.getMyQueryParam("return_url"))&&void 0!==c?c:"")):o.data&&2===o.data.status&&(this.clearLoopPendingLogin(),this.isLoadingBtn=!1,this.errorStatusObj("X\xe1c nh\u1eadn \u0111\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i",!0),this.commonService.getTranslate("lang_auto_xac_nhan_dang_nhap_that_bai_br_ma_qr_khong_con_hoat_dong_br_vui_long_tao_ma_qrcode_moi_de_dang_nhap_lai").subscribe(_=>{this.textResultErr=_}),this.textResultSuss=""))})},3e3)}initPendingLoadingConfirm(){this.isLogin&&(this.loopPendingLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginGetFirstQrCodeLoginRequestGet().subscribe(t=>{var o,i,c,_;1==t.success&&t.data&&""!==t.data.qrCode&&(this.pendingDuration=!0,this.scanQrContentConfirm=null!==(i=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.qrCode)&&void 0!==i?i:"",this.nameSessionConfirm=null!==(_=null===(c=null==t?void 0:t.data)||void 0===c?void 0:c.name)&&void 0!==_?_:"",this.clearLoopPendingLogin())})},3e3))}confContentPendingLogin(t){this.isLogin&&(this.isLoadingBtn=!0,this.qrCodeLoginService.apiQrCodeLoginConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContentConfirm,status:t}).subscribe(i=>{1==i.success?this.textResultSuss=1==t?"X\xe1c nh\u1eadn th\xe0nh c\xf4ng":"T\u1eeb ch\u1ed1i th\xe0nh c\xf4ng":this.commonService.getTranslate("lang_auto_he_thong_khong_phan_hoi_vui_long_tai_lai_trang_de_thu_lai").subscribe(c=>{this.textResultErr=c}),this.isConfirmBtn=!0,this.isLoadingBtn=!1}))}createRequestLoginHashCodeAction(){this.isLogin||this.qrCodeLoginService.apiQrCodeLoginAnonymousCreateLoginQrCodePost().subscribe(t=>{var o,i,c,_,m,v;1==t.success&&(this.contentCreateQrcode=null!==(i=null===(o=null==t?void 0:t.data)||void 0===o?void 0:o.qrCode)&&void 0!==i?i:"",this.nameSessionConfirm=null!==(_=null===(c=null==t?void 0:t.data)||void 0===c?void 0:c.name)&&void 0!==_?_:"",this.durationQrcodeExpire=null!==(v=null===(m=null==t?void 0:t.data)||void 0===m?void 0:m.duration)&&void 0!==v?v:0,this.initLoopRefLogin())})}initLoopRefLogin(){0==this.isLogin&&(this.loopRefCheckQrcodeLogin=window.setInterval(()=>{this.qrCodeLoginService.apiQrCodeLoginAnonymousCheckLoginQrCodeRequestConfimedPost({qrCode:this.contentCreateQrcode,status:0}).subscribe(o=>{var i,c;1===o.success&&404!=(null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.status)&&(this.commonService.gaEvent("sign_in_login_in"),this.commonService.snackSuccess("lang_auto_dang_nhap_thanh_cong"),this.baseApiService.redirectLoginByRole(null!==(c=this.commonService.getMyQueryParam("return_url"))&&void 0!==c?c:""))})},3e3))}confContentLogin(){this.isLoadingBtn=!0,this.isLogin&&this.qrCodeLoginService.apiQrCodeLoginAnonymousConfirmLoginQrCodeRequestPost({qrCode:this.scanQrContent,status:1}).subscribe(o=>{this.isLoadingBtn=!1,1===o.success?this.commonService.getTranslate("lang_auto_xac_nhan_thanh_cong_phien_dang_nhap_da_duoc_phe_duyet").subscribe(i=>{this.textResultSuss=i}):this.commonService.getTranslate("lang_auto_thiet_bi_da_dang_nhap_hoac_ma_dang_nhap_khong_hop_le_vui_long_kiem_tra_va_thao_tac_lai").subscribe(i=>{this.textResultErr=i})})}ngOnInit(){var t,o=null!==(t=this.commonService.getMyParam(this.activeRoute,"role"))&&void 0!==t?t:"0";switch(this.role=parseInt(o,10),this.role){case 0:this.backToLink="/admin/dashboard";break;case 1:this.backToLink="/student/dashboard/0";break;case 2:this.backToLink="/auth/login"}this.isLogin=this.baseApiService.isLogin(),this.isLogin&&this.createQrCodeWithUser(),this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){this.clearLoopRefLogin(),this.clearLoopPendingLogin(),super.ngOnDestroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(F._),e.Y36(Xt.L),e.Y36(O.gz),e.Y36(cr.A),e.Y36(q.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],viewQuery:function(t,o){if(1&t&&(e.Gf(vn,5),e.Gf(bo,5)),2&t){let i;e.iGM(i=e.CRH())&&(o.elementCreateQr=i.first),e.iGM(i=e.CRH())&&(o.elementaztScanQrcode=i.first)}},features:[e.qOj],decls:41,vars:45,consts:[[1,"azt-qr-scan-content"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"leading-relaxed","text-center","xl:text-left","text-md","mt-1"],[4,"ngIf"],["class","mb-3",4,"ngIf"],[1,"intro-x","mt-5"],[1,"card"],[1,"loginscan__card-body"],[1,"loginscan_createmode",3,"ngClass"],["class","loginscan_scanmode_conf",4,"ngIf"],["class","loginscan__card-img",4,"ngIf"],[1,"text-center","mt-3"],["class","link-center",3,"click",4,"ngIf"],["class","text-center mt-3",4,"ngIf"],[1,"loginscan_scanmode",3,"ngClass"],[1,"text-center","mb-3"],[3,"routerLink","queryParams"],[1,"loginscan_scanmode_cam",3,"ngClass"],[3,"outContentScan"],["aztScanQrcode",""],[1,"intro-x","text-left","mt-3"],[1,"text-primary","dark:text-slate-200",3,"routerLink"],["_ngcontent-serverApp-c452","","xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-1","inline-block","lucide"],["_ngcontent-serverApp-c452","","points","15 18 9 12 15 6"],[1,"mb-3"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"loginscan_scanmode_conf"],[1,"loginscan_scanmode_conf--box"],[1,"boxtext"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336",4,"ngIf"],["class","boxtext-suss","style","font-size: 20px; margin-bottom: 20px; color: #009688",4,"ngIf"],["class","mt-3",4,"ngIf"],[2,"font-size","18px"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336"],[1,"boxtext-suss",2,"font-size","20px","margin-bottom","20px","color","#009688"],[1,"mt-3"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled","click"],["type","button",1,"btn","btn-warning",3,"disabled","click"],["type","button",1,"btn","btn-primary","mr-3",3,"click"],[1,"loginscan__card-img"],["class","box-create-login-img",3,"click",4,"ngIf"],[3,"content","width","height","expired","expiredAction",4,"ngIf"],[1,"box-create-login-img",3,"click"],[1,"box-create-login-content"],[3,"content","width","height","expired","expiredAction"],["elementCreateQr",""],[1,"link-center",3,"click"],[1,"btn","btn-outline-primary","mt-2",3,"click"],[1,"link-center"],[1,"mr-1"],["class","boxtext-err","style","font-size: 20px; margin-bottom: 20px; color: #f44336; line-height: 30px",3,"innerHTML",4,"ngIf"],["type","button","class","btn btn-primary mr-3",3,"disabled",4,"ngIf"],[1,"boxtext-err",2,"font-size","20px","margin-bottom","20px","color","#f44336","line-height","30px",3,"innerHTML"],["type","button",1,"btn","btn-primary","mr-3",3,"disabled"]],template:function(t,o){1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h3",1),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.TgZ(5,"div",2),e.YNc(6,yn,3,3,"div",3),e.YNc(7,bn,3,3,"div",3),e.YNc(8,xn,4,4,"div",4),e.YNc(9,An,4,3,"div",4),e.qZA(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8),e.YNc(14,Co,9,6,"div",9),e.YNc(15,Zn,3,2,"div",10),e.TgZ(16,"div",11),e.YNc(17,gr,5,3,"a",12),e.qZA(),e.YNc(18,wo,4,3,"div",13),e.YNc(19,pr,7,3,"div",13),e.qZA(),e.TgZ(20,"div",14)(21,"div",15),e._uU(22),e.ALo(23,"mytranslate"),e.TgZ(24,"a",16),e.ALo(25,"localize"),e._uU(26),e.ALo(27,"mytranslate"),e.qZA(),e._uU(28," )"),e.qZA(),e.TgZ(29,"div",17)(30,"azt-scan-qrcode",18,19),e.NdJ("outContentScan",function(c){return o.outContentScan(c)}),e.qZA()(),e.YNc(32,vr,11,9,"div",9),e.YNc(33,br,16,14,"div",9),e.qZA()()()(),e.TgZ(34,"div",20)(35,"a",21),e.ALo(36,"localize"),e.O4$(),e.TgZ(37,"svg",22),e._UZ(38,"polyline",23),e.qZA(),e._uU(39),e.ALo(40,"mytranslate"),e.qZA()()()()),2&t&&(e.xp6(3),e.hij(" ",e.lcZ(4,21,"lang_auto_dang_nhap_voi_ma_qr_code")," "),e.xp6(3),e.Q6J("ngIf",!o.isLogin),e.xp6(1),e.Q6J("ngIf",o.isLogin),e.xp6(1),e.Q6J("ngIf",!o.isLogin&&o.contentCreateQrcode),e.xp6(1),e.Q6J("ngIf",o.isLogin&&o.contentCreateQrcode&&!o.scanQrContentConfirm),e.xp6(4),e.Q6J("ngClass",e.VKq(33,Ve,"create"!==o.modeShowInit)),e.xp6(1),e.Q6J("ngIf",o.scanQrContentConfirm&&o.isLogin),e.xp6(1),e.Q6J("ngIf",!o.scanQrContentConfirm),e.xp6(2),e.Q6J("ngIf",o.contentCreateQrcode&&!o.scanQrContentConfirm),e.xp6(1),e.Q6J("ngIf",!o.scanQrContentConfirm),e.xp6(1),e.Q6J("ngIf",!o.scanQrContentConfirm),e.xp6(1),e.Q6J("ngClass",e.VKq(35,Ve,"scan"!==o.modeShowInit)),e.xp6(2),e.hij("",e.lcZ(23,23,"lang_auto_di_chuyen_camera_toi_ma_qrcode_dang_nhap_")," "),e.xp6(2),e.Q6J("routerLink",e.VKq(37,Zo,e.lcZ(25,25,"/auth/register")))("queryParams",e.VKq(39,On,o.returnUrl)),e.xp6(2),e.Oqu(e.lcZ(27,27,"lang_auto_huong_dan")),e.xp6(3),e.Q6J("ngClass",e.VKq(41,Ve,!1!==o.sussScanNextConf)),e.xp6(3),e.Q6J("ngIf",!0===o.sussScanNextConf&&o.isLogin),e.xp6(1),e.Q6J("ngIf",!0===o.sussScanNextConf&&!o.isLogin),e.xp6(2),e.Q6J("routerLink",e.VKq(43,Zo,e.lcZ(36,29,o.backToLink))),e.xp6(4),e.hij(" ",e.lcZ(40,31,"lang_auto_quay_lai")," "))},dependencies:[O.yS,A.mk,A.O5,Me.Hw,gt,ye,ct,re.lO,w.bT],styles:[".loginscan__card-header[_ngcontent-%COMP%]{padding:15px;text-transform:uppercase;display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-body[_ngcontent-%COMP%]{padding:15px}.loginscan__card-img[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.loginscan__card-video[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.loginscan__card-video[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:100%}.loginscan__card-control--switch[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(36,98,174,.431372549);color:#fff;padding:5px;border-right:1px solid #e0e0e0;border-bottom:1px solid #e0e0e0;cursor:pointer}.link-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.box-create-login-img[_ngcontent-%COMP%]{display:flex;height:100px;background:#f5f5f5;justify-content:center;align-items:center;border:1px solid #e0e0e0;padding:10px;cursor:pointer;-webkit-touch-callout:none;-webkit-user-select:none;user-select:none}.box-create-login-img[_ngcontent-%COMP%]:hover{background:#eceff1}.box-create-login-content[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf[_ngcontent-%COMP%]{width:100%;background:#e0f2f1;padding:10px;display:flex;align-items:center;justify-content:center;height:300px}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]{text-align:center}.loginscan_scanmode_conf--box[_ngcontent-%COMP%]   .boxtext[_ngcontent-%COMP%]{font-size:20px;line-height:30px;margin-bottom:20px}.block-inline-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.back-btn[_ngcontent-%COMP%]{position:absolute;left:10px;top:14px}.back-btn[_ngcontent-%COMP%]:hover{cursor:pointer}"]}),n})();var Ln=f(8929),ht=f(21086),mt=f(34202),Io=f(63527),xr=f(36787),je=f(57770),Qe=f(87545),ft=f(24850),Oo=f(5154),Ar=f(87224),Lo=f(2313),vt=f(13334),En=f(92198),yt=f(26351),Pn=f(49681),xt=f(34859),He=f(42090),Mn=f(41877);const Eo=new Map,Zr={activated:!1,tokenObservers:[]},kr={initialized:!1,enabled:!1};function ee(n){return Eo.get(n)||Zr}function G(n,s){Eo.set(n,s)}function At(){return kr}class Lr{constructor(s,t,o,i,c){if(this.operation=s,this.retryPolicy=t,this.getWaitDuration=o,this.lowerBound=i,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=i,i>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(s){var t=this;return(0,z.Z)(function*(){t.stop();try{t.pending=new He.BH,yield function Qn(n){return new Promise(s=>{setTimeout(s,n)})}(t.getNextRun(s)),t.pending.resolve(),yield t.pending.promise,t.pending=new He.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(o){t.retryPolicy(o)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(s){if(s)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const oe=new He.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function qo(n){if(!ee(n).activated)throw oe.create("use-before-activation",{appName:n.name})}function $e(n,s){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,z.Z)(function*({url:n,body:s},t){var o,i;const c={"Content-Type":"application/json"},_=t.getImmediate({optional:!0});if(_){const M=yield _.getHeartbeatsHeader();M&&(c["X-Firebase-Client"]=M)}const m={method:"POST",body:JSON.stringify(s),headers:c};let v,x;try{v=yield fetch(n,m)}catch(M){throw oe.create("fetch-network-error",{originalErrorMessage:null===(o=M)||void 0===o?void 0:o.message})}if(200!==v.status)throw oe.create("fetch-status-error",{httpStatus:v.status});try{x=yield v.json()}catch(M){throw oe.create("fetch-parse-error",{originalErrorMessage:null===(i=M)||void 0===i?void 0:i.message})}const k=x.ttl.match(/^([\d.]+)(s)$/);if(!k||!k[2]||isNaN(Number(k[1])))throw oe.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${x.ttl}`});const R=1e3*Number(k[1]),J=Date.now();return{token:x.token,expireTimeMillis:J+R,issuedAtTimeMillis:J}})).apply(this,arguments)}function Ce(n,s){const{projectId:t,appId:o,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${o}:exchangeDebugToken?key=${i}`,body:{debug_token:s}}}const ke="firebase-app-check-store";let We=null;function Be(){return We||(We=new Promise((n,s)=>{var t;try{const o=indexedDB.open("firebase-app-check-database",1);o.onsuccess=i=>{n(i.target.result)},o.onerror=i=>{var c;s(oe.create("storage-open",{originalErrorMessage:null===(c=i.target.error)||void 0===c?void 0:c.message}))},o.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(ke,{keyPath:"compositeKey"})}}catch(o){s(oe.create("storage-open",{originalErrorMessage:null===(t=o)||void 0===t?void 0:t.message}))}}),We)}function Xe(){return(Xe=(0,z.Z)(function*(n,s){const o=(yield Be()).transaction(ke,"readwrite"),c=o.objectStore(ke).put({compositeKey:n,value:s});return new Promise((_,m)=>{c.onsuccess=v=>{_()},o.onerror=v=>{var x;m(oe.create("storage-set",{originalErrorMessage:null===(x=v.target.error)||void 0===x?void 0:x.message}))}})})).apply(this,arguments)}const Ne=new Mn.Yd("@firebase/app-check");function Do(n,s){return(0,He.hl)()?function sa(n,s){return function Ro(n,s){return Xe.apply(this,arguments)}(function jo(n){return`${n.options.appId}-${n.name}`}(n),s)}(n,s).catch(t=>{Ne.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Jo(){return At().enabled}function zo(){return nt.apply(this,arguments)}function nt(){return(nt=(0,z.Z)(function*(){const n=At();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const la={error:"UNKNOWN_ERROR"};function ua(n){return He.US.encodeString(JSON.stringify(n),!1)}function Jn(n){return zn.apply(this,arguments)}function zn(){return(zn=(0,z.Z)(function*(n,s=!1){const t=n.app;qo(t);const o=ee(t);let c,i=o.token;if(!i){const v=yield o.cachedTokenPromise;v&&Zt(v)&&(i=v)}if(!s&&i&&Zt(i))return{token:i.token};let m,_=!1;if(Jo()){o.exchangeTokenPromise||(o.exchangeTokenPromise=$e(Ce(t,yield zo()),n.heartbeatServiceProvider).then(x=>(o.exchangeTokenPromise=void 0,x)),_=!0);const v=yield o.exchangeTokenPromise;return yield Do(t,v),G(t,Object.assign(Object.assign({},o),{token:v})),{token:v.token}}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().then(v=>(o.exchangeTokenPromise=void 0,v)),_=!0),i=yield o.exchangeTokenPromise}catch(v){"appCheck/throttled"===v.code?Ne.warn(v.message):Ne.error(v),c=v}return i?(m={token:i.token},G(t,Object.assign(Object.assign({},o),{token:i})),yield Do(t,i)):m=Qr(c),_&&Go(t,m),m})).apply(this,arguments)}function St(n,s){const t=ee(n),o=t.tokenObservers.filter(i=>i.next!==s);0===o.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),G(n,Object.assign(Object.assign({},t),{tokenObservers:o}))}function Yo(n){const{app:s}=n,t=ee(s);let o=t.tokenRefresher;o||(o=function qr(n){const{app:s}=n;return new Lr((0,z.Z)(function*(){let o;if(o=ee(s).token?yield Jn(n,!0):yield Jn(n),o.error)throw o.error}),()=>!0,()=>{const t=ee(s);if(t.token){let o=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return o=Math.min(o,t.token.expireTimeMillis-3e5),Math.max(0,o-Date.now())}return 0},3e4,96e4)}(n),G(s,Object.assign(Object.assign({},t),{tokenRefresher:o}))),!o.isRunning()&&t.isTokenAutoRefreshEnabled&&o.start()}function Go(n,s){const t=ee(n).tokenObservers;for(const o of t)try{"EXTERNAL"===o.type&&null!=s.error?o.error(s.error):o.next(s)}catch(i){}}function Zt(n){return n.expireTimeMillis-Date.now()>0}function Qr(n){return{token:ua(la),error:n}}class Nr{constructor(s,t){this.app=s,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:s}=ee(this.app);for(const t of s)St(this.app,t.next);return Promise.resolve()}}const a="app-check-internal";!function l(){(0,Pn._registerComponent)(new xt.wA("app-check",n=>function Rr(n,s){return new Nr(n,s)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,s,t)=>{n.getProvider(a).initialize()})),(0,Pn._registerComponent)(new xt.wA(a,n=>function Yn(n){return{getToken:s=>Jn(n,s),addTokenListener:s=>function Tt(n,s,t,o){const{app:i}=n,c=ee(i),_={next:t,error:o,type:s};if(G(i,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,_]})),c.token&&Zt(c.token)){const m=c.token;Promise.resolve().then(()=>{t({token:m.token}),Yo(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>Yo(n))}(n,"INTERNAL",s),removeTokenListener:s=>St(n.app,s)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Pn.registerVersion)("@firebase/app-check","0.5.10")}();class h{constructor(){return(0,yt.vb)("app-check")}}"undefined"!=typeof window&&window,f(70127);const wa=new e.OlP("angularfire2.auth.use-emulator"),Ta=new e.OlP("angularfire2.auth.settings"),Sa=new e.OlP("angularfire2.auth.tenant-id"),Za=new e.OlP("angularfire2.auth.langugage-code"),ka=new e.OlP("angularfire2.auth.use-device-language"),Ia=new e.OlP("angularfire.auth.persistence");let ei=(()=>{class n{constructor(t,o,i,c,_,m,v,x,k,R,J,M){const ie=new Ln.xQ,we=(0,ht.of)(void 0).pipe((0,je.QV)(_.outsideAngular),(0,Qe.w)(()=>c.runOutsideAngular(()=>f.e(881).then(f.bind(f,65881)))),(0,ft.U)(()=>(0,u.on)(t,c,o)),(0,ft.U)(Te=>((n,s,t,o,i,c,_,m)=>(0,u.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=s.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),o&&(v.tenantId=o),v.languageCode=i,c&&v.useDeviceLanguage(),_)for(const[x,k]of Object.entries(_))v.settings[x]=k;return m&&v.setPersistence(m),v},[t,o,i,c,_,m]))(Te,c,m,x,k,R,v,J)),(0,Oo.d)({bufferSize:1,refCount:!1}));if((0,A.PM)(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ht.of)(null);else{we.pipe((0,Ar.P)()).subscribe();const Se=we.pipe((0,Qe.w)(V=>V.getRedirectResult().then(ce=>ce,()=>null)),yt.iC,(0,Oo.d)({bufferSize:1,refCount:!1})),be=we.pipe((0,Qe.w)(V=>new mt.y(ce=>({unsubscribe:c.runOutsideAngular(()=>V.onAuthStateChanged(at=>ce.next(at),at=>ce.error(at),()=>ce.complete()))})))),Ye=we.pipe((0,Qe.w)(V=>new mt.y(ce=>({unsubscribe:c.runOutsideAngular(()=>V.onIdTokenChanged(at=>ce.next(at),at=>ce.error(at),()=>ce.complete()))}))));this.authState=Se.pipe((0,Lo.c)(be),(0,vt.R)(_.outsideAngular),(0,je.QV)(_.insideAngular)),this.user=Se.pipe((0,Lo.c)(Ye),(0,vt.R)(_.outsideAngular),(0,je.QV)(_.insideAngular)),this.idToken=this.user.pipe((0,Qe.w)(V=>V?(0,Io.D)(V.getIdToken()):(0,ht.of)(null))),this.idTokenResult=this.user.pipe((0,Qe.w)(V=>V?(0,Io.D)(V.getIdTokenResult()):(0,ht.of)(null))),this.credential=(0,xr.T)(Se,ie,this.authState.pipe((0,En.h)(V=>!V))).pipe((0,ft.U)(V=>null!=V&&V.user?V:null),(0,vt.R)(_.outsideAngular),(0,je.QV)(_.insideAngular))}return(0,u.pX)(this,we,c,{spy:{apply:(Te,Se,be)=>{(Te.startsWith("signIn")||Te.startsWith("createUser"))&&be.then(Ye=>ie.next(Ye))}}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(u.Dh),e.LFG(u.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(yt.HU),e.LFG(wa,8),e.LFG(Ta,8),e.LFG(Sa,8),e.LFG(Za,8),e.LFG(ka,8),e.LFG(Ia,8),e.LFG(h,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var pa=f(42466),ha=f(73396);function La(n,s){1&n&&(e.TgZ(0,"div",53)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Ea(n,s){if(1&n&&(e.TgZ(0,"div",53)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(t.msgError)}}function Pa(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",54),e._UZ(2,"path",55)(3,"circle",56),e.qZA()())}function Ma(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",54),e._UZ(2,"path",57)(3,"path",58)(4,"path",59)(5,"line",60),e.qZA()())}function Ua(n,s){1&n&&(e.TgZ(0,"div",61)(1,"div"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_mat_khau")))}function qa(n,s){if(1&n&&(e.TgZ(0,"div",62),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.messageError)," ")}}function Qa(n,s){1&n&&(e.O4$(),e.TgZ(0,"svg",63)(1,"g",64)(2,"g",65),e._UZ(3,"circle",66),e.TgZ(4,"path",67),e._UZ(5,"animateTransform",68),e.qZA()()()())}const Na=function(n){return[n]},Ra=function(n){return{return_url:n,user_click:"true"}};function Fa(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"auth-layout")(1,"div",1)(2,"form",2)(3,"h2",3),e._uU(4),e.ALo(5,"mytranslate"),e.qZA(),e.TgZ(6,"div",4)(7,"div",5)(8,"input",6),e.NdJ("keydown.enter",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.login())})("input",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.checkValidateUser(i.form.controls.phone.value))}),e.ALo(9,"mytranslate"),e.qZA(),e.YNc(10,La,4,3,"div",7),e.YNc(11,Ea,3,1,"div",7),e.qZA(),e.TgZ(12,"div",5)(13,"div",8)(14,"input",9),e.NdJ("keydown.enter",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.login())}),e.ALo(15,"mytranslate"),e.qZA(),e.TgZ(16,"button",10),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.togglePassword())}),e.YNc(17,Pa,4,0,"span",0),e.YNc(18,Ma,6,0,"span",0),e.qZA()(),e.YNc(19,Ua,4,3,"div",11),e.qZA()(),e.YNc(20,qa,3,3,"div",12),e.TgZ(21,"div",13)(22,"a",14),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.forgotPassword())}),e._uU(23),e.ALo(24,"mytranslate"),e.qZA()(),e.TgZ(25,"div",15)(26,"button",16),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.login())}),e.YNc(27,Qa,6,0,"svg",17),e._uU(28),e.ALo(29,"mytranslate"),e.qZA()(),e.TgZ(30,"div",18)(31,"span"),e._uU(32),e.ALo(33,"mytranslate"),e.qZA(),e.TgZ(34,"a",19),e.ALo(35,"mylocalize"),e._uU(36),e.ALo(37,"mytranslate"),e.qZA()(),e.TgZ(38,"div",20)(39,"span",21),e._uU(40),e.ALo(41,"mytranslate"),e.qZA()(),e.TgZ(42,"div",22)(43,"button",23),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.loginZalo())})("keydown.enter",function(i){return i.preventDefault()}),e.O4$(),e.TgZ(44,"svg",24)(45,"style"),e._uU(46," .st0 { fill: #fdfefe } .st1 { fill: #0180c7 } .st2 { fill: #0172b1 } .st3 { fill: none; stroke: #0180c7; stroke-width: 2; stroke-miterlimit: 10 } "),e.qZA(),e.TgZ(47,"title"),e._uU(48,"logo-zalo-vector"),e.qZA(),e._UZ(49,"path",25)(50,"path",26)(51,"path",27)(52,"path",28)(53,"path",29)(54,"path",30)(55,"path",31),e.qZA(),e.kcU(),e.TgZ(56,"span",32),e._uU(57,"Zalo"),e.qZA()(),e.TgZ(58,"button",33),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.googleSignIn())})("keydown.enter",function(i){return i.preventDefault()}),e.O4$(),e.TgZ(59,"svg",34),e._UZ(60,"path",35)(61,"path",36)(62,"path",37)(63,"path",38),e.qZA(),e.kcU(),e.TgZ(64,"span",32),e._uU(65,"Google"),e.qZA()(),e.TgZ(66,"button",39),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.loginByQrCode())})("keydown.enter",function(i){return i.preventDefault()}),e.O4$(),e.TgZ(67,"svg",40),e._UZ(68,"rect",41)(69,"rect",42)(70,"rect",43)(71,"path",44)(72,"path",45)(73,"path",46)(74,"path",47)(75,"path",48)(76,"path",49)(77,"path",50)(78,"path",51)(79,"path",52),e.qZA(),e.kcU(),e.TgZ(80,"span",32),e._uU(81,"Qrcode"),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.form),e.xp6(2),e.hij(" ",e.lcZ(5,20,"lang_auto_dang_nhap")," "),e.xp6(4),e.s9C("placeholder",e.lcZ(9,22,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",t.form.controls.phone.invalid&&(t.form.controls.phone.dirty||t.form.controls.phone.touched)&&!t.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",t.checkValidateUsername),e.xp6(3),e.s9C("placeholder",e.lcZ(15,24,"lang_auto_mat_khau")),e.Q6J("type",t.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",""!=t.messageError),e.xp6(3),e.Oqu(e.lcZ(24,26,"lang_auto_quen_mat_khau")),e.xp6(3),e.Q6J("disabled",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading||t.checkLoadingLogin),e.xp6(1),e.hij(" ",e.lcZ(29,28,"lang_auto_dang_nhap")," "),e.xp6(4),e.Oqu(e.lcZ(33,30,"lang_auto_ban_chua_co_tai_khoan")),e.xp6(2),e.Q6J("routerLink",e.VKq(38,Na,e.lcZ(35,32,"/auth/register")))("queryParams",e.VKq(40,Ra,t.returnUrl)),e.xp6(2),e.hij(" ",e.lcZ(37,34,"lang_auto_tao_mot_tai_khoan_moi")," "),e.xp6(4),e.hij(" ",e.lcZ(41,36,"lang_auto_hoac")," ")}}let ja=(()=>{class n extends N.Q{constructor(t,o,i,c,_,m,v,x,k,R){super(o),this.formBuilder=t,this.commonService=o,this.baseApiService=i,this.localStorageObject=c,this.authService=_,this.fireAuth=m,this.userService=v,this.browserStorageService=x,this.translate=k,this.recaptchaV3Service=R,this.form=new g.nJ({}),this.zaloAccessTkn="",this.mAccessTkn="",this.returnUrl="",this.zaloLoginUrl="",this.loginByToken=!0,this.msgError="",this.messageError="",this.checkValidateUsername=!1,this.checkLoadingLogin=!0,this.showPassword=!1,this.isLogin=!1,this.isAnonymous=!1,this.initStatusObj(),m.authState.subscribe(J=>{J?this.signInWithTokenGoogle(J):this.checkLoadingLogin=!1})}executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(o=>{t(o)})})}getError(t){return!(!this.form.controls[t]||!this.form.controls[t].errors)&&this.form.controls[t].errors}loginZalo(){this.commonService.gaEvent("sign_in_click_sign_in_by_zalo"),window.location.href=this.zaloLoginUrl}forgotPassword(){this.commonService.gaEvent("sign_in_forgot_password"),this.commonService.myNavigation("/auth/confirm_forgot_password")}login(){var t=this.commonService.getMyQueryParam("type");this.form.valid?(this.initStatusObj(),this.commonService.gaEvent("sign_in_login_in"),this.executeImportantAction().then(o=>{var i=this.commonService.getFormObj(this.form);this.subscriptions.add(this.authService.apiAuthLoginWebPost({phone:i.phone,password:i.password,tokenCaptcha:o}).subscribe(_=>{var m,v,x,k;1==_.success?(this.localStorageObject.clearAllCache(),"0"==t?this.baseApiService.redirectLoginForStudent(null!==(m=this.commonService.getMyQueryParam("return_url"))&&void 0!==m?m:""):this.baseApiService.redirectLoginByRole(null!==(v=this.commonService.getMyQueryParam("return_url"))&&void 0!==v?v:""),this.successStatusObj()):(console.log(_.message),this.messageError=null!==(x=_.message)&&void 0!==x?x:"",this.errorStatusObj(null!==(k=_.message)&&void 0!==k?k:""))}))})):this.showErrorSnack("lang_auto_vui_long_nhap_day_du_thong_tin")}loginAnonymous(){this.initStatusObj(),this.commonService.gaEvent("sign_in_login_anonymous"),this.executeImportantAction().then(t=>{this.subscriptions.add(this.authService.apiAuthLoginAnonymousFromWebV2Post({tokenCaptcha:t}).subscribe(i=>{var c,_;1==i.success?(this.baseApiService.redirectLoginByRole(null!==(c=this.commonService.getMyQueryParam("return_url"))&&void 0!==c?c:""),this.successStatusObj()):this.errorStatusObj(null!==(_=i.message)&&void 0!==_?_:"")}))})}loginWithZaloAccessToken(t){var o,i=this.userService.getUserObjFromJwtToken(t);null!=i?(this.userService.saveUserObj(i),this.baseApiService.redirectLoginByRole(null!==(o=this.commonService.getMyQueryParam("return_url"))&&void 0!==o?o:"")):(this.errorStatusObj("lang_core_invalid_login_token"),this.loginByToken=!1)}googleSignIn(){this.fireAuth.signInWithRedirect(new Re.hJ).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{console.log(t)})}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}signInWithTokenGoogle(t){this.checkLoadingLogin=!0;var o=this.commonService.getMyQueryParam("type");t.getIdToken().then(i=>{let c={isRegisterForTeacher:0,firebaseToken:i,language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(c).subscribe(_=>{var m,v,x,k;1==_.success?(1==(null===(m=_.data)||void 0===m?void 0:m.isNewRegister)?this.myNavigation("/auth/choose-role"):"0"==o?this.baseApiService.redirectLoginForStudent(null!==(v=this.commonService.getMyQueryParam("return_url"))&&void 0!==v?v:""):this.baseApiService.redirectLoginByRole(null!==(x=this.commonService.getMyQueryParam("return_url"))&&void 0!==x?x:""),this.checkLoadingLogin=!1):(this.checkLoadingLogin=!1,this.errorStatusObj(null!==(k=_.message)&&void 0!==k?k:"",!0))}))})}togglePassword(){this.showPassword=!this.showPassword}loginByQrCode(){this.myNavigation("/auth/login-scan/2")}ngOnInit(){var t,o,i,c;if(super.ngOnInit(),this.zaloAccessTkn=null!==(t=this.commonService.getMyQueryParam("zaccess_token"))&&void 0!==t?t:"",this.mAccessTkn=null!==(o=this.commonService.getMyQueryParam("access_token"))&&void 0!==o?o:"",!this.commonService.getMyQueryParam("not_register")&&this.zaloAccessTkn)this.loginByToken=!0,this.loginWithZaloAccessToken(this.zaloAccessTkn);else if(!this.commonService.getMyQueryParam("not_register")&&this.mAccessTkn)this.loginByToken=!0,this.loginWithZaloAccessToken(this.mAccessTkn);else{this.loginByToken=!1,this.initStatusObj();var _=!1;this.form=this.formBuilder.group({phone:["",[g.kI.required,Ae._.noWhiteSpace]],password:["",g.kI.required]}),this.commonService.getMyQueryParam("not_register")?this.commonService.myNavigation("/auth/register"):this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?this.baseApiService.redirectLoginByRole(null!==(i=this.commonService.getMyQueryParam("return_url"))&&void 0!==i?i:""):(this.returnUrl=this.commonService.getMyQueryParam("return_url")||"",-1===this.returnUrl.indexOf("/test/")&&-1===this.returnUrl.indexOf("/de-thi/")&&-1===this.returnUrl.indexOf("/bai-tap/")||"register"==this.commonService.getMyQueryParam("from")?(this.zaloLoginUrl=_e.N.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_login=1"),_=!0):this.baseApiService.isLogin()?this.baseApiService.redirectLoginByRole(null!==(c=this.commonService.getMyQueryParam("return_url"))&&void 0!==c?c:""):this.loginAnonymous()),_&&(!this.commonService.getMyQueryParam("user_click")&&this.baseApiService.isAnonymousRole()?this.myNavigation("/student/dashboard/0"):(this.commonService.translateMetaData({title:"lang_cms_auth_login_title",description:"lang_cms_auth_login_description",image:"lang_cms_test_image"}),this.stopStatusObj(),super.ngOnInit()))}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.QS),e.Y36(B.v),e.Y36(F._),e.Y36(Xt.L),e.Y36(Z.e8),e.Y36(ei),e.Y36(Et.K),e.Y36(K.z),e.Y36(pa.sK),e.Y36(ha.YC))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],features:[e.qOj],decls:1,vars:1,consts:[[4,"ngIf"],[1,"azt-login-form"],[3,"formGroup"],[1,"intro-x","font-bold","text-2xl","text-center"],[1,"intro-x","mt-5"],[1,"azt-form-group"],["type","text","formControlName","phone",1,"intro-x","login__input","form-control","py-3","px-4","block",3,"placeholder","keydown.enter","input"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],[1,"relative"],["formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder","keydown.enter"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],["class","text-danger text-xs font-medium mt-2 font-medium",4,"ngIf"],["class","text-xs text-danger font-medium mt-2",4,"ngIf"],[1,"intro-x","flex","text-slate-600","dark:text-slate-500","text-xs","sm:text-sm","mt-4"],[3,"click"],[1,"intro-x","mt-5","text-center","xl:text-left"],[1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white","class","w-4 h-4 mr-2",4,"ngIf"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500","text-center","xl:text-left"],[1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],[1,"btn","btn-outline-secondary","mr-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","id","Layer_1","viewBox","0 0 460.1 436.6",1,"lucide","w-4","h-4","mr-2"],["d","M82.6 380.9c-1.8-.8-3.1-1.7-1-3.5 1.3-1 2.7-1.9 4.1-2.8 13.1-8.5 25.4-17.8 33.5-31.5 6.8-11.4 5.7-18.1-2.8-26.5C69 269.2 48.2 212.5 58.6 145.5 64.5 107.7 81.8 75 107 46.6c15.2-17.2 33.3-31.1 53.1-42.7 1.2-.7 2.9-.9 3.1-2.7-.4-1-1.1-.7-1.7-.7-33.7 0-67.4-.7-101 .2C28.3 1.7.5 26.6.6 62.3c.2 104.3 0 208.6 0 313 0 32.4 24.7 59.5 57 60.7 27.3 1.1 54.6.2 82 .1 2 .1 4 .2 6 .2H290c36 0 72 .2 108 0 33.4 0 60.5-27 60.5-60.3v-.6-58.5c0-1.4.5-2.9-.4-4.4-1.8.1-2.5 1.6-3.5 2.6-19.4 19.5-42.3 35.2-67.4 46.3-61.5 27.1-124.1 29-187.6 7.2-5.5-2-11.5-2.2-17.2-.8-8.4 2.1-16.7 4.6-25 7.1-24.4 7.6-49.3 11-74.8 6zm72.5-168.5c1.7-2.2 2.6-3.5 3.6-4.8 13.1-16.6 26.2-33.2 39.3-49.9 3.8-4.8 7.6-9.7 10-15.5 2.8-6.6-.2-12.8-7-15.2-3-.9-6.2-1.3-9.4-1.1-17.8-.1-35.7-.1-53.5 0-2.5 0-5 .3-7.4.9-5.6 1.4-9 7.1-7.6 12.8 1 3.8 4 6.8 7.8 7.7 2.4.6 4.9.9 7.4.8 10.8.1 21.7 0 32.5.1 1.2 0 2.7-.8 3.6 1-.9 1.2-1.8 2.4-2.7 3.5-15.5 19.6-30.9 39.3-46.4 58.9-3.8 4.9-5.8 10.3-3 16.3s8.5 7.1 14.3 7.5c4.6.3 9.3.1 14 .1 16.2 0 32.3.1 48.5-.1 8.6-.1 13.2-5.3 12.3-13.3-.7-6.3-5-9.6-13-9.7-14.1-.1-28.2 0-43.3 0zm116-52.6c-12.5-10.9-26.3-11.6-39.8-3.6-16.4 9.6-22.4 25.3-20.4 43.5 1.9 17 9.3 30.9 27.1 36.6 11.1 3.6 21.4 2.3 30.5-5.1 2.4-1.9 3.1-1.5 4.8.6 3.3 4.2 9 5.8 14 3.9 5-1.5 8.3-6.1 8.3-11.3.1-20 .2-40 0-60-.1-8-7.6-13.1-15.4-11.5-4.3.9-6.7 3.8-9.1 6.9zm69.3 37.1c-.4 25 20.3 43.9 46.3 41.3 23.9-2.4 39.4-20.3 38.6-45.6-.8-25-19.4-42.1-44.9-41.3-23.9.7-40.8 19.9-40 45.6zm-8.8-19.9c0-15.7.1-31.3 0-47 0-8-5.1-13-12.7-12.9-7.4.1-12.3 5.1-12.4 12.8-.1 4.7 0 9.3 0 14v79.5c0 6.2 3.8 11.6 8.8 12.9 6.9 1.9 14-2.2 15.8-9.1.3-1.2.5-2.4.4-3.7.2-15.5.1-31 .1-46.5z",1,"st0"],["d","M139.5 436.2c-27.3 0-54.7.9-82-.1-32.3-1.3-57-28.4-57-60.7 0-104.3.2-208.6 0-313C.5 26.7 28.4 1.8 60.5.9c33.6-.9 67.3-.2 101-.2.6 0 1.4-.3 1.7.7-.2 1.8-2 2-3.1 2.7-19.8 11.6-37.9 25.5-53.1 42.7-25.1 28.4-42.5 61-48.4 98.9-10.4 66.9 10.5 123.7 57.8 171.1 8.4 8.5 9.5 15.1 2.8 26.5-8.1 13.7-20.4 23-33.5 31.5-1.4.8-2.8 1.8-4.2 2.7-2.1 1.8-.8 2.7 1 3.5.4.9.9 1.7 1.5 2.5 11.5 10.2 22.4 21.1 33.7 31.5 5.3 4.9 10.6 10 15.7 15.1 2.1 1.9 5.6 2.5 6.1 6.1z",1,"st1"],["d","M139.5 436.2c-.5-3.5-4-4.1-6.1-6.2-5.1-5.2-10.4-10.2-15.7-15.1-11.3-10.4-22.2-21.3-33.7-31.5-.6-.8-1.1-1.6-1.5-2.5 25.5 5 50.4 1.6 74.9-5.9 8.3-2.5 16.6-5 25-7.1 5.7-1.5 11.7-1.2 17.2.8 63.4 21.8 126 19.8 187.6-7.2 25.1-11.1 48-26.7 67.4-46.2 1-1 1.7-2.5 3.5-2.6.9 1.4.4 2.9.4 4.4v58.5c.2 33.4-26.6 60.6-60 60.9h-.5c-36 .2-72 0-108 0H145.5c-2-.2-4-.3-6-.3z",1,"st2"],["d","M155.1 212.4c15.1 0 29.3-.1 43.4 0 7.9.1 12.2 3.4 13 9.7.9 7.9-3.7 13.2-12.3 13.3-16.2.2-32.3.1-48.5.1-4.7 0-9.3.2-14-.1-5.8-.3-11.5-1.5-14.3-7.5s-.8-11.4 3-16.3c15.4-19.6 30.9-39.3 46.4-58.9.9-1.2 1.8-2.4 2.7-3.5-1-1.7-2.4-.9-3.6-1-10.8-.1-21.7 0-32.5-.1-2.5 0-5-.3-7.4-.8-5.7-1.3-9.2-7-7.9-12.6.9-3.8 3.9-6.9 7.7-7.8 2.4-.6 4.9-.9 7.4-.9 17.8-.1 35.7-.1 53.5 0 3.2-.1 6.3.3 9.4 1.1 6.8 2.3 9.7 8.6 7 15.2-2.4 5.7-6.2 10.6-10 15.5-13.1 16.7-26.2 33.3-39.3 49.8-1.1 1.3-2.1 2.6-3.7 4.8z",1,"st1"],["d","M271.1 159.8c2.4-3.1 4.9-6 9-6.8 7.9-1.6 15.3 3.5 15.4 11.5.3 20 .2 40 0 60 0 5.2-3.4 9.8-8.3 11.3-5 1.9-10.7.4-14-3.9-1.7-2.1-2.4-2.5-4.8-.6-9.1 7.4-19.4 8.7-30.5 5.1-17.8-5.8-25.1-19.7-27.1-36.6-2.1-18.3 4-33.9 20.4-43.5 13.6-8.1 27.4-7.4 39.9 3.5zm-35.4 36.5c.2 4.4 1.6 8.6 4.2 12.1 5.4 7.2 15.7 8.7 23 3.3 1.2-.9 2.3-2 3.3-3.3 5.6-7.6 5.6-20.1 0-27.7-2.8-3.9-7.2-6.2-11.9-6.3-11-.7-18.7 7.8-18.6 21.9zM340.4 196.9c-.8-25.7 16.1-44.9 40.1-45.6 25.5-.8 44.1 16.3 44.9 41.3.8 25.3-14.7 43.2-38.6 45.6-26.1 2.6-46.8-16.3-46.4-41.3zm25.1-2.4c-.2 5 1.3 9.9 4.3 14 5.5 7.2 15.8 8.6 23 3 1.1-.8 2-1.8 2.9-2.8 5.8-7.6 5.8-20.4.1-28-2.8-3.8-7.2-6.2-11.9-6.3-10.8-.6-18.4 7.6-18.4 20.1zM331.6 177c0 15.5.1 31 0 46.5.1 7.1-5.5 13-12.6 13.2-1.2 0-2.5-.1-3.7-.4-5-1.3-8.8-6.6-8.8-12.9v-79.5c0-4.7-.1-9.3 0-14 .1-7.7 5-12.7 12.4-12.7 7.6-.1 12.7 4.9 12.7 12.9.1 15.6 0 31.3 0 46.9z",1,"st1"],["d","M235.7 196.3c-.1-14.1 7.6-22.6 18.5-22 4.7.2 9.1 2.5 11.9 6.4 5.6 7.5 5.6 20.1 0 27.7-5.4 7.2-15.7 8.7-23 3.3-1.2-.9-2.3-2-3.3-3.3-2.5-3.5-3.9-7.7-4.1-12.1zM365.5 194.5c0-12.4 7.6-20.7 18.4-20.1 4.7.1 9.1 2.5 11.9 6.3 5.7 7.6 5.7 20.5-.1 28-5.6 7.1-16 8.3-23.1 2.7-1.1-.8-2-1.8-2.8-2.9-3-4.1-4.4-9-4.3-14z",1,"st0"],["d","M66 1h328.1c35.9 0 65 29.1 65 65v303c0 35.9-29.1 65-65 65H66c-35.9 0-65-29.1-65-65V66C1 30.1 30.1 1 66 1z",1,"st3"],[1,"text-md"],[1,"btn","btn-outline-secondary","mx-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"btn","btn-outline-secondary","ml-1",2,"width","calc(100% / 3 - 0.25rem)",3,"click","keydown.enter"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-4","h-4","mr-2"],["x","3","y","3","width","5","height","5","rx","1"],["x","16","y","3","width","5","height","5","rx","1"],["x","3","y","16","width","5","height","5","rx","1"],["d","M21 16h-3a2 2 0 0 0-2 2v3"],["d","M21 21v.01"],["d","M12 7v3a2 2 0 0 1-2 2H7"],["d","M3 12h.01"],["d","M12 3h.01"],["d","M12 16v.01"],["d","M16 12h1"],["d","M21 12v.01"],["d","M12 21v-1"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"text-danger","text-xs","font-medium","mt-2","font-medium"],[1,"text-xs","text-danger","font-medium","mt-2"],["width","25","viewBox","-2 -2 42 42","xmlns","http://www.w3.org/2000/svg","stroke","white",1,"w-4","h-4","mr-2"],["fill","none","fill-rule","evenodd"],["transform","translate(1 1)","stroke-width","4"],["stroke-opacity",".5","cx","18","cy","18","r","18"],["d","M36 18c0-9.94-8.06-18-18-18"],["attributeName","transform","type","rotate","from","0 18 18","to","360 18 18","dur","1s","repeatCount","indefinite"]],template:function(t,o){1&t&&e.YNc(0,Fa,82,42,"auth-layout",0),2&t&&e.Q6J("ngIf",!o.loginByToken)},dependencies:[O.yS,A.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,te.M,ct,w.mp,w.bT],encapsulation:2}),n})(),Da=(()=>{class n extends N.Q{constructor(t,o,i,c){super(t),this.commonService=t,this.baseApiService=o,this.fireAuth=i,this.redirectService=c,this.fireAuth.signOut()}ngOnInit(){this.baseApiService.logout(),this.fireAuth.signOut();var t=this.commonService.getMyQueryParam("return_url")||null;t?this.redirectService.redirectSimpleLoginWithReturnUrl(t):this.redirectService.redirectSimpleLogin(),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v),e.Y36(F._),e.Y36(ei),e.Y36(q.V))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],features:[e.qOj],decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})(),Ba=(()=>{class n extends N.Q{constructor(t){super(t),this.commonService=t}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["auth-master-page"]],features:[e.qOj],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[O.lC],encapsulation:2}),n})();function Ja(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeRegisterType(0))}),e.TgZ(2,"div",45),e._UZ(3,"i",46),e.TgZ(4,"p"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()(),e.TgZ(7,"div",44),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.changeRegisterType(1))}),e.TgZ(8,"div",45),e._UZ(9,"img",47),e.ALo(10,"convertCdn"),e.TgZ(11,"p"),e._uU(12),e.ALo(13,"mytranslate"),e.qZA()()()()}2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,3,"lang_auto_toi_la_hoc_sinh")),e.xp6(4),e.Q6J("src",e.lcZ(10,5,"azota_assets/images/teacher.png"),e.LSH),e.xp6(3),e.Oqu(e.lcZ(13,7,"lang_auto_toi_la_giao_vien")))}function za(n,s){1&n&&(e.TgZ(0,"div",48)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_ho_va_ten")))}function Ya(n,s){1&n&&(e.TgZ(0,"div",48)(1,"span"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"lang_auto_vui_long_nhap_dung_sdt_hoac_email")))}function Ga(n,s){if(1&n&&(e.TgZ(0,"div",48)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.msgError)}}function Va(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",49),e._UZ(2,"path",50)(3,"circle",51),e.qZA()())}function Ka(n,s){1&n&&(e.TgZ(0,"span"),e.O4$(),e.TgZ(1,"svg",49),e._UZ(2,"path",52)(3,"path",53)(4,"path",54)(5,"line",55),e.qZA()())}function Ha(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_vui_long_nhap_mat_khau")))}function $a(n,s){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")))}function Wa(n,s){if(1&n&&(e.TgZ(0,"div",48),e.YNc(1,Ha,3,3,"span",24),e.YNc(2,$a,3,3,"span",24),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",t.form.controls.password.errors.minlength)}}const Jr=function(n){return[n]},ma=function(n,s){return{return_url:n,from:"register",user_click:"true",type:s}};function Xa(n,s){if(1&n&&(e.TgZ(0,"div",59),e._uU(1),e.ALo(2,"mytranslate"),e.TgZ(3,"a",60),e.ALo(4,"localize"),e._uU(5),e.ALo(6,"mytranslate"),e.qZA(),e._uU(7),e.ALo(8,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,5,t.statusObj.errorMessage)," Click "),e.xp6(2),e.Q6J("routerLink",e.VKq(13,Jr,e.lcZ(4,7,"/auth/login")))("queryParams",e.WLB(15,ma,t.returnUrl,t.isStudent?0:1)),e.xp6(2),e.hij(" ",e.lcZ(6,9,"lang_auto_vao_day")," "),e.xp6(2),e.hij(" ",e.lcZ(8,11,"lang_auto_de_dang_nhap")," ")}}function es(n,s){if(1&n&&(e.TgZ(0,"label",61),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.statusObj.errorMessage)," ")}}function ts(n,s){if(1&n&&(e.TgZ(0,"div",56),e.YNc(1,Xa,9,18,"div",57),e.YNc(2,es,3,3,"ng-template",null,58,e.W1O),e.qZA()),2&n){const t=e.MAs(3),o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",t)}}function ns(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",62),e._uU(2,"\xa0"),e.qZA())}function os(n,s){if(1&n&&(e.ynx(0),e.TgZ(1,"a",63),e.ALo(2,"localize"),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("routerLink",e.VKq(7,Jr,e.lcZ(2,3,"/auth/login")))("queryParams",e.WLB(9,ma,t.returnUrl,t.isStudent?0:1)),e.xp6(2),e.hij(" ",e.lcZ(4,5,"lang_auto_dang_nhap")," ")}}const is=function(n){return{return_url:n,from:"register",user_click:"true"}};function rs(n,s){if(1&n&&(e.TgZ(0,"a",63),e.ALo(1,"localize"),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()),2&n){const t=e.oxw();e.Q6J("routerLink",e.VKq(7,Jr,e.lcZ(1,3,"/auth/login")))("queryParams",e.VKq(9,is,t.returnUrl)),e.xp6(2),e.Oqu(e.lcZ(3,5,"lang_auto_dang_nhap"))}}const fa=function(n){return{active:n}};let va=(()=>{class n extends N.Q{constructor(t,o,i,c,_,m,v,x,k){super(i),this.formBuilder=t,this.activeRoute=o,this.commonService=i,this.baseApiService=c,this.recaptchaV3Service=_,this.fireAuth=m,this.browserStorageService=v,this.translate=x,this.authService=k,this.form=new g.nJ({}),this.returnUrl="",this.zaloLoginUrl="",this.isHiddenFormRegister=!0,this.isTeacher=!0,this.isStudent=!1,this.yesterday=new Date,this.isShowOption=!0,this.isShowRegisterForStudent=!1,this.isShowRegisterForTeacher=!1,this.checkValidateUsername=!1,this.msgError="",this.checkLoadingLogin=!0,this.showPassword=!1,this.isDuplicateEmailOrPhone=0,this.initStatusObj(),m.authState.subscribe(R=>{R?this.signInWithTokenGoogle(R):this.checkLoadingLogin=!1})}executeImportantAction(){return new Promise(t=>{this.recaptchaV3Service.execute("importantAction").subscribe(o=>{t(o)})})}goToConfirm(){var t;this.returnUrl=null!==(t=this.commonService.getMyQueryParam("return_url"))&&void 0!==t?t:"";var o="?return_url="+encodeURIComponent(this.returnUrl)+"&confirm_type=confirm_phone_register";this.commonService.myNavigationWithQueryString("/auth/checking_service",o)}changeRegisterType(t){this.isShowOption=!1,this.myNavigationWithQueryString(`/auth/register/${t}`,this.returnUrl?`?return_url=${encodeURIComponent(this.returnUrl)}&user_click=true`:"?user_click=true"),0==t?(this.commonService.gaEvent("sign_up_switch_to_student"),this.isTeacher=!1,this.isStudent=!0,this.checkValidateUsername=!1):(this.commonService.gaEvent("sign_up_switch_to_teacher"),this.isTeacher=!0,this.isStudent=!1,this.checkValidateUsername=!1)}loginZalo(){this.commonService.gaEvent("sign_up_teacher_by_zalo"),window.location.href=this.zaloLoginUrl}registerForTeacher(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(t=>{var o=this.commonService.getFormObj(this.form),i={fullName:o.fullName,password:o.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};this.validateEmail(o.username)?i.email=o.username:i.phone=o.username,this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthRegisterPost(i).subscribe(c=>{var _,m,v,x;1==c.success?(this.commonService.gaEvent("sign_up_teacher"),this.successStatusObj(),this.baseApiService.redirectLoginByRoleForRegister(null!==(_=this.commonService.getMyQueryParam("return_url"))&&void 0!==_?_:"")):(this.errorStatusObj(null!==(m=c.message)&&void 0!==m?m:""),this.isDuplicateEmailOrPhone=null!==(x=null===(v=c.data)||void 0===v?void 0:v.isDuplicateEmailOrPhone)&&void 0!==x?x:0)}))})}registerForStudent(){this.form.valid&&!this.checkValidateUsername&&this.executeImportantAction().then(t=>{this.commonService.gaEvent("sign_up_student");var o=this.commonService.getFormObj(this.form);this.initStatusObj();var i={fullName:o.fullName,password:o.password,tokenCaptcha:t,language:this.commonService.getCurrentLang()};this.validateEmail(o.username)?i.email=o.username:i.phone=o.username,this.subscriptions.add(this.authService.apiAuthRegisterForStudentPost(i).subscribe(c=>{var _,m,v,x;1==c.success?(this.successStatusObj(),this.baseApiService.redirectLoginByRole(null!==(_=this.commonService.getMyQueryParam("return_url"))&&void 0!==_?_:"")):(this.errorStatusObj(null!==(m=c.message)&&void 0!==m?m:""),this.isDuplicateEmailOrPhone=null!==(x=null===(v=c.data)||void 0===v?void 0:v.isDuplicateEmailOrPhone)&&void 0!==x?x:0)}))})}validateEmail(t){return t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}checkValidateUser(t){this.msgError="",isNaN(Number(t))?this.validateEmail(t)?(this.checkValidateUsername=!1,this.msgError=""):(this.commonService.getTranslate("lang_auto_vui_long_nhap_dung_dinh_dang_email").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0):10==t.length?(this.msgError="",this.checkValidateUsername=!1):(this.commonService.getTranslate("lang_auto_so_dien_thoai_phai_la_so_va_10_ky_tu").subscribe(o=>{this.msgError=o}),this.checkValidateUsername=!0)}googleSignIn(){this.fireAuth.signInWithRedirect(new Re.hJ).then(()=>this.fireAuth.getRedirectResult().then(t=>{})).catch(t=>{console.log(t)})}signInWithTokenGoogle(t){this.checkLoadingLogin=!0;let o=this.commonService.getMyParam(this.activeRoute,"type"),i=parseInt(null!=o?o:"0",10);t.getIdToken().then(c=>{let _={isRegisterForm:1,isRegisterForTeacher:i,firebaseToken:c,language:this.commonService.getCurrentLang()};this.subscriptions.add(this.authService.apiAuthAuthByFirebasePost(_).subscribe(m=>{var v,x,k,R,J;1==m.success?(this.isStudent?this.baseApiService.redirectLoginForStudent(null!==(v=this.commonService.getMyQueryParam("return_url"))&&void 0!==v?v:""):this.baseApiService.redirectLoginByRole(null!==(x=this.commonService.getMyQueryParam("return_url"))&&void 0!==x?x:""),this.successStatusObj(),this.checkLoadingLogin=!1):(this.errorStatusObj(null!==(k=m.message)&&void 0!==k?k:"",!0),this.isDuplicateEmailOrPhone=null!==(J=null===(R=m.data)||void 0===R?void 0:R.isDuplicateEmailOrPhone)&&void 0!==J?J:0,this.checkLoadingLogin=!1)}))})}togglePassword(){this.showPassword=!this.showPassword}ngOnInit(){if(super.ngOnInit(),this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole())this.baseApiService.redirectLoginByRole("");else{this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getLocalRouter("/admin/testbank/dashboard"),this.zaloLoginUrl=_e.N.main_api+"Auth/LoginZalo?callback_uri="+encodeURIComponent(this.commonService.getLocalRouter("/auth/login")+"?return_url="+this.returnUrl+"&is_register=1");let i=this.commonService.getMyQueryParam("user_click");var t=this.commonService.getMyParam(this.activeRoute,"type");if(null!=t){var o=parseInt(null==t?void 0:t.toString(),10);this.changeRegisterType(0==o?0:1)}this.yesterday.setDate(this.yesterday.getDate()-1),this.form=this.formBuilder.group({fullName:["",[g.kI.required,Ae._.noWhiteSpace]],username:["",[g.kI.required,Ae._.noWhiteSpace]],password:["",[g.kI.required,g.kI.minLength(6)]]}),!i&&this.baseApiService.isAnonymousRole()&&this.myNavigation("/student/dashboard/0"),this.commonService.translateMetaData({title:"lang_cms_auth_register_title",description:"lang_cms_auth_register_description",image:"lang_cms_test_image"}),this.stopStatusObj()}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.QS),e.Y36(O.gz),e.Y36(B.v),e.Y36(F._),e.Y36(ha.YC),e.Y36(ei),e.Y36(K.z),e.Y36(pa.sK),e.Y36(Z.e8))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],features:[e.qOj],decls:82,vars:66,consts:[[2,"min-height","540px"],[1,"intro-x","font-bold","text-2xl","text-center"],["class","flex mt-4","style","justify-content: space-around",4,"ngIf"],[1,"azt-register-form",3,"hidden"],[3,"formGroup"],[1,"intro-x","mt-5"],["role","tablist",1,"nav","nav-link-tabs"],["id","student-tab",1,"nav-item","flex-1"],[1,"nav-link","w-full","py-2","flex","items-center","justify-center",3,"ngClass","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-4","h-4","mr-2"],["d","M22 10v6M2 10l10-5 10 5-10 5z"],["d","M6 12v5c3 3 9 3 12 0v-5"],["id","teacher-tab",1,"nav-item","flex-1"],["d","M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"],["cx","12","cy","7","r","4"],[1,"tab-content","mt-5","intro-x"],[1,"tab-pane","leading-relaxed","active"],[1,"azt-form-group"],["type","text","formControlName","fullName",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder"],["class","text-danger text-xs mt-2 font-medium",4,"ngIf"],["type","text","formControlName","username",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"placeholder","input"],[2,"position","relative"],["formControlName","password",1,"intro-x","login__input","form-control","py-3","px-4","block","mt-4",3,"type","placeholder"],[1,"btn-toggle-password",2,"position","absolute","top","10px","right","5px","border","none","background","transparent","z-index","99",3,"click"],[4,"ngIf"],["class","form-group mb-2 mt-2",4,"ngIf"],[1,"intro-x","flex","items-center","text-slate-600","dark:text-slate-500","mt-4","text-xs","sm:text-sm"],[1,"cursor-pointer","select-none"],["href","/privacy/index.html","target","_blank",1,"text-primary","dark:text-slate-200"],[1,"btn","btn-primary","py-3","px-4","w-full","align-top",3,"disabled","click"],[1,"intro-x","mt-5","text-slate-600","dark:text-slate-500"],[4,"ngIf","ngIfElse"],["normalRedirectLogin",""],[1,"strike","mt-3"],[1,"text-slate-600","dark:text-slate-500"],[1,"flex","items-center","mt-3"],[1,"btn","btn-outline-secondary","mx-1","w-full",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 48 48",1,"lucide","w-4","h-4","mr-2"],["fill","#FFC107","d","M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"],["fill","#FF3D00","d","M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"],["fill","#4CAF50","d","M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"],["fill","#1976D2","d","M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"],[1,"text-md"],[1,"flex","mt-4",2,"justify-content","space-around"],[1,"col-sm-4","border-card","mb-3",3,"click"],[1,"df-logo"],[1,"fas","fa-graduation-cap","pb-3",2,"font-size","36px"],["width","36px","height","45px",1,"mb-3",2,"display","initial",3,"src"],[1,"text-danger","text-xs","mt-2","font-medium"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","dark:text-slate-500"],["d","M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"],["cx","12","cy","12","r","3"],["d","M9.88 9.88a3 3 0 1 0 4.24 4.24"],["d","M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"],["d","M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"],["x1","2","y1","2","x2","22","y2","22"],[1,"form-group","mb-2","mt-2"],["class"," control-label text-danger text-xs",4,"ngIf","ngIfElse"],["anotherError",""],[1,"control-label","text-danger","text-xs"],[1,"btn-text-primary",3,"routerLink","queryParams"],[1,"text-danger","text-xs"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"text-primary","dark:text-slate-200",3,"routerLink","queryParams"]],template:function(t,o){if(1&t&&(e.TgZ(0,"auth-layout")(1,"div",0)(2,"h2",1),e._uU(3),e.ALo(4,"mytranslate"),e.qZA(),e.YNc(5,Ja,14,9,"div",2),e.TgZ(6,"div",3)(7,"form",4)(8,"div",5)(9,"ul",6)(10,"li",7)(11,"button",8),e.NdJ("click",function(){return o.changeRegisterType(0)}),e.O4$(),e.TgZ(12,"svg",9),e._UZ(13,"path",10)(14,"path",11),e.qZA(),e._uU(15),e.ALo(16,"mytranslate"),e.qZA()(),e.kcU(),e.TgZ(17,"li",12)(18,"button",8),e.NdJ("click",function(){return o.changeRegisterType(1)}),e.O4$(),e.TgZ(19,"svg",9),e._UZ(20,"path",13)(21,"circle",14),e.qZA(),e._uU(22),e.ALo(23,"mytranslate"),e.qZA()()(),e.kcU(),e.TgZ(24,"div",15)(25,"div",16)(26,"div",17),e._UZ(27,"input",18),e.ALo(28,"mytranslate"),e.YNc(29,za,4,3,"div",19),e.qZA(),e.TgZ(30,"div",17)(31,"input",20),e.NdJ("input",function(){return o.checkValidateUser(o.form.controls.username.value)}),e.ALo(32,"mytranslate"),e.qZA(),e.YNc(33,Ya,4,3,"div",19),e.YNc(34,Ga,3,1,"div",19),e.qZA(),e.TgZ(35,"div",17)(36,"div",21),e._UZ(37,"input",22),e.ALo(38,"mytranslate"),e.TgZ(39,"button",23),e.NdJ("click",function(){return o.togglePassword()}),e.YNc(40,Va,4,0,"span",24),e.YNc(41,Ka,6,0,"span",24),e.qZA()(),e.YNc(42,Wa,3,2,"div",19),e.qZA()()()(),e.YNc(43,ts,4,2,"div",25),e.TgZ(44,"div",26)(45,"p",27),e._uU(46),e.ALo(47,"mytranslate"),e.ALo(48,"mytranslate"),e.ALo(49,"mytranslate"),e.TgZ(50,"a",28),e._uU(51),e.ALo(52,"mytranslate"),e.qZA(),e._uU(53),e.ALo(54,"mytranslate"),e.TgZ(55,"a",28),e._uU(56),e.ALo(57,"mytranslate"),e.qZA()()(),e.TgZ(58,"div",5)(59,"button",29),e.NdJ("click",function(){return 1==o.isStudent?o.registerForStudent():o.registerForTeacher()}),e.YNc(60,ns,3,0,"span",24),e._uU(61),e.ALo(62,"mytranslate"),e.qZA()(),e.TgZ(63,"div",30),e._uU(64),e.ALo(65,"mytranslate"),e.YNc(66,os,5,12,"ng-container",31),e.YNc(67,rs,4,11,"ng-template",null,32,e.W1O),e.qZA(),e.TgZ(69,"div",33)(70,"span",34),e._uU(71),e.ALo(72,"mytranslate"),e.qZA()(),e.TgZ(73,"div",35)(74,"button",36),e.NdJ("click",function(){return o.googleSignIn()}),e.O4$(),e.TgZ(75,"svg",37),e._UZ(76,"path",38)(77,"path",39)(78,"path",40)(79,"path",41),e.qZA(),e.kcU(),e.TgZ(80,"span",42),e._uU(81,"Google"),e.qZA()()()()()()()),2&t){const i=e.MAs(68);e.xp6(3),e.hij(" ",e.lcZ(4,32,"lang_auto_dang_ky")," "),e.xp6(2),e.Q6J("ngIf",1==o.isShowOption),e.xp6(1),e.Q6J("hidden",o.isShowOption),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("ngClass",e.VKq(62,fa,o.isStudent)),e.xp6(4),e.hij(" ",e.lcZ(16,34,"lang_auto_hoc_sinh")," "),e.xp6(3),e.Q6J("ngClass",e.VKq(64,fa,o.isTeacher)),e.xp6(4),e.hij(" ",e.lcZ(23,36,"lang_auto_giao_vien")," "),e.xp6(5),e.s9C("placeholder",e.lcZ(28,38,"lang_auto_ho_ten")),e.xp6(2),e.Q6J("ngIf",o.form.controls.fullName.errors&&(o.form.controls.fullName.dirty||o.form.controls.fullName.touched)),e.xp6(2),e.s9C("placeholder",e.lcZ(32,40,"lang_auto_nhap_sdt_hoac_email")),e.xp6(2),e.Q6J("ngIf",o.form.controls.username.errors&&(o.form.controls.username.dirty||o.form.controls.username.touched)&&!o.checkValidateUsername),e.xp6(1),e.Q6J("ngIf",o.checkValidateUsername),e.xp6(3),e.s9C("placeholder",e.lcZ(38,42,"lang_auto_mat_khau")),e.Q6J("type",o.showPassword?"text":"password"),e.xp6(3),e.Q6J("ngIf",o.showPassword),e.xp6(1),e.Q6J("ngIf",!o.showPassword),e.xp6(1),e.Q6J("ngIf",o.form.controls.password.errors&&(o.form.controls.password.dirty||o.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",o.statusObj.errorMessage),e.xp6(3),e.lnq(" ",e.lcZ(47,44,"lang_auto_bang_cach_an_vao_nut"),' "',e.lcZ(48,46,"lang_auto_dang_ky"),'" ',e.lcZ(49,48,"lang_auto__toi_dong_y_voi")," "),e.xp6(5),e.hij(" ",e.lcZ(52,50,"lang_auto_dieu_khoan_su_dung")," "),e.xp6(2),e.hij(" ",e.lcZ(54,52,"lang_auto_va")," "),e.xp6(3),e.hij(" ",e.lcZ(57,54,"lang_auto_chinh_sach_bao_mat_cua_azota"),""),e.xp6(3),e.Q6J("disabled",o.form.invalid),e.xp6(1),e.Q6J("ngIf",o.statusObj.loading||o.checkLoadingLogin),e.xp6(1),e.hij(" ",e.lcZ(62,56,"lang_auto_dang_ky")," "),e.xp6(3),e.hij(" ",e.lcZ(65,58,"lang_auto_ban_da_co_tai_khoan")," "),e.xp6(2),e.Q6J("ngIf",o.isDuplicateEmailOrPhone>0)("ngIfElse",i),e.xp6(5),e.Oqu(e.lcZ(72,60,"lang_auto_hoac"))}},dependencies:[O.yS,A.mk,A.O5,g._Y,g.Fj,g.JJ,g.JL,g.sg,g.u,te.M,ct,re.lO,w.bT,w.BI],styles:[".border-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid hsla(0deg,0%,86.3%,.8);border-radius:8px;cursor:pointer;padding:12px;align-items:center;text-align:center}"]}),n})();function as(n,s){1&n&&(e.TgZ(0,"div")(1,"div",11)(2,"div",12)(3,"span",13),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}function ss(n,s){1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"mytranslate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"lang_auto_mat_khau_phai_dai_toi_thieu_la_6")," "))}function cs(n,s){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,ss,3,3,"div",10),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.getErrorType("password","required")||t.getErrorType("password","minlength"))}}function ls(n,s){if(1&n&&(e.TgZ(0,"div",14)(1,"label",29),e._uU(2),e.ALo(3,"mytranslate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("*** ",e.lcZ(3,1,t.statusObj.errorMessage),"")}}function us(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",30),e._uU(2,"\xa0"),e.qZA())}const ds=function(n){return[n]},_s=function(){return{user_click:"true"}};function gs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",14)(2,"div",15)(3,"div",16),e._UZ(4,"input",17),e.ALo(5,"mytranslate"),e.TgZ(6,"div",18)(7,"span",19)(8,"mat-icon"),e._uU(9,"lock"),e.qZA()()()(),e.TgZ(10,"div",16),e._UZ(11,"input",20),e.ALo(12,"mytranslate"),e.TgZ(13,"div",18)(14,"span",19)(15,"mat-icon"),e._uU(16,"lock"),e.qZA()()()(),e.YNc(17,cs,2,1,"div",21),e.qZA()(),e.YNc(18,ls,4,3,"div",22),e.TgZ(19,"div",23)(20,"div",15)(21,"div",24)(22,"button",25),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.form.invalid||i.statusObj.loading||i.changePassword())}),e.YNc(23,us,3,0,"span",10),e._uU(24),e.ALo(25,"mytranslate"),e.qZA()()()(),e._UZ(26,"hr"),e.TgZ(27,"div",26)(28,"a",27),e.ALo(29,"localize"),e._uU(30),e.ALo(31,"mytranslate"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(4),e.s9C("placeholder",e.lcZ(5,10,"lang_auto_mat_khau_moi")),e.xp6(7),e.s9C("placeholder",e.lcZ(12,12,"lang_auto_xac_nhan_mat_khau")),e.xp6(6),e.Q6J("ngIf",t.form.controls.password.invalid&&(t.form.controls.password.dirty||t.form.controls.password.touched)),e.xp6(1),e.Q6J("ngIf",t.statusObj.errorMessage),e.xp6(4),e.Q6J("disabled",t.form.invalid||t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(25,14,"lang_auto_doi_mat_khau")," "),e.xp6(4),e.Q6J("routerLink",e.VKq(20,ds,e.lcZ(29,16,"/auth/login")))("queryParams",e.DdM(22,_s)),e.xp6(2),e.Oqu(e.lcZ(31,18,"lang_auto_dang_nhap_tai_khoan"))}}function hs(n,s){1&n&&(e.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"span",14),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}function ms(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",20),e._uU(2,"\xa0"),e.qZA())}function fs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",15)(2,"div",16)(3,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.statusObj.loading||i.becomeTeacher())}),e.YNc(4,ms,3,0,"span",11),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()(),e.TgZ(7,"div",18)(8,"a",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.goBack())}),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(6,4,"lang_auto_click_vao_day_de_tro_thanh_giao_vien")," "),e.xp6(4),e.Oqu(e.lcZ(10,6,"lang_auto_quay_lai_trang_chu"))}}function vs(n,s){if(1&n&&(e.TgZ(0,"div",5),e._UZ(1,"img",6),e.ALo(2,"convertCdn"),e.TgZ(3,"div",7)(4,"div",8)(5,"span",9),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()(),e.TgZ(8,"div",10),e.YNc(9,hs,6,3,"div",11),e.YNc(10,fs,11,8,"div",11),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",e.lcZ(2,4,"azota_assets/images/logo.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(7,6,"lang_auto_toi_muon_thanh_giao_vien")),e.xp6(3),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!t.statusObj.loading)}}function ys(n,s){1&n&&(e.TgZ(0,"div")(1,"div",12)(2,"div",13)(3,"span",14),e._uU(4),e.ALo(5,"mytranslate"),e.qZA()()()()),2&n&&(e.xp6(4),e.hij("",e.lcZ(5,1,"lang_cms_common_loading"),"..."))}function bs(n,s){1&n&&(e.TgZ(0,"span"),e._UZ(1,"span",20),e._uU(2,"\xa0"),e.qZA())}function xs(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",15)(2,"div",16)(3,"button",17),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.statusObj.loading||i.becomeStudent())}),e.YNc(4,bs,3,0,"span",11),e._uU(5),e.ALo(6,"mytranslate"),e.qZA()()(),e.TgZ(7,"div",18)(8,"a",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.goBack())}),e._uU(9),e.ALo(10,"mytranslate"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("disabled",t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.hij("",e.lcZ(6,4,"lang_auto_click_vao_day_de_bo_quyen_giao_vien")," "),e.xp6(4),e.Oqu(e.lcZ(10,6,"lang_auto_quay_lai_trang_chu"))}}function As(n,s){if(1&n&&(e.TgZ(0,"div",5),e._UZ(1,"img",6),e.ALo(2,"convertCdn"),e.TgZ(3,"div",21)(4,"div",8)(5,"span",9),e._uU(6),e.ALo(7,"mytranslate"),e.qZA()(),e.TgZ(8,"div",10),e.YNc(9,ys,6,3,"div",11),e.YNc(10,xs,11,8,"div",11),e.qZA()()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",e.lcZ(2,4,"azota_assets/images/logo.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(7,6,"lang_auto_toi_muon_bo_quyen_giao_vien")),e.xp6(3),e.Q6J("ngIf",t.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!t.statusObj.loading)}}const Cs=[{path:"",component:Ba,children:[{path:"login",component:ja},{path:"login-scan/:role",component:ko},{path:"register",component:va},{path:"register/:type",component:va},{path:"logout",component:Da},{path:"confirm_forgot_password",component:Ji},{path:"confirm-forgot-password-email",component:go},{path:"forgot_password_susscess",component:fn},{path:"confirm_forgot_password_qr",component:qe},{path:"confirm_forgot_password_old",component:Hi},{path:"confirm_account",component:rn},{path:"checking_service",component:zr},{path:"set_new_password",component:(()=>{class n extends N.Q{constructor(t,o,i,c){super(o),this.formBuilder=t,this.commonService=o,this.baseApiService=i,this.userInfoService=c,this.form=new g.nJ({})}getError(t){return!!this.form.controls[t].errors&&this.form.controls[t].errors}getErrorType(t,o){var i,c;return!(null===(i=this.form.controls[t].errors)||void 0===i||!i[o])&&(null===(c=this.form.controls[t].errors)||void 0===c?void 0:c[o])}changePassword(){if(this.form.valid)if(this.form.value.password!=this.form.value.confirm_password)this.showErrorSnack("lang_auto_xac_nhan_mat_khau_khong_khop");else{this.initStatusObj();var t=this.commonService.getFormObj(this.form),o=this.commonService.getMyQueryParam("token"),i=this.commonService.getMyQueryParam("app_name");this.subscriptions.add(this.userInfoService.apiUserInfoChangePasswordByFirebasePost({firebaseToken:o,newPassword:t.password,appName:i}).subscribe(_=>{var m;1==_.success?(this.successStatusObj(),this.baseApiService.redirectLoginByRole("")):this.errorStatusObj(null!==(m=_.message)&&void 0!==m?m:"")}))}}ngOnInit(){this.form=this.formBuilder.group({password:["",[g.kI.required,g.kI.minLength(6)]],confirm_password:""}),this.commonService.translateMetaData({title:"lang_cms_auth_confirm_forgot_password_title",description:"lang_cms_auth_confirm_forgot_password_description",image:"lang_cms_test_image"}),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(g.QS),e.Y36(B.v),e.Y36(F._),e.Y36(Z.$C))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-confirm-forgot-password"]],features:[e.qOj],decls:16,vars:9,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[1,"form-horizontal",2,"margin-top","4vh",3,"formGroup"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-sm-12"],[1,"input-group","mb-3"],["type","password","formControlName","password","autocomplete","off",1,"form-control",3,"placeholder"],[1,"input-group-append","input-group-text"],["id","basic-addon3"],["type","password","formControlName","confirm_password","autocomplete","off",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],["class","form-group",4,"ngIf"],[1,"form-group","mb-2"],[1,"text-right"],["mat-raised-button","","color","primary",2,"width","100%",3,"disabled","click"],[1,"text-center","mt-3"],[1,"text-normal",3,"routerLink","queryParams"],[1,"alert","alert-danger"],[1,"col-sm-12","control-label","text-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._UZ(5,"img",5),e.ALo(6,"convertCdn"),e.TgZ(7,"div",6)(8,"div",7)(9,"span",8),e._uU(10),e.ALo(11,"mytranslate"),e.qZA()(),e.TgZ(12,"div",9),e.YNc(13,as,6,3,"div",10),e.YNc(14,gs,32,23,"div",10),e.qZA()()(),e._UZ(15,"div",3),e.qZA()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(4),e.Q6J("src",e.lcZ(6,5,"azota_assets/images/logo.svg"),e.LSH),e.xp6(5),e.Oqu(e.lcZ(11,7,"lang_auto_doi_mat_khau_moi")),e.xp6(3),e.Q6J("ngIf",o.statusObj.loading),e.xp6(1),e.Q6J("ngIf",!o.statusObj.loading))},dependencies:[O.yS,A.O5,g._Y,g.Fj,g.JJ,g.JL,Ze.lW,Me.Hw,g.sg,g.u,te.M,re.lO,w.bT,w.BI],encapsulation:2}),n})()},{path:"switch-teacher-student",component:(()=>{class n extends N.Q{constructor(t,o,i){super(i),this.baseApiService=t,this.userInfoService=o,this.commonService=i,this.isTeacher=!1,this.isStudent=!1}goBack(){this.baseApiService.redirectLoginByRole("")}becomeTeacher(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoConvertToTeacherGet().subscribe(t=>{var o;1==t.success?this.baseApiService.redirectLoginByRole(""):this.errorStatusObj(null!==(o=t.message)&&void 0!==o?o:"",!0)}))}becomeStudent(){this.initStatusObj(),this.subscriptions.add(this.userInfoService.apiUserInfoRemoveTeacherRoleGet().subscribe(t=>{var o;1==t.success?this.baseApiService.redirectLoginByRole(this.commonService.getLocalRouter("/student/dashboard/0")):this.errorStatusObj(null!==(o=t.message)&&void 0!==o?o:"",!0)}))}ngOnInit(){this.commonService.translateMetaData({title:"lang_auto_doi_vai_tro",description:"lang_auto_doi_vai_tro",image:"lang_cms_test_image"}),this.isTeacher=this.baseApiService.isTeacherRole(),super.ngOnInit()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(F._),e.Y36(Z.$C),e.Y36(B.v))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-switch-teacher-student"]],features:[e.qOj],decls:7,vars:2,consts:[[1,"container-fluid","component-wrap","centerBoth","hasBg"],[2,"margin-top","6vh"],[1,"row"],[1,"col-sm-3"],["class","col-sm-6",4,"ngIf"],[1,"col-sm-6"],["alt","logo",2,"width","180px","margin","auto","padding-bottom","15px",3,"src"],["id","authForm",1,"box","p-3"],[1,"text-center","mb-2"],[1,"h5"],[1,"card-body"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"form-group"],[1,"col-md-12","text-center"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"text-center","mt-3"],[1,"clickable",3,"click"],["role","status",1,"spinner-border","spinner-border-sm"],["id","authForm",1,"box","p-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.YNc(4,vs,11,8,"div",4),e.YNc(5,As,11,8,"div",4),e._UZ(6,"div",3),e.qZA()()()),2&t&&(e.xp6(4),e.Q6J("ngIf",0==o.isTeacher),e.xp6(1),e.Q6J("ngIf",1==o.isTeacher))},dependencies:[A.O5,Ze.lW,w.bT,w.BI]}),n})()},{path:"create-qr-forgot-pass/:role",component:ne},{path:"change-email",component:Ai},{path:"confirm-change-email",component:Ci},{path:"choose-role",component:Yr},{path:"account-setting/:dashboardType",component:vi}]}];let ws=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[O.Bz.forChild(Cs),O.Bz,re.fQ]}),n})(),Ts=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[O.Bz,A.ez,g.u5,D.Z_,fe.j,g.UX,ws,pe.W,xe.t,de.Z,ue.QG,u.hO.initializeApp(_e.N.firebaseConfig_app1,"auth")]}),n})()},30004:(Le,ve,f)=>{f.d(ve,{L:()=>K});var A=f(55330),u=f(5e3),g=f(60284),O=f(43147),D=f(35018),ue=f(74202),pe=f(69808),de=f(87238),fe=f(75477),_e=f(4334),xe=f(74650),re=f(76224),N=f(1033);function e(P,w){if(1&P&&(u.TgZ(0,"div",7),u.GkF(1,8),u.TgZ(2,"div",9),u.GkF(3,8),u.TgZ(4,"div",10)(5,"div",11),u.GkF(6,8),u.qZA(),u.TgZ(7,"div",12),u.GkF(8,8),u.qZA()()()()),2&P){u.oxw(2);const j=u.MAs(8),he=u.MAs(6),ge=u.MAs(4),It=u.MAs(2);u.xp6(1),u.Q6J("ngTemplateOutlet",j),u.xp6(2),u.Q6J("ngTemplateOutlet",he),u.xp6(3),u.Q6J("ngTemplateOutlet",ge),u.xp6(2),u.Q6J("ngTemplateOutlet",It)}}function B(P,w){if(1&P&&(u.TgZ(0,"div",7)(1,"div",9)(2,"div",10)(3,"div",12),u.GkF(4,8),u.qZA()()()()),2&P){u.oxw(2);const j=u.MAs(2);u.xp6(4),u.Q6J("ngTemplateOutlet",j)}}function F(P,w){if(1&P&&(u.TgZ(0,"div",5),u.YNc(1,e,9,4,"div",6),u.YNc(2,B,5,1,"div",6),u.qZA()),2&P){const j=u.oxw();u.xp6(1),u.Q6J("ngIf",!j.isMobileWebView),u.xp6(1),u.Q6J("ngIf",j.isMobileWebView)}}function q(P,w){1&P&&u.Hsn(0)}function C(P,w){if(1&P){const j=u.EpF();u.TgZ(0,"button",18),u.NdJ("click",function(){u.CHM(j);const ge=u.oxw(2);return u.KtG(ge.goBack())}),u.O4$(),u.TgZ(1,"svg",19),u._UZ(2,"polyline",20),u.qZA(),u.kcU(),u.TgZ(3,"span",21),u._uU(4),u.ALo(5,"mytranslate"),u.qZA()()}2&P&&(u.xp6(4),u.Oqu(u.lcZ(5,1,"lang_auto_quay_lai")))}function Q(P,w){if(1&P&&(u.TgZ(0,"div",13),u.YNc(1,C,6,3,"button",14),u.qZA(),u.TgZ(2,"div",15),u._UZ(3,"azt-switch-language"),u.qZA(),u.TgZ(4,"div",15),u._UZ(5,"header-notice-box"),u.qZA(),u.TgZ(6,"div",16),u._UZ(7,"header-account-menu",17),u.qZA()),2&P){const j=u.oxw();u.xp6(1),u.Q6J("ngIf",""!=j.headerBackTolink),u.xp6(6),u.Q6J("isTeacherDashboard",!1)}}const I=function(P){return[P]},Y=function(){return["/student/dashboard/0","/de-thi","/test/answer-test/"]},H=function(){return["/student/dashboard/1","/bai-tap"]},$=function(){return["/student/add-teacher"]};function W(P,w){1&P&&(u.TgZ(0,"nav",22)(1,"a",23),u.ALo(2,"mylocalize"),u._UZ(3,"img",24),u.ALo(4,"convertCdn"),u.qZA(),u._UZ(5,"div",25),u.TgZ(6,"ul")(7,"li")(8,"a",26),u.ALo(9,"mylocalize"),u.TgZ(10,"div",27),u.ALo(11,"mytranslate"),u.O4$(),u.TgZ(12,"svg",28),u._UZ(13,"path",29)(14,"polyline",30)(15,"path",31),u.qZA()(),u.kcU(),u.TgZ(16,"div",32),u._uU(17),u.ALo(18,"mytranslate"),u.qZA()()(),u.TgZ(19,"li")(20,"a",26),u.ALo(21,"mylocalize"),u.TgZ(22,"div",27),u.ALo(23,"mytranslate"),u.O4$(),u.TgZ(24,"svg",28),u._UZ(25,"path",29)(26,"polyline",30)(27,"line",33)(28,"line",34)(29,"line",35),u.qZA()(),u.kcU(),u.TgZ(30,"div",32),u._uU(31),u.ALo(32,"mytranslate"),u.qZA()()(),u.TgZ(33,"li")(34,"a",26),u.ALo(35,"mylocalize"),u.TgZ(36,"div",27),u.ALo(37,"mytranslate"),u.O4$(),u.TgZ(38,"svg",36),u._UZ(39,"polygon",37)(40,"polyline",38)(41,"polyline",39),u.qZA()(),u.kcU(),u.TgZ(42,"div",32),u._uU(43),u.ALo(44,"mytranslate"),u.qZA()()()()()),2&P&&(u.xp6(1),u.Q6J("routerLink",u.VKq(39,I,u.lcZ(2,17,"/student/dashboard/0"))),u.xp6(2),u.Q6J("src",u.lcZ(4,19,"azota_assets/images/logo-white.svg"),u.LSH),u.xp6(5),u.Q6J("routerLink",u.VKq(41,I,u.lcZ(9,21,"/student/dashboard/0")))("changeActiveRouter",u.DdM(43,Y)),u.xp6(2),u.s9C("matTooltip",u.lcZ(11,23,"lang_auto_de_thi")),u.Q6J("matTooltipPosition","right"),u.xp6(7),u.hij(" ",u.lcZ(18,25,"lang_auto_de_thi")," "),u.xp6(3),u.Q6J("routerLink",u.VKq(44,I,u.lcZ(21,27,"/student/dashboard/1")))("changeActiveRouter",u.DdM(46,H)),u.xp6(2),u.s9C("matTooltip",u.lcZ(23,29,"lang_auto_bai_tap")),u.Q6J("matTooltipPosition","right"),u.xp6(9),u.hij(" ",u.lcZ(32,31,"lang_auto_bai_tap")," "),u.xp6(3),u.Q6J("routerLink",u.VKq(47,I,u.lcZ(35,33,"/student/add-teacher")))("changeActiveRouter",u.DdM(49,$)),u.xp6(2),u.s9C("matTooltip",u.lcZ(37,35,"lang_cms_student_add_teacher_title")),u.Q6J("matTooltipPosition","right"),u.xp6(7),u.hij(" ",u.lcZ(44,37,"lang_cms_student_add_teacher_title")," "))}const L=function(){return["/student/dashboard/0","/de-thi","/test/answer-test"]};function X(P,w){if(1&P){const j=u.EpF();u.TgZ(0,"div",40)(1,"div",41)(2,"a",42),u.ALo(3,"mylocalize"),u._UZ(4,"img",24),u.ALo(5,"convertCdn"),u.qZA(),u.TgZ(6,"a",43),u.NdJ("click",function(){u.CHM(j);const ge=u.oxw();return u.KtG(ge.openMenuMobile())}),u.O4$(),u.TgZ(7,"svg",44),u._UZ(8,"line",45)(9,"line",46)(10,"line",47),u.qZA()()(),u.kcU(),u.TgZ(11,"div",48)(12,"a",43),u.NdJ("click",function(){u.CHM(j);const ge=u.oxw();return u.KtG(ge.closeMenuMobile())}),u.O4$(),u.TgZ(13,"svg",44),u._UZ(14,"circle",49)(15,"line",50)(16,"line",51),u.qZA()(),u.kcU(),u.TgZ(17,"ul",52)(18,"li")(19,"a",53),u.ALo(20,"mylocalize"),u.TgZ(21,"div",54),u.O4$(),u.TgZ(22,"svg",28),u._UZ(23,"path",29)(24,"polyline",30)(25,"path",31),u.qZA()(),u.kcU(),u.TgZ(26,"div",55),u._uU(27),u.ALo(28,"mytranslate"),u.qZA()()(),u.TgZ(29,"li")(30,"a",53),u.ALo(31,"mylocalize"),u.TgZ(32,"div",54),u.O4$(),u.TgZ(33,"svg",28),u._UZ(34,"path",29)(35,"polyline",30)(36,"line",33)(37,"line",34)(38,"line",35),u.qZA()(),u.kcU(),u.TgZ(39,"div",55),u._uU(40),u.ALo(41,"mytranslate"),u.qZA()()(),u.TgZ(42,"li")(43,"a",56),u.ALo(44,"mylocalize"),u.TgZ(45,"div",54),u.O4$(),u.TgZ(46,"svg",36),u._UZ(47,"polygon",37)(48,"polyline",38)(49,"polyline",39),u.qZA()(),u.kcU(),u.TgZ(50,"div",55),u._uU(51),u.ALo(52,"mytranslate"),u.qZA()()()()()()}2&P&&(u.xp6(2),u.Q6J("routerLink",u.VKq(26,I,u.lcZ(3,10,"/student/dashboard/0"))),u.xp6(2),u.Q6J("src",u.lcZ(5,12,"azota_assets/images/logo-white.svg"),u.LSH),u.xp6(15),u.Q6J("routerLink",u.VKq(28,I,u.lcZ(20,14,"/student/dashboard/0")))("changeActiveRouter",u.DdM(30,L)),u.xp6(8),u.hij(" ",u.lcZ(28,16,"lang_auto_de_thi")," "),u.xp6(3),u.Q6J("routerLink",u.VKq(31,I,u.lcZ(31,18,"/student/dashboard/1")))("changeActiveRouter",u.DdM(33,H)),u.xp6(10),u.hij(" ",u.lcZ(41,20,"lang_auto_bai_tap")," "),u.xp6(3),u.Q6J("routerLink",u.VKq(34,I,u.lcZ(44,22,"/student/add-teacher"))),u.xp6(8),u.hij(" ",u.lcZ(52,24,"lang_auto_tim_giao_vien")," "))}const Z=["*"];let K=(()=>{class P extends A.Q{constructor(j,he,ge){super(ge),this.processNoticeService=j,this.baseApiService=he,this.commonService=ge,this.headerBackTolink="",this.headerTitle="",this.isLogin=!1,this.isMobileWebView=!1}goBack(){this.commonService.myNavigationBySpecialQueryString(this.headerBackTolink)}openMenuMobile(){let j=document.getElementById("toggle-menu");null==j||j.classList.add("mobile-menu--active")}closeMenuMobile(){let j=document.getElementById("toggle-menu");null==j||j.classList.remove("mobile-menu--active")}ngOnInit(){super.ngOnInit(),this.isMobileWebView=this.commonService.isMobileWebview(),this.isLogin=this.baseApiService.isLogin()}}return P.\u0275fac=function(j){return new(j||P)(u.Y36(g.e),u.Y36(O._),u.Y36(D.v))},P.\u0275cmp=u.Xpm({type:P,selectors:[["student-layout"]],inputs:{headerBackTolink:"headerBackTolink",headerTitle:"headerTitle"},features:[u.qOj],ngContentSelectors:Z,decls:9,vars:1,consts:[["id","azt-layout","class","azt-layout",4,"ngIf"],["BodyContentTpl",""],["TopbarTpl",""],["DesktopMenuTpl",""],["mobileMenuTpl",""],["id","azt-layout",1,"azt-layout"],["class","azt-body",4,"ngIf"],[1,"azt-body"],[3,"ngTemplateOutlet"],[1,"flex","mt-[4.7rem]","md:mt-0"],[1,"content","relative"],[1,"top-bar"],[1,"azt-content"],[1,"mr-auto"],["class","btn btn-transparent",3,"click",4,"ngIf"],[1,"dropdown","mr-2","sm:mr-4"],[1,"dropdown","w-8","h-8"],[3,"isTeacherDashboard"],[1,"btn","btn-transparent",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide","w-5","h-5"],["points","15 18 9 12 15 6"],[1,"hidden","sm:block"],[1,"side-nav","side-nav--simple"],[1,"flex","items-center","pl-5","pt-4",3,"routerLink"],["alt","Azota",1,"w-6",3,"src"],[1,"side-nav__devider","my-6"],[1,"side-menu",3,"routerLink","changeActiveRouter"],[1,"side-menu__icon",3,"matTooltip","matTooltipPosition"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"lucide"],["d","M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"],["points","14 2 14 8 20 8"],["d","m9 15 2 2 4-4"],[1,"side-menu__title"],["x1","16","y1","13","x2","8","y2","13"],["x1","16","y1","17","x2","8","y2","17"],["x1","10","y1","9","x2","8","y2","9"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["points","12 2 2 7 12 12 22 7 12 2"],["points","2 17 12 22 22 17"],["points","2 12 12 17 22 12"],["id","toggle-menu",1,"mobile-menu","md:hidden"],[1,"mobile-menu-bar"],[1,"flex","mr-auto",3,"routerLink"],[1,"mobile-menu-toggler",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"w-8","h-8","text-white","transform","-rotate-90"],["x1","18","y1","20","x2","18","y2","10"],["x1","12","y1","20","x2","12","y2","4"],["x1","6","y1","20","x2","6","y2","14"],[1,"scrollable"],["cx","12","cy","12","r","10"],["x1","15","y1","9","x2","9","y2","15"],["x1","9","y1","9","x2","15","y2","15"],[1,"scrollable__content","py-2"],[1,"menu",3,"routerLink","changeActiveRouter"],[1,"menu__icon"],[1,"menu__title"],[1,"menu",3,"routerLink"]],template:function(j,he){1&j&&(u.F$t(),u.YNc(0,F,3,2,"div",0),u.YNc(1,q,1,0,"ng-template",null,1,u.W1O),u.YNc(3,Q,8,2,"ng-template",null,2,u.W1O),u.YNc(5,W,45,50,"ng-template",null,3,u.W1O),u.YNc(7,X,53,36,"ng-template",null,4,u.W1O)),2&j&&u.Q6J("ngIf",he.isLogin)},dependencies:[ue.yS,pe.O5,pe.tP,de.gM,fe.x,_e.f,xe.H,re.y,N.mp,N.bT,N.BI],encapsulation:2}),P})()},70127:(Le,ve,f)=>{f.d(ve,{Z:()=>A.Z});var A=f(63942);A.Z.registerVersion("firebase","9.8.4","app-compat")},63942:(Le,ve,f)=>{f.d(ve,{Z:()=>B});var A=f(42090),u=f(34859),g=f(49681),O=f(41877);class D{constructor(q,C){this._delegate=q,this.firebase=C,(0,g._addComponent)(q,new u.wA("app-compat",()=>this,"PUBLIC")),this.container=q.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(q){this._delegate.automaticDataCollectionEnabled=q}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(q=>{this._delegate.checkDestroyed(),q()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,g.deleteApp)(this._delegate)))}_getService(q,C=g._DEFAULT_ENTRY_NAME){var Q;this._delegate.checkDestroyed();const I=this._delegate.container.getProvider(q);return!I.isInitialized()&&"EXPLICIT"===(null===(Q=I.getComponent())||void 0===Q?void 0:Q.instantiationMode)&&I.initialize(),I.getImmediate({identifier:C})}_removeServiceInstance(q,C=g._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(q).clearInstance(C)}_addComponent(q){(0,g._addComponent)(this._delegate,q)}_addOrOverwriteComponent(q){(0,g._addOrOverwriteComponent)(this._delegate,q)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const pe=new A.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),_e=function fe(){const F=function de(F){const q={},C={__esModule:!0,initializeApp:function Y(L,X={}){const Z=g.initializeApp(L,X);if((0,A.r3)(q,Z.name))return q[Z.name];const K=new F(Z,C);return q[Z.name]=K,K},app:I,registerVersion:g.registerVersion,setLogLevel:g.setLogLevel,onLog:g.onLog,apps:null,SDK_VERSION:g.SDK_VERSION,INTERNAL:{registerComponent:function $(L){const X=L.name,Z=X.replace("-compat","");if(g._registerComponent(L)&&"PUBLIC"===L.type){const K=(P=I())=>{if("function"!=typeof P[Z])throw pe.create("invalid-app-argument",{appName:X});return P[Z]()};void 0!==L.serviceProps&&(0,A.ZB)(K,L.serviceProps),C[Z]=K,F.prototype[Z]=function(...P){return this._getService.bind(this,X).apply(this,L.multipleInstances?P:[])}}return"PUBLIC"===L.type?C[Z]:null},removeApp:function Q(L){delete q[L]},useAsService:function W(L,X){return"serverAuth"===X?null:X},modularAPIs:g}};function I(L){if(!(0,A.r3)(q,L=L||g._DEFAULT_ENTRY_NAME))throw pe.create("no-app",{appName:L});return q[L]}return C.default=C,Object.defineProperty(C,"apps",{get:function H(){return Object.keys(q).map(L=>q[L])}}),I.App=F,C}(D);return F.INTERNAL=Object.assign(Object.assign({},F.INTERNAL),{createFirebaseNamespace:fe,extendNamespace:function q(C){(0,A.ZB)(F,C)},createSubscribe:A.ne,ErrorFactory:A.LL,deepExtend:A.ZB}),F}(),xe=new O.Yd("@firebase/app-compat");if((0,A.jU)()&&void 0!==self.firebase){xe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const F=self.firebase.SDK_VERSION;F&&F.indexOf("LITE")>=0&&xe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const B=_e;!function e(F){(0,g.registerVersion)("@firebase/app-compat","0.1.28",F)}()}}]);