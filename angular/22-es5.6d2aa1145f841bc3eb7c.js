!function(){function e(t,n,i){return(e="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(i){var o=Object.getOwnPropertyDescriptor(i,t);return o.get?o.get.call(n):o.value}})(t,n,i||t)}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=a(e);if(t){var r=a(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"++0c":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var i=n("fXoL"),o=function(){var e=function(){function e(){r(this,e),this.collator=new Intl.Collator("vi-VN",{sensitivity:"variant",usage:"sort"})}return l(e,[{key:"sortFirstNameStudents",value:function(e){var t=this;if(e){var n="fullName";return e.sort(function(e,i){var o,a;return e.hasOwnProperty(n)&&i.hasOwnProperty(n)?t.collator.compare(t.getFirstName(null===(o=e[n])||void 0===o?void 0:o.toString().trim()),t.getFirstName(null===(a=i[n])||void 0===a?void 0:a.toString().trim())):0})}return e}},{key:"sortTimeDESC",value:function(e){for(var t=[],n=[],i="createdAt",o=0;o<e.length;o++)e[o].hasOwnProperty(i)&&(null!=e[o][i]&&""!=e[o][i]?t.push(e[o]):n.push(e[o]));for(o=0;o<t.length;o++)for(var a=void 0,r=o+1;r<t.length;r++){var c;if(t[o].hasOwnProperty(i)&&t[r].hasOwnProperty(i))c=Math.floor(new Date(t[o][i]).getTime()/1e3),Math.floor(new Date(t[r][i]).getTime()/1e3)>c&&(a=t[o],t[o]=t[r],t[r]=a)}return t.concat(n)}},{key:"sortTimeASC",value:function(e){for(var t=[],n=[],i="createdAt",o=0;o<e.length;o++)e[o].hasOwnProperty(i)&&(null!=e[o][i]&&""!=e[o][i]?t.push(e[o]):n.push(e[o]));for(o=0;o<t.length;o++)for(var a=void 0,r=o+1;r<t.length;r++){var c;if(t[o].hasOwnProperty(i)&&t[r].hasOwnProperty(i))c=Math.floor(new Date(t[o][i]).getTime()/1e3),Math.floor(new Date(t[r][i]).getTime()/1e3)<c&&(a=t[o],t[o]=t[r],t[r]=a)}return t.concat(n)}},{key:"sortMarkDESC",value:function(e,t){for(var n="confirmedAt",i=0;i<e.length;i++)for(var o=void 0,a=i+1;a<e.length;a++)e[i].hasOwnProperty(n)&&e[a].hasOwnProperty(n)&&e[i].hasOwnProperty("mark")&&e[a].hasOwnProperty("mark")&&(t?(null!=e[a][n]?e[a].mark:null==e[a][n]&&null!=e[a].mark?-1:-2)>(null!=e[i][n]?e[i].mark:null==e[i][n]&&null!=e[i].mark?-1:-2)&&(o=e[i],e[i]=e[a],e[a]=o):(null!=e[a].mark?e[a].mark:-1)>(null!=e[i].mark?e[i].mark:-1)&&(o=e[i],e[i]=e[a],e[a]=o));return e}},{key:"sortMarkASC",value:function(e,t){for(var n="confirmedAt",i=0;i<e.length;i++)for(var o=void 0,a=i+1;a<e.length;a++)e[i].hasOwnProperty(n)&&e[a].hasOwnProperty(n)&&e[i].hasOwnProperty("mark")&&e[a].hasOwnProperty("mark")&&(t?(null!=e[a][n]?e[a].mark:null==e[a][n]&&null!=e[a].mark?-1:-2)<(null!=e[i][n]?e[i].mark:null==e[i][n]&&null!=e[i].mark?-1:-2)&&(o=e[i],e[i]=e[a],e[a]=o):e[a].mark<e[i].mark&&(o=e[i],e[i]=e[a],e[a]=o));return e}},{key:"sortFirstNameStudentsInClass",value:function(e){var t=this,n=[];return e.forEach(function(e){e.hasOwnProperty("results")&&(e.results=t.sortFirstNameStudents(e.results)),n.push(e)}),n}},{key:"sortTimeStudentsInClass",value:function(e,t){var n=this,i=[],o="results";return e.forEach(function(e){e.hasOwnProperty(o)&&(e[o]=1==t?n.sortTimeDESC(e[o]):n.sortTimeASC(e[o])),i.push(e)}),i}},{key:"sortMarkStudentsInClass",value:function(e,t,n){var i=this,o=[],a="results";return e.forEach(function(e){e.hasOwnProperty(a)&&(e[a]=1==t?i.sortMarkDESC(e[a]):i.sortMarkASC(e[a])),o.push(e)}),o}},{key:"sortGroupName",value:function(e){var t=this;return e?e.sort(function(e,n){var i,o;return e.hasOwnProperty("name")&&n.hasOwnProperty("name")?t.collator.compare(t.getGroupName(null===(i=e.name)||void 0===i?void 0:i.toString().trim()),t.getGroupName(null===(o=n.name)||void 0===o?void 0:o.toString().trim())):0}):e}},{key:"sortArrayByMultipleObjectKeyAsc",value:function(e,t,n){var i=this;return e?(e.sort(function(e,o){var a,r,c,l;if(e.hasOwnProperty(t)&&o.hasOwnProperty(t)&&e.hasOwnProperty(n)&&o.hasOwnProperty(n)){if("pos"==t&&"id"==n){var s=e[t]<o[t]?-1:e[t]==o[t]?0:1;return 0==s?e[n]<o[n]?-1:e[n]==o[n]?0:1:s}var d=i.collator.compare(i.getFirstName(null===(a=e[t])||void 0===a?void 0:a.toString().trim()),i.getFirstName(null===(r=o[t])||void 0===r?void 0:r.toString().trim()));return 0==d?i.collator.compare(i.getFirstName(null===(c=e[n])||void 0===c?void 0:c.toString().trim()),i.getFirstName(null===(l=o[n])||void 0===l?void 0:l.toString().trim())):d}return 0}),e):e}},{key:"getFirstName",value:function(e){return null!=e?e.split(" ").slice(-1).join(" ").toUpperCase():""}},{key:"getGroupName",value:function(e){return null!=e?e.split(" ").slice(-1).join("").toLowerCase():""}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"6Fp8":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var i=n("fXoL"),o=n("5ete"),a=n("clS4"),c=function(){var e=function(){function e(t,n){r(this,e),this.baseApiService=t,this.redirectService=n}return l(e,[{key:"canActivate",value:function(e,t){return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginAnonymous(t.url),!1)}},{key:"canActivateChild",value:function(e,t){return this.canActivate(e,t)}},{key:"canLoad",value:function(e){var t="/"+e.path;return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginByReturnUrl(t),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Zb(o.a),i.Zb(a.a))},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},"A1Q/":function(n,o,c){"use strict";c.r(o),c.d(o,"TeacherGroupModule",function(){return ht});var s=c("ofXK"),d=c("3Pt+"),u=c("0IaG"),b=c("tyNb"),h=c("fB2i"),p=c("IkSl"),g=c("rIor"),f=c("Kdsb"),m=c("Zhhu"),v=c("sOeQ"),_=c("vvyD"),x=c("PYj7"),y=c("gm2p"),O=c("fXoL"),k=c("oUVn"),D=c("++0c"),P=["drawer"];function C(e,t){1&e&&O.Qb(0,"azt-loading-effect")}var U=function(e){return{"class-active":e}};function w(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",27),O.Vb(1,"button",28),O.cc("click",function(){O.Ec(n);var e=t.$implicit;return O.gc(4).clickGroup(e)}),O.Vb(2,"mat-icon",29),O.Tc(3,"people"),O.Ub(),O.Vb(4,"span",30),O.Tc(5),O.Ub(),O.Ub(),O.Vb(6,"button",31),O.Vb(7,"mat-icon"),O.Tc(8,"more_vert"),O.Ub(),O.Ub(),O.Vb(9,"mat-menu",null,32),O.Vb(11,"button",33),O.cc("click",function(){O.Ec(n);var e=t.$implicit;return O.gc(4).deleteGroup(e)}),O.Vb(12,"mat-icon"),O.Tc(13,"delete"),O.Ub(),O.Vb(14,"span"),O.Tc(15),O.hc(16,"mytranslate"),O.Ub(),O.Ub(),O.Vb(17,"button",33),O.cc("click",function(){O.Ec(n);var e=t.$implicit;return O.gc(4).editGroup(e)}),O.Vb(18,"mat-icon"),O.Tc(19,"edit"),O.Ub(),O.Vb(20,"span"),O.Tc(21),O.hc(22,"mytranslate"),O.Ub(),O.Ub(),O.Ub(),O.Ub()}if(2&e){var i=t.$implicit,o=O.Ac(10),a=O.gc(4);O.nc("ngClass",O.tc(10,U,i.id==a.groupId)),O.Db(1),O.nc("id","group_id_"+i.id),O.Db(4),O.Uc(i.name),O.Db(1),O.nc("matMenuTriggerFor",o),O.Db(9),O.Uc(O.ic(16,6,"lang_buttom_delete")),O.Db(6),O.Uc(O.ic(22,8,"lang_buttom_edit"))}}function V(e,t){if(1&e&&(O.Vb(0,"div",25),O.Rc(1,w,23,12,"div",26),O.hc(2,"appFilter"),O.Ub()),2&e){var n=O.gc(3);O.Db(1),O.nc("ngForOf",O.jc(2,1,null==n.teacherGroupObj?null:n.teacherGroupObj.groups,n.searchKey.value))}}function T(e,t){if(1&e&&O.Qb(0,"azt-create-avatar",40),2&e){var n=O.gc().$implicit;O.pc("matTooltip","id: ",n.teacherId,""),O.nc("nameCreateAvatar",n.fullName)("size",30)}}function M(e,t){if(1&e&&O.Qb(0,"azt-create-avatar",41),2&e){var n=O.gc().$implicit;O.nc("nameCreateAvatar",n.fullName)("size",30)}}function S(e,t){1&e&&(O.Vb(0,"p",42),O.Tc(1,"Ch\u01b0a \u0111\u0103ng k\xfd"),O.Ub())}function I(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",27),O.Vb(1,"button",28),O.cc("click",function(){O.Ec(n);var e=t.$implicit;return O.gc(4).clickUser(e)}),O.Rc(2,T,1,3,"azt-create-avatar",34),O.Rc(3,M,1,2,"azt-create-avatar",35),O.Vb(4,"div",36),O.Vb(5,"p",37),O.Tc(6),O.Ub(),O.Vb(7,"p",38),O.Tc(8),O.Ub(),O.Rc(9,S,2,0,"p",39),O.Ub(),O.Ub(),O.Vb(10,"button",31),O.Vb(11,"mat-icon"),O.Tc(12,"more_vert"),O.Ub(),O.Ub(),O.Vb(13,"mat-menu",null,32),O.Vb(15,"button",33),O.cc("click",function(){O.Ec(n);var e=t.$implicit;return O.gc(4).deleteTeacher(e)}),O.Vb(16,"mat-icon"),O.Tc(17,"delete"),O.Ub(),O.Vb(18,"span"),O.Tc(19),O.hc(20,"mytranslate"),O.Ub(),O.Ub(),O.Vb(21,"button",33),O.cc("click",function(){O.Ec(n);var e=t.$implicit;return O.gc(4).editTeacher(e)}),O.Vb(22,"mat-icon"),O.Tc(23,"edit"),O.Ub(),O.Vb(24,"span"),O.Tc(25),O.hc(26,"mytranslate"),O.Ub(),O.Ub(),O.Ub(),O.Ub()}if(2&e){var i=t.$implicit,o=O.Ac(14),a=O.gc(4);O.nc("ngClass",O.tc(14,U,i.id==a.teacherId)),O.Db(1),O.nc("id","teacher_id_"+i.id),O.Db(1),O.nc("ngIf",null!=i.teacherId),O.Db(1),O.nc("ngIf",null==i.teacherId),O.Db(3),O.Uc(i.fullName),O.Db(2),O.Uc(i.phone),O.Db(1),O.nc("ngIf",null==i.teacherId),O.Db(1),O.nc("matMenuTriggerFor",o),O.Db(9),O.Uc(O.ic(20,10,"lang_buttom_delete")),O.Db(6),O.Uc(O.ic(26,12,"lang_buttom_edit"))}}function G(e,t){if(1&e&&(O.Vb(0,"div",25),O.Rc(1,I,27,16,"div",26),O.hc(2,"appFilter"),O.Ub()),2&e){var n=O.gc(3);O.Db(1),O.nc("ngForOf",O.jc(2,1,null==n.teacherGroupObj?null:n.teacherGroupObj.teachers,n.searchKey.value))}}var j=function(){return{suppressScrollX:!0}};function A(e,t){if(1&e&&(O.Vb(0,"div",22),O.Vb(1,"perfect-scrollbar",23),O.Rc(2,V,3,4,"div",24),O.Rc(3,G,3,4,"div",24),O.Ub(),O.Ub()),2&e){var n=O.gc(2);O.Db(1),O.nc("config",O.sc(4,j))("scrollIndicators",!0),O.Db(1),O.nc("ngIf",null==n.teacherGroupObj?null:n.teacherGroupObj.groups),O.Db(1),O.nc("ngIf",null==n.teacherGroupObj?null:n.teacherGroupObj.teachers)}}function z(e,t){1&e&&(O.Vb(0,"div",43),O.Vb(1,"span",44),O.Tc(2),O.hc(3,"mytranslate"),O.Ub(),O.Ub()),2&e&&(O.Db(2),O.Uc(O.ic(3,1,"lang_teacher_group_group_note_not_found_group_and_teacher")))}function E(e,t){1&e&&(O.Vb(0,"div",45),O.Vb(1,"div",46),O.Vb(2,"span",47),O.Tc(3,"Loading..."),O.Ub(),O.Ub(),O.Ub())}function R(e,t){if(1&e){var n=O.Wb();O.Vb(0,"a",57),O.cc("click",function(){return O.Ec(n),O.gc(3).toggleDrawer()}),O.hc(1,"mytranslate"),O.Vb(2,"mat-icon",58),O.Tc(3," menu_open"),O.Ub(),O.Ub()}2&e&&O.oc("matTooltip",O.ic(1,1,"lang_teacher_group_group_open_menu"))}function N(e,t){if(1&e){var n=O.Wb();O.Vb(0,"a",57),O.cc("click",function(){return O.Ec(n),O.gc(3).toggleDrawer()}),O.hc(1,"mytranslate"),O.Vb(2,"mat-icon",59),O.Tc(3,"menu_open"),O.Ub(),O.Ub()}2&e&&O.oc("matTooltip",O.ic(1,1,"lang_teacher_group_group_close_menu"))}function L(e,t){if(1&e&&O.Qb(0,"azt-create-avatar",40),2&e){var n=O.gc().$implicit;O.pc("matTooltip","id: ",n.teacherId,""),O.nc("nameCreateAvatar",n.fullName)("size",30)}}function F(e,t){if(1&e&&O.Qb(0,"azt-create-avatar",41),2&e){var n=O.gc().$implicit;O.nc("nameCreateAvatar",n.fullName)("size",30)}}function W(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",88),O.Rc(1,L,1,3,"azt-create-avatar",34),O.Rc(2,F,1,2,"azt-create-avatar",35),O.Vb(3,"div",36),O.Vb(4,"p",37),O.Tc(5),O.Ub(),O.Ub(),O.Vb(6,"button",89),O.cc("click",function(){O.Ec(n);var e=t.$implicit,i=t.index;return O.gc(4).deleteDialog(e,i)}),O.Qb(7,"i",90),O.hc(8,"mytranslate"),O.Ub(),O.Ub()}if(2&e){var i=t.$implicit;O.Db(1),O.nc("ngIf",null!=i.teacherId),O.Db(1),O.nc("ngIf",null==i.teacherId),O.Db(3),O.Uc(i.fullName),O.Db(2),O.oc("matTooltip",O.ic(8,4,"lang_buttom_delete"))}}function Q(e,t){if(1&e&&O.Qb(0,"azt-create-avatar",40),2&e){var n=O.gc().$implicit;O.pc("matTooltip","id:",n.teacherId,""),O.nc("nameCreateAvatar",n.fullName)("size",30)}}function $(e,t){if(1&e&&O.Qb(0,"azt-create-avatar",41),2&e){var n=O.gc().$implicit;O.nc("nameCreateAvatar",n.fullName)("size",30)}}function B(e,t){1&e&&O.Qb(0,"div",95)}var X=function(e){return{"color-disabled":e}};function q(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div"),O.Vb(1,"div",92),O.Vb(2,"button",93),O.cc("click",function(){O.Ec(n);var e=t.$implicit;return O.gc(5).addMemberInGroup(e)}),O.Rc(3,Q,1,3,"azt-create-avatar",34),O.Rc(4,$,1,2,"azt-create-avatar",35),O.Vb(5,"div",36),O.Vb(6,"p",37),O.Tc(7),O.Ub(),O.Ub(),O.Ub(),O.Rc(8,B,1,0,"div",94),O.Ub(),O.Ub()}if(2&e){var i=t.$implicit,o=O.gc(5);O.Db(1),O.nc("disabled",0==o.isLoadingMoreMembers),O.Db(1),O.nc("ngClass",O.tc(6,X,i.inGroup)),O.Db(1),O.nc("ngIf",null!=i.teacherId),O.Db(1),O.nc("ngIf",null==i.teacherId),O.Db(3),O.Vc(" ",i.fullName,""),O.Db(1),O.nc("ngIf",o.isLoadingMoreMembers==i.id)}}function K(e,t){if(1&e&&(O.Vb(0,"div"),O.Rc(1,q,9,8,"div",91),O.hc(2,"appFilter"),O.Ub()),2&e){var n=O.gc(4);O.Db(1),O.nc("ngForOf",O.jc(2,1,n.dataTeacherSearch,n.searchValue.value))}}function J(e,t){1&e&&(O.Vb(0,"div",96),O.Vb(1,"span"),O.Tc(2),O.hc(3,"mytranslate"),O.Ub(),O.Ub()),2&e&&(O.Db(2),O.Uc(O.ic(3,1,"lang_not_data")))}function Y(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",60),O.Vb(1,"div",61),O.Vb(2,"div",62),O.Vb(3,"h3",63),O.Tc(4),O.hc(5,"mytranslate"),O.Vb(6,"span",64),O.Tc(7),O.Ub(),O.Ub(),O.Ub(),O.Vb(8,"div",65),O.Vb(9,"button",66),O.Vb(10,"i",67),O.Tc(11,"person_add"),O.Ub(),O.Vb(12,"span",68),O.Tc(13),O.hc(14,"mytranslate"),O.Ub(),O.Ub(),O.Vb(15,"button",69),O.cc("click",function(){return O.Ec(n),O.gc(3).deleteAllTeacherGroup()}),O.Vb(16,"i",67),O.Tc(17,"delete"),O.Ub(),O.Vb(18,"span",68),O.Tc(19),O.hc(20,"mytranslate"),O.Ub(),O.Ub(),O.Vb(21,"mat-menu",null,70),O.Vb(23,"div",71),O.cc("click",function(e){return e.stopPropagation()}),O.Vb(24,"div",72),O.Vb(25,"p",73),O.Tc(26),O.hc(27,"mytranslate"),O.Ub(),O.Vb(28,"form",74),O.Qb(29,"textarea",75),O.Ub(),O.Ub(),O.Vb(30,"div",76),O.Vb(31,"small",77),O.Tc(32),O.hc(33,"mytranslate"),O.Ub(),O.Ub(),O.Vb(34,"div",78),O.Vb(35,"button",79),O.cc("click",function(){return O.Ec(n),O.gc(3).addAllTeacherToGroup()}),O.Vb(36,"i",67),O.Tc(37,"add"),O.Ub(),O.Vb(38,"span",68),O.Tc(39),O.hc(40,"mytranslate"),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(41,"div",80),O.Rc(42,W,9,6,"div",81),O.Vb(43,"div",82),O.Vb(44,"button",83),O.cc("click",function(){return O.Ec(n),O.gc(3).addMember()}),O.Vb(45,"i",67),O.Tc(46,"person_add"),O.Ub(),O.Vb(47,"span",84),O.Tc(48),O.hc(49,"mytranslate"),O.Ub(),O.Ub(),O.Vb(50,"mat-menu",null,32),O.Vb(52,"div",71),O.cc("click",function(e){return e.stopPropagation()}),O.Vb(53,"div",9),O.Qb(54,"input",85),O.hc(55,"mytranslate"),O.Vb(56,"mat-icon",11),O.Tc(57,"search"),O.Ub(),O.Ub(),O.Vb(58,"div",86),O.Vb(59,"div",25),O.Rc(60,K,3,4,"div",1),O.Rc(61,J,4,3,"ng-template",null,87,O.Sc),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub()}if(2&e){var i=O.Ac(22),o=O.Ac(51),a=O.Ac(62),r=O.gc(3);O.Db(4),O.Vc(" ",O.ic(5,16,"lang_teacher_group_group_member_in_group"),": "),O.Db(3),O.Vc(" ",null==r.groupObj?null:r.groupObj.name," "),O.Db(2),O.nc("matMenuTriggerFor",i),O.Db(4),O.Uc(O.ic(14,18,"lang_teacher_group_group_more")),O.Db(6),O.Uc(O.ic(20,20,"lang_buttom_delete_all")),O.Db(7),O.Vc(" ",O.ic(27,22,"lang_teacher_group_group_list_phone_teacher"),""),O.Db(2),O.nc("formGroup",r.form),O.Db(4),O.Vc("* ",O.ic(33,24,"lang_teacher_group_group_note_enter_phone"),"."),O.Db(7),O.Uc(O.ic(40,26,"lang_buttom_add")),O.Db(3),O.nc("ngForOf",r.teachersInGroup),O.Db(2),O.nc("matMenuTriggerFor",o),O.Db(4),O.Uc(O.ic(49,28,"lang_teacher_group_group_add_member")),O.Db(6),O.oc("placeholder",O.ic(55,30,"lang_teacher_group_group_search_name_or_phone")),O.nc("formControl",r.searchValue),O.Db(6),O.nc("ngIf",r.dataTeacherSearch)("ngIfElse",a)}}function Z(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",113),O.Vb(1,"input",114),O.cc("change",function(e){O.Ec(n);var i=t.index,o=O.gc(2).index;return O.gc(5).onCheckChange(e,o,i)}),O.Ub(),O.Vb(2,"label",115),O.Tc(3),O.Ub(),O.Ub()}if(2&e){var i=t.$implicit,o=t.index,a=O.gc(2).index;O.Db(1),O.nc("id","role_"+a+"_"+o)("checked",i.checked),O.Db(1),O.nc("for","role_"+a+"_"+o),O.Db(1),O.Vc(" ",i.description," ")}}function H(e,t){if(1&e&&(O.Vb(0,"div",108),O.Vb(1,"div",109),O.Vb(2,"h3",110),O.Tc(3),O.Ub(),O.Vb(4,"div",111),O.Rc(5,Z,4,4,"div",112),O.Ub(),O.Ub(),O.Ub()),2&e){var n=O.gc().$implicit;O.Db(2),O.oc("matTooltip",n.name),O.Db(1),O.Vc(" ",n.name," "),O.Db(2),O.nc("ngForOf",n.permissionArray)}}function ee(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",113),O.Vb(1,"input",114),O.cc("change",function(e){O.Ec(n);var i=t.index,o=O.gc(2).index;return O.gc(5).onCheckChange(e,o,i)}),O.Ub(),O.Vb(2,"label",115),O.Tc(3),O.Ub(),O.Ub()}if(2&e){var i=t.$implicit,o=t.index,a=O.gc(2).index;O.Db(1),O.nc("id","role_"+a+"_"+o)("checked",i.checked),O.Db(1),O.nc("for","role_"+a+"_"+o),O.Db(1),O.Vc(" ",i.description," ")}}function te(e,t){if(1&e&&(O.Vb(0,"div",108),O.Vb(1,"div",109),O.Vb(2,"h3",110),O.Tc(3),O.Ub(),O.Vb(4,"div",111),O.Rc(5,ee,4,4,"div",112),O.Ub(),O.Ub(),O.Ub()),2&e){var n=O.gc().$implicit;O.Db(2),O.oc("matTooltip",n.name),O.Db(1),O.Vc(" ",n.name," "),O.Db(2),O.nc("ngForOf",n.permissionArray)}}function ne(e,t){if(1&e&&(O.Tb(0),O.Rc(1,H,6,3,"div",107),O.Rc(2,te,6,3,"div",107),O.Sb()),2&e){var n=t.$implicit,i=O.gc(5);O.Db(1),O.nc("ngIf",i.hasPermissionClass.value&&n.teamPermisions),O.Db(1),O.nc("ngIf",!i.hasPermissionClass.value)}}function ie(e,t){if(1&e&&(O.Vb(0,"div",105),O.Vb(1,"div",106),O.Rc(2,ne,3,2,"ng-container",91),O.Ub(),O.Ub()),2&e){var n=O.gc(4);O.Db(2),O.nc("ngForOf",n.classListData)}}function oe(e,t){1&e&&(O.Vb(0,"div",116),O.Vb(1,"span",44),O.Tc(2),O.hc(3,"mytranslate"),O.Ub(),O.Ub()),2&e&&(O.Db(2),O.Uc(O.ic(3,1,"lang_not_data")))}function ae(e,t){if(1&e&&(O.Vb(0,"div",97),O.Vb(1,"div",61),O.Vb(2,"div",62),O.Vb(3,"h3",63),O.Tc(4),O.hc(5,"mytranslate"),O.Ub(),O.Vb(6,"a",98),O.Vb(7,"span"),O.Tc(8),O.hc(9,"mytranslate"),O.Ub(),O.Qb(10,"i",99),O.Ub(),O.Ub(),O.Vb(11,"div",100),O.Qb(12,"input",101),O.Vb(13,"label",102),O.Tc(14),O.hc(15,"mytranslate"),O.Ub(),O.Ub(),O.Ub(),O.Rc(16,ie,3,1,"div",103),O.Rc(17,oe,4,3,"ng-template",null,104,O.Sc),O.Ub()),2&e){var n=O.Ac(18),i=O.gc(3);O.Db(4),O.Vc(" ",O.ic(5,6,"lang_teacher_group_group_decentralization_in_class")," "),O.Db(4),O.Uc(O.ic(9,8,"lang_teacher_group_group_learn_about")),O.Db(4),O.nc("formControl",i.hasPermissionClass),O.Db(2),O.Vc(" ",O.ic(15,10,"lang_teacher_group_group_vew_class_have_permision")," "),O.Db(2),O.nc("ngIf",i.classListData&&i.classListData.length>0)("ngIfElse",n)}}function re(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",48),O.Vb(1,"div",49),O.Rc(2,R,4,3,"a",50),O.Rc(3,N,4,3,"a",50),O.Ub(),O.Vb(4,"div",51),O.Vb(5,"perfect-scrollbar",23),O.Rc(6,Y,63,32,"div",52),O.Rc(7,ae,19,12,"div",53),O.Ub(),O.Ub(),O.Vb(8,"div",54),O.Vb(9,"button",55),O.cc("click",function(){return O.Ec(n),O.gc(2).clickCannel()}),O.Tc(10),O.hc(11,"mytranslate"),O.Ub(),O.Vb(12,"button",56),O.cc("click",function(){return O.Ec(n),O.gc(2).saveData()}),O.Tc(13),O.hc(14,"mytranslate"),O.Ub(),O.Ub(),O.Ub()}if(2&e){var i=O.gc(2);O.Db(2),O.nc("ngIf",!i.isOpenSideNav||i.isMobile),O.Db(1),O.nc("ngIf",i.isOpenSideNav&&!i.isMobile),O.Db(2),O.nc("config",O.sc(12,j))("scrollIndicators",!0),O.Db(1),O.nc("ngIf",i.checkGroup),O.Db(1),O.nc("ngIf",i.checkRoleUser),O.Db(3),O.Vc(" ",O.ic(11,8,"lang_buttom_cancel")," "),O.Db(3),O.Vc(" ",O.ic(14,10,"lang_buttom_save")," ")}}function ce(e,t){if(1&e){var n=O.Wb();O.Vb(0,"app-delete-dialog",117),O.cc("closeDialog",function(e){return O.Ec(n),O.gc(2).closeDeleteMemberInGroup(e)}),O.Ub()}if(2&e){var i=O.gc(2);O.nc("data",i.dataDeleteDialog)}}function le(e,t){if(1&e){var n=O.Wb();O.Vb(0,"app-add-teacher",117),O.cc("closeDialog",function(e){return O.Ec(n),O.gc(2).closeAddTeacher(e)}),O.Ub()}if(2&e){var i=O.gc(2);O.nc("data",i.dataAddTeacherDialog)}}function se(e,t){if(1&e){var n=O.Wb();O.Vb(0,"app-add-group",117),O.cc("closeDialog",function(e){return O.Ec(n),O.gc(2).closeAddGroup(e)}),O.Ub()}if(2&e){var i=O.gc(2);O.nc("data",i.dataAddGroupDialog)}}var de=function(e,t){return{"w-80":e,"w-33":t}};function ue(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",3),O.cc("resize",function(e){return O.Ec(n),O.gc().onResize(e)},!1,O.Dc),O.Vb(1,"mat-drawer-container",4),O.Vb(2,"mat-drawer",5,6),O.Vb(4,"div",7),O.Vb(5,"div",8),O.Vb(6,"div",9),O.Qb(7,"input",10),O.Vb(8,"mat-icon",11),O.Tc(9,"search"),O.Ub(),O.Ub(),O.Rc(10,A,4,5,"div",12),O.Rc(11,z,4,3,"ng-template",null,13,O.Sc),O.Vb(13,"div",14),O.Vb(14,"button",15),O.cc("click",function(){return O.Ec(n),O.gc().addTeacher()}),O.Tc(15),O.hc(16,"mytranslate"),O.Ub(),O.Vb(17,"button",16),O.cc("click",function(){return O.Ec(n),O.gc().addGroup()}),O.Tc(18),O.hc(19,"mytranslate"),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Vb(20,"mat-drawer-content",17),O.Vb(21,"div",18),O.Rc(22,E,4,0,"div",19),O.Rc(23,re,15,13,"ng-template",null,20,O.Sc),O.Ub(),O.Ub(),O.Ub(),O.Rc(25,ce,1,1,"app-delete-dialog",21),O.Rc(26,le,1,1,"app-add-teacher",21),O.Rc(27,se,1,1,"app-add-group",21),O.Ub()}if(2&e){var i=O.Ac(12),o=O.Ac(24),a=O.gc();O.Db(1),O.nc("hasBackdrop",a.hasBackdrop),O.Db(1),O.oc("opened",a.isMobile?"false":"true"),O.nc("mode",a.mode)("ngClass",O.uc(18,de,a.isMobile,!a.isMobile)),O.Db(5),O.nc("formControl",a.searchKey),O.Db(3),O.nc("ngIf",(null==a.teacherGroupObj||null==a.teacherGroupObj.groups?null:a.teacherGroupObj.groups.length)||(null==a.teacherGroupObj||null==a.teacherGroupObj.teachers?null:a.teacherGroupObj.teachers.length))("ngIfElse",i),O.Db(5),O.Vc("+ ",O.ic(16,14,"lang_teacher_group_group_add_student"),""),O.Db(3),O.Vc("+ ",O.ic(19,16,"lang_teacher_group_group_add_group_teacher"),""),O.Db(4),O.nc("ngIf",a.isLoadingData)("ngIfElse",o),O.Db(3),O.nc("ngIf",a.dataDeleteDialog.isShow),O.Db(1),O.nc("ngIf",null==a.dataAddTeacherDialog?null:a.dataAddTeacherDialog.isShow),O.Db(1),O.nc("ngIf",null==a.dataAddGroupDialog?null:a.dataAddGroupDialog.isShow)}}var be,he,pe=((be=function(n){t(c,n);var o=i(c);function c(e,t,n,i,a,l,s){var u;return r(this,c),(u=o.call(this,t)).activeRoute=e,u.commonService=t,u.fb=n,u.vps=i,u.teacherGroupService=a,u.permisionTeamService=l,u.sortService=s,u.form=new d.k({}),u.isLoadingData=!1,u.type=2,u.hasBackdrop=!1,u.mode="side",u.isMobile=!1,u.isShowActions=!0,u.isOpenSideNav=!0,u.addMemberDialog=!1,u.checkGroup=!1,u.checkRoleUser=!1,u.dataDeleteDialog={isShow:!1,index:-1},u.searchValue=new d.h(""),u.searchKey=new d.h(""),u.classListData=[],u.hasPermissionClass=new d.h(!1),u.dataTeacherSearch=[],u}return l(c,[{key:"onScroll",value:function(){var e=window.pageYOffset;if(this.isMobile){var t=document.getElementById("toggle-nav");e>0?null==t||t.classList.add("fixed-nav"):null==t||t.classList.remove("fixed-nav")}}},{key:"clickCannel",value:function(){this.checkGroup&&this.checkRoleUser?this.getTeacherInGroup(this.groupId):this.getPermissionMyTeacher(this.teacherId)}},{key:"addTeacher",value:function(){this.dataAddTeacherDialog={isShow:!0,type:"add_teacher"}}},{key:"editTeacher",value:function(e){this.dataAddTeacherDialog={teamTeacherObj:e,isShow:!0,type:"edit_teacher"}}},{key:"deleteTeacher",value:function(e){this.dataDeleteDialog={teamTeacherObj:e,groupId:this.groupId,isShow:!0,index:0,type:"delete_teacher"}}},{key:"editGroup",value:function(e){this.dataAddGroupDialog={groupWithTeacherData:e,isShow:!0,type:"edit_group"}}},{key:"deleteGroup",value:function(e){this.dataDeleteDialog={groupWithTeacherData:e,groupId:this.groupId,isShow:!0,index:0,type:"delete_group"}}},{key:"addGroup",value:function(){this.dataAddGroupDialog={isShow:!0,type:"add_group"}}},{key:"addMember",value:function(){this.addMemberDialog=!this.addMemberDialog}},{key:"closeAddTeacher",value:function(e){e?(this.dataAddTeacherDialog={isShow:!1},this.getData()):this.dataAddTeacherDialog={isShow:!1}}},{key:"closeAddGroup",value:function(e){e?(this.dataAddGroupDialog={isShow:!1},this.getData()):this.dataAddGroupDialog={isShow:!1}}},{key:"clickGroup",value:function(e){this.checkGroup=!0,this.checkRoleUser=!0,this.groupId=e.id,this.teacherId=void 0,this.getTeacherInGroup(this.groupId),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/0/"+this.groupId)}},{key:"clickUser",value:function(e){this.checkGroup=!1,this.checkRoleUser=!0,this.teacherId=e.id,this.groupId=void 0,this.getPermissionMyTeacher(e.id),this.isMobile&&this.toggleDrawer(),this.commonService.myNavigation("/admin/teacher-group/1/"+this.teacherId)}},{key:"closeDeleteMemberInGroup",value:function(e){var t;if(e)switch(e.type){case"delete_member":this.getTeacherInGroup(this.groupId),this.dataDeleteDialog.index&&(null===(t=this.teachersInGroup)||void 0===t||t.splice(this.dataDeleteDialog.index,1)),this.dataDeleteDialog={isShow:!1,index:-1};break;case"delete_group":case"delete_teacher":this.getData(),this.dataDeleteDialog={isShow:!1,index:-1},this.commonService.myNavigation("/admin/teacher-group/2/0");break;case"delete_all_teacher_group":this.getTeacherInGroup(this.groupId),this.dataDeleteDialog={isShow:!1,index:-1}}else this.dataDeleteDialog={isShow:!1,index:-1}}},{key:"deleteDialog",value:function(e,t){this.dataDeleteDialog={teamTeacherObj:e,groupId:this.groupId,isShow:!0,index:t,type:"delete_member"}}},{key:"deleteAllTeacherGroup",value:function(){var e,t=this,n=[];null===(e=this.teachersInGroup)||void 0===e||e.forEach(function(e){t.commonService.filterArray(n,e.id)||e.id&&n.push(e.id)}),this.dataDeleteDialog={groupObj:this.groupObj,teacherIds:n,type:"delete_all_teacher_group",isShow:!0}}},{key:"toggleShowActions",value:function(){this.isShowActions=!this.isShowActions}},{key:"toggleDrawer",value:function(){var e;null===(e=this.drawer)||void 0===e||e.toggle(),this.isOpenSideNav=!this.isOpenSideNav}},{key:"onResize",value:function(e){e.target.innerWidth<1200?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0,this.isShowActions=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1,this.isShowActions=!0,this.isOpenSideNav=!0)}},{key:"checkWidth",value:function(){window.innerWidth<1200?(this.isMobile=!0,this.mode="over",this.isShowActions=!0,this.hasBackdrop=!0,this.isOpenSideNav=!0):(this.isMobile=!1,this.mode="side",this.isShowActions=!0,this.hasBackdrop=!1)}},{key:"getData",value:function(){var e=this;this.initStatusObj(),this.teacherGroupService.apiTeacherGroupGetObjsGet().subscribe(function(t){var n,i,o,a,r,c;1===t.success?(e.teacherGroupObj=t.data,(null===(n=e.teacherGroupObj)||void 0===n?void 0:n.teachers)&&(e.teacherGroupObj.teachers=e.sortService.sortFirstNameStudents(e.teacherGroupObj.teachers)),(null===(i=e.teacherGroupObj)||void 0===i?void 0:i.groups)&&(null===(a=null===(o=e.teacherGroupObj)||void 0===o?void 0:o.groups)||void 0===a?void 0:a.length)>0?(e.checkGroup=!0,e.checkRoleUser=!0,e.getTeacherInGroup(e.teacherGroupObj.groups[0].id)):(e.checkGroup=!1,e.checkRoleUser=!1),(null===(r=e.teacherGroupObj)||void 0===r?void 0:r.groups)&&0===e.teacherGroupObj.groups.length&&e.teacherGroupObj.teachers&&e.teacherGroupObj.teachers.length>0&&(e.checkGroup=!1,e.checkRoleUser=!0,e.getPermissionMyTeacher(e.teacherGroupObj.teachers[0].id)),e.successStatusObj()):e.errorStatusObj(null!==(c=t.message)&&void 0!==c?c:"",!0)})}},{key:"getTeacherInGroup",value:function(e){var t=this;this.isLoadingData=!0,this.permisionTeamService.apiPermisionTeamGetAllPermisionWithGroupGet(e).subscribe(function(n){var i,o,a,r,c,l;1===n.success?(t.teachersInGroup=null===(i=null==n?void 0:n.data)||void 0===i?void 0:i.teacherObjs,t.groupId=null===(a=null===(o=null==n?void 0:n.data)||void 0===o?void 0:o.groupObj)||void 0===a?void 0:a.id,t.teacherId=void 0,t.groupObj=null===(r=null==n?void 0:n.data)||void 0===r?void 0:r.groupObj,t.processData(null!==(l=null===(c=n.data)||void 0===c?void 0:c.classObjs)&&void 0!==l?l:[]),setTimeout(function(){t.checkTeacherInGroup()},1e3)):0===e?t.isLoadingData=!1:t.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),t.isLoadingData=!1})}},{key:"checkTeacherInGroup",value:function(){var e,t,n;this.dataTeacherSearch=null!==(t=this.commonService.myClone(null===(e=this.teacherGroupObj)||void 0===e?void 0:e.teachers))&&void 0!==t?t:[];for(var i=this.teachersInGroup?this.teachersInGroup.length:0,o=0;o<i;o++)for(var a=0;a<this.dataTeacherSearch.length;a++)(null===(n=this.teachersInGroup)||void 0===n?void 0:n[o].id)===this.dataTeacherSearch[a].id&&(this.dataTeacherSearch[a].inGroup=!0)}},{key:"getPermissionMyTeacher",value:function(e){var t=this;this.isLoadingData=!0,this.permisionTeamService.apiPermisionTeamGetAllPermisionWithMemberGet(e).subscribe(function(n){var i,o;1===n.success?(t.teacherId=e,t.processData(null!==(o=null===(i=n.data)||void 0===i?void 0:i.objs)&&void 0!==o?o:[])):t.commonService.snackError("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng",""),t.isLoadingData=!1})}},{key:"processData",value:function(e){var t,n,i,o,a,r,c,l=null!==(t=e.length)&&void 0!==t?t:0;this.classListData=[];for(var s=0;s<l;s++){var d=Object.assign(Object.assign({},e[s]),{permissionArray:null!==(n=this.commonService.myClone(this.permissionData))&&void 0!==n?n:[],permissionIds:[]});null===(i=this.classListData)||void 0===i||i.push(d)}for(var u=0;u<this.classListData.length;u++)if(this.classListData[u].permissionArray)for(var b=null!==(a=null===(o=this.classListData[u].permissionArray)||void 0===o?void 0:o.length)&&void 0!==a?a:0,h=0;h<b;h++)if(this.classListData[u].teamPermisions&&(null===(r=this.classListData[u].teamPermisions)||void 0===r?void 0:r[h]))switch(null===(c=this.classListData[u].teamPermisions)||void 0===c?void 0:c[h].id){case 1:this.classListData[u].permissionArray[0].checked=!0;break;case 2:this.classListData[u].permissionArray[1].checked=!0;break;case 3:this.classListData[u].permissionArray[2].checked=!0}}},{key:"getPermissionObjs",value:function(){var e=this;this.initStatusObj(),this.permisionTeamService.apiPermisionTeamGetAllPermisionsGet(1).subscribe(function(t){var n;1===t.success?e.permissionData=null===(n=t.data)||void 0===n?void 0:n.objs:e.showErrorSnack("T\u1ea3i d\u1eef li\u1ec7u kh\xf4ng th\xe0nh c\xf4ng")})}},{key:"addMemberInGroup",value:function(e){var t=this;this.isLoadingMoreMembers=e.id,this.teacherGroupService.apiTeacherGroupAddTeacherWithGroupPost({groupId:this.groupId,teacherTeamId:e.id}).subscribe(function(n){var i,o;1===n.success?(null===(i=t.teachersInGroup)||void 0===i||i.push(e),t.isLoadingMoreMembers=!1,t.checkTeacherInGroup(),t.commonService.snackSuccess("Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m th\xe0nh c\xf4ng","")):t.showErrorSnack(null!==(o=n.message)&&void 0!==o?o:""),t.isLoadingMoreMembers=!1,t.searchValue.setValue("")})}},{key:"addAllTeacherToGroup",value:function(){var e=this,t=this.commonService.getFormObj(this.form),n=t.listPhone?t.listPhone.toString():"",i=[];n.includes("\n")?n.split("\n").forEach(function(t){e.commonService.filterArray(i,t)||""!=t.trim()&&i.push(t.trim())}):n.split(" ").forEach(function(t){e.commonService.filterArray(i,t)||""!=t.trim()&&i.push(t.trim())}),this.teacherGroupService.apiTeacherGroupAddTeachersWithGroupPost({groupId:this.groupId,TeacherPhone:i}).subscribe(function(t){var n,i,o;if(1===t.success){e.getTeacherInGroup(e.groupId);var a=(null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.countSave)?t.data.countSave:0,r=(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.totalTeacher)?t.data.totalTeacher:0;a===r?e.showSuccessSnack("Th\xeam gi\xe1o vi\xean v\xe0o nh\xf3m th\xe0nh c\xf4ng"):e.commonService.snackSuccess("Th\xeam th\xe0nh c\xf4ng "+a+"/"+r+" gi\xe1o vi\xean v\xe0o nh\xf3m!","")}else e.showErrorSnack(null!==(o=t.message)&&void 0!==o?o:""),e.isLoadingData=!1})}},{key:"onCheckChange",value:function(e,t,n){this.classListData[t].permissionArray[n].checked=!!e.target.checked}},{key:"saveData",value:function(){for(var e,t,n,i,o,a,r,c,l,s,d=this,u={groupId:this.groupId,classWithPermissions:[]},b={teacherId:this.teacherId,classWithPermissions:[]},h={classId:-1,permissionIds:[]},p=null!==(t=null===(e=this.classListData)||void 0===e?void 0:e.length)&&void 0!==t?t:0,g=0;g<p;g++)if(null===(n=this.classListData)||void 0===n?void 0:n[g]){this.classListData[g].permissionIds=[],h.classId=this.classListData[g].id;for(var f=null!==(o=null===(i=this.classListData[g].permissionArray)||void 0===i?void 0:i.length)&&void 0!==o?o:0,m=0;m<f;m++)(null===(a=this.classListData[g].permissionArray)||void 0===a?void 0:a[m].checked)&&(null===(r=this.classListData[g].permissionIds)||void 0===r||r.push(null!==(c=this.classListData[g].permissionArray[m].id)&&void 0!==c?c:-1),h.permissionIds=this.classListData[g].permissionIds);this.checkGroup?null===(l=u.classWithPermissions)||void 0===l||l.push(h):null===(s=b.classWithPermissions)||void 0===s||s.push(h),h={classId:-1,permissionIds:[]}}this.isLoadingData=!0,this.checkGroup?this.permisionTeamService.apiPermisionTeamUpdateGroupPermissionPost(u).subscribe(function(e){1===e.success?(d.getTeacherInGroup(d.groupId),d.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")):(d.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),d.isLoadingData=!1)}):this.permisionTeamService.apiPermisionTeamUpdateTeacherPermissionPost(b).subscribe(function(e){1===e.success?(d.getPermissionMyTeacher(d.teacherId),d.commonService.snackSuccess("C\u1eadp nh\u1eadt quy\u1ec1n th\xe0nh c\xf4ng","")):(d.commonService.snackError("C\u1eadp nh\u1eadt quy\u1ec1n kh\xf4ng th\xe0nh c\xf4ng",""),d.isLoadingData=!1)})}},{key:"ngOnInit",value:function(){var t,n;this.form=this.fb.group({listPhone:[""]}),this.type=null!==(t=this.commonService.getMyParam(this.activeRoute,"type"))&&void 0!==t?t:"";var i=null!==(n=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==n?n:"0";if(this.getData(),this.getPermissionObjs(),this.checkWidth(),this.type&&i){var o=Number(i);switch(this.type){case"0":this.checkGroup=!0,this.checkRoleUser=!0,this.groupId=o,this.vps.scrollToAnchor("group_id_"+this.groupId);break;case"1":this.checkGroup=!1,this.checkRoleUser=!0,this.teacherId=o,this.vps.scrollToAnchor("teacher_id_"+this.teacherId),this.getPermissionMyTeacher(this.teacherId)}}this.commonService.translateMetaData({title:"lang_cms_teacher_group_title",description:"lang_cms_teacher_group_description",image:"lang_cms_test_image"}),e(a(c.prototype),"ngOnInit",this).call(this)}}]),c}(y.a)).\u0275fac=function(e){return new(e||be)(O.Pb(b.a),O.Pb(k.a),O.Pb(d.g),O.Pb(s.w),O.Pb(x.jb),O.Pb(x.Z),O.Pb(D.a))},be.\u0275cmp=O.Jb({type:be,selectors:[["app-group-teacher"]],viewQuery:function(e,t){var n;1&e&&O.cd(P,!0),2&e&&O.zc(n=O.dc())&&(t.drawer=n.first)},hostBindings:function(e,t){1&e&&O.cc("scroll",function(e){return t.onScroll(e)},!1,O.Dc)},features:[O.Ab],decls:5,vars:6,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["id","teacher-group",1,"container","mt-3","pb-mb-80",3,"resize"],[1,"group_container",2,"border-radius","5px",3,"hasBackdrop"],[1,"bg-custom",3,"mode","opened","ngClass"],["drawer",""],[1,"container-fluid","pl-0","p-mbr-0"],[1,"slider-nav"],[1,"search"],["type","text","placeholder","T\xecm t\xean ho\u1eb7c S\u0110T",1,"search-input",3,"formControl"],[1,"search-icon"],["class","group",4,"ngIf","ngIfElse"],["blockElse",""],[1,"slider-bottom"],[1,"btn-add","mr-3",3,"click"],[1,"btn-add",3,"click"],[1,"mat-drawer-custom"],[1,"container-fluid","p-0"],["class","slider-content","style","display: flex; justify-content: center; align-items: center;",4,"ngIf","ngIfElse"],["doneLoadingData",""],[3,"data","closeDialog",4,"ngIf"],[1,"group"],[3,"config","scrollIndicators"],["class","group-content",4,"ngIf"],[1,"group-content"],["class","group-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"group-item",3,"ngClass"],[1,"group-btn",3,"id","click"],[1,"group-icon"],[1,"group-name",2,"text-align","left"],["mat-icon-button","",1,"group-btn-menu",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"],[3,"matTooltip","nameCreateAvatar","size",4,"ngIf"],[3,"nameCreateAvatar","size",4,"ngIf"],[1,"group-info"],[1,"group-name"],[1,"group-text"],["style","margin-top: 1px;","class","group-text",4,"ngIf"],[3,"matTooltip","nameCreateAvatar","size"],[3,"nameCreateAvatar","size"],[1,"group-text",2,"margin-top","1px"],[1,"group",2,"display","flex","justify-content","center","align-items","center"],[1,"note-text"],[1,"slider-content",2,"display","flex","justify-content","center","align-items","center"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[1,"slider-content"],["id","toggle-nav",1,"toggle-nav"],["class","clickable",3,"matTooltip","click",4,"ngIf"],[1,"slider-body-main"],["class","slider-content-block mt-2 mb-0",4,"ngIf"],["class","slider-content-block mt-2",4,"ngIf"],["id","slider-content-footer ",1,"slider-content-footer"],[1,"btn-cannel",3,"click"],[1,"btn-save",3,"click"],[1,"clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#646464","transform","rotateY(180deg)"],[2,"vertical-align","middle","color","#646464"],[1,"slider-content-block","mt-2","mb-0"],[1,"slider-bar"],[1,"slider-bar-left"],[1,"slider-bar-title"],[2,"font-weight","bold"],[1,"slider-bar-right","d-flex","align-self-center"],[1,"btn-add-member",3,"matMenuTriggerFor"],[1,"material-icons"],[2,"vertical-align","middle","margin-top","3px"],[1,"btn-del-all-member",3,"click"],["menuAddMultiple","matMenu"],[1,"search-member",3,"click"],[1,"text-center"],[1,"mb-1",2,"font-size","14px","font-weight","450"],[1,"form-horizontal",3,"formGroup"],["type","text","id","add_all_teacher_phone","rows","10","formControlName","listPhone",1,"form-control"],[1,"text-justify"],[1,"pt-1","text-justify",2,"color","#00000066","line-height","0"],[1,"d-flex","justify-content-end"],[1,"btn-add-all-member",3,"click"],[1,"slider-bar-body"],["class","group-body-item",4,"ngFor","ngForOf"],[1,"add-member"],[1,"btn-add-member",3,"matMenuTriggerFor","click"],[2,"vertical-align","middle","margin-top","2px"],["type","text",1,"search-input",3,"placeholder","formControl"],[1,"search-result"],["dataNull",""],[1,"group-body-item"],[1,"btn-delete",3,"click"],[1,"fa","fa-times",3,"matTooltip"],[4,"ngFor","ngForOf"],[1,"group-item",3,"disabled"],[1,"group-btn",3,"ngClass","click"],["class","spinner-border spinner-border-sm","style","color: silver;","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","silver"],[2,"display","flex","justify-content","center","align-items","center"],[1,"slider-content-block","mt-2"],["href","","target","_blank",1,"link-research","d-none"],[1,"fa","fa-external-link-alt"],[1,"slider-bar-right"],["type","checkbox","id","checkbox_role_hiden",1,"checkbox-input",3,"formControl"],["for","checkbox_role_hiden",1,"text-checkbox"],["class","slider-body",4,"ngIf","ngIfElse"],["templateElse",""],[1,"slider-body"],[1,"row"],["class","col-md-6 col-lg-4 col-xs-12 px-2 mb-3",4,"ngIf"],[1,"col-md-6","col-lg-4","col-xs-12","px-2","mb-3"],[1,"role-teacher"],[1,"class-title",3,"matTooltip"],[1,"role-content"],["class","role-item",4,"ngFor","ngForOf"],[1,"role-item"],["type","checkbox",1,"checkbox-input",3,"id","checked","change"],[1,"text-checkbox",3,"for"],[1,"slider-body",2,"display","flex","justify-content","center","align-items","center"],[3,"data","closeDialog"]],template:function(e,t){if(1&e&&(O.Qb(0,"header-backend",0),O.hc(1,"mytranslate"),O.Rc(2,C,1,0,"azt-loading-effect",1),O.Rc(3,ue,28,21,"ng-template",null,2,O.Sc)),2&e){var n=O.Ac(4);O.nc("headerTitle",O.ic(1,4,"lang_teacher_group_group_header_title"))("back_link","/admin/testbank/dashboard"),O.Db(2),O.nc("ngIf",t.statusObj.loading)("ngIfElse",n)}},styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}input[type=checkbox][_ngcontent-%COMP%]{zoom:.9;cursor:pointer}label[_ngcontent-%COMP%]{cursor:pointer}.slider[_ngcontent-%COMP%]{height:calc(100vh - 80px)}.slider-nav[_ngcontent-%COMP%]{background:#f9f9f9;padding:15px}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:5px;height:calc(100vh - 80px)}.slider-content[_ngcontent-%COMP%]{background:#fff;padding:15px 0 15px 15px;position:relative}.slider-content-block[_ngcontent-%COMP%]{border:1px solid #e9e9e9;border-radius:3px;margin-right:15px}.slider-bar[_ngcontent-%COMP%]{background:#fafafa;display:flex;align-items:center;justify-content:space-between;padding:5px 15px;flex-wrap:wrap;border-bottom:1px solid #e9e9e9}.slider-bar-title[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#333}.btn-delete[_ngcontent-%COMP%]{margin-left:10px;font-weight:700;color:#838383;padding-top:5px}.group-body-item[_ngcontent-%COMP%]{align-items:center;margin-right:15px}.add-member[_ngcontent-%COMP%], .group-body-item[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.add-member[_ngcontent-%COMP%]{position:relative}.search-result[_ngcontent-%COMP%]{height:166px;overflow-y:auto}.bg-custom[_ngcontent-%COMP%]{background:#ecf0f5}.w-33[_ngcontent-%COMP%]{width:33%}.w-80[_ngcontent-%COMP%]{width:80%}.mat-drawer-custom[_ngcontent-%COMP%]{background:#ecf0f5;border:none}.search-member[_ngcontent-%COMP%]{background:#fff;border-radius:5px;padding:10px;z-index:99}.search-member[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.btn-add-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;align-items:center;border-radius:3px;border:1px solid #e9e9e9;padding:2px 10px}.btn-add-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-del-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #f44336;background-color:#f44336;border-radius:3px;padding:2px 10px}.btn-del-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-all-member[_ngcontent-%COMP%]{font-size:11px;text-transform:inherit;display:flex;color:#fff;margin-left:5px;align-items:center;border:1px solid #169bd5;background-color:#169bd5;border-radius:3px;padding:2px 10px}.btn-add-all-member[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:14px;margin-right:5px}.btn-add-member[_ngcontent-%COMP%]:hover{background:#eee}.btn-del-all-member[_ngcontent-%COMP%]:hover{background:#d3392e}.btn-add-all-member[_ngcontent-%COMP%]:hover{background:#066d99}.slider-bar-body[_ngcontent-%COMP%]{display:flex;padding:15px 15px 0;flex-wrap:wrap;overflow-y:auto}.slider-bar-left[_ngcontent-%COMP%]{display:flex;align-items:center}.link-research[_ngcontent-%COMP%]{margin-left:15px;font-size:12px}.link-research[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.link-research[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#a7a7a7}.form-check-input[_ngcontent-%COMP%]{margin-top:3px}.text-checkbox[_ngcontent-%COMP%]{font-size:13px;margin-bottom:0;font-family:Arial,Helvetica,sans-serif;display:inline}.role-teacher[_ngcontent-%COMP%]{border:1px solid #e9e9e9;padding:12px;border-radius:3px}.role-item[_ngcontent-%COMP%]{margin-bottom:5px}.checkbox-input[_ngcontent-%COMP%]{margin-right:3px}.slider-content-footer[_ngcontent-%COMP%]{position:absolute;bottom:20px;right:20px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;padding:5px 25px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff;padding:6px 25px}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}.btn-cannel[_ngcontent-%COMP%]:hover{background:#eee}.btn-save[_ngcontent-%COMP%]:disabled{background:#e0e0e0!important}.class-title[_ngcontent-%COMP%]{width:100%;font-size:13px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.slider-body[_ngcontent-%COMP%]{min-height:20vh;padding:15px 20px 0;overflow-y:auto;overflow-x:hidden}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 200px);overflow:hidden}.h300[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.search[_ngcontent-%COMP%]{position:relative;background:#fff;border:1px solid #e9e9e9;padding:4px;border-radius:3px}.search-input[_ngcontent-%COMP%]{width:88%;font-weight:400;font-style:normal;margin-right:25px;border:none}.search-input[_ngcontent-%COMP%]:focus-visible{border:none!important}.search-input[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#999}.search-icon[_ngcontent-%COMP%]{font-size:20px;color:#b8b8b8;position:absolute;top:5px;right:0;cursor:pointer}.note-text[_ngcontent-%COMP%]{font-size:16px;font-weight:600;text-align:center}.group[_ngcontent-%COMP%]{margin:10px 0;background:#fff;border-radius:3px;border:1px solid #e9e9e9;overflow:hidden;height:calc(100vh - 195px)}.group-block[_ngcontent-%COMP%]{margin-bottom:20px}.group-content[_ngcontent-%COMP%]{margin-top:15px;padding:0 15px}.group-item[_ngcontent-%COMP%]{margin-bottom:15px;padding:3px;position:relative}.group-btn[_ngcontent-%COMP%]{background:transparent;border:none;text-transform:inherit;display:flex;align-items:center;width:100%;transition:all .5s;border-radius:5px}.group-btn[_ngcontent-%COMP%]:hover:not([disabled]){background:#eee}.group-info[_ngcontent-%COMP%]{text-align:left;line-height:1}.group-icon[_ngcontent-%COMP%]{font-size:30px;color:#169bd5;width:30px;height:30px}.group-name[_ngcontent-%COMP%]{font-size:13px;margin:0 0 0 15px;max-width:120px}.group-text[_ngcontent-%COMP%]{font-size:10px;color:#a2a2a2;margin-bottom:0;margin-left:15px;margin-top:5px}.class-active[_ngcontent-%COMP%]{width:100%;background:#eee;border-radius:5px}.group-btn-menu[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;z-index:99;transform:translateY(-50%)}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]{font-size:13px;color:#00a7d0;background:transparent;border:none;text-transform:inherit;transition:all .3s}.slider-bottom[_ngcontent-%COMP%]   .btn-add[_ngcontent-%COMP%]:hover{color:#0a5264}.color-disabled[_ngcontent-%COMP%]{color:#8b8b8b}.group-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.group-item[_ngcontent-%COMP%]:hover{background:#eee;border-radius:5px}@media screen and (max-width:1200px){.p-mbr-0[_ngcontent-%COMP%]{padding-right:0}.slider-content[_ngcontent-%COMP%], .slider-nav[_ngcontent-%COMP%]{height:86vh}.slider-body[_ngcontent-%COMP%]{min-height:20vh}.slider-body-main[_ngcontent-%COMP%]{height:calc(100vh - 220px);overflow:hidden}.group[_ngcontent-%COMP%]{height:calc(100vh - 270px)}.group-name[_ngcontent-%COMP%]{max-width:190px}}@media screen and (max-width:480px){.slider-body-main[_ngcontent-%COMP%]{height:auto!important}.slider-body[_ngcontent-%COMP%]{height:auto}.fixed-nav[_ngcontent-%COMP%]{position:fixed;top:0;left:15px;padding:5px;background:#ecf0f5;width:100%;z-index:99}.slider-content[_ngcontent-%COMP%]{min-height:calc(100vh - 112px);height:auto}.slider-nav[_ngcontent-%COMP%]{height:100vh}.slider-content-block[_ngcontent-%COMP%]{margin-bottom:50px}.slider-content[_ngcontent-%COMP%]{margin-bottom:15px}.slider-bar-body[_ngcontent-%COMP%]{height:auto}.class-title[_ngcontent-%COMP%]{white-space:normal;overflow:auto}.group[_ngcontent-%COMP%]{height:calc(100vh - 150px)}.group-name[_ngcontent-%COMP%]{max-width:145px}}@media screen and (max-width:321px){.group[_ngcontent-%COMP%]{height:80%}.group-name[_ngcontent-%COMP%]{max-width:100px}}"]}),be),ge=c("Avyq"),fe=c("6Fp8"),me=[{path:"",component:pe,canActivate:[fe.a],children:[{path:"",canActivateChild:[fe.a],children:[{path:"",component:pe}]}]}],ve=((he=function e(){r(this,e)}).\u0275mod=O.Nb({type:he}),he.\u0275inj=O.Mb({factory:function(e){return new(e||he)},imports:[[b.l.forChild(me)],b.l,ge.c]}),he),_e=c("atsk"),xe=c("5ete"),ye=c("bTqV"),Oe=c("iWHX");function ke(e,t){1&e&&(O.Vb(0,"p",22),O.Tc(1),O.hc(2,"mytranslate"),O.Ub()),2&e&&(O.Db(1),O.Uc(O.ic(2,1,"lang_teacher_group_utilt_add_group_add_group_teacher")))}function De(e,t){1&e&&(O.Vb(0,"p",22),O.Tc(1),O.hc(2,"mytranslate"),O.Ub()),2&e&&(O.Db(1),O.Uc(O.ic(2,1,"lang_teacher_group_utilt_add_group_edit_group_teacher")))}function Pe(e,t){1&e&&(O.Vb(0,"div"),O.Tc(1),O.hc(2,"mytranslate"),O.Ub()),2&e&&(O.Db(1),O.Vc("",O.ic(2,1,"lang_required_enter_name_group"),"!"))}function Ce(e,t){if(1&e&&(O.Vb(0,"div",23),O.Rc(1,Pe,3,3,"div",21),O.Ub()),2&e){var n=O.gc(2);O.Db(1),O.nc("ngIf",n.getErrorType("groupName","noWhiteSpace"))}}function Ue(e,t){1&e&&(O.Vb(0,"span"),O.Qb(1,"span",24),O.Tc(2,"\xa0"),O.Ub())}function we(e,t){1&e&&(O.Vb(0,"span"),O.Tc(1),O.hc(2,"mytranslate"),O.Ub()),2&e&&(O.Db(1),O.Uc(O.ic(2,1,"lang_buttom_save")))}function Ve(e,t){1&e&&(O.Vb(0,"span"),O.Tc(1),O.hc(2,"mytranslate"),O.Ub()),2&e&&(O.Db(1),O.Uc(O.ic(2,1,"lang_buttom_update")))}function Te(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",1),O.Vb(1,"div",2),O.Vb(2,"form",3),O.Vb(3,"div",4),O.Rc(4,ke,3,3,"p",5),O.Rc(5,De,3,3,"p",5),O.Vb(6,"button",6),O.cc("click",function(){return O.Ec(n),O.gc().btnCloseDialog(!1)}),O.Qb(7,"i",7),O.Ub(),O.Ub(),O.Vb(8,"div",8),O.Vb(9,"div",9),O.Vb(10,"div",10),O.Vb(11,"label",11),O.Tc(12),O.hc(13,"mytranslate"),O.Ub(),O.Vb(14,"div",12),O.Qb(15,"input",13),O.hc(16,"mytranslate"),O.Ub(),O.Rc(17,Ce,2,1,"div",14),O.Ub(),O.Ub(),O.Ub(),O.Vb(18,"div",15),O.Vb(19,"div",16),O.Vb(20,"div",17),O.Vb(21,"div",18),O.Vb(22,"button",19),O.cc("click",function(){return O.Ec(n),O.gc().btnCloseDialog(!1)}),O.Tc(23),O.hc(24,"mytranslate"),O.Ub(),O.Vb(25,"button",20),O.cc("click",function(){return O.Ec(n),O.gc().confirmAction()}),O.Rc(26,Ue,3,0,"span",21),O.Rc(27,we,3,3,"span",21),O.Rc(28,Ve,3,3,"span",21),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub()}if(2&e){var i=O.gc();O.Db(2),O.nc("formGroup",i.form),O.Db(2),O.nc("ngIf","add_group"===(null==i.data?null:i.data.type)),O.Db(1),O.nc("ngIf","edit_group"===(null==i.data?null:i.data.type)),O.Db(7),O.Uc(O.ic(13,11,"lang_teacher_group_utilt_add_group_lable_group")),O.Db(3),O.oc("placeholder",O.ic(16,13,"lang_teacher_group_utilt_add_group_lable_group")),O.Db(2),O.nc("ngIf",i.form.controls.groupName.invalid&&i.form.controls.groupName.dirty),O.Db(6),O.Vc(" ",O.ic(24,15,"lang_buttom_cancel")," "),O.Db(2),O.nc("disabled",i.statusObj.loading||i.form.invalid),O.Db(1),O.nc("ngIf",i.statusObj.loading),O.Db(1),O.nc("ngIf","add_group"===(null==i.data?null:i.data.type)),O.Db(1),O.nc("ngIf","edit_group"===(null==i.data?null:i.data.type))}}var Me,Se=((Me=function(n){t(c,n);var o=i(c);function c(e,t,n,i){var a;return r(this,c),(a=o.call(this,t)).fb=e,a.commonService=t,a.baseApiService=n,a.teacherGroupService=i,a.closeDialog=new O.o,a.form=new d.k({}),a}return l(c,[{key:"getErrorType",value:function(e,t){var n;return!(!this.form.controls[e]||!this.form.controls[e].errors||!(null===(n=this.form.controls[e].errors)||void 0===n?void 0:n[t]))}},{key:"confirmAction",value:function(){var e,t,n,i=this;if("add_group"===(null===(e=this.data)||void 0===e?void 0:e.type)){var o=this.commonService.getFormObj(this.form);this.form.valid&&(this.initStatusObj(),this.subscriptions.add(this.teacherGroupService.apiTeacherGroupSaveGroupWithTeamPost({groupName:o.groupName}).subscribe(function(e){var t;1==e.success?(i.btnCloseDialog(!0),i.showSuccessSnack("Th\xeam nh\xf3m th\xe0nh c\xf4ng"),i.successStatusObj()):(i.btnCloseDialog(!1),i.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0))})))}else{var a=this.commonService.getFormObj(this.form);if(this.form.valid){this.initStatusObj();var r={id:null===(n=null===(t=this.data)||void 0===t?void 0:t.groupWithTeacherData)||void 0===n?void 0:n.id,groupName:a.groupName};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupUpdateGroupWithTeamPost(r).subscribe(function(e){var t;1==e.success?(i.btnCloseDialog(!0),i.showSuccessSnack("S\u1eeda nh\xf3m th\xe0nh c\xf4ng"),i.successStatusObj()):(i.btnCloseDialog(!1),i.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0))}))}}}},{key:"btnCloseDialog",value:function(e){e?this.closeDialog.emit(e):this.closeDialog.emit()}},{key:"ngOnInit",value:function(){var t;this.form=this.fb.group({groupName:new d.h("",[d.A.required,_e.a.noWhiteSpace])}),(null===(t=this.data)||void 0===t?void 0:t.groupWithTeacherData)&&this.form.controls.groupName.setValue(this.data.groupWithTeacherData.name),e(a(c.prototype),"ngOnInit",this).call(this)}}]),c}(y.a)).\u0275fac=function(e){return new(e||Me)(O.Pb(d.g),O.Pb(k.a),O.Pb(xe.a),O.Pb(x.jb))},Me.\u0275cmp=O.Jb({type:Me,selectors:[["app-add-group"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[O.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],[1,"form-content"],[1,"form-group"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","id","full-name","formControlName","groupName",1,"form-control",3,"placeholder"],["class","alert alert-danger",4,"ngIf"],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","text-right"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&O.Rc(0,Te,29,17,"div",0),2&e&&O.nc("ngIf",null==t.data?null:t.data.isShow)},directives:[s.m,d.C,d.t,d.l,d.d,d.s,d.j,ye.b],pipes:[Oe.z],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px rgba(91,91,91,.35)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),Me),Ie=c("NFeN");function Ge(e,t){1&e&&(O.Vb(0,"p",20),O.Tc(1,"Th\xeam gi\xe1o vi\xean"),O.Ub())}function je(e,t){1&e&&(O.Vb(0,"p",20),O.Tc(1,"S\u1eeda gi\xe1o vi\xean"),O.Ub())}function Ae(e,t){1&e&&(O.Vb(0,"span"),O.Tc(1,"Ch\u01b0a c\xf3 file \u0111\u01b0\u1ee3c ch\u1ecdn"),O.Ub())}function ze(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",33),O.Vb(1,"div",34),O.cc("click",function(e){return e.stopPropagation()}),O.Vb(2,"div",35),O.Qb(3,"img",36),O.hc(4,"convertCdn"),O.Ub(),O.Vb(5,"div",37),O.Tc(6),O.Ub(),O.Vb(7,"div",38),O.Vb(8,"button",39),O.cc("click",function(e){return O.Ec(n),O.gc(3).removeFile(e)}),O.Tc(9,"X\xf3a"),O.Ub(),O.Ub(),O.Ub(),O.Ub()}if(2&e){var i=O.gc(3);O.Db(3),O.nc("src",O.ic(4,2,"azota_assets/images/excel.png"),O.Ic),O.Db(3),O.Uc(i.file?i.file.name:"")}}function Ee(e,t){1&e&&(O.Vb(0,"span",40),O.Tc(1,"K\xe9o th\u1ea3 file Excel ho\u1eb7c Click \u0111\u1ec3 ch\u1ecdn file"),O.Ub())}function Re(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",21),O.Vb(1,"div",22),O.cc("click",function(){return O.Ec(n),O.Ac(8).click()}),O.Vb(2,"div",23),O.Vb(3,"div",24),O.Vb(4,"a",25),O.Vb(5,"mat-icon"),O.Tc(6,"cloud_upload"),O.Ub(),O.Ub(),O.Vb(7,"input",26,27),O.cc("change",function(e){return O.Ec(n),O.gc(2).onFileSelected(e)}),O.Ub(),O.Rc(9,Ae,2,0,"span",28),O.Rc(10,ze,10,4,"ng-template",null,29,O.Sc),O.Rc(12,Ee,2,0,"span",30),O.Ub(),O.Ub(),O.Ub(),O.Vb(13,"div",31),O.Vb(14,"a",32),O.hc(15,"convertLink"),O.Vb(16,"span"),O.Tc(17,"T\u1ea3i file bi\u1ec3u m\u1eabu "),O.Ub(),O.Vb(18,"mat-icon"),O.Tc(19,"save_alt"),O.Ub(),O.Ub(),O.Ub(),O.Ub()}if(2&e){var i=O.Ac(11),o=O.gc(2);O.Db(9),O.nc("ngIf",!o.file)("ngIfElse",i),O.Db(3),O.nc("ngIf",!o.file),O.Db(2),O.oc("download",o.changeNameDownloadFile("excel_add_teacher_exp_v4")),O.nc("href",O.ic(15,5,"blob/master/azota_assets/medias/excel_add_teacher_exp_v4.xlsx?raw=true"),O.Ic)}}function Ne(e,t){1&e&&(O.Vb(0,"div"),O.Tc(1),O.hc(2,"mytranslate"),O.Ub()),2&e&&(O.Db(1),O.Vc("",O.ic(2,1,"lang_cms_utils_folder_name_validate_space"),"!"))}function Le(e,t){if(1&e&&(O.Vb(0,"div",48),O.Rc(1,Ne,3,3,"div",19),O.Ub()),2&e){var n=O.gc(3);O.Db(1),O.nc("ngIf",n.getErrorType("fullName","noWhiteSpace"))}}function Fe(e,t){1&e&&(O.Vb(0,"div"),O.Tc(1," B\u1ea1n ph\u1ea3i nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i. "),O.Ub())}function We(e,t){1&e&&(O.Vb(0,"div"),O.Tc(1," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ph\u1ea3i l\xe0 10 s\u1ed1. "),O.Ub())}function Qe(e,t){if(1&e&&(O.Vb(0,"div",48),O.Rc(1,Fe,2,0,"div",19),O.Rc(2,We,2,0,"div",19),O.Ub()),2&e){var n=O.gc(3);O.Db(1),O.nc("ngIf",n.getErrorType("phone","required")),O.Db(1),O.nc("ngIf",n.getErrorType("phone","minlength")||n.getErrorType("phone","maxlength"))}}function $e(e,t){if(1&e&&(O.Vb(0,"div",21),O.Vb(1,"div",41),O.Vb(2,"label",42),O.Tc(3,"H\u1ecd v\xe0 t\xean"),O.Ub(),O.Vb(4,"div",43),O.Qb(5,"input",44),O.Ub(),O.Rc(6,Le,2,1,"div",45),O.Ub(),O.Ub(),O.Vb(7,"div",21),O.Vb(8,"div",41),O.Vb(9,"label",46),O.Tc(10,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),O.Ub(),O.Vb(11,"div",43),O.Qb(12,"input",47),O.Ub(),O.Rc(13,Qe,3,2,"div",45),O.Ub(),O.Ub()),2&e){var n=O.gc(2);O.Db(6),O.nc("ngIf",n.form.controls.fullName.invalid&&n.form.controls.fullName.dirty),O.Db(7),O.nc("ngIf",n.form.controls.phone.invalid&&n.form.controls.phone.dirty)}}function Be(e,t){1&e&&(O.Vb(0,"span"),O.Qb(1,"span",49),O.Tc(2,"\xa0"),O.Ub())}function Xe(e,t){1&e&&(O.Vb(0,"span"),O.Tc(1),O.hc(2,"mytranslate"),O.Ub()),2&e&&(O.Db(1),O.Uc(O.ic(2,1,"lang_buttom_save")))}function qe(e,t){1&e&&(O.Vb(0,"span"),O.Tc(1),O.hc(2,"mytranslate"),O.Ub()),2&e&&(O.Db(1),O.Uc(O.ic(2,1,"lang_buttom_update")))}function Ke(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",1),O.Vb(1,"div",2),O.Vb(2,"form",3),O.Vb(3,"div",4),O.Rc(4,Ge,2,0,"p",5),O.Rc(5,je,2,0,"p",5),O.Vb(6,"button",6),O.cc("click",function(){return O.Ec(n),O.gc().btnCloseDialog(!1)}),O.Qb(7,"i",7),O.Ub(),O.Ub(),O.Rc(8,Re,20,7,"div",8),O.Rc(9,$e,14,2,"ng-template",null,9,O.Sc),O.Vb(11,"div",10),O.Vb(12,"div",11),O.Vb(13,"a",12),O.cc("click",function(){return O.Ec(n),O.gc().showImportExcel()}),O.Vb(14,"span",13),O.Tc(15),O.Ub(),O.Ub(),O.Ub(),O.Vb(16,"div",14),O.Vb(17,"div",15),O.Vb(18,"div",16),O.Vb(19,"button",17),O.cc("click",function(){return O.Ec(n),O.gc().btnCloseDialog(!1)}),O.Tc(20),O.hc(21,"mytranslate"),O.Ub(),O.Vb(22,"button",18),O.cc("click",function(){return O.Ec(n),O.gc().confirmAction()}),O.Rc(23,Be,3,0,"span",19),O.Rc(24,Xe,3,3,"span",19),O.Rc(25,qe,3,3,"span",19),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub()}if(2&e){var i=O.Ac(10),o=O.gc();O.Db(2),O.nc("formGroup",o.form),O.Db(2),O.nc("ngIf","add_teacher"==(null==o.data?null:o.data.type)),O.Db(1),O.nc("ngIf","edit_teacher"==(null==o.data?null:o.data.type)),O.Db(3),O.nc("ngIf",o.importExcel)("ngIfElse",i),O.Db(7),O.Uc(o.importExcel?"Quay l\u1ea1i":"Nh\u1eadp t\u1eeb File Excel"),O.Db(5),O.Vc(" ",O.ic(21,11,"lang_buttom_cancel")," "),O.Db(2),O.nc("disabled",o.statusObj.loading||o.form.invalid&&!o.importExcel||1==o.importExcel&&null==o.file),O.Db(1),O.nc("ngIf",o.statusObj.loading),O.Db(1),O.nc("ngIf","add_teacher"==(null==o.data?null:o.data.type)),O.Db(1),O.nc("ngIf","edit_teacher"==(null==o.data?null:o.data.type))}}var Je,Ye=((Je=function(n){t(c,n);var o=i(c);function c(e,t,n,i){var a;return r(this,c),(a=o.call(this,t)).fb=e,a.commonService=t,a.baseApiService=n,a.teacherGroupService=i,a.closeDialog=new O.o,a.form=new d.k({}),a.importExcel=!1,a.file=null,a}return l(c,[{key:"getErrorType",value:function(e,t){var n;return!(!this.form.controls[e]||!this.form.controls[e].errors||!(null===(n=this.form.controls[e].errors)||void 0===n?void 0:n[t]))}},{key:"onFileSelected",value:function(e){var t=e.target.files;this.file=t?t[0]:this.file,this.file&&["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel"].includes(this.file.type)||(this.file=null,this.commonService.snackError("Vui l\xf2ng ch\u1ecdn \u0111\xfang t\u1ec7p tin Excel",""))}},{key:"removeFile",value:function(e){e.stopPropagation(),this.file=null}},{key:"confirmAction",value:function(){var e,t,n,i=this,o=this.commonService.getFormObj(this.form);if(this.initStatusObj(),this.importExcel)this.subscriptions.add(this.teacherGroupService.apiTeacherGroupAddTeacherIntoTeamWithExcelPostForm(this.file).subscribe(function(e){var t,n,o,a;if(1==e.success){i.btnCloseDialog(!0);var r=(null===(t=e.data)||void 0===t?void 0:t.saveSuccess)?e.data.saveSuccess:0,c=(null===(n=e.data)||void 0===n?void 0:n.totalTeacher)?e.data.totalTeacher:0,l=(null===(o=e.data)||void 0===o?void 0:o.notValidPhone)?e.data.notValidPhone:0;i.showSuccessSnack(r===c?"Th\xeam gi\xe1o vi\xean v\xe0o danh b\u1ea1 th\xe0nh c\xf4ng":"Th\xeam th\xe0nh c\xf4ng "+r+"/"+c+" gi\xe1o vi\xean v\xe0o danh b\u1ea1! Trong \u0111\xf3 c\xf3 "+l+" S\u0110T sai \u0111\u1ecbnh d\u1ea1ng."),i.successStatusObj()}else i.btnCloseDialog(!1),i.errorStatusObj(null!==(a=e.message)&&void 0!==a?a:"",!0)}));else switch(null===(e=this.data)||void 0===e?void 0:e.type){case"add_teacher":this.form.valid&&this.subscriptions.add(this.teacherGroupService.apiTeacherGroupAddTeacherWithTeamPost({numberphone:o.phone,fullname:o.fullName}).subscribe(function(e){var t;1===e.success?(i.btnCloseDialog(!0),i.showSuccessSnack("Th\xeam gi\xe1o vi\xean th\xe0nh c\xf4ng"),i.successStatusObj()):i.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0)}));break;case"edit_teacher":if(this.form.valid){var a={id:null===(n=null===(t=this.data)||void 0===t?void 0:t.teamTeacherObj)||void 0===n?void 0:n.id,numberphone:o.phone,fullname:o.fullName};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupUpdateTeacherWithTeamPost(a).subscribe(function(e){var t;1==e.success?(i.btnCloseDialog(!0),i.showSuccessSnack("S\u1eeda th\xf4ng tin gi\xe1o vi\xean th\xe0nh c\xf4ng"),i.successStatusObj()):(i.btnCloseDialog(!1),i.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0))}))}}}},{key:"btnCloseDialog",value:function(e){e?this.closeDialog.emit(e):this.closeDialog.emit()}},{key:"showImportExcel",value:function(){this.importExcel=!this.importExcel}},{key:"changeNameDownloadFile",value:function(e){return this.commonService.createFileNameExportFile([e])+".xlsx"}},{key:"ngOnInit",value:function(){var t,n,i;this.form=this.fb.group({phone:["",[d.A.required,d.A.pattern("^[0-9]*$"),d.A.minLength(10),d.A.maxLength(10)]],fullName:new d.h("",[d.A.required,_e.a.noWhiteSpace]),File:new d.h("")}),"edit_teacher"==(null===(t=this.data)||void 0===t?void 0:t.type)&&(this.form.controls.phone.setValue(null===(n=this.data.teamTeacherObj)||void 0===n?void 0:n.phone),this.form.controls.fullName.setValue(null===(i=this.data.teamTeacherObj)||void 0===i?void 0:i.fullName)),e(a(c.prototype),"ngOnInit",this).call(this)}}]),c}(y.a)).\u0275fac=function(e){return new(e||Je)(O.Pb(d.g),O.Pb(k.a),O.Pb(xe.a),O.Pb(x.jb))},Je.\u0275cmp=O.Jb({type:Je,selectors:[["app-add-teacher"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[O.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info"],[1,"form-horizontal",3,"formGroup"],[1,"heading"],["class","heading-title",4,"ngIf"],[1,"btn-delete",3,"click"],[1,"fa","fa-times"],["class","form-group",4,"ngIf","ngIfElse"],["NormalForm",""],[1,"row","ml-0","mr-0","pl-0","pr-0","justify-content-between"],[1,"col-12","col-sm-6","align-self-center","my-2"],[1,"clickable","text-info","float-left",3,"click"],[2,"vertical-align","middle"],[1,"col-12","col-sm-6","align-self-center"],[1,"d-flex","float-right"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","",1,"btn-save",3,"disabled","click"],[4,"ngIf"],[1,"heading-title"],[1,"form-group"],[1,"col-sm-12","text-center","v-dragndrop","dropzone","dz-started","cur-po",3,"click"],[1,"px-4","py-3","rounded"],[1,"file"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","formControlName","File","accept",".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",1,"form-control","file-input",3,"change"],["fileSelect",""],[4,"ngIf","ngIfElse"],["exitsFile",""],["class","d-block mt-20 text-dark-green mt-3",4,"ngIf"],[1,"text-center","file","mt-2"],["target","_self",1,"dz-clickable",3,"href","download"],[1,"d-flex","align-items-center","justify-content-center","m-3"],[1,"fileinfo","p-3",3,"click"],[1,"title"],["alt","excel icon",1,"img-fluid",3,"src"],[1,"file-name"],[1,"action"],[1,"btn-remove",3,"click"],[1,"d-block","mt-20","text-dark-green","mt-3"],[1,"col-sm-12"],["for","full-name",1,"text-feild"],[1,"input-group","mb-3"],["type","text","placeholder","H\u1ecd v\xe0 t\xean","id","full-name","formControlName","fullName",1,"form-control"],["class","alert alert-danger",4,"ngIf"],["for","number-phone",1,"text-feild"],["type","text","placeholder","S\u1ed1 \u0111i\u1ec7n tho\u1ea1i","id","number-phone","formControlName","phone",1,"form-control"],[1,"alert","alert-danger"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&O.Rc(0,Ke,26,13,"div",0),2&e&&O.nc("ngIf",null==t.data?null:t.data.isShow)},directives:[s.m,d.C,d.t,d.l,ye.b,Ie.a,d.d,d.s,d.j],pipes:[Oe.z,Oe.g,Oe.f],styles:["[_ngcontent-%COMP%]:focus{outline:none}button[_ngcontent-%COMP%]{border:none;background:transparent}.school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:rgba(60,60,60,.5)}.school-info[_ngcontent-%COMP%]{padding:15px;border-radius:5px;z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;position:fixed;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 9px rgba(91,91,91,.35)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.font-size-1[_ngcontent-%COMP%]{font-size:15px}.fileinfo[_ngcontent-%COMP%]{width:200px;border:1px dashed #1baba1;background:#f0f8ff}.fileinfo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}.fileinfo[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.fileinfo[_ngcontent-%COMP%]   .btn-remove[_ngcontent-%COMP%]{background:#f71414;color:#fff;padding:2px 20px;border:none;border-radius:5px;margin-top:5px}.heading[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-bottom:20px}.heading-title[_ngcontent-%COMP%]{margin:0;font-size:15px;font-weight:500}.btn-delete[_ngcontent-%COMP%]{font-weight:700;color:#838383;position:absolute;right:10px;top:15px}.text-feild[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]::placeholder{font-size:13px;color:#a7a7a7}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover:not([disabled]){background:#066d99}.btn-save[_ngcontent-%COMP%]{border:none;background:#169bd5;margin-left:10px;color:#fff}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width:768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width:576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width:380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width:290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),Je);function Ze(e,t){if(1&e&&(O.Vb(0,"p",10),O.Tc(1),O.hc(2,"mytranslate"),O.Vb(3,"b"),O.Tc(4),O.Ub(),O.Tc(5),O.hc(6,"mytranslate"),O.Ub()),2&e){var n=O.gc(2);O.Db(1),O.Vc(" ",O.ic(2,3,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher")," "),O.Db(3),O.Uc(null==n.data||null==n.data.teamTeacherObj?null:n.data.teamTeacherObj.fullName),O.Db(1),O.Vc(" ",O.ic(6,5,"lang_teacher_group_utilt_delete_dialog_out_group"),"? ")}}function He(e,t){if(1&e&&(O.Vb(0,"p",10),O.Tc(1),O.hc(2,"mytranslate"),O.Vb(3,"b"),O.Tc(4),O.Ub(),O.Ub()),2&e){var n=O.gc(2);O.Db(1),O.Vc(" ",O.ic(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),O.Db(3),O.Uc(null==n.data||null==n.data.groupWithTeacherData?null:n.data.groupWithTeacherData.name)}}function et(e,t){if(1&e&&(O.Vb(0,"p",10),O.Tc(1),O.hc(2,"mytranslate"),O.Vb(3,"b"),O.Tc(4),O.Ub(),O.Ub()),2&e){var n=O.gc(2);O.Db(1),O.Vc(" ",O.ic(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete")," "),O.Db(3),O.Uc(null==n.data||null==n.data.teamTeacherObj?null:n.data.teamTeacherObj.fullName)}}function tt(e,t){if(1&e&&(O.Vb(0,"p",10),O.Tc(1),O.hc(2,"mytranslate"),O.Vb(3,"b"),O.Tc(4),O.Ub(),O.Ub()),2&e){var n=O.gc(2);O.Db(1),O.Vc(" ",O.ic(2,2,"lang_teacher_group_utilt_delete_dialog_note_verifile_delete_teacher_in_group")," "),O.Db(3),O.Uc(null==n.data||null==n.data.groupObj?null:n.data.groupObj.name)}}function nt(e,t){1&e&&(O.Vb(0,"span"),O.Qb(1,"span",11),O.Tc(2,"\xa0"),O.Ub())}function it(e,t){if(1&e){var n=O.Wb();O.Vb(0,"div",1),O.Vb(1,"div",2),O.Vb(2,"div",3),O.Rc(3,Ze,7,7,"p",4),O.Rc(4,He,5,4,"p",4),O.Rc(5,et,5,4,"p",4),O.Rc(6,tt,5,4,"p",4),O.Ub(),O.Vb(7,"div",5),O.Vb(8,"div",6),O.Vb(9,"button",7),O.cc("click",function(){return O.Ec(n),O.gc().btnCloseDialog()}),O.Tc(10),O.hc(11,"mytranslate"),O.Ub(),O.Vb(12,"button",8),O.cc("click",function(){return O.Ec(n),O.gc().confirmDelete()}),O.Rc(13,nt,3,0,"span",9),O.Tc(14),O.hc(15,"mytranslate"),O.Ub(),O.Ub(),O.Ub(),O.Ub(),O.Ub()}if(2&e){var i=O.gc();O.Db(3),O.nc("ngIf","delete_member"==(null==i.data?null:i.data.type)),O.Db(1),O.nc("ngIf","delete_group"==(null==i.data?null:i.data.type)),O.Db(1),O.nc("ngIf","delete_teacher"==(null==i.data?null:i.data.type)),O.Db(1),O.nc("ngIf","delete_all_teacher_group"==(null==i.data?null:i.data.type)),O.Db(4),O.Vc(" ",O.ic(11,8,"lang_cms_common_close_btn")," "),O.Db(2),O.nc("disabled",i.statusObj.loading),O.Db(1),O.nc("ngIf",i.statusObj.loading),O.Db(1),O.Vc(" ",O.ic(15,10,"lang_cms_common_confirm_btn")," ")}}var ot,at,rt=((ot=function(e){t(o,e);var n=i(o);function o(e,t){var i;return r(this,o),(i=n.call(this,e)).commonService=e,i.teacherGroupService=t,i.closeDialog=new O.o,i}return l(o,[{key:"confirmDelete",value:function(){var e,t,n,i,o,a,r,c,l,s=this;switch(this.initStatusObj(),null===(e=this.data)||void 0===e?void 0:e.type){case"delete_member":var d={groupId:this.data.groupId,teacherTeamId:null===(n=null===(t=this.data)||void 0===t?void 0:t.teamTeacherObj)||void 0===n?void 0:n.id};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithGroupPost(d).subscribe(function(e){var t;1===e.success?(s.showSuccessSnack("X\xf3a gi\xe1o vi\xean kh\u1ecfi nh\xf3m th\xe0nh c\xf4ng"),s.closeDialog.emit(s.data),s.successStatusObj()):s.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0)}));break;case"delete_group":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteGroupWithTeamGet(null===(o=null===(i=this.data)||void 0===i?void 0:i.groupWithTeacherData)||void 0===o?void 0:o.id).subscribe(function(e){var t;1===e.success?(s.commonService.snackSuccess("X\xf3a nh\xf3m th\xe0nh c\xf4ng",""),s.closeDialog.emit(s.data),s.successStatusObj()):s.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0)}));break;case"delete_teacher":this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteTeacherWithTeamGet(null===(r=null===(a=this.data)||void 0===a?void 0:a.teamTeacherObj)||void 0===r?void 0:r.id).subscribe(function(e){var t;1==e.success?(s.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),s.closeDialog.emit(s.data),s.successStatusObj()):s.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0)}));break;case"delete_all_teacher_group":var u={groupId:null===(l=null===(c=this.data)||void 0===c?void 0:c.groupObj)||void 0===l?void 0:l.id,teamTeacherIds:this.data.teacherIds};this.subscriptions.add(this.teacherGroupService.apiTeacherGroupDeleteMultipleTeacherWithGroupPost(u).subscribe(function(e){var t;1==e.success?(s.commonService.snackSuccess("X\xf3a gi\xe1o vi\xean th\xe0nh c\xf4ng",""),s.closeDialog.emit(s.data),s.successStatusObj()):s.errorStatusObj(null!==(t=e.message)&&void 0!==t?t:"",!0)}))}}},{key:"btnCloseDialog",value:function(){this.closeDialog.emit()}}]),o}(y.a)).\u0275fac=function(e){return new(e||ot)(O.Pb(k.a),O.Pb(x.jb))},ot.\u0275cmp=O.Jb({type:ot,selectors:[["app-delete-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[O.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],["class","h5 para_respon font-weight-normal",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-stroked-button","",1,"btn-cannel",3,"click"],["mat-flat-button","","color","warn",1,"btn-save",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],[1,"h5","para_respon","font-weight-normal"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,t){1&e&&O.Rc(0,it,16,12,"div",0),2&e&&O.nc("ngIf",null==t.data?null:t.data.isShow)},directives:[s.m,ye.b],pipes:[Oe.z],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.btn-cannel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{font-size:12px;border-radius:5px;transition:all .5s}.btn-save[_ngcontent-%COMP%]:hover{background:#bd2c22}.btn-cannel[_ngcontent-%COMP%]{border:1px solid #797979;color:#797979}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),ot),ct=c("hZBc"),lt=c("nzN9"),st=c("XhcP"),dt=c("STbY"),ut=c("IU+r"),bt=c("Qu3c"),ht=((at=function e(){r(this,e)}).\u0275mod=O.Nb({type:at}),at.\u0275inj=O.Mb({factory:function(e){return new(e||at)},imports:[[b.l,s.c,_.a,h.b,d.n,d.y,u.f,v.a,p.b,g.b,ve,f.c,m.a]]}),at);O.Kc(pe,[ct.a,s.m,lt.a,st.b,st.a,s.k,d.d,d.s,d.i,Ie.a,f.b,s.l,ye.b,dt.d,dt.a,dt.b,ut.a,bt.a,st.c,d.C,d.t,d.l,d.j,d.a,rt,Ye,Se],[Oe.z,Oe.l])}}])}();