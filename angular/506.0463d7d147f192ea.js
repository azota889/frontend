"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[506],{37104:(Pt,$,m)=>{m.d($,{B:()=>F});var w=m(55330),_=m(5e3),H=m(69808),N=m(89824);function V(O,Z){1&O&&(_.TgZ(0,"span",6),_._uU(1,"\u0110"),_.qZA())}function it(O,Z){1&O&&(_.TgZ(0,"span",7),_._uU(1,"C\u0110"),_.qZA())}function st(O,Z){1&O&&(_.TgZ(0,"span",8),_._uU(1,"HT"),_.qZA())}function rt(O,Z){1&O&&(_.TgZ(0,"span",9),_._uU(1,"CHT"),_.qZA())}function at(O,Z){1&O&&(_.TgZ(0,"span",10),_._uU(1,"HTT"),_.qZA())}function D(O,Z){if(1&O&&(_.TgZ(0,"span",11),_._uU(1),_.qZA()),2&O){const t=_.oxw();_.xp6(1),_.Oqu(t.mark)}}let F=(()=>{class O extends w.Q{constructor(){super(...arguments),this.mark=0}}return O.\u0275fac=function(){let Z;return function(C){return(Z||(Z=_.n5z(O)))(C||O)}}(),O.\u0275cmp=_.Xpm({type:O,selectors:[["azt-check-mark"]],inputs:{mark:"mark"},features:[_.qOj],decls:6,vars:6,consts:[["class","text-mark mb-0","matTooltip","\u0110\u1ea1t",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ch\u01b0a \u0110\u1ea1t",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ho\xe0n Th\xe0nh",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ch\u01b0a Ho\xe0n Th\xe0nh",4,"ngIf"],["class","text-mark mb-0","matTooltip","Ho\xe0n Th\xe0nh T\u1ed1t",4,"ngIf"],["class","text-mark mb-0",4,"ngIf"],["matTooltip","\u0110\u1ea1t",1,"text-mark","mb-0"],["matTooltip","Ch\u01b0a \u0110\u1ea1t",1,"text-mark","mb-0"],["matTooltip","Ho\xe0n Th\xe0nh",1,"text-mark","mb-0"],["matTooltip","Ch\u01b0a Ho\xe0n Th\xe0nh",1,"text-mark","mb-0"],["matTooltip","Ho\xe0n Th\xe0nh T\u1ed1t",1,"text-mark","mb-0"],[1,"text-mark","mb-0"]],template:function(t,C){1&t&&(_.YNc(0,V,2,0,"span",0),_.YNc(1,it,2,0,"span",1),_.YNc(2,st,2,0,"span",2),_.YNc(3,rt,2,0,"span",3),_.YNc(4,at,2,0,"span",4),_.YNc(5,D,2,1,"span",5)),2&t&&(_.Q6J("ngIf","1000"==C.mark),_.xp6(1),_.Q6J("ngIf","1001"==C.mark),_.xp6(1),_.Q6J("ngIf","2000"==C.mark),_.xp6(1),_.Q6J("ngIf","2001"==C.mark),_.xp6(1),_.Q6J("ngIf","3000"==C.mark),_.xp6(1),_.Q6J("ngIf","2001"!=C.mark&&"2000"!=C.mark&&"1001"!=C.mark&&"1000"!=C.mark&&"3000"!=C.mark))},directives:[H.O5,N.gM],encapsulation:2}),O})()},37506:(Pt,$,m)=>{m.r($),m.d($,{HomeworkModule:()=>Ni});var w=m(69808),_=m(93075),H=m(88341),N=m(74202),V=m(51908),it=m(1737),st=m(71410),rt=m(75658),at=m(60157),D=m(24096),F=m(36053),O=m(25127),Z=m(55330),t=m(5e3),C=m(35018),K=m(37389),X=m(37234),W=m(2366),pt=m(86317),ht=m(34782),qt=m(61372);const Jt=["drawer"],Ut=["boxContent"];function Et(n,r){1&n&&t._UZ(0,"azt-loading-effect")}function Dt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-delete-homework",9),t.NdJ("closeDialog",function(i){return t.CHM(e),t.oxw(3).closeDeleteHomework(i)}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("data",e.deleteHomeworkData)}}function Ft(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"azt-preview-media",10),t.NdJ("closePreview",function(){return t.CHM(e),t.oxw(3).onFileClose()}),t.qZA()()}if(2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("fileOption",e.previewFile)}}function Qt(n,r){if(1&n&&(t.TgZ(0,"div",11)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.ALo(4,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(3);t.xp6(2),t.AsE("",t.lcZ(3,2,"lang_homework_homework_score_list_not_search_data"),"! ","lang_core_not_found_classroom_or_homework"==e.errorMessage?"lang_homework_homework_score_list_class_maybe_delete":t.lcZ(4,4,""),"")}}function zt(n,r){if(1&n&&(t.TgZ(0,"p",88),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"date"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_homework_homework_score_list_dealine"),": ",t.xi3(3,4,e.homeworkObj.deadline,"dd/MM/yyyy HH:mm"),"")}}function Yt(n,r){1&n&&(t.TgZ(0,"p",88),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_homework_score_list_dealine_not_time")))}function Bt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",96)(1,"div",97),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(6).onShowFile(s,-1)}),t.TgZ(2,"mat-icon",98),t._uU(3," text_snippet"),t.qZA(),t.TgZ(4,"span",99),t._uU(5),t.qZA()()()}if(2&n){const e=r.$implicit,o=t.oxw(6);t.xp6(4),t.Q6J("matTooltip",o.getFileName(e)),t.xp6(1),t.Oqu(o.getFileName(e))}}function Rt(n,r){if(1&n&&(t.TgZ(0,"div",94),t.YNc(1,Bt,6,2,"div",95),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.homeworkObj.fileObjs)}}function Wt(n,r){if(1&n&&t._UZ(0,"div",100),2&n){const e=t.oxw(5);t.Q6J("innerHTML",e.homeworkObj.content,t.oJD)}}const tt=function(n){return[n]},ut=function(n){return{backTo:n}};function Gt(n,r){if(1&n&&(t.TgZ(0,"a",101),t.ALo(1,"mylocalize"),t.TgZ(2,"mat-icon",102),t._uU(3,"edit"),t.qZA(),t.TgZ(4,"span",103),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(5);t.Q6J("routerLink",t.VKq(7,tt,t.lcZ(1,3,"/admin/homework/add-new-homework/"+e.homeworkObj.id+"/"+e.homeworkHashId)))("queryParams",t.VKq(9,ut,e.backLink)),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_buttom_edit"))}}function $t(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",104),t.NdJ("click",function(){return t.CHM(e),t.oxw(5).deleteHomework()}),t.TgZ(1,"mat-icon",102),t._uU(2,"delete"),t.qZA(),t.TgZ(3,"span",103),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_buttom_delete")))}function Vt(n,r){if(1&n&&(t.YNc(0,Rt,2,1,"div",89),t.YNc(1,Wt,1,1,"div",90),t.TgZ(2,"div",91),t.YNc(3,Gt,7,11,"a",92),t.ALo(4,"editPermission"),t.YNc(5,$t,6,3,"a",93),t.ALo(6,"deletePermission"),t.qZA()),2&n){const e=t.oxw(4);t.Q6J("ngIf",e.homeworkObj.files&&e.homeworkObj.files.length>0),t.xp6(1),t.Q6J("ngIf",e.homeworkObj.content&&""!=e.homeworkObj.content),t.xp6(2),t.Q6J("ngIf",t.xi3(4,4,e.homeworkObj.permissionObj,"homework")),t.xp6(2),t.Q6J("ngIf",t.xi3(6,7,e.homeworkObj.permissionObj,"homework"))}}function Kt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",105),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleShowActions()}),t.TgZ(1,"mat-icon",102),t._uU(2,"expand_more"),t.qZA()()}}function Xt(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",105),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleShowActions()}),t.TgZ(1,"mat-icon",102),t._uU(2,"expand_less"),t.qZA()()}}function te(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",106),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).openDrawer()}),t.ALo(1,"mytranslate"),t.TgZ(2,"mat-icon",107),t._uU(3," menu_open"),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_homework_homework_score_list_open_menu"))}function ee(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",106),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).closeDrawer()}),t.ALo(1,"mytranslate"),t.TgZ(2,"mat-icon",108),t._uU(3,"menu_open "),t.qZA()()}2&n&&t.s9C("matTooltip",t.lcZ(1,1,"lang_homework_homework_score_list_close_menu"))}function oe(n,r){if(1&n&&(t.TgZ(0,"p",88),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"date"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_homework_homework_score_list_dealine"),": ",t.xi3(3,4,e.homeworkObj.deadline,"dd/MM/yyyy HH:mm"),"")}}function ne(n,r){1&n&&(t.TgZ(0,"p",88),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_homework_score_list_dealine_not_time")))}function ie(n,r){if(1&n&&(t.TgZ(0,"a",109),t.ALo(1,"mylocalize"),t.TgZ(2,"mat-icon",110),t._uU(3," edit"),t.qZA(),t.TgZ(4,"span",103),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(4);t.Q6J("routerLink",t.VKq(7,tt,t.lcZ(1,3,"/admin/homework/add-new-homework/"+e.homeworkObj.id+"/"+e.homeworkHashId)))("queryParams",t.VKq(9,ut,e.backLink)),t.xp6(5),t.Oqu(t.lcZ(6,5,"lang_buttom_edit"))}}function se(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",111),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).deleteHomework()}),t.TgZ(1,"mat-icon",112),t._uU(2," delete"),t.qZA(),t.TgZ(3,"span",113),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_buttom_delete")))}function re(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",96)(1,"div",97),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(6).onShowFile(s,-1)}),t.TgZ(2,"mat-icon",98),t._uU(3," text_snippet"),t.qZA(),t.TgZ(4,"span",99),t._uU(5),t.qZA()()()}if(2&n){const e=r.$implicit,o=t.oxw(6);t.xp6(4),t.Q6J("matTooltip",o.getFileName(e)),t.xp6(1),t.Oqu(o.getFileName(e))}}function ae(n,r){if(1&n&&(t.TgZ(0,"div",94),t.YNc(1,re,6,2,"div",95),t.qZA()),2&n){const e=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",e.homeworkObj.fileObjs)}}function le(n,r){if(1&n&&t._UZ(0,"div",116),2&n){const e=t.oxw(5);t.Q6J("innerHTML",e.homeworkObj.content,t.oJD)}}function ce(n,r){if(1&n&&(t.YNc(0,ae,2,1,"div",114),t.YNc(1,le,1,1,"div",115)),2&n){const e=t.oxw(4);t.Q6J("ngIf",e.homeworkObj.files&&e.homeworkObj.files.length>0),t.xp6(1),t.Q6J("ngIf",e.homeworkObj.content&&""!=e.homeworkObj.content)}}function _e(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",105),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleShowActions()}),t.TgZ(1,"mat-icon",102),t._uU(2,"expand_more "),t.qZA()()}}function de(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",105),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleShowActions()}),t.TgZ(1,"mat-icon",102),t._uU(2,"expand_less "),t.qZA()()}}function me(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",117)(1,"div",77)(2,"form",48)(3,"input",49),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw(4).search()}),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",50),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).search()}),t.TgZ(6,"mat-icon",51),t._uU(7," search "),t.qZA()()()(),t.TgZ(8,"div",118)(9,"div",53)(10,"button",119)(11,"span",55),t._uU(12),t.ALo(13,"mytranslate"),t.qZA(),t.TgZ(14,"mat-icon",56),t._uU(15,"filter_alt "),t.qZA()()(),t.TgZ(16,"mat-menu",57,58)(18,"a",59),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(19,"span",60),t._uU(20),t.ALo(21,"mytranslate"),t.qZA(),t.TgZ(22,"mat-slide-toggle",61),t.NdJ("change",function(i){return t.CHM(e),t.oxw(4).toggleFilterSubmitted(i)}),t.qZA()(),t.TgZ(23,"a",59),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(24,"span",60),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t.TgZ(27,"mat-slide-toggle",61),t.NdJ("change",function(i){return t.CHM(e),t.oxw(4).toggleFilterNotSubmit(i)}),t.qZA()(),t.TgZ(28,"a",59),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(29,"span",60),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.TgZ(32,"mat-slide-toggle",61),t.NdJ("change",function(i){return t.CHM(e),t.oxw(4).toggleFilterMarked(i)}),t.qZA()(),t.TgZ(33,"a",59),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(34,"span",60),t._uU(35),t.ALo(36,"mytranslate"),t.qZA(),t.TgZ(37,"mat-slide-toggle",61),t.NdJ("change",function(i){return t.CHM(e),t.oxw(4).toggleFilterReSubmit(i)}),t.qZA()(),t.TgZ(38,"div",62)(39,"a",63),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).confirmFilter()}),t.TgZ(40,"span",120),t._uU(41),t.ALo(42,"mytranslate"),t.qZA()(),t.TgZ(43,"a",63),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).clearFilter()}),t.TgZ(44,"span",55),t._uU(45),t.ALo(46,"mytranslate"),t.qZA()()()()()()}if(2&n){const e=t.MAs(17),o=t.oxw(4);t.xp6(2),t.Q6J("formGroup",o.form),t.xp6(1),t.s9C("placeholder",t.lcZ(4,14,"lang_homework_homework_score_list_search")),t.xp6(7),t.Q6J("matMenuTriggerFor",e),t.xp6(2),t.Oqu(t.lcZ(13,16,"lang_homework_homework_score_list_sort")),t.xp6(8),t.hij(" ",t.lcZ(21,18,"lang_homework_homework_score_list_sort_student_not_marking")," "),t.xp6(2),t.Q6J("checked",o.isSubmitted),t.xp6(3),t.hij(" ",t.lcZ(26,20,"lang_homework_homework_score_list_sort_student_not_yet_paid")," "),t.xp6(2),t.Q6J("checked",o.isNotSubmit),t.xp6(3),t.hij(" ",t.lcZ(31,22,"lang_homework_homework_score_list_sort_mark")," "),t.xp6(2),t.Q6J("checked",o.isMarked),t.xp6(3),t.hij(" ",t.lcZ(36,24,"lang_homework_homework_score_list_sort_student_resubmit")," "),t.xp6(2),t.Q6J("checked",o.mustReSubmit),t.xp6(4),t.hij(" ",t.lcZ(42,26,"lang_buttom_agree")," "),t.xp6(4),t.hij(" ",t.lcZ(46,28,"lang_buttom_delete"),"")}}function pe(n,r){1&n&&(t.TgZ(0,"div",76)(1,"p",121),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_homework_score_list_list_submit")))}function he(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",122)(1,"div",123)(2,"p",121),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"a",42),t.ALo(6,"mylocalize"),t._uU(7),t.ALo(8,"slice"),t.qZA()()(),t.TgZ(9,"div",124)(10,"div",64)(11,"button",65)(12,"mat-icon",66),t._uU(13,"menu"),t.qZA()()(),t.TgZ(14,"mat-menu",57,67)(16,"a",68),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).exportToExcel("homework")}),t.TgZ(17,"mat-icon",69),t._uU(18,"file_download"),t.qZA(),t.TgZ(19,"span",70),t.ALo(20,"mytranslate"),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()(),t.TgZ(23,"a",68),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).exportToPDF()}),t.TgZ(24,"mat-icon",69),t._uU(25,"picture_as_pdf"),t.qZA(),t.TgZ(26,"span",70),t.ALo(27,"mytranslate"),t._uU(28),t.ALo(29,"mytranslate"),t.qZA()(),t.TgZ(30,"a",63),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(31,"mat-icon",69),t._uU(32,"sort"),t.qZA(),t.TgZ(33,"span",70),t.ALo(34,"mytranslate"),t._uU(35),t.ALo(36,"mytranslate"),t.qZA(),t.TgZ(37,"mat-slide-toggle",71),t.NdJ("change",function(i){return t.CHM(e),t.oxw(4).sortByTimeDESC(i)}),t.qZA()()()()()}if(2&n){const e=t.MAs(15),o=t.oxw(4);t.xp6(3),t.hij("",t.lcZ(4,12,"lang_homework_homework_score_list_list_submit_class")," : "),t.xp6(2),t.s9C("matTooltip",o.classObj.name),t.Q6J("routerLink",t.VKq(32,tt,t.lcZ(6,14,"/admin/student/class-details/"+o.classId))),t.xp6(2),t.hij("",o.classObj.name&&o.classObj.name.length>20?t.Dn7(8,16,o.classObj.name,0,20)+"..":o.classObj.name," "),t.xp6(4),t.Q6J("matMenuTriggerFor",e),t.xp6(8),t.s9C("matTooltip",t.lcZ(20,20,"lang_homework_homework_score_list_export_excel")),t.xp6(2),t.hij(" ",t.lcZ(22,22,"lang_homework_homework_score_list_export_excel"),""),t.xp6(5),t.s9C("matTooltip",t.lcZ(27,24,"lang_homework_homework_score_list_export_pdf")),t.xp6(2),t.hij(" ",t.lcZ(29,26,"lang_homework_homework_score_list_export_pdf"),""),t.xp6(5),t.s9C("matTooltip",t.lcZ(34,28,"lang_homework_homework_score_list_sort_time_submit")),t.xp6(2),t.hij(" ",t.lcZ(36,30,"lang_homework_homework_score_list_sort_time_submit")," "),t.xp6(2),t.Q6J("checked",o.isSortByTimeDESC)}}function ue(n,r){1&n&&(t.TgZ(0,"div",34)(1,"div",125)(2,"p",126),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()()),2&n&&(t.xp6(3),t.hij("",t.lcZ(4,1,"lang_not_found_search"),"!"))}function ge(n,r){1&n&&t._UZ(0,"azt-loading-effect")}function fe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"app-student-homework-result",127),t.NdJ("goToResult",function(i){return t.CHM(e),t.oxw(4).goToTestReview(i)}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("isSortByTime",e.isSortByTimeDESC)("backToLink",e.backToLink)("searchKey",e.form.controls.searchContent.value)("studentLists",e.dataListStudents)("isNotTestedYet",e.isNotTestedYet)("isOpenSideNav",e.isOpenSideNav)("obj",e.homeworkObj)}}const xe=function(n,r){return{"w-60":n,"w-30":r}},we=function(n){return{"px-0":n}},ke=function(n){return{"justify-content-center":n}};function ve(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"mat-drawer-container",12)(1,"mat-drawer",13,14)(3,"div",15)(4,"div",16)(5,"div",17)(6,"div",18)(7,"p",19),t._uU(8),t.qZA()()(),t.TgZ(9,"div",20)(10,"div",21)(11,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).showCopySuccess()}),t.TgZ(12,"mat-icon",23),t._uU(13,"file_copy"),t.qZA(),t._uU(14," Copy link "),t.qZA()()(),t.TgZ(15,"div",24),t._UZ(16,"azt-download-qr-code",25),t.qZA()(),t.TgZ(17,"div",18)(18,"p",26),t._uU(19),t.ALo(20,"mytranslate"),t.ALo(21,"date"),t.qZA()(),t.TgZ(22,"div",18),t.YNc(23,zt,4,7,"p",27),t.YNc(24,Yt,3,3,"p",27),t.qZA(),t.TgZ(25,"div"),t._UZ(26,"azt-share",28),t.qZA(),t.YNc(27,Vt,7,10,"ng-template",29),t.TgZ(28,"div",30),t.YNc(29,Kt,3,0,"a",31),t.YNc(30,Xt,3,0,"a",31),t.qZA()()(),t.TgZ(31,"mat-drawer-content",32)(32,"div",33)(33,"div",34,35)(35,"div",36)(36,"div",37)(37,"div",38)(38,"div",39),t.YNc(39,te,4,3,"a",40),t.YNc(40,ee,4,3,"a",40),t.TgZ(41,"p",41)(42,"a",42),t.ALo(43,"mylocalize"),t._uU(44),t.ALo(45,"slice"),t.qZA(),t.TgZ(46,"mat-icon",43),t._uU(47," chevron_right"),t.qZA(),t.TgZ(48,"span",44),t._uU(49),t.ALo(50,"slice"),t.qZA()()(),t.TgZ(51,"div",45)(52,"div",46)(53,"div",47)(54,"form",48)(55,"input",49),t.NdJ("keyup.enter",function(){return t.CHM(e),t.oxw(3).search()}),t.ALo(56,"mytranslate"),t.qZA(),t.TgZ(57,"div",50),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).search()}),t.TgZ(58,"mat-icon",51),t._uU(59," search "),t.qZA()()()(),t.TgZ(60,"div",52)(61,"div",53)(62,"button",54)(63,"span",55),t._uU(64),t.ALo(65,"mytranslate"),t.qZA(),t.TgZ(66,"mat-icon",56),t._uU(67,"filter_alt "),t.qZA()()(),t.TgZ(68,"mat-menu",57,58)(70,"a",59),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(71,"span",60),t._uU(72),t.ALo(73,"mytranslate"),t.qZA(),t.TgZ(74,"mat-slide-toggle",61),t.NdJ("change",function(i){return t.CHM(e),t.oxw(3).toggleFilterSubmitted(i)}),t.qZA()(),t.TgZ(75,"a",59),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(76,"span",60),t._uU(77),t.ALo(78,"mytranslate"),t.qZA(),t.TgZ(79,"mat-slide-toggle",61),t.NdJ("change",function(i){return t.CHM(e),t.oxw(3).toggleFilterNotSubmit(i)}),t.qZA()(),t.TgZ(80,"a",59),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(81,"span",60),t._uU(82),t.ALo(83,"mytranslate"),t.qZA(),t.TgZ(84,"mat-slide-toggle",61),t.NdJ("change",function(i){return t.CHM(e),t.oxw(3).toggleFilterMarked(i)}),t.qZA()(),t.TgZ(85,"a",59),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(86,"span",60),t._uU(87),t.ALo(88,"mytranslate"),t.qZA(),t.TgZ(89,"mat-slide-toggle",61),t.NdJ("change",function(i){return t.CHM(e),t.oxw(3).toggleFilterReSubmit(i)}),t.qZA()(),t.TgZ(90,"div",62)(91,"a",63),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).clearFilter()}),t.TgZ(92,"span",55),t._uU(93),t.ALo(94,"mytranslate"),t.qZA()()()()(),t.TgZ(95,"div")(96,"div",64)(97,"button",65)(98,"mat-icon",66),t._uU(99,"menu"),t.qZA()()(),t.TgZ(100,"mat-menu",57,67)(102,"a",68),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).exportToExcel("homework")}),t.TgZ(103,"mat-icon",69),t._uU(104,"file_download"),t.qZA(),t.TgZ(105,"span",70),t.ALo(106,"mytranslate"),t._uU(107),t.ALo(108,"mytranslate"),t.qZA()(),t.TgZ(109,"a",68),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).exportToPDF()}),t.TgZ(110,"mat-icon",69),t._uU(111,"picture_as_pdf"),t.qZA(),t.TgZ(112,"span",70),t.ALo(113,"mytranslate"),t._uU(114),t.ALo(115,"mytranslate"),t.qZA()(),t.TgZ(116,"a",63),t.NdJ("click",function(i){return i.stopPropagation()}),t.TgZ(117,"mat-icon",69),t._uU(118,"sort"),t.qZA(),t.TgZ(119,"span",70),t.ALo(120,"mytranslate"),t._uU(121),t.ALo(122,"mytranslate"),t.qZA(),t.TgZ(123,"mat-slide-toggle",71),t.NdJ("change",function(i){return t.CHM(e),t.oxw(3).sortByTimeDESC(i)}),t.qZA()()()()()()()(),t.TgZ(124,"div",72)(125,"div",16)(126,"div",73)(127,"div",18)(128,"p",19),t._uU(129),t.qZA()()(),t.TgZ(130,"div",74)(131,"div",21)(132,"button",22),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).showCopySuccess()}),t.TgZ(133,"mat-icon",23),t._uU(134,"file_copy "),t.qZA(),t._uU(135," Copy link "),t.qZA()()(),t.TgZ(136,"div",75),t._UZ(137,"azt-download-qr-code",25),t.qZA()(),t.TgZ(138,"div",16)(139,"div",76)(140,"div",18)(141,"p",26),t._uU(142),t.ALo(143,"mytranslate"),t.ALo(144,"date"),t.qZA()()()(),t.TgZ(145,"div",16)(146,"div",77)(147,"div",18),t.YNc(148,oe,4,7,"p",27),t.YNc(149,ne,3,3,"p",27),t.qZA()(),t.TgZ(150,"div",78)(151,"div",79),t.YNc(152,ie,7,11,"a",80),t.ALo(153,"editPermission"),t.YNc(154,se,6,3,"a",81),t.ALo(155,"deletePermission"),t.qZA()(),t.TgZ(156,"div",76),t._UZ(157,"azt-share",28),t.qZA()(),t.YNc(158,ce,2,2,"ng-template",29),t.TgZ(159,"div",16)(160,"div",76)(161,"div",30),t.YNc(162,_e,3,0,"a",31),t.YNc(163,de,3,0,"a",31),t.qZA()()()()()(),t.YNc(164,me,47,30,"div",82),t.TgZ(165,"div",83),t.YNc(166,pe,4,3,"div",84),t.YNc(167,he,38,34,"ng-template",null,85,t.W1O),t.qZA(),t.YNc(169,ue,5,3,"div",86),t.YNc(170,ge,1,0,"azt-loading-effect",3),t.YNc(171,fe,1,7,"ng-template",29),t.qZA(),t._UZ(172,"app-excel-export",87),t.qZA()()}if(2&n){const e=t.MAs(69),o=t.MAs(101),i=t.MAs(168),s=t.oxw(3);t.Q6J("hasBackdrop",s.hasBackdrop),t.xp6(1),t.s9C("opened",s.isOpenSideNav?"true":"false"),t.Q6J("mode",s.mode)("ngClass",t.WLB(130,xe,s.isMobile,!s.isMobile)),t.xp6(7),t.Oqu(s.homeworkObj.name),t.xp6(3),t.Q6J("cdkCopyToClipboard",s.copylinkToClipboard(s.homeworkObj.hashId?s.homeworkObj.hashId:"")),t.xp6(5),t.Q6J("fileName","azota_score_list_qrcode_"+s.homeworkObj.hashId)("linkUrl",s.copylinkToClipboard(s.homeworkObj.hashId?s.homeworkObj.hashId:"")),t.xp6(3),t.AsE("",t.lcZ(20,78,"lang_homework_homework_score_list_create_date"),": ",t.xi3(21,80,s.homeworkObj.createdAt,"dd/MM/yyyy HH:mm"),""),t.xp6(4),t.Q6J("ngIf",s.hasDeadline),t.xp6(1),t.Q6J("ngIf",!s.hasDeadline),t.xp6(2),t.Q6J("type",2)("typeObj","HOMEWORK")("id",s.homeworkObj.id)("permissionObj",s.homeworkObj.permissionObj),t.xp6(1),t.Q6J("ngIf",s.isShowActions),t.xp6(2),t.Q6J("ngIf",!s.isShowActions),t.xp6(1),t.Q6J("ngIf",s.isShowActions),t.xp6(2),t.Q6J("ngClass",t.VKq(133,we,s.isMobile)),t.xp6(3),t.Q6J("ngClass",t.VKq(135,ke,s.isMobile)),t.xp6(2),t.Q6J("hidden",1==s.isMobile),t.xp6(2),t.Q6J("ngIf",!s.isOpenSideNav||s.isMobile),t.xp6(1),t.Q6J("ngIf",s.isOpenSideNav&&!s.isMobile),t.xp6(2),t.s9C("matTooltip",s.classObj.name),t.Q6J("routerLink",t.VKq(137,tt,t.lcZ(43,83,"/admin/student/class-details/"+s.classId))),t.xp6(2),t.hij("",s.classObj.name&&s.classObj.name.length>20?t.Dn7(45,85,s.classObj.name,0,20)+"..":s.classObj.name," "),t.xp6(4),t.s9C("matTooltip",s.homeworkObj.name),t.xp6(1),t.hij(" ",s.homeworkObj.name&&s.homeworkObj.name.length>40?t.Dn7(50,89,s.homeworkObj.name,0,40)+"..":s.homeworkObj.name," "),t.xp6(5),t.Q6J("formGroup",s.form),t.xp6(1),t.s9C("placeholder",t.lcZ(56,93,"lang_homework_homework_score_list_search")),t.xp6(7),t.Q6J("matMenuTriggerFor",e),t.xp6(2),t.Oqu(t.lcZ(65,95,"lang_homework_homework_score_list_sort")),t.xp6(8),t.hij(" ",t.lcZ(73,97,"lang_homework_homework_score_list_sort_student_not_marking")," "),t.xp6(2),t.Q6J("checked",s.isSubmitted),t.xp6(3),t.hij(" ",t.lcZ(78,99,"lang_homework_homework_score_list_sort_student_not_yet_paid")," "),t.xp6(2),t.Q6J("checked",s.isNotSubmit),t.xp6(3),t.hij(" ",t.lcZ(83,101,"lang_homework_homework_score_list_sort_mark")," "),t.xp6(2),t.Q6J("checked",s.isMarked),t.xp6(3),t.hij(" ",t.lcZ(88,103,"lang_homework_homework_score_list_sort_student_resubmit")," "),t.xp6(2),t.Q6J("checked",s.mustReSubmit),t.xp6(4),t.hij(" ",t.lcZ(94,105,"lang_buttom_delete"),""),t.xp6(4),t.Q6J("matMenuTriggerFor",o),t.xp6(8),t.s9C("matTooltip",t.lcZ(106,107,"lang_homework_homework_score_list_export_excel")),t.xp6(2),t.hij(" ",t.lcZ(108,109,"lang_homework_homework_score_list_export_excel"),""),t.xp6(5),t.s9C("matTooltip",t.lcZ(113,111,"lang_homework_homework_score_list_export_pdf")),t.xp6(2),t.hij(" ",t.lcZ(115,113,"lang_homework_homework_score_list_export_pdf"),""),t.xp6(5),t.s9C("matTooltip",t.lcZ(120,115,"lang_homework_homework_score_list_sort_time_submit")),t.xp6(2),t.hij(" ",t.lcZ(122,117,"lang_homework_homework_score_list_sort_time_submit")," "),t.xp6(2),t.Q6J("checked",s.isSortByTimeDESC),t.xp6(1),t.Q6J("hidden",0==s.isMobile),t.xp6(5),t.Oqu(s.homeworkObj.name),t.xp6(3),t.Q6J("cdkCopyToClipboard",s.copylinkToClipboard(s.homeworkObj.hashId?s.homeworkObj.hashId:"")),t.xp6(5),t.Q6J("fileName","azota_score_list_qrcode_"+s.homeworkObj.hashId)("linkUrl",s.copylinkToClipboard(s.homeworkObj.hashId?s.homeworkObj.hashId:"")),t.xp6(5),t.AsE("",t.lcZ(143,119,"lang_homework_homework_score_list_create_date"),": ",t.xi3(144,121,s.homeworkObj.createdAt,"dd/MM/yyyy HH:mm"),""),t.xp6(6),t.Q6J("ngIf",s.hasDeadline),t.xp6(1),t.Q6J("ngIf",!s.hasDeadline),t.xp6(3),t.Q6J("ngIf",t.xi3(153,124,s.homeworkObj.permissionObj,"homework")),t.xp6(2),t.Q6J("ngIf",t.xi3(155,127,s.homeworkObj.permissionObj,"homework")),t.xp6(3),t.Q6J("type",2)("typeObj","HOMEWORK")("id",s.homeworkObj.id)("permissionObj",s.homeworkObj.permissionObj),t.xp6(1),t.Q6J("ngIf",s.isShowActions),t.xp6(4),t.Q6J("ngIf",!s.isShowActions),t.xp6(1),t.Q6J("ngIf",s.isShowActions),t.xp6(1),t.Q6J("ngIf",s.isMobile),t.xp6(2),t.Q6J("ngIf",0==s.isMobile)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",s.isNullSearchData),t.xp6(1),t.Q6J("ngIf",1==s.isLoadingSearch),t.xp6(1),t.Q6J("ngIf",!s.isNullSearchData&&0==s.isLoadingSearch),t.xp6(1),t.Q6J("studentList",s.dataListStudents)("homeworkObj",s.homeworkObj)("currentDate",s.currentDate)("typeTable","homework")}}function be(n,r){1&n&&t._UZ(0,"div",128)}function Ce(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,Dt,1,1,"app-delete-homework",4),t.YNc(2,Ft,2,1,"div",3),t.TgZ(3,"div",5),t.NdJ("resize",function(i){return t.CHM(e),t.oxw(2).onResize(i)},!1,t.Jf7),t.YNc(4,Qt,5,6,"div",6),t.YNc(5,ve,173,139,"mat-drawer-container",7),t.qZA(),t.YNc(6,be,1,0,"div",8),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.deleteHomeworkData.isShow),t.xp6(1),t.Q6J("ngIf",e.isShowPreviewFile),t.xp6(2),t.Q6J("ngIf",""!=e.errorMessage),t.xp6(1),t.Q6J("ngIf",""==e.errorMessage),t.xp6(1),t.Q6J("ngIf",1==e.isMobile)}}function Te(n,r){if(1&n&&t.YNc(0,Ce,7,5,"div",3),2&n){const e=t.oxw();t.Q6J("ngIf",e.homeworkObj)}}let gt=(()=>{class n extends Z.Q{constructor(e,o,i,s,a,l,c,d,p,h){super(o),this.dialog=e,this.commonService=o,this.localize=i,this.activeRoute=s,this.fb=a,this.answerService=l,this.zipdataService=c,this.sortService=d,this.browserStorageService=p,this.examFilterService=h,this.currentDate=new Date,this.homeworkId="",this.backLink="",this.classId=0,this.subscriptions=new D.w,this.form=new _.cw({}),this.contentHeight=0,this.backUpHeight=0,this.backToLink="",this.hasBackdrop=!1,this.mode="side",this.isMobile=!1,this.isShowActions=!0,this.isOpenSideNav=!0,this.isHomeworkFlow=!0,this.isSortByTimeDESC=!1,this.isSubmitted=!1,this.isNotSubmit=!1,this.isMarked=!1,this.mustReSubmit=!1,this.isLoadingSearch=!1,this.deleteHomeworkData={homeworkObj:{},isShow:!1},this.homeworkUserList=[],this.studentObjs=[],this.homeworkObj={},this.classObj={},this.isNotTestedYet=!1,this.isNullSearchData=!1,this.hasDeadline=!1,this.isShowPreviewFile=!1,this.previewFile={},this.errorMessage="",this.keyFilter="",this.dataListStudents=[],this.homeworkHashId=""}getData(){this.initStatusObj(),this.subscriptions.add(this.answerService.apiAnswerGetStudentsHomeworkGet(Number(this.homeworkId),this.homeworkHashId,this.classId).subscribe(e=>{var o,i,s,a,l,c,d,p,h,u,f;if(1==e.success){if(this.errorMessage="",this.zipdataService.convertStudentsHomeworkObj(null===(o=e.data)||void 0===o?void 0:o.studentObjs),this.homeworkUserList=this.checkStatusStudent(null!==(s=null===(i=e.data)||void 0===i?void 0:i.studentObjs)&&void 0!==s?s:new Array),this.homeworkObj=this.parseHomeworkData(null!==(l=null===(a=e.data)||void 0===a?void 0:a.homeworkObj)&&void 0!==l?l:{}),this.classObj=null!==(d=null===(c=e.data)||void 0===c?void 0:c.classroomObj)&&void 0!==d?d:{},(null===(p=this.homeworkObj)||void 0===p?void 0:p.deadline)&&null!=this.homeworkObj.deadline&&""!=this.homeworkObj.deadline.toString()&&(this.hasDeadline=!0),0==this.homeworkUserList.length)return this.isNotTestedYet=!0,void this.errorStatusObj("NO_TESTED_YET");this.studentObjs=this.commonService.parseJson(JSON.stringify(this.homeworkUserList)),this.isNullSearchData=!1,setTimeout(()=>{this.checkFilterValue()},0),this.getStatusSideNav();var x=this.browserStorageService.getSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time");x&&"true"==x?(this.isSortByTimeDESC=!0,this.dataListStudents=this.checkSortListStudent(99,this.studentObjs)):(this.isSortByTimeDESC=!1,this.dataListStudents=this.checkSortListStudent(null!==(h=this.classObj.sortType)&&void 0!==h?h:0,this.studentObjs)),this.successStatusObj()}else this.errorMessage=null!==(u=e.message)&&void 0!==u?u:"",this.errorStatusObj(null!==(f=e.message)&&void 0!==f?f:"",!0)}))}checkStatusStudent(e){for(var o,i,s=[],a=0;a<e.length;a++)s.push(Object.assign(Object.assign({},null==e?void 0:e[a]),{index:a})),e[a].confirmedAt&&e[a].confirmedAt&&s[a].index==a?s[a].isMarked=!0:null==e[a].answer||e[a].confirmedAt||s[a].index!=a?null==e[a].answer&&null!=e[a].answerHistory&&s[a].index==a?s[a].mustReSubmit=!0:s[a].isNotSubmit=!0:s[a].isSubmitted=!0,s[a].answerFileObjs=this.castJsonToObj(null!==(i=null===(o=e[a].answer)||void 0===o?void 0:o.files)&&void 0!==i?i:"");return s}parseHomeworkData(e){var o=this.castObj(e);return(null==o?void 0:o.files)&&(o.fileObjs=this.commonService.parseJson(o.files)),this.zipdataService.convertHomeworkObj(null!=o?o:{}),o}fillerArr(e,o){var i;o=this.commonService.convertVietnameseToEnglish(o);var s=[];for(let c=0;c<e.length;c++)-1!=this.commonService.convertVietnameseToEnglish(null!==(i=e[c].fullName)&&void 0!==i?i:"").toLowerCase().indexOf(o.toLowerCase())&&s.push(e[c]);return s}search(){var e,o;this.isLoadingSearch=!0;var i=this.commonService.getFormObj(this.form);if(""!=i.searchContent){var s=this.commonService.parseJson(JSON.stringify(this.checkSortListStudent(null!==(e=this.classObj.sortType)&&void 0!==e?e:0,this.studentObjs))),a=this.fillerArr(s,i.searchContent);this.dataListStudents=a,this.isLoadingSearch=!1}else this.isLoadingSearch=!1,this.homeworkUserList=this.studentObjs,this.dataListStudents=this.checkSortListStudent(null!==(o=this.classObj.sortType)&&void 0!==o?o:0,this.studentObjs),this.isNullSearchData=!1,this.errorStatusObj("NO_TESTED_YET")}toggleFilterSubmitted(e){this.isSubmitted=!!e.checked,this.confirmFilter()}toggleFilterNotSubmit(e){this.isNotSubmit=!!e.checked,this.confirmFilter()}toggleFilterMarked(e){this.isMarked=!!e.checked,this.confirmFilter()}toggleFilterReSubmit(e){this.mustReSubmit=!!e.checked,this.confirmFilter()}confirmFilter(){var e,o=[],i=[],s=[],a=[];this.saveFilterValue(),this.isSubmitted&&(o=this.studentObjs.filter(d=>1==d.isSubmitted)),this.isNotSubmit&&(i=this.studentObjs.filter(d=>1==d.isNotSubmit)),this.isMarked&&(s=this.studentObjs.filter(d=>1==d.isMarked)),this.mustReSubmit&&(a=this.studentObjs.filter(d=>1==d.mustReSubmit)),this.isSubmitted||this.isNotSubmit||this.isMarked||this.mustReSubmit?this.homeworkUserList=this.sortIndex([...o,...i,...s,...a]):this.clearFilter();let l=this.homeworkUserList;var c=this.browserStorageService.getSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time");this.dataListStudents=this.checkSortListStudent(c&&"true"==c?99:null!==(e=this.classObj.sortType)&&void 0!==e?e:0,l)}clearFilter(){var e;this.isSubmitted=!1,this.isNotSubmit=!1,this.isMarked=!1,this.mustReSubmit=!1,this.homeworkUserList=this.studentObjs;var o=this.browserStorageService.getSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time");this.dataListStudents=this.checkSortListStudent(o&&"true"==o?99:null!==(e=this.classObj.sortType)&&void 0!==e?e:0,this.studentObjs),this.removeFilterStore()}removeFilterStore(){this.examFilterService.removeCustomFilter("homework",this.homeworkId)}exportToExcel(e){setTimeout(()=>{var o;null===(o=document.getElementById("table_"+e))||void 0===o||o.click()},1e3)}exportToPDF(){this.commonService.gaEvent("go_to_exp_pdf_homework");const e=this.localize.translateRoute("/admin/homework/export-homework")+"/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkHashId;window.open(e,"_blank")}resizeImg(e,o,i){var s,a=document.getElementById("media_content_"+e),l=null!==(s=null==a?void 0:a.offsetWidth)&&void 0!==s?s:0;return a?l/o<=1?Math.round(i*(l/o)):Math.round(i):0}sortIndex(e){return e.sort((o,i)=>Number(o)-Number(i))}sortByName(){this.homeworkUserList=this.sortService.sortFirstNameStudents(this.studentObjs)}onResize(e){var o;e.target.innerWidth<768?(this.contentHeight=(null===(o=this.boxContent)||void 0===o?void 0:o.nativeElement.offsetHeight)+45,this.isMobile=!0,this.mode="over",this.hasBackdrop=!0,this.isOpenSideNav=!1):(this.contentHeight=166,this.isMobile=!1,this.mode="side",this.hasBackdrop=!1,this.isOpenSideNav=!0)}checkWidth(){window.innerWidth<768?(this.isMobile=!0,this.mode="over",this.hasBackdrop=!0):(this.isMobile=!1,this.mode="side",this.hasBackdrop=!1)}getFileName(e){var o;return"object"==typeof e&&e.hasOwnProperty("name")&&null!==(o=e.name)&&void 0!==o?o:""}sortByTimeDESC(e){var o;e.checked?(this.isSortByTimeDESC=e.checked,this.dataListStudents=this.checkSortListStudent(99,this.commonService.myClone(this.studentObjs)),this.browserStorageService.saveSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time",e.checked.toString())):(this.isSortByTimeDESC=e.checked,this.dataListStudents=this.checkSortListStudent(null!==(o=this.classObj.sortType)&&void 0!==o?o:0,this.studentObjs),this.browserStorageService.saveSimpleStorage(this.homeworkId+"_azt_setting_sort_desc_submit_by_time",e.checked.toString()))}goToTestReview(e){var o;this.backToLink="/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkHashId,this.commonService.myNavigationWithQueryString("/admin/homework/mark-exercise/"+(null===(o=e.answer)||void 0===o?void 0:o.id)+"/"+this.homeworkHashId,"?backto="+encodeURIComponent(this.backToLink))}goToEditHomework(){var e;this.commonService.myNavigation("/admin/homework/add-new-homework/"+(null===(e=this.homeworkObj)||void 0===e?void 0:e.id)+"/"+this.homeworkHashId)}disableScroll(){let e=window.pageYOffset||document.documentElement.scrollLeft,o=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=()=>{window.scrollTo(e,o)}}enableScroll(){window.onscroll=()=>{}}deleteHomework(){this.deleteHomeworkData={homeworkObj:this.homeworkObj,isShow:!0}}closeDeleteHomework(e){e?(this.deleteHomeworkData={homeworkObj:{},isShow:!1},this.commonService.myNavigation("/admin/homework/homework-list/"+this.classObj.id)):this.deleteHomeworkData={homeworkObj:{},isShow:!1}}onFileClose(){this.enableScroll(),this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e,o){this.isShowPreviewFile=!0,this.disableScroll(),this.previewFile=Object.assign(Object.assign({},e),{index:o})}toggleDrawer(){var e;null===(e=this.drawer)||void 0===e||e.toggle(),this.isOpenSideNav=!this.isOpenSideNav}openDrawer(){var e;null===(e=this.drawer)||void 0===e||e.open(),this.isOpenSideNav=!0,this.saveStatusSideNav()}closeDrawer(){var e;null===(e=this.drawer)||void 0===e||e.close(),this.isOpenSideNav=!1,this.saveStatusSideNav()}saveStatusSideNav(){this.examFilterService.saveStatusSideNav("homework",this.isOpenSideNav)}removeStatusSideNav(){this.examFilterService.removeStatusSideNav("homework")}getStatusSideNav(){if(window.innerWidth>768){let e=this.examFilterService.getStatusSideNav("homework");this.isOpenSideNav=!e||"close"!=e}else this.isOpenSideNav=!1}toggleShowActions(){this.isShowActions=!this.isShowActions,this.isMobile&&(this.contentHeight=0==this.isShowActions?200:this.backUpHeight)}showCopySuccess(){this.showSuccessSnack("Sao ch\xe9p th\xe0nh c\xf4ng \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i")}copylinkToClipboard(e){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${e}`}goToStudentList(){this.commonService.myNavigation("/admin/student/manage-class/0")}checkSortListStudent(e,o){return 0==e?this.sortService.sortFirstNameStudents(this.commonService.myClone(o)):99==e?this.sortService.sortTimeDESC(this.commonService.myClone(o)):this.sortService.sortArrayByMultipleObjectKeyAsc(this.commonService.myClone(o),"pos","id")}saveFilterValue(){let e={};this.isMarked&&(e.isMarked=!0),this.isSubmitted&&(e.isSubmitted=!0),this.isNotSubmit&&(e.isNotSubmit=!0),this.mustReSubmit&&(e.mustReSubmit=!0),this.examFilterService.setCustomFilter(e,"homework",this.homeworkId)}checkFilterValue(){let e=this.examFilterService.getCustomFilter("homework",this.homeworkId);null!=e&&""!=e&&(e.includes("isMarked")&&(this.isMarked=!0),e.includes("isSubmitted")&&(this.isSubmitted=!0),e.includes("isNotSubmit")&&(this.isNotSubmit=!0),e.includes("mustReSubmit")&&(this.mustReSubmit=!0),this.confirmFilter())}ngOnInit(){(0,F.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,o,i,s;this.homeworkId=null!==(e=this.activeRoute.snapshot.paramMap.get("id"))&&void 0!==e?e:"",this.homeworkHashId=null!==(o=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==o?o:"",this.classId=null!==(i=Number(this.activeRoute.snapshot.paramMap.get("class_id")))&&void 0!==i?i:0,this.backLink=this.commonService.getMyQueryParam("backTo")?null!==(s=this.commonService.getMyQueryParam("backTo"))&&void 0!==s?s:"":"/admin/homework/classes/1",this.backToLink="/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkHashId,this.form=this.fb.group({searchContent:new _.NI("",_.kI.required)}),this.initStatusObj(),this.getData(),this.checkWidth()}),this.commonService.translateMetaData({title:"lang_cms_homework_submit_list_title",description:"lang_cms_homework_submit_list_description",image:"lang_cms_homework_image"}),this.commonService.gaEvent("teacher_homework_score"),super.ngOnInit()}ngAfterViewInit(){setTimeout(()=>{var e,o;this.isMobile?(this.contentHeight=(null===(e=this.boxContent)||void 0===e?void 0:e.nativeElement.offsetHeight)+45,this.backUpHeight=(null===(o=this.boxContent)||void 0===o?void 0:o.nativeElement.offsetHeight)+45):this.contentHeight=166},1e3)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.uw),t.Y36(C.v),t.Y36(K.An),t.Y36(N.gz),t.Y36(_.qu),t.Y36(X.P),t.Y36(W.n),t.Y36(pt.K),t.Y36(ht.z),t.Y36(qt.Y))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-homework-submit-list"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Jt,5),t.Gf(Ut,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.drawer=i.first),t.iGM(i=t.CRH())&&(o.boxContent=i.first)}},features:[t.qOj],decls:4,vars:4,consts:[[3,"headerTitle","back_link","removeFilter"],[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"container-fluid","py-3",3,"resize"],["class","alert alert-danger",4,"ngIf"],["class","tested_list_container","style","border-radius: 5px;",3,"hasBackdrop",4,"ngIf"],["class","py-4",4,"ngIf"],[3,"data","closeDialog"],[3,"fileOption","closePreview"],[1,"alert","alert-danger"],[1,"tested_list_container",2,"border-radius","5px",3,"hasBackdrop"],[1,"test",2,"background-color","#ecf0f5","border","none",3,"mode","opened","ngClass"],["drawer",""],[1,"container-fluid","box-content","pt-2","pb-2"],[1,"row"],[1,"col-md-7"],[1,"text-left"],[1,"homework_title","mt-2","mb-2"],[1,"col-md-4","block-btn"],[1,"d-flex","justify-content-end","align-self-end"],["tabindex","-1","mat-button","",1,"btn",2,"font-size","10px","padding-top","0","color","#0eafc0",3,"cdkCopyToClipboard","click"],[2,"font-size","12px","padding-top","5px"],[1,"col-md-1","p-0","d-flex"],[1,"m-auto",3,"fileName","linkUrl"],[1,"mb-1",2,"font-size","14px","color","#8E8E8E"],["class","mb-1","style","font-size: 14px; color: #0EAFC0;",4,"ngIf"],[3,"type","typeObj","id","permissionObj"],[3,"ngIf"],[1,"text-center"],["class","clickable","style","user-select: none;",3,"click",4,"ngIf"],[2,"background-color","#ecf0f5","overflow","hidden"],[1,"container-fluid","content-zone",2,"background-color","#ecf0f5",3,"ngClass"],[1,"box-content","py-2"],["boxContent",""],[1,"row","pl-0","pr-0","ml-0","mr-0",3,"ngClass"],[1,"col-md-12","pl-0","pr-0"],[1,"row","pl-0","pr-0","ml-0","mr-0","justify-content-between",3,"hidden"],[1,"col-sm-6","d-flex"],["class","clickable",3,"matTooltip","click",4,"ngIf"],[1,"mb-0","ml-3","align-self-center"],[1,"clickable","link-stu",2,"vertical-align","middle",3,"routerLink","matTooltip"],[2,"vertical-align","middle","color","#646464a1","height","20px","font-size","20px","width","20px"],[1,"truncate_custom",2,"vertical-align","middle",3,"matTooltip"],[1,"col-sm-6","align-self-center"],[1,"d-flex","justify-content-end"],[1,"col-6","pl-0","pr-0","text-right"],[2,"position","relative",3,"formGroup"],["type","text","formControlName","searchContent",1,"input-search",3,"placeholder","keyup.enter"],[1,"search-icon","clickable",3,"click"],[1,"search-ver",2,"vertical-align","middle","font-size","18px","height","16px","width","18px"],[1,"ml-2","mr-2","text-center"],[1,"filter_btn"],["mat-button","",1,"menu-button",3,"matMenuTriggerFor"],[2,"vertical-align","middle","color","#828282"],[2,"font-size","16px","height","16px"],["xPosition","before"],["beforeMenu","matMenu"],["mat-menu-item","",1,"cursorDefault","mb-2",2,"height","30px","line-height","30px",3,"click"],[2,"vertical-align","middle"],["color","primary",2,"vertical-align","middle","margin-left","5px",3,"checked","change"],[1,"d-flex","justify-content-end","px-2"],["mat-menu-item","",1,"clickable",2,"height","30px","line-height","30px",3,"click"],[1,"filter_btn","bg-light"],["mat-button","",1,"menu-button","pl-0","pr-0","pb-0",2,"min-width","auto",3,"matMenuTriggerFor"],[2,"vertical-align","middle","color","#333333"],["menu","matMenu"],["mat-menu-item","",1,"clickable","mb-2",2,"height","30px","line-height","30px",3,"click"],[1,"menu-icon"],[2,"vertical-align","middle","color","#828282",3,"matTooltip"],["color","primary",2,"vertical-align","middle","margin-left","10px",3,"checked","change"],[1,"col-12",3,"hidden"],[1,"col-6"],[1,"col-5","block-btn"],[1,"col-1","p-0","d-flex"],[1,"col-12"],[1,"col-8"],[1,"col-4"],[1,"d-flex","justify-content-end","align-self-center"],["class","clickable d-flex align-items-center","style","user-select: none; font-size: 16px;",3,"routerLink","queryParams",4,"ngIf"],["class","clickable ml-3 d-flex align-items-center","style","user-select: none; font-size: 16px;",3,"click",4,"ngIf"],["class","row mt-3",4,"ngIf"],[1,"row","mt-3","ml-0","mr-0",2,"width","100%"],["class","col-12",4,"ngIf","ngIfElse"],["dd",""],["class","box-content py-2",4,"ngIf"],[3,"studentList","homeworkObj","currentDate","typeTable"],[1,"mb-1",2,"font-size","14px","color","#0EAFC0"],["class","row ml-0 mr-0 files_zone mt-3",4,"ngIf"],["id","description_content","class","description text-left align-self-center py-2 px-3",3,"innerHTML",4,"ngIf"],[1,"d-flex","justify-content-end","align-self-center","mt-2"],["class","clickable","style","user-select: none; font-size: 16px;",3,"routerLink","queryParams",4,"ngIf"],["class","clickable ml-3","style","user-select: none; font-size: 16px;",3,"click",4,"ngIf"],[1,"row","ml-0","mr-0","files_zone","mt-3"],["class","col-12 col-sm-12 col-md-12 align-self-center",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-12","align-self-center"],[1,"file_obj","d-flex","text-left","py-2","clickable",3,"click"],[2,"font-size","18px","vertical-align","middle","color","#3C8DBC","margin-right","3px","height","20px","width","20px"],[1,"truncate",2,"vertical-align","middle","color","#3C8DBC",3,"matTooltip"],["id","description_content",1,"description","text-left","align-self-center","py-2","px-3",3,"innerHTML"],[1,"clickable",2,"user-select","none","font-size","16px",3,"routerLink","queryParams"],[2,"vertical-align","middle","color","#8E8E8E"],[2,"vertical-align","middle","color","#8E8E8E","font-size","14px"],[1,"clickable","ml-3",2,"user-select","none","font-size","16px",3,"click"],[1,"clickable",2,"user-select","none",3,"click"],[1,"clickable",3,"matTooltip","click"],[2,"vertical-align","middle","color","#646464","transform","rotateY(180deg)"],[2,"vertical-align","middle","color","#646464"],[1,"clickable","d-flex","align-items-center",2,"user-select","none","font-size","16px",3,"routerLink","queryParams"],[2,"vertical-align","middle","color","#8E8E8E","font-size","19px"],[1,"clickable","ml-3","d-flex","align-items-center",2,"user-select","none","font-size","16px",3,"click"],[2,"vertical-align","middle","color","#bd3737","font-size","19px"],[2,"vertical-align","middle","color","#bd3737","font-size","14px"],["class","row ml-0 mr-0  files_zone mt-3",4,"ngIf"],["class","description text-left align-self-center py-2 px-3",3,"innerHTML",4,"ngIf"],[1,"description","text-left","align-self-center","py-2","px-3",3,"innerHTML"],[1,"row","mt-3"],[1,"col-4","pl-0"],["mat-button","",1,"menu-button","menu-button-mb",3,"matMenuTriggerFor"],[2,"vertical-align","middle","color","#0EAFC0"],[1,"mb-1","h6",2,"font-weight","400","font-size","14px"],[1,"row","align-items-center","mx-auto",2,"width","100%"],[1,"col-10","p-0","text-left"],[1,"col-2","p-0","pb-2","d-flex","justify-content-end"],[1,"text-center","mt-3"],[1,"h4"],[3,"isSortByTime","backToLink","searchKey","studentLists","isNotTestedYet","isOpenSideNav","obj","goToResult"],[1,"py-4"]],template:function(e,o){if(1&e&&(t.TgZ(0,"header-backend",0),t.NdJ("removeFilter",function(){return o.removeFilterStore()}),t.qZA(),t.YNc(1,Et,1,0,"azt-loading-effect",1),t.YNc(2,Te,1,1,"ng-template",null,2,t.W1O)),2&e){const i=t.MAs(3);t.Q6J("headerTitle",(null==o.homeworkObj?null:o.homeworkObj.name)||"")("back_link",o.backLink),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",i)}},styles:[".tested_list_container[_ngcontent-%COMP%]{overflow:hidden;height:calc(100vh - 77px - .5rem)}  .mat-drawer-inner-container::-webkit-scrollbar{width:8px;margin:5px}  .mat-drawer-inner-container::-webkit-scrollbar-thumb{background:#cfcece;border-radius:10px}  .mat-drawer-inner-container{overflow:auto!important}.link-stu[_ngcontent-%COMP%]{color:#000}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e9e9e9;border-radius:5px;box-shadow:none}.exam_info[_ngcontent-%COMP%]{padding:8px 16px}.exam_title[_ngcontent-%COMP%]{font-size:16px;color:#646464}.w-30[_ngcontent-%COMP%]{width:30%}.w-60[_ngcontent-%COMP%]{width:60%}.search-icon[_ngcontent-%COMP%]{position:absolute;right:5px;top:2px;color:#0eafc0}.input-search[_ngcontent-%COMP%]{width:100%;border:1px solid #eaeaeae3;padding:.1rem .55rem;border-radius:3px;font-size:12px}.input-search[_ngcontent-%COMP%]::placeholder{opacity:.7}.input-search[_ngcontent-%COMP%]:focus{border:1px solid #0EAFC0;outline:none}.btn_action[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#f1f1f1;border-radius:0;box-shadow:none}.filter_btn[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{font-size:12px;font-weight:400!important;border:1px solid #eaeaeae3;border-radius:3px;text-transform:none;padding-right:6px;padding-bottom:3px;color:#414141;line-height:20px}.content-zone[_ngcontent-%COMP%]{height:100%}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 466px);overflow:hidden}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%]{display:flex}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.truncate_custom[_ngcontent-%COMP%]{max-width:80%;display:inline-block;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.homework_title[_ngcontent-%COMP%]{font-size:16px;color:#646464;word-break:break-word}.files_zone[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#f1f1f1;border-radius:0/0 0 0px 0px;box-shadow:none;font-size:13px;word-break:break-word}.cursorDefault[_ngcontent-%COMP%]{cursor:default}@media (max-width: 756px){.tested_list_container[_ngcontent-%COMP%]{height:auto}.truncate_custom[_ngcontent-%COMP%]{max-width:70%}}.input-search-mb[_ngcontent-%COMP%]{width:100%;padding:2px}.menu-button-mb[_ngcontent-%COMP%]{text-align:center;width:100%}  .truncate{word-break:break-word!important;white-space:unset!important}"]}),n})();var ft=m(6834),xt=m(70655),et=m(42856),ot=m(40520),Oe=m(6517),wt=m(26201),Ze=m(60703),Ae=m(41303),G=m(12626),Se=m(58326),ye=m(57521),kt=m(95866),je=m(88386),Y=m(47691),B=m(17852),lt=m(21223),Me=m(59482),Q=m(51377),q=m(31279),z=m(89824),vt=m(83482),bt=m(73852),T=m(1033);function He(n,r){1&n&&t._UZ(0,"azt-loading-effect")}function Ne(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"header-backend",56),t.NdJ("MenuEvent",function(i){return t.CHM(e),t.oxw(2).callbackMenuEvent(i)}),t.ALo(2,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("menu_objs",e.menuObjs)("headerTitle",t.lcZ(2,3,"lang_homework_add_home_work_add_home_work"))("back_link","/admin/homework/classes/1")}}function Ie(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"header-backend",57),t.NdJ("MenuEvent",function(i){return t.CHM(e),t.oxw(2).callbackMenuEvent(i)})("RedirectToLink",function(){return t.CHM(e),t.oxw(2).redirectToBackLink()}),t.ALo(1,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("menu_objs",e.menuObjs)("headerTitle",t.lcZ(1,3,"lang_homework_add_home_work_update_home_work"))("checkUrlFunction",!0)}}function Le(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("** ",t.lcZ(2,1,"lang_homework_add_home_work_validate_enter_null_name_homework"),"."))}function Pe(n,r){1&n&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.hij("** ",t.lcZ(2,1,"lang_homework_add_home_work_validate_enter_name_homework"),"."))}function qe(n,r){if(1&n&&(t.TgZ(0,"div",58)(1,"div")(2,"div",59)(3,"div",60),t.YNc(4,Le,3,3,"div",55),t.YNc(5,Pe,3,3,"div",55),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",e.form.controls.nameExam.errors.required||e.form.controls.nameExam.errors.noWhiteSpace),t.xp6(1),t.Q6J("ngIf",e.form.controls.nameExam.errors.maxlength)}}function Je(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1,"OK"),t.qZA())}function Ue(n,r){1&n&&(t.TgZ(0,"div",61)(1,"div",62)(2,"span",63),t._uU(3,"Loading..."),t.qZA()()())}function Ee(n,r){1&n&&(t.TgZ(0,"div",64),t._uU(1,"Ch\u1ee5p \u1ea3nh b\xe0i t\u1eadp ho\u1eb7c ch\u1ecdn file word, pdf, audio, video c\xf3 s\u1eb5n"),t.qZA())}function De(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"button",65),t.NdJ("click",function(){const s=t.CHM(e).index,a=t.oxw(2);return!!a.formHomework.files&&a.formHomework.files.splice(s,1)}),t.TgZ(3,"mat-icon",66),t._uU(4,"close"),t.qZA()(),t.TgZ(5,"a",67),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onShowFile(s,-1)}),t.TgZ(6,"span",68),t._uU(7),t.qZA()()()()}if(2&n){const e=r.$implicit;t.xp6(6),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function Fe(n,r){if(1&n&&(t.TgZ(0,"div",69),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",70),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_homework_add_home_work_edit_homework"),": "),t.xp6(3),t.hij(" ",e.classroomObjByHomework.name,"")}}function Qe(n,r){1&n&&(t.TgZ(0,"div",69),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_add_home_work_select_class")))}function ze(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"a",73),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).checkAllCheckBox()}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()}2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_homework_add_home_work_select_all")," "))}function Ye(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",73),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).clearAllCheckBox()}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_homework_add_home_work_clear_select_all")," "))}function Be(n,r){if(1&n&&(t.TgZ(0,"div",71),t.YNc(1,ze,4,3,"div",0),t.YNc(2,Ye,3,3,"ng-template",null,72,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0==o.isCheckAll)("ngIfElse",e)}}function Re(n,r){if(1&n&&(t.TgZ(0,"span",80),t._uU(1),t.ALo(2,"slice"),t.qZA()),2&n){const e=t.oxw().index,o=t.oxw(3);t.s9C("matTooltip",o.classroomObjs[e].name),t.xp6(1),t.Oqu(t.Dn7(2,2,o.classroomObjs[e].name,0,25)+"..")}}function We(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw().index,o=t.oxw(3);t.xp6(1),t.Oqu(o.classroomObjs[e].name)}}function Ge(n,r){1&n&&(t.TgZ(0,"span",81),t._uU(1,"Chia s\u1ebb"),t.qZA())}function $e(n,r){if(1&n&&(t.TgZ(0,"div",76)(1,"mat-checkbox",77),t.ALo(2,"createPermission"),t.YNc(3,Re,3,6,"span",78),t.YNc(4,We,2,1,"span",55),t.YNc(5,Ge,2,0,"span",79),t.ALo(6,"fullPermission"),t.qZA()()),2&n){const e=r.index,o=t.oxw(3);t.xp6(1),t.s9C("value",o.classroomObjs[e].id),t.Q6J("formControlName",e)("disabled",o.checkPermissionObj(t.xi3(2,6,o.classroomObjs[e].permissionObj,"homework"))),t.xp6(2),t.Q6J("ngIf",o.getClassroomNameLength(o.classroomObjs[e])>25),t.xp6(1),t.Q6J("ngIf",o.getClassroomNameLength(o.classroomObjs[e])<=25),t.xp6(1),t.Q6J("ngIf",o.checkPermissionObj(t.xi3(6,9,o.classroomObjs[e].permissionObj,"classroom")))}}function Ve(n,r){if(1&n&&(t.TgZ(0,"div",74),t.YNc(1,$e,7,12,"div",75),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.form.controls.classroomIds.controls)}}function Ke(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"a",82),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).redirectClasses()}),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"button",83),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).saveHomeworkProgress()}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,3,"lang_buttom_cancel")),t.xp6(2),t.Q6J("disabled",e.form.invalid),t.xp6(1),t.Oqu(t.lcZ(6,5,"lang_buttom_save"))}}function Xe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",82),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).redirectBack()}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA(),t.TgZ(3,"button",83),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateHomeworkProgress()}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,3,"lang_buttom_cancel")),t.xp6(2),t.Q6J("disabled",e.form.controls.nameExam.errors),t.xp6(1),t.Oqu(t.lcZ(5,5,"lang_buttom_update"))}}function to(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"azt-preview-media",84),t.NdJ("closePreview",function(){return t.CHM(e),t.oxw(2).onFileClose()}),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("fileOption",e.previewFile)}}const Ct=function(){return{standalone:!0}},eo=function(){return[]},no=function(n){return{height:250,menubar:!1,plugins:n,toolbar:"bold italic backcolor | alignleft aligncenter alignright alignjustify"}};function io(n,r){if(1&n){const e=t.EpF();t.YNc(0,Ne,3,5,"div",0),t.YNc(1,Ie,2,5,"ng-template",null,2,t.W1O),t.TgZ(3,"form",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"p",9),t._uU(10),t.ALo(11,"mytranslate"),t.qZA()(),t.TgZ(12,"div",10),t._UZ(13,"input",11),t.qZA(),t.TgZ(14,"div",12),t.YNc(15,qe,6,2,"div",13),t.qZA()(),t.TgZ(16,"div",7)(17,"div",8)(18,"p",9),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()(),t.TgZ(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"mat-form-field",18)(26,"input",19),t.NdJ("click",function(){return t.CHM(e),t.MAs(31).open()}),t.qZA(),t.TgZ(27,"button",20),t.NdJ("click",function(i){return t.CHM(e),t.MAs(31).open(),i.stopPropagation()}),t.TgZ(28,"mat-icon"),t._uU(29,"today"),t.qZA()(),t.TgZ(30,"ngx-mat-datetime-picker",null,21),t.YNc(32,Je,2,0,"ng-template"),t.qZA()()(),t.TgZ(33,"div",22)(34,"div",23)(35,"div")(36,"a",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearTime()}),t.ALo(37,"mytranslate"),t.TgZ(38,"mat-icon",25),t._uU(39,"cancel"),t.qZA()()()()()()()(),t.TgZ(40,"div",26),t._uU(41),t.ALo(42,"mytranslate"),t.qZA()(),t.TgZ(43,"div",27)(44,"div",28)(45,"div",12)(46,"div",29)(47,"input",30,31),t.NdJ("change",function(i){return t.CHM(e),t.oxw().onFileSelected(i)}),t.qZA(),t.TgZ(49,"a",32),t.NdJ("click",function(){return t.CHM(e),t.MAs(48).click()}),t.TgZ(50,"span"),t._uU(51),t.ALo(52,"mytranslate"),t.qZA()(),t.YNc(53,Ue,4,0,"div",33),t.YNc(54,Ee,2,0,"div",34),t.YNc(55,De,8,2,"div",35),t.qZA()()()(),t.TgZ(56,"div",36)(57,"editor",37),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().formHomework.content=i}),t.qZA()(),t.TgZ(58,"div",38)(59,"div",29)(60,"mat-checkbox",39),t._uU(61),t.ALo(62,"mytranslate"),t.qZA()(),t.TgZ(63,"div",40)(64,"mat-checkbox",41),t._uU(65),t.ALo(66,"mytranslate"),t.qZA()()(),t.TgZ(67,"div",38)(68,"div",42)(69,"div",12),t.YNc(70,Fe,5,4,"div",43),t.YNc(71,Qe,3,3,"div",43),t.YNc(72,Be,4,2,"div",44),t.qZA()(),t.YNc(73,Ve,2,1,"div",45),t.qZA(),t.TgZ(74,"div",46)(75,"div",47),t.YNc(76,Ke,7,7,"div",0),t.YNc(77,Xe,6,7,"ng-template",null,48,t.W1O),t.qZA()()(),t.TgZ(79,"div",49)(80,"div",50)(81,"div",51)(82,"p",52),t._uU(83),t.ALo(84,"mytranslate"),t.qZA(),t.TgZ(85,"small"),t._uU(86),t.ALo(87,"mytranslate"),t.qZA()(),t.TgZ(88,"div",53)(89,"p",54),t._uU(90),t.ALo(91,"mytranslate"),t.qZA()()()()()()(),t.YNc(92,to,2,1,"div",55)}if(2&n){const e=t.MAs(2),o=t.MAs(31),i=t.MAs(78),s=t.oxw();t.Q6J("ngIf",0==s.isCheckUpdate)("ngIfElse",e),t.xp6(3),t.Q6J("formGroup",s.form),t.xp6(7),t.Oqu(t.lcZ(11,29,"lang_homework_add_home_work_name_home_work")),t.xp6(5),t.Q6J("ngIf",s.form.controls.nameExam.errors&&(s.form.controls.nameExam.touched||s.form.controls.nameExam.dirty)),t.xp6(4),t.Oqu(t.lcZ(20,31,"lang_homework_add_home_work_deadline")),t.xp6(7),t.Q6J("ngxMatDatetimePicker",o),t.xp6(10),t.s9C("matTooltip",t.lcZ(37,33,"lang_homework_add_home_work_reset_time")),t.xp6(5),t.hij("* ",t.lcZ(42,35,"lang_homework_add_home_work_tutorial_enter_time"),""),t.xp6(6),t.Q6J("ngModelOptions",t.DdM(49,Ct)),t.xp6(4),t.hij("+ ",t.lcZ(52,37,"lang_homework_add_home_work_add_file_homework"),""),t.xp6(2),t.Q6J("ngIf",s.loadingUpload),t.xp6(1),t.Q6J("ngIf",!s.formHomework.files||0==s.formHomework.files.length),t.xp6(1),t.Q6J("ngForOf",s.formHomework.files),t.xp6(2),t.Q6J("ngModel",s.formHomework.content)("ngModelOptions",t.DdM(50,Ct))("init",t.VKq(52,no,t.DdM(51,eo))),t.xp6(4),t.hij(" ",t.lcZ(62,39,"lang_homework_add_home_work_request_login")," "),t.xp6(4),t.hij(" ",t.lcZ(66,41,"lang_homework_add_home_work_dont_view_point")," "),t.xp6(5),t.Q6J("ngIf",1==s.isCheckUpdate),t.xp6(1),t.Q6J("ngIf",0==s.isCheckUpdate),t.xp6(1),t.Q6J("ngIf",0==s.isCheckUpdate),t.xp6(1),t.Q6J("ngIf",0==s.isCheckUpdate),t.xp6(3),t.Q6J("ngIf",0==s.isCheckUpdate)("ngIfElse",i),t.xp6(7),t.Oqu(t.lcZ(84,43,"lang_homework_add_home_work_library_homework")),t.xp6(3),t.hij(" ",t.lcZ(87,45,"lang_homework_add_home_work_tutorial_upload_file")," "),t.xp6(4),t.hij("",t.lcZ(91,47,"lang_developing"),"."),t.xp6(2),t.Q6J("ngIf",s.isShowPreviewFile)}}const so={parse:{dateInput:"l, LTS"},display:{dateInput:"DD-MM-YYYY HH:mm:00",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let Tt=(()=>{class n extends Z.Q{constructor(e,o,i,s,a,l,c,d,p){super(o),this.activeRoute=e,this.commonService=o,this.myPdfService=i,this.fb=s,this.homeworkService=a,this.classroomService=l,this.apiUploadService=c,this.zipdataService=d,this.userService=p,this.form=new _.cw({}),this.formHomework={files:[],content:""},this.isShowPreviewFile=!1,this.uploadProgress=-1,this.LogErrorsRequest="",this.menuObjs=[],this.classroomObjs=[],this.isCheckAll=!1,this.homeworkId=0,this.homeworkData={},this.homeworkDatas=[],this.prevData="",this.isCheckUpdate=!1,this.classObj={},this.classId=0,this.backLink="",this.backToLink="",this.listIds="",this.classroomObjByHomework={},this.loadingUpload=!1,this.contentBase64Count=0,this.homeWorkContent="",this.newListUrls=[],this.homeworkHashId="",this.convertBlobToBase64=h=>(0,xt.mG)(this,void 0,void 0,function*(){return new Promise(u=>{var f=new Image;f.crossOrigin="Anonymous",f.addEventListener("load",function(){var x=document.createElement("canvas"),v=x.getContext("2d");x.width=this.width,x.height=this.height,null==v||v.drawImage(f,0,0);var S=x.toDataURL("image/png");u(S)},!1),f.src=h})}),this.minSelectedCheckboxes=(h=1)=>f=>f.controls.map(v=>v.value).reduce((v,S)=>S?v+S:v,0)>=h?null:{required:!0}}disableScroll(){let e=window.pageYOffset||document.documentElement.scrollLeft,o=window.pageXOffset||document.documentElement.scrollTop;window.onscroll=()=>{window.scrollTo(e,o)}}enableScroll(){window.onscroll=()=>{}}onFileClose(){this.enableScroll(),this.isShowPreviewFile=!1,this.previewFile=void 0}onShowFile(e,o){this.isShowPreviewFile=!0,this.disableScroll(),this.previewFile=Object.assign(Object.assign({},e),{index:o})}callbackMenuEvent(e){}convertFullNumber(e){return e>=10?e:`0${e}`}findAllSubString(e,o){for(var i=0,s=0,a=[];e.indexOf(o,i)>-1;)s=e.indexOf(o,i),a.push(s),i=s+o.length;return a}getTypeFile(e){var o=e.indexOf(";");return e.substring(5,o)}getFileName(e){var o=e.split("").reverse().join(""),i=o.indexOf(";"),s=o.indexOf("/",i);return o.substring(i,s).split("").reverse().join("")}onFileSelected(e){let i=e.target,s=i.files,a=!!s&&s[0];0!=a&&((0,G.b9)(a.type)?(0,G.ml)(a.type)?this.showErrorSnack("File g\u1eb7p l\u1ed7i: "+a.name+". Ki\u1ec3u: "+a.type+". Ch\u01b0a h\u1ed7 tr\u1ee3 \u0111\u1ecbnh d\u1ea1ng video .wmv! Vui l\xf2ng th\u1eed l\u1ea1i."):(this.loadingUpload=!0,this.uploadProgress=0,(0,G.hv)(a).then(l=>{this.apiUploadService.uploadToCdnForHomework(l).subscribe(c=>{var d;c.type!=ot.dt.UploadProgress&&(1==c.success?(this.formHomework.files&&!Array.isArray(this.formHomework.files)&&(this.formHomework.files=[]),null===(d=this.formHomework.files)||void 0===d||d.push(Object.assign({},c.data)),this.loadingUpload=!1,this.uploadProgress=-1):(this.loadingUpload=!1,this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+c.message)))})})):this.showErrorSnack("Vui l\xf2ng ch\u1ec9 t\u1ea3i l\xean \u0111\u1ecbnh d\u1ea1ng file \u1ea3nh, pdf, audio v\xe0 video")),i.files=null}redirectBack(){this.commonService.myNavigation(this.backLink)}clearAllCheckBox(){this.form.get("classroomIds").controls.forEach(o=>{o.setValue(!1)}),this.isCheckAll=!1}checkAllCheckBox(){this.form.get("classroomIds").controls.forEach(o=>{o.setValue(!0)}),this.isCheckAll=!0}checkIsChosen(e,o){if(null==o)for(var i=0;i<e.length;i++)this.addNewCheckBox(!1);else for(i=0;i<e.length;i++){for(var s=!1,a=0;a<o.length;a++)e[i].id==o[a].classroomId&&(s=!0);this.addNewCheckBox(s)}}redirectClasses(){this.commonService.myNavigation("/admin/homework/classes/1")}redirectToSuccess(e){this.commonService.myNavigation("/admin/homework/create-homework-success/"+e)}addNewCheckBox(e){const o=new _.NI(e);this.form.get("classroomIds").push(o)}clearTime(){this.form.controls.deadlineHomework.setValue("")}startUploadBlobFile(e,o){if(o&&""!=o){var i=this.getTypeFile(o),s=this.myPdfService.b64toFile(o,this.getFileName(i),i);(0,G.hv)(s).then(a=>{this.apiUploadService.uploadToCdnForHomework(a).subscribe(l=>{var c,d;if(l.type!=ot.dt.UploadProgress)if(1==l.success){var p=Object.assign(Object.assign({},e),{newUrl:null!==(d=null===(c=l.data)||void 0===c?void 0:c.url)&&void 0!==d?d:""});this.newListUrls.push(p),this.contentBase64Count-=1,0==this.contentBase64Count&&this.changeContent()}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+l.message),this.stopStatusObj()})})}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!"),this.stopStatusObj()}reUploadBlobFile(e){var o;if(e&&e.length>0){this.contentBase64Count=e.length;for(var i=0;i<e.length;i++){new FileReader;const a=e[i],l=null===(o=null==a?void 0:a.oldUrl)||void 0===o?void 0:o.substring(0,a.oldUrl.length-1);this.convertBlobToBase64(null!=l?l:"").then(c=>{this.startUploadBlobFile(a,c)})}}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!"),this.stopStatusObj()}reUploadBase64File(e){var o;if(e&&e.length>0){this.contentBase64Count=e.length;for(var i=0;i<e.length;i++){const l=e[i],c=null===(o=l.oldUrl)||void 0===o?void 0:o.substring(0,l.oldUrl.length-1);var s=this.getTypeFile(null!=c?c:""),a=this.myPdfService.b64toFile(null!=c?c:"",this.getFileName(s),s);(0,G.hv)(a).then(d=>{this.apiUploadService.uploadToCdnForHomework(d).subscribe(p=>{var h,u;if(p.type!=ot.dt.UploadProgress)if(1==p.success){var f=Object.assign(Object.assign({},l),{newUrl:null!==(u=null===(h=p.data)||void 0===h?void 0:h.url)&&void 0!==u?u:""});this.newListUrls.push(f),this.contentBase64Count-=1,0==this.contentBase64Count&&this.changeContent()}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau! L\u1ed7i:  [SPLIT_LANG]"+p.message),this.stopStatusObj()})})}}else this.showErrorSnack("Kh\xf4ng Upload \u0111\u01b0\u1ee3c \u1ea3nh! Vui l\xf2ng th\u1eed l\u1ea1i sau!"),this.stopStatusObj()}foundImgInContent(e){var o=this.findAllSubString(e,"<img"),i=[],s=[];o.forEach(a=>{var l=e.indexOf("src=",a),c=e.indexOf('"',Number(l)+5),d=e.substring(Number(l)+5,Number(c)+1);d.includes(";base64")?i.push({oldUrl:d}):d.includes("blob:")&&s.push({oldUrl:d})}),i.length>0?this.reUploadBase64File(i):s.length>0?this.reUploadBlobFile(s):this.changeContent()}changeContent(){this.newListUrls.length>0&&this.newListUrls.forEach(e=>{var o,i=this.homeWorkContent.replace(null!==(o=e.oldUrl)&&void 0!==o?o:"  ",e.newUrl+'" class="w-100 img-fluid"');this.homeWorkContent=i}),this.isCheckUpdate?this.updateHomeWork():this.saveHomework()}saveHomeworkProgress(){this.initStatusObj(),null==this.formHomework.content||null==this.formHomework.content?(this.homeWorkContent="",this.saveHomework()):(this.homeWorkContent=this.formHomework.content,this.homeWorkContent.includes("<img ")?this.foundImgInContent(this.homeWorkContent):this.saveHomework())}updateHomeworkProgress(){this.initStatusObj(),null==this.formHomework.content||null==this.formHomework.content?(this.homeWorkContent="",this.updateHomeWork()):(this.homeWorkContent=this.formHomework.content,this.homeWorkContent.includes("<img ")?this.foundImgInContent(this.formHomework.content):this.updateHomeWork())}saveHomework(){let e=this.commonService.getFormObj(this.form);e.deadlineHomework=""===e.deadlineHomework||null===e.deadlineHomework?null:(0,w.p6)(e.deadlineHomework,"yyyy-MM-ddTHH:mm:00","en_vn"),e.isCheckLogin=1!=e.isCheckLogin?0:1,e.dontShowMark=1!=e.dontShowMark?0:1,e.whenShowAnswer=1!=e.whenShowAnswer?0:1;const o=e.classroomIds.map((l,c)=>l?this.classroomObjs[c].id:null).filter(l=>null!==l);this.homeWorkContent=this.zipdataService.convertContentGzip(this.homeWorkContent);let i=this.userService.getUserObj(),s=JSON.stringify({type:"homework",id:this.homeworkId,user:i.id}),a={name:e.nameExam,content:this.homeWorkContent,deadline:e.deadlineHomework,testbankExams:"",files:JSON.stringify(this.formHomework.files),mustVerified:e.isCheckLogin,dontShowMark:e.dontShowMark,whenShowAnswer:e.whenShowAnswer,globalSetting:0,classroomIds:o};this.subscriptions.add(this.homeworkService.apiHomeworkSaveObjPost(a,s).subscribe(l=>{var c,d,p;if(1==l.success){this.showSuccessSnack("T\u1ea1o b\xe0i t\u1eadp th\xe0nh c\xf4ng.");var h=[];if(null===(c=l.data)||void 0===c?void 0:c.objs)for(var u=0;u<l.data.objs.length;u++)h.push(null===(d=l.data)||void 0===d?void 0:d.objs[u].hashId);this.listIds=JSON.stringify(h),this.redirectToSuccess(this.listIds),this.successStatusObj()}else this.errorStatusObj(null!==(p=l.message)&&void 0!==p?p:"",!0)}))}updateHomeWork(){let e=this.commonService.getFormObj(this.form);e.deadlineHomework=""===e.deadlineHomework||null===e.deadlineHomework?null:(0,w.p6)(e.deadlineHomework,"yyyy-MM-ddTHH:mm:00 Z","en_vn"),e.isCheckLogin=1!=e.isCheckLogin?0:1,e.dontShowMark=1!=e.dontShowMark?0:1,e.whenShowAnswer=1!=e.whenShowAnswer?0:1,this.homeWorkContent=this.zipdataService.convertContentGzip(this.homeWorkContent);let o=this.userService.getUserObj(),i=JSON.stringify({type:"homework",id:this.homeworkId,user:o.id}),s={id:this.homeworkId,homeworkHashId:this.homeworkHashId,name:e.nameExam,content:this.homeWorkContent,deadline:e.deadlineHomework,testbankExams:"",files:JSON.stringify(this.formHomework.files),mustVerified:e.isCheckLogin,dontShowMark:e.dontShowMark,whenShowAnswer:e.whenShowAnswer,globalSetting:0};this.subscriptions.add(this.homeworkService.apiHomeworkUpdateObjPost(s,i).subscribe(a=>{var l;1==a.success?(this.showSuccessSnack("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng."),this.redirectToBackLink(),this.successStatusObj()):this.errorStatusObj(null!==(l=a.message)&&void 0!==l?l:"",!0)}))}getHomework(e){this.initStatusObj(),this.isCheckUpdate=!!e,this.subscriptions.add(this.homeworkService.apiHomeworkGetObjGet(this.isCheckUpdate?this.homeworkHashId:"add_new").subscribe(o=>{var i,s,a,l,c,d,p,h,u,f,x,v,S,I,j,g,y,k,P,M;1==o.success?(this.classroomObjs=null!==(s=null===(i=null==o?void 0:o.data)||void 0===i?void 0:i.classroomObjs)&&void 0!==s?s:new Array,this.checkIsChosen(this.classroomObjs,this.homeworkDatas),this.isCheckUpdate&&(this.formHomework.files=(null===(l=null===(a=o.data)||void 0===a?void 0:a.homeworkObj)||void 0===l?void 0:l.files)?this.commonService.parseJson(null===(d=null===(c=o.data)||void 0===c?void 0:c.homeworkObj)||void 0===d?void 0:d.files):[],this.formHomework.content=(null===(h=null===(p=o.data)||void 0===p?void 0:p.homeworkObj)||void 0===h?void 0:h.content)?this.zipdataService.decodeContentGzip(null===(f=null===(u=o.data)||void 0===u?void 0:u.homeworkObj)||void 0===f?void 0:f.content):"",this.homeworkDatas=(null===(x=null==o?void 0:o.data)||void 0===x?void 0:x.homeworkObj)?[null===(v=null==o?void 0:o.data)||void 0===v?void 0:v.homeworkObj]:new Array,this.classroomObjByHomework=null!==(I=null===(S=null==o?void 0:o.data)||void 0===S?void 0:S.classroomObj)&&void 0!==I?I:{},this.homeworkData=null!==(g=null===(j=null==o?void 0:o.data)||void 0===j?void 0:j.homeworkObj)&&void 0!==g?g:{},this.classId=null!==(P=null===(k=null===(y=null==o?void 0:o.data)||void 0===y?void 0:y.classroomObj)||void 0===k?void 0:k.id)&&void 0!==P?P:0,this.backLink="/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkData.hashId,this.form.patchValue({nameExam:this.homeworkData.name,deadlineHomework:null!=this.homeworkData.deadline?this.homeworkData.deadline:"",isCheckLogin:0!=this.homeworkData.mustVerified,dontShowMark:0!=this.homeworkData.dontShowMark,whenShowAnswer:0!=this.homeworkData.whenShowAnswer})),this.successStatusObj()):this.errorStatusObj(null!==(M=o.message)&&void 0!==M?M:"",!0)}))}redirectToBackLink(){return this.commonService.myNavigationWithQueryString("/admin/homework/score-list/"+this.classId+"/"+this.homeworkId+"/"+this.homeworkData.hashId,"?backTo="+encodeURIComponent(this.backToLink))}checkPermissionObj(e){return 1!=e}getClassroomNameLength(e){return e&&e.name?e.name.length:0}ngOnInit(){(0,F.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e,o,i;this.homeworkId=null!==(e=Number(this.commonService.getMyParam(this.activeRoute,"id")))&&void 0!==e?e:0,this.homeworkHashId=null!==(o=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==o?o:"",this.backToLink=null!==(i=this.commonService.getMyQueryParam("backTo"))&&void 0!==i?i:"",this.getHomework(this.homeworkId)}),this.form=this.fb.group({nameExam:new _.NI("",[_.kI.required,_.kI.maxLength(180),Ae._.noWhiteSpace]),deadlineHomework:new _.NI(""),isCheckLogin:new _.NI(""),contentHomework:new _.NI,dontShowMark:new _.NI(""),whenShowAnswer:new _.NI(""),classroomIds:this.fb.array([],this.minSelectedCheckboxes(1))}),this.form.valueChanges.subscribe(e=>{let o=JSON.stringify(e);o!=this.prevData&&(this.prevData=o,this.form.patchValue(e))}),this.commonService.translateMetaData({title:"lang_cms_homework_add_exercise_title",description:"lang_cms_homework_add_exercise_description",image:"lang_cms_test_image"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.gz),t.Y36(C.v),t.Y36(Se.t),t.Y36(_.qu),t.Y36(ye.L),t.Y36(O.um),t.Y36(kt.$),t.Y36(W.n),t.Y36(je.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-home-work"]],features:[t._Bn([{provide:et.fM,useClass:Ze.HF,deps:[wt.Ad,Oe.o8]},{provide:et.ab,useValue:so}]),t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],["header",""],[1,"p-3",3,"formGroup"],[1,"container","pb-80"],[1,"row","py-md-4"],[1,"col-md-8","add-homework--form"],[1,"row","m-0","pb-3"],[1,"col-4","col-md-3","add-homework--form__label","text-md-right"],[1,"p-0","m-0"],[1,"col-8","col-md-9","pl-0","pr-0"],["type","text","formControlName","nameExam","placeholder","",1,"form-control","add-homework--form__input"],[1,"row"],["class","col-12 pt-1",4,"ngIf"],[1,"col-8","col-md-9","pl-0","pr-0","add-homework--form__padding"],[1,"add-homework--form__border","d-flex","align-items-center"],[1,"row","m-0","p-0","align-items-center","justify-content-around","homework-box",2,"width","100%"],[1,"col-9","col-md-10","pr-0","pl-0",2,"border","1px solid #ced4da","border-radius","3px"],[1,"myTimePicker","pt-0"],["matInput","","readonly","","formControlName","deadlineHomework",3,"ngxMatDatetimePicker","click"],["mat-icon-button","","matSuffix","",2,"font-size","18px",3,"click"],["durationTime",""],[1,"col-2","col-md-1","pl-0","pr-0"],[1,"pl-1","d-flex","align-items-center","justify-content-center",2,"padding-top","3px"],[1,"clickable",2,"color","#3f51b5",3,"matTooltip","click"],[2,"vertical-align","middle"],[1,"clearfix","pt-1"],[1,"row","pt-4","m-0"],[1,"col-12","add-homework--form__title","none-top__border","none-bottom__border"],[1,"col-md-12"],["type","file","name","fileHomework",2,"display","none",3,"ngModelOptions","change"],["formChoseFile",""],[1,"d-flex","align-items-center",2,"color","#3c8dbc",3,"click"],["class","d-flex justify-content-center my-2",4,"ngIf"],["style","color: #747373; font-size: 10px",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-12","p-0","mh-250"],["apiKey","ldij13v1886vlrnk42g9bvngyqdc6gxpe8l0n9mo8gdjpg9d",3,"ngModel","ngModelOptions","init","ngModelChange"],[1,"row","m-0","pt-3"],["color","primary","formControlName","isCheckLogin"],[1,"col-md-6"],["color","primary","formControlName","whenShowAnswer"],[1,"col-12","add-homework--form__title","none-bottom__border"],["class","col-9",4,"ngIf"],["class","col-3 text-right",4,"ngIf"],["class","row m-0 p-0 add-homework--form__content none-top__border","style","width: 100%",4,"ngIf"],[1,"row","m-0","pt-4","pb-3"],[1,"col-12","text-right"],["button",""],[1,"col-md-4","px-00"],[1,"library"],[1,"py-3","text-center"],[1,"m-0","font-weight-bold"],[1,"d-flex","library--content","align-items-center","justify-content-center"],[1,"font-weight-bold","m-0","p-0"],[4,"ngIf"],[3,"menu_objs","headerTitle","back_link","MenuEvent"],[3,"menu_objs","headerTitle","checkUrlFunction","MenuEvent","RedirectToLink"],[1,"col-12","pt-1"],[1,"text-left"],[1,"text-danger"],[1,"d-flex","justify-content-center","my-2"],["role","status",1,"spinner-border","text-secondary"],[1,"sr-only"],[2,"color","#747373","font-size","10px"],[1,"btn","btn-sm",3,"click"],[2,"font-size","15px","padding-top","5px"],[3,"click"],[2,"color","gray","word-wrap","break-word",3,"title"],[1,"col-9"],[2,"color","black","font-weight","bold"],[1,"col-3","text-right"],["chosen",""],[1,"clickable",2,"color","#3c8dbc",3,"click"],[1,"row","m-0","p-0","add-homework--form__content","none-top__border",2,"width","100%"],["class","col-sm-6 text-left pl-3 pt-2","formArrayName","classroomIds",4,"ngFor","ngForOf"],["formArrayName","classroomIds",1,"col-sm-6","text-left","pl-3","pt-2"],["color","primary",3,"value","formControlName","disabled"],[3,"matTooltip",4,"ngIf"],["class","badge badge-info","style","margin-left: 5px",4,"ngIf"],[3,"matTooltip"],[1,"badge","badge-info",2,"margin-left","5px"],[1,"button-cancel",3,"click"],[1,"button-save",3,"disabled","click"],[3,"fileOption","closePreview"]],template:function(e,o){if(1&e&&(t.YNc(0,He,1,0,"azt-loading-effect",0),t.YNc(1,io,93,54,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",1==o.statusObj.loading)("ngIfElse",i)}},directives:[w.O5,Y.Q,B.p,_._Y,_.JL,_.sg,_.Fj,_.JJ,_.u,lt.KE,Me.Nt,et.g2,Q.lW,lt.R9,q.Hw,et.AB,z.gM,w.sg,V.PG,_.On,vt.oG,_.CE,bt.x],pipes:[T.bT,T.rm,w.OU,T.Gf],styles:["body[_ngcontent-%COMP%]{overflow-y:auto}.add-homework--form[_ngcontent-%COMP%]{background-color:#fff;padding:10px 8px;border:1px solid #ececec;border-radius:5px}.add-homework--form__label[_ngcontent-%COMP%]{padding:.75rem;align-self:center;font-weight:400;line-height:1.5;color:#495057;font-size:1rem;background-color:#e9ecef;border:1px solid #ced4da;border-bottom-left-radius:.25rem;border-top-left-radius:.25rem}.add-homework--form__title[_ngcontent-%COMP%]{padding:.75rem;align-self:center;font-weight:400;line-height:1.5;color:#495057;font-size:1rem;background-color:#e9ecef;border:1px solid #ced4da;border-radius:5px}.add-homework--form__input[_ngcontent-%COMP%]{height:100%;border-left:0px;border-top-left-radius:0;border-bottom-left-radius:0}.add-homework--form__border[_ngcontent-%COMP%]{border:1px solid #ced4da;height:100%;border-left:none;border-radius:0 4px 4px 0/0px 4px 4px 0px}.add-homework--form__content[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #f4f4f4;border-radius:3px;padding:10px}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.mh-250[_ngcontent-%COMP%]{min-height:250px}.none-top__border[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.none-bottom__border[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.button-save[_ngcontent-%COMP%]{background-color:#169bd5;border:none;color:#fff;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:4px 16px;cursor:pointer;border-radius:5px;border:1px solid #169bd5;text-transform:uppercase}.button-save[_ngcontent-%COMP%]:hover{background-color:#0069d9;border-color:#0069d9}.button-cancel[_ngcontent-%COMP%]{background-color:#fff!important;border:none;color:#333;padding:8px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:14px;margin:4px 2px;cursor:pointer;border:1px solid #797979;border-radius:5px;text-transform:uppercase}.button-cancel[_ngcontent-%COMP%]:hover{background-color:#00000005!important}.files[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#f2f2f2;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e5e5e5;border-left:0px;border-right:0px;border-radius:0;box-shadow:none;margin:0 -24px}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}.files-custom[_ngcontent-%COMP%]{margin:0}button[_ngcontent-%COMP%]:disabled{background-color:#0000001f!important;border-color:#0000001f!important}.library[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#f9f9f9;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e9e9e9;border-radius:5px;box-shadow:none;padding:10px}.library--breadcum[_ngcontent-%COMP%]{background:inherit;background-color:#fafafa;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#f1f1f1;border-bottom:0px;border-radius:3px 3px 0 0/3px 3px 0px 0px;box-shadow:none}.library--content[_ngcontent-%COMP%]{border-width:0px;height:100px;background:inherit;background-color:#fff;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#f4f4f4;border-radius:0 0 3px 3px/0px 0px 3px 3px;box-shadow:none;padding:10px}  .mat-checkbox-layout{white-space:normal!important}@media screen and (max-width: 768px){.px-00[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin-top:12px}}@media screen and (max-width: 576px){.button-save[_ngcontent-%COMP%], .button-cancel[_ngcontent-%COMP%]{padding:8px 16px}}  .mat-checkbox-checked.mat-accent.mat-checkbox-disabled .mat-checkbox-background, .mat-checkbox-indeterminate.mat-accent[_ngcontent-%COMP%]   .mat-checkbox-background[_ngcontent-%COMP%]{background-color:#3f51b5!important}"]}),n})();var nt=m(69455);function ro(n,r){if(1&n&&(t.TgZ(0,"div",3)(1,"h5",7),t._uU(2),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.s9C("matTooltip",e.className),t.xp6(1),t.Oqu(e.className)}}function ao(n,r){1&n&&(t.TgZ(0,"span",20),t._uU(1,"M\u1edbi T\u1ea1o"),t.qZA())}function lo(n,r){1&n&&(t.TgZ(0,"span",21),t._uU(1,"M\u1edbi T\u1ea1o"),t.qZA())}const co=function(n){return[n]},_o=function(n){return{backTo:n}};let Ot=(()=>{class n extends Z.Q{constructor(e){super(e),this.commonService=e,this.isMobile=!1,this.classId="0",this.backLink="",this.name="",this.className="",this.totalStudent=0,this.totalTakeTest=0,this.homeworkId=0,this.hashId="",this.isNew=0,this.redirectId=new t.vpe}handleRedirect(e){this.redirectId.emit(e)}checkWidth(){this.isMobile=window.innerWidth<768}copyLinkToClipboard(){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${this.hashId}`}showCopySuccess(){this.showSuccessSnack("Sao ch\xe9p \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i th\xe0nh c\xf4ng")}onResize(e){this.isMobile=e.target.innerWidth<768}ngOnInit(){this.checkWidth(),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["azt-home-work-file"]],inputs:{classId:"classId",backLink:"backLink",name:"name",className:"className",dateCreated:"dateCreated",deadLine:"deadLine",totalStudent:"totalStudent",totalTakeTest:"totalTakeTest",homeworkId:"homeworkId",hashId:"hashId",isNew:"isNew"},outputs:{redirectId:"redirectId"},features:[t.qOj],decls:34,vars:27,consts:[[1,"row","mx-0","home-work-file","align-items-center","my-2",3,"resize"],[1,"col-9","pr-0","ellipsis-text",3,"click"],[1,"link-text",3,"routerLink","queryParams"],[1,"d-flex","align-items-center"],[1,"align-items-center"],[3,"src"],[1,"p-2","align-items-center","ellipsis-text"],[1,"home-work-name","font-size-12","ellipsis-text",3,"matTooltip"],["class","d-flex align-items-center",4,"ngIf"],[1,"font-size-12","m-0",2,"color","#000"],["class","badge badge-success ml-2",4,"ngIf"],[1,"p-0","m-0","font-size-12",2,"color","#0EAFC0"],[1,"col-3",2,"cursor","default"],[1,"d-flex","flex-column","text-center"],["class","badge badge-success",4,"ngIf"],[1,"p-0","m-0","home-work-text"],[1,"p-0","m-0"],[1,"d-flex","justify-content-center"],["matTooltip","Copy link",1,"btn-copy",3,"cdkCopyToClipboard","click"],[2,"font-size","16px","color","#3c8dbc"],[1,"badge","badge-success","ml-2"],[1,"badge","badge-success"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.NdJ("resize",function(s){return o.onResize(s)},!1,t.Jf7),t.TgZ(1,"div",1),t.NdJ("click",function(){return o.handleRedirect(o.homeworkId)}),t.TgZ(2,"a",2),t.ALo(3,"mylocalize"),t.TgZ(4,"div",3)(5,"div",4),t._UZ(6,"img",5),t.ALo(7,"convertCdn"),t.qZA(),t.TgZ(8,"div",6)(9,"h4",7),t._uU(10),t.qZA(),t.YNc(11,ro,3,2,"div",8),t.TgZ(12,"div",3)(13,"p",9),t._uU(14),t.ALo(15,"date"),t.qZA(),t.YNc(16,ao,2,0,"span",10),t.qZA(),t.TgZ(17,"p",11),t._uU(18),t.ALo(19,"date"),t.qZA()()()()(),t.TgZ(20,"div",12)(21,"div",13)(22,"div"),t.YNc(23,lo,2,0,"span",14),t.qZA(),t.TgZ(24,"div")(25,"h4",15),t._uU(26,"\u0110\xe3 n\u1ed9p"),t.qZA()(),t.TgZ(27,"div")(28,"p",16),t._uU(29),t.qZA()(),t.TgZ(30,"div",17)(31,"button",18),t.NdJ("click",function(){return o.showCopySuccess()}),t.TgZ(32,"mat-icon",19),t._uU(33,"file_copy"),t.qZA()()()()()()),2&e&&(t.xp6(2),t.Q6J("routerLink",t.VKq(23,co,t.lcZ(3,13,"/admin/homework/score-list/"+o.classId+"/"+o.homeworkId+"/"+o.hashId)))("queryParams",t.VKq(25,_o,o.backLink)),t.xp6(4),t.Q6J("src",t.lcZ(7,15,"azota_assets/images/u416.svg"),t.LSH),t.xp6(3),t.s9C("matTooltip",o.name),t.xp6(1),t.Oqu(o.name),t.xp6(1),t.Q6J("ngIf",null!=o.className&&""!=o.className),t.xp6(3),t.hij("Ng\xe0y t\u1ea1o : ",t.xi3(15,17,o.dateCreated,"dd/MM/yyyy HH:mm"),""),t.xp6(2),t.Q6J("ngIf",1==o.isNew&&0==o.isMobile),t.xp6(2),t.hij("H\u1ea1n n\u1ed9p : ",null!==o.deadLine?t.xi3(19,20,o.deadLine,"dd/MM/yyyy HH:mm"):"Kh\xf4ng th\u1eddi h\u1ea1n"," "),t.xp6(5),t.Q6J("ngIf",1==o.isNew&&1==o.isMobile),t.xp6(6),t.AsE("",null!=o.totalTakeTest?o.totalTakeTest:0,"/",null!=o.totalStudent?o.totalStudent:0,""),t.xp6(2),t.Q6J("cdkCopyToClipboard",o.copyLinkToClipboard()))},directives:[N.yS,z.gM,w.O5,nt.i3,q.Hw],pipes:[T.mp,T.BI,w.uU],styles:[".home-work-file[_ngcontent-%COMP%]{background-color:#fff;box-shadow:none;border:1px solid #ececec;border-radius:5px;cursor:pointer}.home-work-name[_ngcontent-%COMP%]{font-weight:500;margin:0!important}.home-work-text[_ngcontent-%COMP%]{color:#a2a2a2;font-size:12px}.font-size-12[_ngcontent-%COMP%]{font-size:12px}.btn-copy[_ngcontent-%COMP%]{margin:2px 0 0;padding:0;border:none;background-color:#fff;text-transform:inherit}.ellipsis-text[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:99%;white-space:nowrap}.block-home[_ngcontent-%COMP%]{position:relative}@media screen and (max-width: 480px){.home-copy[_ngcontent-%COMP%]{display:none}}"]}),n})();function mo(n,r){1&n&&t._UZ(0,"azt-loading-effect")}function po(n,r){1&n&&(t.TgZ(0,"span",22),t._uU(1,"Chia s\u1ebb"),t.qZA())}function ho(n,r){1&n&&(t.TgZ(0,"div")(1,"div",23)(2,"div",24)(3,"p",25),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,1,"lang_homework_class_list_not_found_homework")))}function uo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"azt-home-work-file",27),t.NdJ("redirectId",function(i){const a=t.CHM(e).$implicit,l=t.oxw(2).$implicit;return t.oxw(3).redirectHomework(i,l.id&&"share"!=l.id?l.id:a.classroomId?a.classroomId.toString():"0",a.hashId?a.hashId:"")}),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw(2).$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("classId","share"!=o.id?o.id:null==e.classroomId?null:e.classroomId.toString())("name",e.name?e.name:"")("dateCreated",e.createdAt)("deadLine",e.deadline)("totalTakeTest",e.count?e.count:0)("totalStudent",e.countStudents?e.countStudents:0)("hashId",e.hashId?e.hashId:"")("homeworkId",e.id?e.id:0)("className","share"==o.id&&e.className?e.className:"")("backLink",i.backLink)}}function go(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,uo,2,10,"div",26),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.homeworks)}}function fo(n,r){1&n&&t._UZ(0,"div",29)}function xo(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",30),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2).$implicit;return t.oxw(3).getClassroomHomeworkInArchive(i)}),t.ALo(2,"mytranslate"),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_arrow_down"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"lang_homework_class_list_see_more_old")),t.Q6J("disabled",!e.nextPage)}}function wo(n,r){if(1&n&&(t.TgZ(0,"div",28),t.YNc(1,fo,1,0,"div",11),t.YNc(2,xo,5,4,"ng-container",12),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.isLoadingPage),t.xp6(1),t.Q6J("ngIf",!e.isLoadingPage)}}const ko=function(n){return{"pb-0":n}},Zt=function(n){return[n]};function vo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"p",17),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(3).goToStudentList(s.id?s.id:"0")}),t._uU(5),t.qZA(),t.YNc(6,po,2,0,"span",18),t.ALo(7,"fullPermission"),t.qZA(),t.TgZ(8,"div",19)(9,"a",20),t.ALo(10,"localize"),t._uU(11,"Xem t\u1ea5t c\u1ea3"),t.qZA()()(),t.YNc(12,ho,6,3,"div",12),t.YNc(13,go,2,1,"div",12),t.YNc(14,wo,3,2,"div",21),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(13,ko,1==(null==e.homeworks?null:e.homeworks.length))),t.xp6(3),t.s9C("matTooltip",e.name),t.xp6(1),t.hij(" ",e.name," "),t.xp6(1),t.Q6J("ngIf",0==o.checkPermissionObj(t.xi3(7,8,e.permissionObj,"classroom"))),t.xp6(3),t.Q6J("routerLink",t.VKq(15,Zt,t.lcZ(10,11,"/admin/homework/homework-list/"+e.id))),t.xp6(3),t.Q6J("ngIf",0==(null==e.homeworks?null:e.homeworks.length)&&!e.nextPage),t.xp6(1),t.Q6J("ngIf",e.homeworks&&e.homeworks.length>0),t.xp6(1),t.Q6J("ngIf",e.homeworks&&e.homeworks.length<2)}}function bo(n,r){1&n&&t._UZ(0,"div",29)}function Co(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).seeMore()}),t.ALo(2,"mytranslate"),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_arrow_down"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"lang_buttom_see_more")),t.Q6J("disabled",!e.nextPage)}}function To(n,r){if(1&n&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"a",8),t.ALo(4,"localize"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()(),t.TgZ(7,"div",6),t.YNc(8,vo,15,17,"div",9),t.qZA(),t.TgZ(9,"div",10),t.YNc(10,bo,1,0,"div",11),t.YNc(11,Co,5,4,"ng-container",12),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("routerLink",t.VKq(9,Zt,t.lcZ(4,5,"/admin/homework/add-new-homework/0"))),t.xp6(2),t.hij("+ ",t.lcZ(6,7,"lang_homework_class_list_create_homework"),""),t.xp6(3),t.Q6J("ngForOf",e.classObjs),t.xp6(2),t.Q6J("ngIf",1==e.loadingMore),t.xp6(1),t.Q6J("ngIf",0==e.loadingMore)}}function Oo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"a",33),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).redirectToClassList()}),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()}2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,3,"lang_homework_class_list_tutorial_header"),' "'),t.xp6(3),t.hij(" ",t.lcZ(5,5,"lang_homework_class_list_tutorial_center")," "),t.xp6(2),t.hij('" ',t.lcZ(7,7,"lang_homework_class_list_tutorial_end"),". "))}function Zo(n,r){if(1&n&&(t.YNc(0,To,12,11,"div",3),t.YNc(1,Oo,8,9,"ng-template",null,4,t.W1O)),2&n){const e=t.MAs(2),o=t.oxw();t.Q6J("ngIf",o.classObjs.length&&o.classObjs.length>1)("ngIfElse",e)}}let ct=(()=>{class n extends Z.Q{constructor(e,o,i,s,a){super(o),this.activeRoute=e,this.commonService=o,this.classroomService=i,this.homeworkService=s,this.browserStorageService=a,this.classObjs=[],this.nextPage="",this.loadingMore=!1,this.curPage=1,this.backLink="/admin/homework/classes/"+this.curPage}getAllClass(){this.subscriptions.add(this.classroomService.apiClassroomGetInfoForClassroomObjsGet(this.nextPage).subscribe(e=>{var o,i,s,a,l;if(1===e.success){this.classObjs=this.classObjs.concat(null!==(i=null===(o=e.data)||void 0===o?void 0:o.classObjs)&&void 0!==i?i:[]);for(let c=0;c<this.classObjs.length;c++)this.classObjs[c].isLoadingPage=!1;this.nextPage=null!==(a=null===(s=e.data)||void 0===s?void 0:s.nextPage)&&void 0!==a?a:"",this.successStatusObj()}else this.errorStatusObj(null!==(l=e.message)&&void 0!==l?l:"",!0);this.loadingMore=!1}))}getClassroomHomeworkInArchive(e){var o,i;e.isLoadingPage=!0,this.subscriptions.add(this.homeworkService.apiHomeworkGetObjsAndPermissionsByClassroomGet(null!==(o=e.id)&&void 0!==o?o:"0",null!==(i=e.nextPage)&&void 0!==i?i:"").subscribe(s=>{var a,l,c,d;if(1==s.success)for(let p=0;p<this.classObjs.length;p++)this.classObjs[p].id==e.id&&(this.classObjs[p].nextPage=null===(a=s.data)||void 0===a?void 0:a.nextPage,this.classObjs[p].homeworks=(null!==(l=this.classObjs[p].homeworks)&&void 0!==l?l:[]).concat(null!==(d=null===(c=s.data)||void 0===c?void 0:c.homeworkObjs)&&void 0!==d?d:[]));e.isLoadingPage=!1}))}redirectToClassList(){this.commonService.myNavigation("/admin/student/manage-class/0")}redirectHomework(e,o,i){this.commonService.myNavigation("/admin/homework/score-list/"+o+"/"+e+"/"+i)}goToStudentList(e){"share"!=e&&this.commonService.myNavigation("/admin/student/class-details/"+e)}redirectToStudentList(e){this.commonService.myNavigation("/admin/student/class-details/"+e)}checkPermissionObj(e){return e}seeMore(){this.loadingMore=!0,this.curPage=this.curPage+1,this.getAllClass()}ngOnInit(){(0,F.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{let e=Number(this.commonService.getMyParam(this.activeRoute,"page"));this.backLink="/admin/homework/classes/"+e,this.initStatusObj(),this.getAllClass()}),this.commonService.translateMetaData({title:"lang_cms_homework_class_list_title",description:"lang_cms_homework_class_list_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){this.browserStorageService.clearSimpleSessionStorage(),super.ngDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.gz),t.Y36(C.v),t.Y36(O.um),t.Y36(O.Lk),t.Y36(ht.z))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-classes"]],features:[t.qOj],decls:5,vars:6,consts:[[3,"headerTitle","back_link"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","container my-3 pb-80",4,"ngIf","ngIfElse"],["noData",""],[1,"container","my-3","pb-80"],[1,"row"],[1,"col-12","text-right"],[1,"btn","btn-success",3,"routerLink"],["class","col-md-4",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","mt-2"],["class","spinner-border text-secondary","role","status",4,"ngIf"],[4,"ngIf"],[1,"col-md-4"],[1,"classes-remake","height-default",3,"ngClass"],[1,"row","m-0","p-0","align-items-center"],[1,"col-8","text-left","text-ellipsis"],[1,"m-0","p-0","text-ellipsis","clickable",2,"vertical-align","middle",3,"matTooltip","click"],["class","ml-2 badge badge-info","style","vertical-align: middle; margin-bottom: 2px;",4,"ngIf"],[1,"col-4","text-right"],[1,"text-right","m-0","p-0",3,"routerLink"],["class","clickable center-pos",4,"ngIf"],[1,"ml-2","badge","badge-info",2,"vertical-align","middle","margin-bottom","2px"],[1,"row","text-center","block-null"],[1,"col-12"],[1,"p-0","m-0"],[4,"ngFor","ngForOf"],[3,"classId","name","dateCreated","deadLine","totalTakeTest","totalStudent","hashId","homeworkId","className","backLink","redirectId"],[1,"clickable","center-pos"],["role","status",1,"spinner-border","text-secondary"],["mat-button","",3,"matTooltip","disabled","click"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"],[1,"text-center","p-5"],[2,"color","#2361ae","font-weight","bold",3,"click"]],template:function(e,o){if(1&e&&(t._UZ(0,"header-backend",0),t.ALo(1,"mytranslate"),t.YNc(2,mo,1,0,"azt-loading-effect",1),t.YNc(3,Zo,3,2,"ng-template",null,2,t.W1O)),2&e){const i=t.MAs(4);t.Q6J("headerTitle",t.lcZ(1,4,"lang_homework_class_list_header_title"))("back_link","/admin/testbank/dashboard"),t.xp6(2),t.Q6J("ngIf",o.statusObj.loading&&0==o.loadingMore)("ngIfElse",i)}},directives:[B.p,w.O5,Y.Q,N.yS,w.sg,w.mk,z.gM,Ot,Q.lW,q.Hw],pipes:[T.bT,K.lO,T.Gf],styles:[".classes-remake[_ngcontent-%COMP%]{box-shadow:0 0 5px #00000014;border-radius:5px;background-color:#f3f3f3;padding:10px;margin-bottom:15px;margin-top:15px}.pb-0[_ngcontent-%COMP%]{padding-bottom:.5px!important}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.block-else[_ngcontent-%COMP%]{height:50vh;display:flex;flex-direction:column;justify-content:center;align-items:center}.center-pos[_ngcontent-%COMP%]{position:absolute;bottom:10px;left:50%;transform:translate(-50%)}.block-null[_ngcontent-%COMP%]{height:200px;align-items:center}.height-default[_ngcontent-%COMP%]{min-height:240px;position:relative}.block-else-text[_ngcontent-%COMP%]{font-size:19px;margin-bottom:25px}.text-ellipsis[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:70%;white-space:nowrap}@media screen and (max-width: 768px){.block-null[_ngcontent-%COMP%]{height:86px}.height-default[_ngcontent-%COMP%]{height:auto}}.btn-all-add[_ngcontent-%COMP%]{margin:auto;background-color:#fff}"]}),n})();var Ao=m(43767),So=m(59722),At=m(16384),yo=m(54209);function jo(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.lnq(" ",e.user_obj.id,".",e.user_obj.fullName,".Zalo:",e.user_obj.zaloId," ")}}function Mo(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"anonymousFullName"),t.ALo(3,"anonymousPhone"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.lnq(" ",e.user_obj.id,".",t.lcZ(2,3,e.user_obj),".",e.user_obj.phone?e.user_obj.phone:t.lcZ(3,5,"")," ")}}const Ho=function(n){return[n]};function No(n,r){if(1&n&&(t.TgZ(0,"div",1)(1,"p")(2,"a",2),t.ALo(3,"localize"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()(),t.TgZ(6,"p"),t._uU(7),t.ALo(8,"mytranslate"),t.YNc(9,jo,2,3,"span",3),t.YNc(10,Mo,4,7,"span",3),t.qZA(),t.TgZ(11,"p"),t._uU(12),t.ALo(13,"mytranslate"),t.TgZ(14,"a",4),t._uU(15,"https://facebook.com/groups/azota.vn"),t.qZA()(),t.TgZ(16,"p")(17,"a",5),t._UZ(18,"img",6),t.ALo(19,"convertCdn"),t.qZA(),t.TgZ(20,"a",7),t._UZ(21,"img",8),t.ALo(22,"convertCdn"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("routerLink",t.VKq(20,Ho,t.lcZ(3,8,"/student/dashboard/0"))),t.xp6(2),t.Oqu(t.lcZ(5,10,"lang_homework_utils_footer_go_to_student")),t.xp6(3),t.hij(" ",t.lcZ(8,12,"lang_homework_utils_footer_account"),": "),t.xp6(2),t.Q6J("ngIf",e.user_obj.zaloId),t.xp6(1),t.Q6J("ngIf",!e.user_obj.zaloId),t.xp6(2),t.hij("",t.lcZ(13,14,"lang_homework_utils_footer_join_group"),": "),t.xp6(6),t.Q6J("src",t.lcZ(19,16,"https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png"),t.LSH),t.xp6(3),t.Q6J("src",t.lcZ(22,18,"azota_assets/images/2928664.svg"),t.LSH)}}let Io=(()=>{class n extends Z.Q{constructor(e,o,i){super(o),this.baseApiService=e,this.commonService=o,this.globalService=i,this.user_obj={}}ngOnInit(){this.user_obj=this.baseApiService.getUserObj(),this.globalService.loginMessage.subscribe(e=>{this.user_obj=this.baseApiService.getUserObj()}),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(At._),t.Y36(C.v),t.Y36(yo.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["homework-backend-footer"]],features:[t.qOj],decls:1,vars:1,consts:[["class","text-center mt-3",4,"ngIf"],[1,"text-center","mt-3"],[3,"routerLink"],[4,"ngIf"],["href","https://www.facebook.com/groups/azota.vn","target","_blank"],["href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener"],["alt","Get it on Google Play","width","150px",1,"play-store-badge",3,"src"],["href","https://apps.apple.com/ua/app/azota/id1556025594","target","_blank","rel","noopener"],["alt","Download on the App Store","width","130px",1,"app-store-badge",3,"src"]],template:function(e,o){1&e&&t.YNc(0,No,23,22,"div",0),2&e&&t.Q6J("ngIf",0!=o.user_obj.id)},directives:[w.O5,N.yS],pipes:[K.lO,T.bT,T.ke,T.C5,T.BI],encapsulation:2}),n})();var Lo=m(63910);function Po(n,r){if(1&n&&(t.TgZ(0,"mat-option",15),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function qo(n,r){1&n&&t._UZ(0,"azt-loading-effect")}function Jo(n,r){1&n&&(t.TgZ(0,"div",18)(1,"span",19),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_homework_content_store_not_found_search"),"!"))}function Uo(n,r){1&n&&(t.TgZ(0,"span",33),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_content_store_free")))}function Eo(n,r){if(1&n&&(t.TgZ(0,"span",34),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.lcZ(2,1,e.amount)," Azo")}}function Do(n,r){1&n&&(t.TgZ(0,"span",35),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_content_store_bought")))}function Fo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",36),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(3).downloadFrontFileContent(i.id?i.id:0)}),t.TgZ(1,"mat-icon",37),t._uU(2,"save_alt"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_homework_content_store_download")," "))}function Qo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",38),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw(3);return s.openBuyContentDialog(i,s.userObj&&s.userObj.amount?s.userObj.amount:0)}),t.TgZ(1,"mat-icon",37),t._uU(2,"shopping_cart"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_buttom_buy")," "))}function zo(n,r){if(1&n&&(t.TgZ(0,"div",22)(1,"div",23),t._UZ(2,"img",24),t.ALo(3,"mycdn"),t.TgZ(4,"div",25)(5,"p",26),t._uU(6),t.qZA(),t.TgZ(7,"div",27),t.YNc(8,Uo,3,3,"span",28),t.YNc(9,Eo,3,3,"span",29),t.YNc(10,Do,3,3,"span",30),t.YNc(11,Fo,5,3,"a",31),t.YNc(12,Qo,5,3,"a",32),t.qZA()()()()),2&n){const e=r.$implicit;t.xp6(2),t.s9C("src",t.lcZ(3,7,e.thumb),t.LSH),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Q6J("ngIf",0==e.amount),t.xp6(1),t.Q6J("ngIf",0!=e.amount&&-1!=e.amount),t.xp6(1),t.Q6J("ngIf",-1==e.amount),t.xp6(1),t.Q6J("ngIf",0==e.amount||-1==e.amount),t.xp6(1),t.Q6J("ngIf",(e&&e.amount?e.amount:0)>0)}}function Yo(n,r){if(1&n&&(t.TgZ(0,"div",20),t.YNc(1,zo,13,9,"div",21),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.objs)}}function Bo(n,r){if(1&n&&(t.YNc(0,Jo,4,3,"div",16),t.YNc(1,Yo,2,1,"ng-template",null,17,t.W1O)),2&n){const e=t.MAs(2),o=t.oxw();t.Q6J("ngIf",o.isNullData)("ngIfElse",e)}}function Ro(n,r){if(1&n&&(t.TgZ(0,"div",12)(1,"p",13),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"p")(5,"span",5),t._uU(6),t.qZA()(),t.TgZ(7,"span",14),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",15),t._uU(11),t.ALo(12,"number"),t.qZA(),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,5,"lang_homework_content_store_definitely_want_to_buy")),t.xp6(4),t.hij(" ",e.content.name,""),t.xp6(2),t.hij(" ",t.lcZ(9,7,"lang_homework_content_store_with_price")," "),t.xp6(3),t.hij("",t.lcZ(12,9,e.content.amount)," Azo"),t.xp6(2),t.hij(" ",t.lcZ(14,11,"lang_homework_content_store_not"),"?")}}function Wo(n,r){if(1&n&&(t.TgZ(0,"div",12)(1,"p",13),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"p")(5,"span",5),t._uU(6),t.qZA()(),t.TgZ(7,"span",14),t._uU(8),t.ALo(9,"mytranslate"),t.TgZ(10,"span",15),t._uU(11),t.ALo(12,"number"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(2),t.Oqu(t.lcZ(3,4,"lang_homework_content_store_not_enough_azo")),t.xp6(4),t.hij(" ",e.content.name,""),t.xp6(2),t.hij(" ",t.lcZ(9,6,"lang_homework_content_store_with_price")," "),t.xp6(3),t.hij("",t.lcZ(12,8,e.content.amount)," Azo")}}function Go(n,r){1&n&&(t.TgZ(0,"div",4)(1,"span",16),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.hij(" ",t.lcZ(3,1,"lang_homework_content_store_please"),"!"))}function $o(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){return t.CHM(e),t.oxw().buyContent()}),t.TgZ(1,"mat-icon",18),t._uU(2,"shopping_cart"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_buttom_buy")," "))}function Vo(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",17),t.NdJ("click",function(){return t.CHM(e),t.oxw().gotoPack()}),t.TgZ(1,"mat-icon",18),t._uU(2,"account_balance_wallet"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()}2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"lang_homework_content_store_recharge")," "))}let Ko=(()=>{class n extends Z.Q{constructor(e,o,i,s,a,l){super(o),this.activeRoute=e,this.commonService=o,this.authService=i,this.frontFileContentService=s,this.formBuilder=a,this.dialog=l,this.options={path:"https://assets8.lottiefiles.com/packages/lf20_eebdoe5f.json"},this.isNullData=!1,this.form=new _.cw({}),this.subscriptions=new D.w,this.objs=[],this.categories=[],this.userObj={},this.selectedValue=""}getData(){this.initStatusObj(),this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet().subscribe(e=>{var o,i,s;1==e.success?(this.objs=null!==(i=null===(o=e.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:new Array,this.successStatusObj()):this.errorStatusObj(null!==(s=e.message)&&void 0!==s?s:"")}))}getInfo(){this.initStatusObj(),this.subscriptions.add(this.authService.apiAuthInfoGet().subscribe(e=>{var o,i;1==e.success?(this.userObj=null!==(o=e.data)&&void 0!==o?o:{},this.successStatusObj()):this.errorStatusObj(null!==(i=e.message)&&void 0!==i?i:"")}))}getCategories(){this.initStatusObj(),this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetCategoriesObjsGet().subscribe(e=>{var o,i,s;1==e.success?(this.categories=null!==(i=null===(o=e.data)||void 0===o?void 0:o.objs)&&void 0!==i?i:new Array,this.successStatusObj()):this.errorStatusObj(null!==(s=e.message)&&void 0!==s?s:"")}))}openBuyContentDialog(e,o){this.openDialog(!(e.amount&&e.amount>o),e,o)}openDialog(e,o,i){this.dialog.open(Xo,{width:"380px",panelClass:"buyContentDialogBox",data:{status:e,content:o,userAmount:i}}).afterClosed().subscribe(a=>{})}selectValue(e){this.initStatusObj(),this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet(void 0,e).subscribe(o=>{var i,s,a,l,c;1==o.success?(null===(i=o.data)||void 0===i?void 0:i.objs)&&(null===(s=o.data)||void 0===s?void 0:s.objs.length)>0?(this.isNullData=!1,this.objs=null!==(l=null===(a=o.data)||void 0===a?void 0:a.objs)&&void 0!==l?l:new Array,this.successStatusObj()):(this.isNullData=!0,this.stopStatusObj()):this.errorStatusObj(null!==(c=o.message)&&void 0!==c?c:"")}))}onSearch(){var e=this.commonService.getFormObj(this.form);this.initStatusObj(),""==e.searchContent?(this.isNullData=!1,this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet().subscribe(o=>{var i,s,a;1==o.success?(this.objs=null!==(s=null===(i=o.data)||void 0===i?void 0:i.objs)&&void 0!==s?s:new Array,this.successStatusObj()):this.errorStatusObj(null!==(a=o.message)&&void 0!==a?a:"")}))):this.subscriptions.add(this.frontFileContentService.apiFrontFileContentGetObjsGet(e.searchContent).subscribe(o=>{var i,s,a,l,c;1==o.success?((null===(i=o.data)||void 0===i?void 0:i.objs)&&0==(null===(s=o.data)||void 0===s?void 0:s.objs.length)?this.isNullData=!0:this.objs=null!==(l=null===(a=o.data)||void 0===a?void 0:a.objs)&&void 0!==l?l:new Array,this.successStatusObj()):this.errorStatusObj(null!==(c=o.message)&&void 0!==c?c:"")}))}downloadFrontFileContent(e){this.frontFileContentService.apiFrontFileContentGetFileLinkGet(e).subscribe(o=>{var i,s;if(1==o.success){var a=document.createElement("a");document.body.appendChild(a),a.href=null!==(s=null===(i=o.data)||void 0===i?void 0:i.link)&&void 0!==s?s:"",a.click()}else this.showErrorSnack("T\u1ea3i v\u1ec1 kh\xf4ng th\xe0nh c\xf4ng")})}ngOnInit(){(0,F.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([e,o])=>{this.getData(),this.getInfo(),this.getCategories()}),this.form=this.formBuilder.group({searchContent:new _.NI("",_.kI.required)}),this.commonService.translateMetaData({title:"lang_cms_homework_content_store_title",description:"lang_cms_homework_content_store_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.gz),t.Y36(C.v),t.Y36(O.e8),t.Y36(Ao.c),t.Y36(_.qu),t.Y36(H.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-content-store"]],features:[t.qOj],decls:22,vars:14,consts:[[3,"headerTitle","back_link"],[1,"container-fluid","component-wrap","W1200","m-auto","mt-3","pb-mb-80"],[3,"formGroup"],[1,"row","justify-content-between"],[1,"col-md-8","mt-2"],[1,"search-bar","form-group"],[1,"input-group-append"],["type","text","formControlName","searchContent",1,"form-control",3,"placeholder","keyup.enter"],["id","basic-addon2",1,"input-group-text",3,"click"],[1,"col-md-4","content-store-select"],["appearance","fill"],["name","category",3,"placeholder","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["doneLoading",""],[3,"value"],["class","text-center mt-3 mb-3",4,"ngIf","ngIfElse"],["HasData",""],[1,"text-center","mt-3","mb-3"],[1,"h3"],[1,"row","mt-2"],["class","col-12 col-sm-4 col-md-4 col-lg-4 mb-2",4,"ngFor","ngForOf"],[1,"col-12","col-sm-4","col-md-4","col-lg-4","mb-2"],[1,"card"],["alt","thumbnail",1,"card-img-top",3,"src"],[1,"card-body"],[1,"truncate","card-text"],[1,"d-flex","justify-content-between","actionZone"],["class","azo-price text-warning",4,"ngIf"],["class","azo-price text-danger",4,"ngIf"],["class","azo-price ",4,"ngIf"],["class","actionBtn clickable",3,"click",4,"ngIf"],["class","actionBtn","style","cursor: pointer;",3,"click",4,"ngIf"],[1,"azo-price","text-warning"],[1,"azo-price","text-danger"],[1,"azo-price"],[1,"actionBtn","clickable",3,"click"],[2,"vertical-align","sub"],[1,"actionBtn",2,"cursor","pointer",3,"click"]],template:function(e,o){if(1&e&&(t._UZ(0,"header-backend",0),t.ALo(1,"mytranslate"),t.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"input",7),t.NdJ("keyup.enter",function(){return o.onSearch()}),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"button",8),t.NdJ("click",function(){return o.onSearch()}),t.TgZ(11,"mat-icon"),t._uU(12,"search"),t.qZA()()()()(),t.TgZ(13,"div",9)(14,"mat-form-field",10)(15,"mat-select",11),t.NdJ("selectionChange",function(s){return o.selectValue(s.value)}),t.ALo(16,"mytranslate"),t.YNc(17,Po,2,2,"mat-option",12),t.qZA()()()()(),t.YNc(18,qo,1,0,"azt-loading-effect",13),t.YNc(19,Bo,3,2,"ng-template",null,14,t.W1O),t._UZ(21,"homework-backend-footer"),t.qZA()),2&e){const i=t.MAs(20);t.Q6J("headerTitle",t.lcZ(1,8,"lang_homework_content_store_content_bank"))("back_link","/admin/homework/classes/1"),t.xp6(3),t.Q6J("formGroup",o.form),t.xp6(5),t.s9C("placeholder",t.lcZ(9,10,"lang_homework_content_store_search")),t.xp6(7),t.s9C("placeholder",t.lcZ(16,12,"lang_homework_content_store_all")),t.xp6(2),t.Q6J("ngForOf",o.categories),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",i)}},directives:[B.p,_._Y,_.JL,_.sg,_.Fj,_.JJ,_.u,q.Hw,lt.KE,So.gD,w.sg,wt.ey,w.O5,Y.Q,Io],pipes:[T.bT,T.GT,w.JJ],styles:[".dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;border-radius:5px}.border-test[_ngcontent-%COMP%]{border:1px solid red;min-height:50px}.azo-price[_ngcontent-%COMP%]{padding-top:5px;font-weight:500;font-size:1.2rem}.content-store-select[_ngcontent-%COMP%]{margin-top:5px}.card-text[_ngcontent-%COMP%]{display:block!important;max-width:245px!important}.content-header[_ngcontent-%COMP%]{background:inherit;background-color:#0089a7;padding:20px 0}.user_amount[_ngcontent-%COMP%]{background:inherit;background-color:#009cbe;border:none;border-radius:5px;padding:10px;box-shadow:none}.user_amount[_ngcontent-%COMP%]:hover{text-decoration:none}.mat-card-avatar[_ngcontent-%COMP%]{height:50px;width:50px;border-radius:50%;flex-shrink:0;object-fit:cover}@media (max-width: 992px){.dashboard__header[_ngcontent-%COMP%]{background-color:#0089a7;margin-top:-15px;margin-left:-15px;margin-right:-15px;border-radius:0}}@media (max-width: 768px){.azo-price[_ngcontent-%COMP%]{padding-top:5px;font-weight:400;font-size:14px;text-align:center;position:absolute;left:20px}.actionZone[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center!important}.card-text[_ngcontent-%COMP%]{display:block!important;max-width:120px}.header-col-center[_ngcontent-%COMP%]{text-align:center!important;display:block!important}.header-col-center[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important;margin-bottom:10px!important;text-align:center!important;display:inline-flex!important}.user_amount[_ngcontent-%COMP%]{margin-left:0!important;margin-bottom:10px!important}.content-header[_ngcontent-%COMP%]{padding:20px 0 0}}"]}),n})(),Xo=(()=>{class n extends Z.Q{constructor(e,o,i,s){super(i),this.dialogRef=e,this.paymentService=o,this.commonService=i,this.data=s,this.subscriptions=new D.w,this.content={}}getData(){this.initStatusObj(),this.data.content?(this.content=this.data.content,this.successStatusObj()):this.errorStatusObj("Kh\xf4ng t\u1ea3i \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u")}buyContent(){this.initStatusObj(),this.subscriptions.add(this.paymentService.apiPaymentBuyFileContentByAzoPost(this.content.id).subscribe(e=>{var o;1==e.success?(this.successStatusObj(),this.showSuccessSnack("B\u1ea1n \u0111\xe3 mua th\xe0nh c\xf4ng!"),this.onNoClick(),setTimeout(()=>{document.location.reload()},3e3)):(this.errorStatusObj(null!==(o=e.message)&&void 0!==o?o:"",!0),this.showErrorSnack("Thanh to\xe1n kh\xf4ng th\xe0nh c\xf4ng!"),this.onNoClick(),setTimeout(()=>{document.location.reload()},3e3))}))}gotoPack(){this.onNoClick(),this.commonService.myNavigation("/payment/azo-pack")}ngOnInit(){this.getData(),super.ngOnInit()}onNoClick(){this.dialogRef.close()}ngOnDestroy(){this.subscriptions.unsubscribe(),super.ngDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.so),t.Y36(Lo.t),t.Y36(C.v),t.Y36(H.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["buy-content-dialog"]],features:[t.qOj],decls:21,vars:16,consts:[[3,"hidden"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],[1,"text-center"],[1,"h5"],["class","text-left","style","border: 1px dashed red; padding: 10px 5px; border-radius: 5px;",4,"ngIf"],["class","text-center",4,"ngIf"],["mat-dialog-actions","",1,"float-right"],[1,"azt-block-button"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-secondary",2,"margin-left","15px",3,"click"],[1,"text-left",2,"border","1px dashed red","padding","10px 5px","border-radius","5px"],[1,"h5","text-danger"],[1,"h5","mt-1"],[1,"text-danger"],[1,"h6","mt-2","mb-1"],[1,"btn","btn-primary",3,"click"],[2,"font-size","23px","vertical-align","sub"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"..."),t.qZA()()()(),t.TgZ(5,"div",0)(6,"div",4)(7,"p",5),t._uU(8),t.ALo(9,"mytranslate"),t.ALo(10,"number"),t.qZA()(),t.YNc(11,Ro,15,13,"div",6),t.YNc(12,Wo,13,10,"div",6),t.YNc(13,Go,4,3,"div",7),t.qZA(),t.TgZ(14,"div",8)(15,"div",9),t.YNc(16,$o,5,3,"button",10),t.YNc(17,Vo,5,3,"button",10),t.qZA(),t.TgZ(18,"button",11),t.NdJ("click",function(){return o.onNoClick()}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA()()),2&e&&(t.Q6J("hidden",!o.statusObj.loading),t.xp6(5),t.Q6J("hidden",o.statusObj.loading),t.xp6(3),t.AsE("",t.lcZ(9,10,"lang_homework_content_store_having")," ",t.lcZ(10,12,o.data.userAmount)," Azo"),t.xp6(3),t.Q6J("ngIf",o.data.status),t.xp6(1),t.Q6J("ngIf",!o.data.status),t.xp6(1),t.Q6J("ngIf",!o.data.status),t.xp6(3),t.Q6J("ngIf",o.data.status),t.xp6(1),t.Q6J("ngIf",!o.data.status),t.xp6(2),t.Oqu(t.lcZ(20,14,"lang_buttom_cancel")))},directives:[w.O5,H.H8,q.Hw],pipes:[T.bT,w.JJ],encapsulation:2}),n})();function tn(n,r){if(1&n&&(t.TgZ(0,"span",14),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.className,", ")}}function en(n,r){if(1&n&&(t.TgZ(0,"span",14),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.className," ")}}function on(n,r){if(1&n&&(t.TgZ(0,"span",7),t.YNc(1,tn,2,1,"span",13),t.YNc(2,en,2,1,"span",13),t.qZA()),2&n){const e=r.index,o=t.oxw();t.xp6(1),t.Q6J("ngIf",e<o.listHomework.length-1),t.xp6(1),t.Q6J("ngIf",e==o.listHomework.length-1)}}function nn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",17)(1,"p",18),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",19)(5,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).showCopySuccess()}),t.TgZ(6,"span",21)(7,"mat-icon",22),t._uU(8,"file_copy"),t.qZA(),t._uU(9," \xa0Copy link "),t.qZA()()()()}if(2&n){const e=r.$implicit,o=t.oxw(2);t.xp6(1),t.s9C("matTooltip",e.className),t.xp6(1),t.AsE("",t.lcZ(3,4,"lang_homework_create_homework_success_class")," : ",e.className,""),t.xp6(3),t.Q6J("cdkCopyToClipboard",o.copylinkToClipboard(e.hashId?e.hashId:""))}}function sn(n,r){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,nn,10,6,"div",16),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listHomework)}}function rn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",24)(1,"p",25),t._uU(2),t.ALo(3,"mytranslate"),t.qZA(),t.TgZ(4,"div",19)(5,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).showCopySuccess()}),t.TgZ(6,"span",21)(7,"mat-icon",22),t._uU(8,"file_copy"),t.qZA(),t._uU(9," \xa0Copy link "),t.qZA()()()()}if(2&n){const e=r.$implicit,o=t.oxw(2);t.xp6(1),t.s9C("matTooltip",e.className),t.xp6(1),t.AsE("",t.lcZ(3,4,"lang_homework_create_homework_success_class")," : ",e.className,""),t.xp6(3),t.Q6J("cdkCopyToClipboard",o.copylinkToClipboard(e.hashId?e.hashId:""))}}function an(n,r){if(1&n&&(t.TgZ(0,"div",15),t.YNc(1,rn,10,6,"div",23),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.listHomework)}}let ln=(()=>{class n extends Z.Q{constructor(e,o,i){super(i),this.activeRoute=e,this.homeworkService=o,this.commonService=i,this.subscriptions=new D.w,this.menuObjs=[],this.nameExam="",this.lstHashIds=[],this.listHomework=[]}getListHomeWork(e){this.initStatusObj(),this.subscriptions.add(this.homeworkService.apiHomeworkGetSuccessHomeworkObjsPost({homeworkHashIds:e}).subscribe(i=>{var s,a,l,c;1==i.success?(this.listHomework=null!==(a=null===(s=i.data)||void 0===s?void 0:s.objs)&&void 0!==a?a:new Array,this.nameExam=null!==(l=this.listHomework[0].name)&&void 0!==l?l:"",this.successStatusObj()):this.errorStatusObj(null!==(c=i.message)&&void 0!==c?c:"",!0)}))}callbackMenuEvent(e){}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng \u0111\u01b0\u1eddng d\u1eabn n\u1ed9p b\xe0i","")}copylinkToClipboard(e){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${e}`}redirectClasses(){this.commonService.myNavigation("/admin/homework/classes/1")}ngOnInit(){(0,F.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var e;let o=null!==(e=this.commonService.getMyParam(this.activeRoute,"hash_ids"))&&void 0!==e?e:"";this.lstHashIds=this.commonService.parseJson(o),this.getListHomeWork(this.lstHashIds)}),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.gz),t.Y36(O.Lk),t.Y36(C.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-homework-success"]],features:[t.qOj],decls:29,vars:25,consts:[[3,"menu_objs","headerTitle","back_link","MenuEvent"],[1,"container","py-5"],[1,"row","p-0","m-0"],[1,"col-md-2","p-0","m-0"],[1,"col-md-8","p-0","m-0"],[1,"box--create"],[1,"text-center","mx-auto"],[1,"font-weight-bold"],["class","font-weight-bold",4,"ngFor","ngForOf"],["class","row p-0 m-0 pt-3",4,"ngIf"],[1,"row","p-0","m-0","pt-5"],[1,"col-12","text-center"],[1,"clickable","text--blue",3,"click"],["style","word-break: break-word;",4,"ngIf"],[2,"word-break","break-word"],[1,"row","p-0","m-0","pt-3"],["class","col-md-4 text-center pb-3 d-flex flex-col",4,"ngFor","ngForOf"],[1,"col-md-4","text-center","pb-3","d-flex","flex-col"],[1,"text--over","m-0","pb-2",3,"matTooltip"],[1,"width-100"],[1,"button--copy",3,"cdkCopyToClipboard","click"],[1,"d-flex",2,"vertical-align","middle","align-items","center"],[2,"font-size","24px","color","#3c8dbc"],["class","col-md-12 text-center pb-3 d-flex flex-col",4,"ngFor","ngForOf"],[1,"col-md-12","text-center","pb-3","d-flex","flex-col"],[1,"m-0","pb-2",3,"matTooltip"]],template:function(e,o){1&e&&(t.TgZ(0,"header-backend",0),t.NdJ("MenuEvent",function(s){return o.callbackMenuEvent(s)}),t.ALo(1,"mytranslate"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2),t._UZ(4,"div",3),t.TgZ(5,"div",4)(6,"div",5)(7,"div",6)(8,"h4",7),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"p"),t._uU(12),t.ALo(13,"mytranslate"),t.TgZ(14,"span",7),t._uU(15),t.qZA(),t._uU(16),t.ALo(17,"mytranslate"),t.YNc(18,on,3,2,"span",8),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.YNc(21,sn,2,1,"div",9),t.YNc(22,an,2,1,"div",9),t.TgZ(23,"div",10)(24,"div",11)(25,"div",12),t.NdJ("click",function(){return o.redirectClasses()}),t._uU(26),t.ALo(27,"mytranslate"),t.qZA()()()()(),t._UZ(28,"div",3),t.qZA()()),2&e&&(t.Q6J("menu_objs",o.menuObjs)("headerTitle",t.lcZ(1,13,"lang_homework_create_homework_success_add_homework_success"))("back_link","/admin/homework/classes/1"),t.xp6(9),t.AsE("",t.lcZ(10,15,"lang_homework_create_homework_success_create_success")," ",o.nameExam," "),t.xp6(3),t.hij(" ",t.lcZ(13,17,"lang_homework_create_homework_success_teacher_create_success")," "),t.xp6(3),t.hij("",o.nameExam," "),t.xp6(1),t.hij("",t.lcZ(17,19,"lang_homework_create_homework_success_assigned_class")," "),t.xp6(2),t.Q6J("ngForOf",o.listHomework),t.xp6(1),t.hij(". ",t.lcZ(20,21,"lang_homework_create_homework_success_tutorial"),". "),t.xp6(2),t.Q6J("ngIf",(o.listHomework?o.listHomework.length:0)>1),t.xp6(1),t.Q6J("ngIf",1==(null==o.listHomework?null:o.listHomework.length)),t.xp6(4),t.Oqu(t.lcZ(27,23,"lang_homework_create_homework_success_back_list_homework")))},directives:[B.p,w.sg,w.O5,z.gM,nt.i3,q.Hw],pipes:[T.bT],styles:[".box--create[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ececec;border-radius:5px;padding:20px}.button--copy[_ngcontent-%COMP%]{background-color:#f7f7f7;border-width:1px;border-style:solid;border-color:#e8e8e8;border-radius:5px;cursor:pointer;padding:8px 18px;font-size:13px;text-transform:capitalize;color:#3c8dbc;align-items:center;vertical-align:middle}.box-class[_ngcontent-%COMP%]{flex-direction:column}.flex-col[_ngcontent-%COMP%]{flex-direction:column;justify-content:center}.text--blue[_ngcontent-%COMP%]{color:#3c8dbc}.text--over[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:99%;white-space:nowrap}@media screen and (max-width: 767px){.width-100[_ngcontent-%COMP%]{width:100%;max-width:100%}.button--copy[_ngcontent-%COMP%]{width:100%}}"]}),n})();var St=m(94327),yt=m(25650),cn=m(21801),_n=m(16031),dn=m(20814),jt=m(15043),_t=m(37104),mn=m(1643);function pn(n,r){1&n&&t._UZ(0,"azt-loading-effect")}function hn(n,r){1&n&&t._UZ(0,"span",31)}function un(n,r){if(1&n&&(t.TgZ(0,"div",11),t.YNc(1,hn,1,0,"span",30),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.countDonePdf<((null==e.curExportArr?null:e.curExportArr.length)||-1)),t.xp6(1),t.lnq(" ",t.lcZ(3,4,"lang_homework_export_homework_request"),"",e.countDonePdf," / ",null==e.curExportArr?null:e.curExportArr.length," ")}}function gn(n,r){if(1&n&&(t.TgZ(0,"div",11)(1,"mat-icon",32),t._uU(2," check_circle "),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(3),t.lnq(" ",t.lcZ(4,3,"lang_homework_export_homework_complete")," ",e.countDonePdf," / ",(null==e.curExportArr?null:e.curExportArr.length)||0," ")}}const fn=function(){return{fontFamily:"font_chu_dam"}};function xn(n,r){if(1&n&&(t.TgZ(0,"div",33)(1,"span",34),t._UZ(2,"azt-check-mark",35),t.qZA(),t.TgZ(3,"span",28),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()),2&n){const e=t.oxw(4);t.Q6J("ngClass",e.curAnswer.resultParse.hideMark?"":"display")("hidden",e.curAnswer.resultParse.hideMark),t.xp6(1),t.Q6J("ngStyle",t.DdM(7,fn)),t.xp6(1),t.Q6J("mark",e.curAnswer.resultParse.point),t.xp6(2),t.Oqu(t.lcZ(5,5,"lang_point"))}}const wn=function(n){return{"font-family":n}};function kn(n,r){if(1&n&&(t._UZ(0,"p",36),t.ALo(1,"parserJson"),t.ALo(2,"parserJson")),2&n){const e=t.oxw(4);let o;t.Q6J("ngStyle",t.VKq(6,wn,null!=(o=t.lcZ(1,2,null==e.curAnswer.resultParse?null:e.curAnswer.resultParse.staticTextConfig))&&o.txtCommentFont?null==(o=t.lcZ(2,4,null==e.curAnswer.resultParse?null:e.curAnswer.resultParse.staticTextConfig))?null:o.txtCommentFont:"font_chu_dep"))("innerHtml",null==e.curAnswer.resultParse?null:e.curAnswer.resultParse.comment,t.oJD)}}function vn(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",39),t.BQk()),2&n){const e=r.$implicit,o=r.index,i=t.oxw(5);t.xp6(1),t.s9C("id","imgEmoji_"+o),t.s9C("src",i.linkCdnGitHub+e,t.LSH)}}function bn(n,r){if(1&n&&(t.TgZ(0,"div",37),t.YNc(1,vn,2,2,"ng-container",38),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",null==e.curAnswer.resultParse?null:e.curAnswer.resultParse.commentEmoji)}}function Cn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7)(3,"div",8)(4,"div",9)(5,"h1",10),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"div",11),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"div",11)(12,"button",12),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(3);return i.openDialog(i.submitedStudents)}),t._uU(13),t.ALo(14,"mytranslate"),t.qZA()(),t.YNc(15,un,4,6,"div",13),t.YNc(16,gn,5,5,"div",13),t.TgZ(17,"div",14)(18,"div",15)(19,"h2",16)(20,"span"),t._uU(21),t.ALo(22,"mytranslate"),t.qZA()(),t.TgZ(23,"div",17)(24,"div",18)(25,"h3",19),t._uU(26),t.ALo(27,"mytranslate"),t.qZA(),t.TgZ(28,"h3",19),t._uU(29),t.ALo(30,"mytranslate"),t.qZA()(),t.TgZ(31,"div",20)(32,"h3",19),t._uU(33),t.ALo(34,"mytranslate"),t.qZA()()(),t.TgZ(35,"div",21)(36,"div",22),t.YNc(37,xn,6,8,"div",23),t.TgZ(38,"div",24)(39,"div",25),t.YNc(40,kn,3,8,"p",26),t.YNc(41,bn,2,1,"div",27),t.qZA(),t.TgZ(42,"span",28),t._uU(43),t.ALo(44,"mytranslate"),t.qZA()()()()(),t._UZ(45,"azt-export-essay-template",29),t.ALo(46,"mytranslate"),t.qZA()()()()()()}if(2&n){const e=t.oxw(3);t.xp6(6),t.Oqu(t.lcZ(7,21,"lang_homework_export_homework_export_pdf")),t.xp6(3),t.AsE(" ",t.lcZ(10,23,"lang_homework_export_homework_number_student_dotted"),": ",e.submitedStudents.length," "),t.xp6(3),t.Q6J("disabled",e.loadingExportBtn),t.xp6(1),t.hij(" ",t.lcZ(14,25,"lang_homework_export_homework_continue")," "),t.xp6(2),t.Q6J("ngIf",e.isProcessingPdf),t.xp6(1),t.Q6J("ngIf",((null==e.curExportArr?null:e.curExportArr.length)||-1)>0&&e.countDonePdf===((null==e.curExportArr?null:e.curExportArr.length)||0)),t.xp6(5),t.AsE("",t.lcZ(22,27,"lang_first_and_last_name"),": ",null==e.curAnswer?null:e.curAnswer.fullName,""),t.xp6(5),t.AsE("",t.lcZ(27,29,"lang_homework_export_homework_class"),": ",null==e.data.classroomObj?null:e.data.classroomObj.name,""),t.xp6(3),t.AsE("",t.lcZ(30,31,"lang_homework_export_homework_home_work"),": ",null==e.data.homeworkObj?null:e.data.homeworkObj.name,""),t.xp6(4),t.AsE("",t.lcZ(34,33,"lang_homework_export_homework_code"),": ",null==e.curAnswer?null:e.curAnswer.id,""),t.xp6(4),t.Q6J("ngIf",e.curAnswer.resultParse),t.xp6(3),t.Q6J("ngIf",null==e.curAnswer.resultParse?null:e.curAnswer.resultParse.comment),t.xp6(1),t.Q6J("ngIf",null==e.curAnswer.resultParse?null:e.curAnswer.resultParse.commentEmoji),t.xp6(2),t.Oqu(t.lcZ(44,35,"lang_homework_export_homework_comment_of_teacher")),t.xp6(2),t.Q6J("title",t.lcZ(46,37,"lang_homework_export_homework_assignment"))("result",null==e.curAnswer?null:e.curAnswer.resultParse)}}function Tn(n,r){1&n&&(t.TgZ(0,"div",40)(1,"div",41),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_export_homework_request_marking")))}function On(n,r){if(1&n&&(t.YNc(0,Cn,47,39,"div",3),t.YNc(1,Tn,4,3,"ng-template",null,4,t.W1O)),2&n){const e=t.MAs(2),o=t.oxw(2);t.Q6J("ngIf",o.submitedStudents.length>0)("ngIfElse",e)}}function Zn(n,r){if(1&n&&(t.ynx(0),t.YNc(1,pn,1,0,"azt-loading-effect",0),t.YNc(2,On,3,2,"ng-template",null,2,t.W1O),t.BQk()),2&n){const e=t.MAs(3),o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.statusObj.loading)("ngIfElse",e)}}function An(n,r){1&n&&(t.TgZ(0,"div",42),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_export_homework_request_browser")))}function Sn(n,r){if(1&n&&(t.TgZ(0,"mat-checkbox",10),t._uU(1),t.qZA()),2&n){const e=r.index,o=t.oxw();t.Q6J("checked",o.form.value.exports[e])("formControlName",e),t.xp6(1),t.AsE(" ",e+1,". ",o.data.resultsArr[e].fullName," ")}}const yn=function(n){return{selects:n}};let jn=(()=>{class n extends Z.Q{constructor(e,o,i,s,a,l,c,d,p,h){super(s),this.cdr=e,this.answerService=o,this.dialog=i,this.commonService=s,this.activeRoute=a,this.exportPdfService=l,this.newPdfExportService=c,this.exportPdfUtilsService=d,this.zipdataService=p,this.cdnService=h,this.folderName="results",this.homeworkHashId="",this.countDonePdf=0,this.isProcessingPdf=!1,this.data={},this.curAnswer={},this.submitedStudents=[],this.myZip=new yt,this.linkCdnGitHub="",this.loadingExportBtn=!1}get class_id(){var e;return null!==(e=this.activeRoute.snapshot.paramMap.get("class_id"))&&void 0!==e?e:""}get homework_id(){var e;return null!==(e=this.activeRoute.snapshot.paramMap.get("id"))&&void 0!==e?e:""}askBeforeCloseWindow(e){return!this.isProcessingPdf||(e.returnValue=!1)}openDialog(e){this.dialog.open(Mn,{width:"1100px",data:{resultsArr:e}}).afterClosed().subscribe(i=>{if(i){const s=[];for(let a=0;a<i.selects.length;a++)i.selects[a]&&s.push(e[a]);this.zipAll(s)}})}finalSaveAll(){this.myZip.generateAsync({type:"blob"}).then(e=>{var o,i,s,a;this.countDonePdf++;let l=this.commonService.createFileNameExportFile([null!==(i=null===(o=this.data.classroomObj)||void 0===o?void 0:o.name)&&void 0!==i?i:"",null!==(a=null===(s=this.data.homeworkObj)||void 0===s?void 0:s.name)&&void 0!==a?a:""])+"_homework_result.zip";(0,St.saveAs)(e,l),console.log("after save"),this.isProcessingPdf=!1,this.cdr.detectChanges()},e=>{console.log(e)})}zipAll(e){var o,i,s,a,l,c,d,p;return(0,xt.mG)(this,void 0,void 0,function*(){this.isProcessingPdf=!0,this.loadingExportBtn=!0,document.body.style.overflow="hidden",this.countDonePdf=0,this.curExportArr=e,this.myZip=new yt;for(const u of e){const f=yield this.answerService.apiAnswerGetObjGet(this.homeworkHashId,null===(o=u.answer)||void 0===o?void 0:o.id).toPromise();if(1==f.success){this.zipdataService.convertSubmittedAnswersObj(null===(i=f.data)||void 0===i?void 0:i.answerObj);var h=this.castObj(null===(s=f.data)||void 0===s?void 0:s.answerObj);this.curAnswer=null!=h?h:{},this.curAnswer.fullName=null!==(l=this.commonService.convertVietnameseToEnglish(null!==(a=u.fullName)&&void 0!==a?a:""))&&void 0!==l?l:"",this.curAnswer.resultParse=null!==(d=this.commonService.castJsonToObj(null!==(c=this.curAnswer.result)&&void 0!==c?c:""))&&void 0!==d?d:void 0,this.curAnswer.resultParse&&(this.curAnswer.resultParse=yield this.exportPdfService.processEssayResultToBase64(this.curAnswer.resultParse),this.linkCdnGitHub="");try{yield this.exportPdfUtilsService.asyncTimeout(3e3);const x=yield this.newPdfExportService.homeworkToPdf();this.myZip.file(`${this.folderName}/${this.commonService.convertVietnameseToEnglish(this.curAnswer.fullName)}_${this.curAnswer.id}.pdf`,x)}catch(x){console.log(x)}this.countDonePdf<e.length-1&&this.countDonePdf++}else this.errorStatusObj(null!==(p=f.message)&&void 0!==p?p:"",!0)}this.finalSaveAll(),document.body.style.overflow="auto",setTimeout(()=>{this.loadingExportBtn=!1},2e3)})}getData(){this.class_id&&this.homework_id?this.answerService.apiAnswerGetStudentsHomeworkGet(parseInt(this.homework_id,10),this.homeworkHashId,parseInt(this.class_id,10)).subscribe(e=>{var o,i,s,a,l,c,d,p;1==e.success?(this.zipdataService.convertStudentsHomeworkObj(null===(o=e.data)||void 0===o?void 0:o.studentObjs),this.data=null!==(i=e.data)&&void 0!==i?i:{},this.submitedStudents=e.data&&Array.isArray(null===(s=e.data)||void 0===s?void 0:s.studentObjs)?null===(a=e.data)||void 0===a?void 0:a.studentObjs.filter(h=>h.confirmedAt):new Array,this.submitedStudents.length>0?this.answerService.apiAnswerGetObjGet(this.homeworkHashId,null!==(d=null===(c=null===(l=this.submitedStudents[0])||void 0===l?void 0:l.answer)||void 0===c?void 0:c.id)&&void 0!==d?d:0).subscribe(h=>{var u,f,x,v;if(1==h.success){this.zipdataService.convertSubmittedAnswersObj(null===(u=h.data)||void 0===u?void 0:u.answerObj);var S=this.castObj(null===(f=h.data)||void 0===f?void 0:f.answerObj);this.curAnswer=null!=S?S:{},this.curAnswer.fullName=this.submitedStudents[0].fullName,this.curAnswer.result&&(this.curAnswer.resultParse=this.commonService.parseJson(null!==(x=this.curAnswer.result)&&void 0!==x?x:"")),this.successStatusObj()}else this.errorStatusObj(null!==(v=e.message)&&void 0!==v?v:"",!0)}):this.stopStatusObj()):this.errorStatusObj(null!==(p=e.message)&&void 0!==p?p:"",!0)}):(this.stopStatusObj(),this.showErrorSnack("Kh\xf4ng l\u1ea5y \u0111\u01b0\u1ee3c th\xf4ng tin l\u1edbp h\u1ecdc, b\xe0i t\u1eadp"))}ngOnInit(){var e;if(this.homeworkHashId=null!==(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==e?e:"",this.linkCdnGitHub="https://azota889.github.io/storage_public/mnote/",this.isSupportedBrowswer=this.exportPdfUtilsService.isSupportedBrowswer(),this.isSupportedBrowswer){this.initStatusObj();var o=[{source:this.cdnService.convertLinkCdn("azota_assets/js/html2pdf.bundle.js?v=28092021"),name:"html2pdf.bundle.js"}];this.commonService.loadScriptPromises(o).then(()=>{this.commonService.translateMetaData({title:"Xu\u1ea5t PDF b\xe0i t\u1eadp",description:"Xu\u1ea5t pdf b\xe0i t\u1eadp",image:"lang_cms_test_image"}),this.getData()})}super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(X.P),t.Y36(H.uw),t.Y36(C.v),t.Y36(N.gz),t.Y36(cn.C),t.Y36(_n.I),t.Y36(dn.V),t.Y36(W.n),t.Y36(jt.U))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-export-homework"]],hostBindings:function(e,o){1&e&&t.NdJ("beforeunload",function(s){return o.askBeforeCloseWindow(s)},!1,t.Jf7)},features:[t.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notBrowserSupport",""],["doneLoading",""],["id","test_review_container","class","container-fluid mt-2",4,"ngIf","ngIfElse"],["noSubmit",""],["id","test_review_container",1,"container-fluid","mt-2"],["id","tabRowExam",1,"row",2,"margin-bottom","10px"],["id","test_review_area",1,"col"],["id","col_examContent_wrap",2,"width","1100px!important","margin","0 auto"],["id","mbTestContent"],[1,"text-center"],[1,"buttons-area","mb-3","text-center"],[1,"btn","btn-info",3,"disabled","click"],["class","buttons-area mb-3 text-center",4,"ngIf"],["id","multipleChoiceWrap",1,"exportPdfModeIndex",2,"padding","30px"],["id","multipleChoiceWrapHeader"],["id","mainTitle",1,"mb-1","text-center"],["id","detailInfo",1,"d-flex","justify-content-between"],["id","colLeftInfo"],[1,"mb-0"],["id","colRightInfo"],["id","teacherMessage",1,"pt-5"],[1,"contentNote"],["class","box-point",3,"ngClass","hidden",4,"ngIf"],[1,"box-msg"],[1,"note"],[3,"ngStyle","innerHtml",4,"ngIf"],["class","box-emoji",4,"ngIf"],[1,"cap"],[3,"title","result"],["style","color: darkgrey;","class","spinner-border spinner-border-sm","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm",2,"color","darkgrey"],[2,"color","green","vertical-align","bottom"],[1,"box-point",3,"ngClass","hidden"],[1,"point",3,"ngStyle"],[3,"mark"],[3,"ngStyle","innerHtml"],[1,"box-emoji"],[4,"ngFor","ngForOf"],["alt","icon-emoji",1,"comment-emoji","img-fluid","mr-2",3,"id","src"],[2,"padding","50px"],[1,"alert","alert-info"],[1,"p-5","text-center","alert","alert-danger"]],template:function(e,o){if(1&e&&(t.YNc(0,Zn,4,2,"ng-container",0),t.YNc(1,An,3,3,"ng-template",null,1,t.W1O)),2&e){const i=t.MAs(2);t.Q6J("ngIf",o.isSupportedBrowswer)("ngIfElse",i)}},directives:[w.O5,Y.Q,q.Hw,w.mk,w.PC,_t.B,w.sg,mn.p],pipes:[T.bT,T.$G],styles:["#test_review_container[_ngcontent-%COMP%]{background:#ecf0f5;flex:auto;padding-top:15px}#tester-info[_ngcontent-%COMP%]{width:300px;padding:15px;background-color:#fff;margin:0 auto;position:sticky;top:10px;max-height:calc(100vh - 10px);display:flex;flex-direction:column;max-width:100%;border-radius:3px;border:1px solid #f1f1f1}#short_cut_mobile[_ngcontent-%COMP%]{display:none}#fullPoint[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #f1f1f1;background-color:#fafafa;padding:10px;margin-top:15px;align-items:center}#fullPoint[_ngcontent-%COMP%]   .point[_ngcontent-%COMP%]{font-weight:500;font-size:130%}.tested-times[_ngcontent-%COMP%]{margin-top:15px}.tested-times[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{border:1px solid #f1f1f1;background-color:#fafafa;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;border:1px solid #f1f1f1;border-top:none;margin-bottom:0;background-color:#fff;padding:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.tested-times[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.select[_ngcontent-%COMP%]{font-weight:500}.tested-times[_ngcontent-%COMP%]:last-child{flex:auto;overflow:auto}#multipleChoiceWrapHeader[_ngcontent-%COMP%]{padding-left:30px;padding-right:30px}.exportPdfModeIndex[_ngcontent-%COMP%]{background-color:#fff;padding-top:30px;padding-bottom:30px}#unsupportFallback[_ngcontent-%COMP%]{width:750px;height:350px;border:1px solid grey;border-radius:3px;display:flex;align-items:center;justify-content:center}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]{display:flex}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{position:absolute;top:-30px;font-family:font_chu_dep;font-weight:700;font-size:25px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-point[_ngcontent-%COMP%]{width:200px;min-width:200px;min-height:200px;border:2px solid #333;border-right:none;position:relative;display:flex;align-items:center;justify-content:center;padding:15px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-point[_ngcontent-%COMP%]   span.point[_ngcontent-%COMP%]{color:red;font-size:60px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]{border:2px solid #333;padding:15px;position:relative;flex:auto;min-height:200px}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{width:100%;height:100%;border:none;color:red;font-size:24px;line-height:1.5}#teacherMessage[_ngcontent-%COMP%]   .contentNote[_ngcontent-%COMP%]   .box-msg[_ngcontent-%COMP%]   .cap[_ngcontent-%COMP%]{left:300px}.fading_layer[_ngcontent-%COMP%]{position:absolute;z-index:9;background-color:#ffffffe3;width:100%;height:100%;top:0;left:0;padding-top:200px;text-align:center;color:#a9a9a9;font-size:16px}#filterWrap[_ngcontent-%COMP%]{position:absolute;right:0;top:-4px;z-index:2}.viewWrong[_ngcontent-%COMP%]   .correct[_ngcontent-%COMP%], .viewRight[_ngcontent-%COMP%]   .incorrect[_ngcontent-%COMP%]{display:none}#col_examContent_wrap[_ngcontent-%COMP%]{width:1100px;margin:0 auto}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{position:fixed;right:5px;top:50%;z-index:3;font-size:35px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:#c9c9c97a;border-radius:50%;color:#fff;margin-top:-20px}#col_examContent_wrap[_ngcontent-%COMP%] > mat-icon.prev_icon[_ngcontent-%COMP%]{left:5px}#mbTestContent[_ngcontent-%COMP%]{position:relative}#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:none;position:absolute;top:12px;color:#646464;z-index:100}#test_review_container.toggleNavInfo[_ngcontent-%COMP%]   #col_std_info[_ngcontent-%COMP%]{left:0}#close_button[_ngcontent-%COMP%]{color:red;position:absolute;right:5px;top:5px}@media screen and (max-width: 320px){#tester-info[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 480px){#mbTestContent[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{display:inline-block}#test_review_container[_ngcontent-%COMP%]{padding-top:0}#col_std_info[_ngcontent-%COMP%]{position:fixed;top:0;left:-100%;z-index:99999;background:#0000009c;bottom:0;padding:0;transition:all .5s}#short_cut_mobile[_ngcontent-%COMP%]{display:flex;font-weight:500;font-size:18px;justify-content:space-between;color:#4a4a4a}#header-app-component[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{padding-left:0!important}#tester-info[_ngcontent-%COMP%]{margin:0;position:relative;height:100%;max-height:unset;top:0}#multipleChoiceWrap[_ngcontent-%COMP%]{padding-right:5px;padding-left:5px;padding-top:5px}}.buttons-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{text-transform:none!important}.box-emoji[_ngcontent-%COMP%]{margin-top:5px;padding:5px;width:88px;display:flex}@media screen and (max-width: 1600px){#col_examContent_wrap[_ngcontent-%COMP%]{width:100%}}"]}),n})(),Mn=(()=>{class n extends Z.Q{constructor(e,o,i,s){super(o),this.dialogRef=e,this.commonService=o,this.fb=i,this.data=s,this.form=new _.cw({}),this.isSelectAll=new _.NI(!1)}get exportsFormArray(){return this.form.controls.exports}get countSelected(){return this.exportsFormArray.value.filter(e=>!0===e).length}selectAll(){const e=[];this.data.resultsArr.forEach(()=>{e.push(this.isSelectAll.value)}),this.form.controls.exports.setValue(e)}ngOnInit(){this.form=this.fb.group({exports:new _.Oe([],Hn(1))}),this.data.resultsArr.forEach(()=>{this.exportsFormArray.push(new _.NI(!1))}),super.ngOnInit()}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.so),t.Y36(C.v),t.Y36(_.qu),t.Y36(H.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["what-export-dialog"]],features:[t.qOj],decls:24,vars:28,consts:[[1,"text-center","mb-2"],[1,"h4"],[1,"clickable","d-flex","align-items-center",2,"font-weight","500"],["color","primary",1,"example-margin",3,"formControl","change"],["mat-dialog-content","",1,"mt-3"],[3,"formGroup"],["formArrayName","exports","ngFor","",3,"ngForOf"],[1,"text-right"],["mat-raised-button","",1,"mr-2",3,"click"],["mat-raised-button","","color","warn",3,"disabled","mat-dialog-close"],["color","primary",1,"mr-2","mb-2",3,"checked","formControlName"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()(),t.TgZ(4,"p")(5,"i"),t._uU(6),t.ALo(7,"mytranslate"),t.ALo(8,"mytranslate"),t.qZA()(),t.TgZ(9,"span",2)(10,"mat-checkbox",3),t.NdJ("change",function(){return o.selectAll()}),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"div",4)(15,"form",5),t.YNc(16,Sn,2,4,"ng-template",6),t.qZA()(),t.TgZ(17,"div",7)(18,"button",8),t.NdJ("click",function(){return o.onNoClick()}),t._uU(19),t.ALo(20,"mytranslate"),t.qZA(),t.TgZ(21,"button",9),t._uU(22),t.ALo(23,"mytranslate"),t.qZA()()),2&e&&(t.xp6(2),t.hij(" ",t.lcZ(3,12,"lang_homework_export_homework_select_students_export_pdf"),"!"),t.xp6(4),t.lnq("*** ",t.lcZ(7,14,"lang_homework_export_homework_tutorial")," (",t.lcZ(8,16,"lang_homework_export_homework_choose"),": ",o.countSelected,")"),t.xp6(4),t.Q6J("formControl",o.isSelectAll),t.xp6(1),t.Oqu(o.isSelectAll.value?t.lcZ(12,18,"lang_homework_export_homework_clear_select_all"):t.lcZ(13,20,"lang_homework_export_homework_select_all")),t.xp6(4),t.Q6J("formGroup",o.form),t.xp6(1),t.Q6J("ngForOf",o.exportsFormArray.controls),t.xp6(3),t.Oqu(t.lcZ(20,22,"lang_buttom_cancel_clear")),t.xp6(2),t.Q6J("disabled",!o.form.valid)("mat-dialog-close",t.VKq(26,yn,o.exportsFormArray.value)),t.xp6(1),t.Oqu(t.lcZ(23,24,"lang_buttom_agree")))},directives:[vt.oG,_.JJ,_.oH,H.xY,_._Y,_.JL,_.sg,_.CE,w.sg,_.u,Q.lW,H.ZT],pipes:[T.bT],encapsulation:2}),n})();function Hn(n=1){return e=>e.controls.map(i=>i.value).reduce((i,s)=>s?i+s:i,0)>=n?null:{required:!0}}var U=m(65239),Mt=m(72491);function Nn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",14)(1,"azt-home-work-file",15),t.NdJ("redirectId",function(i){const a=t.CHM(e).$implicit,l=t.oxw(3);return l.redirectHomework(i,"share"!=l.classroomId?l.classroomId:a.classroomId?a.classroomId.toString():"0",a.hashId?a.hashId:"")}),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("classId","share"!=o.classroomId?o.classroomId:null==e.classroomId?null:e.classroomId.toString())("name",e.name?e.name:"")("dateCreated",e.createdAt)("deadLine",e.deadline)("totalTakeTest",e.count?e.count:0)("totalStudent",e.countStudents?e.countStudents:0)("homeworkId",e.id?e.id:0)("isNew",e.isNew?e.isNew:0)("hashId",e.hashId?e.hashId:"")("className","share"==o.classroomId&&e.className?e.className:"")("backLink",o.backLink)}}function In(n,r){if(1&n&&(t.TgZ(0,"div")(1,"div",12),t.YNc(2,Nn,2,11,"div",13),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.homeworkObjs)}}function Ln(n,r){if(1&n&&(t.TgZ(0,"div")(1,"div",16)(2,"div",17)(3,"p",18),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(e.checkDataHomeworkObjsSearch?t.lcZ(6,3,"lang_homework_homework_list_not_found"):t.lcZ(5,1,"lang_homework_homework_list_not_assigned"))}}function Pn(n,r){1&n&&t._UZ(0,"div",19)}function qn(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).seeMore()}),t.ALo(2,"mytranslate"),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_arrow_down"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.s9C("matTooltip",t.lcZ(2,2,"lang_homework_homework_list_see_more")),t.Q6J("disabled",!e.nextPage)}}function Jn(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"input",7),t.NdJ("change",function(){return t.CHM(e),t.oxw().changeValueSearch()})("keyup.enter",function(){return t.CHM(e),t.oxw().changeValueSearch()}),t.ALo(6,"mytranslate"),t.qZA(),t.TgZ(7,"mat-icon",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().changeValueSearch()}),t._uU(8,"search"),t.qZA()()()(),t.YNc(9,In,3,1,"div",9),t.YNc(10,Ln,7,5,"div",9),t.TgZ(11,"div",10),t.YNc(12,Pn,1,0,"div",11),t.YNc(13,qn,5,4,"ng-container",9),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(5),t.s9C("placeholder",t.lcZ(6,6,"lang_homework_homework_list_search")),t.Q6J("formControl",e.searchText),t.xp6(4),t.Q6J("ngIf",e.homeworkObjs.length>0),t.xp6(1),t.Q6J("ngIf",0==e.homeworkObjs.length&&!e.loadingMore),t.xp6(2),t.Q6J("ngIf",!0===e.loadingMore),t.xp6(1),t.Q6J("ngIf",!1===e.loadingMore&&0==e.checkDataHomeworkObjsSearch)}}let Un=(()=>{class n extends Z.Q{constructor(e,o,i,s,a,l,c){super(o),this.activeRoute=e,this.commonService=o,this.homeworkService=i,this.classroomService=s,this.zipdataService=a,this.timeService=l,this.sortService=c,this.classroomId="0",this.menuObjs=[],this.classroomObj={},this.rawHomeworkObjs=[],this.homeworkObjs=[],this.checkNew=!1,this.nextPage="",this.ParamNextPage="",this.checkDataHomeworkObjsSearch=!1,this.loadingMore=!1,this.searchText=new _.NI(""),this.backLink=""}changeValueSearch(){if(""!=this.searchText.value){this.checkDataHomeworkObjsSearch=!0;let e=this.commonService.searchArray(this.rawHomeworkObjs,this.searchText.value);this.homeworkObjs=Array.isArray(e)?e:[]}else this.homeworkObjs=this.rawHomeworkObjs}getData(){this.initStatusObj(),this.loadingMore=!0,this.subscriptions.add(this.homeworkService.apiHomeworkGetObjsAndPermissionsByClassroomGet(this.classroomId.toString(),this.ParamNextPage).subscribe(e=>{var o,i,s,a,l,c,d,p,h;1==e.success?(this.nextPage=null!==(i=null===(o=e.data)||void 0===o?void 0:o.nextPage)&&void 0!==i?i:"",0==(null===(a=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.homeworkObjs)||void 0===a?void 0:a.length)&&this.nextPage?this.seeMore():(this.classroomObj=null!==(c=null===(l=e.data)||void 0===l?void 0:l.classroomObj)&&void 0!==c?c:{},this.rawHomeworkObjs=this.rawHomeworkObjs.concat(null!==(p=null===(d=e.data)||void 0===d?void 0:d.homeworkObjs)&&void 0!==p?p:new Array),this.homeworkObjs=this.rawHomeworkObjs,"share"!=this.classroomId&&(this.menuObjs=[{code:"logPoidClass",name:"Xu\u1ea5t b\u1ea3ng \u0111i\u1ec3m l\u1edbp h\u1ecdc"}]),this.successStatusObj(),this.loadingMore=!1)):(this.errorStatusObj(null!==(h=e.message)&&void 0!==h?h:""),this.showErrorSnack("L\u1ed7i: kh\xf4ng load \u0111\u01b0\u1ee3c d\u1eef li\u1ec7u l\u1edbp h\u1ecdc"),this.loadingMore=!1)}))}seeMore(){this.ParamNextPage=this.nextPage,this.getData()}redirectHomework(e,o,i){this.commonService.myNavigation("/admin/homework/score-list/"+o+"/"+e+"/"+i)}changePermission(){this.getData()}callbackMenuEvent(e){if("logPoidClass"==e){var o=["STT","H\u1ecd v\xe0 t\xean","M\xe3 h\u1ecdc sinh","Gi\u1edbi t\xednh","Ng\xe0y sinh"];this.subscriptions.add(this.classroomService.apiClassroomExportDataGet(Number(this.classroomId)).subscribe(i=>{var s,a,l,c;if(1==i.success){let h=[],u=[],f=this.sortService.sortFirstNameStudents(null!==(a=null===(s=i.data)||void 0===s?void 0:s.objs)&&void 0!==a?a:[]),x=0;f.forEach(k=>{var P;x+=1;var M={},b={};null===(P=k.dataHomework)||void 0===P||P.forEach(A=>{for(var L,J,mt,E=this.timeService.getFormatDate(null!==(L=A.createdAt)&&void 0!==L?L:"")+` (${A.name})`,It=1;M[`${E}`];)It++,E=`${this.timeService.getFormatDate(null!==(J=A.createdAt)&&void 0!==J?J:"")} (${A.name}) (${It})`;switch(A.point){case 1e3:M[`${E}`]="\u0110\u1ea1t";break;case 1001:M[`${E}`]="Ch\u01b0a \u0110\u1ea1t";break;case 2e3:M[`${E}`]="Ho\xe0n Th\xe0nh";break;case 2001:M[`${E}`]="Ch\u01b0a Ho\xe0n Th\xe0nh";break;case 3e3:M[`${E}`]="Ho\xe0n Th\xe0nh T\u1ed1t";break;default:M[`${E}`]=`${A.point}`}let Lt=this.commonService.parseJson(this.zipdataService.decodeContentGzip(null!==(mt=A.result)&&void 0!==mt?mt:""));b[`${E}`]=null==Lt?"":Lt.comment,1===x&&o.push(E)}),h.push(Object.assign({STT:x,"H\u1ecd v\xe0 t\xean":k.fullname,"M\xe3 h\u1ecdc sinh":k.code,"Gi\u1edbi t\xednh":k.gender,"Ng\xe0y sinh":null!=k.birthday?this.timeService.getFormatDate(k.birthday):""},M)),u.push(Object.assign({STT:x,"H\u1ecd v\xe0 t\xean":k.fullname,"M\xe3 h\u1ecdc sinh":k.code,"Gi\u1edbi t\xednh":k.gender,"Ng\xe0y sinh":null!=k.birthday?this.timeService.getFormatDate(k.birthday):""},b))});let v=this.commonService.createFileNameExportFile(["T\u1ed5ng k\u1ebft \u0111i\u1ec3m L\u1edbp",null!==(l=this.classroomObj.name)&&void 0!==l?l:""]);var d=U.utils.aoa_to_sheet([[`Danh s\xe1ch \u0111i\u1ec3m - ${this.classroomObj.name}`],o]);U.utils.sheet_add_json(d,h,{origin:-1,header:o,skipHeader:!0});var p=U.utils.aoa_to_sheet([[`Danh s\xe1ch nh\u1eadn x\xe9t - ${this.classroomObj.name}`],o]);U.utils.sheet_add_json(p,u,{origin:-1,header:o,skipHeader:!0});const I=U.write({Sheets:{"B\u1ea3ng \u0111i\u1ec3m":d,"Nh\u1eadn x\xe9t":p},SheetNames:["B\u1ea3ng \u0111i\u1ec3m","Nh\u1eadn x\xe9t"]},{bookType:"xlsx",type:"array"});let g=".xlsx";const y=new Blob([I],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8"});St.saveAs(y,v+g)}else this.errorStatusObj(null!==(c=i.message)&&void 0!==c?c:"",!0)}))}}ngOnInit(){var e;this.ParamNextPage=null!==(e=this.commonService.getMyQueryParam("nextPage"))&&void 0!==e?e:"",(0,F.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([])=>{var o;this.classroomId=null!==(o=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==o?o:"0",this.backLink="/admin/homework/homework-list/"+this.classroomId,this.getData()}),this.commonService.translateMetaData({title:"lang_cms_homework_list_exercise_title",description:"lang_cms_homework_list_exercise_description",image:"lang_cms_test_image"}),this.commonService.gaEvent("teacher_homework_list"),super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.gz),t.Y36(C.v),t.Y36(O.Lk),t.Y36(O.um),t.Y36(W.n),t.Y36(Mt.O),t.Y36(pt.K))},n.\u0275cmp=t.Xpm({type:n,selectors:[["list-homework"]],features:[t.qOj],decls:2,vars:4,consts:[[3,"menu_objs","headerTitle","back_link","MenuEvent"],["class","mb-2 mt-3 pb-80","style","max-width: 1400px; margin: auto;",4,"ngIf"],[1,"mb-2","mt-3","pb-80",2,"max-width","1400px","margin","auto"],[1,"header-box","mt-3","pl-2","pr-2"],[1,"row"],[1,"col-md-12"],[1,"search-block"],["type","text",1,"search-input",3,"formControl","placeholder","change","keyup.enter"],[1,"search-icon",2,"padding-top","2px",3,"click"],[4,"ngIf"],[1,"d-flex","justify-content-center"],["class","spinner-border text-secondary my-3","role","status",4,"ngIf"],[1,"row",2,"min-height","80px"],["class","col-md-6 col-xl-4 col-12",4,"ngFor","ngForOf"],[1,"col-md-6","col-xl-4","col-12"],[1,"relative",3,"classId","name","dateCreated","deadLine","totalTakeTest","totalStudent","homeworkId","isNew","hashId","className","backLink","redirectId"],[1,"row","text-center","py-5"],[1,"col-12"],[1,"p-0","m-0"],["role","status",1,"spinner-border","text-secondary","my-3"],["mat-button","",1,"btn-all-add",3,"matTooltip","disabled","click"]],template:function(e,o){1&e&&(t.TgZ(0,"header-backend",0),t.NdJ("MenuEvent",function(s){return o.callbackMenuEvent(s)}),t.qZA(),t.YNc(1,Jn,14,8,"div",1)),2&e&&(t.Q6J("menu_objs",o.menuObjs)("headerTitle",o.classroomObj.name?"Danh s\xe1ch b\xe0i t\u1eadp - "+o.classroomObj.name:"")("back_link","/admin/homework/classes/1"),t.xp6(1),t.Q6J("ngIf",o.classroomObj))},directives:[B.p,w.O5,_.Fj,_.JJ,_.oH,q.Hw,w.sg,Ot,Q.lW,z.gM],pipes:[T.bT],styles:[".header-box[_ngcontent-%COMP%]{border:1px solid #dfdfdf;background-color:#f3f3f3;border-radius:5px;margin:0 15px}.page-item[_ngcontent-%COMP%]{margin:0 3px}.pb-80[_ngcontent-%COMP%]{padding-bottom:80px}.btn-pag[_ngcontent-%COMP%]{padding:5px 8px}.btn-add-teacher[_ngcontent-%COMP%]{border:1px solid #ececec}.relative[_ngcontent-%COMP%]{position:relative}.absolute[_ngcontent-%COMP%]{position:absolute;top:0;right:0}.content-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}.break[_ngcontent-%COMP%]{flex-basis:100%;width:0}.block-flex-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:120px;width:100%;font-weight:700}.search-block[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:5px;display:flex;justify-content:flex-end;position:relative}.search-input[_ngcontent-%COMP%]{border:1px solid #eaeaeae3;padding:.1rem .55rem;border-radius:3px;padding:2px 30px 2px 5px;font-size:12px}.search-input[_ngcontent-%COMP%]:focus{border:1px solid #0EAFC0;outline:none}.search-icon[_ngcontent-%COMP%]{position:absolute;transition:all .5s;height:100%;border-left:none;cursor:pointer!important;color:#0eafc0}.search-icon[_ngcontent-%COMP%]:hover{background:#d7d7d7;border-radius:3px;cursor:pointer}.btn-all-add[_ngcontent-%COMP%]{background:transparent;margin:15px}"]}),n})(),En=(()=>{class n extends Z.Q{constructor(e,o,i,s,a,l){super(a),this.dialogRef=e,this.answerService=o,this.activeRoute=i,this.fb=s,this.commonService=a,this.data=l,this.subscriptions=new D.w,this.form=new _.cw({}),this.result=!1,this.homeworkHashId=""}getData(){this.initStatusObj(),this.data.status?this.successStatusObj():this.stopStatusObj()}cleanResult(){var e=this.commonService.getFormObj(this.form),o={homeworkHashId:this.data.itemHomework.hashId,id:this.data.ans_id,resendNote:e.reason};this.initStatusObj(),this.subscriptions.add(this.answerService.apiAnswerResendAnswerPost(o).subscribe(i=>{var s;1==i.success?(this.showSuccessSnack("G\u1eedi y\xeau c\u1ea7u th\xe0nh c\xf4ng"),this.result=!0,this.onSubmit({result:this.result,id:this.data.ans_id,itemHomework:this.data.itemHomework}),this.data.redirect&&this.commonService.myNavigation("/admin/homework/score-list/"+this.data.classID+"/"+this.data.itemHomework.id+"/"+this.homeworkHashId),this.successStatusObj()):(this.showErrorSnack("G\u1eedi y\xeau c\u1ea7u kh\xf4ng th\xe0nh c\xf4ng"),this.result=!1,this.onSubmit({result:this.result,id:this.data.ans_id,itemHomework:this.data.itemHomework}),this.errorStatusObj(null!==(s=i.message)&&void 0!==s?s:""))}))}ngOnInit(){var e;this.homeworkHashId=null!==(e=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==e?e:"",this.getData(),this.form=this.fb.group({reason:new _.NI("",_.kI.required)}),super.ngOnInit()}onNoClick(){this.dialogRef.close()}onSubmit(e){this.dialogRef.close(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.so),t.Y36(O.P6),t.Y36(N.gz),t.Y36(_.qu),t.Y36(C.v),t.Y36(H.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["clean-result-dialog"]],features:[t.qOj],decls:40,vars:32,consts:[[3,"hidden"],[1,"d-flex","justify-content-center"],["role","status",1,"spinner-border"],[1,"sr-only"],["enctype","multipart/form-data",1,"form-horizontal","text-center",3,"formGroup"],[1,"text-center"],[1,"h5"],[1,"text-left",2,"border","1px dashed red","padding","10px 5px","border-radius","5px"],[1,"h5","text-danger","text-center"],[1,"h5","mb-1"],[1,"text-danger"],[1,"h5","text-danger","mt-1","mb-1"],["type","text","id","reason","formControlName","reason",1,"form-control"],["mat-dialog-actions","",1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",2,"margin-left","15px",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"..."),t.qZA()()()(),t.TgZ(5,"div",0)(6,"form",4)(7,"div",5)(8,"p",6),t._uU(9),t.ALo(10,"mytranslate"),t.qZA()(),t.TgZ(11,"div",7)(12,"p",8),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"p",9),t._uU(16),t.ALo(17,"mytranslate"),t.TgZ(18,"span",10),t._uU(19),t.qZA(),t._uU(20),t.ALo(21,"mytranslate"),t.TgZ(22,"span",10),t._uU(23),t.ALo(24,"date"),t.qZA(),t._uU(25),t.ALo(26,"mytranslate"),t.qZA(),t._UZ(27,"hr"),t.TgZ(28,"p",11),t._uU(29),t.ALo(30,"mytranslate"),t.qZA(),t._UZ(31,"input",12),t.qZA()()(),t.TgZ(32,"div",13)(33,"div",14)(34,"button",15),t.NdJ("click",function(){return o.cleanResult()}),t._uU(35),t.ALo(36,"mytranslate"),t.qZA()(),t.TgZ(37,"button",16),t.NdJ("click",function(){return o.onNoClick()}),t._uU(38),t.ALo(39,"mytranslate"),t.qZA()()),2&e&&(t.Q6J("hidden",!o.statusObj.loading),t.xp6(5),t.Q6J("hidden",o.statusObj.loading),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(3),t.Oqu(t.lcZ(10,13,"lang_homework_mark_exercise_utils_request_resubmit")),t.xp6(4),t.hij("(*) ",t.lcZ(14,15,"lang_homework_mark_exercise_utils_note"),":"),t.xp6(3),t.hij("",t.lcZ(17,17,"lang_homework_mark_exercise_utils_request")," "),t.xp6(3),t.hij(" ",o.data.name," "),t.xp6(1),t.hij(" ",t.lcZ(21,19,"lang_homework_mark_exercise_utils_in_homework"),"\xa0"),t.xp6(3),t.Oqu(t.xi3(24,21,o.data.deadline?o.data.deadline:o.data.itemHomework.createdAt,"dd/MM/yyyy")),t.xp6(2),t.hij("\xa0",t.lcZ(26,24,"lang_homework_mark_exercise_utils_will_be_deleted"),"!"),t.xp6(4),t.Oqu(t.lcZ(30,26,"lang_homework_mark_exercise_utils_coment_request_resubmit")),t.xp6(6),t.hij(" ",t.lcZ(36,28,"lang_buttom_confirm")," "),t.xp6(3),t.Oqu(t.lcZ(39,30,"lang_buttom_cancel")))},directives:[_._Y,_.JL,_.sg,_.Fj,_.JJ,_.u,H.H8],pipes:[T.bT,w.uU],encapsulation:2}),n})(),Dn=(()=>{class n extends Z.Q{constructor(e,o,i,s){super(i),this.dialogRef=e,this.answerService=o,this.commonService=i,this.data=s,this.success=!1}ngOnInit(){this.success=this.data.status}checkNextAns(){this.answerService.apiAnswerGetNextObjByHomeworkGet(this.data.homeworkHashId).subscribe(e=>{var o,i;0!=e.success?(this.dialogRef.close(),this.commonService.myNavigationWithQueryString("/admin/homework/mark-exercise/"+(null===(i=null===(o=e.data)||void 0===o?void 0:o.obj)||void 0===i?void 0:i.id)+"/"+this.data.homeworkHashId,"?backto="+encodeURIComponent(this.data.backtoLink)),setTimeout(()=>{document.location.reload()},500)):(this.dialogRef.close(),this.commonService.myNavigation("/admin/homework/score-list/"+this.data.classID+"/"+this.data.homeWorkID+"/"+this.data.homeworkHashId))})}onNoClick(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(H.so),t.Y36(X.P),t.Y36(C.v),t.Y36(H.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["notice-dialog"]],features:[t.qOj],decls:16,vars:10,consts:[["mat-dialog-title","",1,"d-flex","align-items-center",2,"color","#6d6d6d"],[1,"mr-1",2,"color","green"],["mat-dialog-content",""],[2,"color","red","font-size","120%","font-weight","500"],[3,"mark"],[1,"d-flex","float-right","mt-3"],["id","ok","mat-raised-button","",3,"click"],["id","next","mat-raised-button","",1,"ml-2",2,"background-color","#2361ae","color","#fff",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"h2",0)(1,"mat-icon",1),t._uU(2,"check_circle"),t.qZA(),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"div",2),t._uU(6),t.ALo(7,"mytranslate"),t.TgZ(8,"span",3),t._UZ(9,"azt-check-mark",4),t.qZA()(),t.TgZ(10,"div",5)(11,"button",6),t.NdJ("click",function(){return o.onNoClick()}),t._uU(12,"Ok"),t.qZA(),t.TgZ(13,"button",7),t.NdJ("click",function(){return o.checkNextAns()}),t._uU(14),t.ALo(15,"mytranslate"),t.qZA()()),2&e&&(t.xp6(3),t.hij(" ",t.lcZ(4,4,"lang_homework_mark_exercise_utils_mark_success"),""),t.xp6(3),t.hij(" ",t.lcZ(7,6,"lang_homework_mark_exercise_utils_assignment_marking")," "),t.xp6(3),t.Q6J("mark",o.data.score),t.xp6(5),t.Oqu(t.lcZ(15,8,"lang_homework_mark_exercise_utils_mark_continue")))},directives:[H.uh,q.Hw,H.xY,_t.B,Q.lW],pipes:[T.bT],styles:["#ok[_ngcontent-%COMP%]:hover{background-color:#e7e7e7}#next[_ngcontent-%COMP%]:hover{background-color:#1e579d!important}"]}),n})();var Fn=m(15431),Qn=m(41752),R=m(14538),Ht=m(64123);function zn(n,r){if(1&n&&(t.TgZ(0,"button",13),t.ALo(1,"mytranslate"),t.TgZ(2,"mat-icon"),t._uU(3,"history"),t.qZA()()),2&n){t.oxw();const e=t.MAs(8);t.s9C("matTooltip",t.lcZ(1,2,"lang_homework_mark_exercise_history_submit")),t.Q6J("matMenuTriggerFor",e)}}function Yn(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",6),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().getDataHistory(s.id?s.id.toString():"")}),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"date"),t.qZA()(),t.BQk()}if(2&n){const e=r.$implicit,o=r.index;t.xp6(3),t.lnq("",t.lcZ(4,3,"lang_homework_mark_exercise_times")," ",o+1," - ",t.xi3(5,5,e.createdAt,"dd/MM/yyyy HH:mm:ss"),"")}}function Bn(n,r){if(1&n&&(t.TgZ(0,"span"),t._UZ(1,"azt-create-avatar",15),t.ALo(2,"mytranslate"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hYB("matTooltip","",t.lcZ(2,5,"lang_homework_mark_exercise_teacher_mark")," ",": "+e.markedByObj.fullName,""),t.Q6J("nameCreateAvatar",e.markedByObj.fullName)("size",25)("linkAvatar",e.markedByObj.avatar)}}function Rn(n,r){if(1&n&&(t.TgZ(0,"h4",14),t.YNc(1,Bn,3,7,"span",11),t._uU(2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isMarked),t.xp6(1),t.AsE(" ",e.studentObj.fullName,", ",e.classroomObj.name," ")}}function Wn(n,r){1&n&&(t._UZ(0,"azt-loading-effect",16),t.ALo(1,"mytranslate")),2&n&&t.Q6J("customText",t.lcZ(1,1,"lang_homework_mark_exercise_loading_data_mark"))}function Gn(n,r){if(1&n&&(t.TgZ(0,"div")(1,"div",17)(2,"div",18)(3,"div",19),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,1,e.errorMessage))}}function $n(n,r){if(1&n&&(t.TgZ(0,"div",20),t._UZ(1,"iframe",21),t.ALo(2,"safe"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.iframeSrc),t.uOi)}}let Vn=(()=>{class n extends Z.Q{constructor(e,o,i,s,a,l,c,d,p,h){super(s),this.activeRoute=e,this.answerService=o,this.baseApiService=i,this.commonService=s,this.permissionService=a,this.dialog=l,this.cdnService=c,this.zipdataService=d,this.envService=p,this.apiUploadService=h,this.subscriptions=new D.w,this.result={},this.answerId=0,this.homeworkID="",this.historyId="",this.iframeSrc="",this.isMarked=!1,this.jsonData={},this.errorMessage="",this.files=[],this.classID="",this.homeworkObj={},this.studentName="",this.markedByObj={},this.studentObj={},this.classroomObj={},this.score=0,this.mnoteJsonData={},this.pagesCount=0,this.backtoLink="",this.hasSendDataToIframe=!1,this.hasLoadedData=!1,this.historyAnwerObjs=[],this.countLoad=1,this.homeworkHashId="",this.handleIframe=u=>{var f;"MNoteJson"==u.data.cmd&&(this.initStatusObj(),this.mnoteJsonData=u.data.data,this.uploadAll(null!==(f=this.mnoteJsonData.pages)&&void 0!==f?f:[],u.data.data.point)),"MNoteReSubmit"==u.data.cmd&&(console.log("listend res submit"),this.handleOpenReSubmit()),"MNoteLoadComplete"==u.data&&(this.hasLoadedData?(this.hasSendDataToIframe=!0,""==this.historyId?this.sendDataToIframe():this.sendDataToIframeHistory()):this.hasSendDataToIframe=!1)}}onPopState(e){this.goBack()}uploadDrawBase64ToCDN(e,o,i){let s=this.baseApiService.dataURItoBlob(e);this.apiUploadService.commonUploadForMarkResult(s,`essay_note_${o}_${this.answerId}.png`,"image/png",1e4).subscribe(a=>{var l,c;a.type!=ot.dt.UploadProgress&&(1==a.success?((null===(l=this.mnoteJsonData.pages)||void 0===l?void 0:l[o])&&(this.mnoteJsonData.pages[o].draw=null===(c=a.data)||void 0===c?void 0:c.url),this.pagesCount--,0==this.pagesCount&&this.remark(this.answerId,i,this.mnoteJsonData)):(this.showErrorSnack("L\u01b0u d\u1eef li\u1ec7u ch\u1ea5m b\xe0i kh\xf4ng th\xe0nh c\xf4ng!"),this.stopStatusObj()))})}uploadAll(e,o){this.pagesCount=0;for(let i=0;i<e.length;i++)e[i].draw&&this.pagesCount++;if(0==this.pagesCount)this.remark(this.answerId,o,this.mnoteJsonData);else for(let i=0;i<e.length;i++)e[i].draw&&this.uploadDrawBase64ToCDN(e[i].draw,i,o)}reloadPage(){location.reload()}sendDataToIframe(){var e,o,i,s,a,l,c,d,p,h,u,f,x,v,S;const I=document.getElementById("mNote"),j=I?I.contentWindow:null;if(null!==j){let g=this.result.hasOwnProperty("answerObj")&&null!==(e=this.castObj(this.result.answerObj))&&void 0!==e?e:{};if(this.result.hasOwnProperty("answerObj")){let b=this.commonService.parseJson(null!==(o=g.result)&&void 0!==o?o:"");if(null!=b){let L=null!==(s=null===(i=b.pages)||void 0===i?void 0:i.length)&&void 0!==s?s:0;for(let J=0;J<L;J++)(null===(a=null==b?void 0:b.pages)||void 0===a?void 0:a[J].backgroundImage)&&(b.pages[J].backgroundImage=this.cdnService.getMyCdn(null!==(l=b.pages[J].backgroundImage)&&void 0!==l?l:"")),(null===(c=b.pages)||void 0===c?void 0:c[J].draw)&&(b.pages[J].draw=this.cdnService.getMyCdn(b.pages[J].draw));b=JSON.stringify(b),g.result=b}let A=this.commonService.parseJson(null!==(d=g.files)&&void 0!==d?d:"");if(null!=A){for(let L=0;L<A.length;L++)A[L].url&&(A[L].url=this.cdnService.getMyCdn(A[L].url)),A[L].thumb&&(A[L].thumb=this.cdnService.getMyCdn(A[L].thumb));A=JSON.stringify(A),g.files=A}}let y=this.result.hasOwnProperty("studentObj")?this.result.studentObj:{},k=this.result.hasOwnProperty("classroomObj")?this.result.classroomObj:{},P=this.result.hasOwnProperty("homeworkObj")?this.result.homeworkObj:{},M=this.commonService.parseJson(null!==(p=g.result)&&void 0!==p?p:"");if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let b=0;b<(null!==(u=null===(h=this.jsonData.pages)||void 0===h?void 0:h.length)&&void 0!==u?u:0);b++)(null===(f=this.jsonData.pages)||void 0===f?void 0:f[b].hasOwnProperty("backgroundImage"))&&(this.jsonData.pages[b].backgroundImage=this.cdnService.getMyCdn(null!==(x=this.jsonData.pages[b].backgroundImage)&&void 0!==x?x:"")),(null===(v=this.jsonData.pages)||void 0===v?void 0:v[b].hasOwnProperty("draw"))&&(this.jsonData.pages[b].draw=this.cdnService.getMyCdn(null!==(S=this.jsonData.pages[b].draw)&&void 0!==S?S:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="edit",this.jsonData.answer_obj=g,this.jsonData.student_obj=y,this.jsonData.classroom_obj=k,this.jsonData.homework_obj=P,M&&M.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=M.hideMark),j.postMessage(this.jsonData,"*");else{let b=[];this.files.forEach(L=>{b.push({backgroundImage:L.url})});let A={cmd:"initMNote",mode:"edit",pages:b,answer_obj:g,student_obj:y,classroom_obj:k,homework_obj:P};M&&M.hasOwnProperty("hideMark")&&(A.hideMark=M.hideMark),j.postMessage(A,"*")}}}sendDataToIframeHistory(){var e,o,i,s,a,l,c,d,p,h;const u=document.getElementById("mNote");u&&1==this.countLoad&&(u.src+="");const f=u?u.contentWindow:null;if(null!==f){let x=this.result.hasOwnProperty("answerObj")&&null!==(e=this.castObj(this.result.answerObj))&&void 0!==e?e:{};if(this.result.hasOwnProperty("answerObj")){let g=this.commonService.parseJson(null!==(o=x.result)&&void 0!==o?o:"");if(null!=g){for(let k=0;k<g.pages.length;k++)g.pages[k].backgroundImage&&(g.pages[k].backgroundImage=this.cdnService.getMyCdn(g.pages[k].backgroundImage)),g.pages[k].draw&&(g.pages[k].draw=this.cdnService.getMyCdn(g.pages[k].draw));g=JSON.stringify(g),x.result=g}let y=this.commonService.parseJson(null!==(i=x.files)&&void 0!==i?i:"");if(null!=y){for(let k=0;k<y.length;k++)y[k].url&&(y[k].url=this.cdnService.getMyCdn(y[k].url)),y[k].thumb&&(y[k].thumb=this.cdnService.getMyCdn(y[k].thumb));y=JSON.stringify(y),x.files=y}}let v=this.studentObj,S=this.classroomObj,I=this.homeworkObj,j=this.commonService.parseJson(null!==(s=x.result)&&void 0!==s?s:"");if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let g=0;g<(null!==(l=null===(a=this.jsonData.pages)||void 0===a?void 0:a.length)&&void 0!==l?l:0);g++)(null===(c=this.jsonData.pages)||void 0===c?void 0:c[g].hasOwnProperty("backgroundImage"))&&(this.jsonData.pages[g].backgroundImage=this.cdnService.getMyCdn(null!==(d=this.jsonData.pages[g].backgroundImage)&&void 0!==d?d:"")),(null===(p=this.jsonData.pages)||void 0===p?void 0:p[g].hasOwnProperty("draw"))&&(this.jsonData.pages[g].draw=this.cdnService.getMyCdn(null!==(h=this.jsonData.pages[g].draw)&&void 0!==h?h:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=x,this.jsonData.student_obj=v,this.jsonData.classroom_obj=S,this.jsonData.homework_obj=I,j&&j.hasOwnProperty("hideMark")&&(this.jsonData.hideMark=j.hideMark),f.postMessage(this.jsonData,"*");else{let g=[];this.files.forEach(k=>{g.push({backgroundImage:k.url})});let y={cmd:"initMNote",mode:"view",pages:g,answer_obj:x,student_obj:v,classroom_obj:S,homework_obj:I};j&&j.hasOwnProperty("hideMark")&&(y.hideMark=j.hideMark),f.postMessage(y,"*")}}}goBack(){this.commonService.myNavigation(this.backtoLink?this.backtoLink:"/admin/homework/score-list/"+this.classID+"/"+this.homeworkID+"/"+this.homeworkObj.hashId);let e=document.body,o=document.getElementById("azota-app-html");null==o||o.classList.remove("overflow-hidden"),null==o||o.classList.remove("height-100"),e.classList.remove("overflow-hidden"),e.classList.remove("height-100")}getHistoryObjs(e){this.initStatusObj(),this.answerService.apiAnswerGetHistoryObjsGet(this.homeworkHashId,e).subscribe(o=>{var i,s,a;1==o.success?this.historyAnwerObjs=null!==(s=null===(i=o.data)||void 0===i?void 0:i.objs)&&void 0!==s?s:new Array:this.errorMessage=null!==(a=o.message)&&void 0!==a?a:"",this.stopStatusObj()})}getDataHistory(e){this.historyId=e,this.errorMessage="",this.countLoad=1,this.answerService.apiAnswerGetHistoryObjGet(this.homeworkHashId,this.answerId,parseInt(e,10)).subscribe(o=>{var i,s,a,l,c,d,p,h,u,f,x,v,S,I,j;if(1==o.success){if(this.zipdataService.convertSubmittedAnswersHistoryObj(null===(i=o.data)||void 0===i?void 0:i.answerObj),this.result=null!==(s=o.data)&&void 0!==s?s:{},this.markedByObj=null!==(l=null===(a=o.data)||void 0===a?void 0:a.markedByObj)&&void 0!==l?l:{},this.score=null!==(p=null===(d=null===(c=o.data)||void 0===c?void 0:c.answerObj)||void 0===d?void 0:d.point)&&void 0!==p?p:0,this.files=this.commonService.parseJson(null!==(f=null===(u=null===(h=o.data)||void 0===h?void 0:h.answerObj)||void 0===u?void 0:u.files)&&void 0!==f?f:""),null!=this.files)for(let g=0;g<this.files.length;g++)this.files[g].url=this.cdnService.getMyCdn(null!==(v=null===(x=this.files)||void 0===x?void 0:x[g].url)&&void 0!==v?v:""),this.files[g].thumb=this.cdnService.getMyCdn(null!==(I=null===(S=this.files)||void 0===S?void 0:S[g].thumb)&&void 0!==I?I:"");this.handleJsonData(),this.hasLoadedData=!0,1==this.countLoad&&(this.hasSendDataToIframe=!1),0==this.hasSendDataToIframe&&(this.hasSendDataToIframe=!0,this.sendDataToIframeHistory()),this.successStatusObj(),this.countLoad++}else this.errorMessage=null!==(j=o.message)&&void 0!==j?j:"",this.stopStatusObj()})}handleJsonData(){var e,o,i,s,a,l,c;this.jsonData={},!(null===(o=null===(e=this.result)||void 0===e?void 0:e.answerObj)||void 0===o?void 0:o.confirmedAt)&&!(null===(s=null===(i=this.result)||void 0===i?void 0:i.answerObj)||void 0===s?void 0:s.result)&&(this.isMarked=!1),(null===(a=this.result.answerObj)||void 0===a?void 0:a.confirmedAt)&&(this.isMarked=!0,this.jsonData=this.commonService.parseJson(null!==(c=null===(l=this.result.answerObj)||void 0===l?void 0:l.result)&&void 0!==c?c:""),null==this.jsonData&&(this.isMarked=!1))}getData(e){this.initStatusObj(),this.errorMessage="",this.answerId=e,this.answerService.apiAnswerGetObjGet(this.homeworkHashId,e).subscribe(o=>{var i,s,a,l,c,d,p,h,u,f,x,v,S,I,j,g,y,k,P,M,b;if(1==o.success)if(this.zipdataService.convertSubmittedAnswersObj(null===(i=o.data)||void 0===i?void 0:i.answerObj),(null===(s=o.data)||void 0===s?void 0:s.hasOwnProperty("studentObj"))&&null!=(null===(a=o.data)||void 0===a?void 0:a.studentObj)){if(this.result=o.data,this.markedByObj=null!==(l=o.data.markedByObj)&&void 0!==l?l:{},this.score=null!==(p=null===(d=null===(c=o.data)||void 0===c?void 0:c.answerObj)||void 0===d?void 0:d.point)&&void 0!==p?p:0,this.homeworkID=null!==(u=null===(h=o.data.homeworkObj)||void 0===h?void 0:h.id)&&void 0!==u?u:0,this.classID=null!==(x=null===(f=o.data.classroomObj)||void 0===f?void 0:f.id)&&void 0!==x?x:0,this.files=this.commonService.parseJson(null!==(S=null===(v=o.data.answerObj)||void 0===v?void 0:v.files)&&void 0!==S?S:""),this.studentObj=o.data.studentObj,this.classroomObj=null!==(I=o.data.classroomObj)&&void 0!==I?I:{},null!=this.files)for(let A=0;A<this.files.length;A++)this.files[A].url=this.cdnService.getMyCdn(null!==(g=null===(j=this.files)||void 0===j?void 0:j[A].url)&&void 0!==g?g:""),this.files[A].thumb=this.cdnService.getMyCdn(null!==(k=null===(y=this.files)||void 0===y?void 0:y[A].thumb)&&void 0!==k?k:"");this.homeworkObj=null!==(P=o.data.homeworkObj)&&void 0!==P?P:{},this.studentName=null!==(M=o.data.studentObj.fullName)&&void 0!==M?M:"",this.handleJsonData(),this.hasLoadedData=!0,0==this.hasSendDataToIframe&&(this.hasSendDataToIframe=!0,this.sendDataToIframe()),this.successStatusObj()}else this.errorMessage="lang_core_not_found_student",this.stopStatusObj();else this.errorMessage=null!==(b=o.message)&&void 0!==b?b:"",this.stopStatusObj()})}openDialog(e,o){this.dialog.open(Dn,{width:"280px",autoFocus:!1,data:{score:o,status:e,homeWorkID:this.homeworkID,homeworkHashId:this.homeworkHashId,classID:this.classID,backtoLink:this.backtoLink}}).afterClosed().subscribe(s=>{})}handleOpenReSubmit(){var e;this.openDialogReSubmit(!0,null!==(e=this.homeworkObj.deadline)&&void 0!==e?e:void 0,this.homeworkObj,this.answerId,this.studentName)}openDialogReSubmit(e,o,i,s,a){this.dialog.open(En,{width:"380px",panelClass:"cleanResultDialogBox",data:{status:e,deadline:o,itemHomework:i,ans_id:s,name:a,redirect:!0,classID:this.classID}}).afterClosed().subscribe(c=>{})}remark(e,o,i){let s=JSON.stringify({type:"homework",id:this.homeworkObj.id,user:this.homeworkObj.tenantId});if(""==this.historyId)if(1==this.permissionService.hasMarkPointPermission("homework",this.homeworkObj.permissionObj)){let a={id:e,comment:i.comment,hideMark:i.hideMark?1:0,point:o?parseFloat(o.replace(",",".")):0,result:this.zipdataService.convertContentGzip(JSON.stringify(i)),homeworkHashId:this.homeworkHashId};this.answerService.apiAnswerSaveResultPost(a,s).subscribe(l=>{var c,d;1==l.success?(this.openDialog(!0,null===(d=null===(c=l.data)||void 0===c?void 0:c.obj)||void 0===d?void 0:d.point),this.successStatusObj()):(this.stopStatusObj(),this.showErrorSnack("Ch\u1ea5m \u0111i\u1ec3m kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i"))})}else this.showErrorSnack("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n ch\u1ea5m b\xe0i t\u1eadp n\xe0y!"),this.stopStatusObj();else this.stopStatusObj(),this.showErrorSnack("B\u1ea1n kh\xf4ng th\u1ec3 ch\u1ea5m l\u1ea1i l\u1ecbch s\u1eed l\xe0m b\xe0i c\u1ee7a h\u1ecdc sinh")}ngOnInit(){var e,o,i,s;let a=document.body,l=document.getElementById("azota-app-html");null==l||l.classList.add("overflow-hidden"),null==l||l.classList.add("height-100"),a.classList.add("overflow-hidden"),a.classList.add("height-100"),this.iframeSrc=null!==(e=this.envService.getEnvValue("classliveUrl"))&&void 0!==e?e:"";const c=this.commonService.getMyParam(this.activeRoute,"id")?Number(this.commonService.getMyParam(this.activeRoute,"id")):0,d=null!==(o=this.commonService.getMyParam(this.activeRoute,"historyId"))&&void 0!==o?o:"";this.homeworkHashId=null!==(i=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==i?i:"",this.backtoLink=null!==(s=this.commonService.getMyQueryParam("backto"))&&void 0!==s?s:"",this.getData(c),this.getHistoryObjs(c),d&&this.getDataHistory(d),this.commonService.translateMetaData({title:"lang_cms_homework_mark_exercise_title",description:"lang_cms_homework_mark_exercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnDestroy(){this.goBack(),window.removeEventListener("message",this.handleIframe),super.ngDestroy()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(N.gz),t.Y36(X.P),t.Y36(At._),t.Y36(C.v),t.Y36(Fn.$),t.Y36(H.uw),t.Y36(jt.U),t.Y36(W.n),t.Y36(Qn.D),t.Y36(kt.$))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-mark-exericse"]],hostBindings:function(e,o){1&e&&t.NdJ("popstate",function(s){return o.onPopState(s)},!1,t.Jf7)},features:[t.qOj],decls:19,vars:13,consts:[["id","markContainer",1,"maxW1000"],["id","titleRow"],[1,"block-left"],["mat-button","",3,"title","click"],["mat-icon-button","",3,"matTooltip","matMenuTriggerFor",4,"ngIf"],["menu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngFor","ngForOf"],["class","studentInfo","style","padding-right: 10px; color: #fff",4,"ngIf"],[3,"customText",4,"ngIf"],[3,"hidden"],[4,"ngIf"],["class","card-box listPhotos",4,"ngIf"],["mat-icon-button","",3,"matTooltip","matMenuTriggerFor"],[1,"studentInfo",2,"padding-right","10px","color","#fff"],[2,"cursor","pointer",3,"matTooltip","nameCreateAvatar","size","linkAvatar"],[3,"customText"],[1,"row","justify-content-center","py-5"],[1,"col-12","text-center"],[1,"alert","alert-danger"],[1,"card-box","listPhotos"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),t.NdJ("click",function(){return o.goBack()}),t.ALo(4,"mytranslate"),t._uU(5,"keyboard_arrow_left"),t.qZA(),t.YNc(6,zn,4,4,"button",4),t.TgZ(7,"mat-menu",null,5)(9,"button",6),t.NdJ("click",function(){return o.reloadPage()}),t.TgZ(10,"span"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()(),t.YNc(13,Yn,6,8,"ng-container",7),t.qZA()(),t.YNc(14,Rn,3,3,"h4",8),t.qZA(),t.YNc(15,Wn,2,3,"azt-loading-effect",9),t.TgZ(16,"div",10),t.YNc(17,Gn,6,3,"div",11),t.YNc(18,$n,3,3,"div",12),t.qZA()()),2&e&&(t.xp6(3),t.s9C("title",t.lcZ(4,9,"lang_buttom_back")),t.xp6(3),t.Q6J("ngIf",null!=o.historyAnwerObjs&&o.historyAnwerObjs.length>0),t.xp6(5),t.Oqu(t.lcZ(12,11,"lang_homework_mark_exercise_last")),t.xp6(2),t.Q6J("ngForOf",o.historyAnwerObjs),t.xp6(1),t.Q6J("ngIf",o.classroomObj),t.xp6(1),t.Q6J("ngIf",o.statusObj.loading),t.xp6(1),t.Q6J("hidden",o.statusObj.loading),t.xp6(1),t.Q6J("ngIf",""!=o.errorMessage),t.xp6(1),t.Q6J("ngIf",""==o.errorMessage))},directives:[q.Hw,w.O5,Q.lW,z.gM,R.p6,R.VK,R.OP,w.sg,Ht.t,Y.Q],pipes:[T.bT,w.uU,T.yl],styles:["#markContainer[_ngcontent-%COMP%]{position:relative}#titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;position:relative;align-items:center;display:flex;justify-content:space-between;color:#fff}#titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}#titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}#titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}.block-left[_ngcontent-%COMP%]{display:flex;align-items:center}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#f2f2f2;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e5e5e5;border-left:0px;border-right:0px;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width: 1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),n})();const Kn=[{path:"",component:(()=>{class n extends Z.Q{constructor(e){super(e),this.commonService=e}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["homework-master-page"]],features:[t.qOj],decls:2,vars:0,consts:[["id","homework-layout"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},directives:[N.lC],styles:[""]}),n})(),canActivate:[ft.v],children:[{path:"",canActivateChild:[ft.v],children:[{path:"classes",component:ct},{path:"classes/:page",component:ct},{path:"homework-list/:id",component:Un},{path:"add-new-homework/:id",component:Tt},{path:"add-new-homework/:id/:hash_id",component:Tt},{path:"score-list/:class_id/:id/:hash_id",component:gt},{path:"export-homework/:class_id/:id/:hash_id",component:jn},{path:"mark-exercise/:id/:hash_id",component:Vn},{path:"create-homework-success/:hash_ids",component:ln},{path:"content-store",component:Ko},{path:"",component:ct}]}]}];let Xn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[N.Bz.forChild(Kn)],N.Bz,K.fQ]}),n})();function ti(n,r){1&n&&(t.TgZ(0,"span"),t._UZ(1,"span",12),t._uU(2,"\xa0"),t.qZA())}function ei(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"p",4),t._uU(4),t.ALo(5,"mytranslate"),t.qZA(),t.TgZ(6,"p",5)(7,"span",6),t._uU(8),t.qZA()()(),t.TgZ(9,"div",7)(10,"div",8)(11,"button",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().btnCloseDialog()}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()(),t.TgZ(14,"button",10),t.NdJ("click",function(){return t.CHM(e),t.oxw().confirmDelete()}),t.YNc(15,ti,3,0,"span",11),t._uU(16),t.ALo(17,"mytranslate"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.hij(" ",t.lcZ(5,7,"lang_homework_utils_delete_homework_dialog_title"),":"),t.xp6(3),t.s9C("matTooltip",e.data.homeworkObj?e.data.homeworkObj.name:""),t.xp6(1),t.Oqu(e.data.homeworkObj?e.data.homeworkObj.name:""),t.xp6(4),t.hij(" ",t.lcZ(13,9,"lang_cms_common_close_btn")," "),t.xp6(2),t.Q6J("disabled",e.statusObj.loading),t.xp6(1),t.Q6J("ngIf",!0===e.statusObj.loading),t.xp6(1),t.hij(" ",t.lcZ(17,11,"lang_cms_common_confirm_btn")," ")}}let oi=(()=>{class n extends Z.Q{constructor(e,o){super(e),this.commonService=e,this.homeworkService=o,this.data={homeworkObj:{},isShow:!1},this.closeDialog=new t.vpe,this.subscriptions=new D.w,this.form=new _.cw({}),this.type=0}confirmDelete(){var e;this.initStatusObj(),this.subscriptions.add(this.homeworkService.apiHomeworkDeleteObjGet(null===(e=this.data.homeworkObj)||void 0===e?void 0:e.hashId).subscribe(o=>{var i;1==o.success?(this.closeDialog.emit(!0),this.successStatusObj(),this.showSuccessSnack("X\xf3a b\xe0i t\u1eadp th\xe0nh c\xf4ng")):(this.btnCloseDialog(),this.errorStatusObj(null!==(i=o.message)&&void 0!==i?i:"",!0))}))}btnCloseDialog(){this.closeDialog.emit(!1)}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.v),t.Y36(O.Lk))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-delete-homework"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[1,"h5","mb-1"],[1,"h5","text-danger",2,"padding-bottom","21px","border-bottom","1px solid #b2b4b7"],[1,"truncate",3,"matTooltip"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,o){1&e&&t.YNc(0,ei,18,13,"div",0),2&e&&t.Q6J("ngIf",o.data.isShow)},directives:[w.O5,z.gM,Q.lW],pipes:[T.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:#0000008f}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),n})();const ni=["TABLE"],ii=function(){return{}};function si(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td",4),t._uU(2),t.qZA(),t.TgZ(3,"td",4),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.ALo(8,"mytranslate"),t.ALo(9,"mytranslate"),t.qZA(),t.TgZ(10,"td",4),t._uU(11),t.qZA(),t.TgZ(12,"td",4),t._uU(13),t.ALo(14,"mytranslate"),t.qZA(),t.TgZ(15,"td",4),t._uU(16),t.qZA()()),2&n){const e=r.$implicit,o=t.oxw();t.xp6(2),t.Oqu(e.fullName),t.xp6(2),t.Oqu(t.xi3(5,6,e.birthday,"dd/MM/yyyy")),t.xp6(3),t.Oqu(0==e.gender?t.lcZ(8,9,"lang_gender_female"):1==e.gender?t.lcZ(9,11,"lang_gender_male"):""),t.xp6(4),t.Oqu(e.code),t.xp6(2),t.Oqu(e.isMarked?o.checkPoint(e.point?e.point:0):t.lcZ(14,13,"lang_homework_utils_excel_table_export_not_point")),t.xp6(3),t.Oqu(o.getComment(e.answer?e.answer:t.DdM(15,ii)))}}let ri=(()=>{class n extends Z.Q{constructor(e){super(e),this.commonService=e,this.studentList=[],this.homeworkObj={},this.currentDate=new Date,this.tableType="homework"}ExportTOExcel(){var e,o;const i=U.utils.table_to_sheet(null===(e=this.TABLE)||void 0===e?void 0:e.nativeElement,{raw:!0}),s=U.utils.book_new();U.utils.book_append_sheet(s,i,"Sheet1"),this.homeworkObj.hasOwnProperty("name")?U.writeFile(s,this.commonService.createFileNameExportFile([null!==(o=this.homeworkObj.name)&&void 0!==o?o:""])+"-ScoreSheet.xlsx"):U.writeFile(s,this.commonService.createFileNameExportFile(["ScoreSheet"])+".xlsx")}checkPoint(e){switch(e){case 1e3:return"\u0110\u1ea1t";case 1001:return"Ch\u01b0a \u0110\u1ea1t";case 2e3:return"Ho\xe0n Th\xe0nh";case 2001:return"Ch\u01b0a Ho\xe0n Th\xe0nh";case 3e3:return"Ho\xe0n Th\xe0nh T\u1ed1t";default:return e}}getComment(e){var o="";return null!=e&&e.result&&(o=this.commonService.parseJson(e.result).comment),o}ngOnInit(){super.ngOnInit()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.v))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-excel-export"]],viewQuery:function(e,o){if(1&e&&t.Gf(ni,5),2&e){let i;t.iGM(i=t.CRH())&&(o.TABLE=i.first)}},inputs:{studentList:"studentList",homeworkObj:"homeworkObj",currentDate:"currentDate",tableType:"tableType"},features:[t.qOj],decls:47,vars:34,consts:[[1,"table","table-bordered","d-none",3,"id","click"],["TABLE",""],[1,"thead-dark"],["colspan","10"],[1,"border-table"],[4,"ngFor","ngForOf"],["colspan","2"]],template:function(e,o){1&e&&(t.TgZ(0,"table",0,1),t.NdJ("click",function(){return o.ExportTOExcel()}),t.TgZ(2,"thead",2)(3,"tr")(4,"th",3),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()(),t.TgZ(7,"tr"),t._UZ(8,"th"),t.qZA(),t.TgZ(9,"tr")(10,"th",3),t._uU(11),t.ALo(12,"mytranslate"),t.ALo(13,"date"),t.qZA()(),t.TgZ(14,"tr"),t._UZ(15,"th"),t.qZA(),t.TgZ(16,"tr")(17,"th",4),t._uU(18),t.ALo(19,"mytranslate"),t.qZA(),t.TgZ(20,"th",4),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"th",4),t._uU(24),t.ALo(25,"mytranslate"),t.qZA(),t.TgZ(26,"th",4),t._uU(27),t.ALo(28,"mytranslate"),t.qZA(),t.TgZ(29,"th",4),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t.TgZ(32,"th",4),t._uU(33),t.ALo(34,"mytranslate"),t.qZA()()(),t.TgZ(35,"tbody"),t.YNc(36,si,17,16,"tr",5),t._UZ(37,"tr"),t.TgZ(38,"tr"),t._UZ(39,"td")(40,"td")(41,"td")(42,"td"),t.TgZ(43,"td",6),t._uU(44),t.ALo(45,"mytranslate"),t.qZA(),t._UZ(46,"td"),t.qZA()()()),2&e&&(t.MGl("id","table_",o.tableType,""),t.xp6(5),t.AsE("",t.lcZ(6,13,"lang_homework_utils_excel_table_export_homework"),": ",o.homeworkObj.name,""),t.xp6(6),t.AsE("",t.lcZ(12,15,"lang_homework_utils_excel_table_export_time_export_result"),": ",t.xi3(13,17,o.currentDate,"dd/MM/yyyy"),""),t.xp6(7),t.Oqu(t.lcZ(19,20,"lang_first_and_last_name")),t.xp6(3),t.Oqu(t.lcZ(22,22,"lang_birthday")),t.xp6(3),t.Oqu(t.lcZ(25,24,"lang_gender")),t.xp6(3),t.Oqu(t.lcZ(28,26,"lang_number_code")),t.xp6(3),t.Oqu(t.lcZ(31,28,"lang_point")),t.xp6(3),t.Oqu(t.lcZ(34,30,"lang_homework_utils_excel_table_export_comment")),t.xp6(3),t.Q6J("ngForOf",o.studentList),t.xp6(8),t.hij("",t.lcZ(45,32,"lang_homework_utils_excel_table_export_verifil_teacher"),": "))},directives:[w.sg],pipes:[T.bT,w.uU],encapsulation:2}),n})();var dt=m(18160),ai=m(71572),li=m(90167),ci=m(98558),_i=m(44841);function di(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"div",4)(2,"p",5),t._uU(3,"Ch\u01b0a c\xf3 h\u1ecdc sinh n\xe0o n\u1ed9p b\xe0i t\u1eadp"),t.qZA(),t.TgZ(4,"a",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().showCopySuccess()}),t.TgZ(5,"mat-icon",7),t._uU(6,"share"),t.qZA(),t.TgZ(7,"span",7),t._uU(8,"\xa0Copy link b\xe0i t\u1eadp"),t.qZA()()()()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("cdkCopyToClipboard",e.copyLinkHomeWorkToClipboard())}}function mi(n,r){1&n&&(t.TgZ(0,"p",29),t._uU(1," Ch\u01b0a ch\u1ea5m "),t.qZA())}function pi(n,r){1&n&&(t.TgZ(0,"p",30),t._uU(1," Ch\u01b0a n\u1ed9p "),t.qZA())}function hi(n,r){1&n&&(t.TgZ(0,"p",30),t._uU(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),t.qZA())}function ui(n,r){if(1&n&&(t.TgZ(0,"p",31),t._uU(1," \u0110i\u1ec3m: "),t.TgZ(2,"b"),t._UZ(3,"azt-check-mark",32),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("mark",e.point)}}function gi(n,r){if(1&n&&(t.TgZ(0,"p",33),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.calculationTime(e.createdAt)," tr\u01b0\u1edbc ")}}function fi(n,r){if(1&n&&(t.TgZ(0,"div",23)(1,"p",33),t._uU(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),t.qZA(),t.TgZ(3,"p",33),t._uU(4),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(4),t.hij(" ",(null==e.answerFileObjs?null:e.answerFileObjs.length)||0," ")}}const xi=function(n){return[n]},wi=function(n){return{backto:n}},Nt=function(n){return{disableClick:n}};function ki(n,r){if(1&n&&(t.TgZ(0,"div")(1,"a",14),t.ALo(2,"mylocalize"),t.TgZ(3,"div",15)(4,"div",16)(5,"span",17),t._UZ(6,"azt-create-avatar",18),t.qZA(),t.TgZ(7,"div",19)(8,"div",20)(9,"span",21)(10,"span",22),t._uU(11),t.qZA()()(),t.TgZ(12,"div",23),t.YNc(13,mi,2,0,"p",24),t.YNc(14,pi,2,0,"p",25),t.YNc(15,hi,2,0,"p",25),t.YNc(16,ui,4,1,"p",26),t.YNc(17,gi,2,1,"p",27),t.qZA(),t.YNc(18,fi,5,1,"div",28),t.qZA()()()()()),2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("routerLink",t.VKq(15,xi,t.lcZ(2,13,"/admin/homework/mark-exercise/"+e.answer.id+"/"+o.obj.hashId)))("queryParams",t.VKq(17,wi,o.backToLink)),t.xp6(2),t.Q6J("ngClass",t.VKq(19,Nt,e.isNotSubmit||e.mustReSubmit)),t.xp6(3),t.Q6J("linkAvatar",e.avatar)("nameCreateAvatar",e.fullName)("size",30),t.xp6(5),t.Oqu(e.fullName),t.xp6(2),t.Q6J("ngIf",e.isSubmitted),t.xp6(1),t.Q6J("ngIf",e.isNotSubmit),t.xp6(1),t.Q6J("ngIf",e.mustReSubmit),t.xp6(1),t.Q6J("ngIf",e.isMarked),t.xp6(1),t.Q6J("ngIf",null!=e.createdAt),t.xp6(1),t.Q6J("ngIf",e.isMarked||e.isSubmitted)}}function vi(n,r){1&n&&(t.TgZ(0,"p",29),t._uU(1," Ch\u01b0a ch\u1ea5m "),t.qZA())}function bi(n,r){1&n&&(t.TgZ(0,"p",30),t._uU(1," Ch\u01b0a n\u1ed9p "),t.qZA())}function Ci(n,r){1&n&&(t.TgZ(0,"p",30),t._uU(1," \u0110\xe3 y\xeau c\u1ea7u n\u1ed9p l\u1ea1i "),t.qZA())}function Ti(n,r){if(1&n&&(t.TgZ(0,"p",31),t._uU(1," \u0110i\u1ec3m: "),t.TgZ(2,"b"),t._uU(3),t.qZA()()),2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.Oqu(e.point)}}function Oi(n,r){if(1&n&&(t.TgZ(0,"p",33),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(2);t.xp6(1),t.hij(" ",o.calculationTime(e.createdAt)," tr\u01b0\u1edbc ")}}function Zi(n,r){1&n&&(t.TgZ(0,"div",23)(1,"p",33),t._uU(2," S\u1ed1 t\u1ec7p tin \u0111\xe3 n\u1ed9p: "),t.qZA(),t.TgZ(3,"p",33),t._uU(4," 0 "),t.qZA()())}function Ai(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16)(2,"span",17),t._UZ(3,"azt-create-avatar",18),t.qZA(),t.TgZ(4,"div",34),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit;return t.oxw(2).goToResultReview(i)}),t.TgZ(5,"div",20)(6,"span",21)(7,"span",22),t._uU(8),t.qZA()()(),t.TgZ(9,"div",23),t.YNc(10,vi,2,0,"p",24),t.YNc(11,bi,2,0,"p",25),t.YNc(12,Ci,2,0,"p",25),t.YNc(13,Ti,4,1,"p",26),t.YNc(14,Oi,2,1,"p",27),t.qZA(),t.YNc(15,Zi,5,0,"div",28),t.qZA()()()}if(2&n){const e=t.oxw().$implicit;t.Q6J("ngClass",t.VKq(11,Nt,e.isNotSubmit||e.mustReSubmit)),t.xp6(3),t.Q6J("linkAvatar",e.avatar)("nameCreateAvatar",e.fullName)("size",30),t.xp6(5),t.Oqu(e.fullName),t.xp6(2),t.Q6J("ngIf",e.isSubmitted),t.xp6(1),t.Q6J("ngIf",e.isNotSubmit),t.xp6(1),t.Q6J("ngIf",e.mustReSubmit),t.xp6(1),t.Q6J("ngIf",e.isMarked),t.xp6(1),t.Q6J("ngIf",null!=e.createdAt),t.xp6(1),t.Q6J("ngIf",e.isMarked||e.isSubmitted)}}const Si=function(n){return{"col-lg-4":n}};function yi(n,r){if(1&n&&(t.TgZ(0,"div",11),t.YNc(1,ki,19,21,"div",12),t.YNc(2,Ai,16,13,"ng-template",null,13,t.W1O),t.qZA()),2&n){const e=r.$implicit,o=t.MAs(3),i=t.oxw(2);t.Q6J("ngClass",t.VKq(3,Si,i.isOpenSideNav)),t.xp6(1),t.Q6J("ngIf",e.answer)("ngIfElse",o)}}function ji(n,r){if(1&n&&(t.TgZ(0,"div",8)(1,"div",9),t.YNc(2,yi,4,5,"div",10),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.studentLists)}}const Mi=function(){return{suppressScrollX:!0}};let Hi=(()=>{class n extends Z.Q{constructor(e,o){super(e),this.commonService=e,this.timeService=o,this.isSortByTime=!1,this.backToLink="",this.searchKey="",this.studentLists=[],this.isNotTestedYet=!1,this.isOpenSideNav=!0,this.obj={},this.goToResult=new t.vpe}goToResultReview(e){e.isNotSubmit||e.mustReSubmit||this.goToResult.emit(e)}copyLinkHomeWorkToClipboard(){return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/bai-tap/${this.obj.hashId}`}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}calculationTime(e,o){return this.timeService.calculationTime(e,o)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(C.v),t.Y36(Mt.O))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-student-homework-result"]],inputs:{isSortByTime:"isSortByTime",backToLink:"backToLink",searchKey:"searchKey",studentLists:"studentLists",isNotTestedYet:"isNotTestedYet",isOpenSideNav:"isOpenSideNav",obj:"obj"},outputs:{goToResult:"goToResult"},features:[t.qOj],decls:4,vars:5,consts:[[1,"box-content","py-2","scrollable-content"],[3,"config","scrollIndicators"],[4,"ngIf"],["class","pt-0 pb-2 px-3 ",4,"ngIf"],[1,"text-center","mt-3"],[1,"h5"],[1,"clickable",2,"user-select","none",3,"cdkCopyToClipboard","click"],[2,"vertical-align","middle","color","#333333"],[1,"pt-0","pb-2","px-3"],[1,"row","ml-0","mr-0","pl-0","pr-0","mt-2"],["class","col-12 col-sm-12 col-md-4 col-lg-3 mb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-lg-3","mb-2",3,"ngClass"],[4,"ngIf","ngIfElse"],["answerIdNull",""],[3,"routerLink","queryParams"],[1,"box-item",3,"ngClass"],[1,"student-item"],[1,"stdimg","align-self-center"],[3,"linkAvatar","nameCreateAvatar","size"],[1,"stdinfo"],[1,"stdinfo-fullname"],[2,"vertical-align","middle"],[2,"vertical-align","middle","color","#333333","font-weight","400","font-size","15px","word-break","break-word"],[1,"d-flex","justify-content-between"],["style","color: #F39C12; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","color: #9F0000; font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px;",4,"ngIf"],["style","font-size: 13px; margin-bottom: 2px; color: #9C9C9C",4,"ngIf"],["class","d-flex justify-content-between",4,"ngIf"],[2,"color","#F39C12","font-size","13px","margin-bottom","2px"],[2,"color","#9F0000","font-size","13px","margin-bottom","2px"],[2,"font-size","13px","margin-bottom","2px"],[3,"mark"],[2,"font-size","13px","margin-bottom","2px","color","#9C9C9C"],[1,"stdinfo",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"perfect-scrollbar",1),t.YNc(2,di,9,1,"div",2),t.YNc(3,ji,3,1,"div",3),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("config",t.DdM(4,Mi))("scrollIndicators",!0),t.xp6(1),t.Q6J("ngIf",o.isNotTestedYet),t.xp6(1),t.Q6J("ngIf",!o.isNotTestedYet))},directives:[_i.Vv,w.O5,nt.i3,q.Hw,w.sg,w.mk,N.yS,Ht.t,_t.B],pipes:[T.mp],styles:[".box-content[_ngcontent-%COMP%]{background:inherit;background-color:#f9f9f9;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e9e9e9;border-radius:5px;box-shadow:none}a[_ngcontent-%COMP%]{color:#000}.disableClick[_ngcontent-%COMP%]{cursor:default!important}.scrollable-content[_ngcontent-%COMP%]{height:calc(100vh - 166px);overflow:hidden}.box-item[_ngcontent-%COMP%]{background-color:#fff;padding:10px;border:1px solid #ccc;border-radius:4px;margin-bottom:10px;cursor:pointer;position:relative}.badge-testing[_ngcontent-%COMP%]{position:absolute;top:0;right:6px;border-radius:4px;padding:0 3px}.student-item[_ngcontent-%COMP%]{display:flex;position:relative}.student-item[_ngcontent-%COMP%]   .enterClsWrap[_ngcontent-%COMP%], .student-item[_ngcontent-%COMP%]   .deleteBtn[_ngcontent-%COMP%]{display:flex}.link-stu[_ngcontent-%COMP%]{display:flex;align-items:center}.link-stu[_ngcontent-%COMP%]:hover{color:#007bff}.stdimg[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-right:10px}.stdinfo[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:auto}.menu-icon[_ngcontent-%COMP%]{vertical-align:middle;color:#828282}.create-avatar[_ngcontent-%COMP%]{vertical-align:middle;display:inline-block;margin-top:2px;border-radius:50%;width:30px;text-transform:uppercase;height:30px;background:#ddd;text-align:center;padding-top:5px}@media screen and (max-width: 750px){.scrollable-content[_ngcontent-%COMP%]{min-height:calc(100vh - 170px);height:auto;overflow-y:inherit}.tested_list_container[_ngcontent-%COMP%]{height:auto}}"]}),n})(),Ni=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[N.Bz,w.ez,at.j,V.Z_,Xn,_.u5,_.UX,H.Is,rt.Z,it.xC,st.W]]}),n})();t.B6R(gt,[B.p,w.O5,Y.Q,oi,bt.x,dt.kh,dt.jA,w.mk,Q.lW,nt.i3,q.Hw,ai.o,li.I,w.sg,z.gM,N.yS,dt.LW,_._Y,_.JL,_.sg,_.Fj,_.JJ,_.u,R.p6,R.VK,R.OP,ci.Rr,Hi,ri],[T.bT,w.uU,T.mp,T.BU,T.vL,w.OU])}}]);