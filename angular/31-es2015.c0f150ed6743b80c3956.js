(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"6Fp8":function(t,e,i){"use strict";i.d(e,"a",function(){return s});var a=i("fXoL"),n=i("5ete"),o=i("clS4");let s=(()=>{class t{constructor(t,e){this.baseApiService=t,this.redirectService=e}canActivate(t,e){return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginAnonymous(e.url),!1)}canActivateChild(t,e){return this.canActivate(t,e)}canLoad(t){const e="/"+t.path;return!!this.baseApiService.isLogin()||(this.redirectService.redirectLoginByReturnUrl(e),!1)}}return t.\u0275fac=function(e){return new(e||t)(a.Zb(n.a),a.Zb(o.a))},t.\u0275prov=a.Lb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},EgMX:function(t,e,i){"use strict";i.r(e),i.d(e,"TrashModule",function(){return oe});var a=i("ofXK"),n=i("3Pt+"),o=i("0IaG"),s=i("tyNb"),c=i("fB2i"),l=i("IkSl"),d=i("rIor"),r=i("Zhhu"),b=i("sOeQ"),h=i("vvyD"),u=i("Avyq"),g=i("6Fp8"),v=i("fXoL"),p=i("PYj7"),m=i("oUVn"),f=i("5ete"),k=i("hZBc"),x=i("wZkO"),y=i("gm2p");let D=(()=>{class t{constructor(t,e,i,a){this.trashService=t,this.commonService=e,this.dialogRef=i,this.data=a}postRemoveExam(t){this.trashService.apiTrashRemoveExamPost(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a \u0111\u1ec1 thi th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a \u0111\u1ec1 thi kh\xf4ng th\xe0nh c\xf4ng",""))})}postRemoveExamCategory(t){this.trashService.apiTrashRemoveExamCategoryPost(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a th\u01b0 m\u1ee5c \u0111\u1ec1 thi th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a th\u01b0 m\u1ee5c \u0111\u1ec1 thi kh\xf4ng th\xe0nh c\xf4ng",""))})}postRemoveHomework(t){this.trashService.apiTrashRemoveHomeworkPost(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a b\xe0i t\u1eadp th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a b\xe0i t\u1eadp kh\xf4ng th\xe0nh c\xf4ng",""))})}postRemoveClassroom(t){this.trashService.apiTrashRemoveClassroomPost(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a l\u1edbp h\u1ecdc th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a l\u1edbp h\u1ecdc kh\xf4ng th\xe0nh c\xf4ng",""))})}postRemoveStudent(t){console.log(t),this.trashService.apiTrashRemoveStudentPost(t).subscribe(t=>{1==t.success?(this.onNoClick("remove"),this.commonService.snackSuccess("X\xf3a h\u1ecdc sinh th\xe0nh c\xf4ng","")):(this.onNoClick("cancel"),this.commonService.snackError("L\u1ed7i: x\xf3a h\u1ecdc sinh kh\xf4ng th\xe0nh c\xf4ng",""))})}changeRemove(t){var e=t.data;0==t.type?this.postRemoveClassroom(e):1==t.type?this.postRemoveStudent(e):2==t.type?this.postRemoveHomework(e):3==t.type?this.postRemoveExam(e):4==t.type&&this.postRemoveExamCategory(e)}ngOnInit(){}onNoClick(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(p.hb),v.Pb(m.a),v.Pb(o.g),v.Pb(o.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-remove-dialog"]],decls:12,vars:2,consts:[[2,"border-bottom","1px solid","margin-bottom","20px","padding-bottom","10px"],[2,"color","#6d6d6d","font-weight","400!important","text-align","center","font-size","18px"],[2,"color","#dc3545!important"],[2,"float","right"],["type","button",1,"btn","btn-danger","mr-3",3,"click"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",0),v.Vb(2,"p",1),v.Tc(3," B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a "),v.Vb(4,"span",2),v.Tc(5),v.Ub(),v.Tc(6," \u0111\xe3 \u0111\xe1nh d\u1ea5u ra kh\u1ecfi th\xf9ng r\xe1c? "),v.Ub(),v.Ub(),v.Vb(7,"div",3),v.Vb(8,"button",4),v.cc("click",function(){return e.onNoClick("cancal")}),v.Tc(9,"H\u1ee7y"),v.Ub(),v.Vb(10,"button",5),v.cc("click",function(){return e.changeRemove(e.data)}),v.Tc(11,"Ti\u1ebfp t\u1ee5c"),v.Ub(),v.Ub(),v.Ub()),2&t&&(v.Db(5),v.Wc(" ",null==e.data.data?null:e.data.data.length," ",0==e.data.type?" l\u1edbp h\u1ecdc ":1==e.data.type?" h\u1ecdc sinh ":2==e.data.type?" b\xe0i t\u1eadp ":3==e.data.type?" \u0111\u1ec1 thi ":4==e.data.type?" th\u01b0 m\u1ee5c \u0111\u1ec1 thi ":""," "))},encapsulation:2}),t})();var C=i("nzN9"),T=i("bSwM"),P=i("Qu3c"),R=i("bTqV"),w=i("NFeN"),O=i("quSY"),M=i("iWHX");function S(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"p",11),v.Tc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c l\u1edbp h\u1ecdc "),v.Ub(),v.Ub())}function _(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"p",11),v.Tc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c \u0111\u1ec1 thi "),v.Ub(),v.Ub())}function U(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"p",11),v.Tc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c danh m\u1ee5c "),v.Ub(),v.Ub())}function V(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"p",11),v.Tc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c b\xe0i t\u1eadp "),v.Ub(),v.Ub())}function j(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"p",11),v.Tc(2," B\u1ea1n mu\u1ed1n kh\xf4i ph\u1ee5c h\u1ecdc sinh "),v.Ub(),v.Ub())}function I(t,e){if(1&t&&(v.Vb(0,"span",12),v.Tc(1),v.Ub()),2&t){const t=v.gc(2);v.oc("matTooltip",null==t.data||null==t.data.obj?null:t.data.obj.name),v.Db(1),v.Vc("",null==t.data||null==t.data.obj?null:t.data.obj.name," ?")}}function E(t,e){1&t&&(v.Vb(0,"span"),v.Qb(1,"span",13),v.Tc(2,"\xa0"),v.Ub())}function A(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div",1),v.Vb(1,"div",2),v.Vb(2,"div",3),v.Rc(3,S,3,0,"div",4),v.Rc(4,_,3,0,"div",4),v.Rc(5,U,3,0,"div",4),v.Rc(6,V,3,0,"div",4),v.Rc(7,j,3,0,"div",4),v.Vb(8,"p",5),v.Rc(9,I,2,2,"span",6),v.Ub(),v.Ub(),v.Vb(10,"div",7),v.Vb(11,"div",8),v.Vb(12,"button",9),v.cc("click",function(){return v.Ec(t),v.gc().btnCloseDialog()}),v.Tc(13),v.hc(14,"mytranslate"),v.Ub(),v.Ub(),v.Vb(15,"button",10),v.cc("click",function(){return v.Ec(t),v.gc().confirmRevert()}),v.Rc(16,E,3,0,"span",4),v.Tc(17),v.hc(18,"mytranslate"),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=v.gc();v.Db(3),v.nc("ngIf","classroom"===t.typeString),v.Db(1),v.nc("ngIf","exam"===t.typeString),v.Db(1),v.nc("ngIf","category"===t.typeString),v.Db(1),v.nc("ngIf","homework"===t.typeString),v.Db(1),v.nc("ngIf","student"===t.typeString),v.Db(2),v.nc("ngIf",null==t.data||null==t.data.obj?null:t.data.obj.name),v.Db(4),v.Vc(" ",v.ic(14,10,"lang_cms_common_close_btn")," "),v.Db(2),v.nc("disabled",t.isLoading),v.Db(1),v.nc("ngIf",!0===t.isLoading),v.Db(1),v.Vc(" ",v.ic(18,12,"lang_cms_common_confirm_btn")," ")}}let L=(()=>{class t extends y.a{constructor(t,e){super(t),this.commonService=t,this.trashService=e,this.closeDialog=new v.o,this.subscriptions=new O.a,this.isLoading=!1,this.typeString=""}confirmRevert(){var t;switch(null===(t=this.data)||void 0===t?void 0:t.type){case 0:this.subscriptions.add(this.trashService.apiTrashRevertClassroomGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(t=>{var e,i;1==t.success?(this.closeDialog.emit(null===(e=this.data)||void 0===e?void 0:e.obj),this.showSuccessSnack("Kh\xf4i ph\u1ee5c d\u1eef li\u1ec7u l\u1edbp h\u1ecdc th\xe0nh c\xf4ng")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=t.message)&&void 0!==i?i:""))}));break;case 1:this.subscriptions.add(this.trashService.apiTrashRevertStudentGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(t=>{var e,i;1==t.success?(this.closeDialog.emit(null===(e=this.data)||void 0===e?void 0:e.obj),this.showSuccessSnack("Kh\xf4i ph\u1ee5c d\u1eef li\u1ec7u th\xe0nh c\xf4ng")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=t.message)&&void 0!==i?i:""))}));break;case 2:this.subscriptions.add(this.trashService.apiTrashRevertHomeworkGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(t=>{var e,i;1==t.success?(this.closeDialog.emit(null===(e=this.data)||void 0===e?void 0:e.obj),this.showSuccessSnack("Kh\xf4i ph\u1ee5c d\u1eef li\u1ec7u th\xe0nh c\xf4ng")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=t.message)&&void 0!==i?i:""))}));break;case 3:this.subscriptions.add(this.trashService.apiTrashRevertExamGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(t=>{var e,i;1==t.success?(this.closeDialog.emit(null===(e=this.data)||void 0===e?void 0:e.obj),this.showSuccessSnack("Kh\xf4i ph\u1ee5c d\u1eef li\u1ec7u th\xe0nh c\xf4ng")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=t.message)&&void 0!==i?i:""))}));break;case 4:this.subscriptions.add(this.trashService.apiTrashRevertExamCategoryGet(this.data.obj.curPage.toString(),Number(this.data.obj.id)).subscribe(t=>{var e,i;1==t.success?(this.closeDialog.emit(null===(e=this.data)||void 0===e?void 0:e.obj),this.showSuccessSnack("Kh\xf4i ph\u1ee5c d\u1eef li\u1ec7u th\xe0nh c\xf4ng")):(this.btnCloseDialog(),this.showErrorSnack(null!==(i=t.message)&&void 0!==i?i:""))}))}}checkType(){if(this.data)switch(this.data.type){case 0:this.typeString="classroom";break;case 1:this.typeString="student";break;case 2:this.typeString="homework";break;case 3:this.typeString="exam";break;case 4:this.typeString="category"}return this.typeString}btnCloseDialog(){this.closeDialog.emit()}ngOnInit(){this.checkType(),super.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(m.a),v.Pb(p.hb))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-revert-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[v.Ab],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],[1,"text-center"],[4,"ngIf"],[1,"h5","text-danger",2,"padding-bottom","21px","border-bottom","1px solid #b2b4b7"],["class","truncate",3,"matTooltip",4,"ngIf"],[1,"d-flex","float-right","mt-3"],[1,"azt-block-button"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"disabled","click"],[1,"h5","para_respon","font-weight-normal"],[1,"truncate",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&v.Rc(0,A,19,14,"div",0),2&t&&v.nc("ngIf",null==e.data?null:e.data.isShow)},directives:[a.m,R.b,P.a],pipes:[M.s],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:9998;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background:rgba(0,0,0,.5607843137254902)}.school-info[_ngcontent-%COMP%]{z-index:9999;top:50%;left:50%;min-width:30%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px rgba(0,0,0,.58)}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}@media only screen and (max-width:1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:95%}}"]}),t})();function N(t,e){1&t&&v.Qb(0,"azt-loading-effect")}function H(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u. "),v.Ub(),v.Ub())}function W(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," B\u1ea5m v\xe0o n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3n xem b\u1ea3n ghi c\u0169 h\u01a1n "),v.Ub(),v.Ub())}function F(t,e){if(1&t){const t=v.Wb();v.Vb(0,"a",11),v.cc("click",function(){return v.Ec(t),v.gc(3).clickRemoveAllData()}),v.Tc(1,"x\xf3a"),v.Ub()}}function z(t,e){if(1&t&&(v.Vb(0,"span",24),v.Tc(1),v.Ub()),2&t){const t=v.gc().$implicit;v.oc("matTooltip",t.name),v.Db(1),v.Uc(t.name)}}function B(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"div",12),v.Vb(2,"div",13),v.Vb(3,"div",14),v.Vb(4,"mat-checkbox",15),v.cc("change",function(i){v.Ec(t);const a=e.index;return v.gc(3).updateAllComplete(i.checked,a)}),v.Ub(),v.Ub(),v.Vb(5,"div",16),v.Vb(6,"span",17),v.Rc(7,z,2,2,"span",18),v.Ub(),v.Vb(8,"span",19),v.Tc(9," Th\u1eddi gian x\xf3a: "),v.Vb(10,"span",20),v.hc(11,"date"),v.Tc(12),v.hc(13,"date"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(14,"div",21),v.cc("click",function(){v.Ec(t);const i=e.$implicit;return v.gc(3).clickRevertData(i.nextPage,i.id,i.name)}),v.Vb(15,"div",22),v.Vb(16,"span",23),v.Tc(17,"Kh\xf4i ph\u1ee5c"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit;v.Db(4),v.nc("checked",t.completed),v.Db(3),v.nc("ngIf",t.name),v.Db(3),v.oc("matTooltip",v.jc(11,4,t.deletedAt,"dd/MM/yyyy HH:mm")),v.Db(2),v.Uc(v.jc(13,7,t.deletedAt,"dd/MM/yyyy HH:mm"))}}function G(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"mat-checkbox",8),v.cc("change",function(e){return v.Ec(t),v.gc(2).setAll(e.checked)}),v.Tc(2," Ch\u1ecdn t\u1ea5t c\u1ea3 "),v.Ub(),v.Rc(3,F,2,0,"a",9),v.Rc(4,B,18,10,"div",10),v.Ub()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("checked",t.allComplete),v.Db(2),v.nc("ngIf",1==t.someComplete()||1==t.allComplete),v.Db(1),v.nc("ngForOf",null==t.task?null:t.task.subtasks)}}function $(t,e){1&t&&v.Qb(0,"div",25)}function J(t,e){if(1&t){const t=v.Wb();v.Tb(0),v.Vb(1,"button",26),v.cc("click",function(){return v.Ec(t),v.gc(2).seeMore()}),v.Vb(2,"mat-icon"),v.Tc(3,"keyboard_arrow_down"),v.Ub(),v.Ub(),v.Sb()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("disabled",!t.nextPage)}}function K(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-revert-dialog",27),v.cc("closeDialog",function(e){return v.Ec(t),v.gc(2).closeRevertDialog(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",t.dataRevertDialog)}}function Q(t,e){if(1&t&&(v.Rc(0,H,3,0,"div",2),v.Rc(1,W,3,0,"div",2),v.Rc(2,G,5,3,"div",2),v.Vb(3,"div",3),v.Vb(4,"div",4),v.Rc(5,$,1,0,"div",5),v.Rc(6,J,4,1,"ng-container",2),v.Ub(),v.Ub(),v.Rc(7,K,1,1,"app-revert-dialog",6)),2&t){const t=v.gc();v.nc("ngIf",1==t.isCheckData&&!t.nextPage),v.Db(1),v.nc("ngIf",1==t.isCheckData&&t.nextPage),v.Db(1),v.nc("ngIf",0==t.isCheckData),v.Db(3),v.nc("ngIf",1==t.loadingMore),v.Db(1),v.nc("ngIf",0==t.loadingMore),v.Db(1),v.nc("ngIf",null==t.dataRevertDialog?null:t.dataRevertDialog.isShow)}}let X=(()=>{class t extends y.a{constructor(t,e){super(e),this.dialog=t,this.commonService=e,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new v.o,this.DataRemove=new v.o,this.SeeMore=new v.o,this.isLoading=!1,this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var t,e,i,a,n=[];if(0!=(null===(t=this.data)||void 0===t?void 0:t.length))for(var o=0;o<(null!==(i=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==i?i:0);o++)n.push(Object.assign(Object.assign({},null===(a=this.data)||void 0===a?void 0:a[o]),{completed:!1}));this.task={completed:!1,subtasks:n}}setAll(t){var e;null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&(this.task.subtasks.forEach(e=>e.completed=t),this.allComplete=1==t)}updateAllComplete(t,e){var i,a;(null===(i=this.task)||void 0===i?void 0:i.subtasks[e])&&(this.task.subtasks[e].completed=t),this.allComplete=null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&this.task.subtasks.every(t=>t.completed)}someComplete(){var t;return null!=(null===(t=this.task)||void 0===t?void 0:t.subtasks)&&this.task.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}clickRemoveAllData(){var t,e,i,a,n,o=[],s=[];for(let c=0;c<(null!==(e=null===(t=this.task)||void 0===t?void 0:t.subtasks.length)&&void 0!==e?e:0);c++)1==(null===(i=this.task)||void 0===i?void 0:i.subtasks[c].completed)&&(o.push({id:Number(this.task.subtasks[c].id),curPage:null!==(a=this.task.subtasks[c].nextPage)&&void 0!==a?a:"",name:null!==(n=this.task.subtasks[c].name)&&void 0!==n?n:""}),s.push(Number(this.task.subtasks[c].id)));this.dialog.open(D,{width:"750px",data:{type:this.type,data:o}}).afterClosed().subscribe(t=>{var e,i,a;if(this.isLoading=!1,"remove"==t){for(let t=0;t<o.length;t++)for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)o[t].id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip(o),this.DataRemove.emit(s),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(t){var e,i,a;if(t){for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)t.id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip([t]),this.DataRevert.emit(t.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(t){for(var e=0;e<t.length;e++){var i=this.commonService.parseJson(t[e].curPage);i&&1==i.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(t,e,i){this.dataRevertDialog={obj:{curPage:null!=t?t:"",id:Number(e),name:null!=i?i:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var t,e;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(e=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>0)}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(o.b),v.Pb(m.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-trash-class-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[v.Ab,v.Bb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["matTooltip","Hi\u1ec7n b\u1ea3n ghi c\u0169 h\u01a1n","mat-button","",1,"btn-all-add",3,"disabled","click"],[3,"data","closeDialog"]],template:function(t,e){if(1&t&&(v.Rc(0,N,1,0,"azt-loading-effect",0),v.Rc(1,Q,8,6,"ng-template",null,1,v.Sc)),2&t){const t=v.Ac(2);v.nc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[a.m,C.a,T.a,a.l,P.a,R.b,w.a,L],pipes:[a.e],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px rgba(0,0,0,.1215686275);margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width:768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#f10}"]}),t})();function Z(t,e){1&t&&v.Qb(0,"azt-loading-effect")}function q(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u. "),v.Ub(),v.Ub())}function Y(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," B\u1ea5m v\xe0o n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3n xem b\u1ea3n ghi c\u0169 h\u01a1n "),v.Ub(),v.Ub())}function tt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"a",11),v.cc("click",function(){return v.Ec(t),v.gc(3).clickRemoveAllData()}),v.Tc(1,"x\xf3a"),v.Ub()}}function et(t,e){if(1&t&&(v.Vb(0,"span",24),v.Tc(1),v.Ub()),2&t){const t=v.gc().$implicit;v.oc("matTooltip",t.fullName),v.Db(1),v.Uc(t.fullName)}}function it(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"div",12),v.Vb(2,"div",13),v.Vb(3,"div",14),v.Vb(4,"mat-checkbox",15),v.cc("change",function(i){v.Ec(t);const a=e.index;return v.gc(3).updateAllComplete(i.checked,a)}),v.Ub(),v.Ub(),v.Vb(5,"div",16),v.Vb(6,"span",17),v.Rc(7,et,2,2,"span",18),v.Ub(),v.Vb(8,"span",19),v.Tc(9," Th\u1eddi gian x\xf3a: "),v.Vb(10,"span",20),v.hc(11,"date"),v.Tc(12),v.hc(13,"date"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(14,"div",21),v.cc("click",function(){v.Ec(t);const i=e.$implicit;return v.gc(3).clickRevertData(i.nextPage,i.id,i.fullName)}),v.Vb(15,"div",22),v.Vb(16,"span",23),v.Tc(17,"Kh\xf4i ph\u1ee5c"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit;v.Db(4),v.nc("checked",t.completed),v.Db(3),v.nc("ngIf",t.fullName),v.Db(3),v.oc("matTooltip",v.jc(11,4,t.deletedAt,"dd/MM/yyyy HH:mm")),v.Db(2),v.Uc(v.jc(13,7,t.deletedAt,"dd/MM/yyyy HH:mm"))}}function at(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"mat-checkbox",8),v.cc("change",function(e){return v.Ec(t),v.gc(2).setAll(e.checked)}),v.Tc(2," Ch\u1ecdn t\u1ea5t c\u1ea3 "),v.Ub(),v.Rc(3,tt,2,0,"a",9),v.Rc(4,it,18,10,"div",10),v.Ub()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("checked",t.allComplete),v.Db(2),v.nc("ngIf",1==t.someComplete()||1==t.allComplete),v.Db(1),v.nc("ngForOf",null==t.task?null:t.task.subtasks)}}function nt(t,e){1&t&&v.Qb(0,"div",25)}function ot(t,e){if(1&t){const t=v.Wb();v.Tb(0),v.Vb(1,"button",26),v.cc("click",function(){return v.Ec(t),v.gc(2).seeMore()}),v.Vb(2,"mat-icon"),v.Tc(3,"keyboard_arrow_down"),v.Ub(),v.Ub(),v.Sb()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("disabled",!t.nextPage)}}function st(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-revert-dialog",27),v.cc("closeDialog",function(e){return v.Ec(t),v.gc(2).closeRevertDialog(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",t.dataRevertDialog)}}function ct(t,e){if(1&t&&(v.Rc(0,q,3,0,"div",2),v.Rc(1,Y,3,0,"div",2),v.Rc(2,at,5,3,"div",2),v.Vb(3,"div",3),v.Vb(4,"div",4),v.Rc(5,nt,1,0,"div",5),v.Rc(6,ot,4,1,"ng-container",2),v.Ub(),v.Ub(),v.Rc(7,st,1,1,"app-revert-dialog",6)),2&t){const t=v.gc();v.nc("ngIf",1==t.isCheckData&&!t.nextPage),v.Db(1),v.nc("ngIf",1==t.isCheckData&&t.nextPage),v.Db(1),v.nc("ngIf",0==t.isCheckData),v.Db(3),v.nc("ngIf",1==t.loadingMore),v.Db(1),v.nc("ngIf",0==t.loadingMore),v.Db(1),v.nc("ngIf",null==t.dataRevertDialog?null:t.dataRevertDialog.isShow)}}let lt=(()=>{class t extends y.a{constructor(t,e){super(e),this.dialog=t,this.commonService=e,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new v.o,this.DataRemove=new v.o,this.SeeMore=new v.o,this.isLoading=!1,this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1},this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var t,e,i,a,n=[];if(0!=(null===(t=this.data)||void 0===t?void 0:t.length))for(var o=0;o<(null!==(i=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==i?i:0);o++)n.push(Object.assign(Object.assign({},null===(a=this.data)||void 0===a?void 0:a[o]),{completed:!1}));this.task={completed:!1,subtasks:n}}setAll(t){var e;null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&(this.task.subtasks.forEach(e=>e.completed=t),this.allComplete=1==t)}updateAllComplete(t,e){var i,a;(null===(i=this.task)||void 0===i?void 0:i.subtasks[e])&&(this.task.subtasks[e].completed=t),this.allComplete=null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&this.task.subtasks.every(t=>t.completed)}someComplete(){var t;return null!=(null===(t=this.task)||void 0===t?void 0:t.subtasks)&&this.task.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}clickRemoveAllData(){var t,e,i,a,n,o=[],s=[];for(let c=0;c<(null!==(e=null===(t=this.task)||void 0===t?void 0:t.subtasks.length)&&void 0!==e?e:0);c++)1==(null===(i=this.task)||void 0===i?void 0:i.subtasks[c].completed)&&(o.push({id:Number(this.task.subtasks[c].id),curPage:null!==(a=this.task.subtasks[c].nextPage)&&void 0!==a?a:"",name:null!==(n=this.task.subtasks[c].fullName)&&void 0!==n?n:""}),s.push(Number(this.task.subtasks[c].id)));this.dialog.open(D,{width:"750px",data:{type:this.type,data:o}}).afterClosed().subscribe(t=>{var e,i,a;if(this.isLoading=!1,"remove"==t){for(let t=0;t<o.length;t++)for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)o[t].id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip(o),this.DataRemove.emit(s),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(t){var e,i,a;if(t){for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)t.id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip([t]),this.DataRevert.emit(t.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(t){for(var e=0;e<t.length;e++){var i=this.commonService.parseJson(t[e].curPage);i&&1==i.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(t,e,i){this.dataRevertDialog={obj:{curPage:null!=t?t:"",id:Number(e),name:null!=i?i:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var t,e;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(e=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>=1)}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(o.b),v.Pb(m.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-trash-student-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[v.Ab,v.Bb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["matTooltip","Hi\u1ec7n b\u1ea3n ghi c\u0169 h\u01a1n","mat-button","",1,"btn-all-add",3,"disabled","click"],[3,"data","closeDialog"]],template:function(t,e){if(1&t&&(v.Rc(0,Z,1,0,"azt-loading-effect",0),v.Rc(1,ct,8,6,"ng-template",null,1,v.Sc)),2&t){const t=v.Ac(2);v.nc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[a.m,C.a,T.a,a.l,P.a,R.b,w.a,L],pipes:[a.e],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px rgba(0,0,0,.1215686275);margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width:768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#f10}"]}),t})();function dt(t,e){1&t&&v.Qb(0,"azt-loading-effect")}function rt(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u. "),v.Ub(),v.Ub())}function bt(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," B\u1ea5m v\xe0o n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3n xem b\u1ea3n ghi c\u0169 h\u01a1n "),v.Ub(),v.Ub())}function ht(t,e){if(1&t){const t=v.Wb();v.Vb(0,"a",11),v.cc("click",function(){return v.Ec(t),v.gc(3).clickRemoveAllData()}),v.Tc(1,"x\xf3a"),v.Ub()}}function ut(t,e){if(1&t&&(v.Vb(0,"span",24),v.Tc(1),v.Ub()),2&t){const t=v.gc().$implicit;v.oc("matTooltip",t.name),v.Db(1),v.Uc(t.name)}}function gt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"div",12),v.Vb(2,"div",13),v.Vb(3,"div",14),v.Vb(4,"mat-checkbox",15),v.cc("change",function(i){v.Ec(t);const a=e.index;return v.gc(3).updateAllComplete(i.checked,a)}),v.Ub(),v.Ub(),v.Vb(5,"div",16),v.Vb(6,"span",17),v.Rc(7,ut,2,2,"span",18),v.Ub(),v.Vb(8,"span",19),v.Tc(9," Th\u1eddi gian x\xf3a: "),v.Vb(10,"span",20),v.hc(11,"date"),v.Tc(12),v.hc(13,"date"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(14,"div",21),v.cc("click",function(){v.Ec(t);const i=e.$implicit;return v.gc(3).clickRevertData(i.nextPage,i.id,i.name)}),v.Vb(15,"div",22),v.Vb(16,"span",23),v.Tc(17,"Kh\xf4i ph\u1ee5c"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit;v.Db(4),v.nc("checked",t.completed),v.Db(3),v.nc("ngIf",t.name),v.Db(3),v.oc("matTooltip",v.jc(11,4,t.deletedAt,"dd/MM/yyyy HH:mm")),v.Db(2),v.Uc(v.jc(13,7,t.deletedAt,"dd/MM/yyyy HH:mm"))}}function vt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"mat-checkbox",8),v.cc("change",function(e){return v.Ec(t),v.gc(2).setAll(e.checked)}),v.Tc(2," Ch\u1ecdn t\u1ea5t c\u1ea3 "),v.Ub(),v.Rc(3,ht,2,0,"a",9),v.Rc(4,gt,18,10,"div",10),v.Ub()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("checked",t.allComplete),v.Db(2),v.nc("ngIf",1==t.someComplete()||1==t.allComplete),v.Db(1),v.nc("ngForOf",null==t.task?null:t.task.subtasks)}}function pt(t,e){1&t&&v.Qb(0,"div",25)}function mt(t,e){if(1&t){const t=v.Wb();v.Tb(0),v.Vb(1,"button",26),v.cc("click",function(){return v.Ec(t),v.gc(2).seeMore()}),v.Vb(2,"mat-icon"),v.Tc(3,"keyboard_arrow_down"),v.Ub(),v.Ub(),v.Sb()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("disabled",!t.nextPage)}}function ft(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-revert-dialog",27),v.cc("closeDialog",function(e){return v.Ec(t),v.gc(2).closeRevertDialog(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",t.dataRevertDialog)}}function kt(t,e){if(1&t&&(v.Rc(0,rt,3,0,"div",2),v.Rc(1,bt,3,0,"div",2),v.Rc(2,vt,5,3,"div",2),v.Vb(3,"div",3),v.Vb(4,"div",4),v.Rc(5,pt,1,0,"div",5),v.Rc(6,mt,4,1,"ng-container",2),v.Ub(),v.Ub(),v.Rc(7,ft,1,1,"app-revert-dialog",6)),2&t){const t=v.gc();v.nc("ngIf",1==t.isCheckData&&!t.nextPage),v.Db(1),v.nc("ngIf",1==t.isCheckData&&t.nextPage),v.Db(1),v.nc("ngIf",0==t.isCheckData),v.Db(3),v.nc("ngIf",1==t.loadingMore),v.Db(1),v.nc("ngIf",0==t.loadingMore),v.Db(1),v.nc("ngIf",null==t.dataRevertDialog?null:t.dataRevertDialog.isShow)}}let xt=(()=>{class t extends y.a{constructor(t,e){super(e),this.dialog=t,this.commonService=e,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new v.o,this.DataRemove=new v.o,this.SeeMore=new v.o,this.isLoading=!1,this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1},this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var t,e,i,a,n=[];if(0!=(null===(t=this.data)||void 0===t?void 0:t.length))for(var o=0;o<(null!==(i=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==i?i:0);o++)n.push(Object.assign(Object.assign({},null===(a=this.data)||void 0===a?void 0:a[o]),{completed:!1}));this.task={completed:!1,subtasks:n}}setAll(t){var e;null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&(this.task.subtasks.forEach(e=>e.completed=t),this.allComplete=1==t)}updateAllComplete(t,e){var i,a;(null===(i=this.task)||void 0===i?void 0:i.subtasks[e])&&(this.task.subtasks[e].completed=t),this.allComplete=null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&this.task.subtasks.every(t=>t.completed)}someComplete(){var t;return null!=(null===(t=this.task)||void 0===t?void 0:t.subtasks)&&this.task.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}clickRemoveAllData(){var t,e,i,a,n,o=[],s=[];for(let c=0;c<(null!==(e=null===(t=this.task)||void 0===t?void 0:t.subtasks.length)&&void 0!==e?e:0);c++)1==(null===(i=this.task)||void 0===i?void 0:i.subtasks[c].completed)&&(o.push({id:Number(this.task.subtasks[c].id),curPage:null!==(a=this.task.subtasks[c].nextPage)&&void 0!==a?a:"",name:null!==(n=this.task.subtasks[c].name)&&void 0!==n?n:""}),s.push(Number(this.task.subtasks[c].id)));this.dialog.open(D,{width:"750px",data:{type:this.type,data:o}}).afterClosed().subscribe(t=>{var e,i,a;if(this.isLoading=!1,"remove"==t){for(let t=0;t<o.length;t++)for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)o[t].id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip(o),this.DataRemove.emit(s),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(t){var e,i,a;if(t){for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)t.id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip([t]),this.DataRevert.emit(t.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(t){for(var e=0;e<t.length;e++){var i=this.commonService.parseJson(t[e].curPage);i&&1==i.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(t,e,i){this.dataRevertDialog={obj:{curPage:null!=t?t:"",id:Number(e),name:null!=i?i:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var t,e;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(e=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>=1)}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(o.b),v.Pb(m.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-trash-homework-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[v.Ab,v.Bb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["matTooltip","Hi\u1ec7n b\u1ea3n ghi c\u0169 h\u01a1n","mat-button","",1,"btn-all-add",3,"disabled","click"],[3,"data","closeDialog"]],template:function(t,e){if(1&t&&(v.Rc(0,dt,1,0,"azt-loading-effect",0),v.Rc(1,kt,8,6,"ng-template",null,1,v.Sc)),2&t){const t=v.Ac(2);v.nc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[a.m,C.a,T.a,a.l,P.a,R.b,w.a,L],pipes:[a.e],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px rgba(0,0,0,.1215686275);margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width:768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#f10}"]}),t})();function yt(t,e){1&t&&v.Qb(0,"azt-loading-effect")}function Dt(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u. "),v.Ub(),v.Ub())}function Ct(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," B\u1ea5m v\xe0o n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3n xem b\u1ea3n ghi c\u0169 h\u01a1n "),v.Ub(),v.Ub())}function Tt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"a",11),v.cc("click",function(){return v.Ec(t),v.gc(3).clickRemoveAllData()}),v.Tc(1,"x\xf3a"),v.Ub()}}function Pt(t,e){if(1&t&&(v.Vb(0,"span",24),v.Tc(1),v.Ub()),2&t){const t=v.gc().$implicit;v.oc("matTooltip",t.name),v.Db(1),v.Uc(t.name)}}function Rt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"div",12),v.Vb(2,"div",13),v.Vb(3,"div",14),v.Vb(4,"mat-checkbox",15),v.cc("change",function(i){v.Ec(t);const a=e.index;return v.gc(3).updateAllComplete(i.checked,a)}),v.Ub(),v.Ub(),v.Vb(5,"div",16),v.Vb(6,"span",17),v.Rc(7,Pt,2,2,"span",18),v.Ub(),v.Vb(8,"span",19),v.Tc(9," Th\u1eddi gian x\xf3a: "),v.Vb(10,"span",20),v.hc(11,"date"),v.Tc(12),v.hc(13,"date"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(14,"div",21),v.cc("click",function(){v.Ec(t);const i=e.$implicit;return v.gc(3).clickRevertData(i.nextPage,i.id,i.name)}),v.Vb(15,"div",22),v.Vb(16,"span",23),v.Tc(17,"Kh\xf4i ph\u1ee5c"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit;v.Db(4),v.nc("checked",t.completed),v.Db(3),v.nc("ngIf",t.name),v.Db(3),v.oc("matTooltip",v.jc(11,4,t.deletedAt,"dd/MM/yyyy HH:mm")),v.Db(2),v.Uc(v.jc(13,7,t.deletedAt,"dd/MM/yyyy HH:mm"))}}function wt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"mat-checkbox",8),v.cc("change",function(e){return v.Ec(t),v.gc(2).setAll(e.checked)}),v.Tc(2," Ch\u1ecdn t\u1ea5t c\u1ea3 "),v.Ub(),v.Rc(3,Tt,2,0,"a",9),v.Rc(4,Rt,18,10,"div",10),v.Ub()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("checked",t.allComplete),v.Db(2),v.nc("ngIf",1==t.someComplete()||1==t.allComplete),v.Db(1),v.nc("ngForOf",null==t.task?null:t.task.subtasks)}}function Ot(t,e){1&t&&v.Qb(0,"div",25)}function Mt(t,e){if(1&t){const t=v.Wb();v.Tb(0),v.Vb(1,"button",26),v.cc("click",function(){return v.Ec(t),v.gc(2).seeMore()}),v.Vb(2,"mat-icon"),v.Tc(3,"keyboard_arrow_down"),v.Ub(),v.Ub(),v.Sb()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("disabled",!t.nextPage)}}function St(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-revert-dialog",27),v.cc("closeDialog",function(e){return v.Ec(t),v.gc(2).closeRevertDialog(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",t.dataRevertDialog)}}function _t(t,e){if(1&t&&(v.Rc(0,Dt,3,0,"div",2),v.Rc(1,Ct,3,0,"div",2),v.Rc(2,wt,5,3,"div",2),v.Vb(3,"div",3),v.Vb(4,"div",4),v.Rc(5,Ot,1,0,"div",5),v.Rc(6,Mt,4,1,"ng-container",2),v.Ub(),v.Ub(),v.Rc(7,St,1,1,"app-revert-dialog",6)),2&t){const t=v.gc();v.nc("ngIf",1==t.isCheckData&&!t.nextPage),v.Db(1),v.nc("ngIf",1==t.isCheckData&&t.nextPage),v.Db(1),v.nc("ngIf",0==t.isCheckData),v.Db(3),v.nc("ngIf",1==t.loadingMore),v.Db(1),v.nc("ngIf",0==t.loadingMore),v.Db(1),v.nc("ngIf",null==t.dataRevertDialog?null:t.dataRevertDialog.isShow)}}let Ut=(()=>{class t extends y.a{constructor(t,e){super(e),this.dialog=t,this.commonService=e,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new v.o,this.DataRemove=new v.o,this.SeeMore=new v.o,this.isLoading=!1,this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1},this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var t,e,i,a,n=[];if(0!=(null===(t=this.data)||void 0===t?void 0:t.length))for(var o=0;o<(null!==(i=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==i?i:0);o++)n.push(Object.assign(Object.assign({},null===(a=this.data)||void 0===a?void 0:a[o]),{completed:!1}));this.task={completed:!1,subtasks:n}}setAll(t){var e;null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&(this.task.subtasks.forEach(e=>e.completed=t),this.allComplete=1==t)}updateAllComplete(t,e){var i,a;(null===(i=this.task)||void 0===i?void 0:i.subtasks[e])&&(this.task.subtasks[e].completed=t),this.allComplete=null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&this.task.subtasks.every(t=>t.completed)}someComplete(){var t;return null!=(null===(t=this.task)||void 0===t?void 0:t.subtasks)&&this.task.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}clickRemoveAllData(){var t,e,i,a,n,o=[],s=[];for(let c=0;c<(null!==(e=null===(t=this.task)||void 0===t?void 0:t.subtasks.length)&&void 0!==e?e:0);c++)1==(null===(i=this.task)||void 0===i?void 0:i.subtasks[c].completed)&&(o.push({id:Number(this.task.subtasks[c].id),curPage:null!==(a=this.task.subtasks[c].nextPage)&&void 0!==a?a:"",name:null!==(n=this.task.subtasks[c].name)&&void 0!==n?n:""}),s.push(Number(this.task.subtasks[c].id)));this.dialog.open(D,{width:"750px",data:{type:this.type,data:o}}).afterClosed().subscribe(t=>{var e,i,a;if(this.isLoading=!1,"remove"==t){for(let t=0;t<o.length;t++)for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)o[t].id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip(o),this.DataRemove.emit(s),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(t){var e,i,a;if(t){for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)t.id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip([t]),this.DataRevert.emit(t.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(t){for(var e=0;e<t.length;e++){var i=this.commonService.parseJson(t[e].curPage);i&&1==i.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(t,e,i){this.dataRevertDialog={obj:{curPage:null!=t?t:"",id:Number(e),name:null!=i?i:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var t,e;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(e=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>=1)}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(o.b),v.Pb(m.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-trash-exam-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[v.Ab,v.Bb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["matTooltip","Hi\u1ec7n b\u1ea3n ghi c\u0169 h\u01a1n","mat-button","",1,"btn-all-add",3,"disabled","click"],[3,"data","closeDialog"]],template:function(t,e){if(1&t&&(v.Rc(0,yt,1,0,"azt-loading-effect",0),v.Rc(1,_t,8,6,"ng-template",null,1,v.Sc)),2&t){const t=v.Ac(2);v.nc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[a.m,C.a,T.a,a.l,P.a,R.b,w.a,L],pipes:[a.e],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px rgba(0,0,0,.1215686275);margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width:768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#f10}"]}),t})();function Vt(t,e){1&t&&v.Qb(0,"azt-loading-effect")}function jt(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u. "),v.Ub(),v.Ub())}function It(t,e){1&t&&(v.Vb(0,"div"),v.Vb(1,"div",7),v.Tc(2," B\u1ea5m v\xe0o n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3n xem b\u1ea3n ghi c\u0169 h\u01a1n "),v.Ub(),v.Ub())}function Et(t,e){if(1&t){const t=v.Wb();v.Vb(0,"a",11),v.cc("click",function(){return v.Ec(t),v.gc(3).clickRemoveAllData()}),v.Tc(1,"x\xf3a"),v.Ub()}}function At(t,e){if(1&t&&(v.Vb(0,"span",24),v.Tc(1),v.Ub()),2&t){const t=v.gc().$implicit;v.oc("matTooltip",t.name),v.Db(1),v.Uc(t.name)}}function Lt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"div",12),v.Vb(2,"div",13),v.Vb(3,"div",14),v.Vb(4,"mat-checkbox",15),v.cc("change",function(i){v.Ec(t);const a=e.index;return v.gc(3).updateAllComplete(i.checked,a)}),v.Ub(),v.Ub(),v.Vb(5,"div",16),v.Vb(6,"span",17),v.Rc(7,At,2,2,"span",18),v.Ub(),v.Vb(8,"span",19),v.Tc(9," Th\u1eddi gian x\xf3a: "),v.Vb(10,"span",20),v.hc(11,"date"),v.Tc(12),v.hc(13,"date"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Vb(14,"div",21),v.cc("click",function(){v.Ec(t);const i=e.$implicit;return v.gc(3).clickRevertData(i.nextPage,i.id,i.name)}),v.Vb(15,"div",22),v.Vb(16,"span",23),v.Tc(17,"Kh\xf4i ph\u1ee5c"),v.Ub(),v.Ub(),v.Ub(),v.Ub(),v.Ub()}if(2&t){const t=e.$implicit;v.Db(4),v.nc("checked",t.completed),v.Db(3),v.nc("ngIf",t.name),v.Db(3),v.oc("matTooltip",v.jc(11,4,t.deletedAt,"dd/MM/yyyy HH:mm")),v.Db(2),v.Uc(v.jc(13,7,t.deletedAt,"dd/MM/yyyy HH:mm"))}}function Nt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"div"),v.Vb(1,"mat-checkbox",8),v.cc("change",function(e){return v.Ec(t),v.gc(2).setAll(e.checked)}),v.Tc(2," Ch\u1ecdn t\u1ea5t c\u1ea3 "),v.Ub(),v.Rc(3,Et,2,0,"a",9),v.Rc(4,Lt,18,10,"div",10),v.Ub()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("checked",t.allComplete),v.Db(2),v.nc("ngIf",1==t.someComplete()||1==t.allComplete),v.Db(1),v.nc("ngForOf",null==t.task?null:t.task.subtasks)}}function Ht(t,e){1&t&&v.Qb(0,"div",25)}function Wt(t,e){if(1&t){const t=v.Wb();v.Tb(0),v.Vb(1,"button",26),v.cc("click",function(){return v.Ec(t),v.gc(2).seeMore()}),v.Vb(2,"mat-icon"),v.Tc(3,"keyboard_arrow_down"),v.Ub(),v.Ub(),v.Sb()}if(2&t){const t=v.gc(2);v.Db(1),v.nc("disabled",!t.nextPage)}}function Ft(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-revert-dialog",27),v.cc("closeDialog",function(e){return v.Ec(t),v.gc(2).closeRevertDialog(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",t.dataRevertDialog)}}function zt(t,e){if(1&t&&(v.Rc(0,jt,3,0,"div",2),v.Rc(1,It,3,0,"div",2),v.Rc(2,Nt,5,3,"div",2),v.Vb(3,"div",3),v.Vb(4,"div",4),v.Rc(5,Ht,1,0,"div",5),v.Rc(6,Wt,4,1,"ng-container",2),v.Ub(),v.Ub(),v.Rc(7,Ft,1,1,"app-revert-dialog",6)),2&t){const t=v.gc();v.nc("ngIf",1==t.isCheckData&&!t.nextPage),v.Db(1),v.nc("ngIf",1==t.isCheckData&&t.nextPage),v.Db(1),v.nc("ngIf",0==t.isCheckData),v.Db(3),v.nc("ngIf",1==t.loadingMore),v.Db(1),v.nc("ngIf",0==t.loadingMore),v.Db(1),v.nc("ngIf",null==t.dataRevertDialog?null:t.dataRevertDialog.isShow)}}let Bt=(()=>{class t extends y.a{constructor(t,e){super(e),this.dialog=t,this.commonService=e,this.nextPage="",this.type=0,this.pageReset=0,this.DataRevert=new v.o,this.DataRemove=new v.o,this.SeeMore=new v.o,this.isLoading=!1,this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1},this.allComplete=!1,this.isCheckData=!1,this.loadingMore=!1,this.skipObj={skipLive:0,skipArchive:0}}dataProcessing(){var t,e,i,a,n=[];if(0!=(null===(t=this.data)||void 0===t?void 0:t.length))for(var o=0;o<(null!==(i=null===(e=this.data)||void 0===e?void 0:e.length)&&void 0!==i?i:0);o++)n.push(Object.assign(Object.assign({},null===(a=this.data)||void 0===a?void 0:a[o]),{completed:!1}));this.task={completed:!1,subtasks:n}}setAll(t){var e;null!=(null===(e=this.task)||void 0===e?void 0:e.subtasks)&&(this.task.subtasks.forEach(e=>e.completed=t),this.allComplete=1==t)}updateAllComplete(t,e){var i,a;(null===(i=this.task)||void 0===i?void 0:i.subtasks[e])&&(this.task.subtasks[e].completed=t),this.allComplete=null!=(null===(a=this.task)||void 0===a?void 0:a.subtasks)&&this.task.subtasks.every(t=>t.completed)}someComplete(){var t;return null!=(null===(t=this.task)||void 0===t?void 0:t.subtasks)&&this.task.subtasks.filter(t=>t.completed).length>0&&!this.allComplete}clickRemoveAllData(){var t,e,i,a,n,o=[],s=[];for(let c=0;c<(null!==(e=null===(t=this.task)||void 0===t?void 0:t.subtasks.length)&&void 0!==e?e:0);c++)1==(null===(i=this.task)||void 0===i?void 0:i.subtasks[c].completed)&&(o.push({id:Number(this.task.subtasks[c].id),curPage:null!==(a=this.task.subtasks[c].nextPage)&&void 0!==a?a:"",name:null!==(n=this.task.subtasks[c].name)&&void 0!==n?n:""}),s.push(Number(this.task.subtasks[c].id)));this.dialog.open(D,{width:"750px",data:{type:this.type,data:o}}).afterClosed().subscribe(t=>{var e,i,a;if(this.isLoading=!1,"remove"==t){for(let t=0;t<o.length;t++)for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)o[t].id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip(o),this.DataRemove.emit(s),this.allComplete=!1}this.isLoading=!1})}closeRevertDialog(t){var e,i,a;if(t){for(let n=0;n<(null!==(i=null===(e=this.task)||void 0===e?void 0:e.subtasks.length)&&void 0!==i?i:0);n++)t.id==(null===(a=this.task)||void 0===a?void 0:a.subtasks[n].id)&&this.task.subtasks.splice(n,1);this.CalculateSkip([t]),this.DataRevert.emit(t.id)}this.dataRevertDialog={obj:{id:-1,curPage:"",name:""},type:0,isShow:!1}}CalculateSkip(t){for(var e=0;e<t.length;e++){var i=this.commonService.parseJson(t[e].curPage);i&&1==i.isArchive?this.skipObj.skipArchive++:this.skipObj.skipLive++}}clickRevertData(t,e,i){this.dataRevertDialog={obj:{curPage:null!=t?t:"",id:Number(e),name:null!=i?i:""},type:this.type,isShow:!0}}seeMore(){this.loadingMore=!0,this.SeeMore.emit({type:this.type,skipObj:this.skipObj})}ngOnInit(){super.ngOnInit()}ngOnChanges(){var t,e;this.loadingMore=!1,this.allComplete=!1,this.dataProcessing(),this.isCheckData=!((null!==(e=null===(t=this.data)||void 0===t?void 0:t.length)&&void 0!==e?e:0)>=1)}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(o.b),v.Pb(m.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-trash-exam-category-tab"]],inputs:{data:"data",nextPage:"nextPage",type:"type",pageReset:"pageReset"},outputs:{DataRevert:"DataRevert",DataRemove:"DataRemove",SeeMore:"SeeMore"},features:[v.Ab,v.Bb],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["doneLoading",""],[4,"ngIf"],[1,"mt-5","mb-3"],[1,"d-flex","justify-content-center"],["class","spinner-border spinner-border-sm","role","status","style","display: flex;",4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"block_none","py-5"],["color","primary",1,"check-all",3,"checked","change"],["class","buttom-delete",3,"click",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"buttom-delete",3,"click"],[1,"block-body"],[1,"block-body-main"],[1,"check-item"],["color","primary",3,"checked","change"],[1,"block-body-content"],[1,"notify__active"],["class","truncate mr-2 text-student",3,"matTooltip",4,"ngIf"],[1,"notify__time","truncate"],[3,"matTooltip"],[1,"block-body-status",3,"click"],[1,"text-center","text-white","class-info","pt-2","pb-2"],[1,"text-azo"],[1,"truncate","mr-2","text-student",3,"matTooltip"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex"],["matTooltip","Hi\u1ec7n b\u1ea3n ghi c\u0169 h\u01a1n","mat-button","",1,"btn-all-add",3,"disabled","click"],[3,"data","closeDialog"]],template:function(t,e){if(1&t&&(v.Rc(0,Vt,1,0,"azt-loading-effect",0),v.Rc(1,zt,8,6,"ng-template",null,1,v.Sc)),2&t){const t=v.Ac(2);v.nc("ngIf",e.isLoading)("ngIfElse",t)}},directives:[a.m,C.a,T.a,a.l,P.a,R.b,w.a,L],pipes:[a.e],styles:[".check-all[_ngcontent-%COMP%]{margin:20px 15px 0}.check-item[_ngcontent-%COMP%]{margin:8px 15px 0}.block-header[_ngcontent-%COMP%]{display:flex;align-items:center}.block-body[_ngcontent-%COMP%]{display:flex;justify-content:space-between;background:#fff;border-radius:3px;margin-top:20px;width:100%}.block-body-main[_ngcontent-%COMP%]{display:flex;align-items:center;max-width:70%}.block-body-status[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:10px;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#00c0ef;cursor:pointer;color:#fff;width:100px;font-weight:500;text-align:center}.block-body-status[_ngcontent-%COMP%]:hover{background-color:#00a2ca}.block-body-content[_ngcontent-%COMP%]{padding:10px;max-width:85%;display:flex;flex-direction:column;justify-content:center}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{font-weight:500;margin-bottom:2px;font-size:14px}.block-body-content[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:0}.block-body-content[_ngcontent-%COMP%]   .content-desc[_ngcontent-%COMP%]{margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.block_none[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;border:none;border-radius:3px;box-shadow:0 0 6px rgba(0,0,0,.1215686275);margin-top:15px}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:100%;padding:5px 0;white-space:nowrap}.text-student[_ngcontent-%COMP%]{font-weight:500}@media only screen and (max-width:768px){.block-body[_ngcontent-%COMP%], .block_none[_ngcontent-%COMP%]{height:auto}}.buttom-delete[_ngcontent-%COMP%]{float:right;margin:14px;padding:6px 15px;background:#f44336;color:#fff;border-radius:5px}.buttom-delete[_ngcontent-%COMP%]:hover{background:#f10}"]}),t})();function Gt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-trash-class-tab",13),v.cc("SeeMore",function(e){return v.Ec(t),v.gc(2).SeeMore(e)})("DataRevert",function(e){return v.Ec(t),v.gc(2).revertDataForTypeTab(e)})("DataRemove",function(e){return v.Ec(t),v.gc(2).removeDataForTypeTab(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",null==t.allDataTrash?null:t.allDataTrash.classRooms)("nextPage",t.nextPage)("type",0)}}function $t(t,e){if(1&t&&(v.Vb(0,"div",11),v.Rc(1,Gt,1,3,"app-trash-class-tab",12),v.Ub()),2&t){const t=v.gc();v.Db(1),v.nc("ngIf",0===t.typeTab)}}function Jt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-trash-student-tab",13),v.cc("SeeMore",function(e){return v.Ec(t),v.gc(2).SeeMore(e)})("DataRevert",function(e){return v.Ec(t),v.gc(2).revertDataForTypeTab(e)})("DataRemove",function(e){return v.Ec(t),v.gc(2).removeDataForTypeTab(e)}),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",null==t.allDataTrash?null:t.allDataTrash.students)("nextPage",t.nextPage)("type",1)}}function Kt(t,e){if(1&t&&(v.Vb(0,"div",11),v.Rc(1,Jt,1,3,"app-trash-student-tab",12),v.Ub()),2&t){const t=v.gc();v.Db(1),v.nc("ngIf",1===t.typeTab)}}function Qt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-trash-homework-tab",15),v.cc("SeeMore",function(e){return v.Ec(t),v.gc(2).SeeMore(e)})("DataRevert",function(e){return v.Ec(t),v.gc(2).revertDataForTypeTab(e)}),v.Tc(1,' (DataRemove)="removeDataForTypeTab($event)"> '),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",null==t.allDataTrash?null:t.allDataTrash.homeworks)("nextPage",t.nextPage)("type",2)}}function Xt(t,e){if(1&t&&(v.Vb(0,"div",11),v.Rc(1,Qt,2,3,"app-trash-homework-tab",14),v.Ub()),2&t){const t=v.gc();v.Db(1),v.nc("ngIf",2===t.typeTab)}}function Zt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-trash-exam-tab",15),v.cc("SeeMore",function(e){return v.Ec(t),v.gc(2).SeeMore(e)})("DataRevert",function(e){return v.Ec(t),v.gc(2).revertDataForTypeTab(e)}),v.Tc(1,' (DataRemove)="removeDataForTypeTab($event)"> '),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",null==t.allDataTrash?null:t.allDataTrash.exams)("nextPage",t.nextPage)("type",3)}}function qt(t,e){if(1&t&&(v.Vb(0,"div",11),v.Rc(1,Zt,2,3,"app-trash-exam-tab",14),v.Ub()),2&t){const t=v.gc();v.Db(1),v.nc("ngIf",3===t.typeTab)}}function Yt(t,e){if(1&t){const t=v.Wb();v.Vb(0,"app-trash-exam-category-tab",15),v.cc("SeeMore",function(e){return v.Ec(t),v.gc(2).SeeMore(e)})("DataRevert",function(e){return v.Ec(t),v.gc(2).revertDataForTypeTab(e)}),v.Tc(1,' (DataRemove)="removeDataForTypeTab($event)"> '),v.Ub()}if(2&t){const t=v.gc(2);v.nc("data",null==t.allDataTrash?null:t.allDataTrash.categories)("nextPage",t.nextPage)("type",4)}}function te(t,e){if(1&t&&(v.Vb(0,"div",11),v.Rc(1,Yt,2,3,"app-trash-exam-category-tab",14),v.Ub()),2&t){const t=v.gc();v.Db(1),v.nc("ngIf",4===t.typeTab)}}function ee(t,e){1&t&&v.Qb(0,"div",16)}let ie=(()=>{class t{constructor(t,e,i,a){this.router=t,this.trashService=e,this.commonService=i,this.baseApiService=a,this.isLoading=!1,this.typeTab=0,this.nextPage=""}getDataStudent(){this.trashService.apiTrashGetStudentObjsGet(this.nextPage.toString()).subscribe(t=>{var e,i,a,n,o,s,c,l,d,r;if(1==t.success){this.nextPage=null!==(i=null===(e=t.data)||void 0===e?void 0:e.nextPage)&&void 0!==i?i:"";var b=[];for(let e=0;e<(null!==(o=null===(n=null===(a=t.data)||void 0===a?void 0:a.objs)||void 0===n?void 0:n.length)&&void 0!==o?o:0);e++)b.push(Object.assign(Object.assign({},null===(c=null===(s=t.data)||void 0===s?void 0:s.objs)||void 0===c?void 0:c[e]),{nextPage:this.nextPage}));var h=null!==(r=null===(d=null===(l=this.allDataTrash)||void 0===l?void 0:l.students)||void 0===d?void 0:d.concat(b))&&void 0!==r?r:b;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{students:h})}this.isLoading=!1})}getDataHomework(){this.trashService.apiTrashGetHomeworkObjsGet(this.nextPage.toString()).subscribe(t=>{var e,i,a,n,o,s,c,l,d,r;if(1==t.success){var b=[];for(let s=0;s<(null!==(a=null===(i=null===(e=t.data)||void 0===e?void 0:e.objs)||void 0===i?void 0:i.length)&&void 0!==a?a:0);s++)b.push(Object.assign(Object.assign({},null===(o=null===(n=t.data)||void 0===n?void 0:n.objs)||void 0===o?void 0:o[s]),{nextPage:this.nextPage}));this.nextPage=null!==(c=null===(s=t.data)||void 0===s?void 0:s.nextPage)&&void 0!==c?c:"";var h=null!==(r=null===(d=null===(l=this.allDataTrash)||void 0===l?void 0:l.homeworks)||void 0===d?void 0:d.concat(b))&&void 0!==r?r:b;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{homeworks:h})}this.isLoading=!1})}getDataCategory(){this.trashService.apiTrashGetExamCategoryObjsGet(this.nextPage.toString()).subscribe(t=>{var e,i,a,n,o,s,c,l,d,r;if(1==t.success){var b=[];this.nextPage=null!==(i=null===(e=t.data)||void 0===e?void 0:e.nextPage)&&void 0!==i?i:"";for(let e=0;e<(null!==(o=null===(n=null===(a=t.data)||void 0===a?void 0:a.objs)||void 0===n?void 0:n.length)&&void 0!==o?o:0);e++)b.push(Object.assign(Object.assign({},null===(c=null===(s=t.data)||void 0===s?void 0:s.objs)||void 0===c?void 0:c[e]),{nextPage:this.nextPage}));var h=null!==(r=null===(d=null===(l=this.allDataTrash)||void 0===l?void 0:l.categories)||void 0===d?void 0:d.concat(b))&&void 0!==r?r:b;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{categories:h})}this.isLoading=!1})}getDataExam(){this.trashService.apiTrashGetExamObjsGet(this.nextPage).subscribe(t=>{var e,i,a,n,o,s,c,l,d,r;if(1==t.success){var b=[];this.nextPage=null!==(i=null===(e=t.data)||void 0===e?void 0:e.nextPage)&&void 0!==i?i:"";for(let e=0;e<(null!==(o=null===(n=null===(a=t.data)||void 0===a?void 0:a.objs)||void 0===n?void 0:n.length)&&void 0!==o?o:0);e++)b.push(Object.assign(Object.assign({},null===(c=null===(s=t.data)||void 0===s?void 0:s.objs)||void 0===c?void 0:c[e]),{nextPage:this.nextPage}));var h=null!==(r=null===(d=null===(l=this.allDataTrash)||void 0===l?void 0:l.exams)||void 0===d?void 0:d.concat(b))&&void 0!==r?r:b;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{exams:h})}this.isLoading=!1})}getDataClassroom(){this.trashService.apiTrashGetClassroomObjsGet(this.nextPage).subscribe(t=>{var e,i,a,n,o,s,c,l,d,r;if(1==t.success){this.nextPage=null!==(i=null===(e=t.data)||void 0===e?void 0:e.nextPage)&&void 0!==i?i:"";var b=[];for(let e=0;e<(null!==(o=null===(n=null===(a=t.data)||void 0===a?void 0:a.objs)||void 0===n?void 0:n.length)&&void 0!==o?o:0);e++)b.push(Object.assign(Object.assign({},null===(c=null===(s=t.data)||void 0===s?void 0:s.objs)||void 0===c?void 0:c[e]),{nextPage:this.nextPage}));var h=null!==(r=null===(d=null===(l=this.allDataTrash)||void 0===l?void 0:l.classRooms)||void 0===d?void 0:d.concat(b))&&void 0!==r?r:b;this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{classRooms:h})}this.isLoading=!1})}calculateNextPage(t){var e=this.commonService.parseJson(this.nextPage);e.skip=1==e.isArchive?null==t?void 0:t.skipArchive:null==t?void 0:t.skipLive,this.nextPage=JSON.stringify(e)}SelectedTabChange(t){this.isLoading=!0,this.nextPage="",this.allDataTrash={},null!=t&&t>=0&&(this.typeTab=t,this.commonService.myNavigation("/admin/trash/"+t)),this.getData()}SeeMore(t){this.calculateNextPage(t.skipObj),this.getData()}CheckDataForGetObj(){var t,e,i,a,n,o,s,c,l,d;0==(null===(e=null===(t=this.allDataTrash)||void 0===t?void 0:t.classRooms)||void 0===e?void 0:e.length)&&this.SelectedTabChange(-1),0==(null===(a=null===(i=this.allDataTrash)||void 0===i?void 0:i.students)||void 0===a?void 0:a.length)&&this.SelectedTabChange(-1),0==(null===(o=null===(n=this.allDataTrash)||void 0===n?void 0:n.homeworks)||void 0===o?void 0:o.length)&&this.SelectedTabChange(-1),0==(null===(c=null===(s=this.allDataTrash)||void 0===s?void 0:s.exams)||void 0===c?void 0:c.length)&&this.SelectedTabChange(-1),0==(null===(d=null===(l=this.allDataTrash)||void 0===l?void 0:l.categories)||void 0===d?void 0:d.length)&&this.SelectedTabChange(-1)}getData(){switch(this.typeTab){case 0:this.getDataClassroom();break;case 1:this.getDataStudent();break;case 2:this.getDataHomework();break;case 3:this.getDataExam();break;case 4:this.getDataCategory()}}revertDataForTypeTab(t){var e,i,a,n,o,s,c,l,d,r,b,h,u,g,v,p,m,f,k,x,y,D,C,T,P,R,w,O,M,S,_,U,V,j,I,E,A,L,N,H,W,F,z,B,G,$,J,K,Q,X,Z,q,Y,tt,et,it,at,nt,ot,st;if(0==this.typeTab)for(let ct=0;ct<(null!==(a=null===(i=null===(e=this.allDataTrash)||void 0===e?void 0:e.classRooms)||void 0===i?void 0:i.length)&&void 0!==a?a:0);ct++)if(t===(null===(o=null===(n=this.allDataTrash)||void 0===n?void 0:n.classRooms)||void 0===o?void 0:o[ct].id)){const t=null===(c=null===(s=this.allDataTrash)||void 0===s?void 0:s.classRooms)||void 0===c?void 0:c.indexOf(null===(d=null===(l=this.allDataTrash)||void 0===l?void 0:l.classRooms)||void 0===d?void 0:d[ct]);t>-1&&(null===(b=null===(r=this.allDataTrash)||void 0===r?void 0:r.classRooms)||void 0===b||b.splice(t,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{classRooms:null===(h=this.allDataTrash)||void 0===h?void 0:h.classRooms}))}if(1==this.typeTab)for(let ct=0;ct<(null!==(v=null===(g=null===(u=this.allDataTrash)||void 0===u?void 0:u.students)||void 0===g?void 0:g.length)&&void 0!==v?v:0);ct++)if(t===(null===(m=null===(p=this.allDataTrash)||void 0===p?void 0:p.students)||void 0===m?void 0:m[ct].id)){const t=null===(k=null===(f=this.allDataTrash)||void 0===f?void 0:f.students)||void 0===k?void 0:k.indexOf(null===(y=null===(x=this.allDataTrash)||void 0===x?void 0:x.students)||void 0===y?void 0:y[ct]);t>-1&&(null===(C=null===(D=this.allDataTrash)||void 0===D?void 0:D.students)||void 0===C||C.splice(t,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{students:null===(T=this.allDataTrash)||void 0===T?void 0:T.students}))}if(2==this.typeTab)for(let ct=0;ct<(null!==(w=null===(R=null===(P=this.allDataTrash)||void 0===P?void 0:P.homeworks)||void 0===R?void 0:R.length)&&void 0!==w?w:0);ct++)if(t===(null===(M=null===(O=this.allDataTrash)||void 0===O?void 0:O.homeworks)||void 0===M?void 0:M[ct].id)){const t=null===(_=null===(S=this.allDataTrash)||void 0===S?void 0:S.homeworks)||void 0===_?void 0:_.indexOf(null===(V=null===(U=this.allDataTrash)||void 0===U?void 0:U.homeworks)||void 0===V?void 0:V[ct]);t>-1&&(null===(I=null===(j=this.allDataTrash)||void 0===j?void 0:j.homeworks)||void 0===I||I.splice(t,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{homeworks:null===(E=this.allDataTrash)||void 0===E?void 0:E.homeworks}))}if(3==this.typeTab)for(let ct=0;ct<(null!==(N=null===(L=null===(A=this.allDataTrash)||void 0===A?void 0:A.exams)||void 0===L?void 0:L.length)&&void 0!==N?N:0);ct++)if(t===(null===(W=null===(H=this.allDataTrash)||void 0===H?void 0:H.exams)||void 0===W?void 0:W[ct].id)){const t=null===(z=null===(F=this.allDataTrash)||void 0===F?void 0:F.exams)||void 0===z?void 0:z.indexOf(null===(G=null===(B=this.allDataTrash)||void 0===B?void 0:B.exams)||void 0===G?void 0:G[ct]);t>-1&&(null===(J=null===($=this.allDataTrash)||void 0===$?void 0:$.exams)||void 0===J||J.splice(t,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{exams:null===(K=this.allDataTrash)||void 0===K?void 0:K.exams}))}if(4==this.typeTab)for(let ct=0;ct<(null!==(Z=null===(X=null===(Q=this.allDataTrash)||void 0===Q?void 0:Q.categories)||void 0===X?void 0:X.length)&&void 0!==Z?Z:0);ct++)if(t===(null===(Y=null===(q=this.allDataTrash)||void 0===q?void 0:q.categories)||void 0===Y?void 0:Y[ct].id)){const t=null===(et=null===(tt=this.allDataTrash)||void 0===tt?void 0:tt.categories)||void 0===et?void 0:et.indexOf(null===(at=null===(it=this.allDataTrash)||void 0===it?void 0:it.categories)||void 0===at?void 0:at[ct]);t>-1&&(null===(ot=null===(nt=this.allDataTrash)||void 0===nt?void 0:nt.categories)||void 0===ot||ot.splice(t,1),this.allDataTrash=Object.assign(Object.assign({},this.allDataTrash),{categories:null===(st=this.allDataTrash)||void 0===st?void 0:st.categories}))}this.CheckDataForGetObj()}removeDataForTypeTab(t){var e,i,a,n,o,s,c,l,d,r,b,h,u,g,v,p,m,f,k,x,y,D,C,T,P,R,w,O,M,S,_,U,V,j,I;for(let E=0;E<t.length;E++){if(0==this.typeTab)for(let l=0;l<(null!==(a=null===(i=null===(e=this.allDataTrash)||void 0===e?void 0:e.classRooms)||void 0===i?void 0:i.length)&&void 0!==a?a:0);l++)t[E]==(null===(o=null===(n=this.allDataTrash)||void 0===n?void 0:n.classRooms)||void 0===o?void 0:o[l].id)&&(null===(c=null===(s=this.allDataTrash)||void 0===s?void 0:s.classRooms)||void 0===c||c.splice(l,1));if(1==this.typeTab)for(let e=0;e<(null!==(r=null===(d=null===(l=this.allDataTrash)||void 0===l?void 0:l.students)||void 0===d?void 0:d.length)&&void 0!==r?r:0);e++)t[E]==(null===(h=null===(b=this.allDataTrash)||void 0===b?void 0:b.students)||void 0===h?void 0:h[e].id)&&(null===(g=null===(u=this.allDataTrash)||void 0===u?void 0:u.students)||void 0===g||g.splice(e,1));if(2==this.typeTab)for(let e=0;e<(null!==(m=null===(p=null===(v=this.allDataTrash)||void 0===v?void 0:v.homeworks)||void 0===p?void 0:p.length)&&void 0!==m?m:0);e++)t[E]==(null===(k=null===(f=this.allDataTrash)||void 0===f?void 0:f.homeworks)||void 0===k?void 0:k[e].id)&&(null===(y=null===(x=this.allDataTrash)||void 0===x?void 0:x.homeworks)||void 0===y||y.splice(e,1));if(3==this.typeTab)for(let e=0;e<(null!==(T=null===(C=null===(D=this.allDataTrash)||void 0===D?void 0:D.exams)||void 0===C?void 0:C.length)&&void 0!==T?T:0);e++)t[E]==(null===(R=null===(P=this.allDataTrash)||void 0===P?void 0:P.exams)||void 0===R?void 0:R[e].id)&&(null===(O=null===(w=this.allDataTrash)||void 0===w?void 0:w.exams)||void 0===O||O.splice(e,1));if(4==this.typeTab)for(let e=0;e<(null!==(_=null===(S=null===(M=this.allDataTrash)||void 0===M?void 0:M.categories)||void 0===S?void 0:S.length)&&void 0!==_?_:0);e++)t[E]==(null===(V=null===(U=this.allDataTrash)||void 0===U?void 0:U.categories)||void 0===V?void 0:V[e].id)&&(null===(I=null===(j=this.allDataTrash)||void 0===j?void 0:j.categories)||void 0===I||I.splice(e,1))}this.CheckDataForGetObj()}ngOnInit(){this.isLoading=!0;var t=this.router.snapshot.paramMap.get("type");this.typeTab=parseInt(t||"0",10),this.getData(),this.commonService.translateMetaData({title:"lang_cms_trash_title",description:"lang_cms_trash_description",image:"lang_cms_test_image"})}}return t.\u0275fac=function(e){return new(e||t)(v.Pb(s.a),v.Pb(p.hb),v.Pb(m.a),v.Pb(f.a))},t.\u0275cmp=v.Jb({type:t,selectors:[["app-trash"]],decls:15,vars:9,consts:[[3,"headerTitle","back_link"],[1,"container"],[1,"app","py-4","maxW1200"],[3,"selectedIndex","selectedTabChange"],["label","L\u1edbp h\u1ecdc"],["class","wrapper",4,"ngIf"],["label","H\u1ecdc sinh"],["label","B\xe0i t\u1eadp"],["label","\u0110\u1ec1 thi"],["label","Th\u01b0 m\u1ee5c \u0111\u1ec1 thi"],["class","spinner-border spinner-border-sm","role","status","style","display: flex; margin: 20% auto;",4,"ngIf"],[1,"wrapper"],[3,"data","nextPage","type","SeeMore","DataRevert","DataRemove",4,"ngIf"],[3,"data","nextPage","type","SeeMore","DataRevert","DataRemove"],[3,"data","nextPage","type","SeeMore","DataRevert",4,"ngIf"],[3,"data","nextPage","type","SeeMore","DataRevert"],["role","status",1,"spinner-border","spinner-border-sm",2,"display","flex","margin","20% auto"]],template:function(t,e){1&t&&(v.Qb(0,"header-backend",0),v.Vb(1,"div",1),v.Vb(2,"div",2),v.Vb(3,"mat-tab-group",3),v.cc("selectedTabChange",function(t){return e.SelectedTabChange(t.index)}),v.Vb(4,"mat-tab",4),v.Rc(5,$t,2,1,"div",5),v.Ub(),v.Vb(6,"mat-tab",6),v.Rc(7,Kt,2,1,"div",5),v.Ub(),v.Vb(8,"mat-tab",7),v.Rc(9,Xt,2,1,"div",5),v.Ub(),v.Vb(10,"mat-tab",8),v.Rc(11,qt,2,1,"div",5),v.Ub(),v.Vb(12,"mat-tab",9),v.Rc(13,te,2,1,"div",5),v.Ub(),v.Ub(),v.Rc(14,ee,1,0,"div",10),v.Ub(),v.Ub()),2&t&&(v.nc("headerTitle","Th\xf9ng R\xe1c")("back_link","/admin/testbank/dashboard"),v.Db(3),v.nc("selectedIndex",e.typeTab),v.Db(2),v.nc("ngIf",!1===e.isLoading),v.Db(2),v.nc("ngIf",!1===e.isLoading),v.Db(2),v.nc("ngIf",!1===e.isLoading),v.Db(2),v.nc("ngIf",!1===e.isLoading),v.Db(2),v.nc("ngIf",!1===e.isLoading),v.Db(1),v.nc("ngIf",!0===e.isLoading))},directives:[k.a,x.b,x.a,a.m,X,lt,xt,Ut,Bt],styles:[".wrapper[_ngcontent-%COMP%]{overflow-x:hidden}"]}),t})();const ae=[{path:"",component:ie,canActivate:[g.a],children:[{path:"",canActivateChild:[g.a],children:[{path:"",component:ie}]}]}];let ne=(()=>{class t{}return t.\u0275mod=v.Nb({type:t}),t.\u0275inj=v.Mb({factory:function(e){return new(e||t)},imports:[[s.l.forChild(ae)],s.l,u.c]}),t})(),oe=(()=>{class t{}return t.\u0275mod=v.Nb({type:t}),t.\u0275inj=v.Mb({factory:function(e){return new(e||t)},imports:[[s.l,a.c,h.a,c.b,n.m,n.x,o.f,b.a,l.b,d.b,ne,r.a]]}),t})()}}]);