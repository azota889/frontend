"use strict";(self.webpackChunkBalacoClient=self.webpackChunkBalacoClient||[]).push([[603],{71572:(Mt,tt,a)=>{a.d(tt,{o:()=>rt});var A=a(55330),c=a(5e3),nt=a(25245),F=a(92181),it=a(87238),lt=a(1033);let rt=(()=>{class U extends A.Q{constructor(){super(...arguments),this.linkUrl="",this.id="",this.fileName=""}bindUrlToQrCode(){let I=document.getElementById("qrcode_making"+this.id);I&&(I.textContent="");try{this.qrcode=this.commonService.createObjectQrcode(this.linkUrl,128,128,"url",!1,"qrcode_making"+this.id)}catch(Z){console.log("Create qrcode error")}}downloadQrCode(){try{var I=this.qrcode._oDrawing.dataURL,Z=document.createElement("a");document.body.appendChild(Z),Z.setAttribute("href",I),Z.setAttribute("download",""!=this.fileName?this.commonService.createFileNameExportFile([this.fileName])+".jpg":this.commonService.createFileNameExportFile(["azota-qr-code-"])+".jpg"),Z.click()}catch(N){console.log("Download qrcode error")}}}return U.\u0275fac=function(){let E;return function(Z){return(E||(E=c.n5z(U)))(Z||U)}}(),U.\u0275cmp=c.Xpm({type:U,selectors:[["azt-download-qr-code"]],inputs:{linkUrl:"linkUrl",id:"id",fileName:"fileName"},features:[c.qOj],decls:12,vars:8,consts:[[1,"clickable",2,"font-size","19px","height","19px","width","19px","color","#2163ae",3,"matMenuTriggerFor","matTooltip","click"],["showQrCode","matMenu"],[1,"content",3,"click"],[1,"upload-qr-box-item-content-qr",3,"id"],[1,"pt-2","clickable",2,"color","#007bff","align-items","center","display","flex","justify-content","center",3,"click"]],template:function(I,Z){if(1&I&&(c.TgZ(0,"mat-icon",0),c.NdJ("click",function(){return Z.bindUrlToQrCode()}),c.ALo(1,"mytranslate"),c._uU(2,"qr_code"),c.qZA(),c.TgZ(3,"mat-menu",null,1)(5,"div",2),c.NdJ("click",function(J){return J.stopPropagation()}),c._UZ(6,"div",3),c.TgZ(7,"div",4),c.NdJ("click",function(){return Z.downloadQrCode()}),c.TgZ(8,"mat-icon"),c._uU(9,"save_alt"),c.qZA(),c._uU(10),c.ALo(11,"mytranslate"),c.qZA()()()),2&I){const N=c.MAs(4);c.s9C("matTooltip",c.lcZ(1,4,"lang_auto_quet_hoac_tai_ma_qr_code")),c.Q6J("matMenuTriggerFor",N),c.xp6(6),c.MGl("id","qrcode_making",Z.id,""),c.xp6(4),c.hij(" ",c.lcZ(11,6,"lang_auto_tai_ve_may"),"")}},dependencies:[nt.Hw,F.VK,F.p6,it.gM,lt.bT],styles:[".upload-qr-box[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-item[_ngcontent-%COMP%]{display:flex}.upload-qr-box-item-content[_ngcontent-%COMP%]{font-size:16px;margin-left:10px;width:100%}.upload-qr-box-item-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px!important}.upload-qr-box-item-content-qr[_ngcontent-%COMP%]{display:flex;justify-content:center}.upload-qr-box-url[_ngcontent-%COMP%]{margin-top:10px}.upload-qr-box-url-link[_ngcontent-%COMP%]{font-weight:500;text-align:center;color:#42aba2;font-size:larger;background:white;padding:5px;border-radius:5px}.content[_ngcontent-%COMP%]{margin:0 20px}"]}),U})()},83603:(Mt,tt,a)=>{a.r(tt),a.d(tt,{HomeworkFrontModule:()=>Go});var A=a(69808),c=a(93075),nt=a(48966),F=a(74202),it=a(51908),lt=a(1737),rt=a(63728),U=a(63312),E=a(75658),I=a(95880),Z=a(37389),N=a(45668),J=a(55330),t=a(5e3);let At=(()=>{class o extends J.Q{}return o.\u0275fac=function(){let l;return function(n){return(l||(l=t.n5z(o)))(n||o)}}(),o.\u0275cmp=t.Xpm({type:o,selectors:[["app-test-dashboard"]],features:[t.qOj],decls:2,vars:0,consts:[["id","homework-frontend-layout"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},dependencies:[F.lC],encapsulation:2}),o})();var W=a(70655),bt=a(40520),Zt=a(36053),S=a(51442),R=a(35018),vt=a(43147),Tt=a(58326),St=a(64262),X=a(82878),Pt=a(12813),xt=a(2366),Ht=a(88386),Ft=a(35191),et=a(47423),st=a(25245),Lt=a(87238),kt=a(47691),qt=a(58496),It=a(81903),Jt=a(58410),Dt=a(73852),Ot=a(37104),Ut=a(71572),Nt=a(49692),Qt=a(61886),P=a(1033);const ot=function(o){return[o]};function Yt(o,l){1&o&&(t.TgZ(0,"p")(1,"a",7),t.ALo(2,"localize"),t._uU(3),t.ALo(4,"mytranslate"),t.qZA()()),2&o&&(t.xp6(1),t.Q6J("routerLink",t.VKq(6,ot,t.lcZ(2,2,"/admin/dashboard"))),t.xp6(2),t.Oqu(t.lcZ(4,4,"lang_homework_homework_frontend_utils_back_to_teacher")))}function zt(o,l){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.lnq(" ",e.userObj.id,".",e.userObj.fullName,".Zalo:",e.userObj.zaloId," ")}}function Et(o,l){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"anonymousFullName"),t.ALo(3,"anonymousPhone"),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.lnq(" ",e.userObj.id,".",t.lcZ(2,3,e.userObj),".",null!=e.userObj&&e.userObj.phone?null==e.userObj?null:e.userObj.phone:t.lcZ(3,5,"")," ")}}function Rt(o,l){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"mytranslate"),t.YNc(3,zt,2,3,"span",2),t.YNc(4,Et,4,7,"span",2),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,3,"lang_homework_homework_frontend_utils_account"),": "),t.xp6(2),t.Q6J("ngIf",e.userObj.zaloId),t.xp6(1),t.Q6J("ngIf",!e.userObj.zaloId)}}const Gt=function(o){return{return_url:o}},Kt=function(o){return{return_url:o,from:"register",user_click:"true"}};function Bt(o,l){if(1&o&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"a",8),t.ALo(4,"localize"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._uU(7),t.ALo(8,"mytranslate"),t.TgZ(9,"a",8),t.ALo(10,"localize"),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(1),t.hij("",t.lcZ(2,8,"lang_homework_homework_frontend_utils_tutorial")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(20,ot,t.lcZ(4,10,"/auth/register/0")))("queryParams",t.VKq(22,Gt,e.returnUrl)),t.xp6(2),t.Oqu(t.lcZ(6,12,"lang_buttom_register")),t.xp6(2),t.hij(" ",t.lcZ(8,14,"lang_homework_homework_frontend_utils_or_account")," "),t.xp6(2),t.Q6J("routerLink",t.VKq(24,ot,t.lcZ(10,16,"/auth/login")))("queryParams",t.VKq(26,Kt,e.returnUrl)),t.xp6(2),t.Oqu(t.lcZ(12,18,"lang_buttom_login"))}}function $t(o,l){1&o&&(t.TgZ(0,"p"),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"a",7),t.ALo(4,"localize"),t._uU(5),t.ALo(6,"mytranslate"),t.qZA()()),2&o&&(t.xp6(1),t.hij("",t.lcZ(2,3,"lang_homework_homework_frontend_utils_tutorial_register"),": "),t.xp6(2),t.Q6J("routerLink",t.VKq(9,ot,t.lcZ(4,5,"/auth/switch-teacher-student"))),t.xp6(2),t.Oqu(t.lcZ(6,7,"lang_homework_homework_frontend_utils_register_teacher")))}function Vt(o,l){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,Yt,5,8,"p",2),t.YNc(2,Rt,5,5,"p",2),t.YNc(3,Bt,13,28,"p",2),t.YNc(4,$t,7,11,"p",2),t.TgZ(5,"p")(6,"a",3),t._UZ(7,"img",4),t.qZA(),t.TgZ(8,"a",5),t._UZ(9,"img",6),t.ALo(10,"convertCdn"),t.qZA()()()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.checkTeacher()),t.xp6(1),t.Q6J("ngIf",!e.checkAnonymous()),t.xp6(1),t.Q6J("ngIf",e.checkAnonymous()),t.xp6(1),t.Q6J("ngIf",!e.checkTeacher()),t.xp6(3),t.Q6J("src","https://play.google.com/intl/en_us/badges/images/generic/en_badge_web_generic.png",t.LSH),t.xp6(2),t.Q6J("src",t.lcZ(10,6,"azota_assets/images/2928664.svg"),t.LSH)}}let Wt=(()=>{class o extends J.Q{constructor(e,n,i){super(n),this.baseApiService=e,this.commonService=n,this.globalService=i,this.userObj={},this.returnUrl=""}checkAnonymous(){return this.baseApiService.isAnonymousRole()}checkTeacher(){return this.baseApiService.isTeacherRole()}ngOnInit(){this.returnUrl=this.commonService.getMyQueryParam("return_url")||this.commonService.getCurrentUrl(),this.userObj=this.baseApiService.getUserObj(),this.globalService.loginMessage.subscribe(e=>{this.userObj=this.baseApiService.getUserObj()}),super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(vt._),t.Y36(R.v),t.Y36(Qt.U))},o.\u0275cmp=t.Xpm({type:o,selectors:[["homework-frontend-footer"]],features:[t.qOj],decls:1,vars:1,consts:[["class","text-center mt-3",4,"ngIf"],[1,"text-center","mt-3"],[4,"ngIf"],["href","https://play.google.com/store/apps/details?id=azt.azt","target","_blank","rel","noopener"],["alt","Get it on Google Play","width","150px",1,"play-store-badge",3,"src"],["href","https://apps.apple.com/ua/app/azota/id1556025594","target","_blank","rel","noopener"],["alt","Download on the App Store","width","130px",1,"app-store-badge",3,"src"],[3,"routerLink"],[3,"routerLink","queryParams"]],template:function(e,n){1&e&&t.YNc(0,Vt,11,8,"div",0),2&e&&t.Q6J("ngIf",0!=n.userObj.id)},dependencies:[F.yS,A.O5,P.bT,P.C5,P.ke,P.BI,Z.lO],encapsulation:2}),o})();var Ct=a(42873);function Xt(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"p",5),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"a",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.redirectToRegister())}),t._uU(6),t.ALo(7,"mytranslate"),t.qZA(),t.TgZ(8,"p",7),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"a",6),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.redirectToLogin())}),t._uU(12),t.ALo(13,"mytranslate"),t.qZA()()()}2&o&&(t.xp6(3),t.hij("",t.lcZ(4,4,"lang_homework_homework_frontend_submit_homework_register_account_submit"),"!"),t.xp6(3),t.Oqu(t.lcZ(7,6,"lang_buttom_register")),t.xp6(3),t.hij("",t.lcZ(10,8,"lang_homework_homework_frontend_submit_homework_have_account"),"?"),t.xp6(3),t.Oqu(t.lcZ(13,10,"lang_buttom_login")))}function te(o,l){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",13),t._uU(2,"\xa0"),t.qZA())}function ee(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"p",8),t._uU(3),t.ALo(4,"mytranslate"),t.qZA(),t.TgZ(5,"p",9),t._uU(6),t.ALo(7,"mytranslate"),t.qZA()(),t.TgZ(8,"div",10)(9,"button",11),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.confirmQuit())}),t.YNc(10,te,3,0,"span",12),t._uU(11),t.ALo(12,"mytranslate"),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,4,"lang_homework_homework_frontend_submit_homework_register_account_submit"),"!"),t.xp6(3),t.Oqu(t.lcZ(7,6,"lang_buttom_register")),t.xp6(4),t.Q6J("ngIf",!0===e.isLoading),t.xp6(1),t.hij(" ",t.lcZ(12,8,"lang_buttom_confirm")," ")}}function oe(o,l){if(1&o&&(t.TgZ(0,"div",1),t.YNc(1,Xt,14,12,"div",2),t.YNc(2,ee,13,10,"div",2),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0==e.viewType),t.xp6(1),t.Q6J("ngIf",1==e.viewType)}}let ne=(()=>{class o extends J.Q{constructor(e,n,i){super(e),this.commonService=e,this.router=n,this.redirectService=i,this.closeDialog=new t.vpe,this.isLoading=!1,this.viewType=0}confirmQuit(){this.closeDialog.emit(!0)}checkType(e){"redirect_register"==e?this.viewType=0:"submit_name"==e&&(this.viewType=1)}redirectToRegister(){this.redirectService.redirectRegisterForStudent()}redirectToLogin(){this.redirectService.redirectToLoginBackLinkWithFromRegister(`${this.router.url}`)}ngOnInit(){this.data&&this.checkType(this.data.type),super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(R.v),t.Y36(F.F0),t.Y36(Ct.V))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-message-dialog"]],inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],["class","school-info p-4",4,"ngIf"],[1,"school-info","p-4"],[1,"text-center"],[1,"mb-2","h5"],[1,"mb-0","h4","text-info","clickable",3,"click"],[1,"mb-2","h5","mt-4"],[1,"mb-1","h5"],[1,"mb-0","h4","text-info"],[1,"d-flex","float-right","mt-3"],["mat-raised-button","","color","warn",2,"margin-left","15px",3,"click"],[4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,n){1&e&&t.YNc(0,oe,3,2,"div",0),2&e&&t.Q6J("ngIf",null==n.data?null:n.data.isShow)},dependencies:[A.O5,et.lW,P.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:600px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),o})();var jt=a(15043);function ie(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,r=t.oxw(2);return t.KtG(r.viewDetailHistory(null==i?null:i.id))}),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()}2&o&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_auto_xem_chi_tiet")))}function le(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",17)(1,"a",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(4);return t.KtG(s.onShowFile(r,-1))}),t.TgZ(2,"mat-icon",19),t._uU(3,"attach_file"),t.qZA(),t.TgZ(4,"span",20),t._uU(5),t.qZA()()()}if(2&o){const e=l.$implicit;t.xp6(4),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function re(o,l){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,le,6,2,"div",16),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.fileParse)}}function se(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",17)(1,"a",18),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(5);return t.KtG(s.onShowFile(r,-1))}),t.TgZ(2,"mat-icon",19),t._uU(3,"attach_file"),t.qZA(),t.TgZ(4,"span",20),t._uU(5),t.qZA()()()}if(2&o){const e=l.$implicit;t.xp6(4),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function ae(o,l){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,se,6,2,"div",16),t.qZA()),2&o){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.fileParse)}}function _e(o,l){if(1&o&&(t.TgZ(0,"p",8),t._UZ(1,"azt-check-mark",29),t.qZA()),2&o){const e=t.oxw(3).$implicit;t.xp6(1),t.Q6J("mark",e.point)}}function ce(o,l){if(1&o&&(t.TgZ(0,"div",23)(1,"div",24),t.YNc(2,_e,2,1,"p",25),t.qZA(),t.TgZ(3,"div",26)(4,"span",27),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._UZ(7,"div",28),t.qZA()()),2&o){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngIf",!e.hideMark),t.xp6(3),t.Oqu(t.lcZ(6,3,"lang_homework_homework_frontend_utils_comment")),t.xp6(2),t.Q6J("innerHTML",e.note,t.oJD)}}function de(o,l){if(1&o&&(t.TgZ(0,"div",21),t.YNc(1,ae,2,1,"div",12),t.YNc(2,ce,8,5,"div",22),t.qZA()),2&o){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.fileParse&&e.fileParse.length>0),t.xp6(1),t.Q6J("ngIf",null!=e&&null!=e.confirmedAt)}}function me(o,l){if(1&o&&(t.TgZ(0,"div",6)(1,"div",7)(2,"span",8),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"date"),t.qZA(),t.YNc(6,ie,3,3,"a",9),t.qZA(),t.TgZ(7,"div",7)(8,"span",10),t._uU(9),t.ALo(10,"mytranslate"),t.TgZ(11,"span",11),t._uU(12),t.qZA()()(),t.YNc(13,re,2,1,"div",12),t.YNc(14,de,3,2,"div",13),t.qZA()),2&o){const e=l.$implicit;t.xp6(3),t.AsE("",t.lcZ(4,7,"lang_auto_nop_luc"),": ",t.xi3(5,9,e.createdAt,"dd/MM/yyyy hh:mm"),""),t.xp6(3),t.Q6J("ngIf",e.result),t.xp6(3),t.hij("",t.lcZ(10,12,"lang_homework_homework_frontend_utils_request_submit"),": "),t.xp6(3),t.Oqu(e.resendNote),t.xp6(1),t.Q6J("ngIf",!e.result&&e.files),t.xp6(1),t.Q6J("ngIf",e.result)}}function ue(o,l){if(1&o&&(t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"span",4),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()(),t.YNc(6,me,15,14,"div",5),t.qZA()),2&o){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,2,"lang_homework_homework_frontend_utils_history_submit")),t.xp6(2),t.Q6J("ngForOf",e.dataAnswerHistory)}}let pe=(()=>{class o extends J.Q{constructor(e,n){super(e),this.commonService=e,this.cdnService=n,this.previewFileEmit=new t.vpe,this.isShowPreviewFile=!1,this.answerFile=null}viewDetailHistory(e){var n,i;this.commonService.myNavigation("/homework/view-homework/"+(null===(n=this.dataHomeworkObj)||void 0===n?void 0:n.id)+"/"+(null===(i=this.dataHomeworkObj)||void 0===i?void 0:i.hashId)+"/"+e)}onFileClose(){this.isShowPreviewFile=!1}onShowFile(e,n){this.isShowPreviewFile=!0;let i=Object.assign(Object.assign({},e),{index:n});this.previewFileEmit.emit(i)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(R.v),t.Y36(jt.U))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-answer-history"]],inputs:{dataAnswerHistory:"dataAnswerHistory",dataHomeworkObj:"dataHomeworkObj"},outputs:{previewFileEmit:"previewFileEmit"},features:[t.qOj],decls:1,vars:1,consts:[["class","card-box mt-3",4,"ngIf"],[1,"card-box","mt-3"],[1,"row","top-row"],[1,"col-12","text-center"],[1,"h5","text-white"],["class","ml-0 mr-0 mt-4 attach-container p-2",4,"ngFor","ngForOf"],[1,"ml-0","mr-0","mt-4","attach-container","p-2"],[1,"flex-title","mt-2","pl-3","pr-3"],[1,"mb-0"],[3,"click",4,"ngIf"],[1,"mb-0",2,"font-weight","400"],[1,"text-danger","text-bold"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],["class","mt-2",4,"ngIf"],[3,"click"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px","vertical-align","sub"],[1,"truncate",2,"line-height","1.6",3,"title"],[1,"mt-2"],["class","row justify-content-between mt-2","style","margin: 16px!important;",4,"ngIf"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-sm-3","col-md-3","col-lg-3","_col-left_result","text-center"],["class","mb-0",4,"ngIf"],[1,"col-sm-8","col-md-8","col-lg-8","_col-right_result"],[1,"h5","title"],[1,"content-homework","pt-3",3,"innerHTML"],[3,"mark"]],template:function(e,n){1&e&&t.YNc(0,ue,7,4,"div",0),2&e&&t.Q6J("ngIf",n.dataAnswerHistory&&n.dataAnswerHistory.length>0)},dependencies:[A.sg,A.O5,st.Hw,Ot.B,A.uU,P.bT],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}@font-face{font-family:handwriting_font;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px;font-family:handwriting_font!important}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4;font-family:handwriting_font!important}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}"]}),o})();const ge=["ContentDialog"];function he(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2,3)(3,"div",4)(4,"p",5),t._uU(5),t.ALo(6,"mytranslate"),t.TgZ(7,"b"),t._uU(8),t.qZA(),t._uU(9),t.ALo(10,"mytranslate"),t.ALo(11,"mytranslate"),t.ALo(12,"mytranslate"),t.TgZ(13,"b"),t._uU(14),t.qZA(),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()(),t.TgZ(17,"div",6)(18,"div",7)(19,"button",8),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.btnCloseDialog())}),t._uU(20),t.ALo(21,"mytranslate"),t.qZA()(),t.TgZ(22,"button",9),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.goToLogin())}),t._uU(23),t.ALo(24,"mytranslate"),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,8,"lang_auto_hoc_sinh")," "),t.xp6(3),t.Oqu(null==e.data||null==e.data.studentObj?null:e.data.studentObj.fullName),t.xp6(1),t.AsE(" ",t.lcZ(10,10,"lang_auto_da_duoc_chon_boi_tai_khoan")," ",""!=(null==e.data||null==e.data.studentObj?null:e.data.studentObj.last4DigitPhone)?t.lcZ(11,12,"lang_auto_voi_sdt_co_duoi")+"- xxx xxx":t.lcZ(12,14,"lang_auto_voi_ten_zalo")+"-"," "),t.xp6(5),t.Oqu(""!=(null==e.data||null==e.data.studentObj?null:e.data.studentObj.last4DigitPhone)?null==e.data||null==e.data.studentObj?null:e.data.studentObj.last4DigitPhone:null==e.data||null==e.data.studentObj?null:e.data.studentObj.zaloName),t.xp6(1),t.hij("",t.lcZ(16,16,"lang_auto__dang_nhap_de_tiep_tuc")," "),t.xp6(5),t.hij(" ",t.lcZ(21,18,"lang_buttom_close")," "),t.xp6(3),t.hij(" ",t.lcZ(24,20,"lang_auto_dang_nhap")," ")}}let fe=(()=>{class o extends J.Q{constructor(e,n,i){super(e),this.commonService=e,this.router=n,this.redirectService=i,this.closeDialog=new t.vpe}onGlobalClick(e){var n;null!==(n=this.contentDialog)&&void 0!==n&&n.nativeElement.contains(e.target)||this.closeDialog.emit(!0)}btnCloseDialog(){this.closeDialog.emit(!0)}goToRegister(){var e,n;let i=`${this.router.url}%3FstudentId%3D${null===(n=null===(e=this.data)||void 0===e?void 0:e.studentObj)||void 0===n?void 0:n.id}`;this.redirectService.redirectRegisterForStudentWithReturnUrl(i)}goToLogin(){var e,n;let i=`${this.router.url}`;i=-1!==i.indexOf("?")?i.slice(0,i.indexOf("?")):i,this.redirectService.redirectToLoginBackLinkWithFromRegister(`${i}%3FstudentId%3D${null===(n=null===(e=this.data)||void 0===e?void 0:e.studentObj)||void 0===n?void 0:n.id}`)}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(R.v),t.Y36(F.F0),t.Y36(Ct.V))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-require-login"]],viewQuery:function(e,n){if(1&e&&t.Gf(ge,5),2&e){let i;t.iGM(i=t.CRH())&&(n.contentDialog=i.first)}},hostBindings:function(e,n){1&e&&t.NdJ("mousedown",function(r){return n.onGlobalClick(r)},!1,t.evT)},inputs:{data:"data"},outputs:{closeDialog:"closeDialog"},features:[t.qOj],decls:1,vars:1,consts:[["class","school-info_bg",4,"ngIf"],[1,"school-info_bg"],[1,"school-info","p-4"],["ContentDialog",""],[1,"text-custom"],[1,"mb-2","h5","para_respon","font-weight-normal"],[1,"d-flex","float-right","mt-1"],[1,"azt-block-button","mr-3"],["mat-raised-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,n){1&e&&t.YNc(0,he,25,22,"div",0),2&e&&t.Q6J("ngIf",null==n.data?null:n.data.isShow)},dependencies:[A.O5,et.lW,P.bT],styles:[".school-info_bg[_ngcontent-%COMP%]{z-index:1000;width:100%;display:flex;left:0;top:0;position:fixed;height:100%;min-height:100vh;background-color:#3c3c3c80}.school-info[_ngcontent-%COMP%]{z-index:1001;top:50%;left:50%;transform:translate(-50%,-50%);position:fixed;max-width:800px;background:#fff;margin-left:auto;margin-right:auto;box-shadow:0 0 13px 3px #00000094}.truncate[_ngcontent-%COMP%]{display:inline-block;text-overflow:ellipsis;overflow:hidden;max-width:90%;padding:5px 0;white-space:nowrap}.close-btn[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding:5px 10px;background:#dadada;cursor:pointer;border-radius:20px}.block-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.bar-custom[_ngcontent-%COMP%]{font-size:35px;margin:0 10px -18px;background:#000;width:2px;display:block;height:35px}.text-custom[_ngcontent-%COMP%]{text-align:justify}@media only screen and (max-width: 1024px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:800px}}@media only screen and (max-width: 768px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:700px}}@media only screen and (max-width: 576px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:400px}}@media only screen and (max-width: 380px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:300px}}@media only screen and (max-width: 290px){.school-info[_ngcontent-%COMP%]{width:95%;max-width:250px}}"]}),o})();function we(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function be(o,l){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"date"),t.qZA()),2&o){const e=t.oxw(3);t.xp6(1),t.Oqu(t.lcZ(2,1,"lang_homework_frontend_come_back_at")+t.xi3(3,3,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.startDate,"dd/MM/yyyy HH:mm"))}}function ve(o,l){if(1&o&&(t.TgZ(0,"div")(1,"div",9)(2,"div",10)(3,"div",11),t._uU(4),t.ALo(5,"mytranslate"),t.YNc(6,be,4,6,"span",7),t.qZA()()()()),2&o){const e=t.oxw(2);t.xp6(4),t.hij("",t.lcZ(5,2,e.statusObj.errorMessage)," "),t.xp6(2),t.Q6J("ngIf","lang_core_not_start_homework_obj"==e.statusObj.errorMessage&&(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.startDate))}}function xe(o,l){if(1&o&&(t.TgZ(0,"p",17),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",18),t._uU(4),t.qZA()()),2&o){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_name_homework"),": "),t.xp6(3),t.Oqu(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name)}}function ke(o,l){if(1&o&&(t.TgZ(0,"div",15),t.YNc(1,xe,5,4,"p",16),t.TgZ(2,"p",17),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"span",18),t._uU(6),t.qZA(),t._UZ(7,"azt-download-qr-code",19),t.qZA()()),2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name)&&""!=(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name)),t.xp6(2),t.hij(" ",t.lcZ(4,5,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),t.xp6(3),t.Oqu(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId),t.xp6(1),t.Q6J("fileName","azota_submit_homework_qrcode_"+e.homeworkHashId)("linkUrl",e.urlLocation)}}function Oe(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"app-send-request",20),t.NdJ("confirmSend",function(i){t.CHM(e);const r=t.oxw(3);return t.KtG(r.confirmSendRequest(i))})("closeDialog",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.closeRequestDialog())}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("data",e.sendRequestData)}}function Ce(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"app-require-login",21),t.NdJ("closeDialog",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.closeRequireLogin())}),t.qZA()}if(2&o){const e=t.oxw(3);t.Q6J("data",e.requireLogin)}}function je(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div"),t.YNc(1,ke,8,7,"div",12),t.TgZ(2,"app-select-student",13),t.NdJ("selectChild",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.closeChooseStudent(i))})("approvedByName",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.approvedToClass(i))}),t.qZA(),t.YNc(3,Oe,1,1,"app-send-request",14),t.YNc(4,Ce,1,1,"app-require-login",8),t.qZA()}if(2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",(null==e.obj?null:e.obj.homeworkObj)&&(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId)&&""!=(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId)),t.xp6(1),t.Q6J("homeworkFlow",!0)("data",e.chooseChildData)("showAddStudent",null==e.chooseChildData.classObj?null:e.chooseChildData.classObj.showAddStudent),t.xp6(1),t.Q6J("ngIf",null==e.sendRequestData?null:e.sendRequestData.isShow),t.xp6(1),t.Q6J("ngIf",null==e.requireLogin?null:e.requireLogin.isShow)}}function ye(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"app-message-dialog",21),t.NdJ("closeDialog",function(i){t.CHM(e);const r=t.oxw(2);return t.KtG(r.closeMessageDialog(i))}),t.qZA()}if(2&o){const e=t.oxw(2);t.Q6J("data",e.messageDialogData)}}function Me(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"azt-preview-media",23),t.NdJ("closePreview",function(){t.CHM(e);const i=t.oxw(3);return t.KtG(i.onFileClose())}),t.qZA()()}if(2&o){const e=t.oxw(3);t.xp6(1),t.Q6J("fileOption",e.previewFile)}}function Ae(o,l){1&o&&(t.TgZ(0,"div",26)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_core_over_time_deadline")))}function Ze(o,l){if(1&o&&(t.TgZ(0,"p",17),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",18),t._uU(4),t.qZA()()),2&o){const e=t.oxw(6);t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_name_homework"),": "),t.xp6(3),t.Oqu(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name)}}function Te(o,l){if(1&o&&(t.TgZ(0,"span",32),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"date"),t.qZA()),2&o){const e=t.oxw(6);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",t.xi3(3,4,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline,"dd/MM/yyyy HH:mm:ss"),"")}}function Se(o,l){1&o&&(t.TgZ(0,"span",32),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",t.lcZ(3,4,"lang_homework_homework_frontend_submit_homework_not_time"),""))}function Pe(o,l){if(1&o&&(t.TgZ(0,"span",32),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"date"),t.qZA()),2&o){const e=t.oxw(6);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",t.xi3(3,4,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline,"dd/MM/yyyy HH:mm:ss"),"")}}function He(o,l){1&o&&(t.TgZ(0,"span",32),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",t.lcZ(3,4,"lang_homework_homework_frontend_submit_homework_not_time"),""))}function Fe(o,l){if(1&o&&(t.TgZ(0,"div",45)(1,"div",46),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(6);t.xp6(2),t.AsE("",t.lcZ(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",e.currentChild.fullName,"")}}function Le(o,l){if(1&o&&(t.TgZ(0,"div",47)(1,"div",46),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(6);t.xp6(2),t.AsE("",t.lcZ(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",e.currentChild.fullName,"")}}function qe(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",51)(1,"div",52)(2,"a",53),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(7);return t.KtG(s.onShowFile(r,-1))}),t.TgZ(3,"mat-icon",54),t._uU(4,"text_snippet"),t.qZA(),t.TgZ(5,"span",55),t._uU(6),t.qZA()()()()}if(2&o){const e=l.$implicit;t.xp6(5),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function Ie(o,l){if(1&o&&(t.TgZ(0,"div",48)(1,"div",49),t.YNc(2,qe,7,2,"div",50),t.qZA()()),2&o){const e=t.oxw(6);t.xp6(2),t.Q6J("ngForOf",e.files)}}function Je(o,l){if(1&o&&(t.TgZ(0,"p",58),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",59),t._uU(4),t.qZA()()),2&o){const e=t.oxw(7);t.xp6(1),t.hij("",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_teacher_request_submit"),": "),t.xp6(3),t.Oqu(e.resendNote)}}function De(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",65)(1,"div",66)(2,"div",67),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(12);return t.KtG(i.click())}),t.TgZ(3,"div",52)(4,"a",68)(5,"mat-icon"),t._uU(6,"add_a_photo"),t.qZA()(),t._UZ(7,"br"),t.TgZ(8,"span"),t._uU(9),t.ALo(10,"mytranslate"),t.qZA(),t.TgZ(11,"input",69,70),t.NdJ("change",function(i){t.CHM(e);const r=t.oxw(8);return t.KtG(r.captureFile(i))}),t.qZA()()()(),t.TgZ(13,"div",66)(14,"div",71),t.NdJ("click",function(){t.CHM(e);const i=t.MAs(24);return t.KtG(i.click())}),t.TgZ(15,"div",52)(16,"a",68)(17,"mat-icon"),t._uU(18,"attach_file"),t.qZA()(),t._UZ(19,"br"),t.TgZ(20,"span"),t._uU(21),t.ALo(22,"mytranslate"),t.qZA(),t.TgZ(23,"input",72,73),t.NdJ("change",function(i){t.CHM(e);const r=t.oxw(8);return t.KtG(r.selectFile(i))}),t.qZA()()()()()}2&o&&(t.xp6(9),t.Oqu(t.lcZ(10,2,"lang_homework_homework_frontend_submit_homework_capture")),t.xp6(12),t.Oqu(t.lcZ(22,4,"lang_homework_homework_frontend_submit_homework_choose_file")))}function Ue(o,l){1&o&&(t.TgZ(0,"div",49)(1,"div",74)(2,"div",75)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function Ne(o,l){1&o&&(t.TgZ(0,"div",76)(1,"p",17),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_loading_wait_it"),"!"))}const Qe=function(o){return{"width.%":o}};function Ye(o,l){if(1&o&&(t.TgZ(0,"div",79)(1,"p",80),t._uU(2),t.qZA(),t.TgZ(3,"div",81),t._UZ(4,"div",82),t.qZA()()),2&o){const e=l.$implicit;t.xp6(2),t.Oqu(e.fileName),t.xp6(2),t.Q6J("ngStyle",t.VKq(2,Qe,e.uploadProgress))}}function ze(o,l){if(1&o&&(t.TgZ(0,"div",77),t.YNc(1,Ye,5,4,"div",78),t.qZA()),2&o){const e=t.oxw(8);t.xp6(1),t.Q6J("ngForOf",e.convertObjToArray(e.fileUploadQueue))}}function Ee(o,l){1&o&&(t.TgZ(0,"div",76)(1,"p",83),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.hij("",t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_submit_success"),"!"))}function Re(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"span",100),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,r=t.oxw(9);return t.KtG(r.removeImg(i.url))}),t.TgZ(1,"mat-icon"),t._uU(2,"cancel"),t.qZA(),t._uU(3," \xa0\xa0\xa0\xa0\xa0\xa0 "),t.qZA()}}function Ge(o,l){1&o&&(t.TgZ(0,"span",101)(1,"mat-icon",102),t._uU(2,"check_box"),t.qZA()())}const Ke=function(o){return{padding:o}};function Be(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",85)(1,"a",86)(2,"div",87)(3,"div",88)(4,"img",89),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(9);return t.KtG(s.onShowFile(r,-1))}),t.ALo(5,"mycdn"),t.qZA()(),t.TgZ(6,"div",90)(7,"div",91)(8,"mat-icon",92),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw(9);return t.KtG(s.switchAttributeArray(s.answerFileList,r,r-1))}),t.ALo(9,"mytranslate"),t._uU(10," keyboard_arrow_left"),t.qZA(),t.TgZ(11,"mat-icon",93),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw(9);return t.KtG(s.switchAttributeArray(s.answerFileList,r,r-1))}),t.ALo(12,"mytranslate"),t._uU(13,"arrow_upward "),t.qZA()(),t.TgZ(14,"div",94),t._uU(15),t.ALo(16,"mytranslate"),t.TgZ(17,"input",95,96),t.NdJ("keyup.enter",function(){const r=t.CHM(e).index,s=t.MAs(18),d=t.oxw(9);return t.KtG(d.switchAttributeArrayInput(r,s.value))})("change",function(){const r=t.CHM(e).index,s=t.MAs(18),d=t.oxw(9);return t.KtG(d.switchAttributeArrayInput(r,s.value))}),t.qZA()(),t.TgZ(19,"div",97)(20,"mat-icon",92),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw(9);return t.KtG(s.switchAttributeArray(s.answerFileList,r,r+1))}),t.ALo(21,"mytranslate"),t._uU(22," keyboard_arrow_right"),t.qZA(),t.TgZ(23,"mat-icon",93),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw(9);return t.KtG(s.switchAttributeArray(s.answerFileList,r,r+1))}),t.ALo(24,"mytranslate"),t._uU(25,"arrow_downward "),t.qZA()()()()(),t.YNc(26,Re,4,0,"span",98),t.YNc(27,Ge,3,0,"span",99),t.qZA()}if(2&o){const e=l.$implicit,n=l.index,i=t.oxw(9);t.xp6(4),t.Q6J("src",t.lcZ(5,12,e.thumb),t.LSH),t.xp6(4),t.s9C("matTooltip",t.lcZ(9,14,"lang_homework_homework_frontend_submit_homework_go_to_front")),t.xp6(3),t.s9C("matTooltip",t.lcZ(12,16,"lang_homework_homework_frontend_submit_homework_go_to_top")),t.xp6(3),t.Q6J("ngStyle",t.VKq(24,Ke,"5px 30px")),t.xp6(1),t.hij("",t.lcZ(16,18,"lang_homework_homework_frontend_submit_homework_page")," "),t.xp6(2),t.s9C("id","input_page_"+n),t.s9C("max",null==i.answerFileList?null:i.answerFileList.length),t.s9C("value",n+1),t.xp6(3),t.s9C("matTooltip",t.lcZ(21,20,"lang_homework_homework_frontend_submit_homework_go_to_backside")),t.xp6(3),t.s9C("matTooltip",t.lcZ(24,22,"lang_homework_homework_frontend_submit_homework_go_to_down")),t.xp6(3),t.Q6J("ngIf",!(null!=i.obj&&i.obj.isMarked)),t.xp6(1),t.Q6J("ngIf",i.isShowGreenCheckbox(e.url))}}function $e(o,l){if(1&o&&(t.TgZ(0,"div",77),t.YNc(1,Be,28,26,"div",84),t.qZA()),2&o){const e=t.oxw(8);t.xp6(1),t.Q6J("ngForOf",e.answerFileList)}}function Ve(o,l){if(1&o&&(t.TgZ(0,"div"),t._UZ(1,"input",60),t.YNc(2,De,25,6,"div",61),t.YNc(3,Ue,6,3,"div",62),t.YNc(4,Ne,4,3,"div",63),t.YNc(5,ze,2,1,"div",64),t.YNc(6,Ee,4,3,"div",63),t.YNc(7,$e,2,1,"div",64),t.qZA()),2&o){const e=t.oxw(7);t.xp6(2),t.Q6J("ngIf",!(null!=e.obj&&e.obj.isMarked)),t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isMarked),t.xp6(1),t.Q6J("ngIf",e.statusObjData.loading),t.xp6(1),t.Q6J("ngIf",e.convertObjToArray(e.fileUploadQueue).length>0),t.xp6(1),t.Q6J("ngIf",(null==e.answerFileList?null:e.answerFileList.length)&&(null==e.rawAnswerFileList?null:e.rawAnswerFileList.length)&&e.isSubmit),t.xp6(1),t.Q6J("ngIf",null==e.answerFileList?null:e.answerFileList.length)}}function We(o,l){if(1&o&&(t.TgZ(0,"form",56),t.YNc(1,Je,5,4,"p",57),t.YNc(2,Ve,8,6,"div",7),t.qZA()),2&o){const e=t.oxw(6);t.Q6J("formGroup",e.form),t.xp6(1),t.Q6J("ngIf",e.hasResentComment),t.xp6(1),t.Q6J("ngIf",e.files.length>0||0==e.files.length)}}function Xe(o,l){1&o&&(t.TgZ(0,"div",49)(1,"div",74)(2,"div",75)(3,"span"),t._uU(4),t.ALo(5,"mytranslate"),t.qZA()()()()),2&o&&(t.xp6(4),t.hij("",t.lcZ(5,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark"),"!"))}function to(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",85)(1,"a",86)(2,"div",87)(3,"div",88)(4,"img",104),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(8);return t.KtG(s.onShowFile(r,-1))}),t.ALo(5,"mycdn"),t.qZA()()()()()}if(2&o){const e=l.$implicit;t.xp6(4),t.Q6J("src",t.lcZ(5,1,e.url),t.LSH)}}function eo(o,l){if(1&o&&(t.TgZ(0,"div",77),t.YNc(1,to,6,3,"div",84),t.qZA()),2&o){const e=t.oxw(7);t.xp6(1),t.Q6J("ngForOf",e.answerFileList)}}function oo(o,l){1&o&&(t.TgZ(0,"div",105)(1,"span"),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"lang_homework_homework_frontend_submit_homework_end_time_submit")))}function no(o,l){if(1&o&&(t.ynx(0),t.YNc(1,Xe,6,3,"div",62),t.YNc(2,eo,2,1,"div",64),t.YNc(3,oo,4,3,"div",103),t.BQk()),2&o){const e=t.oxw(6);t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isMarked),t.xp6(1),t.Q6J("ngIf",(null==e.obj?null:e.obj.isOverTime)&&(null==e.answerFileList?null:e.answerFileList.length)),t.xp6(1),t.Q6J("ngIf",(null==e.obj?null:e.obj.isOverTime)&&!(null!=e.obj&&e.obj.isMarked))}}function io(o,l){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",108),t._uU(2,"\xa0"),t.qZA())}function lo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",106)(1,"button",107),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(6);return t.KtG(i.submitHomework())}),t.YNc(2,io,3,0,"span",7),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()}if(2&o){const e=t.oxw(6);t.xp6(1),t.Q6J("disabled",e.statusObjData.loading||!(null!=e.answerFileList&&e.answerFileList.length)||(null==e.obj?null:e.obj.isMarked)||e.isNotChangeData),t.xp6(1),t.Q6J("ngIf",!0===e.statusObjData.loading),t.xp6(1),t.hij("",null!=e.obj&&e.obj.isMarked?t.lcZ(4,3,"lang_homework_homework_frontend_submit_homework_submited"):t.lcZ(5,5,"lang_homework_homework_frontend_submit_homework_submit")," ")}}function ro(o,l){1&o&&(t.TgZ(0,"span"),t._UZ(1,"span",108),t._uU(2,"\xa0"),t.qZA())}function so(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",106)(1,"button",109),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(6);return t.KtG(i.submitHomework())}),t.YNc(2,ro,3,0,"span",7),t._uU(3),t.ALo(4,"mytranslate"),t.ALo(5,"mytranslate"),t.qZA()()}if(2&o){const e=t.oxw(6);t.xp6(1),t.Q6J("disabled",e.statusObjData.loading||!(null!=e.answerFileList&&e.answerFileList.length)||(null==e.obj?null:e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",!0===e.statusObjData.loading),t.xp6(1),t.hij("",null!=e.obj&&e.obj.isMarked?t.lcZ(4,3,"lang_homework_homework_frontend_submit_homework_submited"):t.lcZ(5,5,"lang_homework_homework_frontend_submit_homework_submit")," ")}}const ao=function(o){return{"pt-2":o}};function _o(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",15),t.YNc(2,Ze,5,4,"p",16),t.TgZ(3,"p",17),t._uU(4),t.ALo(5,"mytranslate"),t.TgZ(6,"span",18),t._uU(7),t.qZA(),t._UZ(8,"azt-download-qr-code",19),t.qZA()(),t.TgZ(9,"div",28)(10,"div",29)(11,"div",30)(12,"div",31)(13,"span",32),t._uU(14),t.ALo(15,"mytranslate"),t.ALo(16,"date"),t.qZA(),t.YNc(17,Te,4,7,"span",33),t.YNc(18,Se,4,6,"span",33),t.qZA(),t.TgZ(19,"div",34)(20,"span",32),t._uU(21),t.ALo(22,"mytranslate"),t.ALo(23,"date"),t.qZA(),t.YNc(24,Pe,4,7,"span",33),t.YNc(25,He,4,6,"span",33),t.qZA()(),t.TgZ(26,"div",30),t.YNc(27,Fe,4,4,"div",35),t.YNc(28,Le,4,4,"div",36),t.qZA()(),t.TgZ(29,"div",37),t._UZ(30,"div",38),t.ALo(31,"safeContentQuestion"),t.ALo(32,"mathJaxContent"),t.qZA(),t.YNc(33,Ie,3,1,"div",39),t.TgZ(34,"div",40),t.YNc(35,We,3,3,"form",41),t.YNc(36,no,4,3,"ng-container",7),t.TgZ(37,"div",42),t.YNc(38,lo,6,7,"div",43),t.YNc(39,so,6,7,"div",43),t.qZA()()(),t.TgZ(40,"app-answer-history",44),t.NdJ("previewFileEmit",function(i){t.CHM(e);const r=t.oxw(5);return t.KtG(r.onShowFileTwo(i))}),t.qZA()()}if(2&o){const e=t.oxw(5);t.xp6(2),t.Q6J("ngIf",(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name)&&""!=(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name)),t.xp6(2),t.hij(" ",t.lcZ(5,24,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),t.xp6(3),t.Oqu(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId),t.xp6(1),t.Q6J("fileName","azota_submit_homework_qrcode_"+e.homeworkHashId)("linkUrl",e.urlLocation),t.xp6(6),t.AsE("",t.lcZ(15,26,"lang_homework_homework_frontend_submit_homework_date_homework"),": ",t.xi3(16,28,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.createdAt,"dd/MM/yyyy HH:mm:ss"),""),t.xp6(3),t.Q6J("ngIf",null!=(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline)),t.xp6(1),t.Q6J("ngIf",null==(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline)),t.xp6(3),t.AsE("",t.lcZ(22,31,"lang_homework_homework_frontend_submit_homework_date_homework"),": ",t.xi3(23,33,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.createdAt,"dd/MM/yyyy HH:mm:ss"),""),t.xp6(3),t.Q6J("ngIf",null!=(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline)),t.xp6(1),t.Q6J("ngIf",null==(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline)),t.xp6(2),t.Q6J("ngIf",e.currentChild),t.xp6(1),t.Q6J("ngIf",e.currentChild),t.xp6(2),t.Q6J("innerHTML",t.lcZ(31,36,t.lcZ(32,38,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.content)),t.oJD),t.xp6(3),t.Q6J("ngIf",e.files.length>0),t.xp6(1),t.Q6J("ngClass",t.VKq(40,ao,null==e.obj?null:e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",!(null!=e.obj&&e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isOverTime),t.xp6(2),t.Q6J("ngIf",!(null!=e.obj&&e.obj.isOverTime)),t.xp6(1),t.Q6J("ngIf",null==e.obj?null:e.obj.isOverTime),t.xp6(1),t.Q6J("dataAnswerHistory",e.answerHistory)("dataHomeworkObj",null==e.obj?null:e.obj.homeworkObj)}}function co(o,l){if(1&o&&(t.TgZ(0,"p",17),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"span",18),t._uU(4),t.qZA()()),2&o){const e=t.oxw(6);t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_name_homework"),": "),t.xp6(3),t.Oqu(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name)}}function mo(o,l){if(1&o&&(t.TgZ(0,"span",32),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"date"),t.qZA()),2&o){const e=t.oxw(6);t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",t.xi3(3,4,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline,"dd/MM/yyyy HH:mm:ss"),"")}}function uo(o,l){1&o&&(t.TgZ(0,"span",32),t._uU(1),t.ALo(2,"mytranslate"),t.ALo(3,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.AsE("",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_dealine"),": ",t.lcZ(3,4,"lang_homework_homework_frontend_submit_homework_not_time"),""))}function po(o,l){if(1&o&&(t.TgZ(0,"div",45)(1,"div",46),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(6);t.xp6(2),t.AsE("",t.lcZ(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",e.currentChild.fullName,"")}}function go(o,l){if(1&o&&(t.TgZ(0,"div",47)(1,"div",46),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(6);t.xp6(2),t.AsE("",t.lcZ(3,2,"lang_homework_homework_frontend_submit_homework_name_student"),": ",e.currentChild.fullName,"")}}function ho(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",51)(1,"div",52)(2,"a",53),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(6);return t.KtG(s.onShowFile(r,-1))}),t.TgZ(3,"mat-icon",54),t._uU(4,"text_snippet"),t.qZA(),t.TgZ(5,"span",55),t._uU(6),t.qZA()()()()}if(2&o){const e=l.$implicit;t.xp6(5),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function fo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",79)(1,"a",114),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(7);return t.KtG(s.onShowFile(r,-1))}),t.TgZ(2,"mat-icon",115),t._uU(3,"attach_file "),t.qZA(),t.TgZ(4,"span",55),t._uU(5),t.qZA()()()}if(2&o){const e=l.$implicit;t.xp6(4),t.Q6J("title",e.name),t.xp6(1),t.Oqu(e.name)}}function wo(o,l){if(1&o&&(t.TgZ(0,"div",77),t.YNc(1,fo,6,2,"div",78),t.qZA()),2&o){const e=t.oxw(6);t.xp6(1),t.Q6J("ngForOf",e.answerFileList)}}function bo(o,l){1&o&&t._UZ(0,"p",123)}function vo(o,l){if(1&o&&(t.TgZ(0,"p",123),t._UZ(1,"azt-check-mark",124),t.qZA()),2&o){const e=t.oxw(7);t.xp6(1),t.Q6J("mark",e.answerObj.point)}}function xo(o,l){if(1&o&&t._UZ(0,"div",129),2&o){const e=t.oxw(8);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function ko(o,l){if(1&o&&t._UZ(0,"div",130),2&o){const e=t.oxw(8);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function Oo(o,l){if(1&o&&t._UZ(0,"div",131),2&o){const e=t.oxw(8);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function Co(o,l){if(1&o&&t._UZ(0,"div",132),2&o){const e=t.oxw(8);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function jo(o,l){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,xo,1,1,"div",125),t.YNc(2,ko,1,1,"div",126),t.YNc(3,Oo,1,1,"div",127),t.YNc(4,Co,1,1,"div",128),t.qZA()),2&o){const e=t.oxw(7);t.xp6(1),t.Q6J("ngIf","font_chu_in"==e.answerObj.txtCommentFont),t.xp6(1),t.Q6J("ngIf","font_chu_in_\u0111am"==e.answerObj.txtCommentFont),t.xp6(1),t.Q6J("ngIf","font_chu_dep_z"==e.answerObj.txtCommentFont),t.xp6(1),t.Q6J("ngIf","font_chu_in_nghieng"==e.answerObj.txtCommentFont)}}function yo(o,l){if(1&o&&t._UZ(0,"div",131),2&o){const e=t.oxw(7);t.Q6J("innerHTML",e.answerObj.note,t.oJD)}}function Mo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"span",111),t._uU(1),t.ALo(2,"mytranslate"),t.qZA(),t._uU(3," ("),t.TgZ(4,"a",116),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(6);return t.KtG(i.viewDetail())}),t._uU(5),t.ALo(6,"mytranslate"),t.qZA(),t._uU(7,") "),t.TgZ(8,"div",117)(9,"div",118),t.YNc(10,bo,1,0,"p",119),t.YNc(11,vo,2,1,"p",119),t.qZA(),t.TgZ(12,"div",120)(13,"span",121),t._uU(14),t.ALo(15,"mytranslate"),t.qZA(),t.YNc(16,jo,5,4,"div",4),t.YNc(17,yo,1,1,"ng-template",null,122,t.W1O),t.qZA()()}if(2&o){const e=t.MAs(18),n=t.oxw(6);t.xp6(1),t.Oqu(t.lcZ(2,7,"lang_homework_homework_frontend_submit_homework_result")),t.xp6(4),t.Oqu(t.lcZ(6,9,"lang_homework_homework_frontend_submit_homework_view_detail_result")),t.xp6(5),t.Q6J("ngIf",!n.isHideMark&&!n.answerObj.point),t.xp6(1),t.Q6J("ngIf",!n.isHideMark&&n.answerObj.point),t.xp6(3),t.Oqu(t.lcZ(15,11,"lang_homework_homework_frontend_submit_homework_comment")),t.xp6(2),t.Q6J("ngIf",null!=n.answerObj.txtCommentFont||null!=n.answerObj.txtCommentFont)("ngIfElse",e)}}function Ao(o,l){1&o&&(t.TgZ(0,"div",133),t._uU(1),t.ALo(2,"mytranslate"),t.qZA()),2&o&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"lang_homework_homework_frontend_submit_homework_note_teacher_mark")," "))}function Zo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",15),t.YNc(1,co,5,4,"p",16),t.TgZ(2,"p",17),t._uU(3),t.ALo(4,"mytranslate"),t.TgZ(5,"span",18),t._uU(6),t.qZA(),t._UZ(7,"azt-download-qr-code",19),t.qZA()(),t.TgZ(8,"div",28)(9,"div",29)(10,"div",30)(11,"span",32),t._uU(12),t.ALo(13,"mytranslate"),t.ALo(14,"date"),t.qZA(),t.YNc(15,mo,4,7,"span",33),t.YNc(16,uo,4,6,"span",33),t.qZA(),t.TgZ(17,"div",30),t.YNc(18,po,4,4,"div",35),t.YNc(19,go,4,4,"div",36),t.qZA()(),t.TgZ(20,"div",37),t._UZ(21,"div",38),t.ALo(22,"safeContentQuestion"),t.ALo(23,"mathJaxContent"),t.qZA(),t.TgZ(24,"div",48)(25,"div",49),t.YNc(26,ho,7,2,"div",50),t.qZA()(),t.TgZ(27,"div",110)(28,"p")(29,"span",111),t._uU(30),t.ALo(31,"mytranslate"),t.qZA(),t._uU(32),t.ALo(33,"mytranslate"),t.ALo(34,"date"),t.qZA(),t.YNc(35,wo,2,1,"div",64),t.YNc(36,Mo,19,13,"ng-template",112),t.YNc(37,Ao,3,3,"div",113),t.qZA()(),t.TgZ(38,"app-answer-history",44),t.NdJ("previewFileEmit",function(i){t.CHM(e);const r=t.oxw(5);return t.KtG(r.onShowFileTwo(i))}),t.qZA()}if(2&o){const e=t.oxw(5);t.xp6(1),t.Q6J("ngIf",(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name)&&""!=(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.name)),t.xp6(2),t.hij(" ",t.lcZ(4,21,"lang_homework_homework_frontend_submit_homework_code_homework"),": "),t.xp6(3),t.Oqu(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.hashId),t.xp6(1),t.Q6J("fileName","azota_submit_homework_qrcode_"+e.homeworkHashId)("linkUrl",e.urlLocation),t.xp6(5),t.AsE("",t.lcZ(13,23,"lang_homework_homework_frontend_submit_homework_date_homework")," ",t.xi3(14,25,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.createdAt,"dd/MM/yyyy HH:mm:ss"),""),t.xp6(3),t.Q6J("ngIf",null!=(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline)),t.xp6(1),t.Q6J("ngIf",null==(null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.deadline)),t.xp6(2),t.Q6J("ngIf",e.currentChild),t.xp6(1),t.Q6J("ngIf",e.currentChild),t.xp6(2),t.Q6J("innerHTML",t.lcZ(22,28,t.lcZ(23,30,null==e.obj||null==e.obj.homeworkObj?null:e.obj.homeworkObj.content)),t.oJD),t.xp6(5),t.Q6J("ngForOf",e.files),t.xp6(4),t.Oqu(t.lcZ(31,32,"lang_homework_homework_frontend_submit_homework_assignment")),t.xp6(2),t.AsE(" (",t.lcZ(33,34,"lang_homework_homework_frontend_submit_homework_time_submit"),": ",t.xi3(34,36,null==e.answerObj?null:e.answerObj.createdAt,"dd/MM/yyyy HH:mm:ss"),")"),t.xp6(3),t.Q6J("ngIf",null==e.answerFileList?null:e.answerFileList.length),t.xp6(1),t.Q6J("ngIf",null!=e.answerObj&&(null==e.obj?null:e.obj.isMarked)&&!e.whenShowAnswer),t.xp6(1),t.Q6J("ngIf",null!=e.answerObj&&(null==e.obj?null:e.obj.isMarked)&&e.whenShowAnswer),t.xp6(1),t.Q6J("dataAnswerHistory",e.answerHistory)("dataHomeworkObj",null==e.obj?null:e.obj.homeworkObj)}}function To(o,l){if(1&o&&(t.YNc(0,_o,41,42,"div",4),t.YNc(1,Zo,39,39,"ng-template",null,27,t.W1O)),2&o){const e=t.MAs(2),n=t.oxw(4);t.Q6J("ngIf",null==n.answerObj||null!=n.answerObj&&null==n.answerObj.confirmedAt)("ngIfElse",e)}}function So(o,l){if(1&o&&(t.YNc(0,Ae,4,3,"div",24),t.YNc(1,To,3,2,"ng-template",null,25,t.W1O)),2&o){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf",n.showErrorOvertime)("ngIfElse",e)}}function Po(o,l){if(1&o&&(t.TgZ(0,"div"),t.YNc(1,Me,2,1,"div",4),t.YNc(2,So,3,2,"ng-template",null,22,t.W1O),t.qZA()),2&o){const e=t.MAs(3),n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.isShowPreviewFile)("ngIfElse",e)}}function Ho(o,l){if(1&o&&(t.YNc(0,ve,7,4,"div",7),t.YNc(1,je,5,6,"div",7),t.YNc(2,ye,1,1,"app-message-dialog",8),t.YNc(3,Po,4,2,"div",7)),2&o){const e=t.oxw();t.Q6J("ngIf",""!=e.statusObj.errorMessage),t.xp6(1),t.Q6J("ngIf",e.selectChild),t.xp6(1),t.Q6J("ngIf",e.messageDialogData.isShow),t.xp6(1),t.Q6J("ngIf",e.normalFlow)}}function Fo(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"div",134),t._uU(1),t.ALo(2,"mytranslate"),t.TgZ(3,"a",135),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.isShowErrorsBox=!i.isShowErrorsBox)}),t._uU(4),t.ALo(5,"mytranslate"),t.ALo(6,"mytranslate"),t.qZA(),t._uU(7," ) "),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,2,"lang_homework_homework_frontend_submit_homework_error_exchange_data"),". ( "),t.xp6(3),t.Oqu(e.isShowErrorsBox?t.lcZ(5,4,"lang_homework_homework_frontend_submit_homework_hide_detail"):t.lcZ(6,6,"lang_homework_homework_frontend_submit_homework_view_detail"))}}function Lo(o,l){if(1&o&&(t.TgZ(0,"div")(1,"div"),t._uU(2),t.qZA()()),2&o){const e=l.$implicit;t.xp6(2),t.Oqu(e)}}function qo(o,l){if(1&o&&(t.TgZ(0,"div",134),t.YNc(1,Lo,3,1,"div",136),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.logs)}}let Io=(()=>{class o extends J.Q{constructor(e,n,i,r,s,d,p,f,w,v,C,j,y){super(i),this.fb=e,this.activeRoute=n,this.commonService=i,this.baseApiService=r,this.myPdfService=s,this.localStorageObjetct=d,this.frontHomeworkService=p,this.frontAnswerService=f,this.frontStudentService=w,this.apiUploadService=v,this.zipdataService=C,this.userService=j,this.homeworkExamService=y,this.form=new c.nJ({}),this.homeworkHashId="",this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.currentChild={},this.files=[],this.hasResentComment=!1,this.isSubmit=!1,this.urlLocation="",this.isShowPreviewFile=!1,this.showErrorOvertime=!1,this.logs=[],this.isShowErrorsBox=!1,this.isHideMark=!1,this.fileUploadQueue=[],this.uploadCount=0,this.selectChild=!1,this.isPendingApproved=!1,this.messageDialogData={type:"",isShow:!1},this.normalFlow=!1,this.chooseChildData={isPendingApproved:!1,isShow:!1},this.backToLink="/student/dashboard/1",this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.requireLogin={studentObj:void 0,classId:-1,isShow:!1},this.countUpload=1,this.isNotChangeData=!1,this.whenShowAnswer=0,this.selectFile=m=>(0,W.mG)(this,void 0,void 0,function*(){let u=m.target.files;try{for(let g in u)if("length"!=g&&"item"!=g)if((0,S.z_)(u[g].type))if((0,S.EO)(u[g].size)<=200)if(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},(0,S._4)(u[g].type)){let b=yield this.myPdfService.getImageWithPdf(u[g]);this.answerFile=u?u[g]:this.answerFile,this.uploadFiles(b,this.uploadCount),this.uploadCount+=1}else this.answerFile=u?u[g]:this.answerFile,this.answerFile&&(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb");else this.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");m.target.value="",this.isSubmit=!1}catch(g){alert("\u0110\xe3 x\u1ea3y ra l\u1ed7i:"+g)}}),this.uploadFileVideo=(m,_)=>(0,W.mG)(this,void 0,void 0,function*(){var x,u,g,b,L={qrcode:void 0,homeworkId:null===(u=null===(x=this.obj)||void 0===x?void 0:x.homeworkObj)||void 0===u?void 0:u.id,teacherId:null===(b=null===(g=this.obj)||void 0===g?void 0:g.homeworkObj)||void 0===b?void 0:b.tenantId};this.subscriptions.add(this.apiUploadService.uploadToVimeoProgress("front_homework",m,L).subscribe(T=>{var q;T.isOnProgress?this.fileUploadQueue.hasOwnProperty(_)?(this.fileUploadQueue[_].uploadProgress=Math.round(null!==(q=T.percentage)&&void 0!==q?q:0),this.fileUploadQueue[_].fileName=m.name):this.fileUploadQueue[_]={uploadProgress:0,fileName:m.name}:1==T.success?(delete this.fileUploadQueue[_],Array.isArray(this.answerFileList)||(this.answerFileList=[]),this.addFileWithProsess(Object.assign(Object.assign({},T.data),{lastModified:m.lastModified})),this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""}):T.hasOwnProperty("code")&&401==T.code?this.countUpload<=3&&setTimeout(()=>{this.countUpload++,this.uploadFileVideo(m,_)},15e3):(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.commonService.snackError("lang_auto_khong_upload_duoc_tep_tin_vui_long_thu_lai_sau_ten: "+m.name,""),this.commonService.gaEvent("FrontHomework_UploadError"))}))}),this.uploadFiles=(m,_)=>(0,W.mG)(this,void 0,void 0,function*(){for(let x=0;x<m.length;x++){const u=m[x];yield(0,S.hv)(u).then(g=>{this.apiUploadService.uploadToCdnProgressForFrontendHomework(g).subscribe(b=>{b.type!=bt.dt.UploadProgress&&(1==b.success?(delete this.fileUploadQueue[_],Array.isArray(this.answerFileList)||(this.answerFileList=[]),this.addFileWithProsess(Object.assign(Object.assign({},b.data),{lastModified:g.lastModified}))):(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.showErrorSnack("lang_auto_khong_upload_duoc_tep_tin_ten:"+u.name)))})}),x===m.length-1&&(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""})}}),this.uploadFile=(m,_)=>(0,W.mG)(this,void 0,void 0,function*(){this.isSubmit=!1,((0,S.Or)(m.type)||(0,S.Wv)(m.type)||(0,S.F0)(m.type)||(0,S._4)(m.type)||(0,S.D_)(m.type))&&(0,S.hv)(m).then(x=>{this.apiUploadService.uploadToCdnProgressForFrontendHomework(x).subscribe(u=>{var g,b;if(u.type!=bt.dt.UploadProgress)1==u.success?(delete this.fileUploadQueue[_],Array.isArray(this.answerFileList)||(this.answerFileList=[]),this.addFileWithProsess(Object.assign(Object.assign({},u.data),{lastModified:x.lastModified})),this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""}):(this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.commonService.gaEvent("FrontHomework_UploadError"),this.showErrorSnack("lang_auto_khong_upload_duoc_anh_ten: "+m.name+"lang_auto__brackets_vui_long_thu_lai_sau_loi_split_lang"+u.message));else{let L=Math.round(null!==(g=u.loaded)&&void 0!==g?g:0/(null!==(b=u.total)&&void 0!==b?b:1)*100);this.fileUploadQueue.hasOwnProperty(_)?(this.fileUploadQueue[_].uploadProgress=L,this.fileUploadQueue[_].fileName=m.name):this.fileUploadQueue[_]={uploadProgress:0,fileName:m.name}}})})}),this.captureFile=m=>(0,W.mG)(this,void 0,void 0,function*(){let u=m.target.files;try{for(let g in u)if("length"!=g&&"item"!=g)if((0,S.z_)(u[g].type))if((0,S.EO)(u[g].size)<=200)if(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},(0,S._4)(u[g].type)){let b=yield this.myPdfService.getImageWithPdf(u[g]);this.answerFile=u?u[g]:this.answerFile,this.uploadFiles(b,this.uploadCount),this.uploadCount+=1}else this.answerFile=u?u[g]:this.answerFile,this.answerFile&&(this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""},this.uploadFile(this.answerFile,this.uploadCount),this.uploadCount+=1);else this.showErrorSnack("lang_auto_vui_long_chon_file_khong_qua_200_mb");else this.showErrorSnack("lang_auto_error_file_no_support_homework_front_end");m.target.value="",this.isSubmit=!1}catch(g){alert(g)}}),this.answerFile=null}isShowGreenCheckbox(e){if(this.rawAnswerFileList&&this.rawAnswerFileList.length>0)for(let n=0;n<this.rawAnswerFileList.length;n++)if(this.rawAnswerFileList[n].url===e)return!0;return!1}onFileClose(){this.isShowPreviewFile=!1,this.previewFile={}}onShowFile(e,n){this.isShowPreviewFile=!0,this.previewFile=Object.assign(Object.assign({},e),{index:n})}onShowFileTwo(e){this.isShowPreviewFile=!0,this.previewFile=e}showAllSubmit(){this.commonService.myNavigation("/student/dashboard/1")}viewDetail(){var e;this.commonService.myNavigation("/homework/view-homework/"+(null===(e=this.answerObj)||void 0===e?void 0:e.id)+"/"+this.homeworkHashId)}viewDetailHistory(e){var n,i;this.commonService.myNavigation("/homework/view-homework/"+(null===(i=null===(n=this.obj)||void 0===n?void 0:n.homeworkObj)||void 0===i?void 0:i.id)+"/"+this.homeworkHashId+"/"+e)}openChooseStudent(e){1==e?(this.chooseChildData.isPendingApproved=!1,this.chooseChildData.isShow=!0):(this.chooseChildData.isPendingApproved=!0,this.chooseChildData.isShow=!0)}closeChooseStudent(e){var n,i,r,s,d;0==(null===(n=e.studentObj)||void 0===n?void 0:n.isVerified)||1==(null===(i=e.classroomObj)||void 0===i?void 0:i.freeChooseName)?this.frontStudentService.apiFrontStudentAddStudentToClassForHomeworkGet(this.homeworkHashId,null===(s=null===(r=this.obj)||void 0===r?void 0:r.classroomObj)||void 0===s?void 0:s.id,e.studentObj?e.studentObj.id:0).subscribe(p=>{var f;1===p.success?(this.getData(),this.selectChild=!1,this.isPendingApproved=!1):this.showErrorSnack(null!==(f=p.message)&&void 0!==f?f:"")}):this.baseApiService.isLogin()&&!this.baseApiService.isAnonymousRole()?this.userService.getUserObj().id==(null===(d=e.studentObj)||void 0===d?void 0:d.parentId)?(this.urlStudentId=0,this.getData(),this.selectChild=!1,this.isPendingApproved=!1,this.normalFlow=!0):this.sendRequestData={studentObj:e.studentObj,classId:e.classId,isShow:!0}:this.requireLogin={studentObj:e.studentObj,isShow:!0}}closeRequireLogin(){this.requireLogin={studentObj:void 0,isShow:!1}}confirmSendRequest(e){e?(this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.showSuccessSnack("lang_auto_yeu_cau_cua_ban_da_duoc_gui_toi_cho_giao_vien")):(this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1},this.showErrorSnack("lang_auto_chua_the_gui_yeu_cau_vui_long_thu_lai"))}closeRequestDialog(){this.sendRequestData={studentObj:void 0,classId:-1,isShow:!1}}approvedToClass(e){var n,i;let r={fullName:e.nameEmit,homeworkHashId:this.homeworkHashId,classroomId:null===(i=null===(n=this.obj)||void 0===n?void 0:n.classroomObj)||void 0===i?void 0:i.id};this.subscriptions.add(this.frontStudentService.apiFrontStudentSaveStudentForHomeworkPost(r).subscribe(s=>{var d;1==s.success?this.getData():this.showErrorSnack(null!==(d=s.message)&&void 0!==d?d:"")}))}fillData(){var e,n,i,r,s,d,p,f,w,v,C,j,y;if(this.files=null!==(r=this.commonService.myParseJson(null!==(i=null===(n=null===(e=this.obj)||void 0===e?void 0:e.homeworkObj)||void 0===n?void 0:n.files)&&void 0!==i?i:""))&&void 0!==r?r:[],null==this.files&&(this.files=new Array),!(null===(s=this.obj)||void 0===s)&&s.answerObj&&this.obj.answerObj.files&&(this.answerFileList=this.commonService.myParseJson(this.obj.answerObj.files),this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.isNotChangeData=!0),null!==(d=this.obj)&&void 0!==d&&d.answerHistoryObjs){for(let _=0;_<this.obj.answerHistoryObjs.length;_++)this.resendNote=this.obj.answerHistoryObjs[0].resendNote,this.hasResentComment=!0,this.obj.answerHistoryObjs[_].result&&(this.obj.answerHistoryObjs[_].note=this.commonService.willDeleteParseJson(null!==(p=this.obj.answerHistoryObjs[_].result)&&void 0!==p?p:"").comment);this.answerHistory=this.obj.answerHistoryObjs;for(let _=0;_<this.answerHistory.length;_++){if(this.answerHistory[_].result){var m=this.commonService.willDeleteParseJson(null!==(f=this.answerHistory[_].resultNote)&&void 0!==f?f:"");this.answerHistory[_].hideMark=!(!m||!m.IsHideMark)&&m.IsHideMark}this.answerHistory[_].files&&(this.answerHistory[_].fileParse=this.commonService.myParseJson(null!==(w=this.answerHistory[_].files)&&void 0!==w?w:""))}}!(null===(v=this.obj)||void 0===v)&&v.answerObj&&(this.answerObj=this.obj.answerObj,this.hasResentComment=!1),this.answerObj&&this.answerObj.result&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.result)?this.commonService.willDeleteParseJson(this.answerObj.result).comment:"",this.answerObj.txtCommentFont=this.commonService.willDeleteParseJson(this.commonService.willDeleteParseJson(this.answerObj.result).staticTextConfig).txtCommentFont,this.isHideMark=null!=this.commonService.willDeleteParseJson(this.answerObj.result)&&this.commonService.willDeleteParseJson(this.answerObj.result).hideMark),null!=(null===(C=this.answerObj)||void 0===C?void 0:C.resultNote)&&null==(null===(j=this.answerObj)||void 0===j?void 0:j.note)&&(this.answerObj.note=null!=this.commonService.willDeleteParseJson(this.answerObj.resultNote)?this.commonService.willDeleteParseJson(this.answerObj.resultNote).Note:""),this.currentChild=null!==(y=this.obj)&&void 0!==y&&y.studentObj?this.obj.studentObj:this.baseApiService.getUserObj()}closeMessageDialog(e){e&&(this.messageDialogData={type:"",isShow:!1})}getData(){this.initStatusObj(),this.frontHomeworkService.apiFrontHomeworkGetObjGet(this.homeworkHashId).subscribe(e=>{var n,i,r,s,d,p,f,w,v,C,j,y,m,_,x,u,g,b,L,T,q,Q,G,Y,H,K,B,$,z,V,h,M,k,_t,ct,dt,mt,ut,pt,gt,ht,ft,wt;if(1==e.success){if(this.zipdataService.convertAnswersHistories(e.data),this.zipdataService.convertSubmittedAnswersObj(null===(n=e.data)||void 0===n?void 0:n.answerObj),this.obj=e.data,this.dataProcess=e.data,this.zipdataService.convertHomeworkObj(null!==(r=null===(i=this.obj)||void 0===i?void 0:i.homeworkObj)&&void 0!==r?r:{}),this.commonService.translateMetaData({title:(null===(d=null===(s=this.obj)||void 0===s?void 0:s.homeworkObj)||void 0===d?void 0:d.name)+"- L\u1edbp:"+(null===(f=null===(p=this.obj)||void 0===p?void 0:p.classroomObj)||void 0===f?void 0:f.name),description:null===(v=null===(w=this.obj)||void 0===w?void 0:w.homeworkObj)||void 0===v?void 0:v.content}),this.whenShowAnswer=null!==(y=null===(j=null===(C=this.obj)||void 0===C?void 0:C.homeworkObj)||void 0===j?void 0:j.whenShowAnswer)&&void 0!==y?y:0,!(null===(m=this.obj)||void 0===m?void 0:m.isOverTime)||null!==(_=this.obj.answerObj)&&void 0!==_&&_.createdAt)if(1==(null===(u=null===(x=this.obj)||void 0===x?void 0:x.homeworkObj)||void 0===u?void 0:u.mustVerified))if(!this.baseApiService.isLogin()||this.baseApiService.isLogin()&&this.baseApiService.isAnonymousRole())this.messageDialogData={type:"redirect_register",isShow:!0},this.openChooseStudent(1),this.chooseChildData.studentObjs=this.obj.studentObjs,this.chooseChildData.classObj=this.obj.classroomObj,this.selectChild=!0,this.normalFlow=!1;else if((null===(g=this.obj)||void 0===g?void 0:g.studentObj)&&1==this.obj.studentObj.isVerified)if(this.urlStudentId){let O=null===(L=null===(b=this.obj)||void 0===b?void 0:b.studentObjs)||void 0===L?void 0:L.filter(D=>D.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==O?void 0:O[0],studentObjs:null===(T=this.obj)||void 0===T?void 0:T.studentObjs,classroomObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.fillData(),this.selectChild=!1,this.normalFlow=!0;else if((null===(q=this.obj)||void 0===q?void 0:q.studentObj)&&0==this.obj.studentObj.isVerified)if(this.urlStudentId){let O=null===(G=null===(Q=this.obj)||void 0===Q?void 0:Q.studentObjs)||void 0===G?void 0:G.filter(D=>D.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==O?void 0:O[0],studentObjs:null===(Y=this.obj)||void 0===Y?void 0:Y.studentObjs,classroomObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(2),this.chooseChildData.studentObj=null===(H=this.dataProcess)||void 0===H?void 0:H.studentObj;else if(this.urlStudentId){let O=null===(B=null===(K=this.obj)||void 0===K?void 0:K.studentObjs)||void 0===B?void 0:B.filter(D=>D.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==O?void 0:O[0],studentObjs:null===($=this.obj)||void 0===$?void 0:$.studentObjs,classroomObj:null===(z=this.obj)||void 0===z?void 0:z.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(1),this.chooseChildData.studentObjs=null===(V=this.dataProcess)||void 0===V?void 0:V.studentObjs,this.chooseChildData.classObj=null===(h=this.dataProcess)||void 0===h?void 0:h.classroomObj;else if(null==(null===(M=this.obj)||void 0===M?void 0:M.studentObj))if(this.urlStudentId){let O=null===(_t=null===(k=this.obj)||void 0===k?void 0:k.studentObjs)||void 0===_t?void 0:_t.filter(D=>D.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==O?void 0:O[0],studentObjs:null===(ct=this.obj)||void 0===ct?void 0:ct.studentObjs,classroomObj:null===(dt=this.obj)||void 0===dt?void 0:dt.classroomObj,isPendingApproved:!1,isShow:!0}}else this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(1),this.chooseChildData.studentObjs=null===(mt=this.dataProcess)||void 0===mt?void 0:mt.studentObjs,this.chooseChildData.classObj=null===(ut=this.dataProcess)||void 0===ut?void 0:ut.classroomObj;else if(this.urlStudentId){let O=null===(gt=null===(pt=this.obj)||void 0===pt?void 0:pt.studentObjs)||void 0===gt?void 0:gt.filter(D=>D.id==this.urlStudentId);this.selectChild=!0,this.normalFlow=!1,this.openChooseStudent(3),this.chooseChildData={studentObj:null==O?void 0:O[0],studentObjs:null===(ht=this.obj)||void 0===ht?void 0:ht.studentObjs,classroomObj:this.obj.classroomObj,isPendingApproved:!1,isShow:!0}}else this.isPendingApproved=!1,this.selectChild=!1,this.fillData(),this.normalFlow=!0;else this.showErrorOvertime=!0,this.normalFlow=!0,this.selectChild=!1;this.successStatusObj()}else this.obj=null!==(ft=e.data)&&void 0!==ft?ft:{},this.errorStatusObj(null!==(wt=e.message)&&void 0!==wt?wt:"",!0)}),this.commonService.gaEvent("FrontHomework_GetObj")}convertObjToArray(e){let n=[];for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.push(e[i]);return n}addFileWithProsess(e){var n,i,r,s;e&&(this.isNotChangeData=!1,null===(n=this.answerFileList)||void 0===n||n.push(e));let d=null!==(r=null===(i=this.answerFileList)||void 0===i?void 0:i.length)&&void 0!==r?r:0;for(let p=0;p<d;p++)this.answerFileList&&!(null!==(s=this.answerFileList)&&void 0!==s&&s[p].lastModified)&&(this.answerFileList[p].lastModified=(new Date).getTime()),this.answerFileList&&!this.answerFileList[p].thumb&&(this.answerFileList[p].thumb=this.homeworkExamService.getThumbWithObj(this.answerFileList[p]));this.answerFileList&&this.answerFileList.length>0&&this.answerFileList.sort((p,f)=>p.lastModified&&f.lastModified?p.lastModified-f.lastModified:0)}removeImg(e){var n;let i=null===(n=this.answerFileList)||void 0===n?void 0:n.filter(r=>r.url!==e);this.answerFileList=i,this.isNotChangeData=!1}submitHomework(){var e,n,i,r,s,d;let p={homeworkHashId:null===(n=null===(e=this.obj)||void 0===e?void 0:e.homeworkObj)||void 0===n?void 0:n.hashId,studentId:this.currentChild.id,files:JSON.stringify(this.answerFileList)};if("[]"!=p.files){this.isSubmit=!1,this.statusObjData={loading:!0,errorStatus:-1,errorMessage:"",loadingMessage:""};let f=JSON.stringify({type:"homework",id:null===(r=null===(i=this.obj)||void 0===i?void 0:i.homeworkObj)||void 0===r?void 0:r.id,user:null===(d=null===(s=this.obj)||void 0===s?void 0:s.homeworkObj)||void 0===d?void 0:d.tenantId});this.frontAnswerService.apiFrontAnswerSaveObjPost(p,f).subscribe(w=>{var v;1==w.success?(this.localStorageObjetct.clearAllCache(),this.isSubmit=!0,this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.rawAnswerFileList=this.commonService.myClone(this.answerFileList),this.showSuccessSnack("lang_auto_ban_da_nop_bai_thanh_cong"),this.isNotChangeData=!0,this.hasResentComment=!1):(this.showErrorSnack(null!==(v=w.message)&&void 0!==v?v:""),this.statusObjData={loading:!1,errorStatus:-1,errorMessage:"",loadingMessage:""},this.isSubmit=!1)},w=>{this.logs.push("Err:"+w)})}else this.showErrorSnack("lang_auto_bai_lam_chua_day_du_vui_long_thu_lai");this.commonService.gaEvent("FrontHomework_SaveObj")}switchAttributeArray(e,n,i){var r,s,d;if(this.answerFileList&&(null===(r=this.answerFileList)||void 0===r?void 0:r.length)){if((null===(s=this.answerFileList)||void 0===s?void 0:s.length)<=n||this.answerFileList.length<=i||n<0||i<0)return;let p=this.castObj(this.answerFileList[n]);this.answerFileList[n]=null!==(d=this.castObj(this.answerFileList[i]))&&void 0!==d?d:{},this.answerFileList[i]=null!=p?p:{}}}switchAttributeArrayInput(e,n){var i,r;let s=Number(n)-1;s<=0?s=0:this.answerFileList&&s>=(null===(i=this.answerFileList)||void 0===i?void 0:i.length)&&(s=this.answerFileList.length),null===(r=this.answerFileList)||void 0===r||r.splice(s,0,this.answerFileList.splice(e,1)[0])}ngOnInit(){this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),(0,Zt.aj)([this.activeRoute.params,this.activeRoute.queryParams]).subscribe(([e,n])=>{var i,r,s;""!=this.commonService.getMyQueryParam("backto")&&(this.backToLink=null!==(i=this.commonService.getMyQueryParam("backto"))&&void 0!==i?i:"/student/dashboard/1");var d=null!==(r=this.commonService.getMyQueryParam("studentId"))&&void 0!==r?r:"0";this.urlStudentId=parseInt(d,10),this.homeworkHashId=null!==(s=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==s?s:"",this.getData()}),this.form=this.fb.group({file_data:new c.p4("",c.kI.required),file_capture:new c.p4("",c.kI.required),file:new c.p4("",c.kI.required)}),this.urlLocation=window.location.href,super.ngOnInit()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(c.QS),t.Y36(F.gz),t.Y36(R.v),t.Y36(vt._),t.Y36(Tt.t),t.Y36(St.L),t.Y36(X.WY),t.Y36(X.XL),t.Y36(X.Dn),t.Y36(Pt.$),t.Y36(xt.n),t.Y36(Ht.K),t.Y36(Ft.j))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-submit-homework"]],features:[t.qOj],decls:10,vars:6,consts:[[3,"headerTitle","headerBackTolink"],[1,"mt-3"],[1,"d-block"],[1,"container-fluid","mb-2","maxW1200",2,"min-height","calc(100vh - 300px)"],[4,"ngIf","ngIfElse"],["doneLoading",""],["class","alert alert-danger mt-3","role","alert",4,"ngIf"],[4,"ngIf"],[3,"data","closeDialog",4,"ngIf"],[1,"row","justify-content-center","py-5"],[1,"col-12","text-center"],[1,"alert","alert-danger"],["class","text-center mt-2 mb-2",4,"ngIf"],[3,"homeworkFlow","data","showAddStudent","selectChild","approvedByName"],[3,"data","confirmSend","closeDialog",4,"ngIf"],[1,"text-center","mt-2","mb-2"],["class","h5",4,"ngIf"],[1,"h5"],[2,"color","#00a7d0"],[1,"pt-1","pl-2",3,"fileName","linkUrl"],[3,"data","confirmSend","closeDialog"],[3,"data","closeDialog"],["Main",""],[3,"fileOption","closePreview"],["class","alert alert-danger mt-3",4,"ngIf","ngIfElse"],["Normal",""],[1,"alert","alert-danger","mt-3"],["Result",""],[1,"card-box"],[1,"row","top-row"],[1,"col-12","col-sm-6","text-white"],[1,"d-none","d-sm-block"],[1,"d-block","mb-2"],["class","d-block mb-2",4,"ngIf"],[1,"d-sm-none","mb-2"],["class","d-none d-sm-block text-right",4,"ngIf"],["class","d-sm-none",4,"ngIf"],[1,"description"],[1,"content-homework","pt-3",3,"innerHTML"],["class","files",4,"ngIf"],[1,"summitForm","pt-5","pb-5",3,"ngClass"],["class","form-horizontal text-center",3,"formGroup",4,"ngIf"],[1,"mt-20","text-center"],["class","col-sm-12",4,"ngIf"],[3,"dataAnswerHistory","dataHomeworkObj","previewFileEmit"],[1,"d-none","d-sm-block","text-right"],[1,"font-500"],[1,"d-sm-none"],[1,"files"],[1,"row","ml-0","mr-0"],["class","col-6 col-sm-4 col-md-3 col-lg-2 pl-0",4,"ngFor","ngForOf"],[1,"col-6","col-sm-4","col-md-3","col-lg-2","pl-0"],[1,"file"],["target","_blank",1,"dz-clickable",2,"margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px"],[1,"truncate",3,"title"],[1,"form-horizontal","text-center",3,"formGroup"],["class","h5 mb-3",4,"ngIf"],[1,"h5","mb-3"],[1,"text-danger"],["type","hidden","id","inp_hidden","formControlName","file_data",1,"form-control","file-input"],["class","row pl-3 pr-3",4,"ngIf"],["class","row ml-0 mr-0",4,"ngIf"],["class","text-center m-4",4,"ngIf"],["class","row ml-0 mr-0 mt-1 mb-1 pb-3 pt-3 attach-container",4,"ngIf"],[1,"row","pl-3","pr-3"],[1,"col-6","col-sm-6","col-md-6","col-lg-6","text-center","v-dragndrop","dropzone","dz-started"],["id","dropzone-3404",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],["id","select-upload-file",1,"align-self-center","select","dz-clickable"],["type","file","id","file_capture","multiple","","accept","image/*;capture=camera",1,"form-control","file-input",3,"change"],["fileCapture",""],["id","dropzone-3405",1,"px-4","py-3","rounded",2,"cursor","pointer",3,"click"],["type","file","id","file_select","multiple","",1,"form-control","file-input",3,"change"],["fileSelect",""],[1,"col-12"],[1,"alert","alert-danger","text-center"],[1,"text-center","m-4"],[1,"row","ml-0","mr-0","mt-1","mb-1","pb-3","pt-3","attach-container"],["class","col-6 col-sm-6 col-md-4 col-xl-2 col-lg-2",4,"ngFor","ngForOf"],[1,"col-6","col-sm-6","col-md-4","col-xl-2","col-lg-2"],[1,"h5","truncate"],[1,"progress"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",3,"ngStyle"],[1,"h5","text-success"],["class","col-12 col-sm-12 col-md-4 col-xl-3 col-lg-3",4,"ngFor","ngForOf"],[1,"col-12","col-sm-12","col-md-4","col-xl-3","col-lg-3"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px"],[1,"box_image_answer"],[1,"box_image_answer_content"],[2,"image-orientation","from-image",3,"src","click"],[1,"box_image_answer_control"],[1,"icon-prev"],["matTooltipPosition","below",1,"box_image_answer_pc",3,"matTooltip","click"],["matTooltipPosition","below",1,"box_image_answer_mobile",3,"matTooltip","click"],[1,"page-number",3,"ngStyle"],["type","number","min","1",1,"input-page","text-center",3,"id","max","value","keyup.enter","change"],["myInput",""],[1,"icon-next"],["class","notify-badge",3,"click",4,"ngIf"],["class","notify-badge notify-suss",4,"ngIf"],[1,"notify-badge",3,"click"],[1,"notify-badge","notify-suss"],[2,"color","rgb(26,188,0)"],["class","alert alert-danger text-center mt-2 ml-5 mr-5",4,"ngIf"],[3,"src","click"],[1,"alert","alert-danger","text-center","mt-2","ml-5","mr-5"],[1,"col-sm-12"],["mat-raised-button","","color","primary",2,"margin-top","20px",3,"disabled","click"],["role","status",1,"spinner-border","spinner-border-sm"],["mat-raised-button","","color","danger",2,"margin-top","20px",3,"disabled","click"],[1,"summitForm","pt-3","pb-3","pl-2","pr-2"],[1,"h5","ml-3","text-dark"],[3,"ngIf"],["class","alert alert-danger p-3 m-3",4,"ngIf"],["target","_blank",1,"dz-clickable",2,"display","flex","margin-top","3px","font-size","14px",3,"click"],[2,"font-size","20px","vertical-align","sub"],[2,"color","rgba(0, 167, 208, 1)","cursor","pointer",3,"click"],[1,"row","justify-content-between","mt-2",2,"margin","16px!important"],[1,"col-md-3","_col-left","text-center"],["class","mb-0",4,"ngIf"],[1,"col-md-8","_col-right"],[1,"h5","title"],["fontText",""],[1,"mb-0"],[3,"mark"],["class","content-homework pt-3 text-writing",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-bold",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-beautiful",3,"innerHTML",4,"ngIf"],["class","content-homework pt-3 text-writing-italy",3,"innerHTML",4,"ngIf"],[1,"content-homework","pt-3","text-writing",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-bold",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-beautiful",3,"innerHTML"],[1,"content-homework","pt-3","text-writing-italy",3,"innerHTML"],[1,"alert","alert-danger","p-3","m-3"],["role","alert",1,"alert","alert-danger","mt-3"],["href","javscript:void(0)",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,n){if(1&e&&(t._UZ(0,"header-frontend",0),t.TgZ(1,"div",1)(2,"div",2)(3,"div",3),t.YNc(4,we,1,0,"azt-loading-effect",4),t.YNc(5,Ho,4,4,"ng-template",null,5,t.W1O),t.qZA(),t.YNc(7,Fo,8,8,"div",6),t.YNc(8,qo,2,1,"div",6),t.qZA()(),t._UZ(9,"homework-frontend-footer")),2&e){const i=t.MAs(6);t.Q6J("headerTitle",n.currentChild||null!=n.obj&&null!=n.obj.classroomObj&&n.obj.classroomObj.name?null==n.obj||null==n.obj.classroomObj?null:n.obj.classroomObj.name:"")("headerBackTolink",n.backToLink),t.xp6(4),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",i),t.xp6(3),t.Q6J("ngIf",n.logs.length>0),t.xp6(1),t.Q6J("ngIf",n.isShowErrorsBox)}},dependencies:[A.mk,A.sg,A.O5,A.PC,et.lW,st.Hw,Lt.gM,c._Y,c.Fj,c.JJ,c.JL,c.sg,c.u,kt.Q,qt.d,It.p,Jt.P,Dt.x,Ot.B,Ut.o,Nt.M,Wt,ne,pe,fe,A.uU,P.bT,P.GT,P.QA,P.Ev],styles:[".card-box[_ngcontent-%COMP%]{width:100%;border:1px solid rgb(0,167,208);border-radius:3px}.top-row[_ngcontent-%COMP%]{background-color:#00a7d0;margin:0;padding:10px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-white[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.font-500[_ngcontent-%COMP%]{font-weight:500}.description[_ngcontent-%COMP%], .files[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#f2f2f2;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e5e5e5;border-left:0px;border-right:0px;border-radius:0/0px 0px 0px 0;border-radius:0/0px;box-shadow:none;padding:0 10px}.description[_ngcontent-%COMP%]{padding:10px 10px 0}.files[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{padding:10px 20px}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;vertical-align:super;max-width:70%}.students[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#fff;box-sizing:border-box;border-radius:3px;box-shadow:0 0 5px #00000010}.list-student[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer;background:inherit;background-color:#fafafa;box-sizing:border-box;border-width:1px;padding:10px 15px;border-style:solid;border-color:#e0e0e0;border-radius:3px;box-shadow:none;font-weight:400;font-style:bold;display:block}.v-dragndrop[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:rgba(27,171,161,.05);border:1px dashed #1baba1}.v-dragndrop[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:500;line-height:1.5}.pl-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.pr-4[_ngcontent-%COMP%], .px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pb-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pt-3[_ngcontent-%COMP%], .py-3[_ngcontent-%COMP%]{padding-top:1rem!important}.btn-warm-orange[_ngcontent-%COMP%]{background:#ff7f45;border:1px solid #ff7f45}.btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:hover{color:#fff}.btn[_ngcontent-%COMP%]{cursor:pointer;transition:0s}.text-dark-green[_ngcontent-%COMP%]{color:#1caba0!important}.d-block[_ngcontent-%COMP%]{display:block!important}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:80%;font-weight:400}.mt-20[_ngcontent-%COMP%]{margin-top:20px}.file-input[_ngcontent-%COMP%]{display:none}.dz-clickable[_ngcontent-%COMP%]{cursor:pointer;color:#007bff}.item[_ngcontent-%COMP%]{position:relative;display:inline-block}.notify-badge[_ngcontent-%COMP%]{position:absolute;right:-16px;top:3px;text-align:center;color:#afafaf;padding:0;font-size:20px;cursor:pointer}.notify-suss[_ngcontent-%COMP%]{right:auto;left:16px}.description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:15px}.flex-title[_ngcontent-%COMP%]{display:flex;align-items:center}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00a7d0;cursor:pointer;margin-left:5px}.flex-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;font-weight:500}.img-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;height:90px;width:90px;margin:0 0 10px 10px;border-radius:7px}.img-responsive[_ngcontent-%COMP%]{position:absolute;width:100%;height:auto;left:50%;top:50%;transform:translate(-50%,-50%)}.attach-container[_ngcontent-%COMP%]{margin:16px!important;background:#f1f1f1;padding:10px 0 0;border-radius:5px;border:1px solid #e8e8e8}.maxW1200[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}@font-face{font-family:font_chu_dep;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/HP0015HB.ttf)}@font-face{font-family:font_chu_in;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/Roboto-Thin.ttf)}@font-face{font-family:font_chu_in_nghieng;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-It.otf)}@font-face{font-family:font_chu_in_dam;src:url(https://cdn.jsdelivr.net/gh/azota889/storage_public/azota_assets/fonts/MyriadPro-BoldIt.otf)}.text-writing[_ngcontent-%COMP%]{font-family:font_chu_in!important;font-weight:700}.text-writing-beautiful[_ngcontent-%COMP%]{font-family:font_chu_dep!important}.text-writing-italy[_ngcontent-%COMP%]{font-family:font_chu_in_nghieng!important}.text-writing-bold[_ngcontent-%COMP%]{font-family:font_chu_in_dam!important}._col-left[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:35px}._col-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:5rem;color:#ff0024}._col-right[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;line-height:1.4;font-size:20px}._col-left_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;line-height:1;padding:10px}._col-left_result[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:3rem;color:#ff0024}._col-right_result[_ngcontent-%COMP%]{border:1px dashed #d3d5d8;background-color:#f1f1f1;position:relative;padding:10px}._col-right_result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:-10px;left:20px;background-color:#f1f1f1}._col-right_result[_ngcontent-%COMP%]   .content-homework[_ngcontent-%COMP%]{color:red;font-size:16px;line-height:1.4}.files[_ngcontent-%COMP%]{cursor:pointer}.testbank[_ngcontent-%COMP%]{padding-top:40px;text-align:left}.testbank__title[_ngcontent-%COMP%]{font-size:large;font-weight:500}.testbank_fileitem[_ngcontent-%COMP%]{display:flex;color:#00a7d0;margin-top:15px}.testbank_fileitem_icon[_ngcontent-%COMP%]{margin-right:5px}.testbank_fileitem_name[_ngcontent-%COMP%]{margin-right:10px}.testbank_fileitem_info_resualt[_ngcontent-%COMP%]{color:#000;font-weight:500;font-size:small;margin-right:15px}.testbank_fileitem_info_time[_ngcontent-%COMP%]{color:#9d9d9d}.testbank_fileitem_info_btn_submit[_ngcontent-%COMP%]{text-transform:uppercase;cursor:pointer;font-weight:500}.student_obj[_ngcontent-%COMP%]{padding:5px;min-height:69px}.margin_question_bar[_ngcontent-%COMP%]{margin-top:calc(2rem + 40px)!important}.select_class[_ngcontent-%COMP%]{background:inherit;background-color:#3c8dbc;box-sizing:border-box;border-radius:5px;box-shadow:none;color:#fff}.isSelected[_ngcontent-%COMP%]{border-color:#004f7b;border-width:2px;border-style:solid}.isDisabled[_ngcontent-%COMP%]{opacity:.6}.input-page[_ngcontent-%COMP%]{border:1px solid #03a7d0;border-radius:2px;width:50px}.input-page[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-page[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}@media (max-width: 768px){.dropzone[_ngcontent-%COMP%]{min-width:100px}._col-left[_ngcontent-%COMP%], ._col-left_result[_ngcontent-%COMP%]{margin-bottom:20px}.testbank_fileitem[_ngcontent-%COMP%]{flex-wrap:wrap}}@media (max-width: 576px){.flex-title[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.flex-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-top:5px;margin-left:0}}.box_image_answer[_ngcontent-%COMP%]{transform:all .2s}.box_image_answer_content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;border:1px solid #03a7d0}.box_image_answer_control[_ngcontent-%COMP%]{background:white;width:100%;border:1px solid #03a7d0;border-top:none;display:flex;justify-content:space-evenly;align-items:center;cursor:default}.box_image_answer_control[_ngcontent-%COMP%]   .icon-prev[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .page-number[_ngcontent-%COMP%]{border-left:1px solid #03a7d0;border-right:1px solid #03a7d0;background:#ecf0f4}.box_image_answer_control[_ngcontent-%COMP%]   .icon-next[_ngcontent-%COMP%]{cursor:pointer}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:block}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_pc[_ngcontent-%COMP%]{display:none}.box_image_answer_control[_ngcontent-%COMP%]   .box_image_answer_mobile[_ngcontent-%COMP%]{display:block}}"]}),o})();var Jo=a(41752),Do=a(69287),at=a(92181);function Uo(o,l){if(1&o&&(t.TgZ(0,"h4",12),t._uU(1),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.AsE(" ",null==e.result||null==e.result.studentObj?null:e.result.studentObj.fullName,", ",null==e.result||null==e.result.classroomObj?null:e.result.classroomObj.name," ")}}function No(o,l){1&o&&t._UZ(0,"azt-loading-effect")}function Qo(o,l){if(1&o&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2),t.ALo(3,"mytranslate"),t.qZA()()),2&o){const e=t.oxw(2);t.xp6(2),t.Oqu(t.lcZ(3,1,e.errorMessage))}}function Yo(o,l){if(1&o&&(t.TgZ(0,"div",18),t._UZ(1,"iframe",19),t.ALo(2,"safe"),t.qZA()),2&o){const e=t.oxw(2);t.xp6(1),t.Q6J("src",t.lcZ(2,1,e.iframeSrc),t.uOi)}}function zo(o,l){if(1&o&&(t.TgZ(0,"div")(1,"div",13),t.YNc(2,Qo,4,3,"div",14),t.qZA()(),t.YNc(3,Yo,3,3,"div",15)),2&o){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",""!=e.errorMessage),t.xp6(1),t.Q6J("ngIf",""==e.errorMessage)}}let yt=(()=>{class o extends J.Q{constructor(e,n,i,r,s,d,p){super(r),this.activeRoute=e,this.frontAnswerService=n,this.frontAnswerHistoryService=i,this.commonService=r,this.cdnService=s,this.zipdataService=d,this.envService=p,this.homeworkHashId="",this.isMarked=!1,this.jsonData={},this.iframeSrc="",this.backToLink="",this.files=[],this.handleIframe=f=>{var w,v,C,j,y,m,_,x,u,g,b,L,T,q,Q;if("MNoteLoadComplete"==f.data){const G=document.getElementById("mNote"),Y=G?G.contentWindow:null;if(null!==Y){let H=null!==(w=this.result)&&void 0!==w&&w.hasOwnProperty("answerObj")&&null!==(v=this.castObj(this.result.answerObj))&&void 0!==v?v:{};if(null!==(C=this.result)&&void 0!==C&&C.hasOwnProperty("answerObj")){let h=this.commonService.willDeleteParseJson(null!==(j=null==H?void 0:H.result)&&void 0!==j?j:"");if(null!=h){for(let k=0;k<h.pages.length;k++)h.pages[k].backgroundImage&&(h.pages[k].backgroundImage=this.cdnService.getMyCdn(h.pages[k].backgroundImage)),h.pages[k].draw&&(h.pages[k].draw=this.cdnService.getMyCdn(h.pages[k].draw));h=JSON.stringify(h),H.result=h}let M=this.commonService.willDeleteParseJson(null!==(y=H.files)&&void 0!==y?y:"");if(null!=M){for(let k=0;k<M.length;k++)M[k].url&&(M[k].url=this.cdnService.getMyCdn(M[k].url)),M[k].thumb&&(M[k].thumb=this.cdnService.getMyCdn(M[k].thumb));M=JSON.stringify(M),H.files=M}}let K=null!==(m=this.result)&&void 0!==m&&m.hasOwnProperty("studentObj")?this.result.studentObj:{},B=null!==(_=this.result)&&void 0!==_&&_.hasOwnProperty("classroomObj")?this.result.classroomObj:{},$=null!==(x=this.result)&&void 0!==x&&x.hasOwnProperty("homeworkObj")?this.result.homeworkObj:{},z=this.commonService.willDeleteParseJson(null!==(u=H.result)&&void 0!==u?u:""),V=!(!z||!z.hasOwnProperty("hideMark"))&&z.hideMark;if(this.jsonData&&this.jsonData.hasOwnProperty("pages"))for(let h=0;h<(null!==(b=null===(g=this.jsonData.pages)||void 0===g?void 0:g.length)&&void 0!==b?b:0);h++)!(null===(L=this.jsonData.pages)||void 0===L)&&L[h].hasOwnProperty("backgroundImage")&&(this.jsonData.pages[h].backgroundImage=this.cdnService.getMyCdn(null!==(T=this.jsonData.pages[h].backgroundImage)&&void 0!==T?T:"")),null!==(q=this.jsonData.pages)&&void 0!==q&&q[h].hasOwnProperty("draw")&&(this.jsonData.pages[h].draw=this.cdnService.getMyCdn(null!==(Q=this.jsonData.pages[h].draw)&&void 0!==Q?Q:""));if(this.isMarked)this.jsonData.cmd="initMNote",this.jsonData.mode="view",this.jsonData.answer_obj=H,this.jsonData.student_obj=K,this.jsonData.classroom_obj=B,this.jsonData.homework_obj=$,this.jsonData.hideMark=V,Y.postMessage(this.jsonData,"*");else{let h=[];this.files.forEach(M=>{h.push({backgroundImage:M.url})}),Y.postMessage({cmd:"initMNote",pages:h,answer_obj:H,student_obj:K,classroom_obj:B,homework_obj:$,mode:"view",hideMark:V},"*")}}}}}goBack(){this.commonService.myNavigation(""!=this.backToLink&&null!=this.backToLink?this.backToLink:"/bai-tap/"+this.homeworkHashId)}fillData(e){var n,i,r,s,d,p,f,w,v,C,j,y;if(e){if(this.zipdataService.convertSubmittedAnswersHistoryObj(null===(n=e.data)||void 0===n?void 0:n.answerObj),this.result=e.data,this.files=null!==(d=this.commonService.myParseJson(null!==(s=null===(r=null===(i=e.data)||void 0===i?void 0:i.answerObj)||void 0===r?void 0:r.files)&&void 0!==s?s:""))&&void 0!==d?d:[],null!==this.files)for(let _=0;_<this.files.length;_++)this.files&&(this.files[_].url=this.cdnService.getMyCdn(null!==(p=this.files[_].url)&&void 0!==p?p:""),this.files[_].thumb=this.cdnService.getMyCdn(null!==(f=this.files[_].thumb)&&void 0!==f?f:""));if(null!==(v=null===(w=e.data)||void 0===w?void 0:w.answerObj)&&void 0!==v&&v.confirmedAt){this.isMarked=!0;var m=this.commonService.myParseJson(this.cdnService.getMyCdn(null!==(y=null===(j=null===(C=null==e?void 0:e.data)||void 0===C?void 0:C.answerObj)||void 0===j?void 0:j.result)&&void 0!==y?y:""));m&&(this.jsonData=m,null===this.jsonData&&(this.isMarked=!1))}}}getData(e,n){this.initStatusObj(),this.errorMessage="",n?this.frontAnswerHistoryService.apiFrontAnswerHistoryGetObjGet(this.homeworkHashId,n).subscribe(i=>{var r;1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(null!==(r=i.message)&&void 0!==r?r:"",!0),this.errorMessage=null==i?void 0:i.message)}):this.frontAnswerService.apiFrontAnswerGetObjGet(this.homeworkHashId,e).subscribe(i=>{var r;1==i.success?(this.fillData(i),this.successStatusObj()):(this.errorStatusObj(null!==(r=i.message)&&void 0!==r?r:"",!0),this.errorMessage=i.message)})}copyLinkToClipboard(){const e=this.getMyParam(this.activeRoute,"id");return`${location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")}/en/admin/homework/mark-exercise/${e}/${this.homeworkHashId}`}showCopySuccess(){this.commonService.snackSuccess("Sao ch\xe9p th\xe0nh c\xf4ng","")}ngAfterViewInit(){window.addEventListener("message",this.handleIframe)}ngOnInit(){var e,n,i,r,s;this.iframeSrc=null!==(e=this.envService.getEnvValue("classliveUrl"))&&void 0!==e?e:"";let d=null!==(n=this.commonService.getMyParam(this.activeRoute,"id"))&&void 0!==n?n:"";const p=parseInt(d,10);if(this.homeworkHashId=null!==(i=this.commonService.getMyParam(this.activeRoute,"hash_id"))&&void 0!==i?i:"",this.backToLink=null!==(r=this.commonService.getMyQueryParam("backto"))&&void 0!==r?r:"",this.commonService.getMyParam(this.activeRoute,"history_id")){let f=null!==(s=this.commonService.getMyParam(this.activeRoute,"history_id"))&&void 0!==s?s:"";const w=parseInt(f,10);this.getData(p,w)}else this.getData(p);this.commonService.translateMetaData({title:"lang_cms_student_view_excercise_title",description:"lang_cms_student_view_excercise_description",image:"lang_cms_test_image"}),super.ngOnInit()}ngOnDestroy(){window.removeEventListener("message",this.handleIframe),super.ngDestroy()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(F.gz),t.Y36(X.XL),t.Y36(X.ln),t.Y36(R.v),t.Y36(jt.U),t.Y36(xt.n),t.Y36(Jo.D))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-view-exercise"]],features:[t.qOj],decls:20,vars:11,consts:[["id","markContainer",1,"maxW1000","pt-3"],[1,"row","titleRow"],[1,"col","center-row"],["mat-button","",3,"title","click"],[1,"col","center-row",2,"justify-content","center"],["class","studentInfo","style","padding-right: 10px;",4,"ngIf"],[1,"col","center-row",2,"justify-content","flex-end"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"cdkCopyToClipboard","click"],[4,"ngIf","ngIfElse"],["doneLoading",""],[1,"studentInfo",2,"padding-right","10px"],[1,"row","justify-content-center","py-5"],["class","col-12 text-center",4,"ngIf"],["class","card-box listPhotos","style","overflow : hidden",4,"ngIf"],[1,"col-12","text-center"],[1,"alert","alert-danger"],[1,"card-box","listPhotos",2,"overflow","hidden"],["id","mNote","frameborder","0",2,"width","100%","height","100%",3,"src"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon",3),t.NdJ("click",function(){return n.goBack()}),t.ALo(4,"mytranslate"),t._uU(5,"keyboard_arrow_left"),t.qZA()(),t.TgZ(6,"div",4),t.YNc(7,Uo,2,2,"h4",5),t.qZA(),t.TgZ(8,"div",6)(9,"button",7)(10,"mat-icon"),t._uU(11,"more_vert"),t.qZA()(),t.TgZ(12,"mat-menu",null,8)(14,"button",9),t.NdJ("click",function(){return n.showCopySuccess()}),t._uU(15),t.ALo(16,"mytranslate"),t.qZA()()()(),t.YNc(17,No,1,0,"azt-loading-effect",10),t.YNc(18,zo,4,2,"ng-template",null,11,t.W1O),t.qZA()),2&e){const i=t.MAs(13),r=t.MAs(19);t.xp6(3),t.s9C("title",t.lcZ(4,7,"lang_auto_quay_lai")),t.xp6(4),t.Q6J("ngIf",null==n.result?null:n.result.answerObj),t.xp6(2),t.Q6J("matMenuTriggerFor",i),t.xp6(5),t.Q6J("cdkCopyToClipboard",n.copyLinkToClipboard()),t.xp6(1),t.Oqu(t.lcZ(16,9,"lang_homework_homework_frontend_utils_copy_send_teacher")),t.xp6(2),t.Q6J("ngIf",n.statusObj.loading)("ngIfElse",r)}},dependencies:[A.O5,Do.i3,et.lW,st.Hw,at.VK,at.OP,at.p6,kt.Q,P.bT,P.yl],styles:["#markContainer[_ngcontent-%COMP%]{position:relative}.center-row[_ngcontent-%COMP%]{display:flex;align-items:center}.titleRow[_ngcontent-%COMP%]{background-color:#00a7d0;height:40px;margin:0;color:#fff}.titleRow[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:hover{cursor:pointer}.titleRow[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:0;font-weight:500;font-size:16px;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;display:-webkit-box}.titleRow[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-right:5px}button[_ngcontent-%COMP%]{border:none}.listPhotos[_ngcontent-%COMP%]{width:100%;position:fixed;top:40px;bottom:0}.file[_ngcontent-%COMP%]{border-width:0px;background:inherit;background-color:#f2f2f2;box-sizing:border-box;border-width:1px;border-style:solid;border-color:#e5e5e5;border-left:0px;border-right:0px;border-radius:0;box-shadow:none}.file[_ngcontent-%COMP%]:first-child{margin-top:52px}.file[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.back[_ngcontent-%COMP%]{padding:15px 10px}.back-to[_ngcontent-%COMP%]{color:#fff;display:flex}.back-to[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-bottom:10px}.block[_ngcontent-%COMP%]{padding-top:2px}.mat-expansion-indicator[_ngcontent-%COMP%]:after{color:#fff!important}.add-click[_ngcontent-%COMP%]{display:flex}.add-icon[_ngcontent-%COMP%]{margin-top:5px}.file-custom[_ngcontent-%COMP%]{margin-top:6px}.description__share[_ngcontent-%COMP%]{margin-top:10px}.description__share[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#666;margin-right:15px;padding:5px 10px 0}.row-check[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px 0}.col-check[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}.exercise[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:25px 0 15px;border-bottom:1px solid #eee}.btn-custom[_ngcontent-%COMP%]{background-color:#f39c12;color:#fff;border-radius:5px;padding:10px 25px}.files-custom[_ngcontent-%COMP%]{margin:0}.btn-share[_ngcontent-%COMP%]{border:1px solid #eee}.score-exercise[_ngcontent-%COMP%]{background-color:#ea3d19;border-radius:50%;padding:3px 5px 3px 7px;color:#fff;font-weight:600;margin:0 10px}#listNumber[_ngcontent-%COMP%]{display:contents}#markNumber[_ngcontent-%COMP%]{position:absolute;top:40px;right:50%;z-index:9;margin-right:-60px;color:#fff;text-transform:uppercase;width:120px}@media (min-width: 1000px){.mark-edit[_ngcontent-%COMP%]{width:250px}.file[_ngcontent-%COMP%]:first-child{margin-top:0}.listPhotos[_ngcontent-%COMP%]{width:1000px}}"]}),o})();const Eo=[{path:"",component:At,canActivate:[N.J],children:[{path:":hash_id",component:Io},{path:"view-homework/:id/:hash_id",component:yt},{path:"view-homework/:id/:hash_id/:history_id",component:yt}]}];let Ro=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[F.Bz.forChild(Eo),F.Bz,Z.fQ]}),o})(),Go=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[F.Bz,A.ez,I.j,it.Z_,c.u5,c.UX,nt.Is,E.Z,lt.xC,Ro,rt.QG,U.W]}),o})()}}]);